<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-backends/lumen-app-email">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="conjoon RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="conjoon Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="conjoon JSON Feed"><title data-rh="true">üö™ lumen-app-email | conjoon</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://conjoon.org/docs/api/backends/@conjoon/lumen-app-email"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="üö™ lumen-app-email | conjoon"><meta data-rh="true" name="description" content="Backend service for IMAP/SMTP email messaging."><meta data-rh="true" property="og:description" content="Backend service for IMAP/SMTP email messaging."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://conjoon.org/docs/api/backends/@conjoon/lumen-app-email"><link data-rh="true" rel="alternate" href="https://conjoon.org/docs/api/backends/@conjoon/lumen-app-email" hreflang="en"><link data-rh="true" rel="alternate" href="https://conjoon.org/docs/api/backends/@conjoon/lumen-app-email" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c5e8305c.css">
<link rel="preload" href="/assets/js/runtime~main.76cf9d93.js" as="script">
<link rel="preload" href="/assets/js/main.215f471c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" style="background-color:#a2ff00;color:#000000" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">‚≠êÔ∏èIf you like conjoon, give it a star on <a target="_blank" href="https://github.com/conjoon/conjoon/">GitHub</a> and follow us on <a target="_blank" href="https://twitter.com/conjoon">Twitter <img src="/img/logos/twitter.svg"></a></div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logos/conjoon.png" alt="conjoon" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logos/conjoon.png" alt="conjoon" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title text--truncate">conjoon</b></a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/conjoon.conf.json">API</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" target="demo" href="/demo/index.html">Demo</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/conjoon" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://conjoon.stoplight.io/docs/rest-api-description/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-stoplight-link" aria-label="REST API docs"></a><div class="searchBox_dLyj"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj menuWithAnnouncementBar_l2a_"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/conjoon.conf.json">conjoon.conf.json</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/api/packages">Packages</a><button aria-label="Toggle the collapsible sidebar category &#x27;Packages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/api/plugins">Plugins</a><button aria-label="Toggle the collapsible sidebar category &#x27;Plugins&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/api/themes">Themes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Themes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/api/backends">Backends</a><button aria-label="Toggle the collapsible sidebar category &#x27;Backends&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/api/backends/@conjoon/lumen-app-email">üö™ lumen-app-email</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/backends/@conjoon/ddev-ms-email">üö™ ddev-ms-email</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/api/rest-api">Backend API</a><button aria-label="Toggle the collapsible sidebar category &#x27;Backend API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/api/misc/@conjoon/create-conjoon">Miscellaneous</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_FykI"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_DTRl"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/api/backends"><span itemprop="name">Backends</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">üö™ lumen-app-email</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>üö™ lumen-app-email</h1></header><p>Backend service for IMAP/SMTP email messaging.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-is-lumen-app-email">What is lumen-app-email?<a class="hash-link" href="#what-is-lumen-app-email" title="Direct link to heading">‚Äã</a></h2><p><strong>conjoon/lumen-app-email</strong> is a standalone <strong>PHPüêò</strong> application built with <a href="https://lumen.laravel.com" target="_blank" rel="noopener noreferrer">Lumen</a>.
It provides a backend for Email messaging according to <a href="https://github.com/conjoon/rest-api-description" target="_blank" rel="noopener noreferrer">https://github.com/conjoon/rest-api-description</a>
and serves endpoints for reading, writing and sending email messages with <strong>IMAP</strong>/<strong>SMTP</strong>.</p><p><strong>lumen-app-email</strong> has minimal footprint and is easy to install.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="installation">Installation<a class="hash-link" href="#installation" title="Direct link to heading">‚Äã</a></h2><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">composer</span><span class="token plain"> create-project conjoon/lumen-app-email htdocs </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;1.*&quot;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>If you&#x27;re looking for a pre-configured environment for running an instance of <strong>lumen-app-email</strong>, <a href="/docs/api/backends/@conjoon/ddev-ms-email"><strong>we might have just the
right thing for you üëâ</strong></a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="features">Features<a class="hash-link" href="#features" title="Direct link to heading">‚Äã</a></h2><p><strong>lumen-app-email</strong> follows a service oriented approach.
Services are easily replacable with the help of upfront DI configurations and related bindings.</p><p><strong>Use lumen-app-email, if you...</strong></p><ul><li>need a fully functional middleware for communicating with IMAP / SMTP servers</li><li>want to provide webmail solutions with domain-specific sign-in to IMAP accounts</li><li>are looking for a distribution with minimal footprint and easy setup</li><li>require a headless, service oriented standalone application with your infrastructure</li></ul><p><strong>do not use lumen-app-email, if you...</strong></p><ul><li>are looking for a stateful, session based webmail backend</li><li>need baked-in caching</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="api-examples">API Examples<a class="hash-link" href="#api-examples" title="Direct link to heading">‚Äã</a></h2><div class="language-http codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-http codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Return a list of available MailAccounts for the requesting client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GET /MailAccounts HTTP/1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Content-Type: application/json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Authorization: Basic Y29uam9vbjpIZWxsb1dvcmxk</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Host: hostname</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Return the envelope data of the first 50 MessageItems w/o previewText of the INBOX mailbox</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># for the MailAccount identified by &quot;gmail&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GET /MailAccounts/gmail/MailFolders/INBOX/MessageItems?start=0&amp;limit=50&amp;attributes=*,previewText HTTP/1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Content-Type: application/json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Authorization: Basic Y29uam9vbjpIZWxsb1dvcmxk</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Host: hostname</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Return the email identified with the uid 4356 of the INBOX mailbox for the MailAccount identified by &quot;gmail&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GET /MailAccounts/gmail/MailFolders/INBOX/MessageItems/4356 HTTP/1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Content-Type: application/json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Authorization: Basic Y29uam9vbjpIZWxsb1dvcmxk</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Host: hostname</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="installation-1">Installation<a class="hash-link" href="#installation-1" title="Direct link to heading">‚Äã</a></h2><p>The recommended way to install <strong>lumen-app-email</strong> is by using <code>composer create-project</code>:</p><p><code>composer create-project {packageName} {targetDirectory} {version}</code></p><p>The following command will install an instance of <strong>lumen-app-email</strong> along with its dependencies into the directory
<code>htdocs</code> relative to the current working directory:</p><div class="language-shell codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-shell codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">composer</span><span class="token plain"> create-project conjoon/lumen-app-email htdocs </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;1.*&quot;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once <code>composer</code> has finished downloading and installing the project, the <code>post-create-project-cmd</code> will automatically invoke
<code>php artisan install</code>, the installation script for <strong>lumen-app-email</strong>. Please refer to the subsequent documentation for
further details about the configuration options available:</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="available-cli-commands">Available CLI commands<a class="hash-link" href="#available-cli-commands" title="Direct link to heading">‚Äã</a></h3><p>One <strong>lumen-app-email</strong> was installed with <code>composer</code>, you can use <a href="https://laravel.com/docs/artisan" target="_blank" rel="noopener noreferrer">Artisan</a> to interact with this
instance using the CLI.</p><p>Change the directory to your installation of <strong>lumen-app-email</strong> and type</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ php artisan list</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>to get a list of all commands available with this installation.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="commands">Commands<a class="hash-link" href="#commands" title="Direct link to heading">‚Äã</a></h4><p>The following CLI commands are available for an instance of <strong>lumen-app-email</strong>:</p><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><a href="#install">install</a></td><td>Starts the installation process</td></tr><tr><td><a href="#configureurl">configure:url</a></td><td>Configure URL where this instance is available</td></tr><tr><td><a href="#configureapi">configure:api</a></td><td>Configure API paths</td></tr><tr><td><a href="#configureenv">configure:env</a></td><td>Specify the environment this instance runs in</td></tr><tr><td><a href="#configuredebug">configure:debug</a></td><td>Enable or disable debug mode</td></tr><tr><td><a href="#copyconfig">copyconfig</a></td><td>Activate pre-defined configuration templates for this instance</td></tr></tbody></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Configuration settings collected by the various scripts can be found in the dotenv-file <code>.env</code> in the root-directory of the installation.
The file can also be edited manually with the key/value pairs described in this document.</p></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="install"><code>install</code><a class="hash-link" href="#install" title="Direct link to heading">‚Äã</a></h4><p>Starts the installation process and queues through the <a href="#commands">commands</a> to collect all necessary information for configuring
this instance. The command can also be invoked with already installed instances of <strong>lumen-app-email</strong>.</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ php artisan </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="configureurl"><code>configure:url</code><a class="hash-link" href="#configureurl" title="Direct link to heading">‚Äã</a></h4><p>Specify the URL of the server where this instance is located, along with the path to the installation directory of <strong>lumen-app-email</strong>.</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ php artisan configure:url</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="dotenv-key">dotenv key<a class="hash-link" href="#dotenv-key" title="Direct link to heading">‚Äã</a></h5><p><code>APP_URL</code></p><ul><li>Type: <code>String</code></li><li>Default: <code>https://ddev-ms-email.ddev.site</code></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="example">Example<a class="hash-link" href="#example" title="Direct link to heading">‚Äã</a></h4><p>The machine&#x27;s URL serving this instance is</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">https://localhost:8080</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The URI of <strong>lumen-app-email</strong> on this machine is</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">/lumen-app-email/htdocs</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>the value of this setting must therefore be</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">https://localhost:8080/lumen-app-email/htdocs</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="configureapi"><code>configure:api</code><a class="hash-link" href="#configureapi" title="Direct link to heading">‚Äã</a></h3><p>Specify the paths to the APIs exposed by this instance.</p><p><strong>lumen-app-email</strong> provides an <em>auth</em>-Service and an <em>email</em>-Service. The <em>auth</em>-Service is required for
authenticating against the <strong>IMAP</strong>/<strong>SMTP</strong> servers the <em>email</em>-Service will connect to.</p><p>These settings provide the base-paths to the endpoints the services expose.</p><p>This instance will consider any path-segments representing the required API-Version
path appended to the path automatically.</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ php artisan configure:api</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="dotenv-key-1">dotenv key<a class="hash-link" href="#dotenv-key-1" title="Direct link to heading">‚Äã</a></h5><p><code>APP_EMAIL_PATH</code></p><ul><li>Type: <code>String</code></li><li>Default: <code>rest-api-email</code></li></ul><p>The path to the <em>email</em>-Service.</p><p><code>APP_AUTH_PATH</code></p><ul><li>Type: <code>String</code></li><li>Default: <code>rest-imapuser</code></li></ul><p>The path to the <em>auth</em>-Service.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="example-1">Example<a class="hash-link" href="#example-1" title="Direct link to heading">‚Äã</a></h4><p><strong>lumen-app-email</strong> is available at</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">https://localhost:8080/lumen-app-email/htdocs</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>APP_EMAIL_PATH</code> is configured with</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">api/rest-api-email</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Endpoints for this service can then be found at</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">https://localhost:8080/lumen-app-email/htdocs/api/rest-api-email</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Additionally, clients can require different versions for this API by appending a version tag to this
URL as a path segment:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">https://localhost:8080/lumen-app-email/htdocs/api/rest-api-email/v2</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Omitting a version in the URL will default to the latest version of this API available.</p><p>The same applies to the <code>APP_AUTH_PATH</code> setting.</p><p>Refer to the <a href="https://www.conjoon.org/docs/api/rest-api" target="_blank" rel="noopener noreferrer">Backend API documentation</a> for all available API endpoints.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="configureenv"><code>configure:env</code><a class="hash-link" href="#configureenv" title="Direct link to heading">‚Äã</a></h3><p>Specify the environment this instance is used in.</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ php artisan configure:env</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="dotenv-key-2">dotenv key<a class="hash-link" href="#dotenv-key-2" title="Direct link to heading">‚Äã</a></h5><p><code>APP_ENV</code></p><ul><li>Type: <code>String</code></li><li>Default: <code>production</code></li></ul><p>When using <strong>lumen-app-email</strong> other than on a local machine, set this to <code>production</code>. For development
or staging, this value can be set to an arbitrary value for branching into different functionality
for these environments, if required.</p><p>Note:
This is a setting introduced by <strong>Laravel</strong>. Refer to its <a href="https://laravel.com/docs/configuration#determining-the-current-environment" target="_blank" rel="noopener noreferrer">documentation</a> for further information.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="configuredebug"><code>configure:debug</code><a class="hash-link" href="#configuredebug" title="Direct link to heading">‚Äã</a></h3><p>Enable/disable debug mode for this instance.</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ php artisan configure:debug</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="dotenv-key-3">dotenv key<a class="hash-link" href="#dotenv-key-3" title="Direct link to heading">‚Äã</a></h5><p><code>APP_DEBUG</code></p><ul><li>Type: <code>Boolean</code></li><li>Default: <code>false</code></li></ul><p>For local development, set this to <code>true</code>. In <code>production</code>, this should be set to <code>false</code>, otherwise your risking to expose
sensitive information to clients.</p><p>Note:
This is a setting introduced by <strong>Laravel</strong>. Refer to its <a href="https://laravel.com/docs/configuration#debug-mode" target="_blank" rel="noopener noreferrer">documentation</a> for further information.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="copyconfig"><code>copyconfig</code><a class="hash-link" href="#copyconfig" title="Direct link to heading">‚Äã</a></h3><p>Copies default configuration and saves them under a name this instance requires.</p><p>This command processes configuration files located in <code>app/config</code>.</p><p><code>copyconfig</code> will probe existing configuration files and require user interaction before it accidentally
overwrites them.</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ php artisan copyconfig</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The following configuration files are affected by this command:</p><table><thead><tr><th>Template</th><th>Target</th><th>Description</th></tr></thead><tbody><tr><td><code>cors.example.php</code></td><td><code>cors.php</code></td><td>Cross-Origin Resource Sharing configuration</td></tr><tr><td><code>imapserver.example.php</code></td><td><code>imapserver.php</code></td><td>Configuration for Email servers this instance may connect to</td></tr></tbody></table><p>Once the files where copied, you should adjust the settings found therein to your needs.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="configuring-cors">Configuring CORS<a class="hash-link" href="#configuring-cors" title="Direct link to heading">‚Äã</a></h3><p><strong>lumen-app-email</strong> uses <a href="https://github.com/fruitcake/laravel-cors" target="_blank" rel="noopener noreferrer">fruitcake/laravel-cors</a> for enabling
<a href="http://enable-cors.org/" target="_blank" rel="noopener noreferrer">Cross-Origin Resource Sharing</a>.</p><br>A configuration template can be found in `app/config/cors.php.example`.<br>Copy this file to `app/config/cors.php`, and adjust the settings to your needs. The example configuration works well with development environments, but you might want to add more strict options for production, auch as the settings for `allowed_origins` and `paths`.<div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><a href="#copyconfig"><code>php artisan copyconfig</code></a> can be used for automatically copying the configuration template
<code>cors.example.php</code> to its target destination. If you choose to manually work with the template, copy and rename it
to <code>cors.php</code>, then adjust its entries.</p></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="options">Options<a class="hash-link" href="#options" title="Direct link to heading">‚Äã</a></h4><p>The options available for the cors configuration are as follows:</p><table><thead><tr><th>Option</th><th>Description</th><th>Default value</th></tr></thead><tbody><tr><td>paths</td><td>You can enable CORS for 1 or multiple paths, eg. <code>[&#x27;api/*&#x27;] </code></td><td><code>[]</code></td></tr><tr><td>allowed_origins</td><td>Matches the request origin. Wildcards can be used, eg. <code>*.mydomain.com</code> or <code>mydomain.com:*</code></td><td><code>[&#x27;*&#x27;]</code></td></tr><tr><td>allowed_origins_patterns</td><td>Matches the request origin with <code>preg_match</code>.</td><td><code>[]</code></td></tr><tr><td>allowed_methods</td><td>Matches the request method.</td><td><code>[&#x27;*&#x27;]</code></td></tr><tr><td>allowed_headers</td><td>Sets the Access-Control-Allow-Headers response header.</td><td><code>[&#x27;*&#x27;]</code></td></tr><tr><td>exposed_headers</td><td>Sets the Access-Control-Expose-Headers response header.</td><td><code>false</code></td></tr><tr><td>max_age</td><td>Sets the Access-Control-Max-Age response header.</td><td><code>0</code></td></tr><tr><td>supports_credentials</td><td>Sets the Access-Control-Allow-Credentials header.</td><td><code>false</code></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_mojV" id="imap-server-configurations">IMAP server configurations<a class="hash-link" href="#imap-server-configurations" title="Direct link to heading">‚Äã</a></h3><p>In order for users to authenticate against IMAP servers, <code>lumen-app-email</code> provides a template-configuration file in <code>app/config/imapserver.php.example</code>.
In this file, you can specify an array of mail server configurations. Each entry represents a mail server to which connection may be established, for both sending and receiving messages.</p><p>Note:
<a href="#copyconfig"><code>php artisan copyconfig</code></a> can be used for automatically copying the configuration template
<code>imapserver.example.php</code> to its target destination. If you choose to manually work with the template, copy and rename it
to <code>imapserver.php</code>, then adjust its entries.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="entry-details">Entry Details<a class="hash-link" href="#entry-details" title="Direct link to heading">‚Äã</a></h4><div class="language-php codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-php codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;id&quot;              =&gt; &quot;Google_Mail&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;inbox_type&quot;      =&gt; &quot;IMAP&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;inbox_address&quot;   =&gt; &#x27;imap.gmail.com&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;inbox_port&quot;      =&gt; 993,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;inbox_ssl&quot;       =&gt; true,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;outbox_address&quot;  =&gt; &quot;smtp.gmail.com&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;outbox_port&quot;     =&gt; 465,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;outbox_secure&quot;   =&gt; &quot;ssl&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;root&quot;            =&gt; [&quot;INBOX&quot;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;match&quot;           =&gt; [&quot;/\@(googlemail.)(com)$/mi&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code>:<em>string</em></td><td>required for identifying the mail account. <strong>MUST</strong> be unique in the configuration file. Will be refered to as <code>mailAccountId</code> throughout <a href="https://conjoon.stoplight.io/docs/rest-api-description" target="_blank" rel="noopener noreferrer">rest-api-email</a>.</td></tr><tr><td></td><td><strong>IMAP Settings</strong></td></tr><tr><td><code>inbox_type</code>:<em>string</em></td><td>the protocol used with the server for receiving messages. Right now, only <strong>IMAP</strong> is supported.</td></tr><tr><td><code>inbox_address</code>:<em>string</em></td><td>(ip-)address of the server</td></tr><tr><td><code>inbox_port</code>:<em>integer</em></td><td>port that should be used with <code>inbox_address</code> for server communication</td></tr><tr><td><code>inbox_ssl</code>:<em>boolean</em></td><td>use encrypted communication with the server. <code>true</code>: use <strong>SSL</strong> for encryption, <code>false</code>: use no encryption</td></tr><tr><td></td><td><strong>SMTP Settings</strong></td></tr><tr><td><code>outbox_address</code>:<em>string</em></td><td>(ip-)address of the server</td></tr><tr><td><code>outbox_port</code>:<em>integer</em></td><td>port that should be used with <code>outbox_address</code> for server communication</td></tr><tr><td><code>outbox_secure</code>:<em>string</em></td><td>the encryption protocol to use with SMTP. Can be any of <code>ssl</code>, <code>tls</code> or <code>starttls</code></td></tr><tr><td></td><td><strong>Account Settings</strong></td></tr><tr><td><code>match</code>:<em>array</em></td><td>a regular expression that matches an email-address to <strong>THIS</strong> server configuration.</td></tr><tr><td><code>root</code>:<em>array</em></td><td>an array of mailbox names that serve as root folders to display for this account. Leave the array empty if all mailboxes should be read out and send to the client.</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_mojV" id="example-for-match">Example for <code>match</code><a class="hash-link" href="#example-for-match" title="Direct link to heading">‚Äã</a></h5><p><strong>Prerequisite:</strong>
<code>match</code> is set to <code>[&quot;/\@(googlemail.)(com)$/mi&quot;]</code>
A client authenticates with the username &quot;name@<strong>googlemail.com</strong>&quot;. <code>lumen-app-email</code> will query through the configurations of <code>imapserver.php</code> and test <strong>this</strong> username against regular expression defined in <code>match</code>. In this example, the above regular expression matches the username (i.e. email address). The configuration where the regular expression is specified will be used for subsequent operations requested by the client.</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="example-for-root">Example for <code>root</code><a class="hash-link" href="#example-for-root" title="Direct link to heading">‚Äã</a></h5><p>A common mailbox layout of IMAP servers looks like this:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INBOX</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">INBOX.Drafts</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">INBOX.Sent</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">INBOX.Junk</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">INBOX.Trash</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the <code>root</code>-configuration is set to <code>[&quot;INBOX&quot;]</code>, the following mailboxes will be returned to the client:</p><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INBOX</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Drafts</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Sent</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Junk</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Trash</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Multiple root entries will be considered. This is useful with Google Mail, where root mailboxes (in gmail terms: &quot;labels&quot;) can either be <code>[Google Mail]</code> or <code>[Gmail]</code>. <code>root</code> should be set to <code>[&quot;[Google Mail]&quot;, &quot;[Gmail]&quot;]</code> in this case.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="additional-resources">Additional Resources<a class="hash-link" href="#additional-resources" title="Direct link to heading">‚Äã</a></h2><p>The documentation of <a href="https://conjoon.stoplight.io/docs/rest-api-description" target="_blank" rel="noopener noreferrer">rest-api-email</a> provides information about querying available mailboxes for an authenticated client.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/conjoon/conjoon.github.io/edit/main/docs/backends/lumen-app-email.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/api/backends"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Backends</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/api/backends/@conjoon/ddev-ms-email"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">üö™ ddev-ms-email</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-lumen-app-email" class="table-of-contents__link toc-highlight">What is lumen-app-email?</a></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a></li><li><a href="#api-examples" class="table-of-contents__link toc-highlight">API Examples</a></li><li><a href="#installation-1" class="table-of-contents__link toc-highlight">Installation</a><ul><li><a href="#available-cli-commands" class="table-of-contents__link toc-highlight">Available CLI commands</a></li><li><a href="#configureapi" class="table-of-contents__link toc-highlight"><code>configure:api</code></a></li><li><a href="#configureenv" class="table-of-contents__link toc-highlight"><code>configure:env</code></a></li><li><a href="#configuredebug" class="table-of-contents__link toc-highlight"><code>configure:debug</code></a></li><li><a href="#copyconfig" class="table-of-contents__link toc-highlight"><code>copyconfig</code></a></li><li><a href="#configuring-cors" class="table-of-contents__link toc-highlight">Configuring CORS</a></li><li><a href="#imap-server-configurations" class="table-of-contents__link toc-highlight">IMAP server configurations</a></li></ul></li><li><a href="#additional-resources" class="table-of-contents__link toc-highlight">Additional Resources</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Installation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/conjoon" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://conjoon.stoplight.io/docs/rest-api-description/" target="_blank" rel="noopener noreferrer" class="footer__link-item">REST API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ThorstenSuckow" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://eyeworkers.de" target="_blank" rel="noopener noreferrer" class="footer__link-item">Professional Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" target="demo" href="/docs/api/backends/@conjoon/demo/index.html">Demo</a></li><li class="footer__item"><a href="https://twitter.com/conjoon" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2007-2022 Thorsten Suckow-Homberg. This website is proudly built with <a href="https://docusaurus.io">Docusaurus</a>.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.76cf9d93.js"></script>
<script src="/assets/js/main.215f471c.js"></script>
</body>
</html>
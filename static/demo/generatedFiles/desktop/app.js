var Ext=Ext||{};Ext.Toolbar||(Ext.Toolbar={});Ext.app||(Ext.app={});Ext.app.bind||(Ext.app.bind={});Ext.app.domain||(Ext.app.domain={});Ext.button||(Ext.button={});Ext.container||(Ext.container={});Ext.core||(Ext.core={});Ext.data||(Ext.data={});Ext.data.field||(Ext.data.field={});Ext.data.flash||(Ext.data.flash={});Ext.data.identifier||(Ext.data.identifier={});Ext.data.matrix||(Ext.data.matrix={});Ext.data.operation||(Ext.data.operation={});Ext.data.proxy||(Ext.data.proxy={});
Ext.data.reader||(Ext.data.reader={});Ext.data.request||(Ext.data.request={});Ext.data.schema||(Ext.data.schema={});Ext.data.session||(Ext.data.session={});Ext.data.summary||(Ext.data.summary={});Ext.data.validator||(Ext.data.validator={});Ext.data.writer||(Ext.data.writer={});Ext.dd||(Ext.dd={});Ext.dom||(Ext.dom={});Ext.dom.Element||(Ext.dom.Element={});Ext.event||(Ext.event={});Ext.event.gesture||(Ext.event.gesture={});Ext.event.publisher||(Ext.event.publisher={});Ext.form||(Ext.form={});
Ext.form.Action||(Ext.form.Action={});Ext.form.action||(Ext.form.action={});Ext.form.field||(Ext.form.field={});Ext.form.trigger||(Ext.form.trigger={});Ext.fx||(Ext.fx={});Ext.fx.animation||(Ext.fx.animation={});Ext.fx.easing||(Ext.fx.easing={});Ext.fx.runner||(Ext.fx.runner={});Ext.fx.target||(Ext.fx.target={});Ext.grid||(Ext.grid={});Ext.grid.column||(Ext.grid.column={});Ext.grid.feature||(Ext.grid.feature={});Ext.grid.header||(Ext.grid.header={});Ext.grid.locking||(Ext.grid.locking={});
Ext.grid.plugin||(Ext.grid.plugin={});Ext.layout||(Ext.layout={});Ext.layout.boxOverflow||(Ext.layout.boxOverflow={});Ext.layout.component||(Ext.layout.component={});Ext.layout.component.field||(Ext.layout.component.field={});Ext.layout.container||(Ext.layout.container={});Ext.layout.container.border||(Ext.layout.container.border={});Ext.layout.container.boxOverflow||(Ext.layout.container.boxOverflow={});Ext.list||(Ext.list={});Ext.menu||(Ext.menu={});Ext.mixin||(Ext.mixin={});
Ext.overrides||(Ext.overrides={});Ext.overrides.app||(Ext.overrides.app={});Ext.overrides.app.domain||(Ext.overrides.app.domain={});Ext.overrides.dom||(Ext.overrides.dom={});Ext.overrides.event||(Ext.overrides.event={});Ext.overrides.event.publisher||(Ext.overrides.event.publisher={});Ext.overrides.list||(Ext.overrides.list={});Ext.overrides.mixin||(Ext.overrides.mixin={});Ext.overrides.plugin||(Ext.overrides.plugin={});Ext.overrides.util||(Ext.overrides.util={});Ext.package||(Ext.package={});
Ext.panel||(Ext.panel={});Ext.parse||(Ext.parse={});Ext.parse.symbol||(Ext.parse.symbol={});Ext.perf||(Ext.perf={});Ext.picker||(Ext.picker={});Ext.plugin||(Ext.plugin={});Ext.promise||(Ext.promise={});Ext.resizer||(Ext.resizer={});Ext.route||(Ext.route={});Ext.scroll||(Ext.scroll={});Ext.selection||(Ext.selection={});Ext.slider||(Ext.slider={});Ext.state||(Ext.state={});Ext.tab||(Ext.tab={});Ext.theme||(Ext.theme={});Ext.theme.material||(Ext.theme.material={});
Ext.theme.material.button||(Ext.theme.material.button={});Ext.theme.material.form||(Ext.theme.material.form={});Ext.theme.material.form.field||(Ext.theme.material.form.field={});Ext.theme.material.menu||(Ext.theme.material.menu={});Ext.theme.material.tab||(Ext.theme.material.tab={});Ext.theme.material.tree||(Ext.theme.material.tree={});Ext.theme.material.view||(Ext.theme.material.view={});Ext.theme.material.window||(Ext.theme.material.window={});Ext.theme.neptune||(Ext.theme.neptune={});
Ext.theme.neptune.form||(Ext.theme.neptune.form={});Ext.theme.neptune.form.field||(Ext.theme.neptune.form.field={});Ext.theme.neptune.layout||(Ext.theme.neptune.layout={});Ext.theme.neptune.layout.component||(Ext.theme.neptune.layout.component={});Ext.theme.neptune.menu||(Ext.theme.neptune.menu={});Ext.theme.neptune.panel||(Ext.theme.neptune.panel={});Ext.theme.neptune.resizer||(Ext.theme.neptune.resizer={});Ext.theme.neptune.toolbar||(Ext.theme.neptune.toolbar={});
Ext.theme.triton||(Ext.theme.triton={});Ext.theme.triton.form||(Ext.theme.triton.form={});Ext.theme.triton.form.field||(Ext.theme.triton.form.field={});Ext.theme.triton.grid||(Ext.theme.triton.grid={});Ext.theme.triton.grid.column||(Ext.theme.triton.grid.column={});Ext.theme.triton.grid.plugin||(Ext.theme.triton.grid.plugin={});Ext.theme.triton.list||(Ext.theme.triton.list={});Ext.theme.triton.menu||(Ext.theme.triton.menu={});Ext.theme.triton.resizer||(Ext.theme.triton.resizer={});
Ext.theme.triton.selection||(Ext.theme.triton.selection={});Ext.theme.triton.toolbar||(Ext.theme.triton.toolbar={});Ext.tip||(Ext.tip={});Ext.toolbar||(Ext.toolbar={});Ext.tree||(Ext.tree={});Ext.util||(Ext.util={});Ext.util.paintmonitor||(Ext.util.paintmonitor={});Ext.util.sizemonitor||(Ext.util.sizemonitor={});Ext.util.translatable||(Ext.util.translatable={});Ext.ux||(Ext.ux={});Ext.ux.form||(Ext.ux.form={});Ext.view||(Ext.view={});Ext.window||(Ext.window={});var conjoon=conjoon||{};
conjoon.overrides||(conjoon.overrides={});conjoon.overrides.Ext||(conjoon.overrides.Ext={});conjoon.overrides.Ext.data||(conjoon.overrides.Ext.data={});conjoon.overrides.Ext.data.session||(conjoon.overrides.Ext.data.session={});conjoon.overrides.Ext.dom||(conjoon.overrides.Ext.dom={});conjoon.overrides.Ext.event||(conjoon.overrides.Ext.event={});conjoon.overrides.Ext.event.publisher||(conjoon.overrides.Ext.event.publisher={});conjoon.overrides.coon||(conjoon.overrides.coon={});
conjoon.overrides.coon.comp||(conjoon.overrides.coon.comp={});conjoon.overrides.coon.comp.window||(conjoon.overrides.coon.comp.window={});conjoon.plugin||(conjoon.plugin={});conjoon.theme||(conjoon.theme={});conjoon.theme.material||(conjoon.theme.material={});conjoon.theme.material.overrides||(conjoon.theme.material.overrides={});conjoon.theme.material.overrides.cn_navport||(conjoon.theme.material.overrides.cn_navport={});
conjoon.theme.material.overrides.cn_navport.view||(conjoon.theme.material.overrides.cn_navport.view={});conjoon.theme.material.plugin||(conjoon.theme.material.plugin={});conjoon.view||(conjoon.view={});conjoon.view.main||(conjoon.view.main={});conjoon.view.main.controller||(conjoon.view.main.controller={});var coon=coon||{};coon.comp||(coon.comp={});coon.comp.app||(coon.comp.app={});coon.comp.component||(coon.comp.component={});coon.comp.container||(coon.comp.container={});
coon.comp.form||(coon.comp.form={});coon.comp.form.field||(coon.comp.form.field={});coon.comp.grid||(coon.comp.grid={});coon.comp.grid.feature||(coon.comp.grid.feature={});coon.comp.list||(coon.comp.list={});coon.comp.window||(coon.comp.window={});coon.core||(coon.core={});coon.core.app||(coon.core.app={});coon.core.app.plugin||(coon.core.app.plugin={});coon.core.data||(coon.core.data={});coon.core.data.field||(coon.core.data.field={});coon.core.data.operation||(coon.core.data.operation={});
coon.core.data.pageMap||(coon.core.data.pageMap={});coon.core.data.proxy||(coon.core.data.proxy={});coon.core.data.request||(coon.core.data.request={});coon.core.data.request.file||(coon.core.data.request.file={});coon.core.data.schema||(coon.core.data.schema={});coon.core.data.session||(coon.core.data.session={});coon.core.data.validator||(coon.core.data.validator={});coon.core.data.writer||(coon.core.data.writer={});coon.core.env||(coon.core.env={});coon.core.env.ext||(coon.core.env.ext={});
coon.core.exception||(coon.core.exception={});coon.core.overrides||(coon.core.overrides={});coon.core.overrides.core||(coon.core.overrides.core={});coon.core.overrides.core.app||(coon.core.overrides.core.app={});coon.core.service||(coon.core.service={});coon.core.util||(coon.core.util={});coon.navport||(coon.navport={});coon.navport.app||(coon.navport.app={});coon.navport.data||(coon.navport.data={});coon.navport.data.schema||(coon.navport.data.schema={});coon.navport.mixin||(coon.navport.mixin={});
coon.navport.model||(coon.navport.model={});coon.navport.store||(coon.navport.store={});coon.navport.view||(coon.navport.view={});coon.navport.view.controller||(coon.navport.view.controller={});coon.navport.view.pages||(coon.navport.view.pages={});
(function(ExtCmd){var baseStaticMembers,enumerables=['constructor','toString','valueOf','toLocaleString'],enumerablesMap={},enumerablesObj={},enumerablesMask=0,baseStaticMember,Base,ClassManager,Class,configPreFn,cachedConfigPreFn,platformConfigPostFn,platformConfigPreFn,deprecatedPostFn,privatesPreFn,v5ClassSystem,onBeforeCreated=function(cls,data,hooks){hooks=hooks.enumerableMembers;var proto=cls.prototype,fn,which;if(data){if(v5ClassSystem)cls.addMembers(data);else{for(member in data)if((fn=data[member])&&
fn.$isFunction&&!fn.$isClass&&fn!==Ext.emptyFn&&fn!==Ext.identityFn){if(which=proto.hasOwnProperty(member)&&proto[member])fn.$previous=which;proto[member]=fn;fn.$owner=cls;fn.$name=member}else proto[member]=fn;for(which=1;hooks;which<<=1)if(hooks&which){hooks&=~which;var member=enumerablesMap[which];proto[member]=fn=data[member];fn.$owner=cls;fn.$name=member}}data.platformConfig&&platformConfigPostFn&&platformConfigPostFn.call(ClassManager,cls.$className,cls,data);data.deprecated&&deprecatedPostFn&&
deprecatedPostFn.call(ClassManager,cls.$className,cls,data)}},derive=function(className,base,data,enumerableMembers,xtypes,xtypesChain,xtypeMap,aliases,mixins,names,createdFn){var cls=function(){return this.constructor.apply(this,arguments)||null},ret=cls;enumerableMembers={enumerableMembers:enumerableMembers&enumerablesMask,onCreated:createdFn,onBeforeCreated,aliases};var alternates=data.alternateClassName||[];createdFn=Ext.global;var i,n,altToName=ClassManager.alternateToName||ClassManager.maps.alternateToName,
nameToAlt=ClassManager.nameToAlternates||ClassManager.maps.nameToAlternates;for(i=baseStaticMembers.length;0<i--;){var name=baseStaticMembers[i];cls[name]=Base[name]}data.$isFunction&&(data=data(cls));enumerableMembers.data=data;i=data.statics;delete data.statics;data.$className=className;'$className'in data&&(cls.$className=data.$className);cls.extend(base);base=cls.prototype;xtypes&&(cls.xtype=data.xtype=xtypes[0],base.xtypes=xtypes);base.xtypesChain=xtypesChain;base.xtypesMap=xtypeMap;data.alias=
aliases;ret.triggerExtended(cls,data,enumerableMembers);data.onClassExtended&&(cls.onExtended(data.onClassExtended,cls),delete data.onClassExtended);data.privates&&privatesPreFn&&privatesPreFn.call(Class,cls,data);if(i)if(v5ClassSystem)cls.addStatics(i);else for(n in i)i.hasOwnProperty(n)&&((xtypesChain=i[n])&&xtypesChain.$isFunction&&!xtypesChain.$isClass&&xtypesChain!==Ext.emptyFn&&xtypesChain!==Ext.identityFn&&(cls[n]=xtypes=xtypesChain,xtypes.$owner=cls,xtypes.$name=n),cls[n]=xtypesChain);data.inheritableStatics&&
(cls.addInheritableStatics(data.inheritableStatics),delete data.inheritableStatics);base.onClassExtended&&(ret.onExtended(base.onClassExtended,ret),delete base.onClassExtended);data.platformConfig&&platformConfigPreFn&&(platformConfigPreFn.call(Class,cls,data),delete data.platformConfig);data.config&&configPreFn.call(Class,cls,data);data.cachedConfig&&cachedConfigPreFn&&(cachedConfigPreFn.call(Class,cls,data),delete data.cachedConfig);enumerableMembers.onBeforeCreated(cls,enumerableMembers.data,enumerableMembers);
i=0;for(n=mixins&&mixins.length;i<n;++i)cls.mixin.apply(cls,mixins[i]);i=0;for(n=aliases.length;i<n;i++)mixins=aliases[i],ClassManager.setAlias?ClassManager.setAlias(cls,mixins):ClassManager.addAlias(cls,mixins);data.singleton&&(ret=new cls);alternates instanceof Array||(alternates=[alternates]);data=ClassManager.getName(ret);i=0;for(mixins=alternates.length;i<mixins;i++)aliases=alternates[i],ClassManager.classes[aliases]=ret,v5ClassSystem?ClassManager.addAlternate(cls,aliases):data&&(altToName[aliases]=
data,alternates=nameToAlt[data]||(nameToAlt[data]=[]),alternates.push(aliases));i=0;for(n=names.length;i<n;i+=2)(cls=names[i])||(cls=createdFn),cls[names[i+1]]=ret;ClassManager.classes[className]=ret;!v5ClassSystem&&data&&data!==className&&(altToName[className]=data,alternates=nameToAlt[data]||(nameToAlt[data]=[]),alternates.push(className));delete base.alternateClassName;enumerableMembers.onCreated&&enumerableMembers.onCreated.call(ret,ret);className&&ClassManager.triggerCreated(className);return ret};
ExtCmd.derive=function(){var i;Base=Ext.Base;ClassManager=Ext.ClassManager;Class=Ext.Class;for(i=enumerables.length;0<i--;){var mask=1<<i;enumerablesObj[enumerablesMap[mask]=enumerables[i]]=mask}for(i in enumerablesObj)enumerablesMask|=enumerablesObj[i];enumerablesMask=~enumerablesMask;Function.prototype.$isFunction=1;v5ClassSystem=!!ClassManager.addAlias;configPreFn=Class.getPreprocessor('config').fn;cachedConfigPreFn=(cachedConfigPreFn=Class.getPreprocessor('cachedConfig'))&&cachedConfigPreFn.fn;
privatesPreFn=(privatesPreFn=Class.getPreprocessor('privates'))&&privatesPreFn.fn;platformConfigPreFn=(platformConfigPreFn=Class.getPreprocessor('platformConfig'))&&platformConfigPreFn.fn;platformConfigPostFn=(platformConfigPostFn=ClassManager.postprocessors.platformConfig)&&platformConfigPostFn.fn;deprecatedPostFn=(deprecatedPostFn=ClassManager.postprocessors.deprecated)&&deprecatedPostFn.fn;baseStaticMembers=Base.$staticMembers;if(!baseStaticMembers)for(baseStaticMember in baseStaticMembers=[],
Base)Base.hasOwnProperty(baseStaticMember)&&baseStaticMembers.push(baseStaticMember);ExtCmd.derive=derive;return derive.apply(this,arguments)}})(Ext.cmd={});Ext=Ext||{};
Ext.Boot=Ext.Boot||function(emptyFn){function Request(cfg){if(cfg.$isRequest)return cfg;cfg=cfg.url?cfg:{url:cfg};var url=cfg.url;url=url.charAt?[url]:url;var charset=cfg.charset||Boot.config.charset;_apply(this,cfg);delete this.url;this.urls=url;this.charset=charset}function Entry(cfg){if(cfg.$isEntry)return cfg;var charset=cfg.charset||Boot.config.charset,manifest=Ext.manifest;manifest=manifest&&manifest.loader;var cache=void 0!==cfg.cache?cfg.cache:manifest&&manifest.cache,buster;Boot.config.disableCaching&&
(void 0===cache&&(cache=!Boot.config.disableCaching),!1===cache?buster=+new Date:!0!==cache&&(buster=cache),buster&&(manifest=manifest&&manifest.cacheParam||Boot.config.disableCachingParam,buster=manifest+'\x3d'+buster));_apply(this,cfg);this.charset=charset;this.buster=buster;this.requests=[]}var doc=document,_emptyArray=[],_config={disableCaching:/[?&](?:cache|disableCacheBuster)\b/i.test(location.search)||!/http[s]?:/i.test(location.href)||/(^|[ ;])ext-cache=1/.test(doc.cookie)?!1:!0,disableCachingParam:'_dc',
loadDelay:!1,preserveScripts:!0,charset:'UTF-8'},cssRe=/\.css(?:\?|$)/i,resolverEl=doc.createElement('a'),isBrowser='undefined'!==typeof window,_environment={browser:isBrowser,node:!isBrowser&&'function'===typeof require,phantom:window&&(window._phantom||window.callPhantom)||/PhantomJS/.test(window.navigator.userAgent)},_tags=Ext.platformTags={},_apply=function(object,config,defaults){defaults&&_apply(object,defaults);if(object&&config&&'object'===typeof config)for(var i in config)object[i]=config[i];
return object},_merge=function(){var lowerCase=!1,obj=Array.prototype.shift.call(arguments),index,i;'boolean'===typeof arguments[arguments.length-1]&&(lowerCase=Array.prototype.pop.call(arguments));var len=arguments.length;for(index=0;index<len;index++){var value=arguments[index];if('object'===typeof value)for(i in value)obj[lowerCase?i.toLowerCase():i]=value[i]}return obj},_getKeys='function'==typeof Object.keys?function(object){return object?Object.keys(object):[]}:function(object){var keys=[],
property;for(property in object)object.hasOwnProperty(property)&&keys.push(property);return keys},Boot={loading:0,loaded:0,apply:_apply,env:_environment,config:_config,assetConfig:{},scripts:{},currentFile:null,suspendedQueue:[],currentRequest:null,syncMode:!1,useElements:!0,listeners:[],Request,Entry,allowMultipleBrowsers:!1,browserNames:{ie:'IE',firefox:'Firefox',safari:'Safari',chrome:'Chrome',opera:'Opera',dolfin:'Dolfin',edge:'Edge',webosbrowser:'webOSBrowser',chromeMobile:'ChromeMobile',chromeiOS:'ChromeiOS',
silk:'Silk',other:'Other'},osNames:{ios:'iOS',android:'Android',windowsPhone:'WindowsPhone',webos:'webOS',blackberry:'BlackBerry',rimTablet:'RIMTablet',mac:'MacOS',win:'Windows',tizen:'Tizen',linux:'Linux',bada:'Bada',chromeOS:'ChromeOS',other:'Other'},browserPrefixes:{ie:'MSIE ',edge:'Edge/',firefox:'Firefox/',chrome:'Chrome/',safari:'Version/',opera:'OPR/',dolfin:'Dolfin/',webosbrowser:'wOSBrowser/',chromeMobile:'CrMo/',chromeiOS:'CriOS/',silk:'Silk/'},browserPriority:'edge opera dolfin webosbrowser silk chromeiOS chromeMobile ie firefox safari chrome'.split(' '),
osPrefixes:{tizen:'(Tizen )',ios:'i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ',android:'(Android |HTC_|Silk/)',windowsPhone:'Windows Phone ',blackberry:'(?:BlackBerry|BB)(?:.*)Version/',rimTablet:'RIM Tablet OS ',webos:'(?:webOS|hpwOS)/',bada:'Bada/',chromeOS:'CrOS '},fallbackOSPrefixes:{windows:'win',mac:'mac',linux:'linux'},devicePrefixes:{iPhone:'iPhone',iPod:'iPod',iPad:'iPad'},maxIEVersion:12,detectPlatformTags:function(){var me=this,ua=navigator.userAgent,isMobile=/Mobile(\/|\s)/.test(ua),element=
document.createElement('div'),browsers=function(){var browsers={},index,matched;var prefix=me.browserPriority.length;for(index=0;index<prefix;index++){var maxIEVersion=me.browserPriority[index];if(matched)var value=0;else value=me.browserPrefixes[maxIEVersion],(value=(value=ua.match(new RegExp('('+value+')([\\w\\._]+)')))&&1<value.length?parseInt(value[2]):0)&&(matched=!0);browsers[maxIEVersion]=value}browsers.ie&&(index=document.documentMode,8<=index&&(browsers.ie=index));value=browsers.ie||!1;maxIEVersion=
Math.max(value,me.maxIEVersion);for(index=8;index<=maxIEVersion;++index)prefix='ie'+index,browsers[prefix+'m']=value?value<=index:0,browsers[prefix]=value?value===index:0,browsers[prefix+'p']=value?value>=index:0;return browsers}(),systems=function(){var systems={},index,activeCount;var keys=_getKeys(me.osPrefixes);var len=keys.length;for(activeCount=index=0;index<len;index++){var key=keys[index];var value=me.osPrefixes[key];var matched=(value=ua.match(new RegExp('('+value+')([^\\s;]+)')))?value[1]:
null;(value=!matched||'HTC_'!==matched&&'Silk/'!==matched?value&&1<value.length?parseFloat(value[value.length-1]):0:2.3)&&activeCount++;systems[key]=value}keys=_getKeys(me.fallbackOSPrefixes);len=keys.length;for(index=0;index<len;index++)key=keys[index],0===activeCount?(value=me.fallbackOSPrefixes[key],value=ua.toLowerCase().match(new RegExp(value)),systems[key]=value?!0:0):systems[key]=0;return systems}(),devices=function(){var devices={},index;var keys=_getKeys(me.devicePrefixes);var len=keys.length;
for(index=0;index<len;index++){var key=keys[index];var value=me.devicePrefixes[key];value=ua.match(new RegExp(value));devices[key]=value?!0:0}return devices}(),platformParams=Boot.loadPlatformsParam();_merge(_tags,browsers,systems,devices,platformParams,!0);_tags.phone=!!(_tags.iphone||_tags.ipod||!_tags.silk&&_tags.android&&(3>_tags.android||isMobile)||_tags.blackberry&&isMobile||_tags.windowsphone);_tags.tablet=!(_tags.phone||!(_tags.ipad||_tags.android||_tags.silk||_tags.rimtablet||_tags.ie10&&
/; Touch/.test(ua)));_tags.touch=function(name,tag){name='on'+name.toLowerCase();tag=name in element;!tag&&element.setAttribute&&element.removeAttribute&&(element.setAttribute(name,''),tag='function'===typeof element[name],'undefined'!==typeof element[name]&&(element[name]=void 0),element.removeAttribute(name));return tag}('touchend')||navigator.maxTouchPoints||navigator.msMaxTouchPoints;_tags.desktop=!_tags.phone&&!_tags.tablet;_tags.cordova=_tags.phonegap=!!(window.PhoneGap||window.Cordova||window.cordova);
_tags.webview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(ua);_tags.androidstock=4.3>=_tags.android&&(_tags.safari||_tags.silk);_merge(_tags,platformParams,!0)},loadPlatformsParam:function(){var paramsArray=window.location.search.substr(1).split('\x26'),params={},i,platforms={};for(i=0;i<paramsArray.length;i++){var tmpArray=paramsArray[i].split('\x3d');params[tmpArray[0]]=tmpArray[1]}if(params.platformTags)for(tmpArray=params.platformTags.split(','),paramsArray=tmpArray.length,i=
0;i<paramsArray;i++){params=tmpArray[i].split(':');var name=params[0];var enabled=!0;1<params.length&&(enabled=params[1],'false'===enabled||'0'===enabled)&&(enabled=!1);platforms[name]=enabled}return platforms},filterPlatform:function(platform,excludes){platform=_emptyArray.concat(platform||_emptyArray);excludes=_emptyArray.concat(excludes||_emptyArray);var plen=platform.length,elen=excludes.length,include=!plen&&elen,i;for(i=0;i<plen&&!include;i++)include=platform[i],include=!!_tags[include];for(i=
0;i<elen&&include;i++)include=excludes[i],include=!_tags[include];return include},init:function(){var scriptEls=doc.getElementsByTagName('script'),script=scriptEls[0],len=scriptEls.length,re=/\/ext(\-[a-z\-]+)?\.js$/,src,baseUrl,key,n;Boot.hasReadyState='readyState'in script;Boot.hasAsync='async'in script;Boot.hasDefer='defer'in script;Boot.hasOnLoad='onload'in script;Boot.isIE8=Boot.hasReadyState&&!Boot.hasAsync&&Boot.hasDefer&&!Boot.hasOnLoad;Boot.isIE9=Boot.hasReadyState&&!Boot.hasAsync&&Boot.hasDefer&&
Boot.hasOnLoad;Boot.isIE10p=Boot.hasReadyState&&Boot.hasAsync&&Boot.hasDefer&&Boot.hasOnLoad;Boot.isIE8?(Boot.isIE10=!1,Boot.isIE10m=!0):(Boot.isIE10=-1!==navigator.appVersion.indexOf('MSIE 10'),Boot.isIE10m=Boot.isIE10||Boot.isIE9||Boot.isIE8);Boot.isIE11=Boot.isIE10p&&!Boot.isIE10;for(n=0;n<len;n++)if(src=(script=scriptEls[n]).src){var state=script.readyState||null;!baseUrl&&re.test(src)&&(baseUrl=src);Boot.scripts[key=Boot.canonicalUrl(src)]||new Entry({key,url:src,done:null===state||'loaded'===
state||'complete'===state,el:script,prop:'src'})}baseUrl||(script=scriptEls[scriptEls.length-1],baseUrl=script.src);Boot.baseUrl=baseUrl.substring(0,baseUrl.lastIndexOf('/')+1);Boot.origin=window.location.origin||window.location.protocol+'//'+window.location.hostname+(window.location.port?':'+window.location.port:'');Boot.detectPlatformTags();Ext.filterPlatform=Boot.filterPlatform},canonicalUrl:function(url){resolverEl.href=url;url=resolverEl.href;var dc=_config.disableCachingParam;dc=dc?url.indexOf(dc+
'\x3d'):-1;var c;if(0<dc&&('?'===(c=url.charAt(dc-1))||'\x26'===c)){var end=url.indexOf('\x26',dc);(end=0>end?'':url.substring(end))&&'?'===c&&(++dc,end=end.substring(1));url=url.substring(0,dc-1)+end}return url},getConfig:function(name){return name?Boot.config[name]:Boot.config},setConfig:function(name,value){if('string'===typeof name)Boot.config[name]=value;else for(var s in name)Boot.setConfig(s,name[s]);return Boot},getHead:function(){return Boot.docHead||(Boot.docHead=doc.head||doc.getElementsByTagName('head')[0])},
create:function(url,key,cfg){cfg=cfg||{};cfg.url=url;cfg.key=key;return Boot.scripts[key]=new Entry(cfg)},getEntry:function(url,cfg,canonicalPath){var key=canonicalPath?url:Boot.canonicalUrl(url);var entry=Boot.scripts[key];entry||(entry=Boot.create(url,key,cfg),canonicalPath&&(entry.canonicalPath=!0));return entry},registerContent:function(url,type,content){return Boot.getEntry(url,{content,loaded:!0,css:'css'===type})},processRequest:function(request,sync){request.loadEntries(sync)},load:function(request){request=
new Request(request);if(request.sync||Boot.syncMode)return Boot.loadSync(request);Boot.currentRequest?(request.getEntries(),Boot.suspendedQueue.push(request)):(Boot.currentRequest=request,Boot.processRequest(request,!1));return Boot},loadSync:function(request){request=new Request(request);Boot.syncMode++;Boot.processRequest(request,!0);Boot.syncMode--;return Boot},loadBasePrefix:function(request){request=new Request(request);request.prependBaseUrl=!0;return Boot.load(request)},loadSyncBasePrefix:function(request){request=
new Request(request);request.prependBaseUrl=!0;return Boot.loadSync(request)},requestComplete:function(request){if(Boot.currentRequest===request)for(Boot.currentRequest=null;0<Boot.suspendedQueue.length;)if(request=Boot.suspendedQueue.shift(),!request.done){Boot.load(request);break}Boot.currentRequest||0!=Boot.suspendedQueue.length||Boot.fireListeners()},isLoading:function(){return!Boot.currentRequest&&0==Boot.suspendedQueue.length},fireListeners:function(){for(var listener;Boot.isLoading()&&(listener=
Boot.listeners.shift());)listener()},onBootReady:function(listener){Boot.isLoading()?Boot.listeners.push(listener):listener()},getPathsFromIndexes:function(indexMap,loadOrder){if(!('length'in indexMap)){var indexArray=[],index;for(index in indexMap)isNaN(+index)||(indexArray[+index]=indexMap[index]);indexMap=indexArray}return Request.prototype.getPathsFromIndexes(indexMap,loadOrder)},createLoadOrderMap:function(loadOrder){return Request.prototype.createLoadOrderMap(loadOrder)},fetch:function(url,
complete,scope,async){async=void 0===async?!!complete:async;var xhr=new XMLHttpRequest,result,status,content,exception=!1,readyStateChange=function(){xhr&&4==xhr.readyState&&(status=1223===xhr.status?204:0!==xhr.status||'file:'!==(self.location||{}).protocol&&'ionp:'!==(self.location||{}).protocol?xhr.status:200,content=xhr.responseText,result={content,status,exception},complete&&complete.call(scope,result),xhr.onreadystatechange=emptyFn,xhr=null)};async&&(xhr.onreadystatechange=readyStateChange);
try{xhr.open('GET',url,async),xhr.send(null)}catch(err){return exception=err,readyStateChange(),result}async||readyStateChange();return result},notifyAll:function(entry){entry.notifyRequests()}};Request.prototype={$isRequest:!0,createLoadOrderMap:function(loadOrder){var len=loadOrder.length,loadOrderMap={},i;for(i=0;i<len;i++){var element=loadOrder[i];loadOrderMap[element.path]=element}return loadOrderMap},getLoadIndexes:function(item,indexMap,loadOrder,includeUses,skipLoaded){var resolved=[],queue=
[item];item=item.idx;var len;if(indexMap[item])return resolved;for(indexMap[item]=resolved[item]=!0;item=queue.shift();){var entry=item.canonicalPath?Boot.getEntry(item.path,null,!0):Boot.getEntry(this.prepareUrl(item.path));if(!skipLoaded||!entry.done){item=includeUses&&item.uses&&item.uses.length?item.requires.concat(item.uses):item.requires;var i=0;for(len=item.length;i<len;i++)entry=item[i],indexMap[entry]||(indexMap[entry]=resolved[entry]=!0,queue.push(loadOrder[entry]))}}return resolved},getPathsFromIndexes:function(indexes,
loadOrder){var paths=[],len;var index=0;for(len=indexes.length;index<len;index++)indexes[index]&&paths.push(loadOrder[index].path);return paths},expandUrl:function(url,loadOrder,loadOrderMap,indexMap,includeUses,skipLoaded){return loadOrder&&(loadOrderMap=loadOrderMap[url])&&(indexMap=this.getLoadIndexes(loadOrderMap,indexMap,loadOrder,includeUses,skipLoaded),indexMap.length)?this.getPathsFromIndexes(indexMap,loadOrder):[url]},expandUrls:function(urls,includeUses){var loadOrder=this.loadOrder,expanded=
[],expandMap={},indexMap=[],len,tlen;'string'===typeof urls&&(urls=[urls]);if(loadOrder){var loadOrderMap=this.loadOrderMap;loadOrderMap||(loadOrderMap=this.loadOrderMap=this.createLoadOrderMap(loadOrder))}var i=0;for(len=urls.length;i<len;i++){var tmpExpanded=this.expandUrl(urls[i],loadOrder,loadOrderMap,indexMap,includeUses,!1);var t=0;for(tlen=tmpExpanded.length;t<tlen;t++){var tUrl=tmpExpanded[t];expandMap[tUrl]||(expandMap[tUrl]=!0,expanded.push(tUrl))}}0===expanded.length&&(expanded=urls);return expanded},
expandLoadOrder:function(){var urls=this.urls;if(this.expanded)var expanded=urls;else expanded=this.expandUrls(urls,!0),this.expanded=!0;this.urls=expanded;urls.length!=expanded.length&&(this.sequential=!0);return this},getUrls:function(){this.expandLoadOrder();return this.urls},prepareUrl:function(url){return this.prependBaseUrl?Boot.baseUrl+url:url},getEntries:function(){var entries=this.entries,item,i;if(!entries){entries=[];var urls=this.getUrls();if(this.loadOrder)var loadOrderMap=this.loadOrderMap;
for(i=0;i<urls.length;i++){var entry=this.prepareUrl(urls[i]);loadOrderMap&&(item=loadOrderMap[entry]);entry=Boot.getEntry(entry,{buster:this.buster,charset:this.charset},item&&item.canonicalPath);entry.requests.push(this);entries.push(entry)}this.entries=entries}return entries},loadEntries:function(sync){var me=this,entries=me.getEntries(),len=entries.length,start=me.loadStart||0,i;void 0!==sync&&(me.sync=sync);me.loaded=me.loaded||0;me.loading=me.loading||len;for(i=start;i<len;i++){var entry=entries[i];
start=entry.loaded?!0:entries[i].load(me.sync);if(!start){me.loadStart=i;entry.onDone(function(){me.loadEntries(sync)});break}}me.processLoadedEntries()},processLoadedEntries:function(){var entries=this.getEntries(),len=entries.length,start=this.startIndex||0;if(!this.done){for(;start<len;start++){var entry=entries[start];if(!entry.loaded){this.startIndex=start;return}entry.evaluated||entry.evaluate();entry.error&&(this.error=!0)}this.notify()}},notify:function(){var me=this;if(!me.done){var error=
me.error,fn=me[error?'failure':'success'];error='delay'in me?me.delay:error?1:Boot.config.chainDelay;var scope=me.scope||me;me.done=!0;fn&&(0===error||0<error?setTimeout(function(){fn.call(scope,me)},error):fn.call(scope,me));me.fireListeners();Boot.requestComplete(me)}},onDone:function(listener){var listeners=this.listeners||(this.listeners=[]);this.done?listener(this):listeners.push(listener)},fireListeners:function(){var listeners=this.listeners,listener;if(listeners)for(;listener=listeners.shift();)listener(this)}};
Entry.prototype={$isEntry:!0,done:!1,evaluated:!1,loaded:!1,isCrossDomain:function(){void 0===this.crossDomain&&(this.crossDomain=0!==this.getLoadUrl().indexOf(Boot.origin));return this.crossDomain},isCss:function(){if(void 0===this.css)if(this.url){var assetConfig=Boot.assetConfig[this.url];this.css=assetConfig?'css'===assetConfig.type:cssRe.test(this.url)}else this.css=!1;return this.css},getElement:function(tag){var el=this.el;el||(this.isCss()?(tag=tag||'link',el=doc.createElement(tag),'link'==
tag?(el.rel='stylesheet',this.prop='href'):this.prop='textContent',el.type='text/css'):(el=doc.createElement(tag||'script'),el.type='text/javascript',this.prop='src',this.charset&&(el.charset=this.charset),Boot.hasAsync&&(el.async=!1)),this.el=el);return el},getLoadUrl:function(){var url=this.canonicalPath?this.url:Boot.canonicalUrl(this.url);this.loadUrl||(this.loadUrl=this.buster?url+(-1===url.indexOf('?')?'?':'\x26')+this.buster:url);return this.loadUrl},fetch:function(req){var url=this.getLoadUrl();
Boot.fetch(url,req.complete,this,!!req.async)},onContentLoaded:function(response){var status=response.status,content=response.content;response=response.exception;this.getLoadUrl();this.loaded=!0;!response&&0!==status||_environment.phantom?200<=status&&300>status||304===status||_environment.phantom||0===status&&0<content.length?this.content=content:this.evaluated=this.error=!0:this.evaluated=this.error=!0},createLoadElement:function(callback){var me=this,el=me.getElement();me.preserve=!0;el.onerror=
function(){me.error=!0;callback&&(callback(),callback=null)};Boot.isIE10m?el.onreadystatechange=function(){'loaded'!==this.readyState&&'complete'!==this.readyState||!callback||(callback(),callback=this.onreadystatechange=this.onerror=null)}:el.onload=function(){callback();callback=this.onload=this.onerror=null};el[me.prop]=me.getLoadUrl()},onLoadElementReady:function(){Boot.getHead().appendChild(this.getElement());this.evaluated=!0},inject:function(content,asset){asset=Boot.getHead();var url=this.url,
key=this.key;if(this.isCss()){this.preserve=!0;var basePath=key.substring(0,key.lastIndexOf('/')+1);var base=doc.createElement('base');base.href=basePath;asset.firstChild?asset.insertBefore(base,asset.firstChild):asset.appendChild(base);base.href=base.href;url&&(content+='\n/*# sourceURL\x3d'+key+' */');url=this.getElement('style');key='styleSheet'in url;asset.appendChild(base);key?(asset.appendChild(url),url.styleSheet.cssText=content):(url.textContent=content,asset.appendChild(url));asset.removeChild(base)}else url&&
(content+='\n//# sourceURL\x3d'+key),Ext.globalEval(content);return this},loadCrossDomain:function(){var me=this;me.createLoadElement(function(){me.el.onerror=me.el.onload=emptyFn;me.el=null;me.loaded=me.evaluated=me.done=!0;me.notifyRequests()});me.evaluateLoadElement();return!1},loadElement:function(){var me=this;me.createLoadElement(function(){me.el.onerror=me.el.onload=emptyFn;me.el=null;me.loaded=me.evaluated=me.done=!0;me.notifyRequests()});me.evaluateLoadElement();return!0},loadSync:function(){var me=
this;me.fetch({async:!1,complete:function(response){me.onContentLoaded(response)}});me.evaluate();me.notifyRequests()},load:function(sync){var me=this;if(!me.loaded){if(me.loading)return!1;me.loading=!0;if(sync)me.loadSync();else{if(Boot.isIE10||me.isCrossDomain())return me.loadCrossDomain();if(!me.isCss()&&Boot.hasReadyState)me.createLoadElement(function(){me.loaded=!0;me.notifyRequests()});else if(!Boot.useElements||me.isCss()&&_environment.phantom)me.fetch({async:!sync,complete:function(response){me.onContentLoaded(response);
me.notifyRequests()}});else return me.loadElement()}}return!0},evaluateContent:function(){this.inject(this.content);this.content=null},evaluateLoadElement:function(){Boot.getHead().appendChild(this.getElement())},evaluate:function(){this.evaluated||this.evaluating||(this.evaluating=!0,void 0!==this.content?this.evaluateContent():this.error||this.evaluateLoadElement(),this.evaluated=this.done=!0,this.cleanup())},cleanup:function(){var el=this.el,prop;if(el){if(!this.preserve)for(prop in this.el=null,
el.parentNode.removeChild(el),el)try{prop!==this.prop&&(el[prop]=null),delete el[prop]}catch(cleanEx){}el.onload=el.onerror=el.onreadystatechange=emptyFn}},notifyRequests:function(){var requests=this.requests,len=requests.length,i;for(i=0;i<len;i++){var request=requests[i];request.processLoadedEntries()}this.done&&this.fireListeners()},onDone:function(listener){var listeners=this.listeners||(this.listeners=[]);this.done?listener(this):listeners.push(listener)},fireListeners:function(){var listeners=
this.listeners,listener;if(listeners&&0<listeners.length)for(;listener=listeners.shift();)listener(this)}};Ext.disableCacheBuster=function(disable,path){var date=new Date;date.setTime(date.getTime()+864E5*(disable?3650:-1));date=date.toGMTString();doc.cookie='ext-cache\x3d1; expires\x3d'+date+'; path\x3d'+(path||'/')};Boot.init();return Boot}(function(){});Ext.globalEval=Ext.globalEval||(this.execScript?function(code){execScript(code)}:function($$code){eval.call(window,$$code)});
Function.prototype.bind||function(){var slice=Array.prototype.slice,bind=function(me){var args=slice.call(arguments,1),method=this;if(args.length)return function(){var t=arguments;return method.apply(me,t.length?args.concat(slice.call(t)):args)};args=null;return function(){return method.apply(me,arguments)}};Function.prototype.bind=bind;bind.$extjs=!0}();
Ext.setResourcePath=function(poolName,path){var manifest=Ext.manifest||(Ext.manifest={}),paths=manifest.resources||(manifest.resources={});manifest&&('string'!==typeof poolName?Ext.apply(paths,poolName):paths[poolName]=path,manifest.resources=paths)};
Ext.getResourcePath=function(path,poolName,packageName){'string'!==typeof path&&(poolName=path.pool,packageName=path.packageName,path=path.path);var manifest=Ext.manifest;manifest=manifest&&manifest.resources;poolName=manifest[poolName];var output=[];null==poolName&&(poolName=manifest.path,null==poolName&&(poolName='resources'));poolName&&output.push(poolName);packageName&&output.push(packageName);output.push(path);return output.join('/')};Ext=Ext||{};
(function(){function addInstanceOverrides(target,owner,overrides){var name;for(name in overrides)if(overrides.hasOwnProperty(name)){var value=overrides[name];'function'===typeof value&&(value.$name=name,value.$owner=owner,value.$previous=target.hasOwnProperty(name)?target[name]:callOverrideParent);target[name]=value}}var global=this,toString=Object.prototype.toString,enumerables=['valueOf','toLocaleString','toString','constructor'],emptyFn=Ext.fireIdle=function(){},privateFn=function(){},identityFn=
function(o){return o},callOverrideParent=function(){var method=callOverrideParent.caller.caller;return method.$owner.prototype[method.$name].apply(this,arguments)},manifest=Ext.manifest||{},iterableRe=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,MSDateRe=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/,elevateArgs,elevateFn,elevateRet,elevateScope,i$jscomp$0;Ext.global=global;Ext.$nextIid=0;Ext.now=Date.now||(Date.now=function(){return+new Date});Ext.ticks=
global.performance&&global.performance.now?function(){return performance.now()}:Ext.now;Ext._startTime=Ext.ticks();emptyFn.$nullFn=identityFn.$nullFn=emptyFn.$emptyFn=identityFn.$identityFn=privateFn.$nullFn=!0;privateFn.$privacy='framework';emptyFn.$noClearOnDestroy=identityFn.$noClearOnDestroy=!0;privateFn.$noClearOnDestroy=!0;Ext.suspendLayouts=Ext.resumeLayouts=emptyFn;for(i$jscomp$0 in{toString:1})enumerables=null;Ext.enumerables=enumerables;Ext.apply=function(object,config,defaults){if(object&&
(defaults&&Ext.apply(object,defaults),config&&'object'===typeof config)){for(i in config)object[i]=config[i];if(enumerables)for(defaults=enumerables.length;defaults--;){var i=enumerables[defaults];config.hasOwnProperty(i)&&(object[i]=config[i])}}return object};Ext.buildSettings=Ext.apply({baseCSSPrefix:'x-'},Ext.buildSettings||{});Ext.apply(Ext,{idSeed:0,idPrefix:'ext-',isRobot:!1,isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:!1,enableListenerCollection:!0,name:Ext.sandboxName||
'Ext',privateFn,emptyFn,identityFn,frameStartTime:Ext.now(),manifest,enableAria:!0,startsWithHashRe:/^#/,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,BLANK_IMAGE_URL:'data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw\x3d\x3d',makeIdSelector:function(id){return'#'+id},id:function(o,prefix){if(o&&o.id)return o.id;prefix=(prefix||Ext.idPrefix)+ ++Ext.idSeed;o&&(o.id=prefix);return prefix},returnId:function(o){return o.getId()},returnTrue:function(){return!0},emptyString:new String,
emptyArray:Object.freeze?Object.freeze([]):[],baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},$vendorEventRe:/^(DOMMouse|Moz.+|MS.+|webkit.+)/,canonicalEventName:function(name){return Ext.$eventNameMap[name]||(Ext.$eventNameMap[name]=Ext.$vendorEventRe.test(name)?name:name.toLowerCase())},applyIf:function(object,config){var property;if(object&&config&&'object'===typeof config)for(property in config)void 0===object[property]&&(object[property]=config[property]);return object},destroy:function(){var ln=
arguments.length,i,arg;for(i=0;i<ln;i++)(arg=arguments[i])&&(Ext.isArray(arg)?this.destroy.apply(this,arg):Ext.isFunction(arg.destroy)&&!arg.destroyed&&arg.destroy());return null},destroyMembers:function(object){for(var ref,name,i=1,a=arguments,len=a.length;i<len;i++)ref=object[name=a[i]],null!=ref&&(object[name]=Ext.destroy(ref))},override:function(target,overrides){if(target.$isClass)target.override(overrides);else if('function'===typeof target)Ext.apply(target.prototype,overrides);else{var owner=
target.self,privates;if(owner&&owner.$isClass){if(privates=overrides.privates)overrides=Ext.apply({},overrides),delete overrides.privates,addInstanceOverrides(target,owner,privates);addInstanceOverrides(target,owner,overrides)}else Ext.apply(target,overrides)}return target},valueFrom:function(value,defaultValue,allowBlank){return Ext.isEmpty(value,allowBlank)?defaultValue:value},isEmpty:function(value,allowEmptyString){return null==value||(allowEmptyString?!1:''===value)||Ext.isArray(value)&&0===
value.length},isArray:'isArray'in Array?Array.isArray:function(value){return'[object Array]'===toString.call(value)},isDate:function(obj){return'[object Date]'===toString.call(obj)},isMSDate:function(value){return Ext.isString(value)?MSDateRe.test(value):!1},isObject:'[object Object]'===toString.call(null)?function(value){return null!=value&&'[object Object]'===toString.call(value)&&void 0===value.ownerDocument}:function(value){return'[object Object]'===toString.call(value)},isSimpleObject:function(value){return value instanceof
Object&&value.constructor===Object},isPrimitive:function(value){value=typeof value;return'string'===value||'number'===value||'boolean'===value},isFunction:'undefined'!==typeof document&&'function'===typeof document.getElementsByTagName('body')?function(value){return!!value&&'[object Function]'===toString.call(value)}:function(value){return!!value&&'function'===typeof value},isNumber:function(value){return'number'===typeof value&&isFinite(value)},isNumeric:function(value){return!isNaN(parseFloat(value))&&
isFinite(value)},isString:function(value){return'string'===typeof value},isBoolean:function(value){return'boolean'===typeof value},isElement:function(value){return value?1===value.nodeType:!1},isTextNode:function(value){return value?'#text'===value.nodeName:!1},isDefined:function(value){return'undefined'!==typeof value},isIterable:function(value){return!value||'number'!==typeof value.length||'string'===typeof value||Ext.isFunction(value)?!1:value.propertyIsEnumerable?value.hasOwnProperty('length')&&
!value.propertyIsEnumerable('length')?!0:iterableRe.test(toString.call(value)):!!value.item},isDebugEnabled:emptyFn,clone:function(item,cloneDom){if(null==item)return item;if(!1!==cloneDom&&item.nodeType&&item.cloneNode)return item.cloneNode(!0);var type=toString.call(item),clone,key;if('[object Date]'===type)return new Date(item.getTime());if('[object Array]'===type)for(type=item.length,clone=[];type--;)clone[type]=Ext.clone(item[type],cloneDom);else if('[object Object]'===type&&item.constructor===
Object){clone={};for(key in item)clone[key]=Ext.clone(item[key],cloneDom);if(enumerables)for(cloneDom=enumerables.length;cloneDom--;)type=enumerables[cloneDom],item.hasOwnProperty(type)&&(clone[type]=item[type])}return clone||item},getUniqueGlobalNamespace:function(){var uniqueGlobalNamespace=this.uniqueGlobalNamespace;if(void 0===uniqueGlobalNamespace){var i=0;do uniqueGlobalNamespace='ExtBox'+ ++i;while(void 0!==global[uniqueGlobalNamespace]);global[uniqueGlobalNamespace]=Ext;this.uniqueGlobalNamespace=
uniqueGlobalNamespace}return uniqueGlobalNamespace},functionFactoryCache:{},cacheableFunctionFactory:function(){var args=Array.prototype.slice.call(arguments),cache=this.functionFactoryCache;if(Ext.isSandboxed){var idx=args.length;0<idx&&(idx--,args[idx]='var Ext\x3dwindow.'+Ext.name+';'+args[idx])}idx=args.join('');var fn=cache[idx];fn||(fn=Function.prototype.constructor.apply(Function.prototype,args),cache[idx]=fn);return fn},functionFactory:function(){var args=Array.prototype.slice.call(arguments);
if(Ext.isSandboxed){var ln=args.length;0<ln&&(ln--,args[ln]='var Ext\x3dwindow.'+Ext.name+';'+args[ln])}return Function.prototype.constructor.apply(Function.prototype,args)},Logger:{verbose:emptyFn,log:emptyFn,info:emptyFn,warn:emptyFn,error:function(message){throw Error(message);},deprecate:emptyFn},ariaWarn:function(target,msg){Ext.enableAria&&!Ext.slicer&&(Ext.ariaWarn.first||(Ext.ariaWarn.first=!0,Ext.log.warn('WAI-ARIA compatibility warnings can be suppressed by adding the following to application startup code:'),
Ext.log.warn('    Ext.ariaWarn \x3d Ext.emptyFn;')),Ext.log.warn({msg,dump:target}))},getElementById:function(id){return document.getElementById(id)},splitAndUnescape:function(){var cache={};return function(origin,delimiter){if(!origin)return[];if(!delimiter)return[origin];var replaceRe=cache[delimiter]||(cache[delimiter]=new RegExp('\\\\'+delimiter,'g')),result=[],part;for(origin=origin.split(delimiter);void 0!==(part=origin.shift());){for(;'\\'===part.charAt(part.length-1)&&0<origin.length;)part=
part+delimiter+origin.shift();part=part.replace(replaceRe,delimiter);result.push(part)}return result}}(),doElevate:function(){var fn=elevateFn,args=elevateArgs,scope=elevateScope;elevateFn=elevateArgs=elevateScope=null;elevateRet=args?fn.apply(scope,args):fn.call(scope);Ext.fireIdle()},elevate:function(fn,scope,args){args&&!args.length&&(args=null);Ext._suppressIdle=!1;Ext.elevateFunction?(elevateFn=fn,elevateScope=scope,elevateArgs=args,Ext.elevateFunction(Ext.doElevate),fn=elevateRet,elevateRet=
null):(fn=args?fn.apply(scope,args):fn.call(scope),Ext.fireIdle());return fn},getExpando:function(target,id){return(target=target.$expandos)&&target[id]||null},setExpando:function(target,id,value){var expandos=target.$expandos;void 0!==value?(expandos||(target.$expandos={}))[id]=value:expandos&&delete expandos[id];return value}});Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=!0})();Ext.platformTags.modern=!(Ext.platformTags.classic=Ext.isClassic=!0);
(function(){function toString(){var cls=this.sourceClass,method=this.sourceMethod,msg=this.msg;method&&(method=msg?method+'(): '+msg:method+'()');cls&&(method=method?cls+'.'+method:cls);return method||msg||''}Ext.Error=function(config){var error=Error();Ext.isString(config)&&(config={msg:config});Ext.apply(error,config);error.message=error.message||error.msg;error.toString=toString;return error};Ext.apply(Ext.Error,{ignore:!1,raise:function(err){var method=this.raise.caller,name;err=err||{};Ext.isString(err)&&
(err={msg:err});method===Ext.raise&&(method=method.caller);method&&(!err.sourceMethod&&(name=method.$name)&&(err.sourceMethod=name),!err.sourceClass&&(name=method.$owner)&&(name=name.$className)&&(err.sourceClass=name));if(!0!==this.handle(err))throw toString.call(err),new Ext.Error(err);},handle:function(){return this.ignore}})})();Ext.deprecated=function(suggestion){return Ext.emptyFn};Ext.raise=function(){Ext.Error.raise.apply(Ext.Error,arguments)};
Ext.Array=function(){function stableSort(array,userComparator){var len=array.length,indices=Array(len),i;for(i=0;i<len;i++)indices[i]=i;indices.sort(function(index1,index2){return userComparator(array[index1],array[index2])||index1-index2});for(i=0;i<len;i++)indices[i]=array[indices[i]];for(i=0;i<len;i++)array[i]=indices[i];return array}var arrayPrototype=Array.prototype,slice=arrayPrototype.slice,supportsSplice=function(){var array=[];var lengthBefore=20;if(!array.splice)return!1;for(;lengthBefore--;)array.push('A');
array.splice(15,0,'F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F');lengthBefore=array.length;array.splice(13,0,'XXX');return lengthBefore+1!==array.length?!1:!0}(),supportsIndexOf='indexOf'in arrayPrototype,supportsSliceOnNodeList=!0;try{'undefined'!==typeof document&&slice.call(document.getElementsByTagName('body'))}catch(e){supportsSliceOnNodeList=!1}var fixArrayIndex=function(array,index){return 0>index?Math.max(0,array.length+index):Math.min(array.length,index)},
replaceSim=function(array,index,removeCount,insert){var add=insert?insert.length:0,length=array.length;index=fixArrayIndex(array,index);if(index===length)add&&array.push.apply(array,insert);else{var remove=Math.min(removeCount,length-index);removeCount=index+remove;var tailNewPos=removeCount+add-remove,tailCount=length-removeCount;length-=remove;if(tailNewPos<removeCount)for(remove=0;remove<tailCount;++remove)array[tailNewPos+remove]=array[removeCount+remove];else if(tailNewPos>removeCount)for(remove=
tailCount;remove--;)array[tailNewPos+remove]=array[removeCount+remove];if(add&&index===length)array.length=length,array.push.apply(array,insert);else for(array.length=length+add,remove=0;remove<add;++remove)array[index+remove]=insert[remove]}return array},replaceNative=function(array,index,removeCount,insert){insert&&insert.length?0!==index||removeCount?index<array.length?array.splice.apply(array,[index,removeCount].concat(insert)):array.push.apply(array,insert):array.unshift.apply(array,insert):
array.splice(index,removeCount);return array},eraseSim=function(array,index,removeCount){return replaceSim(array,index,removeCount)},eraseNative=function(array,index,removeCount){array.splice(index,removeCount);return array},spliceSim=function(array,index,removeCount){var len=arguments.length,pos=fixArrayIndex(array,index);3>len&&(removeCount=array.length-pos);var removed=array.slice(index,fixArrayIndex(array,pos+removeCount));4>len?replaceSim(array,pos,removeCount):replaceSim(array,pos,removeCount,
slice.call(arguments,3));return removed},spliceNative=function(array){return array.splice.apply(array,slice.call(arguments,1))},erase=supportsSplice?eraseNative:eraseSim,replace=supportsSplice?replaceNative:replaceSim;supportsSplice=supportsSplice?spliceNative:spliceSim;var ExtArray={binarySearch:function(array,item,begin,end,compareFn){var length=array.length;begin instanceof Function?(compareFn=begin,begin=0,end=length):end instanceof Function?(compareFn=end,end=length):(void 0===begin&&(begin=
0),void 0===end&&(end=length),compareFn=compareFn||ExtArray.lexicalCompare);for(--end;begin<=end;){length=begin+end>>1;var comparison=compareFn(item,array[length]);0<=comparison?begin=length+1:0>comparison&&(end=length-1)}return begin},defaultCompare:function(lhs,rhs){return lhs<rhs?-1:lhs>rhs?1:0},lexicalCompare:function(lhs,rhs){lhs=String(lhs);rhs=String(rhs);return lhs<rhs?-1:lhs>rhs?1:0},each:function(array,fn,scope,reverse){array=ExtArray.from(array);var ln=array.length;if(!0!==reverse)for(reverse=
0;reverse<ln;reverse++){if(!1===fn.call(scope||array[reverse],array[reverse],reverse,array))return reverse}else for(reverse=ln-1;-1<reverse;reverse--)if(!1===fn.call(scope||array[reverse],array[reverse],reverse,array))return reverse;return!0},findInsertionIndex:function(item,items,comparatorFn,index){var len=items.length;comparatorFn=comparatorFn||ExtArray.lexicalCompare;if(0<=index&&index<len){var beforeCheck=0<index?comparatorFn(item,items[index-1]):0;len=index<len?comparatorFn(item,items[index]):
0;if(0<=beforeCheck&&1>len)return index}return ExtArray.binarySearch(items,item,comparatorFn)},forEach:'forEach'in arrayPrototype?function(array,fn,scope){array.forEach(fn,scope)}:function(array,fn,scope){var ln;var i=0;for(ln=array.length;i<ln;i++)fn.call(scope,array[i],i,array)},indexOf:supportsIndexOf?function(array,item,from){return array?arrayPrototype.indexOf.call(array,item,from):-1}:function(array,item,from){var length=array?array.length:0;for(from=0>from?Math.max(0,length+from):from||0;from<
length;from++)if(array[from]===item)return from;return-1},contains:supportsIndexOf?function(array,item){return-1!==arrayPrototype.indexOf.call(array,item)}:function(array,item){var ln;var i=0;for(ln=array.length;i<ln;i++)if(array[i]===item)return!0;return!1},toArray:function(iterable,start,end){var array=[];if(!iterable||!iterable.length)return array;'string'===typeof iterable&&(iterable=iterable.split(''));if(supportsSliceOnNodeList)return slice.call(iterable,start||0,end||iterable.length);end=end?
0>end?iterable.length+end:end:iterable.length;for(start=start||0;start<end;start++)array.push(iterable[start]);return array},pluck:function(array,propertyName){var ret=[],ln;var i=0;for(ln=array.length;i<ln;i++){var item=array[i];ret.push(item[propertyName])}return ret},map:'map'in arrayPrototype?function(array,fn,scope){return array.map(fn,scope)}:function(array,fn,scope){var len=array.length,results=Array(len),i;for(i=0;i<len;i++)results[i]=fn.call(scope,array[i],i,array);return results},every:'every'in
arrayPrototype?function(array,fn,scope){return array.every(fn,scope)}:function(array,fn,scope){var ln;var i=0;for(ln=array.length;i<ln;++i)if(!fn.call(scope,array[i],i,array))return!1;return!0},some:'some'in arrayPrototype?function(array,fn,scope){return array.some(fn,scope)}:function(array,fn,scope){var ln;var i=0;for(ln=array.length;i<ln;++i)if(fn.call(scope,array[i],i,array))return!0;return!1},equals:function(array1,array2){var len1=array1.length,i;if(array1===array2)return!0;if(len1!==array2.length)return!1;
for(i=0;i<len1;++i)if(array1[i]!==array2[i])return!1;return!0},clean:function(array){var results=[],ln;var i=0;for(ln=array.length;i<ln;i++){var item=array[i];Ext.isEmpty(item)||results.push(item)}return results},unique:function(array){var clone=[],ln;var i=0;for(ln=array.length;i<ln;i++){var item=array[i];-1===ExtArray.indexOf(clone,item)&&clone.push(item)}return clone},filter:'filter'in arrayPrototype?function(array,fn,scope){return array.filter(fn,scope)}:function(array,fn,scope){var results=[],
ln;var i=0;for(ln=array.length;i<ln;i++)fn.call(scope,array[i],i,array)&&results.push(array[i]);return results},findBy:function(array,fn,scope){var len;var i=0;for(len=array.length;i<len;i++)if(fn.call(scope||array,array[i],i))return array[i];return null},from:function(value,newReference){if(void 0===value||null===value)return[];if(Ext.isArray(value))return newReference?slice.call(value):value;newReference=typeof value;return!value||void 0===value.length||'string'===newReference||'function'===newReference&&
value.apply?[value]:ExtArray.toArray(value)},remove:function(array,item){item=ExtArray.indexOf(array,item);-1!==item&&erase(array,item,1);return array},removeAt:function(array,index,count){var len=array.length;0<=index&&index<len&&(count=Math.min(count||1,len-index),erase(array,index,count));return array},include:function(array,item){ExtArray.contains(array,item)||array.push(item)},clone:function(array){return slice.call(array)},merge:function(){var args=slice.call(arguments),array=[],ln;var i=0;
for(ln=args.length;i<ln;i++)array=array.concat(args[i]);return ExtArray.unique(array)},intersect:function(){var intersection=[],arrays=slice.call(arguments),array,elementCount,i,j,k;if(!arrays.length)return intersection;var arraysLength=arrays.length;for(i=array=0;i<arraysLength;i++){var arrayLength=arrays[i];if(!minArray||arrayLength.length<minArray.length){var minArray=arrayLength;array=i}}minArray=ExtArray.unique(minArray);erase(arrays,array,1);var minArrayLength=minArray.length;arraysLength=arrays.length;
for(i=0;i<minArrayLength;i++){var element=minArray[i];for(j=elementCount=0;j<arraysLength;j++)for(array=arrays[j],arrayLength=array.length,k=0;k<arrayLength;k++){var elementCandidate=array[k];if(element===elementCandidate){elementCount++;break}}elementCount===arraysLength&&intersection.push(element)}return intersection},difference:function(arrayA,arrayB){arrayA=slice.call(arrayA);var ln=arrayA.length,j,lnB;var i=0;for(lnB=arrayB.length;i<lnB;i++)for(j=0;j<ln;j++)arrayA[j]===arrayB[i]&&(erase(arrayA,
j,1),j--,ln--);return arrayA},reduce:Array.prototype.reduce?function(array,reduceFn,initialValue){return 3===arguments.length?Array.prototype.reduce.call(array,reduceFn,initialValue):Array.prototype.reduce.call(array,reduceFn)}:function(array,reduceFn,initialValue){array=Object(array);var index=0,length=array.length>>>0,reduced=initialValue;if(3>arguments.length)for(;;){if(index in array){reduced=array[index++];break}if(++index>=length)throw new TypeError('Reduce of empty array with no initial value');
}for(;index<length;++index)index in array&&(reduced=reduceFn(reduced,array[index],index,array));return reduced},slice:[1,2].slice(1,void 0).length?function(array,begin,end){return slice.call(array,begin,end)}:function(array,begin,end){return'undefined'===typeof begin?slice.call(array):'undefined'===typeof end?slice.call(array,begin):slice.call(array,begin,end)},sort:function(array,sortFn){return stableSort(array,sortFn||ExtArray.lexicalCompare)},flatten:function(array){function rFlatten(a){var ln;
var i=0;for(ln=a.length;i<ln;i++){var v=a[i];Ext.isArray(v)?rFlatten(v):worker.push(v)}return worker}var worker=[];return rFlatten(array)},min:function(array,comparisonFn){var min=array[0],ln;var i=0;for(ln=array.length;i<ln;i++){var item=array[i];comparisonFn?1===comparisonFn(min,item)&&(min=item):item<min&&(min=item)}return min},max:function(array,comparisonFn){var max=array[0],ln;var i=0;for(ln=array.length;i<ln;i++){var item=array[i];comparisonFn?-1===comparisonFn(max,item)&&(max=item):item>max&&
(max=item)}return max},mean:function(array){return 0<array.length?ExtArray.sum(array)/array.length:void 0},sum:function(array){var sum=0,ln;var i=0;for(ln=array.length;i<ln;i++){var item=array[i];sum+=item}return sum},toMap:function(strings,getKey,scope){if(!strings)return null;var map={};var i=strings.length;if('string'===typeof strings)map[strings]=1;else if(getKey)if('string'===typeof getKey)for(;i--;)map[strings[i][getKey]]=i+1;else for(;i--;)map[getKey.call(scope,strings[i])]=i+1;else for(;i--;)map[strings[i]]=
i+1;return map},toValueMap:function(array,getKey,scope,arrayify){var map={},i=array.length,entry,fn;if(getKey){(fn='string'!==typeof getKey)||(arrayify=scope);var alwaysArray=1===arrayify;for(arrayify=2===arrayify;i--;){var value=array[i];var key=fn?getKey.call(scope,value):value[getKey];alwaysArray?key in map?map[key].push(value):map[key]=[value]:arrayify&&key in map?(entry=map[key])instanceof Array?entry.push(value):map[key]=[entry,value]:map[key]=value}}else for(;i--;)value=array[i],map[value]=
value;return map},erase,insert:function(array,index,items){return replace(array,index,0,items)},move:function(array,fromIdx,toIdx){if(toIdx!==fromIdx){for(var item=array[fromIdx],incr=toIdx>fromIdx?1:-1;fromIdx!==toIdx;fromIdx+=incr)array[fromIdx]=array[fromIdx+incr];array[toIdx]=item}},replace,splice:supportsSplice,push:function(target){var args=arguments,len=args.length,i;void 0===target?target=[]:Ext.isArray(target)||(target=[target]);for(i=1;i<len;i++){var newItem=args[i];Array.prototype.push[Ext.isIterable(newItem)?
'apply':'call'](target,newItem)}return target},numericSortFn:function(a,b){return a-b}};Ext.each=ExtArray.each;ExtArray.union=ExtArray.merge;Ext.min=ExtArray.min;Ext.max=ExtArray.max;Ext.sum=ExtArray.sum;Ext.mean=ExtArray.mean;Ext.flatten=ExtArray.flatten;Ext.clean=ExtArray.clean;Ext.unique=ExtArray.unique;Ext.pluck=ExtArray.pluck;Ext.toArray=function(){return ExtArray.toArray.apply(ExtArray,arguments)};return ExtArray}();
Ext.String=function(){var trimRegex=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,escapeRe=/('|\\)/g,escapeRegexRe=/([-.*+?\^${}()|\[\]\/\\])/g,basicTrimRe=/^\s+|\s+$/g,whitespaceRe=/\s+/,varReplace=/(^[^a-z]*|[^\w])/gi,charToEntity,entityToChar,charToEntityRegex,
entityToCharRegex,htmlEncodeReplaceFn=function(match,capture){return charToEntity[capture]},htmlDecodeReplaceFn=function(match,capture){return capture in entityToChar?entityToChar[capture]:String.fromCharCode(parseInt(capture.substr(2),10))},boundsCheck=function(s,other){return null===s||void 0===s||null===other||void 0===other?!1:other.length<=s.length},fromCharCode=String.fromCharCode,ExtString;return ExtString={fromCodePoint:String.fromCodePoint||function(){for(var codePoint,result='',codeUnits=
[],index=-1,length=arguments.length;++index<length;)codePoint=Number(arguments[index]),(!isFinite(codePoint)||0>codePoint||1114111<codePoint||Math.floor(codePoint)!==codePoint)&&Ext.raise('Invalid code point: '+codePoint),65535>=codePoint?codeUnits.push(codePoint):(codePoint-=65536,codeUnits.push((codePoint>>10)+55296,codePoint%1024+56320)),index+1===length&&(result+=fromCharCode(codeUnits),codeUnits.length=0);return result},insert:function(s,value,index){if(!s)return value;if(!value)return s;var len=
s.length;index||0===index||(index=len);0>index&&(index*=-1,index=index>=len?0:len-index);return s=0===index?value+s:index>=s.length?s+value:s.substr(0,index)+value+s.substr(index)},startsWith:function(s,start,ignoreCase){var result=boundsCheck(s,start);result&&(ignoreCase&&(s=s.toLowerCase(),start=start.toLowerCase()),result=0===s.lastIndexOf(start,0));return result},endsWith:function(s,end,ignoreCase){var result=boundsCheck(s,end);result&&(ignoreCase&&(s=s.toLowerCase(),end=end.toLowerCase()),result=
-1!==s.indexOf(end,s.length-end.length));return result},createVarName:function(s){return s.replace(varReplace,'')},htmlEncode:function(value){return value?String(value).replace(charToEntityRegex,htmlEncodeReplaceFn):value},htmlDecode:function(value){return value?String(value).replace(entityToCharRegex,htmlDecodeReplaceFn):value},hasHtmlCharacters:function(s){return charToEntityRegex.test(s)},addCharacterEntities:function(newEntities){var charKeys=[],entityKeys=[],key;for(key in newEntities){var echar=
newEntities[key];entityToChar[key]=echar;charToEntity[echar]=key;charKeys.push(echar);entityKeys.push(key)}charToEntityRegex=new RegExp('('+charKeys.join('|')+')','g');entityToCharRegex=new RegExp('('+entityKeys.join('|')+'|\x26#[0-9]{1,5};)','g')},resetCharacterEntities:function(){charToEntity={};entityToChar={};this.addCharacterEntities({'\x26amp;':'\x26','\x26gt;':'\x3e','\x26lt;':'\x3c','\x26quot;':'"','\x26#39;':"'"})},urlAppend:function(url,string){return Ext.isEmpty(string)?url:url+(-1===url.indexOf('?')?
'?':'\x26')+string},trim:function(string){string&&(string=string.replace(trimRegex,''));return string||''},capitalize:function(string){string&&(string=string.charAt(0).toUpperCase()+string.substr(1));return string||''},uncapitalize:function(string){string&&(string=string.charAt(0).toLowerCase()+string.substr(1));return string||''},ellipsis:function(value,length,word){if(value&&value.length>length){if(word){word=value.substr(0,length-2);var index=Math.max(word.lastIndexOf(' '),word.lastIndexOf('.'),
word.lastIndexOf('!'),word.lastIndexOf('?'));if(-1!==index&&index>=length-15)return word.substr(0,index)+'...'}return value.substr(0,length-3)+'...'}return value},escapeRegex:function(string){return string.replace(escapeRegexRe,'\\$1')},createRegex:function(value,startsWith,endsWith,ignoreCase){var ret=value;null==value||value.exec||(ret=ExtString.escapeRegex(String(value)),!1!==startsWith&&(ret='^'+ret),!1!==endsWith&&(ret+='$'),ret=new RegExp(ret,!1!==ignoreCase?'i':''));return ret},escape:function(string){return string.replace(escapeRe,
'\\$1')},toggle:function(string,value,other){return string===value?other:value},leftPad:function(string,size,character){string=String(string);for(character=character||' ';string.length<size;)string=character+string;return string},repeat:function(pattern,count,sep){var buf=[];for(1>count&&(count=0);count--;)buf.push(pattern);return buf.join(sep||'')},splitWords:function(words){return words&&'string'===typeof words?words.replace(basicTrimRe,'').split(whitespaceRe):words||[]}}}();Ext.String.resetCharacterEntities();
Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;
Ext.Date=function(){function xf(format){var args=Array.prototype.slice.call(arguments,1);return format.replace(numberTokenRe,function(m,i){return args[i]})}var nativeDate=Date,stripEscapeRe=/(\\.)/g,hourInfoRe=/([gGhHisucUOPZ]|MS)/,dateInfoRe=/([djzmnYycU]|MS)/,slashRe=/\\/gi,numberTokenRe=/\{(\d+)\}/g,MSFormatRe=/\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\//,datePartsRe=/^(?:(\d{1,4})|(\w{3,}))[/\-.\\\s](?:(\d{1,2})|(\w{3,}))[/\-.\\\s](\d{1,4})$/,pad=Ext.String.leftPad,dayInfo={d:!0,j:!0},monthInfo={F:!0,
m:!0,M:!0,n:!0},yearInfo={o:!0,Y:!0,y:!0};Date.prototype.toISOString||(Date.prototype.toISOString=function(){return pad(this.getUTCFullYear(),4,'0')+'-'+pad(this.getUTCMonth()+1,2,'0')+'-'+pad(this.getUTCDate(),2,'0')+'T'+pad(this.getUTCHours(),2,'0')+':'+pad(this.getUTCMinutes(),2,'0')+':'+pad(this.getUTCSeconds(),2,'0')+'.'+pad(this.getUTCMilliseconds(),3,'0')+'Z'});var utilDate={now:nativeDate.now,toString:function(date){date||(date=new nativeDate);return date.getFullYear()+'-'+pad(date.getMonth()+
1,2,'0')+'-'+pad(date.getDate(),2,'0')+'T'+pad(date.getHours(),2,'0')+':'+pad(date.getMinutes(),2,'0')+':'+pad(date.getSeconds(),2,'0')},getElapsed:function(dateA,dateB){return Math.abs(dateA-(dateB||utilDate.now()))},useStrict:!1,formatCodeToRegex:function(character,currentGroup){var p=utilDate.parseCodes[character];p&&(p='function'===typeof p?p():p,utilDate.parseCodes[character]=p);return p?Ext.applyIf({c:p.c?xf(p.c,currentGroup||'{0}'):p.c},p):{g:0,c:null,s:Ext.String.escapeRegex(character)}},
parseFunctions:{MS:function(input,strict){return(input=(input||'').match(MSFormatRe))?new nativeDate(1*((input[1]||'')+input[2])):null},time:function(input,strict){return(input=parseInt(input,10))||0===input?new nativeDate(input):null},timestamp:function(input,strict){return(input=parseInt(input,10))||0===input?new nativeDate(1E3*input):null}},parseRegexes:[],formatFunctions:{MS:function(){return'\\/Date('+this.getTime()+')\\/'},time:function(){return this.getTime().toString()},timestamp:function(){return utilDate.format(this,
'U')}},y2kYear:50,MILLI:'ms',SECOND:'s',MINUTE:'mi',HOUR:'h',DAY:'d',MONTH:'mo',YEAR:'y',DAYS_IN_WEEK:7,MONTHS_IN_YEAR:12,MAX_DAYS_IN_MONTH:31,SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,defaults:{},dayNames:'Sunday Monday Tuesday Wednesday Thursday Friday Saturday'.split(' '),monthNames:'January February March April May June July August September October November December'.split(' '),monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,
Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:'m/d/Y',defaultTimeFormat:'h:i A',firstDayOfWeek:0,weekendDays:[0,6],getShortMonthName:function(month){return utilDate.monthNames[month].substring(0,3)},getShortDayName:function(day){return utilDate.dayNames[day].substring(0,3)},getMonthNumber:function(name){return utilDate.monthNumbers[name.substring(0,1).toUpperCase()+name.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(format){return hourInfoRe.test(format.replace(stripEscapeRe,
''))},formatContainsDateInfo:function(format){return dateInfoRe.test(format.replace(stripEscapeRe,''))},isMonthFormat:function(format){return!!monthInfo[format]},isYearFormat:function(format){return!!yearInfo[format]},unescapeFormat:function(format){return format.replace(slashRe,'')},formatCodes:{d:"Ext.String.leftPad(m.getDate(), 2, '0')",D:'Ext.Date.getShortDayName(m.getDay())',j:'m.getDate()',l:'Ext.Date.dayNames[m.getDay()]',N:'(m.getDay() ? m.getDay() : 7)',S:'Ext.Date.getSuffix(m)',w:'m.getDay()',
z:'Ext.Date.getDayOfYear(m)',W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(m), 2, '0')",F:'Ext.Date.monthNames[m.getMonth()]',m:"Ext.String.leftPad(m.getMonth() + 1, 2, '0')",M:'Ext.Date.getShortMonthName(m.getMonth())',n:'(m.getMonth() + 1)',t:'Ext.Date.getDaysInMonth(m)',L:'(Ext.Date.isLeapYear(m) ? 1 : 0)',o:'(m.getFullYear() + (Ext.Date.getWeekOfYear(m) \x3d\x3d 1 \x26\x26 m.getMonth() \x3e 0 ? +1 : (Ext.Date.getWeekOfYear(m) \x3e\x3d 52 \x26\x26 m.getMonth() \x3c 11 ? -1 : 0)))',Y:"Ext.String.leftPad(m.getFullYear(), 4, '0')",
y:"('' + m.getFullYear()).substring(2, 4)",a:"(m.getHours() \x3c 12 ? 'am' : 'pm')",A:"(m.getHours() \x3c 12 ? 'AM' : 'PM')",g:'((m.getHours() % 12) ? m.getHours() % 12 : 12)',G:'m.getHours()',h:"Ext.String.leftPad((m.getHours() % 12) ? m.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(m.getHours(), 2, '0')",i:"Ext.String.leftPad(m.getMinutes(), 2, '0')",s:"Ext.String.leftPad(m.getSeconds(), 2, '0')",u:"Ext.String.leftPad(m.getMilliseconds(), 3, '0')",O:'Ext.Date.getGMTOffset(m)',P:'Ext.Date.getGMTOffset(m, true)',
T:'Ext.Date.getTimezone(m)',Z:'(m.getTimezoneOffset() * -60)',c:function(){var code=[],i;for(i=0;12>i;++i){var e='Y-m-dTH:i:sP'.charAt(i);code.push('T'===e?"'T'":utilDate.getFormatCode(e))}return code.join(' + ')},C:function(){return'm.toISOString()'},U:'Math.round(m.getTime() / 1000)'},isValid:function(year,month,day,hour,minute,second,millisecond){hour=hour||0;minute=minute||0;second=second||0;millisecond=millisecond||0;var dt=utilDate.add(new nativeDate(100>year?100:year,month-1,day,hour,minute,
second,millisecond),utilDate.YEAR,100>year?year-100:0);return year===dt.getFullYear()&&month===dt.getMonth()+1&&day===dt.getDate()&&hour===dt.getHours()&&minute===dt.getMinutes()&&second===dt.getSeconds()&&millisecond===dt.getMilliseconds()},parse:function(input,format,strict){if(!format)return utilDate.flexParse(input);var p=utilDate.parseFunctions;null==p[format]&&utilDate.createParser(format);return p[format].call(utilDate,input,Ext.isDefined(strict)?strict:utilDate.useStrict)},parseDate:function(input,
format,strict){return utilDate.parse(input,format,strict)},getFormatCode:function(character){var f=utilDate.formatCodes[character];f&&(f='function'===typeof f?f():f,utilDate.formatCodes[character]=f);return f||"'"+Ext.String.escape(character)+"'"},createFormat:function(format){var code=[],special=!1,i;for(i=0;i<format.length;++i){var ch=format.charAt(i);special||'\\'!==ch?special?(special=!1,code.push("'"+Ext.String.escape(ch)+"'")):'\n'===ch?code.push("'\\n'"):code.push(utilDate.getFormatCode(ch)):
special=!0}utilDate.formatFunctions[format]=Ext.functionFactory('var m \x3d this; return '+code.join('+'))},createParser:function(format){for(var regexNum=utilDate.parseRegexes.length,currentGroup=1,calc=[],regex=[],special=!1,ch,i=0,len=format.length,atEnd=[];i<len;++i)ch=format.charAt(i),special||'\\'!==ch?special?(special=!1,regex.push(Ext.String.escape(ch))):(ch=utilDate.formatCodeToRegex(ch,currentGroup),currentGroup+=ch.g,regex.push(ch.s),ch.g&&ch.c&&(ch.calcAtEnd?atEnd.push(ch.c):calc.push(ch.c))):
special=!0;calc=calc.concat(atEnd);utilDate.parseRegexes[regexNum]=new RegExp('^'+regex.join('')+'$','i');utilDate.parseFunctions[format]=Ext.functionFactory('input','strict',xf("var me \x3d this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,\ndef \x3d me.defaults,\nfrom \x3d Ext.Number.from,\nresults \x3d String(input).match(me.parseRegexes[{0}]);\nif(results){\n{1}\nif(u !\x3d null){\nv \x3d new Date(u * 1000);\n}else{\ndt \x3d me.clearTime(new Date);\ny \x3d from(y, from(def.y, dt.getFullYear()));\nm \x3d from(m, from(def.m - 1, dt.getMonth()));\ndayMatched \x3d d !\x3d\x3d undefined;\nd \x3d from(d, from(def.d, dt.getDate()));\nif (!dayMatched) {\ndt.setDate(1);\ndt.setMonth(m);\ndt.setFullYear(y);\ndaysInMonth \x3d me.getDaysInMonth(dt);\nif (d \x3e daysInMonth) {\nd \x3d daysInMonth;\n}\n}\nh  \x3d from(h, from(def.h, dt.getHours()));\ni  \x3d from(i, from(def.i, dt.getMinutes()));\ns  \x3d from(s, from(def.s, dt.getSeconds()));\nms \x3d from(ms, from(def.ms, dt.getMilliseconds()));\nif(z \x3e\x3d 0 \x26\x26 y \x3e\x3d 0){\nv \x3d me.add(new Date(y \x3c 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y \x3c 100 ? y - 100 : 0);\nv \x3d !strict? v : (strict \x3d\x3d\x3d true \x26\x26 (z \x3c\x3d 364 || (me.isLeapYear(v) \x26\x26 z \x3c\x3d 365))? me.add(v, me.DAY, z) : null);\n}else if(strict \x3d\x3d\x3d true \x26\x26 !me.isValid(y, m + 1, d, h, i, s, ms)){\nv \x3d null;\n}else{\nif (W) {\nyear \x3d y || (new Date()).getFullYear();\njan4 \x3d new Date(year, 0, 4, 0, 0, 0);\nd \x3d jan4.getDay();\nweek1monday \x3d new Date(jan4.getTime() - ((d \x3d\x3d\x3d 0 ? 6 : d - 1) * 86400000));\nv \x3d Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));\n} else {\nv \x3d me.add(new Date(y \x3c 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y \x3c 100 ? y - 100 : 0);\n}\n}\n}\n}\nif(v){\nif(zz !\x3d null){\nv \x3d me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);\n}else if(o){\nv \x3d me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn \x3d\x3d '+'? -1 : 1) * (hr * 60 + mn));\n}\n}\nreturn (v !\x3d null) ? v : null;",
regexNum,calc.join('')))},parseCodes:{d:{g:1,c:'d \x3d parseInt(results[{0}], 10);\n',s:'(3[0-1]|[1-2][0-9]|0[1-9])'},j:{g:1,c:'d \x3d parseInt(results[{0}], 10);\n',s:'(3[0-1]|[1-2][0-9]|[1-9])'},D:function(){var a=[],i;for(i=0;7>i;i++)a.push(utilDate.getShortDayName(i));return{g:0,c:null,s:'(?:'+a.join('|')+')'}},l:function(){return{g:0,c:null,s:'(?:'+utilDate.dayNames.join('|')+')'}},N:{g:0,c:null,s:'[1-7]'},S:{g:0,c:null,s:'(?:st|nd|rd|th)'},w:{g:0,c:null,s:'[0-6]'},z:{g:1,c:'z \x3d parseInt(results[{0}], 10);\n',
s:'(\\d{1,3})'},W:{g:1,c:'W \x3d parseInt(results[{0}], 10);\n',s:'(\\d{2})'},F:function(){return{g:1,c:'m \x3d parseInt(me.getMonthNumber(results[{0}]), 10);\n',s:'('+utilDate.monthNames.join('|')+')'}},M:function(){var a=[],i;for(i=0;12>i;i++)a.push(utilDate.getShortMonthName(i));return Ext.applyIf({s:'('+a.join('|')+')'},utilDate.formatCodeToRegex('F'))},m:{g:1,c:'m \x3d parseInt(results[{0}], 10) - 1;\n',s:'(1[0-2]|0[1-9])'},n:{g:1,c:'m \x3d parseInt(results[{0}], 10) - 1;\n',s:'(1[0-2]|[1-9])'},
t:{g:0,c:null,s:'(?:\\d{2})'},L:{g:0,c:null,s:'(?:1|0)'},o:{g:1,c:'y \x3d parseInt(results[{0}], 10);\n',s:'(\\d{4})'},Y:{g:1,c:'y \x3d parseInt(results[{0}], 10);\n',s:'(\\d{4})'},y:{g:1,c:'var ty \x3d parseInt(results[{0}], 10);\ny \x3d ty \x3e me.y2kYear ? 1900 + ty : 2000 + ty;\n',s:'(\\d{2})'},a:{g:1,c:'if (/(am)/i.test(results[{0}])) {\nif (!h || h \x3d\x3d 12) { h \x3d 0; }\n} else { if (!h || h \x3c 12) { h \x3d (h || 0) + 12; }}',s:'(am|pm|AM|PM)',calcAtEnd:!0},A:{g:1,c:'if (/(am)/i.test(results[{0}])) {\nif (!h || h \x3d\x3d 12) { h \x3d 0; }\n} else { if (!h || h \x3c 12) { h \x3d (h || 0) + 12; }}',
s:'(AM|PM|am|pm)',calcAtEnd:!0},g:{g:1,c:'h \x3d parseInt(results[{0}], 10);\n',s:'(1[0-2]|[1-9])'},G:{g:1,c:'h \x3d parseInt(results[{0}], 10);\n',s:'(2[0-3]|1[0-9]|[0-9])'},h:{g:1,c:'h \x3d parseInt(results[{0}], 10);\n',s:'(1[0-2]|0[1-9])'},H:{g:1,c:'h \x3d parseInt(results[{0}], 10);\n',s:'(2[0-3]|[0-1][0-9])'},i:{g:1,c:'i \x3d parseInt(results[{0}], 10);\n',s:'([0-5][0-9])'},s:{g:1,c:'s \x3d parseInt(results[{0}], 10);\n',s:'([0-5][0-9])'},u:{g:1,c:'ms \x3d results[{0}]; ms \x3d parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n',
s:'(\\d+)'},O:{g:1,c:"o \x3d results[{0}];\nvar sn \x3d o.substring(0,1),\nhr \x3d o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),\nmn \x3d o.substring(3,5) % 60;\no \x3d ((-12 \x3c\x3d (hr*60 + mn)/60) \x26\x26 ((hr*60 + mn)/60 \x3c\x3d 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",s:'([+-]\\d{4})'},P:{g:1,c:"o \x3d results[{0}];\nvar sn \x3d o.substring(0,1),\nhr \x3d o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),\nmn \x3d o.substring(4,6) % 60;\no \x3d ((-12 \x3c\x3d (hr*60 + mn)/60) \x26\x26 ((hr*60 + mn)/60 \x3c\x3d 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",
s:'([+-]\\d{2}:\\d{2})'},T:{g:0,c:null,s:'[A-Z]{1,5}'},Z:{g:1,c:'zz \x3d results[{0}] * 1;\nzz \x3d (-43200 \x3c\x3d zz \x26\x26 zz \x3c\x3d 50400)? zz : null;\n',s:'([+-]?\\d{1,5})'},c:function(){var calc=[],arr=[utilDate.formatCodeToRegex('Y',1),utilDate.formatCodeToRegex('m',2),utilDate.formatCodeToRegex('d',3),utilDate.formatCodeToRegex('H',4),utilDate.formatCodeToRegex('i',5),utilDate.formatCodeToRegex('s',6),{c:"ms \x3d results[7] || '0'; ms \x3d parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},
{c:["if (results[8]) {\nif (results[8] \x3d\x3d 'Z') {\nzz \x3d 0;\n}\nelse if (results[8].indexOf(':') \x3e -1) {",utilDate.formatCodeToRegex('P',8).c,'}\nelse {',utilDate.formatCodeToRegex('O',8).c,'}\n}'].join('\n')}],l;var i=0;for(l=arr.length;i<l;++i)calc.push(arr[i].c);return{g:1,c:calc.join(''),s:[arr[0].s,'(?:-',arr[1].s,'(?:-',arr[2].s,'(?:(?:T| )?',arr[3].s,':',arr[4].s,'(?::',arr[5].s,')?(?:(?:\\.|,)(\\d+))?(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?)?)?)?'].join('')}},U:{g:1,c:'u \x3d parseInt(results[{0}], 10);\n',
s:'(-?\\d+)'}},compare:function(d1,d2,includeTime){'string'===typeof d1&&(d1=Ext.Date.parse(d1));'string'===typeof d2&&(d2=Ext.Date.parse(d2));d1=Ext.Date.format(d1,'C');d2=Ext.Date.format(d2,'C');includeTime||(d1=d1.substr(0,10),d2=d2.substr(0,10));return d1<d2?-1:d2<d1?1:0},dateFormat:function(date,format){return utilDate.format(date,format)},isEqual:function(date1,date2){return date1&&date2?+date1===+date2:!(date1||date2)},format:function(date,format){var formatFunctions=utilDate.formatFunctions;
if(!Ext.isDate(date))return'';null==formatFunctions[format]&&utilDate.createFormat(format);return formatFunctions[format].call(date)+''},getTimezone:function(date){return date.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,'$1$2').replace(/[^A-Z]/g,'')},getGMTOffset:function(date,colon){date=date.getTimezoneOffset();return(0<date?'-':'+')+Ext.String.leftPad(Math.floor(Math.abs(date)/60),2,'0')+(colon?':':'')+Ext.String.leftPad(Math.abs(date%60),2,'0')},getDayOfYear:function(date){var num=
0,d=utilDate.clone(date),m=date.getMonth();var i=0;d.setDate(1);for(d.setMonth(0);i<m;d.setMonth(++i))num+=utilDate.getDaysInMonth(d);return num+date.getDate()-1},getWeekOfYear:function(){return function(date){date=nativeDate.UTC(date.getFullYear(),date.getMonth(),date.getDate()+3)/864E5;date=Math.floor(date/7);var Wyr=(new nativeDate(6048E5*date)).getUTCFullYear();return date-Math.floor(nativeDate.UTC(Wyr,0,7)/6048E5)+1}}(),isLeapYear:function(date){date=date.getFullYear();return!(0!==(date&3)||
!(date%100||0===date%400&&date))},getFirstDayOfMonth:function(date){date=(date.getDay()-(date.getDate()-1))%7;return 0>date?date+7:date},getLastDayOfMonth:function(date){return utilDate.getLastDateOfMonth(date).getDay()},getFirstDateOfMonth:function(date){return new nativeDate(date.getFullYear(),date.getMonth(),1)},getLastDateOfMonth:function(date){return new nativeDate(date.getFullYear(),date.getMonth(),utilDate.getDaysInMonth(date))},getDaysInMonth:function(){var daysInMonth=[31,28,31,30,31,30,
31,31,30,31,30,31];return function(date){var m=date.getMonth();return 1===m&&utilDate.isLeapYear(date)?29:daysInMonth[m]}}(),getSuffix:function(date){switch(date.getDate()){case 1:case 21:case 31:return'st';case 2:case 22:return'nd';case 3:case 23:return'rd';default:return'th'}},clone:function(date){return new nativeDate(date.getTime())},isDST:function(date){return(new nativeDate(date.getFullYear(),0,1)).getTimezoneOffset()!==date.getTimezoneOffset()},clearTime:function(date,clone){var c;if(isNaN(date.getTime()))return date;
if(clone)return utilDate.clearTime(utilDate.clone(date));clone=date.getDate();date.setHours(0);date.setMinutes(0);date.setSeconds(0);date.setMilliseconds(0);if(date.getDate()!==clone){var hr=1;for(c=utilDate.add(date,utilDate.HOUR,hr);c.getDate()!==clone;hr++,c=utilDate.add(date,utilDate.HOUR,hr));date.setDate(clone);date.setHours(c.getHours())}return date},add:function(date,interval,value,preventDstAdjust){var d=utilDate.clone(date),base=0;if(!interval||0===value)return d;var decimalValue=value-
parseInt(value,10);if(value=parseInt(value,10))switch(interval.toLowerCase()){case utilDate.MILLI:preventDstAdjust?d.setMilliseconds(d.getMilliseconds()+value):d.setTime(d.getTime()+value);break;case utilDate.SECOND:preventDstAdjust?d.setSeconds(d.getSeconds()+value):d.setTime(d.getTime()+1E3*value);break;case utilDate.MINUTE:preventDstAdjust?d.setMinutes(d.getMinutes()+value):d.setTime(d.getTime()+6E4*value);break;case utilDate.HOUR:preventDstAdjust?d.setHours(d.getHours()+value):d.setTime(d.getTime()+
36E5*value);break;case utilDate.DAY:!1===preventDstAdjust?d.setTime(d.getTime()+864E5*value):d.setDate(d.getDate()+value);break;case utilDate.MONTH:preventDstAdjust=date.getDate();28<preventDstAdjust&&(preventDstAdjust=Math.min(preventDstAdjust,utilDate.getLastDateOfMonth(utilDate.add(utilDate.getFirstDateOfMonth(date),utilDate.MONTH,value)).getDate()));d.setDate(preventDstAdjust);d.setMonth(date.getMonth()+value);break;case utilDate.YEAR:preventDstAdjust=date.getDate(),28<preventDstAdjust&&(preventDstAdjust=
Math.min(preventDstAdjust,utilDate.getLastDateOfMonth(utilDate.add(utilDate.getFirstDateOfMonth(date),utilDate.YEAR,value)).getDate())),d.setDate(preventDstAdjust),d.setFullYear(date.getFullYear()+value)}if(decimalValue){switch(interval.toLowerCase()){case utilDate.MILLI:base=1;break;case utilDate.SECOND:base=1E3;break;case utilDate.MINUTE:base=6E4;break;case utilDate.HOUR:base=36E5;break;case utilDate.DAY:base=864E5;break;case utilDate.MONTH:preventDstAdjust=utilDate.getDaysInMonth(d);base=864E5*
preventDstAdjust;break;case utilDate.YEAR:preventDstAdjust=utilDate.isLeapYear(d)?366:365,base=864E5*preventDstAdjust}base&&d.setTime(d.getTime()+base*decimalValue)}return d},subtract:function(date,interval,value,preventDstAdjust){return utilDate.add(date,interval,-value,preventDstAdjust)},between:function(date,start,end){date=date.getTime();return start.getTime()<=date&&date<=end.getTime()},isWeekend:function(date){return-1<Ext.Array.indexOf(this.weekendDays,date.getDay())},utcToLocal:function(d){return new Date(d.getUTCFullYear(),
d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds())},localToUtc:function(d){return utilDate.utc(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds())},utc:function(year,month,day,hour,min,s,ms){return new Date(Date.UTC(year,month,day,hour||0,min||0,s||0,ms||0))},compat:function(){var p='useStrict formatCodeToRegex parseFunctions parseRegexes formatFunctions y2kYear MILLI SECOND MINUTE HOUR DAY MONTH YEAR defaults dayNames monthNames monthNumbers getShortMonthName getShortDayName getMonthNumber formatCodes isValid parseDate getFormatCode createFormat createParser parseCodes'.split(' ');
var proto='dateFormat format getTimezone getGMTOffset getDayOfYear getWeekOfYear isLeapYear getFirstDayOfMonth getLastDayOfMonth getDaysInMonth getSuffix clone isDST clearTime add between'.split(' '),sLen=p.length,pLen=proto.length,s;for(s=0;s<sLen;s++){var stat=p[s];nativeDate[stat]=utilDate[stat]}for(p=0;p<pLen;p++){var prot=proto[p];nativeDate.prototype[prot]=function(){var args=Array.prototype.slice.call(arguments);args.unshift(this);return utilDate[prot].apply(utilDate,args)}}},diff:function(min,
max,unit){var diff=+max-min;switch(unit){case utilDate.MILLI:return diff;case utilDate.SECOND:return Math.floor(diff/1E3);case utilDate.MINUTE:return Math.floor(diff/6E4);case utilDate.HOUR:return Math.floor(diff/36E5);case utilDate.DAY:return Math.floor(diff/864E5);case 'w':return Math.floor(diff/6048E5);case utilDate.MONTH:return diff=12*max.getFullYear()+max.getMonth()-(12*min.getFullYear()+min.getMonth()),utilDate.add(min,unit,diff)>max?diff-1:diff;case utilDate.YEAR:return diff=max.getFullYear()-
min.getFullYear(),utilDate.add(min,unit,diff)>max?diff-1:diff}},align:function(date,unit,step){var num=new nativeDate(+date);switch(unit.toLowerCase()){case utilDate.MILLI:return num;case utilDate.SECOND:return num.setUTCSeconds(num.getUTCSeconds()-num.getUTCSeconds()%step),num.setUTCMilliseconds(0),num;case utilDate.MINUTE:return num.setUTCMinutes(num.getUTCMinutes()-num.getUTCMinutes()%step),num.setUTCSeconds(0),num.setUTCMilliseconds(0),num;case utilDate.HOUR:return num.setUTCHours(num.getUTCHours()-
num.getUTCHours()%step),num.setUTCMinutes(0),num.setUTCSeconds(0),num.setUTCMilliseconds(0),num;case utilDate.DAY:return 7!==step&&14!==step||num.setUTCDate(num.getUTCDate()-num.getUTCDay()+1),num.setUTCHours(0),num.setUTCMinutes(0),num.setUTCSeconds(0),num.setUTCMilliseconds(0),num;case utilDate.MONTH:return num.setUTCMonth(num.getUTCMonth()-(num.getUTCMonth()-1)%step,1),num.setUTCHours(0),num.setUTCMinutes(0),num.setUTCSeconds(0),num.setUTCMilliseconds(0),num;case utilDate.YEAR:return num.setUTCFullYear(num.getUTCFullYear()-
num.getUTCFullYear()%step,1,1),num.setUTCHours(0),num.setUTCMinutes(0),num.setUTCSeconds(0),num.setUTCMilliseconds(0),date}},flexParse:function(inDate,defaultFormat){var parts=datePartsRe.exec(inDate);if(!parts)return Ext.Date.parse(inDate,'C');defaultFormat||(defaultFormat=Ext.Date.defaultFormat);if(parts[2]||parts[4]){if(parts[2]&&parts[4])return null;parts[2]?(defaultFormat=utilDate.monthNumbers[Ext.String.capitalize(parts[2].substr(0,3))],inDate=parseInt(parts[3])):(inDate=parseInt(parts[1]),
defaultFormat=utilDate.monthNumbers[Ext.String.capitalize(parts[4].substr(0,3))]);var year=parseInt(parts[5])}else inDate=defaultFormat[0],!yearInfo[inDate]&&(dayInfo[inDate]||12<parts[1]&&13>parts[3])?(inDate=parseInt(parts[1]),defaultFormat=parseInt(parts[3])-1,year=parseInt(parts[5])):!yearInfo[inDate]&&(monthInfo[inDate]||12<parts[3]&&13>parts[1])?(defaultFormat=parseInt(parts[1])-1,inDate=parseInt(parts[3]),year=parseInt(parts[5])):(year=parseInt(parts[1]),defaultFormat=parseInt(parts[3])-1,
inDate=parseInt(parts[5]));if(isNaN(defaultFormat)||0>defaultFormat||11<defaultFormat)return null;year<utilDate.y2kYear&&(year+=2E3);parts=new Date(year,defaultFormat,1,0,0,0);if(1>inDate||inDate>Ext.Date.getDaysInMonth(parts))return null;parts.setDate(inDate);return parts}};utilDate.parseCodes.C=utilDate.parseCodes.c;return utilDate}();
Ext.Function=function(){var lastTime=0,animFrameId,animFrameHandlers=[],animFrameNoArgs=[],idSource=0,animFrameMap={},slice=Array.prototype.slice,win=window,global=Ext.global,hasImmediate=!Ext.disableImmediate&&!(!global.setImmediate||!global.clearImmediate),requestAnimFrame=win.requestAnimationFrame||win.webkitRequestAnimationFrame||win.mozRequestAnimationFrame||win.oRequestAnimationFrame||function(callback){var currTime=Ext.now(),timeToCall=Math.max(0,16-(currTime-lastTime));var id=win.setTimeout(function(){callback(currTime+
timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id},fireHandlers=function(){var len=animFrameHandlers.length,i;animFrameId=null;for(i=0;i<len;i++){var handler=animFrameHandlers[i];var id=handler[3];animFrameMap[id]&&(delete animFrameMap[id],handler[0].apply(handler[1]||global,handler[2]||animFrameNoArgs))}animFrameHandlers=animFrameHandlers.slice(len)},fireElevatedHandlers=function(){Ext.elevate(fireHandlers)},ExtFunction={flexSetter:function(setter){return function(name,value){if(null!==
name)if('string'!==typeof name){for(k in name)name.hasOwnProperty(k)&&setter.call(this,k,name[k]);if(Ext.enumerables)for(value=Ext.enumerables.length;value--;){var k=Ext.enumerables[value];name.hasOwnProperty(k)&&setter.call(this,k,name[k])}}else setter.call(this,name,value);return this}},bind:function(fn,scope,args,appendArgs){return 2>=arguments.length?fn.bind(scope):function(){var callArgs=args||arguments;!0===appendArgs?(callArgs=slice.call(arguments,0),callArgs=callArgs.concat(args)):'number'===
typeof appendArgs&&(callArgs=slice.call(arguments,0),Ext.Array.insert(callArgs,appendArgs,args));return fn.apply(scope||global,callArgs)}},bindCallback:function(callback,scope,args,delay,caller){return function(){var a=slice.call(arguments);return Ext.callback(callback,scope,args?args.concat(a):a,delay,caller)}},pass:function(fn,args,scope){Ext.isArray(args)||(args=Ext.isIterable(args)?Ext.Array.clone(args):void 0!==args?[args]:[]);return function(){var fnArgs=args.slice();fnArgs.push.apply(fnArgs,
arguments);return fn.apply(scope||this,fnArgs)}},alias:function(object,methodName){return function(){return object[methodName].apply(object,arguments)}},clone:function(method){var prop;var newMethod=function(){return method.apply(this,arguments)};for(prop in method)method.hasOwnProperty(prop)&&(newMethod[prop]=method[prop]);return newMethod},createInterceptor:function(origFn,newFn,scope,returnValue){return Ext.isFunction(newFn)?(returnValue=Ext.isDefined(returnValue)?returnValue:null,function(){var args=
arguments;return!1!==newFn.apply(scope||this||global,args)?origFn.apply(this||global,args):returnValue}):origFn},createDelayed:function(fn,delay,scope,args$jscomp$0,appendArgs){var boundFn=fn;if(scope||args$jscomp$0)boundFn=Ext.Function.bind(fn,scope,args$jscomp$0,appendArgs);return function(){var me=this,args=slice.call(arguments);setTimeout(function(){Ext.elevate(boundFn,me,args)},delay)}},defer:function(fn,millis,scope,args,appendArgs){var timerId=0;var boundFn=scope||args||appendArgs?Ext.Function.bind(fn,
scope,args,appendArgs):fn;0<millis?timerId=setTimeout(function(){Ext.elevate(boundFn)},millis):boundFn();return timerId},interval:function(fn,millis,scope,args,appendArgs){var boundFn=Ext.Function.bind(fn,scope,args,appendArgs);return setInterval(function(){Ext.elevate(boundFn)},millis)},createSequence:function(originalFn,newFn,scope){return newFn?function(){var result=originalFn.apply(this,arguments);newFn.apply(scope||this,arguments);return result}:originalFn},createBuffered:function(fn,buffer,
scope,args){var timerId,result=function(){var callArgs=args||slice.call(arguments,0),me=scope||this;timerId&&Ext.undefer(timerId);result.timer=timerId=setTimeout(function(){Ext.elevate(fn,me,callArgs)},buffer)};return result},createAnimationFrame:function(fn,scope,args,queueStrategy){var boundFn,timerId;queueStrategy=queueStrategy||3;return boundFn=function(){var callArgs=args||slice.call(arguments,0);scope=scope||this;3===queueStrategy&&timerId&&ExtFunction.cancelAnimationFrame(timerId);if(queueStrategy&
1||!timerId)timerId=boundFn.timerId=ExtFunction.requestAnimationFrame(function(){timerId=boundFn.timerId=null;fn.apply(scope,callArgs)})}},requestAnimationFrame:function(fn,scope,args){var id=++idSource,handler=slice.call(arguments,0);handler[3]=id;animFrameMap[id]=1;animFrameHandlers.push(handler);animFrameId||(animFrameId=requestAnimFrame(fireElevatedHandlers));return id},cancelAnimationFrame:function(id){delete animFrameMap[id]},createThrottled:function(fn,interval,scope){var lastCallTime=0,elapsed,
lastArgs,timerId,execute=function(){fn.apply(scope,lastArgs);lastCallTime=Ext.now();lastArgs=timerId=null};return function(){scope||(scope=this);elapsed=Ext.now()-lastCallTime;lastArgs=Ext.Array.slice(arguments);elapsed>=interval?(Ext.undefer(timerId),execute()):timerId||(timerId=Ext.defer(execute,interval-elapsed))}},createBarrier:function(count,fn,scope){return function(){--count||fn.apply(scope,arguments)}},interceptBefore:function(object,methodName,fn,scope){var method=object[methodName]||Ext.emptyFn;
return object[methodName]=function(){var ret=fn.apply(scope||this,arguments);method.apply(this,arguments);return ret}},interceptAfter:function(object,methodName,fn,scope){var method=object[methodName]||Ext.emptyFn;return object[methodName]=function(){method.apply(this,arguments);return fn.apply(scope||this,arguments)}},interceptAfterOnce:function(object,methodName,fn,scope){var origMethod=object[methodName];var newMethod=function(){origMethod&&origMethod.apply(this,arguments);var ret=fn.apply(scope||
this,arguments);object[methodName]=origMethod;object=methodName=fn=scope=origMethod=newMethod=null;return ret};return object[methodName]=newMethod},makeCallback:function(callback,scope){return function(){return scope[callback].apply(scope,arguments)}},memoize:function(fn,scope,hashFn){var memo={},isFunc=hashFn&&Ext.isFunction(hashFn);return function(value){var key=isFunc?hashFn.apply(scope,arguments):value;key in memo||(memo[key]=fn.apply(scope,arguments));return memo[key]}},toCode:function(fn){return fn?
fn.toString():''}};Ext.asap=hasImmediate?function(fn,scope,parameters){var boundFn=fn;if(null!=scope||null!=parameters)boundFn=ExtFunction.bind(fn,scope,parameters);return setImmediate(function(){Ext.elevate(boundFn)})}:function(fn,scope,parameters){var boundFn=fn;if(null!=scope||null!=parameters)boundFn=ExtFunction.bind(fn,scope,parameters);return setTimeout(function(){Ext.elevate(boundFn)},0,!0)};Ext.unasap=hasImmediate?function(id){id&&clearImmediate(id);return null}:function(id){return Ext.undefer(id)};
Ext.asapCancel=function(id){return Ext.unasap(id)};Ext.defer=ExtFunction.defer;Ext.undefer=function(id){id&&clearTimeout(id);return null};Ext.interval=ExtFunction.interval;Ext.uninterval=function(id){id&&clearInterval(id);return null};Ext.pass=ExtFunction.pass;Ext.bind=ExtFunction.bind;Ext.raf=function(){return ExtFunction.requestAnimationFrame.apply(ExtFunction,arguments)};Ext.unraf=function(id){ExtFunction.cancelAnimationFrame(id)};return ExtFunction}();
Ext.Number=new function(){var ExtNumber=this,isToFixedBroken='1'!==(.9).toFixed(),math=Math,ClipDefault={count:!1,inclusive:!1,wrap:!0};Number.MIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER||-(math.pow(2,53)-1);Number.MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||math.pow(2,53)-1;Ext.apply(ExtNumber,{MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,MAX_32BIT_INTEGER:math.pow(2,31)-1,floatRe:/^[-+]?(?:\d+|\d*\.\d*)(?:[Ee][+-]?\d+)?$/,intRe:/^[-+]?\d+(?:[Ee]\+?\d+)?$/,Clip:{DEFAULT:ClipDefault,
COUNT:Ext.applyIf({count:!0},ClipDefault),INCLUSIVE:Ext.applyIf({inclusive:!0},ClipDefault),NOWRAP:Ext.applyIf({wrap:!1},ClipDefault)},parseFloat:function(value){void 0===value&&(value=null);null!==value&&'number'!==typeof value&&(value=String(value),value=ExtNumber.floatRe.test(value)?+value:null,isNaN(value)&&(value=null));return value},parseInt:function(value){void 0===value&&(value=null);'number'===typeof value?value=Math.floor(value):null!==value&&(value=String(value),value=ExtNumber.intRe.test(value)?
+value:null);return value},binarySearch:function(array,value,begin,end){void 0===begin&&(begin=0);void 0===end&&(end=array.length);for(--end;begin<=end;){var middle=begin+end>>>1;var midVal=array[middle];if(value===midVal)return middle;midVal<value?begin=middle+1:end=middle-1}return begin},bisectTuples:function(array,value,index,begin,end){void 0===begin&&(begin=0);void 0===end&&(end=array.length);for(--end;begin<=end;){var middle=begin+end>>>1;var midVal=array[middle][index];if(value===midVal)return middle;
midVal<value?begin=middle+1:end=middle-1}return begin},clipIndices:function(length,indices,options){var defaultValue=0,i;options=options||ClipDefault;var wrap=options.wrap;indices=indices||[];for(i=0;2>i;++i){var begin=end;var end=indices[i];null==end?end=defaultValue:i&&options.count?(end+=begin,end=end>length?length:end):(wrap&&(end=0>end?length+end:end),i&&options.inclusive&&++end,end=0>end?0:end>length?length:end);defaultValue=length}indices[0]=begin;indices[1]=end<begin?begin:end;return indices},
constrain:function(number,min,max){var x=parseFloat(number);null===min&&(min=number);null===max&&(max=number);return x<min?min:x>max?max:x},snap:function(value,increment,minValue,maxValue){if(void 0===value||value<minValue)return minValue||0;if(increment){var m=value%increment;0!==m&&(value-=m,2*m>=increment?value+=increment:2*m<-increment&&(value-=increment))}return ExtNumber.constrain(value,minValue,maxValue)},snapInRange:function(value,increment,minValue,maxValue){var tween;minValue=minValue||
0;if(void 0===value||value<minValue)return minValue;increment&&(tween=(value-minValue)%increment)&&(value-=tween,2*tween>=increment&&(value+=increment));void 0!==maxValue&&value>(maxValue=ExtNumber.snapInRange(maxValue,increment,minValue))&&(value=maxValue);return value},roundToNearest:function(value,interval){interval=interval||1;return interval*math.round(value/interval)},roundToPrecision:function(value,precision){precision=math.pow(10,precision||1);return math.round(value*precision)/precision},
truncateToPrecision:function(value,precision){precision=math.pow(10,precision||1);return parseInt(value*precision,10)/precision},sign:math.sign||function(x){x=+x;return 0===x||isNaN(x)?x:0<x?1:-1},log10:math.log10||function(x){return math.log(x)*math.LOG10E},isEqual:function(n1,n2,epsilon){return math.abs(n1-n2)<epsilon},isFinite:Number.isFinite||function(value){return'number'===typeof value&&isFinite(value)},isInteger:Number.isInteger||function(value){return~~(value+0)===value},toFixed:isToFixedBroken?
function(value,precision){precision=precision||0;var pow=math.pow(10,precision);return(math.round(value*pow)/pow).toFixed(precision)}:function(value,precision){return value.toFixed(precision)},from:function(value,defaultValue){isFinite(value)&&(value=parseFloat(value));return isNaN(value)?defaultValue:value},randomInt:function(from,to){return math.floor(math.random()*(to-from+1)+from)},correctFloat:function(n){return parseFloat(n.toPrecision(14))}});Ext.num=function(){return ExtNumber.from.apply(this,
arguments)}};
(function(){var TemplateClass=function(){},queryRe=/^\?/,keyRe=/(\[):?([^\]]*)\]/g,nameRe=/^([^\[]+)/,plusRe=/\+/g;var ExtObject=Ext.Object={chain:Object.create||function(object){TemplateClass.prototype=object;object=new TemplateClass;TemplateClass.prototype=null;return object},clear:function(object){for(var key in object)delete object[key];return object},freeze:Object.freeze?function(obj,deep){var name;if(obj&&'object'===typeof obj&&!Object.isFrozen(obj)&&(Object.freeze(obj),deep))for(name in obj)ExtObject.freeze(obj[name],deep);
return obj}:Ext.identityFn,toQueryObjects:function(name,value,recursive){var self=ExtObject.toQueryObjects,objects=[],ln;if(Ext.isArray(value)){var i=0;for(ln=value.length;i<ln;i++)recursive?objects=objects.concat(self(name+'['+i+']',value[i],!0)):objects.push({name,value:value[i]})}else if(Ext.isObject(value))for(i in value)value.hasOwnProperty(i)&&(recursive?objects=objects.concat(self(name+'['+i+']',value[i],!0)):objects.push({name,value:value[i]}));else objects.push({name,value});return objects},
toQueryString:function(object,recursive){var paramObjects=[],params=[];for(i in object)object.hasOwnProperty(i)&&(paramObjects=paramObjects.concat(ExtObject.toQueryObjects(i,object[i],recursive)));object=0;for(recursive=paramObjects.length;object<recursive;object++){var i=paramObjects[object];var value=i.value;Ext.isEmpty(value)?value='':Ext.isDate(value)&&(value=Ext.Date.toString(value));params.push(encodeURIComponent(i.name)+'\x3d'+encodeURIComponent(String(value)))}return params.join('\x26')},
fromQueryString:function(queryString,recursive){queryString=queryString.replace(queryRe,'').split('\x26');var object={},ln,subLn;var i=0;for(ln=queryString.length;i<ln;i++){var components=queryString[i];if(0<components.length){components=components.split('\x3d');var temp=components[0];temp=temp.replace(plusRe,'%20');temp=decodeURIComponent(temp);components=components[1];void 0!==components?(components=components.replace(plusRe,'%20'),components=decodeURIComponent(components)):components='';if(recursive){var matchedKeys=
temp.match(keyRe);var j=temp.match(nameRe);temp=j[0];var keys=[];if(null===matchedKeys)object[temp]=components;else{j=0;for(subLn=matchedKeys.length;j<subLn;j++){var key=matchedKeys[j];key=2===key.length?'':key.substring(1,key.length-1);keys.push(key)}keys.unshift(temp);temp=object;j=0;for(subLn=keys.length;j<subLn;j++)if(key=keys[j],j===subLn-1)Ext.isArray(temp)&&''===key?temp.push(components):temp[key]=components;else{if(void 0===temp[key]||'string'===typeof temp[key])matchedKeys=keys[j+1],temp[key]=
Ext.isNumeric(matchedKeys)||''===matchedKeys?[]:{};temp=temp[key]}}}else object.hasOwnProperty(temp)?(Ext.isArray(object[temp])||(object[temp]=[object[temp]]),object[temp].push(components)):object[temp]=components}}return object},each:function(object,fn,scope){var enumerables=Ext.enumerables,i,property;if(object){scope=scope||object;for(property in object)if(object.hasOwnProperty(property)&&!1===fn.call(scope,property,object[property],object))return;if(enumerables)for(i=enumerables.length;i--&&(!object.hasOwnProperty(property=
enumerables[i])||!1!==fn.call(scope,property,object[property],object)););}},eachValue:function(object,fn,scope){var enumerables=Ext.enumerables,i,property;scope=scope||object;for(property in object)if(object.hasOwnProperty(property)&&!1===fn.call(scope,object[property]))return;if(enumerables)for(i=enumerables.length;i--&&(!object.hasOwnProperty(property=enumerables[i])||!1!==fn.call(scope,object[property])););},merge:function(destination){for(var i=1,args=arguments,ln=args.length,mergeFn=ExtObject.merge,
cloneFn=Ext.clone,object,key,value,sourceKey;i<ln;i++)for(key in object=args[i],object)(value=object[key])&&value.constructor===Object?(sourceKey=destination[key])&&sourceKey.constructor===Object?mergeFn(sourceKey,value):destination[key]=cloneFn(value):destination[key]=value;return destination},mergeIf:function(destination){for(var i=1,ln=arguments.length,cloneFn=Ext.clone,object,key,value;i<ln;i++)for(key in object=arguments[i],object)key in destination||(value=object[key],destination[key]=value&&
value.constructor===Object?cloneFn(value):value);return destination},getAllKeys:function(object){var keys=[],property;for(property in object)keys.push(property);return keys},getKey:function(object,value){for(var property in object)if(object.hasOwnProperty(property)&&object[property]===value)return property;return null},getValues:function(object){var values=[],property;for(property in object)object.hasOwnProperty(property)&&values.push(object[property]);return values},getKeys:'function'===typeof Object.keys?
function(object){return object?Object.keys(object):[]}:function(object){var keys=[],property;for(property in object)object.hasOwnProperty(property)&&keys.push(property);return keys},getSize:function(object){var size=0,property;for(property in object)object.hasOwnProperty(property)&&size++;return size},isEmpty:function(object){for(var key in object)if(object.hasOwnProperty(key))return!1;return!0},equals:function(){var check=function(o1,o2){for(var key in o1)if(o1.hasOwnProperty(key)&&o1[key]!==o2[key])return!1;
return!0};return function(object1,object2){return object1===object2?!0:object1&&object2?check(object1,object2)&&check(object2,object1):object1||object2?!1:object1===object2}}(),fork:function(obj){var key,value;if(obj&&obj.constructor===Object){var ret=ExtObject.chain(obj);for(key in obj)(value=obj[key])&&(value.constructor===Object?ret[key]=ExtObject.fork(value):value instanceof Array&&(ret[key]=Ext.Array.clone(value)))}else ret=obj;return ret},defineProperty:'defineProperty'in Object?Object.defineProperty:
function(object,name,descriptor){Object.prototype.__defineGetter__&&(descriptor.get&&object.__defineGetter__(name,descriptor.get),descriptor.set&&object.__defineSetter__(name,descriptor.set))},classify:function(object){var objectProperties=[],propertyClassesMap={},key,value;var objectClass=function(){var ln;var i=0;for(ln=objectProperties.length;i<ln;i++){var property=objectProperties[i];this[property]=new propertyClassesMap[property]}};for(key in object)object.hasOwnProperty(key)&&(value=object[key])&&
value.constructor===Object&&(objectProperties.push(key),propertyClassesMap[key]=ExtObject.classify(value));objectClass.prototype=object;return objectClass}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf})();
Ext.apply(Ext,{_namedScopes:{'this':{isThis:1},controller:{isController:1},owner:{isOwner:1},up:{isUp:1},self:{isSelf:1},'self.controller':{isSelf:1,isController:1}},scrollbar:{_size:null,size:function(force){var scrollbar=Ext.scrollbar,size=scrollbar._size;if(force||!size){force=document.body;var div=document.createElement('div'),w;div.style.width=div.style.height='100px';div.style.overflow='scroll';div.style.position='absolute';force.appendChild(div);scrollbar._size=size={width:w=div.offsetWidth-
div.clientWidth,height:scrollbar=div.offsetHeight-div.clientHeight};size.reservedWidth=w?'calc(100% - '+w+'px)':'';size.reservedHeight=scrollbar?'calc(100% - '+scrollbar+'px)':'';force.removeChild(div)}return size},height:function(force){return Ext.scrollbar.size(force).height},width:function(force){return Ext.scrollbar.size(force).width}},escapeId:function(){var validIdRe=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,escapeRx=/([\W]{1})/g,leadingNumRx=/^(\d)/g,escapeFn=function(match,capture){return'\\'+capture},
numEscapeFn=function(match,capture){return'\\00'+capture.charCodeAt(0).toString(16)+' '};return function(id){return validIdRe.test(id)?id:id.replace(escapeRx,escapeFn).replace(leadingNumRx,numEscapeFn)}}(),lookUpFn:function(from,fn){var scope;for(scope=from.up();scope&&!scope[fn];scope=scope.up())if((from=scope.controller)&&from[fn]){scope=from;break}return scope},callback:function(callback,scope,args,delay,caller,defaultScope){if(callback){var namedScope=scope in Ext._namedScopes,ret;if(callback.charAt){if('.'===
callback[2])scope=Ext.lookUpFn(caller,callback=callback.substr(3));else if(caller)if(namedScope&&namedScope.isUp)scope=Ext.lookUpFn(caller,callback);else if(!scope||namedScope)scope=caller.resolveListenerScope(namedScope?scope:defaultScope);callback=scope[callback]}else namedScope?scope=defaultScope||caller:scope||(scope=caller);callback&&Ext.isFunction(callback)&&(scope=scope||Ext.global,delay?Ext.defer(callback,delay,scope,args):ret=args?callback.apply(scope,args):callback.call(scope));return ret}},
coerce:function(from,to){var fromType=Ext.typeOf(from);to=Ext.typeOf(to);var isString='string'===typeof from;if(fromType!==to)switch(to){case 'string':return String(from);case 'number':return Number(from);case 'boolean':return!isString||from&&'false'!==from&&'0'!==from?!!from:!1;case 'null':return!isString||from&&'null'!==from?!1:null;case 'undefined':return!isString||from&&'undefined'!==from?!1:void 0;case 'date':return isString&&isNaN(from)?Ext.Date.parse(from,Ext.Date.defaultFormat):Date(Number(from))}return from},
copyTo:function(dest,source,names,usePrototypeKeys){var n;'string'===typeof names&&(names=names.split(Ext.propertyNameSplitRe));var i=0;for(n=names?names.length:0;i<n;i++){var name=names[i];if(usePrototypeKeys||source.hasOwnProperty(name))dest[name]=source[name]}return dest},copy:function(dest,source,names,usePrototypeKeys){var n;'string'===typeof names&&(names=names.split(Ext.propertyNameSplitRe));var i=0;for(n=names?names.length:0;i<n;i++){var name=names[i];if(source.hasOwnProperty(name)||usePrototypeKeys&&
name in source)dest[name]=source[name]}return dest},propertyNameSplitRe:/[,;\s]+/,copyToIf:function(destination,source,names){var n;'string'===typeof names&&(names=names.split(Ext.propertyNameSplitRe));var i=0;for(n=names?names.length:0;i<n;i++){var name=names[i];void 0===destination[name]&&(destination[name]=source[name])}return destination},copyIf:function(destination,source,names){var n;'string'===typeof names&&(names=names.split(Ext.propertyNameSplitRe));var i=0;for(n=names?names.length:0;i<n;i++){var name=
names[i];!(name in destination)&&name in source&&(destination[name]=source[name])}return destination},extend:function(){var objectConstructor=Object.prototype.constructor,inlineOverrides=function(o){for(var m in o)o.hasOwnProperty(m)&&(this[m]=o[m])};return function(subclass,superclass,overrides$jscomp$0){Ext.isObject(superclass)&&(overrides$jscomp$0=superclass,superclass=subclass,subclass=overrides$jscomp$0.constructor!==objectConstructor?overrides$jscomp$0.constructor:function(){superclass.apply(this,
arguments)});var F=function(){},superclassProto=superclass.prototype;F.prototype=superclassProto;F=subclass.prototype=new F;F.constructor=subclass;subclass.superclass=superclassProto;superclassProto.constructor===objectConstructor&&(superclassProto.constructor=superclass);subclass.override=function(overrides){Ext.override(subclass,overrides)};F.override=inlineOverrides;F.proto=F;subclass.override(overrides$jscomp$0);subclass.extend=function(o){return Ext.extend(subclass,o)};return subclass}}(),isOnline:function(){return Ext.global.navigator.onLine},
iterate:function(object,fn,scope){Ext.isEmpty(object)||(void 0===scope&&(scope=object),Ext.isIterable(object)?Ext.Array.each.call(Ext.Array,object,fn,scope):Ext.Object.each.call(Ext.Object,object,fn,scope))},_resourcePoolRe:/^[<]([^<>@:]*)(?:[@]([^<>@:]+))?[>](.+)$/,resolveResource:function(url){var ret=url;url&&'\x3c'===url.charAt(0)&&(url=Ext._resourcePoolRe.exec(url))&&(ret=Ext.getResourcePath(url[3],url[1],url[2]));return ret},urlEncode:function(){var args=Ext.Array.from(arguments),prefix='';
Ext.isString(args[1])&&(prefix=args[1]+'\x26',args[1]=!1);return prefix+Ext.Object.toQueryString.apply(Ext.Object,args)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(force){return Ext.scrollbar.size(force)},typeOf:function(){var nonWhitespaceRe=/\S/,toString=Object.prototype.toString,typeofTypes={number:1,string:1,'boolean':1,undefined:1},toStringTypes={'[object Array]':'array','[object Date]':'date','[object Boolean]':'boolean','[object Number]':'number',
'[object RegExp]':'regexp'};return function(value){if(null===value)return'null';var type=typeof value,ret,typeToString;return typeofTypes[type]?type:(ret=toStringTypes[typeToString=toString.call(value)])?ret:'function'===type?'function':'object'===type?void 0!==value.nodeType?3===value.nodeType?nonWhitespaceRe.test(value.nodeValue)?'textnode':'whitespace':'element':'object':typeToString}}(),factory:function(config,classReference,instance,aliasNamespace){var manager=Ext.ClassManager,newInstance;if(!config||
config.isInstance)return instance&&instance!==config&&instance.destroy(),config;if(aliasNamespace){if('string'===typeof config)return manager.instantiateByAlias(aliasNamespace+'.'+config);if(Ext.isObject(config)&&'type'in config)return manager.instantiateByAlias(aliasNamespace+'.'+config.type,config)}if(!0===config)return instance||Ext.create(classReference);'xtype'in config?newInstance=manager.instantiateByAlias('widget.'+config.xtype,config):'xclass'in config&&(newInstance=Ext.create(config.xclass,
config));return newInstance?(instance&&instance.destroy(),newInstance):instance?instance.setConfig(config):Ext.create(classReference,config)},convertKeyedItems:function(items,defaultProperty,functionProperty){if(items&&!items.isInstance&&Ext.isObject(items)){var obj=items,item,itemId;items=[];if(obj.xtype||obj.xclass||obj.itemId||obj.id)items.push(obj);else for(itemId in obj)if(item=obj[itemId]){if(!0===item)item={};else if('function'===typeof item){var value=item;item={};item[functionProperty]=value}else'string'===
typeof item?(value=item,item={},item[defaultProperty||'xtype']=value):item=Ext.apply({},item);item.itemId=itemId;items.push(item)}}return items},sortByWeight:function(items){items&&Ext.Array.sort(items,Ext.weightSortFn)},weightSortFn:function(lhs,rhs){return(lhs.weight||0)-(rhs.weight||0)},concat:function(a,b){var noB=null==b,E=Ext.emptyArray;return null==a?noB?a:E.concat(b):noB?E.concat(a):E.concat(a,b)},log:function(){var nullLog=function(){};nullLog.info=nullLog.warn=nullLog.error=Ext.emptyFn;
return nullLog}()});
(function(){var checkVerTemp=[''],endOfVersionRe=/([^\d.])/,notDigitsRe=/[^\d]/g,plusMinusRe=/[-+]/g,stripRe=/\s/g,underscoreRe=/_/g,toolkitNames={classic:1,modern:1},Version;Ext.Version=Version=function(version,defaultMode){var padModes=this.padModes,parts,ver;version.isVersion&&(version=version.version);this.version=ver=String(version).toLowerCase().replace(underscoreRe,'.').replace(plusMinusRe,'');var ch=ver.charAt(0);ch in padModes?(ver=ver.substring(1),defaultMode=padModes[ch]):defaultMode=defaultMode?
padModes[defaultMode]:0;this.pad=defaultMode;padModes=ver.search(endOfVersionRe);this.shortVersion=ver;-1!==padModes&&(this.release=parts=ver.substr(padModes,version.length),this.shortVersion=ver.substr(0,padModes),parts=Version.releaseValueMap[parts]||parts);this.releaseValue=parts||defaultMode;this.shortVersion=this.shortVersion.replace(notDigitsRe,'');this.parts=parts=ver.split('.');for(version=parts.length;version--;)parts[version]=parseInt(parts[version],10);Infinity===defaultMode&&parts.push(defaultMode);
this.major=parts[0]||defaultMode;this.minor=parts[1]||defaultMode;this.patch=parts[2]||defaultMode;this.build=parts[3]||defaultMode;return this};Version.prototype={isVersion:!0,padModes:{'~':NaN,'^':Infinity},release:'',compareTo:function(other){var lhsPad=this.pad,lhsParts=this.parts,lhsLength=lhsParts.length;other=other.isVersion?other:new Version(other);var rhsPad=other.pad,rhsParts=other.parts,rhsLength=rhsParts.length,length=Math.max(lhsLength,rhsLength),i;for(i=0;i<length;i++){var lhs=i<lhsLength?
lhsParts[i]:lhsPad;var rhs=i<rhsLength?rhsParts[i]:rhsPad;if(lhs<rhs)return-1;if(lhs>rhs)return 1}lhs=this.releaseValue;rhs=other.releaseValue;return lhs<rhs?-1:lhs>rhs?1:0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},
isGreaterThan:function(target){return 0<this.compareTo(target)},isGreaterThanOrEqual:function(target){return 0<=this.compareTo(target)},isLessThan:function(target){return 0>this.compareTo(target)},isLessThanOrEqual:function(target){return 0>=this.compareTo(target)},equals:function(target){return 0===this.compareTo(target)},match:function(target){target=String(target);return this.version.substr(0,target.length)===target},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),
this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(target){return 0<this.compareTo(target)},lt:function(target){return 0>this.compareTo(target)},gtEq:function(target){return 0<=this.compareTo(target)},ltEq:function(target){return 0>=this.compareTo(target)}};Ext.apply(Version,{aliases:{from:{extjs:'ext',core:'core',touch:'modern'},to:{ext:['extjs'],core:['core'],modern:['touch']}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,'#':-2,p:-1,pl:-1},getComponentValue:function(value){return value?
isNaN(value)?this.releaseValueMap[value]||value:parseInt(value,10):0},compare:function(current,target){return(current.isVersion?current:new Version(current)).compareTo(target)},set:function(collection,packageName,version){var aliases=Version.aliases.to[packageName];version=version.isVersion?version:new Version(version);collection[packageName]=version;if(aliases)for(packageName=aliases.length;0<packageName--;)collection[aliases[packageName]]=version;return version}});Ext.apply(Ext,{compatVersions:{},
versions:{},lastRegisteredVersion:null,getCompatVersion:function(packageName){var versions=Ext.compatVersions;return(packageName?versions[Version.aliases.from[packageName]||packageName]:versions.ext||versions.touch||versions.core)||Ext.getVersion(packageName)},setCompatVersion:function(packageName,version){Version.set(Ext.compatVersions,packageName,version)},setVersion:function(packageName,version){packageName in toolkitNames&&(Ext.toolkit=packageName);Ext.lastRegisteredVersion=Version.set(Ext.versions,
packageName,version);return this},getVersion:function(packageName){var versions=Ext.versions;return packageName?versions[Version.aliases.from[packageName]||packageName]:versions.ext||versions.touch||versions.core},checkVersion:function(specs,matchAll){var isArray=Ext.isArray(specs),aliases=Version.aliases.from,compat=isArray?specs:checkVerTemp,length=compat.length,versions=Ext.versions,frameworkVer=versions.ext||versions.touch,minVer;isArray||(checkVerTemp[0]=specs);for(specs=0;specs<length;++specs){if(Ext.isString(minVer=
compat[specs])){0<=minVer.indexOf(' ')&&(minVer=minVer.replace(stripRe,''));var index=minVer.indexOf('@');if(0>index){var maxVer=minVer;isArray=frameworkVer}else{isArray=minVer.substring(0,index);if(!(isArray=versions[aliases[isArray]||isArray])){if(matchAll)return!1;continue}maxVer=minVer.substring(index+1)}index=maxVer.indexOf('-');0>index?'+'===maxVer.charAt(index=maxVer.length-1)?(minVer=maxVer.substring(0,index),maxVer=null):minVer=maxVer:(minVer=0<index?maxVer.substring(0,index):null,maxVer=
maxVer.substring(index+1));index=!0;minVer&&(minVer=new Version(minVer,'~'),index=minVer.ltEq(isArray));index&&maxVer&&(maxVer=new Version(maxVer,'~'),index=maxVer.gtEq(isArray))}else index=Ext.checkVersion(minVer.and||minVer.or,!minVer.or),minVer.not&&(index=!index);if(index){if(!matchAll)return!0}else if(matchAll)return!1}return!!matchAll},deprecate:function(packageName,since,closure,scope){1>Version.compare(Ext.getVersion(packageName),since)&&closure.call(scope)}})})();
(function(manifest){var packages=manifest&&manifest.packages||{};manifest=manifest&&manifest.compatibility;var name,pkg;for(name in packages)(pkg=packages[name])&&pkg.version&&Ext.setVersion(name,pkg.version);if(manifest)if(Ext.isString(manifest))Ext.setCompatVersion('core',manifest);else for(name in manifest)Ext.setCompatVersion(name,manifest[name]);packages.ext||packages.touch||Ext.setVersion('ext','6')})(Ext.manifest);
Ext.Config=function(name){var capitalizedName=name.charAt(0).toUpperCase()+name.substr(1);this.name=name;this.names={internal:'_'+name,initializing:'is'+capitalizedName+'Initializing',apply:'apply'+capitalizedName,update:'update'+capitalizedName,get:'get'+capitalizedName,set:'set'+capitalizedName,initGet:'initGet'+capitalizedName,changeEvent:name.toLowerCase()+'change'};this.root=this};Ext.Config.map={};Ext.Config.get=function(name){var map=Ext.Config.map;return map[name]||(map[name]=new Ext.Config(name))};
Ext.Config.prototype={self:Ext.Config,isConfig:!0,combine:function(value,baseValue,instance,clone){this.merge?value=this.merge(clone?Ext.clone(value):value,baseValue,instance):value&&value.constructor===Object&&baseValue&&baseValue.constructor===Object?value=Ext.merge({},baseValue,value):clone&&value&&(value=Ext.clone(value));return value},equals:function(value1,value2){return value1===value2},getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||
(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getEventedSetter:function(){return this.eventedSetter||(this.root.eventedSetter=this.makeEventedSetter())},getInternalName:function(target){return target.$configPrefixed?this.names.internal:this.name},mergeNew:function(newValue,oldValue,target,mixinClass){var key;if(oldValue){if(newValue)for(key in oldValue=Ext.Object.chain(oldValue),newValue)mixinClass&&key in oldValue||(oldValue[key]=
newValue[key])}else oldValue=newValue;return oldValue},mergeSets:function(newValue,oldValue,preserveExisting){oldValue=oldValue?Ext.Object.chain(oldValue):{};var i;if(newValue instanceof Array)for(i=newValue.length;i--;){var val=newValue[i];preserveExisting&&val in oldValue||(oldValue[val]=!0)}else if(newValue)if(newValue.constructor===Object)for(i in newValue)val=newValue[i],preserveExisting&&i in oldValue||(oldValue[i]=val);else preserveExisting&&newValue in oldValue||(oldValue[newValue]=!0);return oldValue},
makeGetter:function(){var name=this.name,prefixedName=this.names.internal;return function(){return this[this.$configPrefixed?prefixedName:name]}},makeInitGetter:function(){var name=this.name,names=this.names,setName=names.set,getName=names.get,initializingName=names.initializing;return function(){this[initializingName]=!0;delete this[getName];this[setName](this.config[name]);delete this[initializingName];return this[getName].apply(this,arguments)}},makeSetter:function(){var name=this.name,names=this.names,
prefixedName=names.internal,getName=names.get,applyName=names.apply,updateName=names.update;names=function(value){var internalName=this.$configPrefixed?prefixedName:name,oldValue=this[internalName];delete this[getName];if((!this[applyName]||void 0!==(value=this[applyName](value,oldValue)))&&value!==(oldValue=this[internalName])){this[internalName]=value;if(this[updateName])this[updateName](value,oldValue);(value=this.$configWatch)&&!this.isConfiguring&&value.fire(name,[this,name,this[internalName],
oldValue])}return this};names.$isDefault=!0;return names},makeEventedSetter:function(){var name=this.name,names=this.names,prefixedName=names.internal,getName=names.get,applyName=names.apply,updateName=names.update,changeEventName=names.changeEvent,updateFn=function(me,value,oldValue,internalName){me[internalName]=value;if(me[updateName])me[updateName](value,oldValue);(internalName=me.$configWatch)&&internalName.fire(name,[me,name,value,oldValue])};names=function(value){var internalName=this.$configPrefixed?
prefixedName:name,oldValue=this[internalName];delete this[getName];if((!this[applyName]||void 0!==(value=this[applyName](value,oldValue)))&&value!==(oldValue=this[internalName]))if(this.isConfiguring){if(this[internalName]=value,this[updateName])this[updateName](value,oldValue)}else this.fireEventedAction(changeEventName,[this,value,oldValue],updateFn,this,[this,value,oldValue,internalName]);return this};names.$isDefault=!0;return names}};
(function(){var ExtConfig=Ext.Config,configPropMap=ExtConfig.map,ExtObject=Ext.Object;Ext.Configurator=function(cls){var prototype=cls.prototype,superCfg=cls.superclass?cls.superclass.self.$config:null;this.cls=cls;(this.superCfg=superCfg)?(this.configs=ExtObject.chain(superCfg.configs),this.cachedConfigs=ExtObject.chain(superCfg.cachedConfigs),this.initMap=ExtObject.chain(superCfg.initMap),this.values=ExtObject.chain(superCfg.values),this.needsFork=superCfg.needsFork):(this.configs={},this.cachedConfigs=
{},this.initMap={},this.values={});prototype.config=prototype.defaultConfig=this.values;cls.$config=this};Ext.Configurator.prototype={self:Ext.Configurator,needsFork:!1,initList:null,add:function(config,mixinClass){var Cls=this.cls,configs=this.configs,cachedConfigs=this.cachedConfigs,initMap=this.initMap,prototype=Cls.prototype,mixinConfigs=mixinClass&&mixinClass.$config.configs,values=this.values,isObject,cfg,name,s,value;for(name in config){var meta=(isObject=(value=config[name])&&value.constructor===
Object)&&'$value'in value?value:null;var isCached=!1;meta&&(isCached=!!meta.cached,isObject=(value=meta.$value)&&value.constructor===Object);var merge=meta&&meta.merge;if(cfg=configs[name]){if(mixinClass){merge=cfg.merge;if(!merge)continue;meta=null}else merge=merge||cfg.merge;isCached=values[name];merge?value=merge.call(cfg,value,isCached,Cls,mixinClass):isObject&&isCached&&isCached.constructor===Object&&(value=Ext.merge({},isCached,value))}else{mixinConfigs?(cfg=mixinConfigs[name],meta=null):cfg=
ExtConfig.get(name);configs[name]=cfg;if(cfg.cached||isCached)cachedConfigs[name]=!0;isObject=cfg.names;prototype[s=isObject.get]||(prototype[s]=cfg.getter||cfg.getGetter());prototype[s=isObject.set]||(prototype[s]=meta&&meta.evented?cfg.eventedSetter||cfg.getEventedSetter():cfg.setter||cfg.getSetter())}meta&&(cfg.owner!==Cls&&(configs[name]=cfg=Ext.Object.chain(cfg),cfg.owner=Cls),Ext.apply(cfg,meta),delete cfg.$value);!this.needsFork&&value&&(value.constructor===Object||value instanceof Array)&&
(this.needsFork=!0);null!==value?initMap[name]=!0:(prototype.$configPrefixed?prototype[configs[name].names.internal]=null:prototype[configs[name].name]=null,name in initMap&&(initMap[name]=!1));values[name]=value}},configure:function(instance,instanceConfig){var configs=this.configs,initMap=this.initMap,initListMap=this.initListMap,initList=this.initList,prototype=this.cls.prototype,values=this.values,remaining=0,firstInstance=!initList,cachedInitList;values=this.needsFork?ExtObject.fork(values):
ExtObject.chain(values);instance.isConfiguring=!0;if(firstInstance)for(name in this.initList=initList=[],this.initListMap=initListMap={},instance.isFirstInstance=!0,initMap){var cfg=configs[name];var getter=cfg.cached;if(initMap[name]){var names=cfg.names;var i=values[name];!prototype[names.set].$isDefault||prototype[names.apply]||prototype[names.update]||'object'===typeof i?(getter?(cachedInitList||(cachedInitList=[])).push(cfg):(initList.push(cfg),initListMap[name]=!0),instance[names.get]=cfg.initGetter||
cfg.getInitGetter()):prototype[cfg.getInternalName(prototype)]=i}else getter&&(prototype[cfg.getInternalName(prototype)]=void 0)}if(initMap=cachedInitList&&cachedInitList.length){for(i=0;i<initMap;++i)cfg=cachedInitList[i].getInternalName(prototype),instance[cfg]=null;for(i=0;i<initMap;++i)names=(cfg=cachedInitList[i]).names,getter=names.get,instance.hasOwnProperty(getter)&&(instance[names.set](values[cfg.name]),delete instance[getter]);for(i=0;i<initMap;++i)cfg=cachedInitList[i].getInternalName(prototype),
prototype[cfg]=instance[cfg],delete instance[cfg]}instanceConfig&&instanceConfig.platformConfig&&(instanceConfig=this.resolvePlatformConfig(instance,instanceConfig));firstInstance&&instance.afterCachedConfig&&!instance.afterCachedConfig.$nullFn&&instance.afterCachedConfig(instanceConfig);instance.config=values;i=0;for(initMap=initList.length;i<initMap;++i)cfg=initList[i],instance[cfg.names.get]=cfg.initGetter||cfg.getInitGetter();if(!(prototype=instance.self.$configTransforms)){instance.self.$configTransforms=
prototype=[];initMap=instance.$configTransforms;for(name in initMap)prototype.push([name,initMap[name]]);initMap=prototype.length;if(1<initMap)for(prototype.sort(this.transformSorter),i=0;i<initMap;++i)prototype[i]=prototype[i][0];else initMap&&(prototype[0]=prototype[0][0])}for(i=0;i<prototype.length;++i){var name=prototype[i];instance[name]&&(instanceConfig=instance[name](instanceConfig,this))}if(instanceConfig)for(name in instanceConfig)i=instanceConfig[name],(cfg=configs[name])?(cfg.lazy||++remaining,
initListMap[name]||(instance[cfg.names.get]=cfg.initGetter||cfg.getInitGetter()),prototype=values[name],cfg.merge?i=cfg.merge(i,prototype,instance):i&&i.constructor===Object&&(i=prototype&&prototype.constructor===Object?Ext.merge(values[name],i):Ext.clone(i,!1))):instance[name]=i,values[name]=i;if(!instance.beforeInitConfig||instance.beforeInitConfig.$nullFn||!1!==instance.beforeInitConfig(instanceConfig)){if(instanceConfig)for(name in instanceConfig){if(!remaining)break;(cfg=configs[name])&&!cfg.lazy&&
(--remaining,names=cfg.names,getter=names.get,instance.hasOwnProperty(getter)&&(instance[names.set](values[name]),delete instance[names.get]))}i=0;for(initMap=initList.length;i<initMap;++i)cfg=initList[i],names=cfg.names,getter=names.get,!cfg.lazy&&instance.hasOwnProperty(getter)&&(instance[names.set](values[cfg.name]),delete instance[getter]);delete instance.isConfiguring}},getCurrentConfig:function(instance){var defaultConfig=instance.defaultConfig,config={},name;for(name in defaultConfig)config[name]=
instance[configPropMap[name].names.get]();return config},hoistConfigs:function(instance,instanceConfig,names){var config=instance.config,configs=this.configs,initListMap=this.initListMap,ret=!1,i;for(i=0;i<names.length;++i){var name=names[i];if(instanceConfig&&name in instanceConfig){var cfg=configs[name];config[name]=cfg.combine(instanceConfig[name],config[name],instance);initListMap[name]||(instance[cfg.names.get]=cfg.initGetter||cfg.getInitGetter())}null!=config[name]&&(ret=!0)}return ret},merge:function(instance,
baseConfig,config,clone){var configs=this.configs,name,cfg;clone&&(baseConfig=Ext.clone(baseConfig,!1));for(name in config){clone=config[name];if(cfg=configs[name]){var baseValue=baseConfig[name];cfg.merge?clone=cfg.merge(clone,baseValue,instance):clone&&clone.constructor===Object&&(clone=baseValue&&baseValue.constructor===Object?Ext.merge(baseValue,clone):Ext.clone(clone,!1))}baseConfig[name]=clone}return baseConfig},reconfigure:function(instance,instanceConfig,options){var currentConfig=instance.config,
configList=[],strict=instance.$configStrict&&!(options&&!1===options.strict),configs=this.configs,defaults=options&&options.defaults;for(name in instanceConfig)if(options=configs[name],!defaults||!instance.hasOwnProperty(options&&instance.$configPrefixed?options.names.internal:name)){currentConfig[name]=instanceConfig[name];if(options)instance[options.names.get]=options.initGetter||options.getInitGetter();else if(options=instance.self.prototype[name],strict&&'function'===typeof options&&!options.$nullFn)continue;
configList.push(name)}currentConfig=0;for(strict=configList.length;currentConfig<strict;currentConfig++){var name=configList[currentConfig];if(options=configs[name])defaults=options.names,options=defaults.get,instance.hasOwnProperty(options)&&(instance[defaults.set](instanceConfig[name]),delete instance[options]);else if(options=configPropMap[name]||Ext.Config.get(name),defaults=options.names,instance[defaults.set])instance[defaults.set](instanceConfig[name]);else instance[name]=instanceConfig[name]}},
resolvePlatformConfig:function(instance,instanceConfig){var platformConfig=instanceConfig&&instanceConfig.platformConfig,n;if(platformConfig){var keys=Ext.getPlatformConfigKeys(platformConfig);if(n=keys.length){instanceConfig=Ext.merge({},instanceConfig);var i=0;for(n=keys.length;i<n;++i)this.merge(instance,instanceConfig,platformConfig[keys[i]])}}return instanceConfig},transformSorter:function(a,b){return a[1]-b[1]}}})();
Ext.Base=function(flexSetter){var noArgs=[],baseStaticMember,baseStaticMembers=[],getOwnObject=function(proto,name){proto.hasOwnProperty(name)||(proto[name]=Ext.Object.chain(getOwnObject(proto.superclass,name)));return proto[name]},makeAliasFn=function(name){return function(){return this[name].apply(this,arguments)}},Version=Ext.Version,leadingDigitRe=/^\d/,oneMember={},aliasOneMember={},Base=function(){},BasePrototype=Base.prototype,Reaper;Ext.Reaper=Reaper={delay:100,queue:[],timer:null,add:function(obj){Reaper.timer||
(Reaper.timer=Ext.defer(Reaper.tick,Reaper.delay));Reaper.queue.push(obj)},flush:function(){Reaper.timer&&(Ext.undefer(Reaper.timer),Reaper.timer=null);var queue=Reaper.queue,n=queue.length,i,obj;Reaper.queue=[];for(i=0;i<n;++i)(obj=queue[i])&&obj.$reap&&obj.$reap()},tick:function(){Reaper.timer=null;Reaper.flush()}};Ext.apply(Base,{$className:'Ext.Base',$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addConfigTransform:function(methodName,
priority){getOwnObject(this.prototype,'$configTransforms')[methodName]=priority},addDeprecations:function(deprecations){var all=[],compatVersion=Ext.getCompatVersion(deprecations.name),names,oldName;for(versionSpec in deprecations)if(leadingDigitRe.test(versionSpec)){var enabled=new Ext.Version(versionSpec);enabled.deprecations=deprecations[versionSpec];all.push(enabled)}all.sort(Version.compare);for(deprecations=all.length;deprecations--;){var deprecate=(enabled=all[deprecations]).deprecations;var versionSpec=
this.prototype;var statics=deprecate.statics;enabled=compatVersion&&compatVersion.lt(enabled);if(!enabled)break;for(;deprecate;){if(names=deprecate.methods)for(oldName in names){var member=names[oldName];var fn=null;if(member)if(Ext.isString(member))enabled&&(fn=makeAliasFn(member));else{if(member.message||member.fn)member=member.fn;deprecate=versionSpec.hasOwnProperty(oldName)&&versionSpec[oldName];enabled&&member&&(member.$owner=this,member.$name=oldName,deprecate&&(member.$previous=deprecate),
fn=member)}fn&&(versionSpec[oldName]=fn)}deprecate=statics;statics=null;versionSpec=this}}},extend:function(parentClass){var parentPrototype=parentClass.prototype,name;var prototype=this.prototype=Ext.Object.chain(parentPrototype);prototype.self=this;this.superclass=prototype.superclass=parentPrototype;if(!parentClass.$isClass)for(name in BasePrototype)name in prototype&&(prototype[name]=BasePrototype[name]);if(parentPrototype=parentPrototype.$inheritableStatics)for(name in parentPrototype)this.hasOwnProperty(name)||
(this[name]=parentClass[name]);parentClass.$onExtended&&(this.$onExtended=parentClass.$onExtended.slice());this.getConfigurator()},$onExtended:[],triggerExtended:function(){var callbacks=this.$onExtended,ln=callbacks.length,i;if(0<ln)for(i=0;i<ln;i++){var callback=callbacks[i];callback.fn.apply(callback.scope||this,arguments)}},onExtended:function(fn,scope){this.$onExtended.push({fn,scope});return this},addStatics:function(members){this.addMembers(members,!0);return this},addInheritableStatics:function(members){var proto=
this.prototype,inheritableStatics=this.$inheritableStatics,name;inheritableStatics||(inheritableStatics=Ext.apply({},proto.$inheritableStatics),this.$inheritableStatics=proto.$inheritableStatics=inheritableStatics);for(name in members)if(members.hasOwnProperty(name)){proto=members[name];var current=this[name];'function'!==typeof current||current.$isClass||current.$nullFn||(proto.$previous=current);this[name]=proto;inheritableStatics[name]=!0}return this},addMembers:function(members,isStatic,privacy){privacy=
Ext.Function.clone;var target=isStatic?this:this.prototype,defaultConfig=!isStatic&&target.defaultConfig,enumerables=Ext.enumerables,privates=members.privates,configs,name;if(privates){delete members.privates;if(!isStatic){var privateStatics=privates.statics;delete privates.statics}this.addMembers(privates,isStatic,void 0);privateStatics&&this.addMembers(privateStatics,!0,void 0)}for(name in members)if(members.hasOwnProperty(name)){isStatic=members[name];if('function'===typeof isStatic&&!isStatic.$isClass&&
!isStatic.$nullFn)isStatic.$owner&&(isStatic=privacy(isStatic)),target.hasOwnProperty(name)&&(isStatic.$previous=target[name]),isStatic.$owner=this,isStatic.$name=name;else if(defaultConfig&&name in defaultConfig&&!target.config.hasOwnProperty(name)){(configs||(configs={}))[name]=isStatic;continue}target[name]=isStatic}configs&&this.addConfig(configs);if(enumerables)for(configs=0,defaultConfig=enumerables.length;configs<defaultConfig;++configs)members.hasOwnProperty(name=enumerables[configs])&&((isStatic=
members[name])&&!isStatic.$nullFn&&(isStatic.$owner&&(isStatic=privacy(isStatic)),isStatic.$owner=this,isStatic.$name=name,target.hasOwnProperty(name)&&(isStatic.$previous=target[name])),target[name]=isStatic);return this},addMember:function(name,member,privacy){oneMember[name]=member;this.addMembers(oneMember,!1,privacy);delete oneMember[name];return this},hookMember:function(name,member){var existing=this.prototype[name];return this.addMember(name,member,existing&&existing.$privacy)},borrow:function(fromClass,
members){fromClass=fromClass.prototype;var membersObj={},ln;members=Ext.Array.from(members);var i=0;for(ln=members.length;i<ln;i++){var name=members[i];membersObj[name]=fromClass[name]}return this.addMembers(membersObj)},override:function(members){var statics=members.statics,inheritableStatics=members.inheritableStatics,config=members.config,mixins=members.mixins,cachedConfig=members.cachedConfig;if(statics||inheritableStatics||config)members=Ext.apply({},members);statics&&(this.addMembers(statics,
!0),delete members.statics);inheritableStatics&&(this.addInheritableStatics(inheritableStatics),delete members.inheritableStatics);members.platformConfig&&this.addPlatformConfig(members);config&&(this.addConfig(config),delete members.config);cachedConfig&&(this.addCachedConfig(cachedConfig),delete members.cachedConfig);delete members.mixins;this.addMembers(members);mixins&&this.mixin(mixins);return this},addPlatformConfig:function(data){var prototype=this.prototype;data=data.platformConfig;var name,
ln;delete prototype.platformConfig;var configurator=this.getConfigurator();var classConfigs=configurator.configs;var keys=Ext.getPlatformConfigKeys(data);var i=0;for(ln=keys.length;i<ln;++i){var configs=data[keys[i]];var added=null;for(name in configs){var value=configs[name];name in classConfigs?(added||(added={}))[name]=value:prototype[name]=value}added&&configurator.add(added)}},callParent:function(args){var method;return(method=this.callParent.caller)&&(method.$previous||(method=method.$owner?
method:method.caller)&&method.$owner.superclass.self[method.$name]).apply(this,args||noArgs)},callSuper:function(args){var method;return(method=this.callSuper.caller)&&((method=method.$owner?method:method.caller)&&method.$owner.superclass.self[method.$name]).apply(this,args||noArgs)},mixin:function(name,mixinClass){var key,ln;if('string'!==typeof name)if(name instanceof Array)for(mixinClass=0,ln=name.length;mixinClass<ln;mixinClass++){var mixin=name[mixinClass];this.mixin(mixin.prototype.mixinId||
mixin.$className,mixin)}else for(mixin in name)this.mixin(mixin,name[mixin]);else{mixin=mixinClass.prototype;var prototype=this.prototype;mixin.onClassMixedIn&&mixin.onClassMixedIn.call(mixinClass,this);prototype.hasOwnProperty('mixins')||(prototype.mixins='mixins'in prototype?Ext.Object.chain(prototype.mixins):{});for(key in mixin){var mixinValue=mixin[key];'mixins'===key?Ext.applyIf(prototype.mixins,mixinValue):'mixinId'!==key&&'config'!==key&&'$inheritableStatics'!==key&&void 0===prototype[key]&&
(prototype[key]=mixinValue)}if(key=mixin.$inheritableStatics){mixinValue={};for(ln in key)this.hasOwnProperty(ln)||(mixinValue[ln]=mixinClass[ln]);this.addInheritableStatics(mixinValue)}'config'in mixin&&this.addConfig(mixin.config,mixinClass);prototype.mixins[name]=mixin;mixin.afterClassMixedIn&&mixin.afterClassMixedIn.call(mixinClass,this);return this}},addConfig:function(config,mixinClass){(this.$config||this.getConfigurator()).add(config,mixinClass)},addCachedConfig:function(config,isMixin){var cached=
{},key;for(key in config)cached[key]={cached:!0,$value:config[key]};this.addConfig(cached,isMixin)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:flexSetter(function(alias,origin){aliasOneMember[alias]=function(){return this[origin].apply(this,arguments)};this.override(aliasOneMember);delete aliasOneMember[alias]})});for(baseStaticMember in Base)Base.hasOwnProperty(baseStaticMember)&&baseStaticMembers.push(baseStaticMember);
Base.$staticMembers=baseStaticMembers;Base.getConfigurator();Base.addMembers({$className:'Ext.Base',$configTransforms:{},isInstance:!0,$configPrefixed:!0,$configStrict:!0,isConfiguring:!1,isFirstInstance:!1,destroyed:!1,clearPropertiesOnDestroy:!0,clearPrototypeOnDestroy:!1,statics:function(){var method=this.statics.caller,self=this.self;return method?method.$owner:self},callParent:function(args){var method;return((method=this.callParent.caller)&&(method.$previous||(method=method.$owner?method:method.caller)&&
method.$owner.superclass[method.$name])).apply(this,args||noArgs)},callSuper:function(args){var method;return((method=this.callSuper.caller)&&(method=method.$owner?method:method.caller)&&method.$owner.superclass[method.$name]).apply(this,args||noArgs)},self:Base,constructor:function(){return this},initConfig:function(instanceConfig){var cfg=this.self.getConfigurator();this.initConfig=Ext.emptyFn;this.initialConfig=instanceConfig||{};cfg.configure(this,instanceConfig);return this},beforeInitConfig:Ext.emptyFn,
getConfig:function(name,peek,ifInitialized){var cfg;if(name)if(cfg=this.self.$config.configs[name]){var propName=this.$configPrefixed?cfg.names.internal:name;name=ifInitialized?this.hasOwnProperty(propName)?this[propName]:null:peek?this.hasOwnProperty(propName)?this[propName]:this.config[name]:this[cfg.names.get]()}else name=this[name];else name=this.getCurrentConfig();return name},destroyMembers:function(){var configs=this.self.$config.configs,len=arguments.length,cfg,i;for(i=0;i<len;i++){var name=
arguments[i];name=(cfg=configs[name])&&this.$configPrefixed?cfg.names.internal:name;if(cfg=this.hasOwnProperty(name)&&this[name])Ext.destroy(cfg),this[name]=null}},freezeConfig:function(name){var me=this;name=Ext.Config.get(name).names;me[name.get]();me[name.set]=function(v){return me}},setConfig:function(name,value,options){if(name){var configurator=this.self.getConfigurator();if('string'===typeof name){options=configurator.configs[name];if(!options){if(this.$configStrict&&(options=this.self.prototype[name],
'function'===typeof options&&!options.$nullFn))return this;options=Ext.Config.map[name]||Ext.Config.get(name)}if(this[options.names.set])this[options.names.set](value);else this[name]=value}else configurator.reconfigure(this,name,options||value)}return this},getConfigWatcher:function(){return this.$configWatch||(this.$configWatch=new Ext.mixin.Watchable)},watchConfig:function(name,fn,scope){var watcher=this.getConfigWatcher();return watcher.on.apply(watcher,arguments)},$configWatch:null,getCurrentConfig:function(){return this.self.getConfigurator().getCurrentConfig(this)},
hasConfig:function(name){return name in this.defaultConfig},getInitialConfig:function(name){var config=this.config;return name?config[name]:config},$links:null,link:function(name,value){(this.$links||(this.$links={}))[name]=!0;return this[name]=value},unlink:function(names){var ln,value;var i=0;for(ln=names.length;i<ln;i++){var link=names[i];(value=this[link])&&(value.isInstance&&!value.destroyed?value.destroy():value.parentNode&&'nodeType'in value&&value.parentNode.removeChild(value));this[link]=
null}return this},$reap:function(){var keepers=this.$noClearOnDestroy,val,len;var props=Ext.Object.getKeys(this);var i=0;for(len=props.length;i<len;i++){var prop=props[i];if((val=this[prop])&&(!keepers||!keepers[prop])){var t=typeof val;if('object'===t||'function'===t&&!val.$noClearOnDestroy)this[prop]=null}}this.$nulled=!0},destroy:function(){var links=this.$links,clearPropertiesOnDestroy=this.clearPropertiesOnDestroy;links&&(this.$links=null,this.unlink(Ext.Object.getKeys(links)));this.destroy=
Ext.emptyFn;this.isDestroyed=this.destroyed=!0;!0===clearPropertiesOnDestroy?this.isObservable||this.$reap():clearPropertiesOnDestroy&&Reaper.add(this)}});BasePrototype.callOverridden=BasePrototype.callParent;return Base}(Ext.Function.flexSetter);
(function(LRU,prototype){(Ext.util||(Ext.util={})).LRU=LRU=function(config){config&&Ext.apply(this,config);this.head=config={key:null,value:null};this.map={};config.next=config.prev=config};LRU.prototype=prototype={count:0,add:function(key,value){var map=this.map,entry=map[key];entry&&(this.unlink(entry),--this.count);map[key]=entry={key,value};this.link(entry);++this.count;return entry},clear:function(fn,scope){var head=this.head,entry=head.next;head.next=head.prev=head;this.count=0;if(fn&&!fn.$nullFn)for(;entry!==
head;entry=entry.next)fn.call(scope||this,entry.key,entry.value)},each:function(fn,scope){var ent;scope=scope||this;var head=this.head;for(ent=head.next;ent!==head&&!fn.call(scope,ent.key,ent.value);ent=ent.next);},prune:function(fn,scope){var entry=this.head.prev;if(this.count){var ret=entry.value;this.unlink(entry);--this.count;fn&&fn.call(scope||this,entry.key,ret)}return ret},remove:function(key){var map=this.map,entry=map[key];if(entry){this.unlink(entry);var value=entry.value;delete map[key];
--this.count}return value},touch:function(key){var head=this.head;(key=this.map[key])&&key.prev!==head&&(this.unlink(key),this.link(key))},trim:function(size,fn,scope){for(;this.count>size;)this.prune(fn,scope)},link:function(entry){var head=this.head,first=head.next;entry.next=first;entry.prev=head;head.next=entry;first.prev=entry},unlink:function(entry){var next=entry.next;entry=entry.prev;entry.next=next;next.prev=entry}};prototype.destroy=function(){this.clear.apply(this,arguments)}})();
(function(LRU,fn,Cache){Ext.util.Cache=Cache=function(config){LRU.call(this,config)};fn.prototype=LRU.prototype;Cache.prototype=Ext.apply(new fn,{maxSize:100,clear:function(){LRU.prototype.clear.call(this,this.evict)},get:function(key){var entry=this.map[key];entry?(entry=entry.value,this.touch(key)):(entry=this.miss.apply(this,arguments),this.add(key,entry),this.trim(this.maxSize,this.evict));return entry},evict:Ext.emptyFn})})(Ext.util.LRU,function(){});
(function(){function makeCtor(className){return function(){return this.constructor.apply(this,arguments)||null}}var ExtClass,Base$jscomp$0=Ext.Base,baseStaticMembers=Base$jscomp$0.$staticMembers,ruleKeySortFn=function(a,b){return a.length-b.length||(a<b?-1:a>b?1:0)};Ext.Class=ExtClass=function(Class,data,onCreated){'function'!==typeof Class&&(onCreated=data,data=Class,Class=null);data||(data={});Class=ExtClass.create(Class,data);ExtClass.process(Class,data,onCreated);return Class};Ext.apply(ExtClass,
{makeCtor,onBeforeCreated:function(Class,data,hooks){Class.addMembers(data);hooks.onCreated.call(Class,Class)},create:function(Class,data){data=baseStaticMembers.length;for(Class||(Class=makeCtor());data--;){var name=baseStaticMembers[data];Class[name]=Base$jscomp$0[name]}return Class},process:function(Class,data,onCreated){var preprocessorStack=data.preprocessors||ExtClass.defaultPreprocessors,registeredPreprocessors=this.preprocessors,hooks={onBeforeCreated:this.onBeforeCreated},preprocessors=[],
ln,subLn;delete data.preprocessors;Class._classHooks=hooks;var i=0;for(ln=preprocessorStack.length;i<ln;i++){var preprocessor=preprocessorStack[i];if('string'===typeof preprocessor){preprocessor=registeredPreprocessors[preprocessor];var preprocessorsProperties=preprocessor.properties;if(!0===preprocessorsProperties)preprocessors.push(preprocessor.fn);else if(preprocessorsProperties){var j=0;for(subLn=preprocessorsProperties.length;j<subLn;j++){var preprocessorProperty=preprocessorsProperties[j];if(data.hasOwnProperty(preprocessorProperty)){preprocessors.push(preprocessor.fn);
break}}}}else preprocessors.push(preprocessor)}hooks.onCreated=onCreated?onCreated:Ext.emptyFn;hooks.preprocessors=preprocessors;this.doProcess(Class,data,hooks)},doProcess:function(Class,data,hooks){for(var preprocessors=hooks.preprocessors,preprocessor=preprocessors.shift(),doProcess=this.doProcess;preprocessor;preprocessor=preprocessors.shift())if(!1===preprocessor.call(this,Class,data,hooks,doProcess))return;hooks.onBeforeCreated.apply(this,arguments)},preprocessors:{},registerPreprocessor:function(name,
fn,properties,position,relativeTo){position||(position='last');properties||(properties=[name]);this.preprocessors[name]={name,properties:properties||!1,fn};this.setDefaultPreprocessorPosition(name,position,relativeTo);return this},getPreprocessor:function(name){return this.preprocessors[name]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(preprocessors){this.defaultPreprocessors=
Ext.Array.from(preprocessors);return this},setDefaultPreprocessorPosition:function(name,offset,relativeName){var defaultPreprocessors=this.defaultPreprocessors;if('string'===typeof offset){if('first'===offset)return defaultPreprocessors.unshift(name),this;if('last'===offset)return defaultPreprocessors.push(name),this;offset='after'===offset?1:-1}relativeName=Ext.Array.indexOf(defaultPreprocessors,relativeName);-1!==relativeName&&Ext.Array.splice(defaultPreprocessors,Math.max(0,relativeName+offset),
0,name);return this}});ExtClass.registerPreprocessor('extend',function(Class,data,hooks){var Base=Ext.Base,basePrototype=Base.prototype,extend=data.extend,i;delete data.extend;Base=extend&&extend!==Object?extend:Base;extend=Base.prototype;if(!Base.$isClass)for(i in basePrototype)extend[i]||(extend[i]=basePrototype[i]);Class.extend(Base);Class.triggerExtended.apply(Class,arguments);data.onClassExtended&&(Class.onExtended(data.onClassExtended,Class),delete data.onClassExtended)},!0);ExtClass.registerPreprocessor('privates',
function(Class,data){var privates=data.privates,statics=privates.statics,privacy=privates.privacy||!0;delete data.privates;delete privates.statics;Class.addMembers(privates,!1,privacy);statics&&Class.addMembers(statics,!0,privacy)});ExtClass.registerPreprocessor('statics',function(Class,data){Class.addStatics(data.statics);delete data.statics});ExtClass.registerPreprocessor('inheritableStatics',function(Class,data){Class.addInheritableStatics(data.inheritableStatics);delete data.inheritableStatics});
Ext.createRuleFn=function(code){return new Function('$c','with($c) { try { return ('+code+'); } catch(e) { return false;}}')};Ext.expressionCache=new Ext.util.Cache({miss:Ext.createRuleFn});Ext.ruleKeySortFn=ruleKeySortFn;Ext.getPlatformConfigKeys=function(platformConfig){var ret=[],platform;for(platform in platformConfig)platformConfig=Ext.expressionCache.get(platform),platformConfig(Ext.platformTags)&&ret.push(platform);ret.sort(ruleKeySortFn);return ret};ExtClass.registerPreprocessor('config',
function(Class,data){data.hasOwnProperty('$configPrefixed')&&(Class.prototype.$configPrefixed=data.$configPrefixed);Class.addConfig(data.config);delete data.config});ExtClass.registerPreprocessor('cachedConfig',function(Class,data){data.hasOwnProperty('$configPrefixed')&&(Class.prototype.$configPrefixed=data.$configPrefixed);Class.addCachedConfig(data.cachedConfig);delete data.cachedConfig});ExtClass.registerPreprocessor('mixins',function(Class,data,hooks){var mixins=data.mixins,onCreated=hooks.onCreated;
delete data.mixins;hooks.onCreated=function(){hooks.onCreated=onCreated;Class.mixin(mixins);return hooks.onCreated.apply(this,arguments)}});Ext.extend=function(Class,Parent,members){var m;2===arguments.length&&Ext.isObject(Parent)&&(members=Parent,Parent=Class,Class=null);if(!Parent)throw Error('[Ext.extend] Attempting to extend from a class which has not been loaded on the page.');members.extend=Parent;members.preprocessors=['extend','statics','inheritableStatics','mixins','config'];if(Class){var cls=
new ExtClass(Class,members);cls.prototype.constructor=Class}else cls=new ExtClass(members);cls.prototype.override=function(o){for(m in o)o.hasOwnProperty(m)&&(this[m]=o[m])};return cls}})();Ext.Inventory=function(){this.names=[];this.paths={};this.alternateToName={};this.aliasToName={};this.nameToAliases={};this.nameToAlternates={};this.nameToPrefix={}};
Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(className,alias,update){return this.addMapping(className,alias,this.aliasToName,this.nameToAliases,update)},addAlternate:function(className,alternate){return this.addMapping(className,alternate,this.alternateToName,this.nameToAlternates)},addMapping:function(className,alternate,toName,nameTo,update){var name=className.$className||className;className=name;update=this._array1;var a,cls;Ext.isString(name)&&
(className={},className[name]=alternate);for(cls in className){alternate=className[cls];Ext.isString(alternate)&&(update[0]=alternate,alternate=update);var length=alternate.length;var nameMapping=nameTo[cls]||(nameTo[cls]=[]);for(name=0;name<length;++name)(a=alternate[name])&&toName[a]!==cls&&(toName[a]=cls,nameMapping.push(a))}},getAliasesByName:function(name){return this.nameToAliases[name]||null},getAlternatesByName:function(name){return this.nameToAlternates[name]||null},getNameByAlias:function(alias){return this.aliasToName[alias]||
''},getNameByAlternate:function(alternate){return this.alternateToName[alternate]||''},getNamesByExpression:function(expression,exclude,accumulate){var aliasToName=this.aliasToName,alternateToName=this.alternateToName,nameToAliases=this.nameToAliases,nameToAlternates=this.nameToAlternates;accumulate=accumulate?exclude:{};var names=[];expression=Ext.isString(expression)?[expression]:expression;var length=expression.length,wildcardRe=this.wildcardRe,expr,i,match,n,name;for(i=0;i<length;++i)if(0>(expr=
expression[i]).indexOf('*'))(name=aliasToName[expr])||(name=alternateToName[expr])||(name=expr),name in accumulate||exclude&&name in exclude||(accumulate[name]=1,names.push(name));else{var regex=new RegExp('^'+expr.replace(wildcardRe,'(.*?)')+'$');for(name in nameToAliases)if(!(name in accumulate||exclude&&name in exclude)){if(!(match=regex.test(name))){for(n=(expr=nameToAliases[name]).length;!match&&0<n--;)match=regex.test(expr[n]);if((expr=nameToAlternates[name])&&!match)for(n=expr.length;!match&&
0<n--;)match=regex.test(expr[n])}match&&(accumulate[name]=1,names.push(name))}}return names},getPath:function(className){var paths=this.paths,ret='',prefix;if(className in paths)ret=paths[className];else{if(prefix=this.nameToPrefix[className]||(this.nameToPrefix[className]=this.getPrefix(className)))className=className.substring(prefix.length+1),(ret=paths[prefix])&&(ret+='/');ret+=className.replace(this.dotRe,'/')+'.js'}return ret},getPrefix:function(className){if(className in this.paths)return className;
if(className in this.nameToPrefix)return this.nameToPrefix[className];for(var prefixes=this.getPrefixes(),length=className.length,items,currChar,j,jlen;0<length--;)if(items=prefixes[length])if(currChar=className.charAt(length),'.'===currChar)for(j=0,jlen=items.length;j<jlen;j++)if(currChar=items[j],currChar===className.substring(0,length))return currChar;return''},getPrefixes:function(){var prefixes=this.prefixes,len;if(!prefixes){var names=this.names.slice(0);this.prefixes=prefixes=[];var i=0;for(len=
names.length;i<len;i++){var name=names[i];var nameLength=name.length;nameLength=prefixes[nameLength]||(prefixes[nameLength]=[]);nameLength.push(name)}}return prefixes},removeName:function(name){var aliasToName=this.aliasToName,alternateToName=this.alternateToName,nameToAliases=this.nameToAliases,nameToAlternates=this.nameToAlternates,aliases=nameToAliases[name],alternates=nameToAlternates[name],a;delete nameToAliases[name];delete nameToAlternates[name];delete this.nameToPrefix[name];if(aliases)for(nameToAliases=
aliases.length;nameToAliases--;)name===aliasToName[a=aliases[nameToAliases]]&&delete aliasToName[a];if(alternates)for(nameToAliases=alternates.length;nameToAliases--;)name===alternateToName[a=alternates[nameToAliases]]&&delete alternateToName[a]},resolveName:function(name){var trueName;name in this.nameToAliases||(trueName=this.aliasToName[name])||(trueName=this.alternateToName[name]);return trueName||name},select:function(receiver,scope){var me=this,excludes={},ret={excludes,exclude:function(JSCompiler_OptimizeArgumentsArray_p0){me.getNamesByExpression(JSCompiler_OptimizeArgumentsArray_p0,
excludes,!0);return this}},name;for(name in receiver)ret[name]=me.selectMethod(excludes,receiver[name],scope||receiver);return ret},selectMethod:function(excludes,fn,scope){var me=this;return function(include){var args=Ext.Array.slice(arguments,1);args.unshift(me.getNamesByExpression(include,excludes));return fn.apply(scope,args)}},setPath:Ext.Function.flexSetter(function(name,path){this.paths[name]=path;this.names.push(name);this.prefixes=null;this.nameToPrefix={};return this})};
Ext.ClassManager=function(Class$jscomp$0,alias$jscomp$0,arraySlice,arrayFrom,global){var makeCtor=Ext.Class.makeCtor,nameLookupStack=[],namespaceCache={Ext:{name:'Ext',value:Ext}},Manager=Ext.apply(new Ext.Inventory,{classes:{},classState:{},existCache:{},instantiators:[],isCreated:function(className){if(Manager.classes[className]||Manager.existCache[className])return!0;if(!Manager.lookupName(className,!1))return!1;Manager.triggerCreated(className);return!0},createdListeners:[],nameCreatedListeners:{},
existsListeners:[],nameExistsListeners:{},overrideMap:{},triggerCreated:function(className,state){Manager.existCache[className]=state||1;Manager.classState[className]+=40;Manager.notify(className,Manager.createdListeners,Manager.nameCreatedListeners)},onCreated:function(fn,scope,className){Manager.addListener(fn,scope,className,Manager.createdListeners,Manager.nameCreatedListeners)},notify:function(className,listeners,nameListeners){var alternateNames=Manager.getAlternatesByName(className),names=
[className],ln,subLn;var i=0;for(ln=listeners.length;i<ln;i++){var listener=listeners[i];listener.fn.call(listener.scope,className)}for(;names;){i=0;for(ln=names.length;i<ln;i++){var name=names[i];if(listeners=nameListeners[name]){className=0;for(subLn=listeners.length;className<subLn;className++)listener=listeners[className],listener.fn.call(listener.scope,name);delete nameListeners[name]}}names=alternateNames;alternateNames=null}},addListener:function(fn,scope,className,listeners,nameListeners){if(Ext.isArray(className))for(fn=
Ext.Function.createBarrier(className.length,fn,scope),scope=0;scope<className.length;scope++)this.addListener(fn,null,className[scope],listeners,nameListeners);else{var listener={fn,scope};className?this.isCreated(className)?fn.call(scope,className):(nameListeners[className]||(nameListeners[className]=[]),nameListeners[className].push(listener)):listeners.push(listener)}},$namespaceCache:namespaceCache,addRootNamespaces:function(namespaces){for(var name in namespaces)namespaceCache[name]={name,value:namespaces[name]}},
clearNamespaceCache:function(){var name;nameLookupStack.length=0;for(name in namespaceCache)namespaceCache[name].value||delete namespaceCache[name]},getNamespaceEntry:function(namespace){if('string'!==typeof namespace)return namespace;var entry=namespaceCache[namespace];entry||(entry=namespace.lastIndexOf('.'),entry=0>entry?{name:namespace}:{name:namespace.substring(entry+1),parent:Manager.getNamespaceEntry(namespace.substring(0,entry))},namespaceCache[namespace]=entry);return entry},lookupName:function(namespace,
autoCreate){var entry=Manager.getNamespaceEntry(namespace);namespace=Ext.global;for(var i=0,parent;entry;entry=entry.parent)nameLookupStack[i++]=entry;for(;namespace&&0<i--;)entry=nameLookupStack[i],parent=namespace,namespace=entry.value||namespace[entry.name],!namespace&&autoCreate&&(parent[entry.name]=namespace={});return namespace},setNamespace:function(namespace,value){namespace=Manager.getNamespaceEntry(namespace);var scope=Ext.global;namespace.parent&&(scope=Manager.lookupName(namespace.parent,
!0));return scope[namespace.name]=value},setXType:function(cls,xtype){var className=cls.$className;cls=(className?cls:Manager.get(className=cls)).prototype;var xtypes=cls.xtypes,xtypesChain=cls.xtypesChain,xtypesMap=cls.xtypesMap;cls.hasOwnProperty('xtypes')||(cls.xtypes=xtypes=[],cls.xtypesChain=xtypesChain=xtypesChain?xtypesChain.slice(0):[],cls.xtypesMap=xtypesMap=Ext.apply({},xtypesMap));Manager.addAlias(className,'widget.'+xtype,!0);xtypes.push(xtype);xtypesChain.push(xtype);xtypesMap[xtype]=
!0},set:function(name,value){var targetName=Manager.getName(value);Manager.classes[name]=Manager.setNamespace(name,value);targetName&&targetName!==name&&Manager.addAlternate(targetName,name);return Manager},get:function(name){return Manager.classes[name]||Manager.lookupName(name,!1)},addNameAliasMappings:function(aliases){Manager.addAlias(aliases)},addNameAlternateMappings:function(alternates){Manager.addAlternate(alternates)},getByAlias:function(alias){return Manager.get(Manager.getNameByAlias(alias))},
getByConfig:function(config,aliasPrefix){var xclass=config.xclass;xclass||((xclass=config.xtype)?aliasPrefix='widget.':xclass=config.type,xclass=Manager.getNameByAlias(aliasPrefix+xclass));return Manager.get(xclass)},getName:function(object){return object&&object.$className||''},getClass:function(object){return object&&object.self||null},create:function(className,data,createdFn){var ctor=makeCtor(className);'function'===typeof data&&(data=data(ctor));data.$className=className;return new Class$jscomp$0(ctor,
data,function(){var postprocessorStack=data.postprocessors||Manager.defaultPostprocessors,registeredPostprocessors=Manager.postprocessors,postprocessors=[],ln,subLn;delete data.postprocessors;var i=0;for(ln=postprocessorStack.length;i<ln;i++){var postprocessor=postprocessorStack[i];if('string'===typeof postprocessor){postprocessor=registeredPostprocessors[postprocessor];var postprocessorProperties=postprocessor.properties;if(!0===postprocessorProperties)postprocessors.push(postprocessor.fn);else if(postprocessorProperties){var j=
0;for(subLn=postprocessorProperties.length;j<subLn;j++){var postprocessorProperty=postprocessorProperties[j];if(data.hasOwnProperty(postprocessorProperty)){postprocessors.push(postprocessor.fn);break}}}}else postprocessors.push(postprocessor)}data.postprocessors=postprocessors;data.createdFn=createdFn;Manager.processCreate(className,this,data)})},processCreate:function(className,cls,clsData){var postprocessor=clsData.postprocessors.shift(),createdFn=clsData.createdFn;postprocessor?!1!==postprocessor.call(this,
className,cls,clsData,this.processCreate)&&this.processCreate(className,cls,clsData):(className&&this.set(className,cls),delete cls._classHooks,createdFn&&createdFn.call(cls,cls),className&&this.triggerCreated(className))},createOverride:function(className,data,createdFn){var me=this,overriddenClassName=data.override,requires=data.requires,uses=data.uses,mixins=data.mixins,mixinsIsArray,compat=1,dependenciesLoaded;var classReady=function(){var cls,key,temp;if(!dependenciesLoaded){var dependencies=
requires?requires.slice(0):[];if(mixins)if(mixinsIsArray=mixins instanceof Array){var i=0;for(temp=mixins.length;i<temp;++i)Ext.isString(cls=mixins[i])&&dependencies.push(cls)}else for(key in mixins)Ext.isString(cls=mixins[key])&&dependencies.push(cls);dependenciesLoaded=!0;if(dependencies.length){Ext.require(dependencies,classReady);return}}if(mixinsIsArray)for(i=0,temp=mixins.length;i<temp;++i)Ext.isString(cls=mixins[i])&&(mixins[i]=Ext.ClassManager.get(cls));else if(mixins)for(key in mixins)Ext.isString(cls=
mixins[key])&&(mixins[key]=Ext.ClassManager.get(cls));cls=overriddenClassName.$isClass?overriddenClassName:me.get(overriddenClassName);delete data.override;delete data.compatibility;delete data.requires;delete data.uses;Ext.override(cls,data);Ext.Loader.history.push(className);uses&&Ext.Loader.addUsedClasses(uses);createdFn&&createdFn.call(cls,cls)};className&&(Manager.overrideMap[className]=!0);'compatibility'in data&&((compat=data.compatibility)?'number'===typeof compat?compat=!0:'boolean'!==typeof compat&&
(compat=Ext.checkVersion(compat)):compat=!1);if(compat)if(overriddenClassName.$isClass)classReady();else me.onCreated(classReady,me,overriddenClassName);me.triggerCreated(className,2);return me},instantiateByAlias:function(){var alias=arguments[0],args=arraySlice.call(arguments);alias=this.getNameByAlias(alias);args[0]=alias;return Ext.create.apply(Ext,args)},instantiate:function(){return Ext.create.apply(Ext,arguments)},dynInstantiate:function(name,args){args=arrayFrom(args,!0);args.unshift(name);
return Ext.create.apply(Ext,args)},getInstantiator:function(length){var instantiators=this.instantiators,i;var instantiator=instantiators[length];if(!instantiator){instantiator=[];for(i=0;i<length;i++)instantiator.push('a['+i+']');instantiator=instantiators[length]=new Function('c','a','return new c('+instantiator.join(',')+')')}return instantiator},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(name,fn,properties,position,relativeTo){position||(position='last');properties||
(properties=[name]);this.postprocessors[name]={name,properties:properties||!1,fn};this.setDefaultPostprocessorPosition(name,position,relativeTo);return this},setDefaultPostprocessors:function(postprocessors){this.defaultPostprocessors=arrayFrom(postprocessors);return this},setDefaultPostprocessorPosition:function(name,offset,relativeName){var defaultPostprocessors=this.defaultPostprocessors;if('string'===typeof offset){if('first'===offset)return defaultPostprocessors.unshift(name),this;if('last'===
offset)return defaultPostprocessors.push(name),this;offset='after'===offset?1:-1}relativeName=Ext.Array.indexOf(defaultPostprocessors,relativeName);-1!==relativeName&&Ext.Array.splice(defaultPostprocessors,Math.max(0,relativeName+offset),0,name);return this}});Manager.registerPostprocessor('platformConfig',function(name,Class,data){Class.addPlatformConfig(data)});Manager.registerPostprocessor('alias',function(name,cls,data){name=Ext.Array.from(data.alias);var ln;data=0;for(ln=name.length;data<ln;data++)alias$jscomp$0=
name[data],this.addAlias(cls,alias$jscomp$0)},['xtype','alias']);Manager.registerPostprocessor('singleton',function(name,cls,data,fn){if(data.singleton)fn.call(this,name,new cls,data);else return!0;return!1});Manager.registerPostprocessor('alternateClassName',function(name,cls,data){name=data.alternateClassName;var ln;name instanceof Array||(name=[name]);data=0;for(ln=name.length;data<ln;data++){var alternate=name[data];this.set(alternate,cls)}});Manager.registerPostprocessor('debugHooks',function(name,
Class,data){delete (Class.isInstance?Class.self:Class).prototype.debugHooks});Manager.registerPostprocessor('deprecated',function(name,Class,data){name=Class.isInstance?Class.self:Class;name.addDeprecations(data.deprecated);delete name.prototype.deprecated});Ext.apply(Ext,{create:function(){var name=arguments[0],nameType=typeof name,args=arraySlice.call(arguments,1);'function'===nameType?nameType=name:('string'!==nameType&&0===args.length&&(args=[name],(name=name.xclass)||(name=args[0].xtype)&&(name=
'widget.'+name)),name=Manager.resolveName(name),nameType=Manager.get(name));nameType||(Ext.syncRequire(name),nameType=Manager.get(name));return Manager.getInstantiator(args.length)(nameType,args)},widget:function(name,config){var xtype=name,T;if('string'!==typeof xtype){config=name;xtype=config.xtype;var className=config.xclass}else config=config||{};if(config.isComponent)return config;if(!className){var alias='widget.'+xtype;className=Manager.getNameByAlias(alias)}className&&(T=Manager.get(className));
return T?new T(config):Ext.create(className||alias,config)},createByAlias:alias$jscomp$0(Manager,'instantiateByAlias'),define:function(className,data,createdFn){if(data.override)return Manager.classState[className]=20,Manager.createOverride.apply(Manager,arguments);Manager.classState[className]=10;return Manager.create.apply(Manager,arguments)},undefine:function(className){delete Manager.classes[className];delete Manager.existCache[className];delete Manager.classState[className];Manager.removeName(className);
Ext.Factory.clearCaches();var entry=Manager.getNamespaceEntry(className);if(className=entry.parent?Manager.lookupName(entry.parent,!1):Ext.global){entry=entry.name;try{delete className[entry]}catch(e){className[entry]=void 0}}},getClassName:alias$jscomp$0(Manager,'getName'),getDisplayName:function(object){if(object){if(object.displayName)return object.displayName;if(object.$name&&object.$class)return Ext.getClassName(object.$class)+'#'+object.$name;if(object.$className)return object.$className}return'Anonymous'},
getClass:alias$jscomp$0(Manager,'getClass'),namespace:function(){var root=global,i;for(i=arguments.length;0<i--;)root=Manager.lookupName(arguments[i],!0);return root}});Ext.addRootNamespaces=Manager.addRootNamespaces;Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;Class$jscomp$0.registerPreprocessor('className',function(cls,data){'$className'in data&&(cls.$className=data.$className)},!0,'first');Class$jscomp$0.registerPreprocessor('alias',function(cls,data){var prototype=cls.prototype,xtypes=arrayFrom(data.xtype),
aliases=arrayFrom(data.alias),xtypesChain=Array.prototype.slice.call(prototype.xtypesChain||[]),xtypesMap=Ext.merge({},prototype.xtypesMap||{}),ln;var i=0;for(ln=aliases.length;i<ln;i++)if(prototype=aliases[i],'widget.'===prototype.substring(0,7)){var xtype=prototype.substring(7);Ext.Array.include(xtypes,xtype)}cls.xtype=data.xtype=xtypes[0];data.xtypes=xtypes;i=0;for(ln=xtypes.length;i<ln;i++)xtype=xtypes[i],xtypesMap[xtype]||(xtypesMap[xtype]=!0,xtypesChain.push(xtype));data.xtypesChain=xtypesChain;
data.xtypesMap=xtypesMap;Ext.Function.interceptAfterOnce(cls,'onClassCreated',function(){var mixins=this.prototype.mixins,key;for(key in mixins)if(mixins.hasOwnProperty(key)){var mixin=mixins[key];if(xtypes=mixin.xtypes)for(i=0,ln=xtypes.length;i<ln;i++)xtype=xtypes[i],xtypesMap[xtype]||(xtypesMap[xtype]=!0,xtypesChain.push(xtype))}});i=0;for(ln=xtypes.length;i<ln;i++)xtype=xtypes[i],Ext.Array.include(aliases,'widget.'+xtype);data.alias=aliases},['xtype','alias']);if(Ext.manifest){var manifest=Ext.manifest,
classes=manifest.classes,paths=manifest.paths,aliases$jscomp$0={},alternates$jscomp$0={},className$jscomp$0,path;if(paths){if(manifest.bootRelative)for(path in manifest=Ext.Boot.baseUrl,paths)paths.hasOwnProperty(path)&&(paths[path]=manifest+paths[path]);Manager.setPath(paths)}if(classes)for(className$jscomp$0 in classes)alternates$jscomp$0[className$jscomp$0]=[],aliases$jscomp$0[className$jscomp$0]=[],paths=classes[className$jscomp$0],paths.alias&&(aliases$jscomp$0[className$jscomp$0]=paths.alias),
paths.alternates&&(alternates$jscomp$0[className$jscomp$0]=paths.alternates);Manager.addAlias(aliases$jscomp$0);Manager.addAlternate(alternates$jscomp$0)}return Manager}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global);
Ext.cmd.derive('Ext.mixin.Watchable',Ext.Base,{on:function(name,fn,scope){return this._watchUpdate(!1,'_watchAdd',name,fn,scope)},fire:function(event,args){var watching=this.watching;event=watching&&watching[event];if(event){++event.$firing;for(watching=0;watching<event.length;++watching){var scope=event[watching][0];var fn=event[watching][1];fn=fn.charAt?args?scope[fn].apply(scope,args):scope[fn]():args?fn.apply(scope,args):fn.call(scope);if(!1===fn)return fn}--event.$firing}},fireEvent:function(){var args=
Ext.Array.slice(arguments),event=args.shift();return this.fire(event,args)},un:function(name,fn,scope){return this._watchUpdate(!0,'_watchRemove',name,fn,scope)},privates:{watching:null,$watchOptions:{destroyable:1,scope:1},_watchAdd:function(watching,name,fn,scope,destroyable){var watchers=watching[name],entry=[scope,fn],i;if(watchers){for(i=watchers.length;0<i--;){var ent=watchers[i];if(fn===ent[1]&&(scope?ent[0]===scope:!ent[0]))return}watchers.$firing&&(watching[name]=watchers=watchers.slice(),
watchers.$firing=0)}else watching[name]=watchers=[],watchers.$firing=0;watchers.push(entry);destroyable&&(entry.push(name),destroyable.items.push(entry))},_watchRemove:function(watching,name,fn,scope){var watchers=watching[name];if(watchers)for(watchers.$firing&&(watching[name]=watchers=watchers.slice(),watchers.$firing=0),watching=watchers.length;0<watching--;)watchers[watching][0]===scope&&watchers[watching][1]===fn&&watchers.splice(watching,1)},_watchUpdate:function(remove,process,name,fn,scope){var watch=
name,watching=this.watching;if(!watching){if(remove)return;this.watching=watching={}}if('string'===typeof name)this[process](watching,name,fn,scope);else{var destroyable=watch.destroyable?{owner:this,items:[],destroy:this._watcherDestroyer}:null;scope=watch.scope;for(name in watch)if(!this.$watchOptions[name])this[process](watching,name,watch[name],scope,destroyable)}return destroyable},_watcherDestroyer:function(){var me=this.owner,watching=me.watching,items=this.items,i;for(i=0;i<items.length;++i){var entry=
items[i];me._watchRemove(watching,entry[2],entry[1],entry[0])}}}},0,0,0,0,0,0,[Ext.mixin,'Watchable'],0);
(Ext.env||(Ext.env={})).Browser=function(userAgent,publish){var browserPrefixes=Ext.Boot.browserPrefixes,browserNames=Ext.Boot.browserNames,enginePrefixes=this.enginePrefixes,engineNames=this.engineNames,browserMatch=userAgent.match(new RegExp('((?:'+Ext.Object.getValues(browserPrefixes).join(')|(?:')+'))([\\w\\._]+)')),engineMatch=userAgent.match(new RegExp('((?:'+Ext.Object.getValues(enginePrefixes).join(')|(?:')+'))([\\w\\._]+)')),browserName=browserNames.other,engineName=engineNames.other,browserVersion=
'',engineVersion='',majorVer='',isWebView=!1,edgeRE=/(Edge\/)([\w.]+)/,ripple='',i;this.userAgent=userAgent;this.is=function(name){return!!this.is[name]};/Edge\//.test(userAgent)&&(browserMatch=userAgent.match(edgeRE),engineMatch=userAgent.match(edgeRE));browserMatch&&(browserName=browserNames[Ext.Object.getKey(browserPrefixes,browserMatch[1])],'Safari'===browserName&&/^Opera/.test(userAgent)&&(browserName='Opera'),browserVersion=new Ext.Version(browserMatch[2]));engineMatch&&(engineName=engineNames[Ext.Object.getKey(enginePrefixes,
engineMatch[1])],engineVersion=new Ext.Version(engineMatch[2]));'Trident'===engineName&&'IE'!==browserName&&(browserName='IE',(browserPrefixes=userAgent.match(/.*rv:(\d+.\d+)/))&&browserPrefixes.length&&(browserPrefixes=browserPrefixes[1],browserVersion=new Ext.Version(browserPrefixes)));browserName&&browserVersion&&Ext.setVersion(browserName,browserVersion);if(userAgent.match(/FB/)&&'Other'===browserName)browserName=browserNames.safari,engineName=engineNames.webkit;else if(userAgent.match(/Android.*Chrome/g))browserName=
'ChromeMobile';else if(browserMatch=userAgent.match(/OPR\/(\d+.\d+)/))browserName='Opera',browserVersion=new Ext.Version(browserMatch[1]);Ext.apply(this,{engineName,engineVersion,name:browserName,version:browserVersion});this.setFlag(browserName,!0,publish);if(browserVersion){majorVer=browserVersion.getMajor()||'';if(this.is.IE)for(majorVer=document.documentMode||parseInt(majorVer,10),i=7;11>=i;++i)browserPrefixes='isIE'+i,Ext[browserPrefixes]=majorVer===i,Ext[browserPrefixes+'m']=majorVer<=i,Ext[browserPrefixes+
'p']=majorVer>=i;this.is.Opera&&12>=parseInt(majorVer,10)&&(Ext.isOpera12m=!0);Ext.chromeVersion=Ext.isChrome?majorVer:0;Ext.firefoxVersion=Ext.isFirefox?majorVer:0;Ext.ieVersion=Ext.isIE?majorVer:0;Ext.operaVersion=Ext.isOpera?majorVer:0;Ext.safariVersion=Ext.isSafari?majorVer:0;Ext.webKitVersion=Ext.isWebKit?majorVer:0;this.setFlag(browserName+majorVer,!0,publish);this.setFlag(browserName+browserVersion.getShortVersion())}for(i in browserNames)if(browserNames.hasOwnProperty(i)){var name$jscomp$0=
browserNames[i];this.setFlag(name$jscomp$0,browserName===name$jscomp$0)}this.setFlag(name$jscomp$0);engineVersion&&(this.setFlag(engineName+(engineVersion.getMajor()||'')),this.setFlag(engineName+engineVersion.getShortVersion()));for(i in engineNames)engineNames.hasOwnProperty(i)&&(name$jscomp$0=engineNames[i],this.setFlag(name$jscomp$0,engineName===name$jscomp$0,publish));this.setFlag('Standalone',!!navigator.standalone);try{ripple=window.top.ripple}catch(e){}this.setFlag('Ripple',!!document.getElementById('tinyhippos-injected')&&
!Ext.isEmpty(ripple));this.setFlag('WebWorks',!!window.blackberry);if(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)isWebView=!0,this.setFlag('PhoneGap'),this.setFlag('Cordova');/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(userAgent)&&(isWebView=!0);this.setFlag('WebView',isWebView);this.isStrict=Ext.isStrict='CSS1Compat'===document.compatMode;this.isSecure=Ext.isSecure;this.identity=browserName+majorVer+(this.isStrict?'Strict':'Quirks')};
Ext.env.Browser.prototype={constructor:Ext.env.Browser,engineNames:{edge:'Edge',webkit:'WebKit',gecko:'Gecko',presto:'Presto',trident:'Trident',other:'Other'},enginePrefixes:{edge:'Edge/',webkit:'AppleWebKit/',gecko:'Gecko/',presto:'Presto/',trident:'Trident/'},styleDashPrefixes:{WebKit:'-webkit-',Gecko:'-moz-',Trident:'-ms-',Presto:'-o-',Other:''},stylePrefixes:{WebKit:'Webkit',Gecko:'Moz',Trident:'ms',Presto:'O',Other:''},propertyPrefixes:{WebKit:'webkit',Gecko:'moz',Trident:'ms',Presto:'o',Other:''},
name:null,version:null,engineName:null,engineVersion:null,setFlag:function(name,value,publish){void 0===value&&(value=!0);this.is[name]=value;this.is[name.toLowerCase()]=value;publish&&(Ext['is'+name]=value);return this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(name){var prefix=this.propertyPrefixes[this.engineName];return 0<prefix.length?prefix+Ext.String.capitalize(name):
name}};(function(userAgent){Ext.browser=new Ext.env.Browser(userAgent,!0);Ext.userAgent=userAgent.toLowerCase();Ext.SSL_SECURE_URL=Ext.isSecure&&Ext.isIE?"javascript:''":'about:blank'})(Ext.global.navigator.userAgent);
Ext.env.OS=function(userAgent,platform,browserScope){var names=Ext.Boot.osNames,prefixes=Ext.Boot.osPrefixes,version='',is=this.is,i;browserScope=browserScope||Ext.browser;for(i in prefixes)if(prefixes.hasOwnProperty(i)){var prefix=prefixes[i];if(prefix=userAgent.match(new RegExp('(?:'+prefix+')([^\\s;]+)'))){var name=names[i];version=(prefixes=prefix[1])&&'HTC_'===prefixes?new Ext.Version('2.3'):prefixes&&'Silk/'===prefixes?new Ext.Version('2.3'):new Ext.Version(prefix[prefix.length-1]);break}}name||
(name=names[(userAgent.toLowerCase().match(/mac|win|linux/)||['other'])[0]],version=new Ext.Version(''));this.name=name;this.version=version;if(userAgent.match(/ipad/i)||!userAgent.match(/iphone/i)&&userAgent.match(/Mac/)&&2<navigator.maxTouchPoints)name='iOS',platform='iPad';platform&&this.setFlag(platform.replace(/ simulator$/i,''));this.setFlag(name);version&&(this.setFlag(name+(version.getMajor()||'')),this.setFlag(name+version.getShortVersion()));for(i in names)names.hasOwnProperty(i)&&(userAgent=
names[i],is.hasOwnProperty(name)||this.setFlag(userAgent,name===userAgent));'iOS'===this.name&&568===window.screen.height&&this.setFlag('iPhone5');if(browserScope.is.Safari||browserScope.is.Silk)(this.is.Android2||this.is.Android3||501===browserScope.version.shortVersion)&&browserScope.setFlag('AndroidStock'),this.is.Android4&&(browserScope.setFlag('AndroidStock'),browserScope.setFlag('AndroidStock4'))};
Ext.env.OS.prototype={constructor:Ext.env.OS,is:function(name){return!!this[name]},name:null,version:null,setFlag:function(name,value){void 0===value&&(value=!0);this.flags&&(this.flags[name]=value);this.is[name]=value;this.is[name.toLowerCase()]=value;return this}};
(function(){var navigation=Ext.global.navigator,userAgent=navigation.userAgent,OS=Ext.env.OS,is=Ext.is||(Ext.is={});OS.prototype.flags=is;Ext.os=navigation=new OS(userAgent,navigation.platform);var osName=navigation.name;Ext['is'+osName]=!0;Ext.isMac=is.Mac=is.MacOS;Ext.isApple=Ext.isMac||Ext.isiOS;is=window.location.search.match(/deviceType=(Tablet|Phone)/);var nativeDeviceType=window.deviceType;is&&is[1]?userAgent=is[1]:'iPhone'===nativeDeviceType?userAgent='Phone':'iPad'===nativeDeviceType?userAgent=
'Tablet':navigation.is.Android||navigation.is.iOS||navigation.is.WindowsPhone||!/Windows|Linux|MacOS|ChromeOS/.test(osName)?userAgent=navigation.is.iPad||navigation.is.RIMTablet||navigation.is.Android3||Ext.browser.is.Silk||navigation.is.Android&&-1===userAgent.search(/mobile/i)?'Tablet':'Phone':(userAgent='Desktop',Ext.browser.is.WebView=!!Ext.browser.is.Ripple);'Tablet'===userAgent&&'MacOS'===osName&&(Ext.isiOS=!0,Ext.isiPadOS=!0);navigation.setFlag(userAgent,!0);navigation.deviceType=userAgent;
delete OS.prototype.flags})();
Ext.feature={has:function(name){return!!this.has[name]},testElements:{},getTestElement:function(tag,createNew){if(void 0===tag)tag='div';else if('string'!==typeof tag)return tag;if(createNew)return document.createElement(tag);this.testElements[tag]||(this.testElements[tag]=document.createElement(tag));return this.testElements[tag]},isStyleSupported:function(name,tag){tag=this.getTestElement(tag).style;var cName=Ext.String.capitalize(name);return'undefined'!==typeof tag[name]||'undefined'!==typeof tag[Ext.browser.getStylePrefix(name)+
cName]?!0:!1},isStyleSupportedWithoutPrefix:function(name,tag){return'undefined'!==typeof this.getTestElement(tag).style[name]?!0:!1},isEventSupported:function(name,tag){void 0===tag&&(tag=window);tag=this.getTestElement(tag);name='on'+name.toLowerCase();var isSupported=name in tag;!isSupported&&tag.setAttribute&&tag.removeAttribute&&(tag.setAttribute(name,''),isSupported='function'===typeof tag[name],'undefined'!==typeof tag[name]&&(tag[name]=void 0),tag.removeAttribute(name));return isSupported},
getStyle:function(element,styleName){var view=element.ownerDocument.defaultView;return((view?view.getComputedStyle(element,null):element.currentStyle)||element.style)[styleName]},getSupportedPropertyName:function(object,name){var vendorName=Ext.browser.getVendorProperyName(name);return vendorName in object?vendorName:name in object?name:null},detect:function(isReady){var doc=document,toRun=this.toRun||this.tests,n=toRun.length,div=doc.createElement('div'),notRun=[],supports=Ext.supports,has=this.has,
vector;div.innerHTML='\x3cdiv style\x3d"height:30px;width:50px;"\x3e\x3cdiv style\x3d"height:20px;width:20px;"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv style\x3d"width: 200px; height: 200px; position: relative; padding: 5px;"\x3e\x3cdiv style\x3d"position: absolute; top: 0; left: 0; width: 100%; height: 100%;"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv style\x3d"position: absolute; left: 10%; top: 10%;"\x3e\x3c/div\x3e\x3cdiv style\x3d"float:left; background-color:transparent;"\x3e\x3c/div\x3e';isReady&&doc.body.appendChild(div);
for(vector=this.preDetected[Ext.browser.identity]||[];n--;){var test=toRun[n];var value=vector[n];var name=test.name;var names=test.names;if(void 0===value){if(!isReady&&test.ready){notRun.push(test);continue}value=test.fn.call(this,doc,div)}if(name)supports[name]=has[name]=value;else if(names)for(;names.length;)name=names.pop(),supports[name]=has[name]=value}isReady&&doc.body.removeChild(div);this.toRun=notRun},report:function(){var values=[],len=this.tests.length,i;for(i=0;i<len;++i)values.push(this.has[this.tests[i].name]?
1:0);Ext.log(Ext.browser.identity+': ['+values.join(',')+']')},preDetected:{},tests:[{name:'CloneNodeCopiesExpando',fn:function(){var el=document.createElement('div');el.expandoProp={};return el.cloneNode().expandoProp===el.expandoProp}},{name:'CSSPointerEvents',fn:function(doc){return'pointerEvents'in doc.documentElement.style}},{name:'CSS3BoxShadow',fn:function(doc){return'boxShadow'in doc.documentElement.style||'WebkitBoxShadow'in doc.documentElement.style||'MozBoxShadow'in doc.documentElement.style}},
{name:'CSS3NegationSelector',fn:function(doc){try{doc.querySelectorAll('foo:not(bar)')}catch(e){return!1}return!0}},{name:'ClassList',fn:function(doc){return!!doc.documentElement.classList}},{name:'Canvas',fn:function(){var element=this.getTestElement('canvas');return!!(element&&element.getContext&&element.getContext('2d'))}},{name:'Svg',fn:function(doc){return!(!doc.createElementNS||!doc.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect)}},{name:'Vml',fn:function(){var element=this.getTestElement();
element.innerHTML='\x3c!--[if vml]\x3e\x3cbr\x3e\x3c![endif]--\x3e';var ret=1===element.childNodes.length;element.innerHTML='';return ret}},{name:'Touch',fn:function(){var maxTouchPoints=navigator.msMaxTouchPoints||navigator.maxTouchPoints;return Ext.browser.is.Chrome&&Ext.browser.version.isLessThanOrEqual(39)?Ext.supports.TouchEvents&&1!==maxTouchPoints||1<maxTouchPoints:Ext.supports.TouchEvents||0<maxTouchPoints}},{name:'PointerEvents',fn:function(){var nav=window.navigator;return!(!window.PointerEvent||
!nav.pointerEnabled&&Ext.isIE)&&!Ext.supports.TouchEvents}},{name:'MSPointerEvents',fn:function(){return Ext.isIE10}},{name:'TouchEvents',fn:function(){return this.isEventSupported('touchend')}},{name:'TouchAction',ready:!0,fn:function(doc,div){if(!window.getComputedStyle)return 0;doc=['pan-x','pan-y','pinch-zoom','double-tap-zoom'];var flags=[1,2,4,8],ln=doc.length,flag=0,i;for(i=0;i<ln;i++){var value=doc[i];div.style.touchAction=value;getComputedStyle(div).touchAction===value&&(flag|=flags[i])}return flag}},
{name:'Orientation',fn:function(){return'orientation'in window&&this.isEventSupported('orientationchange')}},{name:'OrientationChange',fn:function(){return this.isEventSupported('orientationchange')}},{name:'DeviceMotion',fn:function(){return this.isEventSupported('devicemotion')}},{names:['Geolocation','GeoLocation'],fn:function(){return'geolocation'in window.navigator}},{name:'SqlDatabase',fn:function(){return'openDatabase'in window}},{name:'WebSockets',fn:function(){return'WebSocket'in window}},
{name:'Range',fn:function(){return!!document.createRange}},{name:'CreateContextualFragment',fn:function(){var range=document.createRange?document.createRange():!1;return range&&!!range.createContextualFragment}},{name:'History',fn:function(){return'history'in window&&'pushState'in window.history}},{name:'Css3dTransforms',fn:function(){return this.has('CssTransforms')&&this.isStyleSupported('perspective')}},{name:'CssTransforms',fn:function(){return this.isStyleSupported('transform')}},{name:'CssTransformNoPrefix',
fn:function(){return this.isStyleSupportedWithoutPrefix('transform')}},{name:'CssAnimations',fn:function(){return this.isStyleSupported('animationName')}},{names:['CssTransitions','Transitions'],fn:function(){return this.isStyleSupported('transitionProperty')}},{names:['Audio','AudioTag'],fn:function(){return!!this.getTestElement('audio').canPlayType}},{name:'Video',fn:function(){return!!this.getTestElement('video').canPlayType}},{name:'LocalStorage',fn:function(){try{if('localStorage'in window&&
null!==window.localStorage)return localStorage.setItem('sencha-localstorage-test','test success'),localStorage.removeItem('sencha-localstorage-test'),!0}catch(e){}return!1}},{name:'XmlQuerySelector',fn:function(){if(window.ActiveXObject){var xmlDoc=new ActiveXObject('Microsoft.xmlDOM');xmlDoc.async=!1;xmlDoc.loadXML('\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"yes" ?\x3e\x3croot\x3e\x3c/root\x3e')}else window.DOMParser&&(xmlDoc=(new DOMParser).parseFromString('\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"yes" ?\x3e\x3croot\x3e\x3c/root\x3e',
'text/xml'));return xmlDoc?!!xmlDoc.lastChild.querySelector:!1}},{name:'XHR2',fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&'withCredentials'in new XMLHttpRequest}},{name:'XHRUploadProgress',fn:function(){var xhr;return window.XMLHttpRequest&&!Ext.browser.is.AndroidStock?(xhr=new XMLHttpRequest,'upload'in xhr)&&'onprogress'in xhr.upload:!1}},{name:'NumericInputPlaceHolder',fn:function(){return!(Ext.browser.is.AndroidStock4&&2>Ext.os.version.getMinor())}},{name:'matchesSelector',
fn:function(){var el=document.documentElement;return el.matches?'matches':el.webkitMatchesSelector?'webkitMatchesSelector':el.msMatchesSelector?'msMatchesSelector':el.mozMatchesSelector?'mozMatchesSelector':null}},{name:'RightMargin',ready:!0,fn:function(doc,div){doc=doc.defaultView;return!(doc&&'0px'!==doc.getComputedStyle(div.firstChild.firstChild,null).marginRight)}},{name:'DisplayChangeInputSelectionBug',fn:function(){var webKitVersion=Ext.webKitVersion;return 0<webKitVersion&&533>webKitVersion}},
{name:'DisplayChangeTextAreaSelectionBug',fn:function(){var webKitVersion=Ext.webKitVersion;return 0<webKitVersion&&534.24>webKitVersion}},{name:'TransparentColor',ready:!0,fn:function(doc,div,view){view=doc.defaultView;return!(view&&'transparent'!==view.getComputedStyle(div.lastChild,null).backgroundColor)}},{name:'ComputedStyle',ready:!0,fn:function(doc,div,view){view=doc.defaultView;return!(!view||!view.getComputedStyle)}},{name:'Float',fn:function(doc){return'cssFloat'in doc.documentElement.style}},
{name:'CSS3BorderRadius',ready:!0,fn:function(doc){var domPrefixes='borderRadius BorderRadius MozBorderRadius WebkitBorderRadius OBorderRadius KhtmlBorderRadius'.split(' '),pass=!1,i;for(i=0;i<domPrefixes.length;i++)void 0!==doc.documentElement.style[domPrefixes[i]]&&(pass=!0);return pass&&!Ext.isIE9}},{name:'CSS3LinearGradient',fn:function(doc,div){div.style.cssText='background-image:-webkit-gradient(linear, left top, right bottom, from(black), to(white));background-image:linear-gradient(left top, black, white);background-image:-moz-linear-gradient(left top, black, white);background-image:-ms-linear-gradient(left top, black, white);background-image:-o-linear-gradient(left top, black, white)';
return-1!==(''+div.style.backgroundImage).indexOf('gradient')&&!Ext.isIE9}},{name:'MouseEnterLeave',fn:function(doc){return'onmouseenter'in doc.documentElement&&'onmouseleave'in doc.documentElement}},{name:'MouseWheel',fn:function(doc){return'onmousewheel'in doc.documentElement}},{name:'Opacity',fn:function(doc,div){if(Ext.isIE8)return!1;div.firstChild.style.cssText='opacity:0.73';return'0.73'==div.firstChild.style.opacity}},{name:'Placeholder',fn:function(doc){return'placeholder'in doc.createElement('input')}},
{name:'Direct2DBug',fn:function(doc){return Ext.isString(doc.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:'BoundingClientRect',fn:function(doc){return'getBoundingClientRect'in doc.documentElement}},{name:'RotatedBoundingClientRect',ready:!0,fn:function(doc){var body=doc.body,supports=!1;doc=doc.createElement('div');var style=doc.style;doc.getBoundingClientRect&&(style.position='absolute',style.top='0',style.WebkitTransform=style.MozTransform=style.msTransform=style.OTransform=style.transform=
'rotate(90deg)',style.width='100px',style.height='30px',body.appendChild(doc),supports=100!==doc.getBoundingClientRect().height,body.removeChild(doc));return supports}},{name:'ChildContentClearedWhenSettingInnerHTML',ready:!0,fn:function(){var el=this.getTestElement();el.innerHTML='\x3cdiv\x3ea\x3c/div\x3e';var child=el.firstChild;el.innerHTML='\x3cdiv\x3eb\x3c/div\x3e';return'a'!==child.innerHTML}},{name:'IncludePaddingInWidthCalculation',ready:!0,fn:function(doc,div){return 210===div.childNodes[1].firstChild.offsetWidth}},
{name:'IncludePaddingInHeightCalculation',ready:!0,fn:function(doc,div){return 210===div.childNodes[1].firstChild.offsetHeight}},{name:'TextAreaMaxLength',fn:function(doc){return'maxlength'in doc.createElement('textarea')}},{name:'GetPositionPercentage',ready:!0,fn:function(doc,div){return'10%'===Ext.feature.getStyle(div.childNodes[2],'left')}},{name:'PercentageHeightOverflowBug',ready:!0,fn:function(doc){var hasBug=!1;if(Ext.getScrollbarSize().height){var el=this.getTestElement('div',!0);var style=
el.style;style.height='50px';style.width='50px';style.overflow='auto';style.position='absolute';el.innerHTML='\x3cdiv style\x3d"display:table;height:100%;"\x3e\x3cdiv style\x3d"width:51px;"\x3e\x3c/div\x3e\x3c/div\x3e';doc.body.appendChild(el);50===el.firstChild.offsetHeight&&(hasBug=!0);doc.body.removeChild(el)}return hasBug}},{name:'xOriginBug',ready:!0,fn:function(doc,div){div.innerHTML='\x3cdiv id\x3d"b1" style\x3d"height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"\x3e\x3cdiv id\x3d"b2" style\x3d"position:relative;width:100%;height:20px;"\x3e\x3c/div\x3e\x3cdiv id\x3d"b3" style\x3d"position:absolute;width:20px;height:20px;top:0px;right:0px"\x3e\x3c/div\x3e\x3c/div\x3e';
doc=document.getElementById('b1').getBoundingClientRect();div=document.getElementById('b2').getBoundingClientRect();var b3=document.getElementById('b3').getBoundingClientRect();return div.left!==doc.left&&b3.right!==doc.right}},{name:'ScrollWidthInlinePaddingBug',ready:!0,fn:function(doc){var hasBug=!1;var el=doc.createElement('div');var style=el.style;style.height='50px';style.width='50px';style.padding='10px';style.overflow='hidden';style.position='absolute';el.innerHTML='\x3cspan style\x3d"display:inline-block;zoom:1;height:60px;width:60px;"\x3e\x3c/span\x3e';
doc.body.appendChild(el);70===el.scrollWidth&&(hasBug=!0);doc.body.removeChild(el);return hasBug}},{name:'rtlVertScrollbarOnRight',ready:!0,fn:function(doc,div){div.innerHTML='\x3cdiv style\x3d"height:100px;width:100px;direction:rtl;overflow:scroll"\x3e\x3cdiv style\x3d"width:20px;height:200px;"\x3e\x3c/div\x3e\x3c/div\x3e';doc=div.firstChild;div=doc.firstChild;return div.offsetLeft+div.offsetWidth!==doc.offsetLeft+doc.offsetWidth}},{name:'rtlVertScrollbarOverflowBug',ready:!0,fn:function(doc,div){div.innerHTML=
'\x3cdiv style\x3d"height:100px;width:100px;direction:rtl;overflow:auto"\x3e\x3cdiv style\x3d"width:95px;height:200px;"\x3e\x3c/div\x3e\x3c/div\x3e';doc=div.firstChild;div=div.style;var pos=div.position;div.position='absolute';doc.offsetHeight;div.position=pos;return doc.clientHeight===doc.offsetHeight}},{identity:'defineProperty',fn:function(){return Ext.isIE8m?(Ext.Object.defineProperty=Ext.emptyFn,!1):!0}},{identify:'nativeXhr',fn:function(){if('undefined'!==typeof XMLHttpRequest)return!0;XMLHttpRequest=
function(){try{return new ActiveXObject('MSXML2.XMLHTTP.3.0')}catch(ex){return null}};return!1}},{name:'SpecialKeyDownRepeat',fn:function(){return Ext.isWebKit?525<=parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10):!(!(Ext.isGecko||Ext.isIE||Ext.isEdge)||Ext.isOpera&&12>Ext.operaVersion)}},{name:'EmulatedMouseOver',fn:function(){return Ext.os.is.iOS}},{name:'Hashchange',fn:function(){var docMode=document.documentMode;return'onhashchange'in window&&(void 0===docMode||7<docMode)}},{name:'FixedTableWidthBug',
ready:!0,fn:function(){if(Ext.isIE8)return!1;var outer=document.createElement('div'),inner=document.createElement('div');outer.setAttribute('style','display:table;table-layout:fixed;');inner.setAttribute('style','display:table-cell;min-width:50px;');outer.appendChild(inner);document.body.appendChild(outer);outer.offsetWidth;outer.style.width='25px';inner=outer.offsetWidth;document.body.removeChild(outer);return 50===inner}},{name:'FocusinFocusoutEvents',fn:function(){return!(Ext.isGecko&&52>Ext.firefoxVersion)}},
{name:'AsyncFocusEvents',fn:function(){return Ext.asyncFocus=!!Ext.isIE}},{name:'accessibility',ready:!0,fn:function(doc){function getColor(colorTxt){var values=[],colorValue=0;if(-1!==colorTxt.indexOf('rgb('))values=colorTxt.replace('rgb(','').replace(')','').split(', ');else if(-1!==colorTxt.indexOf('#')){var regex=7===colorTxt.length?/^#(\S\S)(\S\S)(\S\S)$/:/^#(\S)(\S)(\S)$/;(colorTxt=colorTxt.match(regex))&&(values=['0x'+colorTxt[1],'0x'+colorTxt[2],'0x'+colorTxt[3]])}for(colorTxt=0;colorTxt<
values.length;colorTxt++)colorValue+=parseInt(values[colorTxt]);return colorValue}var body=doc.body;var div=doc.createElement('div');doc=doc.createElement('img');var style=div.style;Ext.apply(style,{width:'2px',position:'absolute',clip:'rect(1px,1px,1px,1px)',borderWidth:'1px',borderStyle:'solid',borderTopTolor:'#f00',borderRightColor:'#ff0',backgroundColor:'#fff',backgroundImage:'url('+Ext.BLANK_IMAGE_URL+')'});doc.alt='';doc.src=Ext.BLANK_IMAGE_URL;div.appendChild(doc);body.appendChild(div);style=
div.currentStyle||div.style;var bgImg=style.backgroundImage;style={Images:1===doc.offsetWidth&&'uninitialized'!==doc.readyState,BackgroundImages:!(null!==bgImg&&('none'===bgImg||'url(invalid-url:)'===bgImg)),BorderColors:style.borderTopColor!==style.borderRightColor,LightOnDark:0<getColor(style.color)-getColor(style.backgroundColor)};Ext.supports.HighContrastMode=!style.BackgroundImages;body.removeChild(div);div=doc=null;return style}},{name:'ViewportUnits',ready:!0,fn:function(doc){if(Ext.isIE8)return!1;
doc=doc.body;var div=document.createElement('div'),style=div.currentStyle||div.style;doc.appendChild(div);Ext.apply(style,{width:'50vw'});style=parseInt(window.innerWidth/2,10);var divWidth=parseInt((window.getComputedStyle?getComputedStyle(div,null):div.currentStyle).width,10);doc.removeChild(div);return style===divWidth}},{name:'CSSVariables',ready:!1,fn:function(){return window.getComputedStyle?window.CSS&&window.CSS.supports&&window.CSS.supports('--test-var',0):!1}},{name:'Selectors2',ready:!1,
fn:function(doc){try{return!!doc.querySelectorAll(':scope')}catch(e){return!1}}},{name:'CSSScrollSnap',ready:!1,fn:function(doc){doc=doc.documentElement.style;return'scrollSnapType'in doc||'webkitScrollSnapType'in doc||'msScrollSnapType'in doc}},{name:'TranslateYCausesHorizontalScroll',ready:!0,fn:function(doc,div){div.innerHTML='\x3cdiv style\x3d"position: relative; overflow: auto; height: 200px; width: 200px;"\x3e\x3cdiv\x3e\x3cdiv style\x3d"transform: translateY(260px); width: 50px;"\x3ea\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';
return div.firstChild.scrollWidth>div.firstChild.clientWidth}},{name:'FlexBoxBasisBug',ready:!0,fn:function(){return Ext.isIE11||Ext.os.is.iOS&&10>=Ext.os.version.major||Ext.isSafari&&Ext.browser.version.isLessThan(11)||Ext.os.is.Android&&Ext.os.version.isLessThan(6)?!0:!1}},{name:'PercentageSizeFlexBug',ready:!0,fn:function(doc,div){if(Ext.isIE9m)return!1;doc=div.style;doc.display='flex';doc.flexDirection='column';doc.height=doc.width='100px';div.innerHTML='\x3cdiv style\x3d"flex: 1 1;"\x3e\x3cdiv style\x3d"height:50%"\x3e\x3c/div\x3e\x3c/div\x3e';
return 50!==div.firstChild.firstChild.offsetHeight}},{name:'CannotScrollExactHeight',fn:function(){return Ext.isIE10p}},{name:'WebKitInputTableBoxModelBug',ready:!0,fn:function(doc,div){div=document.createElement('div');var cell=document.createElement('div'),input=document.createElement('input'),tableStyle=div.style,cellStyle=cell.style,inputStyle=input.style;doc=doc.body;input.type='text';tableStyle.display='table';tableStyle.height='100px';cellStyle.display='table-cell';inputStyle.border='0';inputStyle.padding=
'10px';inputStyle.boxSizing='border-box';inputStyle.height='100%';cell.appendChild(input);div.appendChild(cell);doc.appendChild(div);cell=80===input.offsetHeight;doc.removeChild(div);return cell}},{name:'PassiveEventListener',fn:function(doc,div){var supportsPassive=!1;try{var options=Object.defineProperty({},'passive',{get:function(){supportsPassive=!0}});window.addEventListener('e',null,options);window.removeEventListener('e',null,options)}catch(e){}return supportsPassive}},{name:'CSSMinContent',
ready:!0,fn:function(doc,div){div.innerHTML='\x3cdiv style\x3d"height:4px;width:4px;min-height:-webkit-min-content;min-height:-moz-min-content;min-height:min-content"\x3e\x3cdiv style\x3d"height:8px;width:8px"\x3e\x3c/div\x3e\x3c/div\x3e';return 8===div.firstChild.offsetHeight}},{name:'ComputedSizeIncludesPadding',ready:!0,fn:function(doc,div){var ret=!1;doc=document.body;window.getComputedStyle&&(div=document.createElement('div'),div.style.cssText='width:10px;padding:2px;-webkit-box-sizing:border-box;box-sizing:border-box;',
doc.appendChild(div),ret=window.getComputedStyle(div,null).width,ret='10px'===ret,doc.removeChild(div));return ret}},{name:'inputEventData',ready:!1,fn:function(){return!!(window.InputEvent&&'data'in new InputEvent('input'))}},0]};Ext.feature.tests.pop();Ext.supports={};Ext.feature.detect();
Ext.env.Ready={blocks:0<(location.search||'').indexOf('ext-pauseReadyFire')?1:0,bound:0,delay:1,firing:!1,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var me=Ext.env.Ready,doc=document;if(!me.bound)if('complete'===doc.readyState)me.onReadyEvent({type:doc.readyState||'body'});else me.bound=1,Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop&&(me.bound=2,doc.addEventListener('deviceready',me.onReadyEvent,!1)),doc.addEventListener('DOMContentLoaded',me.onReadyEvent,
!1),window.addEventListener('load',me.onReadyEvent,!1)},block:function(){++this.blocks;Ext.isReady=!1},fireReady:function(){var me=Ext.env.Ready;me.state||(Ext._readyTime=Ext.ticks(),Ext.isDomReady=!0,me.state=1,Ext.feature.detect(!0),me.delay?navigator.standalone?me.timer=Ext.defer(function(){me.timer=null;me.handleReadySoon()},1):me.handleReadySoon():me.handleReady())},handleReady:function(){1===this.state&&(this.state=2,Ext._beforeReadyTime=Ext.ticks(),this.invokeAll(),Ext._afterReadyTime=Ext.ticks())},
handleReadySoon:function(delay){var me=this;me.timer||(me.timer=Ext.defer(function(){me.timer=null;me.handleReady()},delay||me.delay))},invoke:function(listener){var delay=listener.delay;delay?Ext.defer(listener.fn,delay,listener.scope):Ext.elevateFunction?Ext.elevateFunction(listener.fn,listener.scope):listener.fn.call(listener.scope)},invokeAll:function(){Ext.elevateFunction?Ext.elevateFunction(this.doInvokeAll,this):this.doInvokeAll()},doInvokeAll:function(){var listeners=this.listeners;this.blocks||
(Ext.isReady=!0);for(this.firing=!0;listeners.length;){this.sortGeneration!==this.generation&&(this.sortGeneration=this.generation,listeners.sort(this.sortFn));var listener=listeners.pop();if(this.blocks&&!listener.dom){listeners.push(listener);break}this.invoke(listener)}this.firing=!1},makeListener:function(fn,scope,options){fn={fn,id:++this.nextId,scope,dom:!1,priority:0};options&&Ext.apply(fn,options);fn.phase=fn.dom?0:1;return fn},on:function(fn,scope,options){var me=Ext.env.Ready;fn=me.makeListener(fn,
scope,options);2!==me.state||me.firing||!fn.dom&&me.blocks?(me.listeners.push(fn),++me.generation,me.bound||me.bind()):me.invoke(fn)},onReadyEvent:function(ev){var me=Ext.env.Ready;Ext.elevateFunction?Ext.elevateFunction(me.doReadyEvent,me,arguments):me.doReadyEvent(ev)},doReadyEvent:function(ev){0<this.bound&&(this.unbind(),this.bound=-1);this.state||this.fireReady()},sortFn:function(a,b){return-(a.phase-b.phase||b.priority-a.priority||a.id-b.id)},unblock:function(){this.blocks&&(--this.blocks||
2!==this.state||this.firing||this.invokeAll())},unbind:function(){var doc=document;1<this.bound&&doc.removeEventListener('deviceready',this.onReadyEvent,!1);doc.removeEventListener('DOMContentLoaded',this.onReadyEvent,!1);window.removeEventListener('load',this.onReadyEvent,!1)}};
(function(){var Ready=Ext.env.Ready;Ext.isIE9m&&Ext.apply(Ready,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var scrollable=!0;try{document.documentElement.doScroll('left')}catch(e){scrollable=!1}if(scrollable&&document.body)Ready.onReadyEvent({type:'doScroll'});else Ready.scrollTimer=Ext.defer(Ready.pollScroll,20);return scrollable},bind:function(){var doc=document;if(!Ready.bound){try{var topContext=void 0===window.frameElement}catch(e){}if(!topContext||!doc.documentElement.doScroll)Ready.pollScroll=
Ext.emptyFn;else if(Ready.pollScroll())return;if('complete'===doc.readyState)Ready.onReadyEvent({type:'already '+(doc.readyState||'body')});else doc.attachEvent('onreadystatechange',Ready.onReadyStateChange),window.attachEvent('onload',Ready.onReadyEvent),Ready.bound=1}},unbind:function(){document.detachEvent('onreadystatechange',Ready.onReadyStateChange);window.detachEvent('onload',Ready.onReadyEvent);Ext.isNumber(Ready.scrollTimer)&&(Ext.undefer(Ready.scrollTimer),Ready.scrollTimer=null)},onReadyStateChange:function(){var state=
document.readyState;if(Ready.readyStatesRe.test(state))Ready.onReadyEvent({type:state})}});Ext.onDocumentReady=function(fn,scope,options){var opt={dom:!0};options&&Ext.apply(opt,options);Ready.on(fn,scope,opt)};Ext.onReady=function(fn,scope,options){Ready.on(fn,scope,options)};Ext.onInternalReady=function(fn,scope,options){Ready.on(fn,scope,Ext.apply({priority:1E3},options))};Ready.bind()})();
Ext.Loader=new function(){var Loader=this,Manager=Ext.ClassManager,Boot=Ext.Boot,Class=Ext.Class,Ready=Ext.env.Ready,alias=Ext.Function.alias,dependencyProperties=['extend','mixins','requires'],isInHistory={},history=[],readyListeners=[],usedClasses=[],_requiresMap={},_config={enabled:!0,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:'_dc',paths:Manager.paths,preserveScripts:!0,scriptCharset:void 0},delegatedConfigs={disableCaching:!0,disableCachingParam:!0,preserveScripts:!0,scriptChainDelay:'loadDelay'};
Ext.apply(Loader,{isInHistory,isLoading:!1,history,config:_config,readyListeners,optionalRequires:usedClasses,requiresMap:_requiresMap,hasFileLoadError:!1,scriptsLoading:0,classesLoading:{},missingCount:0,missingQueue:{},syncModeEnabled:!1,init:function(){var scripts=document.getElementsByTagName('script');scripts=scripts[scripts.length-1].src;var path=scripts.substring(0,scripts.lastIndexOf('/')+1),meta=Ext._classPathMetadata;scripts=Ext.Microloader;var manifest=Ext.manifest,l;Manager.getPath('Ext')||
Manager.setPath('Ext',path+'src');meta&&(Ext._classPathMetadata=null,Loader.addClassPathMappings(meta));if(manifest&&(path=manifest.loadOrder,meta=Ext.Boot.baseUrl,path&&manifest.bootRelative))for(manifest=path.length,l=0;l<manifest;l++){var loadItem=path[l];loadItem.path=meta+loadItem.path;loadItem.canonicalPath=!0}scripts&&(Ready.block(),scripts.onMicroloaderReady(function(){Ready.unblock()}))},setConfig:Ext.Function.flexSetter(function(name,value){var delegated=delegatedConfigs[name];'paths'===
name?Loader.setPath(value):(_config[name]=value,delegated&&Boot.setConfig(!0===delegated?name:delegated,value));return Loader}),getConfig:function(name){return name?_config[name]:_config},setPath:function(){Manager.setPath.apply(Manager,arguments);return Loader},addClassPathMappings:function(paths){Manager.setPath(paths);return Loader},addBaseUrlClassPathMappings:function(pathConfig){for(var name in pathConfig)pathConfig[name]=Boot.baseUrl+pathConfig[name];Ext.Loader.addClassPathMappings(pathConfig)},
getPath:function(className){return Manager.getPath(className)},require:function(expressions,fn,scope,excludes){if(excludes)return Loader.exclude(excludes).require(expressions,fn,scope);expressions=Manager.getNamesByExpression(expressions);return Loader.load(expressions,fn,scope)},syncRequire:function(){var wasEnabled=Loader.syncModeEnabled;Loader.syncModeEnabled=!0;var ret=Loader.require.apply(Loader,arguments);Loader.syncModeEnabled=wasEnabled;return ret},exclude:function(excludes){var selector=
Manager.select({require:function(classNames,fn,scope){return Loader.load(classNames,fn,scope)},syncRequire:function(classNames,fn,scope){var wasEnabled=Loader.syncModeEnabled;Loader.syncModeEnabled=!0;classNames=Loader.load(classNames,fn,scope);Loader.syncModeEnabled=wasEnabled;return classNames}});selector.exclude(excludes);return selector},load:function(classNames,callback,scope){callback&&(callback.length&&(callback=Loader.makeLoadCallback(classNames,callback)),callback=callback.bind(scope||Ext.global));
var state=Manager.classState,missingClassNames=[],urls=[],urlByClass={},numClasses=classNames.length,i;for(i=0;i<numClasses;++i){var className=Manager.resolveName(classNames[i]);Manager.isCreated(className)||(missingClassNames.push(className),state[className]||(urlByClass[className]=Loader.getPath(className),urls.push(urlByClass[className])))}(state=missingClassNames.length)?(Loader.missingCount+=state,Manager.onCreated(function(){callback&&Ext.callback(callback,scope,arguments);Loader.checkReady()},
Loader,missingClassNames),_config.enabled||Ext.raise('Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class'+(1<missingClassNames.length?'es':'')+': '+missingClassNames.join(', ')),urls.length?Loader.loadScripts({url:urls,_classNames:missingClassNames,_urlByClass:urlByClass}):Loader.checkReady()):(callback&&callback.call(scope),Loader.checkReady());return Loader.syncModeEnabled&&1===numClasses?Manager.get(classNames[0]):Loader},makeLoadCallback:function(classNames,
callback){return function(){for(var classes=[],i=classNames.length;0<i--;)classes[i]=Manager.get(classNames[i]);return callback.apply(this,classes)}},onLoadFailure:function(request){var entries=request.entries||[],onError=this.onError,i;Loader.hasFileLoadError=!0;--Loader.scriptsLoading;if(onError){for(i=0;i<entries.length;i++){var entry=entries[i];if(entry.error){var error=Error('Failed to load: '+entry.url);break}}error=error||Error('Failed to load');onError.call(this.userScope,this,error,request)}Loader.checkReady()},
onLoadSuccess:function(){var onLoad=this.onLoad,classNames=this._classNames,urlByClass=this._urlByClass,state=Manager.classState,missingQueue=Loader.missingQueue,len;--Loader.scriptsLoading;onLoad&&onLoad.call(this.userScope,this);var i=0;for(len=classNames.length;i<len;i++)onLoad=classNames[i],state[onLoad]||(missingQueue[onLoad]=urlByClass[onLoad]);Loader.checkReady()},onReady:function(fn,scope,withDomReady,options){if(withDomReady)Ready.on(fn,scope,options);else fn=Ready.makeListener(fn,scope,
options),Loader.isLoading?readyListeners.push(fn):Ready.invoke(fn)},addUsedClasses:function(classes){var ln;if(classes){classes='string'===typeof classes?[classes]:classes;var i=0;for(ln=classes.length;i<ln;i++){var cls=classes[i];'string'!==typeof cls||Ext.Array.contains(usedClasses,cls)||usedClasses.push(cls)}}return Loader},triggerReady:function(){var listener=usedClasses;if(Loader.isLoading&&listener.length)usedClasses=[],Loader.require(listener);else{Loader.isLoading=!1;for(readyListeners.sort(Ready.sortFn);readyListeners.length&&
!Loader.isLoading;)listener=readyListeners.pop(),Ready.invoke(listener);Ready.unblock()}},historyPush:function(className){!className||isInHistory[className]||Manager.overrideMap[className]||(isInHistory[className]=!0,history.push(className));return Loader},loadScripts:function(params){var manifest=Ext.manifest,loadOrder=manifest&&manifest.loadOrder,loadOrderMap=manifest&&manifest.loadOrderMap;++Loader.scriptsLoading;loadOrder&&!loadOrderMap&&(manifest.loadOrderMap=loadOrderMap=Boot.createLoadOrderMap(loadOrder));
Loader.checkReady();params=Ext.apply({loadOrder,loadOrderMap,charset:_config.scriptCharset,success:Loader.onLoadSuccess,failure:Loader.onLoadFailure,sync:Loader.syncModeEnabled,_classNames:[]},params);params.userScope=params.scope;params.scope=params;Boot.load(params)},loadScriptsSync:function(urls){var syncwas=Loader.syncModeEnabled;Loader.syncModeEnabled=!0;Loader.loadScripts({url:urls});Loader.syncModeEnabled=syncwas},loadScriptsSyncBasePrefix:function(urls){var syncwas=Loader.syncModeEnabled;
Loader.syncModeEnabled=!0;Loader.loadScripts({url:urls,prependBaseUrl:!0});Loader.syncModeEnabled=syncwas},loadScript:function(options){var isObject=!(options instanceof Array)&&'string'!==typeof options;Loader.loadScripts({url:isObject?options.url:options,scope:isObject&&options.scope,onLoad:isObject&&options.onLoad,onError:isObject&&options.onError,_classNames:[]})},checkMissingQueue:function(){var missingQueue=Loader.missingQueue,newQueue={},missing=0,name;for(name in missingQueue)Manager.classState[name]||
Manager.isCreated(name)||(newQueue[name]=missingQueue[name],missing++);Loader.missingCount=missing;Loader.missingQueue=newQueue},checkReady:function(){var wasLoading=Loader.isLoading,isLoading;Loader.checkMissingQueue();(isLoading=Loader.missingCount+Loader.scriptsLoading)&&!wasLoading?(Ready.block(),Loader.isLoading=!!isLoading):!isLoading&&wasLoading&&Loader.triggerReady()}});Ext.require=alias(Loader,'require');Ext.syncRequire=alias(Loader,'syncRequire');Ext.exclude=alias(Loader,'exclude');Class.registerPreprocessor('loader',
function(cls,data,hooks,continueFn){var me=this,dependencies=[],className=Manager.getName(cls),ln$jscomp$0,subLn$jscomp$0;var i$jscomp$0=0;for(ln$jscomp$0=dependencyProperties.length;i$jscomp$0<ln$jscomp$0;i$jscomp$0++){var propertyName=dependencyProperties[i$jscomp$0];if(data.hasOwnProperty(propertyName)){var propertyValue=data[propertyName];if('string'===typeof propertyValue)dependencies.push(propertyValue);else if(propertyValue instanceof Array){var j$jscomp$0=0;for(subLn$jscomp$0=propertyValue.length;j$jscomp$0<
subLn$jscomp$0;j$jscomp$0++){var value=propertyValue[j$jscomp$0];'string'===typeof value&&dependencies.push(value)}}else if('function'!==typeof propertyValue)for(j$jscomp$0 in propertyValue)propertyValue.hasOwnProperty(j$jscomp$0)&&(value=propertyValue[j$jscomp$0],'string'===typeof value&&dependencies.push(value))}}if(0!==dependencies.length)return className&&(_requiresMap[className]=dependencies),(className?Loader.exclude(className):Loader).require(dependencies,function(){var ln,subLn,k;var i=0;
for(ln=dependencyProperties.length;i<ln;i++)if(propertyName=dependencyProperties[i],data.hasOwnProperty(propertyName))if(propertyValue=data[propertyName],'string'===typeof propertyValue)data[propertyName]=Manager.get(propertyValue);else if(propertyValue instanceof Array){var j=0;for(subLn=propertyValue.length;j<subLn;j++)value=propertyValue[j],'string'===typeof value&&(data[propertyName][j]=Manager.get(value))}else if('function'!==typeof propertyValue)for(k in propertyValue)propertyValue.hasOwnProperty(k)&&
(value=propertyValue[k],'string'===typeof value&&(data[propertyName][k]=Manager.get(value)));continueFn.call(me,cls,data,hooks)}),!1},!0,'after','className');Manager.registerPostprocessor('uses',function(name,cls,data){data.uses&&(name=Manager.getNamesByExpression(data.uses),Loader.addUsedClasses(name))});Manager.onCreated(Loader.historyPush);Loader.init()};Ext._endTime=Ext.ticks();Ext._beforereadyhandler&&Ext._beforereadyhandler();
Ext.cmd.derive('Ext.Mixin',Ext.Base,function(Mixin){return{statics:{addHook:function(hookFn,targetClass,methodName,mixinClassPrototype){var isFunc=Ext.isFunction(hookFn),hook=function(){var a=arguments,fn=isFunc?hookFn:mixinClassPrototype[hookFn],result=this.callParent(a);fn.apply(this,a);return result},existingFn=targetClass.hasOwnProperty(methodName)&&targetClass[methodName];isFunc&&(hookFn.$previous=Ext.emptyFn);hook.$name=methodName;hook.$owner=targetClass.self;existingFn?(hook.$previous=existingFn.$previous,
existingFn.$previous=hook):targetClass[methodName]=hook}},onClassExtended:function(cls,data){var mixinConfig=data.mixinConfig,hooks=data.xhooks;cls=cls.superclass;var onClassMixedIn=data.onClassMixedIn,afterClassMixedIn=data.afterClassMixedIn;hooks&&(delete data.xhooks,(mixinConfig||(data.mixinConfig=mixinConfig={})).on=hooks);if(mixinConfig){if(cls=cls.mixinConfig)data.mixinConfig=mixinConfig=Ext.merge({},cls,mixinConfig);data.mixinId=mixinConfig.id;var afters=mixinConfig.after;var befores=mixinConfig.before;
var configs=mixinConfig.configs;var extended=mixinConfig.extended;hooks=mixinConfig.on;var mixed=mixinConfig.mixed}if(afters||befores||hooks||extended)data.onClassMixedIn=function(targetClass){var mixin=this.prototype,targetProto=targetClass.prototype,key$jscomp$0;befores&&Ext.Object.each(befores,function(key,value){targetClass.hookMember(key,function(){if(!1!==mixin[value].apply(this,arguments))return this.callParent(arguments)})});afters&&Ext.Object.each(afters,function(key,value){targetClass.hookMember(key,
function(){var ret=this.callParent(arguments);mixin[value].apply(this,arguments);return ret})});if(hooks)for(key$jscomp$0 in hooks)Mixin.addHook(hooks[key$jscomp$0],targetProto,key$jscomp$0,mixin);if(extended)targetClass.onExtended(function(){var args=Ext.Array.slice(arguments,0);args.unshift(targetClass);return extended.apply(this,args)},this);onClassMixedIn&&onClassMixedIn.apply(this,arguments)};if(configs||mixed)data.afterClassMixedIn=function(targetClass){if(configs){var proto=targetClass.prototype,
hoistable=this.$config.configs,cfg,name,hoist;for(name in proto)(cfg=hoistable[name])&&cfg.isConfig&&proto.hasOwnProperty(name)&&((hoist||(hoist={}))[name]=proto[name],delete proto[name]);hoist&&targetClass.$config.add(hoist)}afterClassMixedIn&&afterClassMixedIn.apply(this,arguments);mixed&&mixed.apply(this,arguments)}}}},0,0,0,0,0,0,[Ext,'Mixin'],0);Ext.util=Ext.util||{};
Ext.util.DelayedTask=function(fn,scope,args,cancelOnDelay,fireIdleEvent){var me=this,delay,call=function(){me.id=null;scope&&scope.destroyed||(args?fn.apply(scope,args):fn.call(scope));!1===fireIdleEvent&&(Ext._suppressIdle=!0)};cancelOnDelay='boolean'===typeof cancelOnDelay?cancelOnDelay:!0;me.id=null;me.delay=function(newDelay,newFn,newScope,newArgs){cancelOnDelay&&me.cancel();'number'===typeof newDelay&&(delay=newDelay);fn=newFn||fn;scope=newScope||scope;args=newArgs||args;me.delayTime=delay;me.id||
(me.id=-1===delay?Ext.raf(call):Ext.defer(call,delay||1));return me.id};me.cancel=function(){me.id&&(-1===me.delayTime?Ext.unraf(me.id):Ext.undefer(me.id),me.id=null)};me.flush=function(){if(me.id){me.cancel();var was=fireIdleEvent;fireIdleEvent=!0;call();fireIdleEvent=was}};me.stop=function(stopFn,stopScope){!stopFn||stopFn!==fn||stopScope&&stopScope!==scope||me.cancel()}};
Ext.cmd.derive('Ext.util.Event',Ext.Base,function(){var arraySlice=Array.prototype.slice,arrayInsert=Ext.Array.insert,toArray=Ext.Array.toArray,fireArgs={};return{isEvent:!0,suspended:0,noOptions:{},constructor:function(observable,name){this.name=name;this.observable=observable;this.listeners=[]},addListener:function(fn,scope,options,caller,manager){var added=!1,observable=this.observable,eventName=this.name,length;if(-1===this.findListener(fn,scope)){added=this.createListener(fn,scope,options,caller,
manager);this.firing&&(this.listeners=this.listeners.slice(0));caller=this.listeners;var index=length=caller.length;var priority=options&&options.priority;var highestNegativePriorityIndex=this._highestNegativePriorityIndex;var hasNegativePriorityIndex=void 0!==highestNegativePriorityIndex;if(priority){var isNegativePriority=0>priority;if(!isNegativePriority||hasNegativePriorityIndex)for(hasNegativePriorityIndex=isNegativePriority?highestNegativePriorityIndex:0;hasNegativePriorityIndex<length;hasNegativePriorityIndex++){var listenerPriority=
caller[hasNegativePriorityIndex].o?caller[hasNegativePriorityIndex].o.priority||0:0;if(listenerPriority<priority){index=hasNegativePriorityIndex;break}}else this._highestNegativePriorityIndex=index}else hasNegativePriorityIndex&&(index=highestNegativePriorityIndex);!isNegativePriority&&index<=highestNegativePriorityIndex&&this._highestNegativePriorityIndex++;index===length?caller[length]=added:arrayInsert(caller,index,[added]);observable.isElement&&observable._getPublisher(eventName,!1===options.translate).subscribe(observable,
eventName,!1!==options.delegated,options.capture);manager&&(manager=manager.managedListeners||(manager.managedListeners=[]),manager.push({item:this.observable,ename:options&&options.managedName||this.name,fn,scope,options}));added=!0}return added},createListener:function(fn,scope,o,caller,manager){var namedScopes=Ext._namedScopes,namedScope=namedScopes[scope];caller={fn,scope,ev:this,caller,manager,namedScope,defaultScope:namedScope?scope||this.observable:void 0,lateBound:'string'===typeof fn};manager=
fn;namedScope=!1;caller.lateBound&&'.'===fn[2]&&(caller.defaultScope=null,caller.namedScope=namedScopes[caller.scope=scope='up'],caller.fn=manager=fn.substr(3));o&&(caller.o=o,o.single&&(manager=this.createSingle(manager,caller,o,scope),namedScope=!0),o.target&&(manager=this.createTargeted(manager,caller,o,scope,namedScope),namedScope=!0),o.onFrame&&(manager=this.createAnimFrame(manager,caller,o,scope,namedScope),namedScope=!0),o.delay&&(manager=this.createDelayed(manager,caller,o,scope,namedScope),
namedScope=!0),o.buffer&&(manager=this.createBuffered(manager,caller,o,scope,namedScope),namedScope=!0),this.observable.isElement&&(fn=o.type))&&(caller.type=fn);caller.fireFn=manager;caller.wrapped=namedScope;return caller},findListener:function(fn,scope){for(var listeners=this.listeners,i=listeners.length,listener;i--;)if((listener=listeners[i])&&listener.fn===fn&&listener.scope==scope)return i;return-1},removeListener:function(fn,scope,index){var removed=!1,observable=this.observable,eventName=
this.name;index=null!=index?index:this.findListener(fn,scope);if(-1!==index){var listener=this.listeners[index];this.firing&&(this.listeners=this.listeners.slice(0));this.listeners.splice(index,1);this._highestNegativePriorityIndex&&(index<this._highestNegativePriorityIndex?this._highestNegativePriorityIndex--:index===this._highestNegativePriorityIndex&&index===this.listeners.length&&delete this._highestNegativePriorityIndex);if(listener){index=listener.o;listener.task&&(listener.task.cancel(),delete listener.task);
if(removed=listener.tasks&&listener.tasks.length){for(;removed--;)listener.tasks[removed].cancel();delete listener.tasks}listener.fireFn.timerId=Ext.undefer(listener.fireFn.timerId);if(removed=listener.manager)if(listener=removed.managedListeners)for(removed=listener.length;removed--;){var managedListener=listener[removed];managedListener.item===this.observable&&managedListener.ename===eventName&&managedListener.fn===fn&&managedListener.scope===scope&&listener.splice(removed,1)}observable.isElement&&
observable._getPublisher(eventName,!1===index.translate).unsubscribe(observable,eventName,!1!==index.delegated,index.capture)}removed=!0}return removed},clearListeners:function(){for(var listeners=this.listeners,i=listeners.length,listener;i--;)listener=listeners[i],this.removeListener(listener.fn,listener.scope)},suspend:function(){++this.suspended},resume:function(){this.suspended&&--this.suspended},isSuspended:function(){return 0<this.suspended},fireDelegated:function(firingObservable,args){this.firingObservable=
firingObservable;return this.fire.apply(this,args)},fire:function(){var CQ=Ext.ComponentQuery,listeners=this.listeners,count=listeners.length,observable=this.observable,isElement=observable.isElement,isComponent=observable.isComponent,firingObservable=this.firingObservable,delegate,fireInfo,i,type,e;if(!this.suspended&&0<count){this.firing=!0;var args=arguments.length?arraySlice.call(arguments,0):[];var len=args.length;isElement&&(e=args[0]);for(i=0;i<count;i++)if(fireInfo=listeners[i]){var options=
fireInfo.o;if(isElement){currentTarget&&e.setCurrentTarget(currentTarget);if(type=fireInfo.type){var chained=e;e=args[0]=chained.chain({type,isGesture:!1})}Ext.EventObject=e}type=args;if(options){if(delegate=options.delegate)if(isElement)if(delegate=e.getTarget('function'===typeof delegate?delegate:'#'+e.currentTarget.id+' '+delegate)){args[1]=delegate;var currentTarget=e.currentTarget;e.setCurrentTarget(delegate)}else continue;else if(isComponent&&!CQ.is(firingObservable,delegate,observable))continue;
isElement&&(options.preventDefault&&e.preventDefault(),options.stopPropagation&&e.stopPropagation(),options.stopEvent&&e.stopEvent());args[len]=options;options.args&&(type=options.args.concat(args))}fireInfo=this.getFireInfo(fireInfo);delegate=fireInfo.fn;var fireScope=fireInfo.scope;fireInfo.fn=fireInfo.scope=null;fireScope&&fireScope.destroyed&&(this.removeListener(delegate,fireScope,i),delegate=null);if(delegate&&!1===delegate.apply(fireScope,type))return Ext.EventObject=null,this.firing=!1;options&&
args.length--;chained&&(e=args[0]=chained,chained=null);Ext.EventObject=null}}this.firing=!1;return!0},getFireInfo:function(listener,fromWrapped){var observable=this.observable,fireFn=listener.fireFn,scope=listener.scope,namedScope=listener.namedScope;if(!fromWrapped&&listener.wrapped)return fireArgs.fn=fireFn,fireArgs;fromWrapped=fromWrapped?listener.fn:fireFn;if(listener.lateBound){observable=listener.caller||observable;if(namedScope&&namedScope.isUp)scope=Ext.lookUpFn(observable,fromWrapped);else if(!scope||
namedScope)scope=observable.resolveListenerScope(listener.defaultScope);fromWrapped=scope[fromWrapped]}else if(namedScope&&namedScope.isController)scope=(listener.caller||observable).resolveListenerScope(listener.defaultScope);else if(!scope||namedScope)scope=observable;fireArgs.fn=fromWrapped;fireArgs.scope=scope;return fireArgs},createAnimFrame:function(handler,listener,o,scope,wrapped){wrapped||(listener=listener.ev.getFireInfo(listener,!0),handler=listener.fn,scope=listener.scope,listener.fn=
listener.scope=null);return Ext.Function.createAnimationFrame(handler,scope,o.args)},createTargeted:function(handler,listener,o,scope,wrapped){return function(){if(o.target===arguments[0]){if(!wrapped){var fireInfo=listener.ev.getFireInfo(listener,!0);handler=fireInfo.fn;scope=fireInfo.scope;fireInfo.fn=fireInfo.scope=null}return handler.apply(scope,arguments)}}},createBuffered:function(handler,listener,o,scope,wrapped){listener.task=new Ext.util.DelayedTask;return function(){if(listener.task){if(!wrapped){var fireInfo=
listener.ev.getFireInfo(listener,!0);handler=fireInfo.fn;scope=fireInfo.scope;fireInfo.fn=fireInfo.scope=null}listener.task.delay(o.buffer,handler,scope,toArray(arguments))}}},createDelayed:function(handler,listener,o,scope,wrapped){return function(){var task=new Ext.util.DelayedTask;if(!wrapped){var fireInfo=listener.ev.getFireInfo(listener,!0);handler=fireInfo.fn;scope=fireInfo.scope;fireInfo.fn=fireInfo.scope=null}listener.tasks||(listener.tasks=[]);listener.tasks.push(task);task.delay(o.delay||
10,handler,scope,toArray(arguments))}},createSingle:function(handler,listener,o,scope,wrapped){return function(){var event=listener.ev,observable=event.observable,fn=listener.fn;observable?observable.destroyed||observable.removeListener(event.name,fn,scope):event.removeListener(fn,scope);wrapped||(event=event.getFireInfo(listener,!0),handler=event.fn,scope=event.scope,event.fn=event.scope=null);return handler.apply(scope,arguments)}}}},1,0,0,0,0,0,[Ext.util,'Event'],0);
Ext.cmd.derive('Ext.mixin.Identifiable',Ext.Base,function(Identifiable){return{isIdentifiable:!0,mixinId:'identifiable',getId:function(){var id=this.id;id||0===id||((id=this.initialConfig)&&id.id?id=id.id:(id=this.generateAutoId(),this.autoGenId=!0),this.setId(id));this.getId=Identifiable._getId;return id},setId:function(id){this.id=id},privates:{statics:{_idCleanRe:/\.|[^\w-]/g,uniqueIds:{},_getId:function(){return this.id}},defaultIdPrefix:'ext-',defaultIdSeparator:'-',id:null,autoGenId:!1,generateAutoId:function(){var prototype=
this.self.prototype,sep=this.defaultIdSeparator,uniqueIds=Identifiable.uniqueIds,xtype;if(!prototype.hasOwnProperty('identifiablePrefix')){var cleanRe=Identifiable._idCleanRe;var defaultIdPrefix=this.defaultIdPrefix;var prefix=(xtype=this.xtype)?defaultIdPrefix+xtype.replace(cleanRe,sep)+sep:(prefix=prototype.$className)?prefix.replace(cleanRe,sep).toLowerCase()+sep:defaultIdPrefix+'anonymous'+sep;prototype.identifiablePrefix=prefix}prefix=this.identifiablePrefix;uniqueIds.hasOwnProperty(prefix)||
(uniqueIds[prefix]=0);return prefix+ ++uniqueIds[prefix]}}}},0,0,0,0,0,0,[Ext.mixin,'Identifiable'],0);
Ext.cmd.derive('Ext.mixin.Observable',Ext.Mixin,function(Observable){var emptyFn=Ext.emptyFn,emptyArray=[],arraySlice=Array.prototype.slice,ListenerRemover=function(observable){if(observable instanceof ListenerRemover)return observable;this.observable=observable;arguments[1].isObservable&&(this.managedListeners=!0);this.args=arraySlice.call(arguments,1)},protectedProps=['events','hasListeners','managedListeners','eventedBeforeEventNames'];ListenerRemover.prototype.destroy=function(){var args=this.args,
observable=this.observable;(args=args[0].element||args[3]&&args[3].element)&&(observable=observable[args]);observable.destroyed||observable[this.managedListeners?'mun':'un'].apply(observable,this.args);this.destroy=Ext.emptyFn};return{mixinConfig:{id:'observable',after:{destroy:'destroyObservable'}},statics:{releaseCapture:function(o){o.fireEventArgs=this.prototype.fireEventArgs},capture:function(o,fn,scope){this.captureArgs(o,function(eventName,args){return fn.apply(scope,[eventName].concat(args))},
scope)},captureArgs:function(o,fn,scope){o.fireEventArgs=Ext.Function.createInterceptor(o.fireEventArgs,fn,scope)},observe:function(cls,listeners){if(cls&&(cls.isObservable||(Ext.applyIf(cls,new this),this.captureArgs(cls.prototype,cls.fireEventArgs,cls)),Ext.isObject(listeners)))cls.on(listeners);return cls},prepareClass:function(T,mixin,data){var listeners=T.listeners=[];data=data||T.prototype;var targetListeners=data.listeners,superListeners=mixin?mixin.listeners:T.superclass.self.listeners;superListeners&&
listeners.push(superListeners);targetListeners&&((superListeners=targetListeners.scope)?(superListeners=Ext._namedScopes[superListeners])&&superListeners.isController&&(targetListeners.scope='self.controller'):targetListeners.scope='self',listeners.push(targetListeners),data.listeners=null);T.HasListeners||(listeners=function(){},mixin=T.superclass.HasListeners||mixin&&mixin.HasListeners||Observable.HasListeners,T.prototype.HasListeners=T.HasListeners=listeners,listeners.prototype=T.hasListeners=
new mixin);superListeners=T.prototype.$noClearOnDestroy||{};mixin=0;for(listeners=protectedProps.length;mixin<listeners;mixin++)superListeners[protectedProps[mixin]]=!0;T.prototype.$noClearOnDestroy=superListeners}},isObservable:!0,$vetoClearingPrototypeOnDestroy:!0,eventsSuspended:0,constructor:function(config){var self=this.self,declaredListeners;if(!this.$observableInitialized){this.$observableInitialized=!0;this.hasListeners=new this.HasListeners;this.eventedBeforeEventNames={};this.events=this.events||
{};(declaredListeners=self.listeners)&&!this._addDeclaredListeners(declaredListeners)&&(self.listeners=null);if(self=config&&config.listeners||this.listeners)if(self instanceof Array){var i=0;for(declaredListeners=self.length;i<declaredListeners;++i)this.addListener(self[i])}else this.addListener(self);(declaredListeners=config&&config.bubbleEvents||this.bubbleEvents)&&this.enableBubble(declaredListeners);this.$applyConfigs?config&&Ext.apply(this,config):this.initConfig(config);self&&(this.listeners=
null)}},onClassExtended:function(T,data){T.HasListeners||Observable.prepareClass(T,T.prototype.$observableMixedIn?void 0:data)},$eventOptions:{scope:1,delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(listeners){listeners instanceof Array?Ext.each(listeners,this._addDeclaredListeners,this):(this._addedDeclaredListeners=!0,this.addListener(listeners));return this._addedDeclaredListeners},addManagedListener:function(item,
ename,fn,scope,options,noDestroy){this.managedListeners=this.managedListeners||[];if('string'!==typeof ename){var passedOptions=4<arguments.length?options:ename;options=ename;for(ename in options)if(options.hasOwnProperty(ename)){var config=options[ename];item.$eventOptions[ename]||this.addManagedListener(item,ename,config.fn||config,config.scope||options.scope||scope,config.fn?config:passedOptions,!0)}if(options&&options.destroyable)return new ListenerRemover(this,item,options)}else if(fn!==emptyFn&&
(item.doAddListener(ename,fn,scope,options,null,this,this),!noDestroy&&options&&options.destroyable))return new ListenerRemover(this,item,ename,fn,scope)},removeManagedListener:function(item,ename,fn,scope){var length;if(!item.$observableDestroyed)if('string'!==typeof ename)for(ename in fn=ename,fn){if(fn.hasOwnProperty(ename)){var config=fn[ename];item.$eventOptions[ename]||this.removeManagedListener(item,ename,config.fn||config,config.scope||fn.scope||scope)}}else{config=this.managedListeners?this.managedListeners.slice():
[];ename=Ext.canonicalEventName(ename);var i=0;for(length=config.length;i<length;i++)this.removeManagedListenerItem(!1,config[i],item,ename,fn,scope)}},fireEvent:function(eventName){return this.fireEventArgs(eventName,arraySlice.call(arguments,1))},resolveListenerScope:function(defaultScope){var namedScope=Ext._namedScopes[defaultScope];namedScope&&(namedScope.isSelf||namedScope.isThis)&&(defaultScope=null);return defaultScope||this},fireEventArgs:function(eventName,args){var events=this.events,ret=
!0;eventName=Ext.canonicalEventName(eventName);events=events&&events[eventName];this.hasListeners[eventName]&&(ret=this.doFireEvent(eventName,args||emptyArray,events?events.bubble:!1));return ret},fireAction:function(eventName,args,fn,scope,options,order){'string'!==typeof fn||scope||(fn=this[fn]);options=options?Ext.Object.chain(options):{};options.single=!0;options.priority='after'===order?-99.5:99.5;this.doAddListener(eventName,fn,scope,options);this.fireEventArgs(eventName,args)},$eventedController:{_paused:1,
pause:function(){++this._paused},resume:function(){var fn=this.fn,scope=this.scope,fnArgs=this.fnArgs,ret;if(!--this._paused){if(fn){var args=Ext.Array.slice(fnArgs||this.args);!1===fnArgs&&args.shift();this.fn=null;args.push(this);Ext.isFunction(fn)?ret=fn.apply(scope,args):scope&&Ext.isString(fn)&&Ext.isFunction(scope[fn])&&(ret=scope[fn].apply(scope,args));if(!1===ret)return!1}if(!this._paused)return this.owner.fireEventArgs(this.eventName,this.args)}}},fireEventedAction:function(eventName,args,
fn,scope,fnArgs){var eventedBeforeEventNames=this.eventedBeforeEventNames;eventedBeforeEventNames=eventedBeforeEventNames[eventName]||(eventedBeforeEventNames[eventName]='before'+eventName);eventName=Ext.apply({owner:this,eventName,fn,scope,fnArgs,args},this.$eventedController);args.push(eventName);fn=this.fireEventArgs(eventedBeforeEventNames,args);args.pop();return!1===fn?!1:eventName.resume()},doFireEvent:function(eventName,args,bubbles){var target=this,queue,event,ret=!0;do if(target.eventsSuspended){(queue=
target.eventQueue)&&queue.push([eventName,args]);break}else if((event=target.events&&target.events[eventName])&&!0!==event&&!1===(ret=event.fire.apply(event,args)))break;while(bubbles&&(target=target.getBubbleParent()));return ret},getBubbleParent:function(){var parent=this.getBubbleTarget&&this.getBubbleTarget();return parent&&parent.isObservable?parent:null},addListener:function(eventName,fn,scope,options,order,caller){var namedScopes=Ext._namedScopes,namedScope,innerScope;if('string'!==typeof eventName){options=
eventName;var isClassListener=(namedScope=(scope=options.scope)&&namedScopes[scope])&&namedScope.isSelf;var eventOptions=(this.isComponent||this.isWidget)&&options.element?this.$elementEventOptions:this.$eventOptions;for(eventName in options)fn=options[eventName],eventOptions[eventName]||((innerScope=fn.scope)&&isClassListener&&(namedScope=namedScopes[innerScope])&&namedScope.isController&&(innerScope='self.controller'),this.doAddListener(eventName,fn.fn||fn,innerScope||scope,fn.fn?fn:options,order,
caller));if(options&&options.destroyable)return new ListenerRemover(this,options)}else if(this.doAddListener(eventName,fn,scope,options,order,caller),options&&options.destroyable)return new ListenerRemover(this,eventName,fn,scope,options);return this},removeListener:function(eventName,fn,scope,eventOptions){if('string'!==typeof eventName)for(eventName in scope=eventName,scope)scope.hasOwnProperty(eventName)&&(fn=scope[eventName],this.$eventOptions[eventName]||this.doRemoveListener(eventName,fn.fn||
fn,fn.scope||scope.scope));else this.doRemoveListener(eventName,fn,scope);return this},onBefore:function(eventName,fn,scope,options){return this.addListener(eventName,fn,scope,options,'before')},onAfter:function(eventName,fn,scope,options){return this.addListener(eventName,fn,scope,options,'after')},unBefore:function(eventName,fn,scope,options){return this.removeListener(eventName,fn,scope,options,'before')},unAfter:function(eventName,fn,scope,options){return this.removeListener(eventName,fn,scope,
options,'after')},addBeforeListener:function(){return this.onBefore.apply(this,arguments)},addAfterListener:function(){return this.onAfter.apply(this,arguments)},removeBeforeListener:function(){return this.unBefore.apply(this,arguments)},removeAfterListener:function(){return this.unAfter.apply(this,arguments)},clearListeners:function(){var events=this.events,hasListeners=this.hasListeners,key;if(events){for(key in events)if(events.hasOwnProperty(key)){var event=events[key];event.isEvent&&(delete hasListeners[key],
event.clearListeners())}this.events=null}this.clearManagedListeners()},clearManagedListeners:function(){var managedListeners=this.managedListeners,len;if(managedListeners){this.managedListeners=null;var i=0;for(len=managedListeners.length;i<len;i++)this.removeManagedListenerItem(!0,managedListeners[i]);managedListeners.length=0}this.managedListeners=managedListeners},removeManagedListenerItem:function(isClear,managedListener,item,ename,fn,scope){if(isClear||!(managedListener.item!==item||managedListener.ename!==
ename||fn&&managedListener.fn!==fn||scope&&managedListener.scope!==scope))managedListener.item.destroyed||managedListener.item.doRemoveListener(managedListener.ename,managedListener.fn,managedListener.scope,managedListener.options),isClear||Ext.Array.remove(this.managedListeners,managedListener)},hasListener:function(eventName){eventName=Ext.canonicalEventName(eventName);return!!this.hasListeners[eventName]},isSuspended:function(event){var suspended=0<this.eventsSuspended,events=this.events;return!suspended&&
event&&events&&(event=events[event])&&event.isEvent?event.isSuspended():suspended},suspendEvents:function(queueSuspended){++this.eventsSuspended;queueSuspended&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){var events=this.events,len=arguments.length,i,event;for(i=0;i<len;i++){var ename=arguments[i];ename=Ext.canonicalEventName(ename);(event=events[ename])&&event.isEvent||(event=this._initEvent(ename));event.suspend()}},resumeEvent:function(){var events=this.events||0,len=events&&
arguments.length,i;for(i=0;i<len;i++){var event=Ext.canonicalEventName(arguments[i]);(event=events[event])&&event.resume&&event.resume()}},resumeEvents:function(discardQueue){var queued=this.eventQueue,q;if(this.eventsSuspended&&!--this.eventsSuspended&&(delete this.eventQueue,!discardQueue&&queued))for(discardQueue=queued.length,q=0;q<discardQueue;q++)this.fireEventArgs.apply(this,queued[q])},relayEvents:function(origin,events,prefix){var len=events.length,i=0,relayers={};if(Ext.isObject(events))for(i in events)prefix=
events[i],relayers[i]=this.createRelayer(prefix);else for(;i<len;i++){var oldName=events[i];relayers[oldName]=this.createRelayer(prefix?prefix+oldName:oldName)}this.mon(origin,relayers,null,null,void 0);return new ListenerRemover(this,origin,relayers)},createRelayer:function(newName,beginEnd){var me=this;return function(){return me.fireEventArgs.call(me,newName,beginEnd?arraySlice.apply(arguments,beginEnd):arguments)}},enableBubble:function(eventNames){if(eventNames){var names='string'===typeof eventNames?
arguments:eventNames,events=this.events,length=events&&names.length,event,i;for(i=0;i<length;++i){var ename=names[i];ename=Ext.canonicalEventName(ename);(event=events[ename])&&event.isEvent||(event=this._initEvent(ename));this.hasListeners._incr_(ename);event.bubble=!0}}},destroy:function(){this.clearListeners();this.callParent();this.destroyObservable(!0)},destroyObservable:function(skipClearListeners){var clearPropertiesOnDestroy=this.clearPropertiesOnDestroy;this.$observableDestroyed||(skipClearListeners||
this.clearListeners(),this.destroyed&&clearPropertiesOnDestroy&&(!0!==clearPropertiesOnDestroy||this.$nulled||this.$reap(),this.clearPrototypeOnDestroy||(this.fireEvent=this.fireEventArgs=this.fireAction=this.fireEventedAction=Ext.emptyFn),this.events=this.managedListeners=this.eventedBeforeEventNames=null,this.$observableDestroyed=!0))},privates:{doAddListener:function(ename,fn,scope,options,order,caller,manager){var ret=!1;if(order=order||options&&options.order){var priority=options&&options.priority;
priority||(options=options?Ext.Object.chain(options):{},options.priority=this.$orderToPriority[order])}ename=Ext.canonicalEventName(ename);(order=(this.events||(this.events={}))[ename])&&order.isEvent||(order=this._initEvent(ename));fn!==emptyFn&&(!manager&&scope&&scope.isObservable&&scope!==this&&(manager=scope),order.addListener(fn,scope,options,caller,manager)&&(this.hasListeners._incr_(ename),ret=!0));return ret},doRemoveListener:function(ename,fn,scope){var ret=!1,events=this.events;ename=Ext.canonicalEventName(ename);
(events=events&&events[ename])&&events.isEvent&&events.removeListener(fn,scope)&&(this.hasListeners._decr_(ename),ret=!0);return ret},_initEvent:function(eventName){return this.events[eventName]=new Ext.util.Event(this,eventName)}},deprecated:{'5.0':{methods:{addEvents:null}}}}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.mixin,'Observable'],function(){function getMethodEvent(method){var event=(this.methodEvents=this.methodEvents||
{})[method],returnValue,v,cancel,me=this;if(!event){me.methodEvents[method]=event={};event.originalFn=me[method];event.methodName=method;event.before=[];event.after=[];var makeCall=function(fn,scope,args){scope=scope||me;'string'===typeof fn&&(fn=scope[fn]);void 0!==(v=fn.apply(scope,args))&&('object'===typeof v?(returnValue=void 0!==v.returnValue?v.returnValue:v,cancel=!!v.cancel):!1===v?cancel=!0:returnValue=v)};me[method]=function(){var args=Array.prototype.slice.call(arguments,0),argsLen=args.length,
len;returnValue=v=void 0;cancel=!1;var i=0;for(len=event.before.length;i<len;i++){var b=event.before[i];b.extraArgs&&args.push.apply(args,b.extraArgs);makeCall(b.fn,b.scope,args);args.length=argsLen;if(cancel||b.preventDefault)return returnValue}void 0!==(v=event.originalFn.apply(me,args))&&(returnValue=v);i=0;for(len=event.after.length;i<len&&(b=event.after[i],b.extraArgs&&args.push.apply(args,b.extraArgs),makeCall(b.fn,b.scope,args),args.length=argsLen,!cancel&&!b.preventDefault);i++);return returnValue}}return event}
var Observable=this,proto$jscomp$0=Observable.prototype,HasListeners=function(){},prepareMixin=function(T){var proto=T.prototype;T.HasListeners||(proto.$observableMixedIn=1,Observable.prepareClass(T,this),T.onExtended(function(U,data){Observable.prepareClass(U,null,data)}),proto.onClassMixedIn?Ext.override(T,{onClassMixedIn:function(U){prepareMixin.call(this,U);this.callParent(arguments)}}):proto.onClassMixedIn=function(U){prepareMixin.call(this,U)});superOnClassMixedIn.call(this,T)},superOnClassMixedIn=
proto$jscomp$0.onClassMixedIn;HasListeners.prototype={_decr_:function(ev,count){null==count&&(count=1);(this[ev]-=count)||delete this[ev]},_incr_:function(ev){this.hasOwnProperty(ev)?++this[ev]:this[ev]=1}};proto$jscomp$0.HasListeners=Observable.HasListeners=HasListeners;Observable.createAlias({on:'addListener',un:'removeListener',mon:'addManagedListener',mun:'removeManagedListener',setListeners:'addListener'});Observable.observeClass=Observable.observe;Ext.apply(proto$jscomp$0,{onClassMixedIn:prepareMixin,
beforeMethod:function(method,fn,scope,preventDefault,extraArgs){getMethodEvent.call(this,method).before.push({fn,scope,extraArgs,preventDefault})},afterMethod:function(method,fn,scope,preventDefault,extraArgs){getMethodEvent.call(this,method).after.push({fn,scope,extraArgs,preventDefault})},removeMethodListener:function(method,fn,scope){method=getMethodEvent.call(this,method);var len;var i=0;for(len=method.before.length;i<len;i++)if(method.before[i].fn==fn&&method.before[i].scope==scope){Ext.Array.erase(method.before,
i,1);return}i=0;for(len=method.after.length;i<len;i++)if(method.after[i].fn==fn&&method.after[i].scope==scope){Ext.Array.erase(method.after,i,1);break}},toggleEventLogging:function(toggle){Ext.util.Observable[toggle?'capture':'releaseCapture'](this,function(en){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(en,arguments)})}})});
Ext.cmd.derive('Ext.util.HashMap',Ext.Base,{generation:0,config:{keyFn:null},constructor:function(config){this.mixins.observable.constructor.call(this,config);this.clear(!0);if(config=this.getKeyFn())this.getKey=config},getCount:function(){return this.length},getData:function(key,value){void 0===value&&(value=key,key=this.getKey(value));return[key,value]},getKey:function(o){return o.id},add:function(key,value){1===arguments.length&&(value=key,key=this.getKey(value));if(this.containsKey(key))return this.replace(key,
value);this.map[key]=value;++this.length;this.generation++;this.hasListeners.add&&this.fireEvent('add',this,key,value);return value},replace:function(key,value){var map=this.map;1===arguments.length&&(value=key,key=this.getKey(value));this.containsKey(key)||this.add(key,value);var old=map[key];map[key]=value;this.generation++;this.hasListeners.replace&&this.fireEvent('replace',this,key,value,old);return value},remove:function(o){o=this.findKey(o);return void 0!==o?this.removeAtKey(o):!1},removeAtKey:function(key){if(this.containsKey(key)){var value=
this.map[key];delete this.map[key];--this.length;this.generation++;this.hasListeners.remove&&this.fireEvent('remove',this,key,value);return!0}return!1},get:function(key){var map=this.map;return map.hasOwnProperty(key)?map[key]:void 0},clear:function(initial){if(initial||this.generation)this.map={},this.length=0,this.generation=initial?0:this.generation+1;!0!==initial&&this.hasListeners.clear&&this.fireEvent('clear',this);return this},containsKey:function(key){var map=this.map;return map.hasOwnProperty(key)&&
void 0!==map[key]},contains:function(value){return this.containsKey(this.findKey(value))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(isKey){var arr=[],key,map=this.map;for(key in map)map.hasOwnProperty(key)&&arr.push(isKey?key:map[key]);return arr},each:function(fn,scope){var items=Ext.apply({},this.map),key,length=this.length;scope=scope||this;for(key in items)if(items.hasOwnProperty(key)&&!1===fn.call(scope,key,items[key],length))break;
return this},clone:function(){var hash=new this.self(this.initialConfig),map=this.map,key;hash.suspendEvents();for(key in map)map.hasOwnProperty(key)&&hash.add(key,map[key]);hash.resumeEvents();return hash},findKey:function(value){var key,map=this.map;for(key in map)if(map.hasOwnProperty(key)&&map[key]===value)return key}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,'HashMap'],function(HashMap){HashMap=HashMap.prototype;HashMap.removeByKey=
HashMap.removeAtKey});
Ext.cmd.derive('Ext.promise.Consequence',Ext.Base,function(Consequence){return{promise:null,deferred:null,onFulfilled:null,onRejected:null,onProgress:null,constructor:function(onFulfilled,onRejected,onProgress){this.onFulfilled=onFulfilled;this.onRejected=onRejected;this.onProgress=onProgress;this.deferred=new Ext.promise.Deferred;this.promise=this.deferred.promise},trigger:function(action,value){var deferred=this.deferred;switch(action){case 'fulfill':this.propagate(value,this.onFulfilled,deferred,
deferred.resolve);break;case 'reject':this.propagate(value,this.onRejected,deferred,deferred.reject)}},update:function(progress){Ext.isFunction(this.onProgress)&&(progress=this.onProgress(progress));this.deferred.update(progress)},propagate:function(value,callback,deferred,deferredMethod){Ext.isFunction(callback)?this.schedule(function(){try{deferred.resolve(callback(value))}catch(e){deferred.reject(e)}}):deferredMethod.call(this.deferred,value)},schedule:function(callback){var n=Consequence.queueSize++;
Consequence.queue[n]=callback;n||Ext.asap(Consequence.dispatch)},statics:{queue:Array(1E4),queueSize:0,dispatch:function(){var queue=Consequence.queue,i;for(i=0;i<Consequence.queueSize;++i){var fn=queue[i];queue[i]=null;fn()}Consequence.queueSize=0}}}},1,0,0,0,0,0,[Ext.promise,'Consequence'],0);
Ext.cmd.derive('Ext.promise.Deferred',Ext.Base,{promise:null,consequences:[],completed:!1,completionAction:null,completionValue:null,constructor:function(){this.promise=new Ext.promise.Promise(this);this.consequences=[];this.completed=!1;this.completionValue=this.completionAction=null},then:function(onFulfilled,onRejected,onProgress){onFulfilled=new Ext.promise.Consequence(onFulfilled,onRejected,onProgress);this.completed?onFulfilled.trigger(this.completionAction,this.completionValue):this.consequences.push(onFulfilled);
return onFulfilled.promise},resolve:function(value$jscomp$0){var me=this,thenFn;if(!me.completed)try{if(value$jscomp$0===me.promise)throw new TypeError('A Promise cannot be resolved with itself.');if(null!=value$jscomp$0&&('object'===typeof value$jscomp$0||Ext.isFunction(value$jscomp$0))&&Ext.isFunction(thenFn=value$jscomp$0.then)){var isHandled=!1;try{thenFn.call(value$jscomp$0,function(value){isHandled||(isHandled=!0,me.resolve(value))},function(error){isHandled||(isHandled=!0,me.reject(error))})}catch(e1){isHandled||
me.reject(e1)}}else me.complete('fulfill',value$jscomp$0)}catch(e2){me.reject(e2)}},reject:function(reason){this.completed||this.complete('reject',reason)},update:function(progress){var consequences=this.consequences,len;if(!this.completed){var i=0;for(len=consequences.length;i<len;i++){var consequence=consequences[i];consequence.update(progress)}}},complete:function(action,value){var consequences=this.consequences,len;this.completionAction=action;this.completionValue=value;this.completed=!0;value=
0;for(len=consequences.length;value<len;value++)action=consequences[value],action.trigger(this.completionAction,this.completionValue);this.consequences=null}},1,0,0,0,0,0,[Ext.promise,'Deferred'],0);
Ext.cmd.derive('Ext.promise.Promise',Ext.Base,function(ExtPromise){var Deferred;return{statics:{CancellationError:Ext.global.CancellationError||Error,_ready:function(){Deferred=Ext.promise.Deferred},all:function(promisesOrValues){return ExtPromise.when(promisesOrValues).then(function(promisesOrValues){var deferred=new Deferred,remainingToResolve=promisesOrValues.length,results=Array(remainingToResolve),i,len;if(remainingToResolve){var resolve=function(item,index){return ExtPromise.when(item).then(function(value){results[index]=
value;--remainingToResolve||deferred.resolve(results);return value},function(reason){return deferred.reject(reason)})};var index$jscomp$0=i=0;for(len=promisesOrValues.length;i<len;index$jscomp$0=++i){var promiseOrValue=promisesOrValues[index$jscomp$0];index$jscomp$0 in promisesOrValues?resolve(promiseOrValue,index$jscomp$0):remainingToResolve--}}else deferred.resolve(results);return deferred.promise})},is:function(value){return null!=value&&('object'===typeof value||Ext.isFunction(value))&&Ext.isFunction(value.then)},
race:function(promises){var deferred=new Deferred,len=promises.length,i;for(i=0;i<len;++i)deferred.resolve(promises[i]);return deferred.promise},rethrowError:function(error){Ext.asap(function(){throw error;})},when:function(value){var deferred=new Deferred;deferred.resolve(value);return deferred.promise}},owner:null,constructor:function(owner){this.owner=owner},then:function(onFulfilled,onRejected,onProgress,scope){if(1===arguments.length&&Ext.isObject(arguments[0])){var ref=arguments[0];onFulfilled=
ref.success;onRejected=ref.failure;onProgress=ref.progress;scope=ref.scope}scope&&(onFulfilled&&(onFulfilled=onFulfilled.bind(scope)),onRejected&&(onRejected=onRejected.bind(scope)),onProgress&&(onProgress=onProgress.bind(scope)));return this.owner.then(onFulfilled,onRejected,onProgress)},'catch':function(onRejected,scope){if(1===arguments.length&&Ext.isObject(arguments[0])){var ref=arguments[0];onRejected=ref.fn;scope=ref.scope}null!=scope&&(onRejected=onRejected.bind(scope));return this.owner.then(null,
onRejected)},otherwise:function(onRejected,scope){return this['catch'].apply(this,arguments)},always:function(onCompleted,scope){if(1===arguments.length&&Ext.isObject(arguments[0])){var ref=arguments[0];onCompleted=ref.fn;scope=ref.scope}null!=scope&&(onCompleted=onCompleted.bind(scope));return this.owner.then(function(value){try{onCompleted()}catch(e){ExtPromise.rethrowError(e)}return value},function(reason){try{onCompleted()}catch(e){ExtPromise.rethrowError(e)}throw reason;})},done:function(){this.owner.then(null,
ExtPromise.rethrowError)},cancel:function(reason){null==reason&&(reason=null);this.owner.reject(new this.self.CancellationError(reason))},log:function(identifier){null==identifier&&(identifier='');return this.owner.then(function(value){Ext.log(''+(identifier||'Promise')+' resolved with value: '+value);return value},function(reason){Ext.log(''+(identifier||'Promise')+' rejected with reason: '+reason);throw reason;})}}},1,0,0,0,0,0,[Ext.promise,'Promise'],function(ExtPromise){ExtPromise._ready()});
Ext.cmd.derive('Ext.Promise',Ext.Base,function(){var Polyfiller;return{statics:{_ready:function(){Polyfiller=Ext.promise.Promise},all:function(){return Polyfiller.all.apply(Polyfiller,arguments)},race:function(){return Polyfiller.race.apply(Polyfiller,arguments)},reject:function(reason){var deferred=new Ext.promise.Deferred;deferred.reject(reason);return deferred.promise},resolve:function(value){var deferred=new Ext.promise.Deferred;deferred.resolve(value);return deferred.promise}},constructor:function(action){var deferred=
new Ext.promise.Deferred;action(deferred.resolve.bind(deferred),deferred.reject.bind(deferred));return deferred.promise}}},1,0,0,0,0,0,[Ext,'Promise'],function(ExtPromise){var P=Ext.global.Promise;P&&P.resolve&&!Ext.useExtPromises?Ext.Promise=P:ExtPromise._ready()});
Ext.cmd.derive('Ext.Deferred',Ext.promise.Deferred,function(Deferred){var ExtPromise,rejected,resolved;return{statics:{_ready:function(){ExtPromise=Ext.promise.Promise},all:function(){return ExtPromise.all.apply(ExtPromise,arguments)},any:function(promisesOrValues){return Deferred.some(promisesOrValues,1).then(function(array){return array[0]},function(error){if(error instanceof Error&&'Too few Promises were resolved.'===error.message)Ext.raise('No Promises were resolved.');else throw error;})},delay:function(promiseOrValue,
milliseconds){1===arguments.length&&(milliseconds=promiseOrValue,promiseOrValue=void 0);milliseconds=Math.max(milliseconds,1);var deferred=new Deferred;deferred.timeoutId=Ext.defer(function(){delete deferred.timeoutId;deferred.resolve(promiseOrValue)},milliseconds);return deferred.promise},getCachedRejected:function(){rejected||(rejected=Ext.Promise.reject());return rejected},getCachedResolved:function(){resolved||(resolved=Ext.Promise.resolve());return resolved},map:function(promisesOrValues$jscomp$0,
mapFn){return Deferred.resolved(promisesOrValues$jscomp$0).then(function(promisesOrValues){var i,len;var remainingToResolve=promisesOrValues.length;var results=Array(promisesOrValues.length);var deferred=new Deferred;if(remainingToResolve){var resolve=function(item,index){return Deferred.resolved(item).then(function(value){return mapFn(value,index,results)}).then(function(value){results[index]=value;--remainingToResolve||deferred.resolve(results);return value},function(reason){return deferred.reject(reason)})};
var index$jscomp$0=i=0;for(len=promisesOrValues.length;i<len;index$jscomp$0=++i){var promiseOrValue=promisesOrValues[index$jscomp$0];index$jscomp$0 in promisesOrValues?resolve(promiseOrValue,index$jscomp$0):remainingToResolve--}}else deferred.resolve(results);return deferred.promise})},memoize:function(fn,scope,hashFn){var memoizedFn=Ext.Function.memoize(fn,scope,hashFn);return function(){return Deferred.all(Ext.Array.slice(arguments)).then(function(values){return memoizedFn.apply(scope,values)})}},
parallel:function(fns,scope){null==scope&&(scope=null);var args=Ext.Array.slice(arguments,2);return Deferred.map(fns,function(fn){if(!Ext.isFunction(fn))throw Error('Invalid parameter: expected a function.');return fn.apply(scope,args)})},pipeline:function(fns,initialValue,scope){null==scope&&(scope=null);return Deferred.reduce(fns,function(value,fn){if(!Ext.isFunction(fn))throw Error('Invalid parameter: expected a function.');return fn.call(scope,value)},initialValue)},race:function(){return ExtPromise.race.apply(ExtPromise,
arguments)},reduce:function(values,reduceFn,initialValue){var initialValueSpecified=3===arguments.length;return Deferred.resolved(values).then(function(promisesOrValues){var reduceArguments=[promisesOrValues,function(previousValueOrPromise,currentValueOrPromise,currentIndex){return Deferred.resolved(previousValueOrPromise).then(function(previousValue){return Deferred.resolved(currentValueOrPromise).then(function(currentValue){return reduceFn(previousValue,currentValue,currentIndex,promisesOrValues)})})}];
initialValueSpecified&&reduceArguments.push(initialValue);return Ext.Array.reduce.apply(Ext.Array,reduceArguments)})},rejected:function(reason){var deferred=new Ext.Deferred;deferred.reject(reason);return deferred.promise},resolved:function(promiseOrValue){var deferred=new Ext.Deferred;deferred.resolve(promiseOrValue);return deferred.promise},sequence:function(fns,scope){null==scope&&(scope=null);var args=Ext.Array.slice(arguments,2);return Deferred.reduce(fns,function(results,fn){if(!Ext.isFunction(fn))throw Error('Invalid parameter: expected a function.');
return Deferred.resolved(fn.apply(scope,args)).then(function(result){results.push(result);return results})},[])},some:function(promisesOrValues$jscomp$0,howMany){return Deferred.resolved(promisesOrValues$jscomp$0).then(function(promisesOrValues){var i,len;var values=[];var remainingToResolve=howMany;var remainingToReject=promisesOrValues.length-remainingToResolve+1;var deferred=new Deferred;if(promisesOrValues.length<howMany)deferred.reject(Error('Too few Promises were resolved.'));else{var onResolve=
function(value){0<remainingToResolve&&values.push(value);remainingToResolve--;0===remainingToResolve&&deferred.resolve(values);return value};var onReject=function(reason){remainingToReject--;0===remainingToReject&&deferred.reject(Error('Too few Promises were resolved.'));return reason};var index=i=0;for(len=promisesOrValues.length;i<len;index=++i){var promiseOrValue=promisesOrValues[index];index in promisesOrValues&&Deferred.resolved(promiseOrValue).then(onResolve,onReject)}}return deferred.promise})},
timeout:function(promiseOrValue,milliseconds){var deferred=new Deferred;var timeoutId=Ext.defer(function(){timeoutId&&deferred.reject(Error('Promise timed out.'))},milliseconds);Deferred.resolved(promiseOrValue).then(function(value){Ext.undefer(timeoutId);timeoutId=null;deferred.resolve(value)},function(reason){Ext.undefer(timeoutId);timeoutId=null;deferred.reject(reason)});return deferred.promise}}}},0,0,0,0,0,0,[Ext,'Deferred'],function(Deferred){Deferred._ready()});
Ext.Factory=function(type){this.aliasPrefix=type+'.';this.cache={};this.name=type.replace(this.fixNameRe,this.fixNameFn);this.type=type;this.creator='create'+Ext.String.capitalize(this.name)};
Ext.Factory.prototype={defaultProperty:'type',instanceProp:'isInstance',typeProperty:'type',create:function(config,defaultType){var Manager=Ext.ClassManager,cache=this.cache,typeProperty=this.typeProperty,klass;if(config){if(config[this.instanceProp])return config;if('string'===typeof config){var suffix=config;config={};config[this.defaultProperty]=suffix}var className=config.xclass;suffix=config[typeProperty]}defaultType&&defaultType.constructor===Object&&(config=Ext.apply({},config,defaultType),
defaultType=defaultType[typeProperty]);if(className){if(!(klass=Manager.get(className)))return Manager.instantiate(className,config)}else if((suffix=suffix||defaultType||this.defaultType)||(klass=this.defaultClass),!klass&&!(klass=cache[suffix])){defaultType=this.aliasPrefix+suffix;className=Manager.getNameByAlias(defaultType);if(!(klass=className&&Manager.get(className)))return Manager.instantiateByAlias(defaultType,config);cache[suffix]=klass}return klass.isInstance?klass:new klass(config)},fixNameRe:/\.[a-z]/ig,
fixNameFn:function(match){return match.substring(1).toUpperCase()},clearCache:function(){this.cache={};this.instanceCache={}},hook:function(fn){var me=this,original=me.create;me.create=function(config,defaultType){var ret=fn.call(me,original,config,defaultType);void 0===ret&&(ret=original.call(me,config,defaultType));return ret}},update:function(instance,config,creator,creatorMethod,defaultsConfig){if(!config||config.isInstance)return instance&&instance!==config&&instance.destroy(),config;if('string'===
typeof config){var type=config;config={};config[this.defaultProperty]=type}if(instance){if(!0===config)return instance;if(type=config.xclass)var reuse=instance.$className===type;else if(type=config.xtype)reuse=instance.isXType(type,!0);else if(type=config[this.typeProperty]){type=this.aliasPrefix+type;var aliases=instance.self.prototype;aliases.hasOwnProperty('alias')&&(aliases=aliases.alias)&&(reuse=aliases===type||-1<aliases.indexOf(type))}if(reuse)return instance.setConfig(config),instance;instance.destroy()}!0===
config&&(config={});creator&&(defaultsConfig&&(instance=Ext.Config.map[defaultsConfig],(instance=creator[instance.names.get]())&&(config=Ext.merge(Ext.clone(instance),config))),creatorMethod=creatorMethod||this.creator,creator[creatorMethod]&&(config=creator[creatorMethod](config)));return this.create(config)}};
Ext.Factory.define=function(type,config$jscomp$0){var Factory=Ext.Factory,cacheable=config$jscomp$0&&config$jscomp$0.cacheable,fn;if(type.constructor===Object)Ext.Object.each(type,Factory.define,Factory);else{var factory=new Ext.Factory(type);config$jscomp$0&&(config$jscomp$0.constructor===Object?(Ext.apply(factory,config$jscomp$0),'string'===typeof(type=factory.xclass)&&(factory.defaultClass=Ext.ClassManager.get(type))):factory.defaultType=config$jscomp$0);Factory[factory.name]=fn=function(config,
defaultType){return factory.create(config,defaultType)};cacheable&&(factory.instanceCache={},factory.hook(function(original,config,defaultType){var cache=this.instanceCache,v;'string'!==typeof config||(v=cache[config])||(v=original.call(this,config,defaultType),!1!==v.cacheable&&(cache[config]=v));return v}));fn.instance=factory;fn.update=function(instance,config,creator,creatorMethod,defaultsConfig){return factory.update(instance,config,creator,creatorMethod,defaultsConfig)}}return fn};
Ext.Factory.clearCaches=function(){var Factory=Ext.Factory,key;for(key in Factory){var item=Factory[key];(item=item.instance)&&item.clearCache()}};Ext.Factory.on=function(name,fn){Ext.Factory[name].instance.hook(fn)};
Ext.cmd.derive('Ext.mixin.Factoryable',Ext.Base,{mixinId:'factoryable',onClassMixedIn:function(targetClass){var proto=targetClass.prototype,factoryConfig=proto.factoryConfig,alias=proto.alias,config={},dot;(alias=alias&&alias.length&&alias[0])&&0<(dot=alias.lastIndexOf('.'))&&(config.type=alias.substring(0,dot),config.defaultType=alias.substring(dot+1));factoryConfig&&(delete proto.factoryConfig,Ext.apply(config,factoryConfig));proto=Ext.Factory.define(config.type,config);targetClass.create===Ext.Base.create&&
(targetClass.create=proto)}},0,0,0,0,0,0,[Ext.mixin,'Factoryable'],0);
Ext.cmd.derive('Ext.data.request.Base',Ext.Base,{factoryConfig:{type:'request',defaultType:'ajax'},result:null,success:null,timer:null,constructor:function(config){Ext.apply(this,config.options||{},config.ownerConfig);this.id=++Ext.data.Connection.requestId;this.owner=config.owner;this.options=config.options;this.requestOptions=config.requestOptions},start:function(){var timeout=this.getTimeout();timeout&&this.async&&(this.timer=Ext.defer(this.onTimeout,timeout,this))},abort:function(){this.clearTimer();
this.timedout||(this.aborted=!0);this.abort=Ext.emptyFn},createDeferred:function(){var result=this.result,d=new Ext.Deferred;this.completed&&(this.success?d.resolve(result):d.reject(result));return this.deferred=d},getDeferred:function(){return this.deferred||this.createDeferred()},getPromise:function(){return this.getDeferred().promise},then:function(){var promise=this.getPromise();return promise.then.apply(promise,arguments)},onComplete:function(){var deferred=this.deferred,result=this.result;this.clearTimer();
deferred&&(this.success?deferred.resolve(result):deferred.reject(result));this.completed=!0},onTimeout:function(){this.timedout=!0;this.timer=null;this.abort(!0)},getTimeout:function(){return this.timeout},clearTimer:function(){this.timer=Ext.undefer(this.timer)},destroy:function(){this.abort();this.owner=this.options=this.requestOptions=this.result=null;this.callParent()},privates:{createException:function(){var result={request:this,requestId:this.id,status:this.aborted?-1:0,statusText:this.aborted?
'transaction aborted':'communication failure',getResponseHeader:this._getHeader,getAllResponseHeaders:this._getHeaders};this.aborted&&(result.aborted=!0);this.timedout&&(result.timedout=!0);return result},_getHeader:function(name){var headers=this.headers;return headers&&headers[name.toLowerCase()]},_getHeaders:function(){return this.headers}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.request,'Base'],0);
Ext.cmd.derive('Ext.data.flash.BinaryXhr',Ext.Base,{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById('ext-flash-polyfill');Ext.GlobalEvents.fireEvent('flashready')},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(javascriptId,state,data){if(javascriptId=this.liveConnections[Number(javascriptId)])javascriptId.onFlashStateChange(state,
data)},registerConnection:function(conn){var i=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[i]=conn;return i},injectFlashPlugin:function(){this.flashPolyfillEl=Ext.getBody().appendChild({id:'ext-flash-polyfill',cn:[{tag:'p',html:'To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.'},{tag:'a',href:'http://www.adobe.com/go/getflashplayer',cn:[{tag:'img',src:window.location.protocol+'//www.adobe.com/images/shared/download_buttons/get_flash_player.gif',
alt:'Get Adobe Flash player'}]}]});var flashLoaderPath=[Ext.Loader.getPath('Ext.data.Connection'),'../../../plugins/flash/swfobject.js'].join('/');var flashObjectPath='/plugins/flash/FlashPlugin.swf';Ext.flashPluginPath&&(flashObjectPath=Ext.flashPluginPath);Ext.Loader.loadScript({url:flashLoaderPath,onLoad:function(){var params={},attributes={};params.quality='high';params.bgcolor='#ffffff';params.allowscriptaccess='sameDomain';params.allowfullscreen='true';attributes.id='ext-flash-polyfill';attributes.name=
'polyfill';attributes.align='middle';swfobject.embedSWF(flashObjectPath,'ext-flash-polyfill','0','0','11.4.0','playerProductInstall.swf',{},params,attributes)},onError:function(){},scope:this});Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:'',responseBytes:null,javascriptId:null,constructor:function(config){Ext.data.flash.BinaryXhr.flashPluginInjected||Ext.data.flash.BinaryXhr.injectFlashPlugin();Ext.apply(this,config);this.requestHeaders={}},abort:function(){4!==
this.readyState&&(this.aborted=!0,Ext.data.flash.BinaryXhr.flashPluginActive?(Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(this.javascriptId),delete Ext.data.flash.BinaryXhr.liveConnections[this.javascriptId]):Ext.GlobalEvents.removeListener('flashready',this.onFlashReady,this))},getAllResponseHeaders:function(){var headers=[];Ext.Object.each(this.responseHeaders,function(name,value){headers.push(name+': '+value)});return headers.join('\r\n')},getResponseHeader:function(header){var headers=this.responseHeaders;
return headers&&headers[header]||null},open:function(method,url,isAsync,user,password){this.method=method;this.url=url;this.async=!1!==isAsync;this.user=user;this.password=password},overrideMimeType:function(mimeType){this.mimeType=mimeType},send:function(body){this.body=body;if(Ext.data.flash.BinaryXhr.flashPluginActive)this.onFlashReady();else Ext.GlobalEvents.addListener('flashready',this.onFlashReady,this)},onFlashReady:function(){this.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(this);
Ext.data.flash.BinaryXhr.flashPlugin.postBinary({method:this.method,url:this.url,user:this.user,password:this.password,mimeType:this.mimeType,requestHeaders:this.requestHeaders,body:this.body,javascriptId:this.javascriptId})},setReadyState:function(state){this.readyState!==state&&(this.readyState=state,this.onreadystatechange())},setRequestHeader:function(header,value){this.requestHeaders[header]=value},onreadystatechange:Ext.emptyFn,parseData:function(data){this.status=data.status||0;this.responseHeaders=
{};this.mimeType&&(this.responseHeaders['content-type']=this.mimeType);if('complete'===data.reason)this.responseBytes=data.data,this.responseHeaders['content-length']=data.data.length;else if('error'===data.reason||'securityError'===data.reason)this.statusText=data.text,this.responseHeaders['content-length']=0},onFlashStateChange:function(state,data){4===state&&(this.parseData(data),delete Ext.data.flash.BinaryXhr.liveConnections[this.javascriptId]);this.setReadyState(state)}},1,0,0,0,0,0,[Ext.data.flash,
'BinaryXhr'],0);
Ext.cmd.derive('Ext.data.request.Ajax',Ext.data.request.Base,{statics:{parseStatus:function(status,response){if(response){var type=response.responseType;if('arraybuffer'===type)var len=response.byteLength;else'blob'===type?len=response.response.size:'json'!==type&&'document'!==type||!response.response?'text'!==type&&''!==type&&type||!response.responseText||(len=response.responseText.length):len=0}status=1223===status?204:status;response=!1;len=200<=status&&300>status||304===status||0===status&&Ext.isNumber(len);
if(!len)switch(status){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:response=!0}return{success:len,isException:response}}},start:function(data){var options=this.options,requestOptions=this.requestOptions,isXdr=this.isXdr;var xhr=this.xhr=this.openRequest(options,requestOptions,this.async,this.username,this.password);isXdr||this.setupHeaders(xhr,options,requestOptions.data,requestOptions.params);this.async&&!isXdr&&(xhr.onreadystatechange=this.bindStateChange());isXdr&&this.processXdrRequest(this,
xhr);Ext.data.request.Base.prototype.start.call(this,data);xhr.send(data);return this.async?this:this.onComplete()},abort:function(force){var xhr=this.xhr;if(force||this.isLoading()){try{xhr.onreadystatechange=null}catch(e){xhr.onreadystatechange=Ext.emptyFn}xhr.abort();Ext.data.request.Base.prototype.abort.call(this,force);this.onComplete();this.cleanup()}},cleanup:function(){this.xhr=null;delete this.xhr},isLoading:function(){var xhr=this.xhr,state=xhr&&xhr.readyState,C=Ext.data.flash&&Ext.data.flash.BinaryXhr;
return!xhr||this.aborted||this.timedout?!1:C&&xhr instanceof C?4!==state:0!==state&&4!==state},openRequest:function(options,requestOptions,isAsync,username,password){var xhr=this.newRequest(options);username?xhr.open(requestOptions.method,requestOptions.url,isAsync,username,password):this.isXdr?xhr.open(requestOptions.method,requestOptions.url):xhr.open(requestOptions.method,requestOptions.url,isAsync);if(options.binary||this.binary)window.Uint8Array?xhr.responseType='arraybuffer':xhr.overrideMimeType&&
xhr.overrideMimeType('text/plain; charset\x3dx-user-defined');options.responseType&&(xhr.responseType=options.responseType);if(options.withCredentials||this.withCredentials)xhr.withCredentials=!0;return xhr},newRequest:function(options){options.binaryData?options=window.Uint8Array?this.getXhrInstance():new Ext.data.flash.BinaryXhr:this.cors&&Ext.isIE9m?(options=this.getXdrInstance(),this.isXdr=!0):(options=this.getXhrInstance(),this.isXdr=!1);return options},setupHeaders:function(xhr,options,data,
params){var headers=Ext.apply({},options.headers||{},this.defaultHeaders),contentType=this.defaultPostHeader,jsonData=options.jsonData,xmlData=options.xmlData,useHeader=this.useDefaultXhrHeader,key;headers.hasOwnProperty('Content-Type')||!data&&!params||(data&&(options.rawData?contentType='text/plain':xmlData&&Ext.isDefined(xmlData)?contentType='text/xml':jsonData&&Ext.isDefined(jsonData)&&(contentType='application/json')),headers['Content-Type']=contentType);useHeader&&!headers['X-Requested-With']&&
(headers['X-Requested-With']=this.defaultXhrHeader);void 0!==headers['Content-Type']&&null!==headers['Content-Type']||delete headers['Content-Type'];try{for(key in headers)if(headers.hasOwnProperty(key)){var header=headers[key];xhr.setRequestHeader(key,header)}}catch(e){this.owner.fireEvent('exception',key,header)}return headers},getXdrInstance:function(){var xdr;8<=Ext.ieVersion?xdr=new XDomainRequest:Ext.raise({msg:'Your browser does not support CORS'});return xdr},getXhrInstance:function(){return new XMLHttpRequest},
processXdrRequest:function(request,xhr){delete request.headers;request.contentType=request.options.contentType||this.defaultXdrContentType;xhr.onload=this.bindStateChange(!0);xhr.onerror=xhr.ontimeout=this.bindStateChange(!1)},processXdrResponse:function(response,xhr){response.getAllResponseHeaders=function(){return[]};response.getResponseHeader=function(){return''};response.contentType=xhr.contentType||this.defaultXdrContentType},bindStateChange:function(xdrResult){var me=this;return function(){Ext.elevate(function(){me.onStateChange(xdrResult)})}},
onStateChange:function(xdrResult){var xhr=this.xhr;if(xhr&&4===xhr.readyState||this.isXdr)this.clearTimer(),this.onComplete(xdrResult),this.cleanup()},onComplete:function(xdrResult){var owner=this.owner,options=this.options,xhr=this.xhr,failure={success:!1,isException:!1};if(!xhr||this.destroyed)return this.result=failure;try{var result=Ext.data.request.Ajax.parseStatus(xhr.status,xhr);result.success&&(result.success=4===xhr.readyState)}catch(e){result=failure}(failure=this.success=this.isXdr?xdrResult:
result.success)?(xhr=this.createResponse(xhr),owner.hasListeners.requestcomplete&&owner.fireEvent('requestcomplete',owner,xhr,options),options.success&&Ext.callback(options.success,options.scope,[xhr,options])):(xhr=result.isException||this.aborted||this.timedout?this.createException(xhr):this.createResponse(xhr),owner.hasListeners.requestexception&&owner.fireEvent('requestexception',owner,xhr,options),options.failure&&Ext.callback(options.failure,options.scope,[xhr,options]));this.result=xhr;options.callback&&
Ext.callback(options.callback,options.scope,[options,failure,xhr]);owner.onRequestComplete(this);Ext.data.request.Base.prototype.onComplete.call(this,xdrResult);return xhr},createResponse:function(xhr){for(var isXdr=this.isXdr,headers={},lines=isXdr?[]:xhr.getAllResponseHeaders().replace(/\r\n/g,'\n').split('\n'),count=lines.length,line,index,key;count--;)line=lines[count],index=line.indexOf(':'),0<=index&&(key=line.substr(0,index).toLowerCase(),' '===line.charAt(index+1)&&++index,headers[key]=line.substr(index+
1));lines={request:this,requestId:this.id,status:xhr.status,statusText:xhr.statusText,getResponseHeader:function(header){return headers[header.toLowerCase()]},getAllResponseHeaders:function(){return headers}};isXdr&&this.processXdrResponse(lines,xhr);this.binary?lines.responseBytes=this.getByteArray(xhr):(xhr.responseType&&(lines.responseType=xhr.responseType),'blob'===xhr.responseType?lines.responseBlob=xhr.response:'json'===xhr.responseType?lines.responseJson=xhr.response:'document'===xhr.responseType?
lines.responseXML=xhr.response:(lines.responseText=xhr.responseText,lines.responseXML=xhr.responseXML));return lines},destroy:function(){this.xhr=null;Ext.data.request.Base.prototype.destroy.call(this)},privates:{getByteArray:function(xhr){var response=xhr.response,responseBody=xhr.responseBody;if(xhr instanceof(Ext.data.flash&&Ext.data.flash.BinaryXhr))var byteArray=xhr.responseBytes;else if(window.Uint8Array)byteArray=response?new Uint8Array(response):[];else if(Ext.isIE9p)try{byteArray=(new VBArray(responseBody)).toArray()}catch(e){byteArray=
[]}else if(Ext.isIE)this.self.vbScriptInjected||this.injectVBScript(),getIEByteArray(xhr.responseBody,byteArray=[]);else for(byteArray=[],xhr=xhr.responseText,response=xhr.length,responseBody=0;responseBody<response;responseBody++)byteArray.push(xhr.charCodeAt(responseBody)&255);return byteArray},injectVBScript:function(){var scriptTag=document.createElement('script');scriptTag.type='text/vbscript';scriptTag.text='Function getIEByteArray(byteArray, out)\nDim len, i\nlen \x3d LenB(byteArray)\nFor i \x3d 1 to len\nout.push(AscB(MidB(byteArray, i, 1)))\nNext\nEnd Function';
Ext.getHead().dom.appendChild(scriptTag);this.self.vbScriptInjected=!0}}},0,0,0,0,['request.ajax'],0,[Ext.data.request,'Ajax'],0);
Ext.cmd.derive('Ext.data.request.Form',Ext.data.request.Base,{start:function(data){var options=this.options,requestOptions=this.requestOptions;Ext.data.request.Base.prototype.start.call(this,data);this.form=this.upload(options.form,requestOptions.url,requestOptions.data,options);return this},abort:function(force){if(this.isLoading())try{var frame=this.frame.dom;frame.stop?frame.stop():frame.document.execCommand('Stop')}catch(e){}Ext.data.request.Base.prototype.abort.call(this,force);this.onComplete();
this.cleanup()},cleanup:function(){var frame=this.frame;frame&&(frame.un('load',this.onComplete,this),Ext.removeNode(frame));this.frame=this.form=null},isLoading:function(){return!!this.frame},upload:function(form,url,params,options){form=Ext.getDom(form);var frameDom=document.createElement('iframe');options=Ext.get(frameDom);var id=options.id,hiddens=[],buf={target:form.target,method:form.method,encoding:form.encoding,enctype:form.enctype,action:form.action},addField=function(name,value){hiddenItem=
document.createElement('input');Ext.fly(hiddenItem).set({type:'hidden',value,name});form.appendChild(hiddenItem);hiddens.push(hiddenItem)},hiddenItem;options.set({name:id,cls:'x-hidden-display',src:Ext.SSL_SECURE_URL,tabIndex:-1});document.body.appendChild(frameDom);document.body.appendChild(form);document.frames&&(document.frames[id].name=id);Ext.fly(form).set({target:id,method:'POST',enctype:'multipart/form-data',encoding:'multipart/form-data',action:url||buf.action});if(params)for(name$jscomp$0 in url=
Ext.Object.fromQueryString(params)||{},url)if(url.hasOwnProperty(name$jscomp$0))if(params=url[name$jscomp$0],Ext.isArray(params))for(frameDom=params.length,id=0;id<frameDom;id++)addField(name$jscomp$0,params[id]);else addField(name$jscomp$0,params);this.frame=options;options.on({load:this.onComplete,scope:this,single:!Ext.isOpera});form.submit();document.body.removeChild(form);Ext.fly(form).set(buf);var name$jscomp$0=hiddens.length;for(options=0;options<name$jscomp$0;options++)Ext.removeNode(hiddens[options]);
return form},getDoc:function(){var frame=this.frame.dom;return frame&&(frame.contentWindow.document||frame.contentDocument)||(window.frames[frame.id]||{}).document},getTimeout:function(){return this.options.timeout},onComplete:function(){var frame=this.frame,owner=this.owner,options=this.options,contentNode,response;if(frame){if(this.aborted||this.timedout){this.result=response=this.createException();response.responseXML=null;response.responseText=Ext.encode({success:!1,message:Ext.String.trim(response.statusText)});
response.request=this;var callback=options.failure;var success=!1}else try{var doc=this.getDoc();this.result=response={responseText:'',responseXML:null,request:this};if(doc){if(Ext.isOpera&&doc.location===Ext.SSL_SECURE_URL)return;doc.body&&((contentNode=doc.body.firstChild)&&/pre/i.test(contentNode.tagName)?response.responseText=contentNode.textContent||contentNode.innerText:(contentNode=doc.getElementsByTagName('textarea')[0])?response.responseText=contentNode.value:response.responseText=doc.body.textContent||
doc.body.innerText);response.responseXML=doc.XMLDocument||doc;callback=options.success;success=!0;response.status=200}else Ext.raise('Could not acquire a suitable connection for the file upload service.')}catch(e){this.result=response=this.createException(),response.status=400,response.statusText=(e.message||e.description)+'',response.responseText=Ext.encode({success:!1,message:Ext.String.trim(response.statusText)}),response.responseXML=null,callback=options.failure,success=!1}this.frame=null;this.success=
success;owner.fireEvent(success?'requestcomplete':'requestexception',owner,response,options);Ext.callback(callback,options.scope,[response,options]);Ext.callback(options.callback,options.scope,[options,success,response]);owner.onRequestComplete(this);Ext.asap(frame.destroy,frame);Ext.data.request.Base.prototype.onComplete.call(this)}},destroy:function(){this.cleanup();Ext.data.request.Base.prototype.destroy.call(this)}},0,0,0,0,['request.form'],0,[Ext.data.request,'Form'],0);
Ext.cmd.derive('Ext.data.Connection',Ext.Base,{statics:{requestId:0},enctypeRe:/multipart\/form-data/i,config:{url:null,async:!0,username:'',password:'',disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:'text/plain',disableCachingParam:'_dc',timeout:3E4,extraParams:null,autoAbort:!1,method:null,defaultHeaders:null,defaultPostHeader:'application/x-www-form-urlencoded; charset\x3dUTF-8',useDefaultXhrHeader:!0,defaultXhrHeader:'XMLHttpRequest'},constructor:function(config){this.mixins.observable.constructor.call(this,
config);this.requests={}},request:function(options){options=options||{};if(!1!==this.fireEvent('beforerequest',this,options)){var requestOptions=this.setOptions(options,options.scope||Ext.global);var request=this.createRequest(options,requestOptions);return request.start(requestOptions.data)}request={status:-1,statusText:'Request cancelled in beforerequest event handler'};Ext.callback(options.callback,options.scope,[options,!1,request]);return Ext.Deferred.rejected([options,!1,request])},createRequest:function(options,
requestOptions){var type=options.type||requestOptions.type;type||(type=this.isFormUpload(options)?'form':'ajax');(options.autoAbort||this.getAutoAbort())&&this.abort();options=Ext.Factory.request({type,owner:this,options,requestOptions,ownerConfig:this.getConfig()});this.requests[options.id]=options;this.latestId=options.id;return options},isFormUpload:function(options){var form=this.getForm(options);return form?options.isUpload||this.enctypeRe.test(form.getAttribute('enctype')):!1},getForm:function(options){return Ext.getDom(options.form)},
setOptions:function(options,scope){var params=options.params||{},extraParams=this.getExtraParams(),urlParams=options.urlParams,url=options.url||this.getUrl(),cors=options.cors,jsonData=options.jsonData;void 0!==cors&&this.setCors(cors);Ext.isFunction(params)&&(params=params.call(scope,options));Ext.isFunction(url)&&(url=url.call(scope,options));url=this.setupUrl(options,url);scope=options.rawData||options.binaryData||options.xmlData||jsonData||null;jsonData&&!Ext.isPrimitive(jsonData)&&(scope=Ext.encode(scope));
options.binaryData&&this.nativeBinaryPostSupport()&&(scope=new Uint8Array(options.binaryData),Ext.isChrome&&22>Ext.chromeVersion||Ext.isSafari||Ext.isGecko)&&(scope=scope.buffer);Ext.isObject(params)&&(params=Ext.Object.toQueryString(params));Ext.isObject(extraParams)&&(extraParams=Ext.Object.toQueryString(extraParams));params+=extraParams?(params?'\x26':'')+extraParams:'';urlParams=Ext.isObject(urlParams)?Ext.Object.toQueryString(urlParams):urlParams;params=this.setupParams(options,params);extraParams=
(options.method||this.getMethod()||(params||scope?'POST':'GET')).toUpperCase();this.setupMethod(options,extraParams);jsonData=!1!==options.disableCaching?options.disableCaching||this.getDisableCaching():!1;'GET'===extraParams&&jsonData&&(url=Ext.urlAppend(url,(options.disableCachingParam||this.getDisableCachingParam())+'\x3d'+(new Date).getTime()));('GET'===extraParams||scope)&&params&&(url=Ext.urlAppend(url,params),params=null);urlParams&&(url=Ext.urlAppend(url,urlParams));return{url,method:extraParams,
data:scope||params||null}},setupUrl:function(options,url){(options=this.getForm(options))&&(url=url||options.action);return url},setupParams:function(options,params){var form=this.getForm(options);form&&!this.isFormUpload(options)&&(options=Ext.Element.serializeForm(form),params=params?params+'\x26'+options:options);return params},setupMethod:function(options,method){return this.isFormUpload(options)?'POST':method},isLoading:function(request){request||(request=this.getLatest());return request?request.isLoading():
!1},abort:function(request){request||(request=this.getLatest());request&&request.isLoading()&&request.abort()},abortAll:function(){var requests=this.requests,id;for(id in requests)this.abort(requests[id])},getLatest:function(){var id=this.latestId,request;id&&(request=this.requests[id]);return request||null},clearTimeout:function(request){request||(request=this.getLatest());request&&request.clearTimer()},onRequestComplete:function(request){delete this.requests[request.id]},nativeBinaryPostSupport:function(){return Ext.isChrome||
Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}},1,0,0,0,0,[['observable',Ext.mixin.Observable]],[Ext.data,'Connection'],0);Ext.cmd.derive('Ext.Ajax',Ext.data.Connection,{singleton:!0,autoAbort:!1},0,0,0,0,0,0,[Ext,'Ajax'],0);
Ext.cmd.derive('Ext.AnimationQueue',Ext.Base,{singleton:!0,constructor:function(){this.queue=[];this.taskQueue=[];this.runningQueue=[];this.idleQueue=[];this.isRunning=!1;this.isIdle=!0;this.run=this.run.bind(this);Ext.os.is.iOS&&(this.watchdogTimer=Ext.interval(this.watch,500,this))},start:function(fn,scope,args){this.queue.push(arguments);this.isRunning||(this.hasOwnProperty('idleTimer')&&(Ext.undefer(this.idleTimer),delete this.idleTimer),this.hasOwnProperty('idleQueueTimer')&&(Ext.undefer(this.idleQueueTimer),
delete this.idleQueueTimer),this.isIdle=!1,this.isRunning=!0,this.doStart())},clear:function(){Ext.undefer(this.idleTimer);Ext.undefer(this.idleQueueTimer);Ext.unraf(this.animationFrameId);this.idleTimer=this.idleQueueTimer=this.animationFrameId=null;this.queue.length=this.taskQueue.length=this.runningQueue.length=this.idleQueue.length=0;this.isRunning=!1;this.isIdle=!0},watch:function(){this.isRunning&&500<=Ext.now()-this.lastRunTime&&this.run()},run:function(){var queue=this.runningQueue,now;this.animationFrameId=
null;if(this.isRunning){this.frameStartTime=this.lastRunTime=now=Ext.now();for(now=this.queue.length;now--;){var item=this.queue[now];(item=item[1]&&item[1].getElement&&item[1].getElement())&&item.destroyed&&this.queue.splice(now,1)}queue.push.apply(queue,this.queue);now=0;for(item=queue.length;now<item;now++)this.invoke(queue[now]);queue.length=0;this.queue.length||this.stop();this.isRunning&&this.doIterate()}},doStart:function(){this.animationFrameId||(this.animationFrameId=Ext.raf(this.run));this.lastRunTime=
Ext.now()},doIterate:function(){this.animationFrameId||(this.animationFrameId=Ext.raf(this.run))},doStop:function(){this.animationFrameId&&Ext.unraf(this.animationFrameId);this.animationFrameId=null},stop:function(fn,scope,args){var queue=this.queue,ln=queue.length,i;if(this.isRunning){for(i=0;i<ln;i++){var item=queue[i];item[0]===fn&&item[1]===scope&&item[2]===args&&(queue.splice(i,1),i--,ln--)}0===ln&&(this.doStop(),this.isRunning=!1,this.idleQueue.length&&!this.idleTimer&&(this.idleTimer=Ext.defer(this.whenIdle,
100,this)))}},onIdle:function(fn,scope,args){var listeners=this.idleQueue,ln;var i=0;for(ln=listeners.length;i<ln;i++){var listener=listeners[i];if(fn===listener[0]&&scope===listener[1]&&args===listener[2])return}listeners.push(arguments);this.isIdle?this.processIdleQueue():this.idleTimer||(this.idleTimer=Ext.defer(this.whenIdle,100,this))},unIdle:function(fn,scope,args){var listeners=this.idleQueue,ln;var i=0;for(ln=listeners.length;i<ln;i++){var listener=listeners[i];if(fn===listener[0]&&scope===
listener[1]&&args===listener[2])return listeners.splice(i,1),!0}!listeners.length&&this.idleTimer&&(Ext.undefer(this.idleTimer),delete this.idleTimer);!listeners.length&&this.idleQueueTimer&&(Ext.undefer(this.idleQueueTimer),delete this.idleQueueTimer);return!1},queueTask:function(fn,scope,args){this.taskQueue.push(arguments);this.processTaskQueue()},dequeueTask:function(fn,scope,args){var listeners=this.taskQueue,ln;var i=0;for(ln=listeners.length;i<ln;i++){var listener=listeners[i];fn===listener[0]&&
scope===listener[1]&&args===listener[2]&&(listeners.splice(i,1),i--,ln--)}},invoke:function(listener){var fn=listener[0],scope=listener[1];listener=listener[2];fn='string'===typeof fn?scope[fn]:fn;Ext.isArray(listener)?fn.apply(scope,listener):fn.call(scope,listener)},whenIdle:function(){delete this.idleTimer;this.isIdle=!0;this.processIdleQueue()},processIdleQueue:function(){this.hasOwnProperty('idleQueueTimer')||(this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this))},processIdleQueueItem:function(){var listeners=
this.idleQueue;delete this.idleQueueTimer;this.isIdle&&0<listeners.length&&(listeners=listeners.shift(),this.invoke(listeners),this.processIdleQueue())},processTaskQueue:function(){this.hasOwnProperty('taskQueueTimer')||(this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this))},processTaskQueueItem:function(){var listeners=this.taskQueue;delete this.taskQueueTimer;0<listeners.length&&(listeners=listeners.shift(),this.invoke(listeners),this.processTaskQueue())}},1,0,0,0,0,0,[Ext,'AnimationQueue'],
0);
Ext.cmd.derive('Ext.mixin.Bufferable',Ext.Mixin,function(Bufferable){return{mixinConfig:{id:'bufferable',after:{destroy:'cancelAllCalls'},before:{$reap:'cancelAllCalls'},extended:function(baseClass,derivedClass,classBody){if(baseClass=classBody.bufferableMethods)delete classBody.bufferableMethods,Bufferable.processClass(derivedClass,baseClass)}},afterClassMixedIn:function(targetClass){Bufferable.processClass(targetClass)},privates:{cancelAllCalls:function(){var bufferables=this.bufferables,name;if(bufferables)for(name in bufferables)bufferables[name].cancel(),
delete bufferables[name]},cancelBufferedCall:function(name,invoke){var bufferables=this.bufferables;if(name=bufferables&&bufferables[name])name[invoke?'invoke':'cancel']();return!!name},flushBufferedCall:function(name){return this.cancelBufferedCall(name,!0)},initBufferables:function(){var methods=this.hasOwnProperty('bufferableMethods')&&this.bufferableMethods;if(methods){Bufferable._canonicalize(methods);var classMethods=this.self.prototype.bufferableMethods;this.bufferableMethods=Ext.merge(Ext.clone(classMethods),
methods)}return this.bufferables={}},isCallPending:function(name){var bufferables=this.bufferables;return!(!bufferables||!bufferables[name])},statics:{SINGLE:{single:!0},_canonicalize:function(methods){var name;for(name in methods){var s=Ext.String.capitalize(name);var def=methods[name];var t=typeof def;if('number'===t||'string'===t)methods[name]=def={delay:def};'string'===typeof(t=def.delay)&&(def[t]=!0,delete def.delay);def.capitalized=s;def.name=name;def.fn||(def.fn='do'+s);def.flag||(def.flag=
'is'+s+'Pending')}},_canceller:function(){var id=this.id;id&&(this.delay?Ext.undefer(id):this.asap?Ext.unasap(id):this.idle?Ext.un('idle',id,null,Bufferable.SINGLE):this.raf&&Ext.unraf(id),this.id=null);this.args=null;this.target[this.flag]=!1},_invoker:function(){var args=this.args||Ext.emptyArray,target=this.target;this.cancel();target[this.fn].apply(target,args)},delayCall:function(target,def,args){if(!target.destroying){var bufferables=target.bufferables||target.initBufferables(),name=def.name,
timer=bufferables[name]||(bufferables[name]=Ext.apply({args:null,cancel:Bufferable._canceller,id:null,target,invoke:Bufferable._invoker},def));bufferables=def.delay;name=function(){timer.id&&(timer.id=null,timer.invoke())};timer.id&&timer.cancel();timer.args=args;target[timer.flag]=!0;bufferables?timer.id=Ext.defer(name,bufferables):def.asap?timer.id=Ext.asap(name):def.idle?(timer.id=name,Ext.on('idle',name,null,Bufferable.SINGLE)):def.raf?timer.id=Ext.raf(name):timer.invoke()}},processClass:function(cls,
bufferableMethods){cls=cls.prototype;var inherited=cls.bufferableMethods,name;bufferableMethods?(Bufferable._canonicalize(bufferableMethods),inherited&&(inherited=Ext.merge(Ext.clone(inherited),bufferableMethods)),cls.bufferableMethods=inherited||bufferableMethods):(bufferableMethods=inherited,Bufferable._canonicalize(bufferableMethods),cls.bufferables=null);if(bufferableMethods)for(name in bufferableMethods)cls[name]||(inherited=bufferableMethods[name],Bufferable.processMethod(cls,inherited,Array.prototype.slice))},
processMethod:function(proto,def,slice){var name=def.name,cap=def.capitalized;proto[name]=function(){return Bufferable.delayCall(this,def,slice.call(arguments))};proto['cancel'+cap]=function(){return this.cancelBufferedCall(name)};proto['flush'+cap]=function(){return this.flushBufferedCall(name)}}}}}},0,0,0,0,0,0,[Ext.mixin,'Bufferable'],0);
Ext.cmd.derive('Ext.ComponentManager',Ext.Base,{alternateClassName:'Ext.ComponentMgr',singleton:!0,count:0,fixReferencesTimer:null,referenceRepairs:0,typeName:'xtype',bufferableMethods:{handleDocumentMouseDown:'asap'},constructor:function(config){Ext.apply(this,config);this.all={};this.byInstanceId={};this.holders={};this.onAvailableCallbacks={}},create:function(config,defaultType){return'string'===typeof config?Ext.widget(config):config.isComponent?config:'xclass'in config?Ext.create(config.xclass,
config):Ext.widget(config.xtype||defaultType,config)},get:function(id){return this.all[id]},register:function(component){var id=component.getId(),onAvailableCallbacks=this.onAvailableCallbacks;this.all[id]=component;this.byInstanceId[component.$iid]=component;if(component.nameHolder||component.referenceHolder)this.holders[id]=component;++this.count;this.hasFocusListener||this.installFocusListener();(onAvailableCallbacks=onAvailableCallbacks&&onAvailableCallbacks[id])&&onAvailableCallbacks.length&&
this.notifyAvailable(component)},unregister:function(component){var all=this.all,byInstanceId=this.byInstanceId,holders=this.holders,id=component.getId();id in holders&&(holders[id]=null,delete holders[id]);all[id]=null;delete all[id];id=component.$iid;byInstanceId[id]=null;delete byInstanceId[id];--this.count},markReferencesDirty:function(){var me=this,holders=me.holders,id;if(!Ext.referencesDirty){for(id in holders){var holder=holders[id];holder.refs=holder.nameRefs=null;holder.invalidateChildDirty&&
holder.invalidateChildDirty()}Ext.referencesDirty=!0;me.fixReferencesTimer=Ext.asap(function(){me.fixReferencesTimer=null;me.fixReferences()})}},fixReferences:function(){var all=this.all,holders=this.holders,id;if(Ext.referencesDirty){this.fixReferencesTimer=Ext.unasap(this.fixReferencesTimer);Ext.referencesDirty=0;++this.referenceRepairs;for(id in holders){var holder=holders[id];holder.beginSyncChildDirty&&holder.beginSyncChildDirty()}for(id in all)all[id]._fixReference();for(id in holders)holder=
holders[id],holder.finishSyncChildDirty&&holder.finishSyncChildDirty();Ext.referencesDirty=!1}},onAvailable:function(id,fn,scope){var callbacks=this.onAvailableCallbacks,all=this.all;id in all?(id=all[id],fn.call(scope||id,id)):id&&(Ext.isArray(callbacks[id])||(callbacks[id]=[]),callbacks[id].push(function(item){fn.call(scope||item,item)}))},notifyAvailable:function(item){for(var callbacks=this.onAvailableCallbacks[item&&item.getId()]||[];callbacks.length;)callbacks.shift()(item)},each:function(fn,
scope){Ext.Object.each(this.all,fn,scope)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},getActiveComponent:function(){return Ext.Component.from(Ext.dom.Element.getActiveElement())},onGlobalFocus:function(info){var event=info.event.chain(),infoCopy=Ext.applyIf({event},info);var to=event.toComponent=infoCopy.toComponent=Ext.Component.from(info.toElement);var from=event.fromComponent=infoCopy.fromComponent=Ext.Component.from(info.fromElement);info=this.getCommonAncestor(from,
to);if(to!==from){if(from&&!from.destroyed&&!from.isDestructing())for(from.handleBlurEvent&&from.handleBlurEvent(infoCopy);from&&from!==info;from=from.getRefOwner())from.destroyed||from.destroying||(event.type='focusleave',from.onFocusLeave(event));if(to&&!to.destroyed&&!to.isDestructing())for(to.handleFocusEvent&&to.handleFocusEvent(infoCopy),from=to;from&&from!==info;from=from.getRefOwner())event.type='focusenter',from.onFocusEnter(event)}for(from=info;from;from=from.getRefOwner())if(!from.destroying&&
!from.destroyed)from.onFocusMove(infoCopy)},getCommonAncestor:function(compA,compB){if(compA===compB)return compA;for(;compA&&!compA.isAncestor(compB)&&compA!==compB;)compA=compA.getRefOwner();return compA},privates:{doHandleDocumentMouseDown:function(e){var floatedSelector=Ext.Widget.prototype.floatedSelector;floatedSelector&&(e=Ext.Component.from(e.getTarget(floatedSelector,Ext.getBody())))&&!e.activeAnimation&&e.toFront(!0)},installFocusListener:function(){Ext.on('focus',this.onGlobalFocus,this);
this.hasFocusListener=!0},clearAll:function(){this.all={};this.byInstanceId={};this.holders={};this.onAvailableCallbacks={}},from:function(el,limit,selector){var cache=this.all,depth=0,cmpId;el&&el.isEvent&&(el=el.target);el=Ext.getDom(el);if('number'!==typeof limit){var topmost=Ext.getDom(limit);limit=Number.MAX_VALUE}for(;el&&1===el.nodeType&&depth<limit&&el!==topmost;){if(cmpId=el.getAttribute('data-componentid')||el.id){if((cmpId=cache[cmpId])&&(!selector||Ext.ComponentQuery.is(cmpId,selector)))return cmpId;
depth++}el=el.parentNode}return null}}},1,0,0,0,0,[[Ext.mixin.Bufferable.prototype.mixinId||Ext.mixin.Bufferable.$className,Ext.mixin.Bufferable]],[Ext,'ComponentManager',Ext,'ComponentMgr'],function(ComponentManager){ComponentManager.fromElement=ComponentManager.from;Ext.referencesDirty=!1;Ext.fixReferences=function(){ComponentManager.fixReferences()};Ext.markReferencesDirty=function(){ComponentManager.markReferencesDirty()};Ext.getCmp=function(id){return ComponentManager.get(id)};Ext.iidToCmp=function(iid){return ComponentManager.byInstanceId[iid]||
null};Ext.doEv=function(node,e){var method;return(node=Ext.Component.from(e.target))&&!node.destroying&&!node.destroyed&&node.getEventHandlers&&(method=node.getEventHandlers()[e.type])&&node[method]?(e=new Ext.event.Event(e),node[method](e)):!0}});
Ext.ns('Ext.util').Operators={'\x3d':function(a,v){return a==v},'!\x3d':function(a,v){return a!=v},'^\x3d':function(a,v){return a&&a.substr(0,v.length)==v},'$\x3d':function(a,v){return a&&a.substr(a.length-v.length)==v},'*\x3d':function(a,v){return a&&-1!==a.indexOf(v)},'%\x3d':function(a,v){return 0===a%v},'|\x3d':function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+'-')},'~\x3d':function(a,v){return a&&-1!=(' '+a+' ').indexOf(' '+v+' ')}};
Ext.cmd.derive('Ext.util.LruCache',Ext.util.HashMap,{config:{maxSize:null},add:function(key,newValue){this.removeAtKey(key);var last=this.last;var entry={prev:last,next:null,key,value:newValue};last?last.next=entry:this.first=entry;this.last=entry;Ext.util.HashMap.prototype.add.call(this,key,entry);this.prune();return newValue},insertBefore:function(key,newValue,sibling){var existingKey,entry;return(sibling=this.map[this.findKey(sibling)])?((existingKey=this.findKey(newValue))?this.unlinkEntry(entry=
this.map[existingKey]):entry={prev:sibling.prev,next:sibling,key,value:newValue},sibling.prev?entry.prev.next=entry:this.first=entry,entry.next=sibling,sibling.prev=entry,this.prune(),newValue):this.add(key,newValue)},get:function(key){if(key=this.map[key])return key.next&&this.moveToEnd(key),key.value},removeAtKey:function(key){this.unlinkEntry(this.map[key]);return Ext.util.HashMap.prototype.removeAtKey.apply(this,arguments)},clear:function(initial){this.first=this.last=null;return Ext.util.HashMap.prototype.clear.call(this,
initial)},unlinkEntry:function(entry){entry&&(entry.next?entry.next.prev=entry.prev:this.last=entry.prev,entry.prev?entry.prev.next=entry.next:this.first=entry.next,entry.prev=entry.next=null)},moveToEnd:function(entry){this.unlinkEntry(entry);(entry.prev=this.last)?this.last.next=entry:this.first=entry;this.last=entry},getArray:function(isKey){for(var arr=[],entry=this.first;entry;)arr.push(isKey?entry.key:entry.value),entry=entry.next;return arr},each:function(fn,scope,reverse){var entry=reverse?
this.last:this.first,length=this.length;for(scope=scope||this;entry&&!1!==fn.call(scope,entry.key,entry.value,length);)entry=reverse?entry.prev:entry.next;return this},findKey:function(value){var key,map=this.map;for(key in map)if(map.hasOwnProperty(key)&&map[key].value===value)return key},clone:function(){var newCache=new this.self(this.initialConfig),map=this.map,key;newCache.suspendEvents();for(key in map)map.hasOwnProperty(key)&&newCache.add(key,map[key].value);newCache.resumeEvents();return newCache},
prune:function(){var max=this.getMaxSize();max=max?this.length-max:0;if(0<max)for(;this.first&&max;max--)this.removeAtKey(this.first.key)}},0,0,0,0,0,0,[Ext.util,'LruCache'],0);
Ext.cmd.derive('Ext.ComponentQuery',Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext,'ComponentQuery'],function(){var cq=this,queryOperators=Ext.util.Operators,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,stripLeadingSpaceRe=/^(\s)+/,unescapeRe=/\\(.)/g,regexCache=new Ext.util.LruCache({maxSize:100}),filterItems=function(items,operation){return operation.method.apply(this,[items].concat(operation.args))},getItems=function(items,mode){for(var result=[],i=0,length=items.length,deep='\x3e'!==mode;i<length;i++)mode=items[i],
mode.getRefItems&&(result=result.concat(mode.getRefItems(deep)));return result},getAncestors=function(items){for(var result=[],i=0,length=items.length,candidate;i<length;i++)for(candidate=items[i];candidate=candidate.getRefOwner();)result.push(candidate);return result},filterByXType=function(items,xtype,shallow){if('*'===xtype)return items.slice();for(var result=[],i=0,length=items.length,candidate;i<length;i++)candidate=items[i],!candidate.destroyed&&candidate.isXType(xtype,shallow)&&result.push(candidate);
return result},filterById=function(items,id,idOnly){for(var result=[],i=0,length=items.length,candidate,check;i<length;i++)candidate=items[i],check=idOnly?candidate.id:candidate.getItemId(),check===id&&result.push(candidate);return result},modeRe=/^(\s?([>\^])\s?|\s|$)/,tokenRe=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,matchers=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:filterByXType,argTransform:function(args){void 0!==args[1]&&(args[1]=args[1].replace(unescapeRe,'$1'));return args.slice(1)}},
{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:function(items,property,operator,compareTo){var result=[],length=items.length,propValue,i,propLen;if('@'===property.charAt(0)){var mustBeOwnProperty=!0;property=property.substr(1)}if('?'===property.charAt(0)){var presenceOnly=mustBeOwnProperty=!0;property=property.substr(1)}for(i=0;i<length;i++){var candidate=items[i];if(propValue=candidate.self&&candidate.self.getConfigurator&&candidate.self.$config.configs[property])propValue=
candidate[propValue.names.get]();else if(mustBeOwnProperty&&!candidate.hasOwnProperty(property))continue;else propValue=candidate[property];if(presenceOnly)result.push(candidate);else if('~\x3d'===operator){if(propValue){Ext.isArray(propValue)||(propValue=propValue.split(' '));var j=0;for(propLen=propValue.length;j<propLen;j++)if(queryOperators[operator](Ext.coerce(propValue[j],compareTo),compareTo)){result.push(candidate);break}}}else'/\x3d'===operator?null!=propValue&&compareTo.test(propValue)&&
result.push(candidate):(compareTo?queryOperators[operator](Ext.coerce(propValue,compareTo),compareTo):propValue)&&result.push(candidate)}return result},argTransform:function(args){var property=args[1],operator=args[2];args=args[4];var compareRe;void 0!==args&&(args=args.replace(unescapeRe,'$1'));'/\x3d'===operator&&(args=(compareRe=regexCache.get(args))?compareRe:regexCache.add(args,new RegExp(args)));return[property,operator,args]}},{re:/^#((?:\\\.|[\w\-])+)/,method:filterById},{re:/^:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,
method:function(items,name,value){return cq.pseudos[name](items,value)},argTransform:function(args){void 0!==args[2]&&(args[2]=args[2].replace(unescapeRe,'$1'));return args.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:'var r \x3d [],i \x3d 0,it \x3d items,l \x3d it.length,c;for (; i \x3c l; i++) {c \x3d it[i];if (c.{0}) {r.push(c);}}return r;'}];cq.Query=Ext.extend(Object,{constructor:function(cfg){cfg=cfg||{};Ext.apply(this,cfg)},execute:function(root){var operations=this.operations,result=[],len;var i=
0;for(len=operations.length;i<len;i++){var op=operations[i];result=result.concat(this._execute(root,op))}return result},_execute:function(root,operations){var i=0,length=operations.length;if(root)Ext.isIterable(root)?workingItems=root:root.isMixedCollection&&(workingItems=root.items);else var workingItems=Ext.ComponentManager.getAll();for(;i<length;i++){var operation=operations[i];workingItems='^'===operation.mode?getAncestors(workingItems||[root]):operation.mode?getItems(workingItems||[root],operation.mode):
filterItems(workingItems||getItems([root]),operation);if(i===length-1)return workingItems}return[]},is:function(component,root){var operations=this.operations,len=operations.length,i;if(0===len)return!0;for(i=0;i<len;i++){var result=operations[i];if(result=this._is(component,root,result))return result}return!1},_is:function(component,root,operations){var len=operations.length;component=[component];var i,mode,item;for(i=len-1;0<=i;--i){len=operations[i];if(mode=len.mode)if('^'===mode)component=getItems(component,
' ');else if('\x3e'===mode){var items=[];var j=0;for(len=component.length;j<len;++j)(item=component[j].getRefOwner())&&items.push(item);component=items}else component=getAncestors(component);else component=filterItems(component,len);if(0===component.length)return!1}return root&&(mode||(component=getAncestors(component)),0<component.length&&(component=filterItems(component,{method:filterById,args:[root.id,!0]})),0===component.length)?!1:!0},getMatches:function(components,operations){var len=operations.length,
i;for(i=0;i<len&&(components=filterItems(components,operations[i]),0!==components.length);++i);return components},isMultiMatch:function(){return 1<this.operations.length}});Ext.apply(cq,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(components,selector){for(var i=0,length=components.length,results=[],index=-1,component;i<length;++i)component=components[i],cq.is(component,selector)||(results[++index]=component);return results},first:function(components){var ret=[];0<components.length&&
ret.push(components[0]);return ret},last:function(components){var len=components.length,ret=[];0<len&&ret.push(components[len-1]);return ret},focusable:function(cmps){for(var len=cmps.length,results=[],i=0,c;i<len;i++)c=cmps[i],c.isFocusable&&c.isFocusable()&&results.push(c);return results},canfocus:function(cmps,value){for(var len=cmps.length,results=[],i=0,c;i<len;i++)c=cmps[i],c.canFocus&&c.canFocus(!1,value)&&results.push(c);return results},'nth-child':function(c,a){var result=[],n;var m=nthRe.exec('even'===
a&&'2n'||'odd'===a&&'2n+1'||!nthRe2.test(a)&&'n+'+a||a);a=(m[1]||1)-0;var len=m[2]-0;for(m=0;n=c[m];m++){var nodeIndex=m+1;1===a?(0===len||nodeIndex===len)&&result.push(n):0===(nodeIndex+len)%a&&result.push(n)}return result},scrollable:function(cmps){for(var len=cmps.length,results=[],i=0,c;i<len;i++)c=cmps[i],(c.scrollable||c._scrollable)&&results.push(c);return results},visible:function(cmps,deep){var len=cmps.length,results=[],i=0;for(deep='true'===deep;i<len;i++){var c=cmps[i];c.isVisible(deep)&&
results.push(c)}return results}},query:function(selector,root){if(!selector)return Ext.ComponentManager.getAll();var noDupResults=[],dupMatcher={},query=cq.cache.get(selector),i;query||(query=cq.cache.add(selector,cq.parse(selector)));selector=query.execute(root);if(query.isMultiMatch()){query=selector.length;for(i=0;i<query;i++)root=selector[i],dupMatcher[root.id]||(noDupResults.push(root),dupMatcher[root.id]=!0);selector=noDupResults}return selector},visitPreOrder:function(selector,root,fn,scope,
extraArgs){cq._visit(!0,selector,root,fn,scope,extraArgs)},visitPostOrder:function(selector,root,fn,scope,extraArgs){cq._visit(!1,selector,root,fn,scope,extraArgs)},_visit:function(preOrder,selector,root,fn,scope,extraArgs){var query=cq.cache.get(selector),callArgs=[root],len=0;query||(query=cq.cache.add(selector,cq.parse(selector)));var rootMatch=query.is(root);if(root.getRefItems){var children=root.getRefItems();len=children.length}extraArgs&&Ext.Array.push(callArgs,extraArgs);if(preOrder&&rootMatch&&
!1===fn.apply(scope||root,callArgs))return!1;for(query=0;query<len;query++)if(!1===cq._visit.call(cq,preOrder,selector,children[query],fn,scope,extraArgs))return!1;if(!preOrder&&rootMatch&&!1===fn.apply(scope||root,callArgs))return!1},is:function(component,selector,root){var query;if(!selector)return!0;if('function'===typeof selector)return selector(component);(query=cq.cache.get(selector))||(query=cq.cache.add(selector,cq.parse(selector)));return query.is(component,root)},parse:function(selector){var operations=
[],len;selector=Ext.splitAndUnescape(selector,',');var i=0;for(len=selector.length;i<len;i++){var sel=Ext.String.trim(selector[i]);operations.push(cq._parse(sel))}return new cq.Query({operations})},_parse:function(selector){for(var operations=[],trim=Ext.String.trim,length=matchers.length,lastSelector,tokenMatch,token,matchedChar,transform,i;selector&&lastSelector!==selector;){lastSelector=selector;if(tokenMatch=selector.match(tokenRe))matchedChar=tokenMatch[1],token=trim(tokenMatch[2]).replace(unescapeRe,
'$1'),'#'===matchedChar?operations.push({method:filterById,args:[token]}):operations.push({method:filterByXType,args:[token,!!tokenMatch[3]]}),selector=selector.replace(tokenMatch[0],'').replace(stripLeadingSpaceRe,'$1');for(;!(tokenMatch=selector.match(modeRe));)for(i=0;selector&&i<length;i++){token=matchers[i];tokenMatch=selector.match(token.re);matchedChar=token.method;transform=token.argTransform;if(tokenMatch){transform=transform?transform(tokenMatch):tokenMatch.slice(1);operations.push({method:Ext.isString(token.method)?
Ext.functionFactory('items',Ext.String.format.apply(Ext.String,[matchedChar].concat(tokenMatch.slice(1)))):token.method,args:transform});selector=selector.replace(tokenMatch[0],'').replace(stripLeadingSpaceRe,'$1');break}i===length-1&&Ext.raise('Invalid ComponentQuery selector: "'+selector+'"')}tokenMatch[1]&&(operations.push({mode:tokenMatch[2]||tokenMatch[1]}),selector=selector.replace(tokenMatch[0],'').replace(stripLeadingSpaceRe,''))}return operations}});Ext.all=function(){return cq.query.apply(cq,
arguments)};Ext.first=function(){var matches=cq.query.apply(cq,arguments);return matches&&matches[0]||null}});
Ext.cmd.derive('Ext.Evented',Ext.Base,{alternateClassName:'Ext.EventedBase',initialized:!1,constructor:function(config){this.mixins.observable.constructor.call(this,config);this.initialized=!0},onClassExtended:function(cls,data){if(data.hasOwnProperty('eventedConfig')){var config=data.config,eventedConfig=data.eventedConfig,name;config?Ext.applyIf(config,eventedConfig):cls.addConfig(eventedConfig);for(name in eventedConfig)eventedConfig.hasOwnProperty(name)&&(cls=Ext.Config.get(name),data[cls.names.set]=
cls.eventedSetter||cls.getEventedSetter())}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext,'Evented',Ext,'EventedBase'],0);
Ext.cmd.derive('Ext.util.Positionable',Ext.Base,{mixinId:'positionable',_positionTopLeft:['position','top','left'],clippedCls:'x-clipped',afterSetPosition:Ext.emptyFn,adjustForConstraints:function(xy,parent){if(parent=this.getConstrainVector(parent,xy))xy[0]+=parent[0],xy[1]+=parent[1];return xy},alignTo:function(element,position,offsets,animate){var el=this.el;return this.setXY(this.getAlignToXY(element,position,offsets),el.anim&&animate?el.anim(animate):!1)},calculateAnchorXY:function(anchor,extraX,
extraY,size){var region=this.getRegion();region.setPosition(0,0);region.translateBy(extraX||0,extraY||0);size&&(region.setWidth(size.width),region.setHeight(size.height));return region.getAnchorPoint(anchor)},convertPositionSpec:function(posSpec){return Ext.util.Region.getAlignInfo(posSpec)},getAlignToXY:function(alignToEl,position,offsets){alignToEl=this.getAlignToRegion(alignToEl,position,offsets);return[alignToEl.x,alignToEl.y]},getAlignToRegion:function(alignToEl,posSpec,offset,minHeight){alignToEl=
Ext.fly(alignToEl.el||alignToEl);posSpec=this.convertPositionSpec(posSpec);if(posSpec.constrain){var inside='!'===posSpec.constrain?alignToEl:this.constrainTo||this.container||this.el.parent();inside=Ext.fly(inside.el||inside).getConstrainRegion()}if(alignToEl===Ext.getBody()){var bodyScroll=alignToEl.getScroll();offset=offset&&2===offset.length?offset:[0,0];offset=[bodyScroll.left+offset[0],bodyScroll.top+offset[1]]}return this.getRegion().alignTo({target:alignToEl.getRegion(),inside,minHeight,offset,
align:posSpec,axisLock:!0})},getAnchorXY:function(anchor,local,size){var region=this.getRegion(),el=this.el,isViewport='BODY'===el.dom.nodeName||9===el.dom.nodeType;el=el.getScroll();local?region.setPosition(0,0):isViewport&&region.setPosition(el.left,el.top);size&&(region.setWidth(size.width),region.setHeight(size.height));return region.getAnchorPoint(anchor)},getBox:function(contentBox,local){var xy=local?this.getLocalXY():this.getXY();local=xy[0];xy=xy[1];if('BODY'===this.el.dom.nodeName||9===
this.el.dom.nodeType){var w=Ext.Element.getViewportWidth();var h=Ext.Element.getViewportHeight()}else w=this.getWidth(),h=this.getHeight();if(contentBox){contentBox=this.getBorderPadding();var beforeX=contentBox.beforeX;var beforeY=contentBox.beforeY;local+=beforeX;xy+=beforeY;w-=beforeX+contentBox.afterX;h-=beforeY+contentBox.afterY}return{x:local,left:local,0:local,y:xy,top:xy,1:xy,width:w,height:h,right:local+w,bottom:xy+h}},calculateConstrainedPosition:function(constrainTo,proposedPosition,local,
proposedSize){var fp=this.floatParent,parentNode=fp?fp.getTargetEl():null,proposedConstrainPosition,xy=!1;if(local&&fp){fp=parentNode.getXY();var borderPadding=parentNode.getBorderPadding();fp[0]+=borderPadding.beforeX;fp[1]+=borderPadding.beforeY;proposedPosition&&(proposedConstrainPosition=[proposedPosition[0]+fp[0],proposedPosition[1]+fp[1]])}else proposedConstrainPosition=proposedPosition;constrainTo=constrainTo||this.constrainTo||parentNode||this.container||this.el.parent();local&&proposedConstrainPosition&&
(proposedConstrainPosition=this.reverseTranslateXY(proposedConstrainPosition));if(constrainTo=(this.constrainHeader&&this.header.rendered?this.header:this).getConstrainVector(constrainTo,proposedConstrainPosition,proposedSize))xy=proposedPosition||this.getPosition(local),xy[0]+=constrainTo[0],xy[1]+=constrainTo[1];return xy},getConstrainRegion:function(){var el=this.el,isBody='BODY'===el.dom.nodeName,dom=el.dom,borders=el.getBorders(),pos=el.getXY(),left=pos[0]+borders.beforeX;borders=pos[1]+borders.beforeY;
isBody?(dom=el.getScroll(),left=dom.left,borders=dom.top,el=Ext.Element.getViewportWidth(),dom=Ext.Element.getViewportHeight()):(el=dom.clientWidth,dom=dom.clientHeight);return new Ext.util.Region(borders,left+el,borders+dom,left)},getConstrainVector:function(constrainTo,proposedPosition,proposedSize){var thisRegion=this.getRegion(),vector=[0,0],shadowSize=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.el.shadow.getShadowSize():void 0,overflowed=!1,constraintInsets=this.constraintInsets;
constrainTo instanceof Ext.util.Region||(constrainTo=Ext.get(constrainTo.el||constrainTo),constrainTo=constrainTo.getConstrainRegion());constraintInsets&&(constraintInsets=Ext.isObject(constraintInsets)?constraintInsets:Ext.Element.parseBox(constraintInsets),constrainTo.adjust(constraintInsets.top,constraintInsets.right,constraintInsets.bottom,constraintInsets.left));proposedPosition&&thisRegion.translateBy(proposedPosition[0]-thisRegion.x,proposedPosition[1]-thisRegion.y);proposedSize&&(thisRegion.right=
thisRegion.left+proposedSize[0],thisRegion.bottom=thisRegion.top+proposedSize[1]);shadowSize&&constrainTo.adjust(shadowSize[0],-shadowSize[1],-shadowSize[2],shadowSize[3]);thisRegion.right>constrainTo.right&&(overflowed=!0,vector[0]=constrainTo.right-thisRegion.right);thisRegion.left+vector[0]<constrainTo.left&&(overflowed=!0,vector[0]=constrainTo.left-thisRegion.left);thisRegion.bottom>constrainTo.bottom&&(overflowed=!0,vector[1]=constrainTo.bottom-thisRegion.bottom);thisRegion.top+vector[1]<constrainTo.top&&
(overflowed=!0,vector[1]=constrainTo.top-thisRegion.top);return overflowed?vector:!1},getOffsetsTo:function(offsetsTo){var o=this.getXY();offsetsTo=offsetsTo.isRegion?[offsetsTo.x,offsetsTo.y]:Ext.fly(offsetsTo.el||offsetsTo).getXY();return[o[0]-offsetsTo[0],o[1]-offsetsTo[1]]},getRegion:function(contentBox,local){contentBox=this.getBox(contentBox,local);return new Ext.util.Region(contentBox.top,contentBox.right,contentBox.bottom,contentBox.left)},getClientRegion:function(){var el=this.el,dom=el.dom,
viewContentBox=this.getBox(!0),scrollbarHeight=dom.offsetHeight>dom.clientHeight;dom=dom.offsetWidth>dom.clientWidth;var padding;if(scrollbarHeight||dom){var scrollSize=Ext.getScrollbarSize();dom&&(dom=scrollSize.width,(padding='rtl'===el.getStyle('direction')&&!Ext.supports.rtlVertScrollbarOnRight)?(padding=el.getPadding('l'),viewContentBox.left-=padding+Math.max(padding,dom)):(padding=el.getPadding('r'),viewContentBox.right+=padding-Math.max(padding,dom)));scrollbarHeight&&(scrollbarHeight=scrollSize.height,
padding=el.getPadding('b'),viewContentBox.bottom+=padding-Math.max(padding,scrollbarHeight))}return new Ext.util.Region(viewContentBox.top,viewContentBox.right,viewContentBox.bottom,viewContentBox.left)},getViewRegion:function(){var el=this.el;if('BODY'===el.dom.nodeName){var borderPadding=el.getScroll();el=borderPadding.left;borderPadding=borderPadding.top;var pos=Ext.Element.getViewportWidth();var height=Ext.Element.getViewportHeight()}else borderPadding=this.getBorderPadding(),pos=this.getXY(),
el=pos[0]+borderPadding.beforeX,borderPadding=pos[1]+borderPadding.beforeY,pos=this.getWidth(!0),height=this.getHeight(!0);return new Ext.util.Region(borderPadding,el+pos,borderPadding+height,el)},move:function(direction,distance,animate){var xy=this.getXY(),x=xy[0],y=xy[1];xy=[x-distance,y];var right=[x+distance,y],top=[x,y-distance];distance=[x,y+distance];distance={l:xy,left:xy,r:right,right,t:top,top,up:top,b:distance,bottom:distance,down:distance};direction=direction.toLowerCase();this.setXY([distance[direction][0],
distance[direction][1]],animate)},setBox:function(box){box.isRegion&&(box={x:box.left,y:box.top,width:box.right-box.left,height:box.bottom-box.top});this.constrainBox(box);var x=box.x;var y=box.y;this.setXY([x,y]);this.setSize(box.width,box.height);this.afterSetPosition(x,y);return this},constrainBox:function(box){if(this.constrain||this.constrainHeader){var constrainedPos='x'in box?box.x:box.left;var y='y'in box?box.y:box.top;if(constrainedPos=this.calculateConstrainedPosition(null,[constrainedPos,
y],!1,[box.width,box.height]))box.x=constrainedPos[0],box.y=constrainedPos[1]}},translatePoints:function(x,y){x=this.translateXY(x,y);return{left:x.x,top:x.y}},translateXY:function(x,y){var el=this.el,styles=el.getStyle(this._positionTopLeft),relative='relative'===styles.position,left=parseFloat(styles.left);styles=parseFloat(styles.top);var xy=this.getXY();Ext.isArray(x)&&(y=x[1],x=x[0]);isNaN(left)&&(left=relative?0:el.dom.offsetLeft);isNaN(styles)&&(styles=relative?0:el.dom.offsetTop);left='number'===
typeof x?x-xy[0]+left:void 0;styles='number'===typeof y?y-xy[1]+styles:void 0;return{x:left,y:styles}},reverseTranslateXY:function(xy){var coords=xy,el=this.el,offsetParent=el.dom.offsetParent;if(offsetParent){coords=el.isStyle('position','relative');var offsetParentXY=Ext.fly(offsetParent).getXY();var x=xy[0]+offsetParentXY[0]+offsetParent.clientLeft;xy=xy[1]+offsetParentXY[1]+offsetParent.clientTop;coords&&(x+=el.getPadding('l'),xy+=el.getPadding('t'));coords=[x,xy]}return coords},privates:{clipTo:function(clippingEl,
sides){var el=this.el,floaterRegion=el.getRegion(),overflow,clipValues=[],clippedCls=this.clippedCls,shadow;clippingEl=clippingEl.isRegion?clippingEl:(clippingEl.isComponent?clippingEl.el:Ext.fly(clippingEl)).getConstrainRegion();sides||(sides=15);if(sides&1&&0<(overflow=clippingEl.top-floaterRegion.top)){clipValues[0]=overflow;var clipped=!0}else clipValues[0]=-1E4;sides&2&&0<(overflow=floaterRegion.right-clippingEl.right)?(clipValues[1]=Math.max(0,el.getWidth()-overflow),clipped=!0):clipValues[1]=
1E4;sides&4&&0<(overflow=floaterRegion.bottom-clippingEl.bottom)?(clipValues[2]=Math.max(0,el.getHeight()-overflow),clipped=!0):clipValues[2]=1E4;sides&8&&0<(overflow=clippingEl.left-floaterRegion.left)?(clipValues[3]=overflow,clipped=!0):clipValues[3]=-1E4;floaterRegion='rect(';for(sides=0;4>sides;++sides)floaterRegion+=Ext.Element.addUnits(clipValues[sides],'px'),floaterRegion+=3===sides?')':',';el.dom.style.clip=floaterRegion;el.addCls(clippedCls);if((shadow=el.shadow)&&(el=shadow.el)&&el.dom){clipValues[2]-=
shadow.offsets.y;clipValues[3]-=shadow.offsets.x;floaterRegion='rect(';for(sides=0;4>sides;++sides)floaterRegion+=Ext.Element.addUnits(clipValues[sides],'px'),floaterRegion+=3===sides?')':',';el.dom.style.clip=floaterRegion;clipped&&!Ext.supports.CSS3BoxShadow?el.dom.style.display='none':(el.dom.style.display='',el.addCls(clippedCls))}},clearClip:function(){var el=this.el,clippedCls=this.clippedCls;el.dom.style.clip=Ext.isIE8?'auto':'';el.removeCls(clippedCls);el.shadow&&el.shadow.el&&el.shadow.el.dom&&
(el.shadow.el.dom.style.clip=Ext.isIE8?'auto':'',Ext.supports.CSS3BoxShadow||(el.dom.style.display='',el.removeCls(clippedCls)))}}},0,0,0,0,0,0,[Ext.util,'Positionable'],0);
Ext.define('Ext.overrides.util.Positionable',{override:'Ext.util.Positionable',anchorTo:function(anchorToEl,alignment,offsets,animate,monitorScroll,callback){var me=this,scroll=!Ext.isEmpty(monitorScroll),action=function(){me.mixins.positionable.alignTo.call(me,anchorToEl,alignment,offsets,animate);Ext.callback(callback,me)},anchor=me.getAnchor();me.removeAnchor();Ext.apply(anchor,{fn:action,scroll});Ext.on('resize',action,null);if(scroll)Ext.getWin().on('scroll',action,null,{buffer:isNaN(monitorScroll)?
50:monitorScroll});action();return me},getAnchor:function(){var el=this.el;if(el&&el.dom){el=el.getData();var anchor=el._anchor;anchor||(anchor=el._anchor={});return anchor}},alignTo:function(element,position,offsets,animate){var el=this.el;if(this.isComponent&&this.getSizeModel().height.shrinkWrap){this.maxHeight&&this.setMaxHeight(null);var newMaxHeight=!0}element=this.getAlignToRegion(element,position,offsets,this.minHeight||150);this.setXY([element.x,element.y],el.anim&&animate?el.anim(animate):
!1);newMaxHeight&&(newMaxHeight=element.getHeight())!==this.getHeight()&&this.setMaxHeight(newMaxHeight);return this},removeAnchor:function(){var anchor=this.getAnchor();if(anchor&&anchor.fn){Ext.un('resize',anchor.fn);if(anchor.scroll)Ext.getWin().on('scroll',anchor.fn);delete anchor.fn}return this},setBox:function(box,animate){box.isRegion&&(box={x:box.left,y:box.top,width:box.right-box.left,height:box.bottom-box.top});animate?(this.constrainBox(box),this.animate(Ext.applyIf({to:box,listeners:{afteranimate:Ext.Function.bind(this.afterSetPosition,
this,[box.x,box.y])}},animate))):arguments.callee.$previous.call(this,box);return this}});
Ext.cmd.derive('Ext.dom.UnderlayPool',Ext.Base,{constructor:function(elementConfig){this.elementConfig=elementConfig;this.cache=[]},checkOut:function(){var el=this.cache.shift();el||(el=Ext.Element.create(this.elementConfig),el.setVisibilityMode(2));return el},checkIn:function(el){this.cache.push(el);Ext.getDetachedBody().dom.appendChild(el.dom)},reset:function(){for(var cache=this.cache,i=cache.length;i--;)cache[i].destroy();this.cache=[]}},1,0,0,0,0,0,[Ext.dom,'UnderlayPool'],0);
Ext.cmd.derive('Ext.dom.Underlay',Ext.Base,{constructor:function(config){Ext.apply(this,config)},beforeShow:Ext.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new Ext.dom.UnderlayPool(this.elementConfig))},hide:function(){var el=this.el;el&&(el.dom&&(el.hide(),this.getPool().checkIn(el)),this.el=null);this.hidden=!0},realign:function(x,y,width,height){var el=this.el,target=this.target,offsets=this.offsets,max=Math.max;el&&(null==
x&&(x=target.getX()),null==y&&(y=target.getY()),null==width&&(width=target.getWidth()),null==height&&(height=target.getHeight()),offsets&&(x+=offsets.x,y+=offsets.y,width=max(width+offsets.w,0),height=max(height+offsets.h,0)),el.setXY([x,y]),el.setSize(width,height))},setZIndex:function(zIndex){this.zIndex=zIndex;this.el&&this.el.setStyle('z-index',zIndex)},show:function(){var target=this.target,zIndex=this.zIndex,el=this.el,insertionTarget=this.getInsertionTarget().dom;el||(el=this.el=this.getPool().checkOut());
this.beforeShow();null==zIndex&&(zIndex=parseInt(target.getStyle('z-index'),10));zIndex&&el.setStyle('z-index',zIndex);el.setStyle('position',this.fixed?'fixed':'');zIndex=el.dom;zIndex.nextSibling!==insertionTarget&&target.dom.parentNode.insertBefore(zIndex,insertionTarget);el.show();this.realign();this.hidden=!1}},1,0,0,0,0,0,[Ext.dom,'Underlay'],0);
Ext.cmd.derive('Ext.dom.Shadow',Ext.dom.Underlay,{alternateClassName:'Ext.Shadow',mode:'drop',offset:4,cls:'x-'+(Ext.supports.CSS3BoxShadow?'css':'ie')+'-shadow',constructor:function(config){Ext.dom.Underlay.prototype.constructor.call(this,config);this.elementConfig={cls:this.cls,role:'presentation'};config=this.offset;var rad=Math.floor(config/2);this.opacity=50;switch(this.mode.toLowerCase()){case 'drop':var outerOffsets={x:0,y:0,w:config,h:config};var offsets=Ext.supports.CSS3BoxShadow?{x:config,
y:config,h:-config,w:-config}:{x:-rad,y:-rad,h:-rad,w:-rad};break;case 'sides':outerOffsets={x:-config,y:0,w:2*config,h:config};offsets=Ext.supports.CSS3BoxShadow?{x:0,y:config,h:-config,w:0}:{x:1+rad-2*config,y:-(1+rad),h:-1,w:rad-1};break;case 'frame':outerOffsets={x:-config,y:-config,w:2*config,h:2*config};offsets=Ext.supports.CSS3BoxShadow?{x:0,y:0,h:0,w:0}:{x:1+rad-2*config,y:1+rad-2*config,h:config-rad-1,w:config-rad-1};break;case 'bottom':outerOffsets={x:-config,y:0,w:2*config,h:config},offsets=
Ext.supports.CSS3BoxShadow?{x:0,y:config,h:-config,w:0}:{x:0,y:config,h:0,w:0}}this.offsets=offsets;this.outerOffsets=outerOffsets},getShadowSize:function(){var offset=this.el?this.offset:0;offset=[offset,offset,offset,offset];var mode=this.mode.toLowerCase();this.el&&'frame'!==mode&&(offset[0]=0,'drop'===mode&&(offset[3]=0));return offset},boxShadowProperty:function(){var property='boxShadow',style=document.documentElement.style;'boxShadow'in style||('WebkitBoxShadow'in style?property='WebkitBoxShadow':
'MozBoxShadow'in style&&(property='MozBoxShadow'));return property}(),beforeShow:function(){var style=this.el.dom.style,shim=this.shim;Ext.supports.CSS3BoxShadow?style[this.boxShadowProperty]='0 0 '+(this.offset+2)+'px #888':style.filter='progid:DXImageTransform.Microsoft.alpha(opacity\x3d'+this.opacity+') progid:DXImageTransform.Microsoft.Blur(pixelradius\x3d'+this.offset+')';shim&&shim.realign()},setOpacity:function(opacity){var el=this.el;el&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(opacity=Math.floor(100*
opacity/2)/100),this.opacity=opacity,el.setOpacity(opacity))}},1,0,0,0,0,0,[Ext.dom,'Shadow',Ext,'Shadow'],0);Ext.cmd.derive('Ext.dom.Shim',Ext.dom.Underlay,{cls:'x-shim',constructor:function(config){Ext.dom.Underlay.prototype.constructor.call(this,config);this.elementConfig={tag:'iframe',cls:this.cls,role:'presentation',frameBorder:'0',src:Ext.SSL_SECURE_URL,tabindex:'-1'}},getInsertionTarget:function(){var shadow=this.shadow;return shadow&&shadow.el||this.target}},1,0,0,0,0,0,[Ext.dom,'Shim'],0);
Ext.cmd.derive('Ext.dom.ElementEvent',Ext.util.Event,{addListener:function(fn,scope,options,caller,manager){var name=this.name,isDirectEvent=Ext.event.publisher.Dom.instance.directEvents[name];options=options||{};!1===options.delegated||isDirectEvent?(isDirectEvent&&options.delegate&&(options.capture=!0),options.capture?(name=this.directCaptures||(this.directCaptures=new Ext.util.Event(this.observable,name)),fn=name.addListener(fn,scope,options,caller,manager)):(name=this.directs||(this.directs=new Ext.util.Event(this.observable,
name)),fn=name.addListener(fn,scope,options,caller,manager))):options.capture?(name=this.captures||(this.captures=new Ext.util.Event(this.observable,name)),fn=name.addListener(fn,scope,options,caller,manager)):fn=Ext.util.Event.prototype.addListener.call(this,fn,scope,options,caller,manager);return fn},removeListener:function(fn,scope){var captures=this.captures,directs=this.directs,directCaptures=this.directCaptures,removed=!1,index=this.findListener(fn,scope);-1!==index?removed=Ext.util.Event.prototype.removeListener.call(this,
fn,scope,index):(directs&&(index=directs.findListener(fn,scope)),-1!==index?removed=directs.removeListener(fn,scope,index):(captures&&(index=captures.findListener(fn,scope)),-1!==index?removed=captures.removeListener(fn,scope,index):directCaptures&&(index=directCaptures.findListener(fn,scope),-1!==index&&(removed=directCaptures.removeListener(fn,scope,index)))));return removed},clearListeners:function(){var directCaptures=this.directCaptures,directs=this.directs,captures=this.captures;directCaptures&&
directCaptures.clearListeners();directs&&directs.clearListeners();captures&&captures.clearListeners();Ext.util.Event.prototype.clearListeners.call(this)},suspend:function(){var directCaptures=this.directCaptures,directs=this.directs,captures=this.captures;directCaptures&&directCaptures.suspend();directs&&directs.suspend();captures&&captures.suspend();Ext.util.Event.prototype.suspend.call(this)},resume:function(){var directCaptures=this.directCaptures,directs=this.directs,captures=this.captures;directCaptures&&
directCaptures.resume();directs&&directs.resume();captures&&captures.resume();Ext.util.Event.prototype.resume.call(this)}},0,0,0,0,0,0,[Ext.dom,'ElementEvent'],0);
Ext.cmd.derive('Ext.event.publisher.Publisher',Ext.Base,{isEventPublisher:!0,$vetoClearingPrototypeOnDestroy:!0,handledEvents:[],statics:{publishers:{},publishersByEvent:{}},constructor:function(){var type=this.type;this.handles={};this.registerEvents();Ext.event.publisher.Publisher.publishers[type]=this},registerEvents:function(events){var publishersByEvent=Ext.event.publisher.Publisher.publishersByEvent;events=events||this.handledEvents;var ln=events.length,i;for(i=0;i<ln;i++){var eventName=events[i];
this.handles[eventName]=1;publishersByEvent[eventName]=this}},fire:function(element,eventName,args){element.hasListeners[eventName]&&(element=element.events[eventName])&&element.fire.apply(element,args)}},1,0,0,0,0,0,[Ext.event.publisher,'Publisher'],0);
Ext.cmd.derive('Ext.util.Offset',Ext.Base,{statics:{fromObject:function(obj){return obj instanceof this?obj:'number'===typeof obj?new this(obj,obj):obj.length?new this(obj[0],obj[1]):new this(obj.x,obj.y)}},constructor:function(x,y){this.x=null==x||isNaN(x)?0:x;this.y=null==y||isNaN(y)?0:y;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(p){this.x=p.x;this.y=p.y},toString:function(){return'Offset['+this.x+','+this.y+']'},equals:function(offset){return this.x===
offset.x&&this.y===offset.y},add:function(offset){this.x+=offset.x;this.y+=offset.y},round:function(to){isNaN(to)?(this.x=Math.round(this.x),this.y=Math.round(this.y)):(to=Math.pow(10,to),this.x=Math.round(this.x*to)/to,this.y=Math.round(this.y*to)/to)},isZero:function(){return 0===this.x&&0===this.y}},3,0,0,0,0,0,[Ext.util,'Offset'],0);
Ext.cmd.derive('Ext.util.Region',Ext.Base,function(){var ExtUtil=Ext.util,constrainRe=/([^\?!]*)(!|\?)?$/,alignRe=/^(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br))(?:-(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br)))?$/i,LTROffsetFactors={l:0,r:100,t:0,b:100,c:50},RTLOffsetFactors={l:100,r:0,t:0,b:100,c:50},relativePositions={b:0,l:1,t:2,r:3},alignMap={'tl-tr':'l0-r0','tl-r':'l0-r50','bl-r':'l100-r50','bl-br':'l100-r100','tr-tl':'r0-l0','tr-l':'r0-l50','br-l':'r100-l50','br-bl':'r100-l100'},
rtlAlignMap={'tl-tr':'r0-l0','tl-r':'r0-l50','bl-r':'r100-l50','bl-br':'r100-l100','tr-tl':'l0-r0','tr-l':'l0-r50','br-l':'l100-r50','br-bl':'l100-r100'},adjustParams=[],zeroOffset=new ExtUtil.Offset(0,0),parseRegion=function(box){var Region=ExtUtil.Region,type=typeof box;if(null==box)return Region.EMPTY;if(box.isRegion)return box;if(box.isElement||1===box.nodeType)return this.getRegion(box);if('string'===type){box=box.split(' ');switch(box.length){case 1:box[1]=box[2]=box[3]=box[0];break;case 2:box[2]=
box[0];box[3]=box[1];break;case 3:box[3]=box[1]}var top=parseInt(box[0],10)||0;var right=parseInt(box[1],10)||0;var bottom=parseInt(box[2],10)||0;var left=parseInt(box[3],10)||0}else'number'===type?top=right=bottom=left=box:'number'===typeof box.x&&(top=box.y,left=box.x,'number'===typeof box.right?(right=box.right,bottom=box.bottom):(right=left+box.width,bottom=top+box.height));return new Region(top,right,bottom,left)},magnitude=[-1,1,1,-1],calculateAnchorPosition=function(target,result,relativePosition,
anchorSize,inside){var anchorWidth=Math.ceil(anchorSize.x),minOverlap=Math.ceil(anchorWidth/2)+3,isBefore;if((!inside||inside.intersect(target))&&null!=relativePosition){if(relativePosition&1){if(result.getHeight()<anchorWidth+4)return;var min=target.top+minOverlap-result.height;minOverlap=target.bottom-minOverlap-1;result.setPosition(result.x,Math.min(Math.max(result.y,min),minOverlap));min=result.top+2;minOverlap=result.bottom-(anchorWidth+2);var x=(isBefore=3===relativePosition)?result.right:result.left;
target=new ExtUtil.Region(Math.max(result.top,target.top),x,Math.min(result.bottom,target.bottom),x);anchorSize=(new ExtUtil.Region(0,0,0,0)).setWidth(anchorSize.y).setHeight(anchorWidth).alignTo({target,align:isBefore?'l-r':'r-l',overlap:!0});anchorSize.setPosition(anchorSize.x,Math.min(Math.max(anchorSize.y,min),minOverlap));anchorSize.position=isBefore?'right':'left'}else{if(result.getWidth()<anchorWidth+4)return;min=target.left+minOverlap-result.width;minOverlap=target.right-minOverlap-1;result.setPosition(Math.min(Math.max(result.x,
min),minOverlap),result.y);min=result.left+2;minOverlap=result.right-(anchorWidth+2);x=(isBefore=0===relativePosition)?result.bottom:result.top;target=new ExtUtil.Region(x,Math.min(result.right,target.right),x,Math.max(result.left,target.left));anchorSize=(new ExtUtil.Region(0,0,0,0)).setWidth(anchorWidth).setHeight(anchorSize.y).alignTo({target,align:isBefore?'t-b':'b-t',overlap:!0});anchorSize.setPosition(Math.min(Math.max(anchorSize.x,min),minOverlap),anchorSize.y);anchorSize.position=isBefore?
'bottom':'top'}if(!inside||inside.contains(anchorSize))result.anchor=anchorSize,result.anchor.align=relativePosition}},checkMinHeight=function(minHeight,result,target,inside){minHeight&&inside&&(result.top>=target.bottom&&result.bottom>inside.bottom?(result.setHeight(Math.max(result.getHeight()+inside.bottom-result.bottom,minHeight)),result.constrainHeight=!0):result.bottom<=target.top&&result.top<inside.top?(minHeight=Math.max(result.getHeight()+result.top-inside.top,minHeight),result.adjust(result.getHeight()-
minHeight),result.constrainHeight=!0):result.getHeight()>inside.getHeight()&&(result.setHeight(Math.max(minHeight,inside.getHeight())),result.setPosition(result.x,0),result.constrainHeight=!0))},checkMinWidth=function(minWidth,result,target,inside){minWidth&&inside&&(result.left>=target.right&&result.right>inside.right?(result.setWidth(Math.max(result.getWidth()+inside.right-result.right,minWidth)),result.constrainWidth=!0):result.right<=target.left&&result.left<inside.left?(minWidth=Math.max(result.getWidth()+
result.left-inside.left,minWidth),result.adjust(0,0,0,result.getWidth()-minWidth),result.constrainWidth=!0):result.getWidth()>inside.getWidth()&&(result.setWidth(Math.max(minWidth,inside.getWidth())),result.setPosition(0,result.y),result.constrainWidth=!0))};return{isRegion:!0,statics:{getRegion:function(el){return Ext.fly(el).getRegion()},from:function(o){return new this(o.top,o.right,o.bottom,o.left)},getAlignInfo:function(align,rtl){if('object'===typeof align)return align;align=align?0>align.indexOf('-')?
'tl-'+align:align:'tl-bl';var constrain=constrainRe.exec(align);align=constrain[1];align=(rtl?rtlAlignMap:alignMap)[align]||align;rtl=rtl?RTLOffsetFactors:LTROffsetFactors;align=alignRe.exec(align);constrain={myEdge:align[1],myOffset:align[2],otherEdge:align[4],otherOffset:align[5],constrain:constrain[2]};align[3]&&(constrain.myEdge=align[3][0],constrain.myOffset=rtl[align[3][1]],null==constrain.myOffset&&(constrain.myOffset=50));align[6]&&(constrain.otherEdge=align[6][0],constrain.otherOffset=rtl[align[6][1]],
null==constrain.otherOffset&&(constrain.otherOffset=50));constrain.position=relativePositions[constrain.myEdge];return constrain}},constructor:function(top,right,bottom,left){this.y=this.top=this[1]=top;this.right=right;this.bottom=bottom;this.x=this.left=this[0]=left;this.height=this.bottom-this.top;this.width=this.right-this.left},setPosition:function(x,y){1===arguments.length&&(y=x[1],x=x[0]);return this.translateBy(x-this.x,y-this.y)},contains:function(region){return region.x>=this.x&&(region.right||
region.x)<=this.right&&region.y>=this.y&&(region.bottom||region.y)<=this.bottom},intersect:function(region){var t=Math.max(this.y,region.y),r=Math.min(this.right,region.right),b=Math.min(this.bottom,region.bottom);region=Math.max(this.x,region.x);return b>t&&r>region?new this.self(t,r,b,region):!1},union:function(region){return new this.self(Math.min(this.y,region.y),Math.max(this.right,region.right),Math.max(this.bottom,region.bottom),Math.min(this.x,region.x))},constrainTo:function(targetRegion){var constrain=
Ext.Number.constrain;this.top=this.y=constrain(this.top,targetRegion.y,targetRegion.bottom);this.bottom=constrain(this.bottom,targetRegion.y,targetRegion.bottom);this.left=this.x=constrain(this.left,targetRegion.x,targetRegion.right);this.right=constrain(this.right,targetRegion.x,targetRegion.right);this.height=this.bottom-this.top;this.width=this.right-this.left;return this},adjust:function(top,right,bottom,left){this.top=this.y+=top||0;this.left=this.x+=left||0;this.right+=right||0;this.bottom+=
bottom||0;this.height=this.bottom-this.top;this.width=this.right-this.left;return this},getOutOfBoundOffset:function(axis,p){return Ext.isObject(axis)?(p=axis,axis=new ExtUtil.Offset,axis.x=this.getOutOfBoundOffsetX(p.x),axis.y=this.getOutOfBoundOffsetY(p.y),axis):'x'===axis?this.getOutOfBoundOffsetX(p):this.getOutOfBoundOffsetY(p)},getOutOfBoundOffsetX:function(p){return p<=this.x?this.x-p:p>=this.right?this.right-p:0},getOutOfBoundOffsetY:function(p){return p<=this.y?this.y-p:p>=this.bottom?this.bottom-
p:0},isOutOfBound:function(axis,p){return Ext.isObject(axis)?(p=axis,this.isOutOfBoundX(p.x)||this.isOutOfBoundY(p.y)):'x'===axis?this.isOutOfBoundX(p):this.isOutOfBoundY(p)},isOutOfBoundX:function(p){return p<this.x||p>this.right},isOutOfBoundY:function(p){return p<this.y||p>this.bottom},restrict:function(axis,p,factor){return Ext.isObject(axis)?(factor=p,p=axis,axis=p.copy?p.copy():{x:p.x,y:p.y},axis.x=this.restrictX(p.x,factor),axis.y=this.restrictY(p.y,factor),axis):'x'===axis?this.restrictX(p,
factor):this.restrictY(p,factor)},restrictX:function(p,factor){factor||(factor=1);p<=this.x?p-=(p-this.x)*factor:p>=this.right&&(p-=(p-this.right)*factor);return p},restrictY:function(p,factor){factor||(factor=1);p<=this.y?p-=(p-this.y)*factor:p>=this.bottom&&(p-=(p-this.bottom)*factor);return p},alignTo:function(options){var Region=this.self,Offset=ExtUtil.Offset,Element=Ext.Element,target=parseRegion(options.target),rtl=options.rtl,overlap=options.overlap,align=options.align,anchorSize=options.anchorSize,
offset=options.offset,inside=options.inside,position=options.position,allowXTranslate=options.allowXTranslate,allowYTranslate=options.allowYTranslate;offset&&(offset=Offset.fromObject(offset));anchorSize&&(anchorSize=Offset.fromObject(anchorSize));inside&&!inside.isRegion&&(inside=Ext.getDom(inside)===document.body?new Region(0,Element.getDocumentWidth(),Element.getDocumentHeight(),0):Ext.fly(inside).getRegion());if(position)2===position.length&&(position=new ExtUtil.Point(position[0],position[1])),
Region=(new Region).copyFrom(this).setPosition(position.x,position.y);else{align=this.getAlignInfo(align,rtl);inside&&(target.x>=inside.right?(target.setPosition(inside.right-1,target.y),3!==align.position&&(align=this.getAlignInfo('r-l',rtl))):target.right<inside.x&&(target.setPosition(inside.x-target.getWidth()+1,target.y),1!==align.position&&(align=this.getAlignInfo('l-r',rtl))),target.y>=inside.bottom?(target.setPosition(target.x,inside.bottom-1),0!==align.position&&(align=this.getAlignInfo('b-t',
rtl))):target.bottom<inside.y&&(target.setPosition(target.x,inside.y-target.getHeight()+1),2!==align.position&&(align=this.getAlignInfo('t-b',rtl))));if(anchorSize){var targetPlusAnchorOffset=target;overlap=anchorSize;Offset=align.position;null!=Offset&&overlap&&(adjustParams[0]=adjustParams[1]=adjustParams[2]=adjustParams[3]=0,adjustParams[Offset]=overlap.y*magnitude[Offset],targetPlusAnchorOffset=ExtUtil.Region.from(targetPlusAnchorOffset),targetPlusAnchorOffset.adjust.apply(targetPlusAnchorOffset,
adjustParams))}else targetPlusAnchorOffset=target;Region=Region.from(this).translateBy(this.getAlignToVector(targetPlusAnchorOffset,align));overlap=!!Region.intersect(targetPlusAnchorOffset);!offset||!overlap&&anchorSize||Region.translateBy(offset);anchorSize&&calculateAnchorPosition(target,Region,align.position,anchorSize,inside)}if(inside){Offset=Region.copy();if(Region.left<inside.left){Region.translateBy(inside.left-Region.left,0);var wasConstrained=!0}Region.right>inside.right&&Region.left>inside.left&&
(Region.translateBy(inside.right-Region.right,0),wasConstrained=!0);Region.top<inside.top&&(Region.translateBy(0,inside.top-Region.top),wasConstrained=!0);Region.bottom>inside.bottom&&Region.top>inside.top&&(Region.translateBy(0,inside.bottom-Region.bottom),wasConstrained=!0);wasConstrained&&!overlap&&(Region.anchor=null,options.axisLock&&(align.position&1?allowYTranslate=!1:allowXTranslate=!1),position?Region.contains(position)&&position.exclude(Region,{inside,centerOnSideChange:!1}):(position=Region.copy(),
Region.intersect(targetPlusAnchorOffset)?align.position=target.exclude(Region,{initialPosition:Offset,defaultPosition:align.position,inside,minHeight:options.minHeight,minWidth:options.minWidth,allowX:allowXTranslate,allowY:allowYTranslate,offset,anchorHeight:anchorSize?anchorSize.y:0,centerOnSideChange:!!anchorSize}):options.minWidth&&Region.getWidth()>inside.getWidth()?(Region.setPosition(0,Region.y),Region.setWidth(Math.max(inside.getWidth(),options.minWidth)),Region.constrainWidth=!0):options.minHeight&&
Region.getHeight()>inside.getHeight()&&(Region.setPosition(Region.x,0),Region.setHeight(Math.max(inside.getHeight(),options.minHeight)),Region.constrainHeight=!0),Region.align=align,inside.contains(Region)?anchorSize&&calculateAnchorPosition(target,Region,align.position,anchorSize,inside):Region=position))}return Region},exclude:function(other,options){options=options||{};var initialPosition=options.initialPosition||other,inside=options.inside,defaultPosition=options.defaultPosition,centerOnSideChange=
options.centerOnSideChange,minHeight=options.minHeight,minWidth=options.minWidth,allowX=!1!==options.allowX,allowY=!1!==options.allowY,anchorHeight=options.anchorHeight,offset=options.offset,translations=[],sizeConstrainedSolution,intersection;offset||(offset=zeroOffset);allowY?(translations.push([0,this.top-other.bottom-anchorHeight+offset.y,'b-t',0,Math.abs(this.top-initialPosition.bottom-anchorHeight+offset.y)]),translations.push([0,this.bottom-other.top+anchorHeight+offset.y,'t-b',2,Math.abs(this.bottom-
initialPosition.top+anchorHeight+offset.y)])):centerOnSideChange=!1;allowX?(translations.push([this.left-other.right-anchorHeight+offset.x,0,'r-l',3,Math.abs(this.left-initialPosition.right-anchorHeight+offset.x)]),translations.push([this.right-other.left+anchorHeight+offset.x,0,'l-r',1,Math.abs(this.right-initialPosition.left+anchorHeight+offset.x)])):centerOnSideChange=!1;Ext.Array.sort(translations,function(l,r){var result=l[4]-r[4];if(!result){if(l[3]===defaultPosition)return-1;if(r[3]===defaultPosition)return 1}return result});
if(inside){for(allowY=0;allowY<translations.length;allowY++){allowX=translations[allowY];initialPosition=ExtUtil.Region.from(other);initialPosition.translateBy.apply(initialPosition,allowX);if(inside.contains(initialPosition)){other.copyFrom(initialPosition);var result$jscomp$0={align:allowX[2],position:allowX[3],distance:allowX[4]};break}minHeight&&(checkMinHeight(minHeight,initialPosition,this,inside),inside.contains(initialPosition)&&(!sizeConstrainedSolution||initialPosition.getArea()>sizeConstrainedSolution.region.getArea())&&
(sizeConstrainedSolution={region:initialPosition,align:allowX[2],position:allowX[3],distance:allowX[4]}));minWidth&&(checkMinWidth(minWidth,initialPosition,this,inside),inside.contains(initialPosition)&&(!sizeConstrainedSolution||initialPosition.getArea()>sizeConstrainedSolution.region.getArea())&&(sizeConstrainedSolution={region:initialPosition,align:allowX[2],position:allowX[3],distance:allowX[4]}));if(intersection=inside.intersect(initialPosition))if(intersection=intersection.getArea(),!leastBadSolution||
intersection&&leastBadSolution.area<intersection)var leastBadSolution={region:initialPosition,align:allowX[2],position:allowX[3],distance:allowX[4],area:intersection}}result$jscomp$0||(sizeConstrainedSolution?(other.copyFrom(sizeConstrainedSolution.region),result$jscomp$0=sizeConstrainedSolution,other.constrainWidth=sizeConstrainedSolution.region.constrainWidth,other.constrainHeight=sizeConstrainedSolution.region.constrainHeight):leastBadSolution&&(other.copyFrom(leastBadSolution.region),result$jscomp$0=
leastBadSolution));if(result$jscomp$0)return(result$jscomp$0.position&1)!==(defaultPosition&1)&&result$jscomp$0.distance&&centerOnSideChange&&(allowX=other.alignTo({align:result$jscomp$0.align,target:this,anchorSize:anchorHeight,offset,axisLock:!0,inside,minHeight:options.minHeight,minWidth:options.minWidth}),inside.contains(allowX)&&other.setPosition(allowX.x,allowX.y)),result$jscomp$0.position}else return other.translateBy.apply(other,translations[0]),translations[0][3];return defaultPosition},
getAlignToXY:function(target,align,rtl){target=this.getAlignToVector(target,align,rtl);return[this.x+target[0],this.y+target[1]]},getAnchorPoint:function(align,rtl){align='string'===typeof align?this.getAlignInfo(align+'-tl',rtl):align;return this['getAnchorPoint_'+align.myEdge](align.myOffset)},getAlignToVector:function(target,align,rtl){align='string'===typeof align?this.getAlignInfo(align,rtl):align;rtl=this['getAnchorPoint_'+align.myEdge](align.myOffset);target=target['getAnchorPoint_'+align.otherEdge](align.otherOffset);
return[target[0]-rtl[0],target[1]-rtl[1]]},getAnchorPoint_t:function(offset){return[this.x+Math.round(this.getWidth()*(offset/100)),this.y]},getAnchorPoint_b:function(offset){return[this.x+Math.round(this.getWidth()*(offset/100)),this.bottom]},getAnchorPoint_l:function(offset){return[this.x,this.y+Math.round(this.getHeight()*(offset/100))]},getAnchorPoint_r:function(offset){return[this.right,this.y+Math.round(this.getHeight()*(offset/100))]},getAnchorPoint_c:function(){return[this.x+Math.round(this.getWidth()/
2),this.y+Math.round(this.getHeight()/2)]},getCenter:function(){return[this.x+this.width/2,this.y+this.height/2]},getHeight:function(){return this.bottom-this.y},getWidth:function(){return this.right-this.x},getArea:function(){return this.getHeight()*this.getWidth()},setHeight:function(h){this.height=h;this.bottom=this.top+h;return this},setWidth:function(w){this.width=w;this.right=this.left+w;return this},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},setSize:function(w,
h){void 0===h&&(h=w);this.setWidth(w);return this.setHeight(h)},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(p){this.top=this.y=this[1]=p.y;this.right=p.right;this.bottom=p.bottom;this.left=this.x=this[0]=p.x;return this},toString:function(){return'Region['+this.top+','+this.right+','+this.bottom+','+this.left+']'},translateBy:function(x,y){x.length?(y=x[1],x=x[0]):1===arguments.length&&(y=x.y,x=x.x);this.top=this.y+=y;this.right+=x;this.bottom+=y;
this.left=this.x+=x;return this},round:function(){this.top=this.y=Math.round(this.y);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=this.x=Math.round(this.x);return this},equals:function(region){return this.top===region.top&&this.right===region.right&&this.bottom===region.bottom&&this.left===region.left},getOffsetsTo:function(offsetsTo){return{x:this.x-offsetsTo.x,y:this.y-offsetsTo.y}}}},3,0,0,0,0,0,[Ext.util,'Region'],function(Region){Region.prototype.getAlignInfo=
Region.getAlignInfo;Region.EMPTY=new Region(0,0,0,0)});
Ext.cmd.derive('Ext.util.Point',Ext.util.Region,{isPoint:!0,radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(e){var changedTouches=e.changedTouches;return this.fromTouch(changedTouches&&0<changedTouches.length?changedTouches[0]:e)},fromTouch:function(touch){return new this(touch.pageX,touch.pageY)},from:function(object){return object?object instanceof this?object:new this(object.x,object.y):new this(0,0)}},constructor:function(x,y){null==x&&(x=0);null==y&&(y=0);Ext.util.Region.prototype.constructor.call(this,
y,x,y,x)},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(point){this.x=point.x;this.y=point.y;return this},toString:function(){return'Point['+this.x+','+this.y+']'},equals:function(point){return this.x===point.x&&this.y===point.y},isCloseTo:function(point,threshold){if('number'===typeof threshold)return this.getDistanceTo(point)<=threshold;var x=point.x;point=point.y;var thresholdX=threshold.x;threshold=threshold.y;
return this.x<=x+thresholdX&&this.x>=x-thresholdX&&this.y<=point+threshold&&this.y>=point-threshold},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(region){region instanceof Ext.util.Region||(region=Ext.get(region.el||region).getRegion());return region.contains(this)},roundedEquals:function(point){point&&'object'===typeof point||(point=this.origin);return Math.round(this.x)===Math.round(point.x)&&Math.round(this.y)===Math.round(point.y)},getDistanceTo:function(point){point&&
'object'===typeof point||(point=this.origin);var deltaX=this.x-point.x;point=this.y-point.y;return Math.sqrt(deltaX*deltaX+point*point)},getAngleTo:function(point){point&&'object'===typeof point||(point=this.origin);return Math.atan2(this.y-point.y,this.x-point.x)*this.radianToDegreeConstant}},3,0,0,0,0,0,[Ext.util,'Point'],function(){this.prototype.translate=this.prototype.translateBy});
Ext.cmd.derive('Ext.event.Event',Ext.Base,{alternateClassName:'Ext.EventObjectImpl',stopped:!1,claimed:!1,defaultPrevented:!1,isEvent:!0,geckoRelatedTargetEvents:{blur:1,dragenter:1,dragleave:1,focus:1},statics:{resolveTextNode:function(node){return node&&3===node.nodeType?node.parentNode:node},gestureEvents:{},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,
MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,focusin:1,focusenter:1},blurEvents:{blur:1,focusout:1,focusleave:1},wheelEvents:{wheel:1},pointerTypeMap:{2:'touch',3:'pen',4:'mouse',touch:'touch',pen:'pen',mouse:'mouse'},keyEventRe:/^key/,keyFlags:{CTRL:'ctrlKey',CONTROL:'ctrlKey',
ALT:'altKey',SHIFT:'shiftKey',CMD:'metaKey',COMMAND:'metaKey',CMDORCTRL:Ext.isMac?'metaKey':'ctrlKey',COMMANDORCONTROL:Ext.isMac?'metaKey':'ctrlKey',META:'metaKey'},modifierGlyphs:{ctrlKey:'⌃',altKey:'⌥',metaKey:Ext.isMac?'⌘':'⊞',shiftKey:'⇧'},specialKeyGlyphs:{BACKSPACE:'⌫',TAB:'⇥',ENTER:'⏎',RETURN:'⏎',SPACE:'␣',PAGE_UP:'⇞',PAGE_DOWN:'⇟',END:'⇲',HOME:'⌂',LEFT:'←',UP:'↑',RIGHT:'→',DOWN:'↓',PRINT_SCREEN:'⎙',INSERT:'⎀',DELETE:'⌦',CONTEXT_MENU:'☰'},_hyphenRe:/^[a-z]+\-/i,getKeyId:function(keyName){keyName=
'number'===typeof keyName?this.keyCodes[keyName]:keyName.toUpperCase();var delim=this._hyphenRe.test(keyName)?'-':'+';keyName=keyName===delim?[delim]:keyName.split(delim);delim=keyName.length-1;var rawKey=keyName[delim],result=[],i;for(i=0;i<delim;i++){var eventFlag=this.keyFlags[keyName[i]];result[eventFlag]=!0}result.ctrlKey&&result.push(this.modifierGlyphs.ctrlKey);result.altKey&&result.push(this.modifierGlyphs.altKey);result.shiftKey&&result.push(this.modifierGlyphs.shiftKey);result.metaKey&&
result.push(this.modifierGlyphs.metaKey);result.push(this.specialKeyGlyphs[rawKey]||rawKey);return result.join('')},globalTabKeyDown:function(e){9===e.keyCode&&(Ext.event.Event.forwardTab=!e.shiftKey)},globalTabKeyUp:function(e){9===e.keyCode&&delete Ext.event.Event.forwardTab}},constructor:function(event){var self=this.self,resolveTextNode=this.self.resolveTextNode,changedTouches=event.changedTouches,coordinateOwner=changedTouches?changedTouches[0]:event;changedTouches=event.type;var pointerType;
this.timeStamp=this.time=Ext.ticks();this.pageX=coordinateOwner.pageX;this.pageY=coordinateOwner.pageY;this.clientX=coordinateOwner.clientX;this.clientY=coordinateOwner.clientY;this.target=this.delegatedTarget=resolveTextNode(event.target);this.currentTarget=resolveTextNode(event.currentTarget);if(coordinateOwner=event.relatedTarget)if(Ext.isGecko&&this.geckoRelatedTargetEvents[changedTouches])try{this.relatedTarget=resolveTextNode(coordinateOwner)}catch(e){this.relatedTarget=null}else this.relatedTarget=
resolveTextNode(coordinateOwner);this.browserEvent=this.event=event;this.type=changedTouches;this.button=event.button||0;this.shiftKey=event.shiftKey;this.ctrlKey=event.ctrlKey||event.metaKey||!1;this.altKey=event.altKey;this.charCode=event.charCode;this.keyCode=event.keyCode;this.buttons=event.buttons;0===this.button&&0===this.buttons&&(this.buttons=1);self.focusEvents[changedTouches]||self.blurEvents[changedTouches]?(void 0!==self.forwardTab&&(this.forwardTab=self.forwardTab),self.focusEvents[changedTouches]?
(this.fromElement=event.relatedTarget,this.toElement=event.target):(this.fromElement=event.target,this.toElement=event.relatedTarget)):'keydown'!==changedTouches&&delete self.forwardTab;self.mouseEvents[changedTouches]?pointerType='mouse':self.clickEvents[changedTouches]?pointerType=self.pointerTypeMap[event.pointerType]||(1E3>Ext.now()-Ext.event.publisher.Dom.lastTouchEndTime?'touch':'mouse'):self.pointerEvents[changedTouches]?pointerType=self.pointerTypeMap[event.pointerType]||'mouse':self.touchEvents[changedTouches]&&
(pointerType='touch');pointerType&&(this.pointerType=pointerType);this.isMultitouch=!1===event.isPrimary||event.touches&&1<event.touches.length;self.wheelEvents[changedTouches]&&this.getWheelDeltas()},chain:function(props){var e=Ext.Object.chain(this);e.parentEvent=this;return Ext.apply(e,props)},correctWheelDelta:function(delta){var deltaMode=this.browserEvent.deltaMode,correctedDelta=delta;0===deltaMode?correctedDelta=delta*this.WHEEL_PIXEL_SIZE:1===deltaMode?correctedDelta=delta*this.WHEEL_LINE_SIZE:
2===deltaMode&&(correctedDelta=delta*this.WHEEL_PAGE_SIZE);return Math.round(correctedDelta)},getChar:function(){var r=this.which();return String.fromCharCode(r)},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getKeyName:function(){return'keypress'===this.type?String.fromCharCode(this.getCharCode()):this.keyCodes[this.keyCode]},key:function(){return this.browserEvent.key},which:function(){var e=this.browserEvent,r=e.which;null==r&&
(this.self.keyEventRe.test(e.type)?r=e.charCode||e.keyCode:void 0!==(r=e.button)&&(r=r&1?1:r&4?2:r&2?3:0));return r},getClipboardData:function(type){var clipboardData=this.browserEvent.clipboardData,clipIE=Ext.global.clipboardData,result=null;type=type||'text/plain';clipboardData&&clipboardData.getData?result=clipboardData.getData(type):clipIE&&clipIE.getData&&(type=this.ieMimeType[type])&&(result=clipIE.getData(type));return result},getPoint:function(){var point=this.point;point||(point=this.getXY(),
point=this.point=new Ext.util.Point(point[0],point[1]));return point},getRelatedTarget:function(selector,maxDepth,returnEl){var relatedTarget=this.relatedTarget,target=null;relatedTarget&&relatedTarget.nodeType&&(target=selector?Ext.fly(relatedTarget).findParent(selector,maxDepth,returnEl):returnEl?Ext.get(relatedTarget):relatedTarget);return target},getTarget:function(selector,maxDepth,returnEl){return selector?Ext.fly(this.target).findParent(selector,maxDepth,returnEl):returnEl?Ext.get(this.target):
this.target},getTime:function(){return this.time},getWheelDelta:function(){return this.getWheelDeltas().y},getWheelDeltas:function(){var wheelDeltas=this.wheelDeltas;if(!wheelDeltas){wheelDeltas=this.browserEvent;var deltaX=this.correctWheelDelta(wheelDeltas.deltaX||0);var deltaY=wheelDeltas.deltaY;deltaY=this.correctWheelDelta(null==deltaY?-wheelDeltas.wheelDelta:deltaY);this.deltaX=deltaX;this.deltaY=deltaY;this.wheelDeltas=wheelDeltas={x:deltaX,y:deltaY}}return wheelDeltas},getX:function(){return this.getXY()[0]},
getXY:function(){var xy=this.xy;if(!xy){xy=this.xy=[this.pageX,this.pageY];var x=xy[0];if(!x&&0!==x){x=this.browserEvent;var doc=document;var docEl=doc.documentElement;doc=doc.body;xy[0]=x.clientX+(docEl&&docEl.scrollLeft||doc&&doc.scrollLeft||0)-(docEl&&docEl.clientLeft||doc&&doc.clientLeft||0);xy[1]=x.clientY+(docEl&&docEl.scrollTop||doc&&doc.scrollTop||0)-(docEl&&docEl.clientTop||doc&&doc.clientTop||0)}}return xy},getLocalXY:function(clip){var pageXY=this.getXY(),targetXY=Ext.fly(this.currentTarget).getXY(),
localX=pageXY[0]-targetXY[0];pageXY=pageXY[1]-targetXY[1];clip&&(clip=Ext.fly(this.currentTarget).getSize(),localX=Math.max(0,Math.min(localX,clip.width)),pageXY=Math.max(0,Math.min(pageXY,clip.height)));return[localX,pageXY]},getY:function(){return this.getXY()[1]},hasModifier:function(){return!!(this.ctrlKey||this.altKey||this.shiftKey||this.metaKey)},isNavKeyPress:function(scrollableOnly){var k=this.keyCode;return('keypress'!==this.type||Ext.isGecko)&&33<=k&&40>=k||!scrollableOnly&&(k===this.RETURN||
k===this.TAB||k===this.ESC)},isSpecialKey:function(){var k=this.keyCode,isGecko=Ext.isGecko,isKeyPress='keypress'===this.type;return isGecko&&isKeyPress&&0===this.charCode||this.isNavKeyPress()||k===this.BACKSPACE||k===this.ENTER||16<=k&&20>=k||(!isKeyPress||isGecko)&&44<=k&&46>=k},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){var parentEvent=this.parentEvent;this.defaultPrevented=!0;parentEvent&&(parentEvent.defaultPrevented=!0);this.browserEvent.preventDefault();
return this},setCurrentTarget:function(target){this.currentTarget=this.delegatedTarget=target},stopEvent:function(){return this.preventDefault().stopPropagation()},mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},mouseupEvents:{mouseup:1,pointerup:1,touchend:1},stopPropagation:function(){var browserEvent=this.browserEvent,parentEvent=this.parentEvent;this.mousedownEvents[this.type]&&Ext.GlobalEvents.fireMouseDown(this);this.mouseupEvents[this.type]&&Ext.GlobalEvents.fireMouseUp(this);this.stopped=
!0;parentEvent&&!this.isGesture&&(parentEvent.stopped=!0);if(!browserEvent.stopPropagation)return browserEvent.cancelBubble=!0,this;browserEvent.stopPropagation();return this},claimGesture:function(){var parentEvent=this.parentEvent;this.claimed=!0;parentEvent&&!this.isGesture?parentEvent.claimGesture():this.preventDefault();return this},within:function(el,related,allowEl){var t;el&&(t=related?this.getRelatedTarget():this.getTarget());return!t||!1===allowEl&&t===Ext.getDom(el)?!1:Ext.fly(el).contains(t)},
privates:{ieMimeType:{'text/plain':'Text'}},deprecated:{'4.0':{methods:{getPageX:'getX',getPageY:'getY'}}}},1,0,0,0,0,0,[Ext.event,'Event',Ext,'EventObjectImpl'],function(Event){var constants={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,
C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_PIXEL_SIZE:1,WHEEL_LINE_SIZE:20,WHEEL_PAGE_SIZE:600},keyCodes=
{},gestureEvents=Event.gestureEvents,prototype=Event.prototype,keyName,keys;Ext.apply(gestureEvents,Event.mouseEvents);Ext.apply(gestureEvents,Event.pointerEvents);Ext.apply(gestureEvents,Event.touchEvents);Ext.apply(Event,constants);Ext.apply(prototype,constants);delete constants.RETURN;for(keyName in constants)gestureEvents=constants[keyName],keyCodes[gestureEvents]=keyName;Event.keyCodes=prototype.keyCodes=keyCodes;Ext.isIE9m||(document.addEventListener('keydown',Event.globalTabKeyDown,!0),document.addEventListener('keyup',
Event.globalTabKeyUp,!0));prototype.getTrueXY=prototype.getXY;if('undefined'!==typeof KeyboardEvent&&!('key'in KeyboardEvent.prototype)){prototype._keys=keys={3:'Cancel',6:'Help',8:'Backspace',9:'Tab',12:'Clear',13:'Enter',16:'Shift',17:'Control',18:'Alt',19:'Pause',20:'CapsLock',27:'Escape',28:'Convert',29:'NonConvert',30:'Accept',31:'ModeChange',32:' ',33:'PageUp',34:'PageDown',35:'End',36:'Home',37:'ArrowLeft',38:'ArrowUp',39:'ArrowRight',40:'ArrowDown',41:'Select',42:'Print',43:'Execute',44:'PrintScreen',
45:'Insert',46:'Delete',48:['0',')'],49:['1','!'],50:['2','@'],51:['3','#'],52:['4','$'],53:['5','%'],54:['6','^'],55:['7','\x26'],56:['8','*'],57:['9','('],91:'OS',93:'ContextMenu',144:'NumLock',145:'ScrollLock',181:'VolumeMute',182:'VolumeDown',183:'VolumeUp',186:[';',':'],187:['\x3d','+'],188:[',','\x3c'],189:['-','_'],190:['.','\x3e'],191:['/','?'],192:['`','~'],219:['[','{'],220:['\\','|'],221:[']','}'],222:["'",'"'],224:'Meta',225:'AltGraph',246:'Attn',247:'CrSel',248:'ExSel',249:'EraseEof',
250:'Play',251:'ZoomOut'};for(Event=1;25>Event;++Event)keys[Event+111]='F'+Event;for(Event=0;26>Event;++Event)keys[Event]=[String.fromCharCode(Event+97),String.fromCharCode(Event+65)];prototype.key=function(){var k=keys[this.browserEvent.which||this.keyCode];k&&'string'!==typeof k&&(k=k[+this.shiftKey]);return k}}});
Ext.define('Ext.overrides.event.Event',{override:'Ext.event.Event',injectEvent:function(){function createMouseEventDispatcher(type,detail){var cancelable='mousemove'!==type;return function(targetEl,srcEvent){var xy=srcEvent.getXY();srcEvent=API.createMouseEvent(targetEl.ownerDocument,type,!0,cancelable,detail,xy[0],xy[1],srcEvent.ctrlKey,srcEvent.altKey,srcEvent.shiftKey,srcEvent.metaKey,srcEvent.button,srcEvent.relatedTarget);API.fireEvent(targetEl,type,srcEvent)}}function cannotInject(target,srcEvent){}
var dispatchers={};if(!Ext.isIE9m&&document.createEvent)var API={createHtmlEvent:function(doc,type,bubbles,cancelable){doc=doc.createEvent('HTMLEvents');doc.initEvent(type,bubbles,cancelable);return doc},createMouseEvent:function(doc,type,bubbles,cancelable,detail,clientX,clientY,ctrlKey,altKey,shiftKey,metaKey,button,relatedTarget){var event=doc.createEvent('MouseEvents'),view=doc.defaultView||window;event.initMouseEvent?event.initMouseEvent(type,bubbles,cancelable,view,detail,clientX,clientY,clientX,
clientY,ctrlKey,altKey,shiftKey,metaKey,button,relatedTarget):(event=doc.createEvent('UIEvents'),event.initEvent(type,bubbles,cancelable),event.view=view,event.detail=detail,event.screenX=clientX,event.screenY=clientY,event.clientX=clientX,event.clientY=clientY,event.ctrlKey=ctrlKey,event.altKey=altKey,event.metaKey=metaKey,event.shiftKey=shiftKey,event.button=button,event.relatedTarget=relatedTarget);return event},createUIEvent:function(doc,type,bubbles,cancelable,detail){var event=doc.createEvent('UIEvents');
event.initUIEvent(type,bubbles,cancelable,doc.defaultView||window,detail);return event},fireEvent:function(target,type,event){target.dispatchEvent(event)}};else if(document.createEventObject){var crazyIEButtons={0:1,1:4,2:2};API={createHtmlEvent:function(doc,type,bubbles,cancelable){doc=doc.createEventObject();doc.bubbles=bubbles;doc.cancelable=cancelable;return doc},createMouseEvent:function(doc,type,bubbles,cancelable,detail,clientX,clientY,ctrlKey,altKey,shiftKey,metaKey,button,relatedTarget){doc=
doc.createEventObject();doc.bubbles=bubbles;doc.cancelable=cancelable;doc.detail=detail;doc.screenX=clientX;doc.screenY=clientY;doc.clientX=clientX;doc.clientY=clientY;doc.ctrlKey=ctrlKey;doc.altKey=altKey;doc.shiftKey=shiftKey;doc.metaKey=metaKey;doc.button=crazyIEButtons[button]||button;doc.relatedTarget=relatedTarget;return doc},createUIEvent:function(doc,type,bubbles,cancelable,detail){doc=doc.createEventObject();doc.bubbles=bubbles;doc.cancelable=cancelable;return doc},fireEvent:function(target,
type,event){target.fireEvent('on'+type,event)}}}Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(name,value){var bubbles=value[0],cancelable=value[1];dispatchers[name]=function(targetEl,srcEvent){srcEvent=API.createHtmlEvent(name,bubbles,cancelable);API.fireEvent(targetEl,name,srcEvent)}});Ext.each('click dblclick mousedown mouseup mouseover mousemove mouseout'.split(' '),function(eventName){dispatchers[eventName]=
createMouseEventDispatcher(eventName,1)});Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(name,value){var bubbles=value[0],cancelable=value[1];dispatchers[name]=function(targetEl,srcEvent){srcEvent=API.createUIEvent(targetEl.ownerDocument,name,bubbles,cancelable,1);API.fireEvent(targetEl,name,srcEvent)}});API||(dispatchers={},API={});return function(target){var dispatcher=dispatchers[this.type]||cannotInject;target=target?target.dom||target:
this.getTarget();dispatcher(target,this)}}(),preventDefault:function(browserOnly){var event=this.browserEvent,parentEvent=this.parentEvent;if('unknown'!==typeof event.type)if(browserOnly||(this.defaultPrevented=!0),parentEvent&&(parentEvent.defaultPrevented=!0),event.preventDefault)event.preventDefault();else{if('mousedown'===event.type){var target=event.target;var unselectable=target.getAttribute('unselectable');'on'!==unselectable&&(target.setAttribute('unselectable','on'),Ext.defer(function(){target.setAttribute('unselectable',
unselectable)},1))}event.returnValue=!1;if(event.ctrlKey||111<event.keyCode&&124>event.keyCode)event.keyCode=-1}return this},deprecated:{'5.0':{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){if(Ext.isIE9m){var btnMap={0:0,1:0,4:1,2:2};this.override({statics:{enableIEAsync:function(browserEvent){var name,fakeEvent={};for(name in browserEvent)fakeEvent[name]=browserEvent[name];return fakeEvent}},constructor:function(event,info,touchesMap,identifiers){this.callParent([event,
info,touchesMap,identifiers]);this.button=btnMap[event.button];'contextmenu'===event.type&&(this.button=2);this.toElement=event.toElement;this.fromElement=event.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(browserEvent){this.browserEvent=this.self.enableIEAsync(browserEvent)},getRelatedTarget:function(selector,maxDepth,returnEl){if(!this.relatedTarget){var type=this.type;if(this.mouseLeaveRe.test(type))var target=this.toElement;else this.mouseEnterRe.test(type)&&
(target=this.fromElement);target&&(this.relatedTarget=this.self.resolveTextNode(target))}return this.callParent([selector,maxDepth,returnEl])}});document.attachEvent('onkeydown',Ext.event.Event.globalTabKeyDown);document.attachEvent('onkeyup',Ext.event.Event.globalTabKeyUp);window.attachEvent('onunload',function(){document.detachEvent('onkeydown',Ext.event.Event.globalTabKeyDown);document.detachEvent('onkeyup',Ext.event.Event.globalTabKeyUp)})}});
Ext.cmd.derive('Ext.event.publisher.Dom',Ext.event.publisher.Publisher,{type:'dom',handledDomEvents:[],reEnterCount:0,captureEvents:{animationstart:1,animationend:1,resize:1,focus:1,blur:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1,scroll:1,online:1,offline:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,
MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var supportsPassive=Ext.supports.PassiveEventListener;this.listenerOptions=supportsPassive?{passive:!1}:!1;this.captureOptions=supportsPassive?{passive:!1,capture:!0}:!0;this.bubbleSubscribers={};this.captureSubscribers={};this.directSubscribers={};this.directCaptureSubscribers={};this.delegatedListeners={};this.initHandlers();Ext.onInternalReady(this.onReady,this);
Ext.event.publisher.Publisher.prototype.constructor.call(this);this.registerDomEvents()},registerDomEvents:function(){var publishersByEvent=Ext.event.publisher.Publisher.publishersByEvent,domEvents=this.handledDomEvents,ln=domEvents.length,i;for(i=0;i<ln;i++){var eventName=domEvents[i];this.handles[eventName]=1;publishersByEvent[eventName]=this}},onReady:function(){var domEvents=this.handledDomEvents,ln;if(domEvents){var i=0;for(ln=domEvents.length;i<ln;i++)this.addDelegatedListener(domEvents[i])}Ext.getWin().on('unload',
this.destroy,this,{priority:-1E4})},initHandlers:function(){this.onDelegatedEvent=Ext.bind(this.onDelegatedEvent,this);this.onDirectEvent=Ext.bind(this.onDirectEvent,this);this.onDirectCaptureEvent=Ext.bind(this.onDirectCaptureEvent,this)},addDelegatedListener:function(eventName){this.delegatedListeners[eventName]=1;this.target.addEventListener(eventName,this.onDelegatedEvent,this.captureEvents[eventName]?this.captureOptions:this.listenerOptions)},removeDelegatedListener:function(eventName){delete this.delegatedListeners[eventName];
this.target.removeEventListener(eventName,this.onDelegatedEvent,this.captureEvents[eventName]?this.captureOptions:this.listenerOptions)},addDirectListener:function(eventName,element,capture){element.dom.addEventListener(eventName,capture?this.onDirectCaptureEvent:this.onDirectEvent,capture?this.captureOptions:this.listenerOptions)},removeDirectListener:function(eventName,element,capture){element.dom.removeEventListener(eventName,capture?this.onDirectCaptureEvent:this.onDirectEvent,capture?this.captureOptions:
this.listenerOptions)},subscribe:function(element,eventName,delegated,capture){if(delegated&&!this.directEvents[eventName])delegated=capture?this.captureSubscribers:this.bubbleSubscribers,this.handles[eventName]||this.delegatedListeners[eventName]||this.addDelegatedListener(eventName),delegated[eventName]?++delegated[eventName]:delegated[eventName]=1;else{delegated=capture?this.directCaptureSubscribers:this.directSubscribers;var id=element.id;delegated=delegated[eventName]||(delegated[eventName]=
{});delegated[id]?++delegated[id]:(delegated[id]=1,this.addDirectListener(eventName,element,capture))}},unsubscribe:function(element,eventName,delegated,capture){if(delegated&&!this.directEvents[eventName]){element=this.captureSubscribers;var bubbleSubscribers=this.bubbleSubscribers;delegated=capture?element:bubbleSubscribers;delegated[eventName]&&--delegated[eventName];this.handles[eventName]||bubbleSubscribers[eventName]||element[eventName]||this.removeDelegatedListener(eventName)}else delegated=
capture?this.directCaptureSubscribers:this.directSubscribers,bubbleSubscribers=element.id,delegated=delegated[eventName],delegated[bubbleSubscribers]&&--delegated[bubbleSubscribers],delegated[bubbleSubscribers]||(delete delegated[bubbleSubscribers],this.removeDirectListener(eventName,element,capture))},getPropagatingTargets:function(target){for(var targets=[],parentNode;target;)targets.push(target),parentNode=target.parentNode,parentNode||(parentNode=target.defaultView),target=parentNode;return targets},
publish:function(e,targets,claimed){var hasCaptureSubscribers=!1,hasBubbleSubscribers=!1,type,i;claimed=claimed||!1;targets||(targets=e.target,targets=this.captureEvents[e.type]?(type=Ext.cache[targets.id])?[type]:[]:this.getPropagatingTargets(targets));var events=Ext.Array.from(e);var ln=targets.length;var eLn=events.length;for(i=0;i<eLn;i++)type=events[i].type,!hasCaptureSubscribers&&this.captureSubscribers[type]&&(hasCaptureSubscribers=!0),!hasBubbleSubscribers&&this.bubbleSubscribers[type]&&(hasBubbleSubscribers=
!0);if(hasCaptureSubscribers)for(i=ln;i--;)if(type=Ext.cache[targets[i].id])for(hasCaptureSubscribers=0;hasCaptureSubscribers<eLn;hasCaptureSubscribers++)e=events[hasCaptureSubscribers],this.fire(type,e.type,e,!1,!0),!claimed&&e.claimed&&(claimed=!0,hasCaptureSubscribers=this.filterClaimed(events,e),eLn=events.length),e.stopped&&(events.splice(hasCaptureSubscribers,1),hasCaptureSubscribers--,eLn--);if(hasBubbleSubscribers&&!e.stopped)for(i=0;i<ln;i++)if(type=Ext.cache[targets[i].id])for(hasCaptureSubscribers=
0;hasCaptureSubscribers<eLn;hasCaptureSubscribers++)e=events[hasCaptureSubscribers],this.fire(type,e.type,e,!1,!1),!claimed&&e.claimed&&this.filterClaimed&&(claimed=!0,hasCaptureSubscribers=this.filterClaimed(events,e),eLn=events.length),e.stopped&&(events.splice(hasCaptureSubscribers,1),hasCaptureSubscribers--,eLn--)},publishDelegatedDomEvent:function(e){this.publish(e)},fire:function(element,eventName,e,direct,capture){element.hasListeners[eventName]&&(eventName=element.events[eventName])&&(capture&&
direct?eventName=eventName.directCaptures:capture?eventName=eventName.captures:direct&&(eventName=eventName.directs),eventName&&(e.setCurrentTarget(element.dom),eventName.fire(e,e.target)))},onDelegatedEvent:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doDelegatedEvent,this,[e]):this.doDelegatedEvent(e)},doDelegatedEvent:function(e){e=new Ext.event.Event(e);var timeStamp=e.time;this.isEventBlocked(e)||(this.beforeEvent(e),Ext.frameStartTime=timeStamp,this.reEnterCountAdjusted=!1,this.reEnterCount++,
this.publishDelegatedDomEvent(e),this.reEnterCountAdjusted||this.reEnterCount--,this.afterEvent(e))},onDirectEvent:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doDirectEvent,this,[e,!1]):this.doDirectEvent(e,!1)},onDirectCaptureEvent:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doDirectEvent,this,[e,!0]):this.doDirectEvent(e,!0)},doDirectEvent:function(e,capture){var currentTarget=e.currentTarget;e=new Ext.event.Event(e);var timeStamp=e.time;if(!this.isEventBlocked(e)){this.beforeEvent(e);
Ext.frameStartTime=timeStamp;if(currentTarget=Ext.cache[currentTarget.id])this.reEnterCountAdjusted=!1,this.reEnterCount++,this.fire(currentTarget,e.type,e,!0,capture),this.reEnterCountAdjusted||this.reEnterCount--;this.afterEvent(e)}},beforeEvent:function(e){var browserEvent=e.browserEvent;e=Ext.event.publisher.Dom;'touchstart'===browserEvent.type&&(browserEvent=browserEvent.touches,1===browserEvent.length&&(browserEvent=browserEvent[0],e.lastTouchStartX=browserEvent.pageX,e.lastTouchStartY=browserEvent.pageY))},
afterEvent:function(e){var type=e.browserEvent.type,self=Ext.event.publisher.Dom,GlobalEvents=Ext.GlobalEvents;e.self.pointerEvents[type]&&'mouse'!==e.pointerType&&(self.lastScreenPointerEventTime=Ext.now());'touchend'===type&&(self.lastTouchEndTime=Ext.now());this.reEnterCount||GlobalEvents.idleEventMask[type]||Ext.fireIdle()},isEventBlocked:function(e){var type=e.type,self=Ext.event.publisher.Dom,now=Ext.now();return Ext.isGecko&&'click'===e.type&&2===e.button?!0:this.blockedPointerEvents[type]&&
'mouse'!==e.pointerType||this.blockedCompatibilityMouseEvents[type]&&1E3>now-self.lastScreenPointerEventTime||Ext.supports.TouchEvents&&e.self.mouseEvents[e.type]&&15>Math.abs(e.pageX-self.lastTouchStartX)&&15>Math.abs(e.pageY-self.lastTouchStartY)&&1E3>Ext.now()-self.lastTouchEndTime},destroy:function(){var GC=Ext.dom.GarbageCollector,eventName;for(eventName in this.delegatedListeners)this.removeDelegatedListener(eventName);Ext.Reaper.flush();GC&&GC.collect();this.callParent()},reset:function(){var self=
Ext.event.publisher.Dom;this.reEnterCount=0;self.lastScreenPointerEventTime=self.lastTouchEndTime=self.lastTouchStartX=self.lastTouchStartY=void 0}},1,0,0,0,0,0,[Ext.event.publisher,'Dom'],function(Dom){var doc=document,defaultView=doc.defaultView;Dom.prototype.target=Ext.os.is.iOS&&window.self!==window.top||Ext.browser.is.AndroidStock||!defaultView||!defaultView.addEventListener?doc:defaultView;Dom.instance=new Dom});
Ext.define('Ext.overrides.event.publisher.Dom',{override:'Ext.event.publisher.Dom'},function(DomPublisher){var focusEvents={focus:!0,focusin:!0,focusout:!0,blur:!0};Ext.isIE10m&&DomPublisher.override({isEventBlocked:function(e){if(!focusEvents[e.type])return this.callParent([e]);var body=document.body;e=e.browserEvent;var el=Ext.synchronouslyFocusing;return!el||('focusout'!==e.type||e.srcElement!==el&&e.srcElement!==window||e.toElement!==body)&&('focusin'!==e.type||e.srcElement!==body&&e.srcElement!==
window||e.fromElement!==el||null!==e.toElement)?!1:!0}});if(Ext.isIE9m){var docElement=document.documentElement,docBody=document.body,prototype=DomPublisher.prototype;prototype.target=document;prototype.directBoundListeners={};var onDirectEvent=function(e,publisher,capture){e.target=e.srcElement||window;e.currentTarget=this;if(capture)publisher.onDirectCaptureEvent(e);else publisher.onDirectEvent(e)};DomPublisher.override({addDelegatedListener:function(eventName){this.delegatedListeners[eventName]=
1;this.target.attachEvent('on'+eventName,this.onDelegatedEvent)},removeDelegatedListener:function(eventName){delete this.delegatedListeners[eventName];this.target.detachEvent('on'+eventName,this.onDelegatedEvent)},addDirectListener:function(eventName,element,capture){var dom=element.dom,boundFn=Ext.Function.bind(onDirectEvent,dom,[this,capture],!0),directBoundListeners=this.directBoundListeners;(directBoundListeners[eventName]||(directBoundListeners[eventName]={}))[dom.id]=boundFn;dom.attachEvent?
dom.attachEvent('on'+eventName,boundFn):this.callParent([eventName,element,capture])},removeDirectListener:function(eventName,element,capture){var dom=element.dom;dom.detachEvent?dom.detachEvent('on'+eventName,this.directBoundListeners[eventName][dom.id]):this.callParent([eventName,element,capture])},doDelegatedEvent:function(e){e.target=e.srcElement||window;'focusin'===e.type?e.relatedTarget=e.fromElement===docBody||e.fromElement===docElement?null:e.fromElement:'focusout'===e.type&&(e.relatedTarget=
e.toElement===docBody||e.toElement===docElement?null:e.toElement);return this.callParent([e])}});Ext.apply(prototype.directEvents,prototype.captureEvents);Ext.apply(prototype.directEvents,{change:1,input:1,paste:1});prototype.captureEvents={}}});
Ext.cmd.derive('Ext.event.publisher.Gesture',Ext.event.publisher.Dom,{type:'gesture',isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},isEndEvent:{mouseup:1,touchend:1,pointerup:1,MSPointerUp:1},handledEvents:[],handledDomEvents:[],constructor:function(config){var handledDomEvents=this.handledDomEvents,supports=Ext.supports,supportsTouchEvents=supports.TouchEvents,onTouchStart=this.onTouchStart,onTouchMove=this.onTouchMove,onTouchEnd=this.onTouchEnd;this.handlers={touchstart:onTouchStart,
touchmove:onTouchMove,touchend:onTouchEnd,touchcancel:onTouchEnd,pointerdown:onTouchStart,pointermove:onTouchMove,pointerup:onTouchEnd,pointercancel:onTouchEnd,MSPointerDown:onTouchStart,MSPointerMove:onTouchMove,MSPointerUp:onTouchEnd,MSPointerCancel:onTouchEnd,mousedown:onTouchStart,mousemove:onTouchMove,mouseup:onTouchEnd};this.activeTouchesMap={};this.activeTouches=[];this.changedTouches=[];this.recognizers=[];this.eventToRecognizer={};this.cancelEvents=[];supportsTouchEvents&&(this.onTargetTouchMove=
this.onTargetTouchMove.bind(this),this.onTargetTouchEnd=this.onTargetTouchEnd.bind(this));supports.PointerEvents?(handledDomEvents.push('pointerdown','pointermove','pointerup','pointercancel'),this.mousePointerType='mouse'):supports.MSPointerEvents?(handledDomEvents.push('MSPointerDown','MSPointerMove','MSPointerUp','MSPointerCancel'),this.mousePointerType=4):supportsTouchEvents&&handledDomEvents.push('touchstart','touchmove','touchend','touchcancel');(!handledDomEvents.length||supportsTouchEvents&&
Ext.os.is.Desktop)&&handledDomEvents.push('mousedown','mousemove','mouseup');this.initConfig(config);return Ext.event.publisher.Dom.prototype.constructor.call(this)},onReady:function(){Ext.event.publisher.Dom.prototype.onReady.call(this);Ext.Array.sort(this.recognizers,function(recognizerA,recognizerB){recognizerA=recognizerA.priority;recognizerB=recognizerB.priority;return recognizerA>recognizerB?1:recognizerA<recognizerB?-1:0})},registerRecognizer:function(recognizer){var handledEvents=recognizer.handledEvents,
ln=handledEvents.length,i;recognizer.setOnRecognized(this.onRecognized);recognizer.setCallbackScope(this);for(i=0;i<ln;i++){var eventName=handledEvents[i];this.handledEvents.push(eventName);this.eventToRecognizer[eventName]=recognizer}this.registerEvents(handledEvents);this.recognizers.push(recognizer)},onRecognized:function(recognizer,eventName,e,info,isCancel){var touches=e.touches,changedTouches=e.changedTouches,ln=changedTouches.length,events=this.events,queueWasEmpty=!events.length,cancelEvents=
this.cancelEvents;info=info||{};info.type=eventName;info.target=changedTouches[0].target;info.stopped=!1;info.claimed=!1;info.isGesture=!0;e=e.chain(info);if(!this.gestureTargets){if(1<ln){eventName=[];for(info=0;info<ln;info++){var touch=changedTouches[info];eventName.push(touch.targets)}changedTouches=this.getCommonTargets(eventName)}else changedTouches=changedTouches[0].targets;this.gestureTargets=changedTouches}isCancel&&recognizer.isSingleTouch&&1<touches.length?(e.target=touches[0].target,cancelEvents.push(e)):
events.push(e);queueWasEmpty&&this.publishGestures()},getCommonTargets:function(targetGroups){var firstTargetGroup=targetGroups[0],ln=targetGroups.length,commonTargets=[],i=1,j;if(1===ln)return firstTargetGroup;for(;;){var target=firstTargetGroup[firstTargetGroup.length-i];if(!target)break;for(j=1;j<ln;j++){var targets=targetGroups[j];if(targets[targets.length-i]!==target)return commonTargets}commonTargets.unshift(target);i++}return commonTargets},invokeRecognizers:function(methodName,e){var recognizers=
this.recognizers,ln=recognizers.length,i;if('onStart'===methodName)for(i=0;i<ln;i++)recognizers[i].isActive=!0;for(i=0;i<ln;i++){var recognizer=recognizers[i];recognizer.isActive&&!1===recognizer[methodName].call(recognizer,e)&&(recognizer.isActive=!1)}},filterClaimed:function(events,claimedEvent){var eventToRecognizer=this.eventToRecognizer;claimedEvent=claimedEvent.type;var claimedRecognizer=eventToRecognizer[claimedEvent],i;for(i=events.length;i--;){var recognizer=events[i].type;if(recognizer===
claimedEvent)var claimedEventIndex=i;else if(recognizer=eventToRecognizer[recognizer],!claimedRecognizer||recognizer&&recognizer!==claimedRecognizer)events.splice(i,1),claimedEventIndex&&claimedEventIndex--}this.claimRecognizer(claimedRecognizer,events[0]);return claimedEventIndex},claimRecognizer:function(claimedRecognizer,e){var recognizers=this.recognizers,ln;var i=0;for(ln=recognizers.length;i<ln;i++){var recognizer=recognizers[i];recognizer!==claimedRecognizer&&(recognizer.isActive=!1,recognizer.cancel(e))}this.events.length&&
this.publishGestures(!0)},publishGestures:function(claimed){var cancelEvents=this.cancelEvents,events=this.events,gestureTargets=this.gestureTargets;cancelEvents.length&&(this.cancelEvents=[],this.publish(cancelEvents,this.getPropagatingTargets(cancelEvents[0].target),!0));events.length&&(this.events=[],this.gestureTargets=null,this.publish(events,gestureTargets||this.getPropagatingTargets(events[0].target),claimed))},updateTouches:function(e){var browserEvent=e.browserEvent,type=e.type;browserEvent=
browserEvent.changedTouches||[browserEvent];var activeTouches=this.activeTouches,activeTouchesMap=this.activeTouchesMap,changedTouches=[],ln;var i=0;for(ln=browserEvent.length;i<ln;i++){var touchSource=browserEvent[i];var identifier='identifier'in touchSource?touchSource.identifier:'pointerId'in touchSource?touchSource.pointerId:1;var touch=activeTouchesMap[identifier];touch||(touch=Ext.event.Event.resolveTextNode(touchSource.target),touch=activeTouchesMap[identifier]={identifier,target:touch,targets:this.getPropagatingTargets(touch)},
activeTouches.push(touch));if(this.isEndEvent[type]||this.isCancelEvent[type])delete activeTouchesMap[identifier],Ext.Array.remove(activeTouches,touch);identifier=Math.round(touchSource.pageX);touchSource=Math.round(touchSource.pageY);touch.pageX=identifier;touch.pageY=touchSource;touch.point=new Ext.util.Point(identifier,touchSource);changedTouches.push(touch)}e.touches=Ext.Array.clone(activeTouches);e.changedTouches=changedTouches},publishDelegatedDomEvent:function(e){!e.button||1>e.button?(this.events=
[e],e.browserEvent.$extHandled=!0,this.handlers[e.type].call(this,e)):Ext.event.publisher.Dom.prototype.publishDelegatedDomEvent.call(this,e)},onTouchStart:function(e){var target=e.target,touches=e.browserEvent.touches;'touchstart'===e.browserEvent.type&&(target.addEventListener('touchmove',this.onTargetTouchMove),target.addEventListener('touchend',this.onTargetTouchEnd),target.addEventListener('touchcancel',this.onTargetTouchEnd));touches&&touches.length<=this.activeTouches.length&&this.removeGhostTouches(touches);
this.updateTouches(e);this.isStarted||(Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.pause(),this.isStarted=!0,this.invokeRecognizers('onStart',e));this.invokeRecognizers('onTouchStart',e);this.publishGestures()},onTouchMove:function(e){var mousePointerType=this.mousePointerType,isStarted=this.isStarted;(isStarted||'mouse'!==e.pointerType)&&this.updateTouches(e);if(isStarted){if(mousePointerType&&e.browserEvent.pointerType===mousePointerType&&0===e.buttons){e.type=Ext.dom.Element.prototype.eventMap.touchend;
e.button=0;this.onTouchEnd(e);return}0<e.changedTouches.length&&this.invokeRecognizers('onTouchMove',e)}this.publishGestures()},onTouchEnd:function(e){var isStarted=this.isStarted;(isStarted||'mouse'!==e.pointerType)&&this.updateTouches(e);if(isStarted){isStarted=this.activeTouches.length;try{this.invokeRecognizers(this.isCancelEvent[e.type]?'onTouchCancel':'onTouchEnd',e)}finally{try{isStarted||(this.isStarted=!1,this.invokeRecognizers('onEnd',e))}finally{try{this.publishGestures()}finally{isStarted||
Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.resume(),this.reEnterCountAdjusted=!0,this.reEnterCount--}}}}else this.publishGestures()},onTargetTouchMove:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doTargetTouchMove,this,[e]):this.doTargetTouchMove(e)},doTargetTouchMove:function(e){Ext.getBody().contains(e.target)||(this.reEnterCountAdjusted=!1,this.reEnterCount++,this.onTouchMove(new Ext.event.Event(e)),this.reEnterCountAdjusted||this.reEnterCount--)},onTargetTouchEnd:function(e){Ext.elevateFunction?
Ext.elevateFunction(this.doTargetTouchEnd,this,[e]):this.doTargetTouchEnd(e)},doTargetTouchEnd:function(e){var target=e.target;target.removeEventListener('touchmove',this.onTargetTouchMove);target.removeEventListener('touchend',this.onTargetTouchEnd);target.removeEventListener('touchcancel',this.onTargetTouchEnd);Ext.getBody().contains(target)||(this.reEnterCountAdjusted=!1,this.reEnterCount++,this.onTouchEnd(new Ext.event.Event(e)),this.reEnterCountAdjusted||this.reEnterCount--)},reset:function(){var recognizers=
this.recognizers,ln=recognizers.length,i;this.activeTouchesMap={};this.activeTouches=[];this.changedTouches=[];this.isStarted=!1;this.gestureTargets=null;this.events=[];this.cancelEvents=[];for(i=0;i<ln;i++){var recognizer=recognizers[i];recognizer.reset();recognizer.isActive=!1}Ext.event.publisher.Dom.prototype.reset.call(this)},privates:{removeGhostTouches:function(touches){var len=touches.length,activeTouches=this.activeTouches,map=this.activeTouchesMap,i;for(i=0;i<len;++i);for(i=activeTouches.length;i--;){var touch=
activeTouches[i];len=touch.identifier;touches[len]||(Ext.Array.remove(activeTouches,touch),delete map[len])}}}},1,0,0,0,0,0,[Ext.event.publisher,'Gesture'],function(Gesture){var EventProto=Event.prototype,stopPropagation=EventProto.stopPropagation;stopPropagation&&(EventProto.stopPropagation=function(){var publisher=Gesture.instance,type=this.type;!this.$extHandled&&publisher.handles[type]&&(type=new Ext.event.Event(this),publisher.updateTouches(type),publisher.invokeRecognizers('onTouchCancel',type),
publisher.reset(),publisher.reEnterCountAdjusted=!0);stopPropagation.apply(this,arguments)});Gesture.instance=Ext.$gesturePublisher=new Gesture});Ext.define('Ext.overrides.event.publisher.Gesture',{override:'Ext.event.publisher.Gesture'},function(){Ext.isIE9m&&this.override({updateTouches:function(e,isEnd){var browserEvent=e.browserEvent,xy=e.getXY();browserEvent.pageX=xy[0];browserEvent.pageY=xy[1];this.callParent([e,isEnd])},doDelegatedEvent:function(e){this.callParent([Ext.event.Event.enableIEAsync(e)])}})});
Ext.define('conjoon.overrides.Ext.event.publisher.Gesture',{override:'Ext.event.publisher.Gesture'},function(Gesture){Gesture=Gesture.instance;Ext.supports.TouchEvents&&!Ext.isWebKit&&Ext.os.is.Desktop&&(Gesture.handledDomEvents.push('mousedown','mousemove','mouseup'),Gesture.registerEvents())});
Ext.cmd.derive('Ext.mixin.Templatable',Ext.Mixin,{mixinConfig:{id:'templatable'},referenceAttributeName:'reference',referenceSelector:'[reference]',getElementConfig:function(){return{reference:'element'}},getElementTemplate:function(){var elementTemplate=document.createDocumentFragment();elementTemplate.appendChild(Ext.Element.create(this.getElementConfig(),!0));return elementTemplate},initElement:function(){var prototype=this.self.prototype;prototype.elementTemplate=this.getElementTemplate();prototype.initElement=
prototype.doInitElement;this.initElement.apply(this,arguments)},linkElement:function(reference,node){this.link(reference,node)},doInitElement:function(){var referenceAttributeName=this.referenceAttributeName,ln;var referenceNodes=this.elementTemplate.cloneNode(!0).querySelectorAll(this.referenceSelector);var i=0;for(ln=referenceNodes.length;i<ln;i++){var referenceNode=referenceNodes[i];var reference=referenceNode.getAttribute(referenceAttributeName);referenceNode.removeAttribute(referenceAttributeName);
this.linkElement(reference,referenceNode)}}},0,0,0,0,0,0,[Ext.mixin,'Templatable'],0);
Ext.cmd.derive('Ext.TaskQueue',Ext.Base,{singleton:!0,pending:!1,mode:!0,readQueue:[],writeQueue:[],readRequestId:0,writeRequestId:0,timer:null,constructor:function(){this.run=this.run.bind(this);Ext.os.is.iOS&&(this.watchdogTimer=Ext.interval(this.watch,500,this))},requestRead:function(fn,scope,args){fn={id:++this.readRequestId,fn,scope,args};this.readQueue.push(fn);this.request(!0);return fn.id},cancelRead:function(id){this.cancelRequest(this.readQueue,id,!0)},requestWrite:function(fn,scope,args){fn=
{id:++this.writeRequestId,fn,scope,args};this.writeQueue.push(fn);this.request(!1);return fn.id},cancelWrite:function(id){this.cancelRequest(this.writeQueue,id,!1)},request:function(mode,method){this.pending||(this.pendingTime=Date.now(),this.pending=!0,this.timer=(this.mode=mode)?Ext.defer(this[method]||this.run,1):Ext.raf(this[method]||this.run))},cancelRequest:function(queue,id,mode){var i;for(i=0;i<queue.length;i++)if(queue[i].id===id){queue.splice(i,1);break}!queue.length&&this.mode===mode&&
this.timer&&Ext.undefer(this.timer)},watch:function(){this.pending&&500<=Date.now()-this.pendingTime&&this.run()},run:function(readQueue,writeQueue,method){var mode=null,len;readQueue=readQueue||this.readQueue;writeQueue=writeQueue||this.writeQueue;this.pending=this.timer=!1;if(this.mode){var queue=readQueue;0<writeQueue.length&&(mode=!1)}else queue=writeQueue,0<readQueue.length&&(mode=!0);readQueue=queue.slice();var i=queue.length=0;for(len=readQueue.length;i<len;i++){var task=readQueue[i];queue=
task.fn;writeQueue=task.scope;task=task.args;writeQueue&&(writeQueue.destroying||writeQueue.destroyed)||('string'===typeof queue&&(queue=writeQueue[queue]),task?queue.apply(writeQueue,task):queue.call(writeQueue))}readQueue.length=0;null!==mode&&this.request(mode,method)},clear:function(){var timer=this.timer;timer&&(this.mode?Ext.undefer(timer):Ext.unraf(timer));this.readQueue.length=this.writeQueue.length=0;this.pending=this.timer=!1;this.mode=!0}},1,0,0,0,0,0,[Ext,'TaskQueue'],0);
Ext.cmd.derive('Ext.util.sizemonitor.Abstract',Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:null,height:null,contentWidth:null,contentHeight:null,constructor:function(config){this.refresh=this.refresh.bind(this);this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0};this.initElement();this.initConfig(config);this.bindListeners(!0)},bindListeners:Ext.emptyFn,applyElement:function(element){if(element)return Ext.get(element)},updateElement:function(element){element.append(this.detectorsContainer,
!0);element.addCls('x-size-monitored')},applyArgs:function(args){return args.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead('refresh',this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.clientWidth},getContentHeight:function(){return this.detectorsContainer.clientHeight},refreshSize:function(){var element=this.getElement();if(!element||element.destroyed)return!1;
var size=element.measure();element=size.width;size=size.height;var contentWidth=this.getContentWidth(),contentHeight=this.getContentHeight(),currentContentWidth=this.contentWidth,currentContentHeight=this.contentHeight,info=this.info,resized=!1;this.width=element;this.height=size;this.contentWidth=contentWidth;this.contentHeight=contentHeight;currentContentWidth=(currentContentWidth!==contentWidth?1:0)+(currentContentHeight!==contentHeight?2:0);0<currentContentWidth&&(info.width=element,info.height=
size,info.contentWidth=contentWidth,info.contentHeight=contentHeight,info.flag=currentContentWidth,resized=!0,this.getCallback().apply(this.getScope(),this.getArgs()));return resized},refresh:function(){this.destroying||this.destroyed||(this.refreshSize(),Ext.TaskQueue.requestWrite('refreshMonitors',this))},destroy:function(){var element=this.getElement();this.bindListeners(!1);element&&!element.destroyed&&element.removeCls('x-size-monitored');delete this._element;this.refresh=null;this.callParent()}},
1,0,0,0,0,[[Ext.mixin.Templatable.prototype.mixinId||Ext.mixin.Templatable.$className,Ext.mixin.Templatable]],[Ext.util.sizemonitor,'Abstract'],0);
Ext.cmd.derive('Ext.util.sizemonitor.Scroll',Ext.util.sizemonitor.Abstract,{getElementConfig:function(){return{reference:'detectorsContainer',classList:['x-size-monitors','scroll'],children:[{reference:'expandMonitor',className:'expand'},{reference:'shrinkMonitor',className:'shrink'}]}},constructor:function(config){this.onScroll=this.onScroll.bind(this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},bindListeners:function(bind){bind=bind?'addEventListener':'removeEventListener';
this.expandMonitor[bind]('scroll',this.onScroll,!0);this.shrinkMonitor[bind]('scroll',this.onScroll,!0)},onScroll:function(e){this.destroyed||(this.hasExpandMonitorScrollChanged&&e.target===this.expandMonitor?delete this.hasExpandMonitorScrollChanged:this.hasShrinkMonitorScrollChanged&&e.target===this.shrinkMonitor?delete this.hasShrinkMonitorScrollChanged:Ext.TaskQueue.requestRead('refresh',this))},refreshMonitors:function(){var expandMonitor=this.expandMonitor,shrinkMonitor=this.shrinkMonitor;expandMonitor&&
!expandMonitor.destroyed&&(Ext.isiOS&&(this.hasExpandMonitorScrollChanged=!0),expandMonitor.scrollLeft=1E6,expandMonitor.scrollTop=1E6);shrinkMonitor&&!shrinkMonitor.destroyed&&(Ext.isiOS&&(this.hasShrinkMonitorScrollChanged=!0),shrinkMonitor.scrollLeft=1E6,shrinkMonitor.scrollTop=1E6)},destroy:function(){this.onScroll=null;Ext.util.sizemonitor.Abstract.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.util.sizemonitor,'Scroll'],0);
Ext.cmd.derive('Ext.util.SizeMonitor',Ext.Base,{constructor:function(config){return new Ext.util.sizemonitor.Scroll(config)}},1,0,0,0,0,0,[Ext.util,'SizeMonitor'],0);
Ext.cmd.derive('Ext.event.publisher.ElementSize',Ext.event.publisher.Publisher,{type:'size',handledEvents:['resize'],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(element){var id=element.id,subscribers=this.subscribers,monitors=this.monitors;subscribers[id]?++subscribers[id]:(subscribers[id]=1,monitors[id]=new Ext.util.SizeMonitor({element,callback:this.onElementResize,scope:this,args:[element]}));
element.on('painted','forceRefresh',monitors[id]);return!0},unsubscribe:function(element){var id=element.id,subscribers=this.subscribers,monitors=this.monitors;subscribers[id]&&!--subscribers[id]&&(delete subscribers[id],subscribers=monitors[id],element.un('painted','forceRefresh',subscribers),subscribers.destroy(),delete monitors[id]);element.activeRead&&Ext.TaskQueue.cancelRead(element.activeRead)},fireElementResize:function(element,info){delete element.activeRead;this.fire(element,'resize',[element,
info])},onElementResize:function(element,info){element.activeRead||(element.activeRead=Ext.TaskQueue.requestRead('fireElementResize',this,[element,info]))}},1,0,0,0,0,0,[Ext.event.publisher,'ElementSize'],function(ElementSize){ElementSize.instance=new ElementSize});
Ext.cmd.derive('Ext.util.paintmonitor.Abstract',Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:'',monitorClass:'',constructor:function(config){this.onElementPainted=this.onElementPainted.bind(this);this.initConfig(config)},bindListeners:function(bind){this.monitorElement[bind?'addEventListener':'removeEventListener'](this.eventName,this.onElementPainted,!0)},applyElement:function(element){if(element)return Ext.get(element)},updateElement:function(element){this.monitorElement=
Ext.Element.create({classList:['x-paint-monitor',this.monitorClass]},!0);element.appendChild(this.monitorElement,!0);element.addCls('x-paint-monitored');this.bindListeners(!0)},onElementPainted:function(){},destroy:function(){var monitorElement=this.monitorElement,parentNode=monitorElement.parentNode,element=this.getElement();this.bindListeners(!1);delete this.monitorElement;element&&!element.destroyed&&(element.removeCls('x-paint-monitored'),delete this._element);parentNode&&parentNode.removeChild(monitorElement);
this.callParent()}},1,0,0,0,0,0,[Ext.util.paintmonitor,'Abstract'],0);Ext.cmd.derive('Ext.util.paintmonitor.CssAnimation',Ext.util.paintmonitor.Abstract,{eventName:Ext.browser.is.WebKit?'webkitAnimationEnd':'animationend',monitorClass:'cssanimation',onElementPainted:function(e){'x-paint-monitor-helper'===e.animationName&&this.getCallback().apply(this.getScope(),this.getArgs())}},0,0,0,0,0,0,[Ext.util.paintmonitor,'CssAnimation'],0);
Ext.cmd.derive('Ext.util.PaintMonitor',Ext.Base,{constructor:function(config){return new Ext.util.paintmonitor.CssAnimation(config)}},1,0,0,0,0,0,[Ext.util,'PaintMonitor'],0);
Ext.cmd.derive('Ext.event.publisher.ElementPaint',Ext.event.publisher.Publisher,{type:'paint',handledEvents:['painted'],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(element){var id=element.id,subscribers=this.subscribers;subscribers[id]?++subscribers[id]:(subscribers[id]=1,this.monitors[id]=new Ext.util.PaintMonitor({element,callback:this.onElementPainted,scope:this,args:[element]}))},unsubscribe:function(element){var id=
element.id,subscribers=this.subscribers,monitors=this.monitors;subscribers[id]&&!--subscribers[id]&&(delete subscribers[id],monitors[id].destroy(),delete monitors[id]);element.activeRead&&Ext.TaskQueue.cancelRead(element.activeRead)},fireElementPainted:function(element){delete element.activeRead;this.fire(element,'painted',[element])},onElementPainted:function(element){element.activeRead||(element.activeRead=Ext.TaskQueue.requestRead('fireElementPainted',this,[element]))}},1,0,0,0,0,0,[Ext.event.publisher,
'ElementPaint'],function(ElementPaint){ElementPaint.instance=new ElementPaint});
Ext.cmd.derive('Ext.dom.Element',Ext.Base,function(Element){var WIN=window,DOC=document,docEl=DOC.documentElement,WIN_TOP=WIN.top,EMPTY=[],wordsRe=/\w/g,spacesRe=/\s+/,classNameSplitRegex=/[\s]+/,transparentRe=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,endsQuestionRe=/\?$/,topRe=/top/i,empty={},borders={t:'border-top-width',r:'border-right-width',b:'border-bottom-width',l:'border-left-width'},paddings={t:'padding-top',r:'padding-right',b:'padding-bottom',l:'padding-left'},margins=
{t:'margin-top',r:'margin-right',b:'margin-bottom',l:'margin-left'},selectDir={b:'backward',back:'backward',f:'forward'},paddingsTLRB=[paddings.l,paddings.r,paddings.t,paddings.b],bordersTLRB=[borders.l,borders.r,borders.t,borders.b],numberRe=/\d+$/,unitRe=/\d+(px|r?em|%|vh|vw|vmin|vmax|en|ch|ex|pt|in|cm|mm|pc)$/i,msRe=/^-ms-/,camelRe=/(-[a-z])/gi,cssRe=/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,pxRe=/^\d+(?:\.\d*)?px$/i,relativeUnitRe=/(%|r?em|auto|vh|vw|vmin|vmax|ch|ex)$/i,propertyCache=
{},camelReplaceFn=function(m,a){return a.charAt(1).toUpperCase()},clearData=function(node,deep){var len;if(1===node.nodeType&&(node._extData=null,deep)){node=node.childNodes;var i=0;for(len=node.length;i<len;++i)clearData(node[i],deep)}},lastFocusChange=0,lastKeyboardClose=0,editableHasFocus=!1,isVirtualKeyboardOpen=!1,inputTypeSelectionSupported=/text|password|search|tel|url/i,visFly,scrollFly,caFly,wrapFly,grannyFly,activeElFly;try{var elementIdCounter=WIN_TOP.__elementIdCounter__;WIN_TOP.__elementIdCounter__=
elementIdCounter}catch(e){WIN_TOP=WIN}WIN_TOP.__elementIdCounter__=elementIdCounter=(WIN_TOP.__elementIdCounter__||0)+1;var windowId='ext-window-'+elementIdCounter;var documentId='ext-document-'+elementIdCounter;return{alternateClassName:['Ext.Element'],observableType:'element',isElement:!0,skipGarbageCollection:!0,$applyConfigs:!0,identifiablePrefix:'ext-element-',_selectDir:selectDir,styleHooks:{transform:{set:function(dom,value,el){el='';var prop;if('string'!==typeof value){for(prop in value)el&&
(el+=' '),el=0===prop.indexOf('translate')?el+(prop+'('+Element.addUnits(value[prop],'px')+')'):el+(prop+'('+value[prop]+')');value=el}dom.style.transform=value}}},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(dom){var id;'string'===typeof dom&&(dom=DOC.getElementById(dom));if(!dom)return null;this.dom=dom;(id=dom.id)||(dom.id=id=this.generateAutoId());this.id=id;this.el=this;Ext.cache[id]=this;this.longpressListenerCount=
0;this.mixins.observable.constructor.call(this)},inheritableStatics:{cache:Ext.cache={},editableSelector:'input,textarea,[contenteditable\x3d"true"]',VISIBILITY:1,DISPLAY:2,OFFSETS:3,CLIP:4,OPACITY:5,minKeyboardHeight:100,unitRe,useDelegatedEvents:!0,validNodeTypes:{1:1,9:1},namespaceURIs:{html:'http://www.w3.org/1999/xhtml',svg:'http://www.w3.org/2000/svg'},selectableCls:'x-selectable',unselectableCls:'x-unselectable',maxRippleDiameter:75,addUnits:function(size,units){return'number'===typeof size?
size+(units||'px'):''===size||'auto'===size||null==size?size||'':numberRe.test(size)?size+(units||'px'):unitRe.test(size)?size:size||''},create:function(attributes,domNode,namespace){var element,name,ln;attributes=attributes||{};if(attributes.isElement)return domNode?attributes.dom:attributes;if('nodeType'in attributes)return domNode?attributes:Ext.get(attributes);if('string'===typeof attributes)return DOC.createTextNode(attributes);(element=attributes.tag)||(element='div');element=(namespace=attributes.namespace||
namespace)?DOC.createElementNS(this.namespaceURIs[namespace]||namespace,element):DOC.createElement(element);var elementStyle=element.style;for(name in attributes)if('tag'!==name&&'namespace'!==name){var value=attributes[name];switch(name){case 'style':if('string'===typeof value)element.setAttribute(name,value);else for(i in value)elementStyle[i]=value[i];break;case 'className':case 'cls':value=value.split(spacesRe);var classes=classes?classes.concat(value):value;break;case 'classList':classes=classes?
classes.concat(value):value;break;case 'text':element.textContent=value;break;case 'html':element.innerHTML=value;break;case 'hidden':classes?classes.push('x-hidden-display'):classes=['x-hidden-display'];break;case 'children':if(null!=value){var i=0;for(ln=value.length;i<ln;i++)element.appendChild(this.create(value[i],!0,namespace))}break;default:null!=value&&element.setAttribute(name,value)}}classes&&(element.className=classes.join(' '));return domNode?element:this.get(element)},fly:function(dom,
named){return Ext.fly(dom,named)},fromPoint:function(){if(Ext.isIE||Ext.isEdge)try{var elementFromPointBug=window.self!==window.top}catch(e){elementFromPointBug=!0}return function(x,y,asDom){var el=DOC.elementFromPoint(x,y);!el&&elementFromPointBug&&(el=DOC.elementFromPoint(x,y));return asDom?el:Ext.get(el)}}(),fromPagePoint:function(x,y,asDom){var scroll=Ext.getDoc().getScroll();return Element.fromPoint(x-scroll.left,y-scroll.top,asDom)},get:function(el){var cache=Ext.cache;if(!el)return null;el.isFly&&
(el=el.dom);if('string'===typeof el){var nodeType=el;if(cache.hasOwnProperty(nodeType)){var entry=cache[nodeType];if(entry.skipGarbageCollection||!Ext.isGarbage(entry.dom))return entry;entry.destroy()}if(nodeType===windowId)return Element.get(WIN);if(nodeType===documentId)return Element.get(DOC);if(nodeType=Ext.getElementById?Ext.getElementById(nodeType):DOC.getElementById(nodeType))return new Element(nodeType)}if(nodeType=el.nodeType){var isDoc=9===nodeType;var isValidNodeType=this.validNodeTypes[nodeType]}else var isWin=
el.window==el;if(isValidNodeType||isWin){nodeType=el.id;el===DOC?el.id=nodeType=documentId:el==WIN&&(el.id=nodeType=windowId);if(cache.hasOwnProperty(nodeType)){entry=cache[nodeType];if(entry.skipGarbageCollection||el===entry.dom||!Ext.isGarbage(entry.dom))return entry;entry.destroy()}el=new Element(el);if(isWin||isDoc)el.skipGarbageCollection=!0;return el}return el.isElement||el.isComposite?el:Ext.isIterable(el)?this.select(el):null},getActiveElement:function(asElement){var active=DOC.activeElement;
active&&active.focus||(active=DOC.body);return asElement?Ext.get(active):active},getDocumentHeight:function(){return Math.max(Ext.isStrict?docEl.scrollHeight:DOC.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?docEl.scrollWidth:DOC.body.scrollWidth,this.getViewportWidth())},getOrientation:function(){return Ext.supports.OrientationChange?0==WIN.orientation?'portrait':'landscape':WIN.innerHeight>WIN.innerWidth?'portrait':'landscape'},getViewportHeight:function(){var viewportHeight=
Element._viewportHeight;return Ext.isIE9m?DOC.documentElement.clientHeight:null!=viewportHeight?viewportHeight:docEl.clientHeight},getViewportWidth:function(){var viewportWidth=Element._viewportWidth;return Ext.isIE9m?DOC.documentElement.clientWidth:null!=viewportWidth?viewportWidth:docEl.clientWidth},getViewportScale:function(){var top=WIN_TOP;return(Ext.isiOS||Ext.isAndroid?1:top.devicePixelRatio||top.screen.deviceXDPI/top.screen.logicalXDPI)*this.getViewportTouchScale()},getViewportTouchScale:function(forceRead){var scale=
1,top=WIN_TOP;if(!forceRead&&(forceRead=this._viewportTouchScale))return forceRead;Ext.isIE10p||Ext.isEdge||Ext.isiOS?scale=docEl.offsetWidth/WIN.innerWidth:Ext.isChromeMobile&&(scale=top.outerWidth/top.innerWidth);return scale},getViewSize:function(){return{width:Element.getViewportWidth(),height:Element.getViewportHeight()}},hasUnit:function(size){return!(!size||!unitRe.test(size))},isRelativeUnit:function(size){return!size||relativeUnitRe.test(size)},maskIframes:function(){var iframes=document.getElementsByTagName('iframe'),
fly=new Ext.dom.Fly;Ext.each(iframes,function(iframe){fly.attach(iframe.parentNode).mask().setStyle('background-color','transparent')})},normalize:function(prop){return propertyCache[prop]||(propertyCache[prop]=prop.replace(msRe,'ms-').replace(camelRe,camelReplaceFn))},_onWindowFocusChange:function(e){Ext.fly(e.target).is(Element.editableSelector)&&(lastFocusChange=new Date,editableHasFocus='focusin'===e.type||'pointerup'===e.type)},_onWindowResize:function(){var documentWidth=docEl.clientWidth,documentHeight=
docEl.clientHeight,now=new Date;var deltaX=documentWidth-Element._documentWidth;var deltaY=documentHeight-Element._documentHeight;Element._documentWidth=documentWidth;Element._documentHeight=documentHeight;(1E3>now-lastFocusChange||1E3>now-lastKeyboardClose)&&0===deltaX&&editableHasFocus&&deltaY<=-Element.minKeyboardHeight?isVirtualKeyboardOpen=!0:(isVirtualKeyboardOpen&&0===deltaX&&deltaY>=Element.minKeyboardHeight&&(isVirtualKeyboardOpen=!1,lastKeyboardClose=new Date),isVirtualKeyboardOpen||(Element._viewportWidth=
documentWidth,Element._viewportHeight=documentHeight))},parseBox:function(box){box=box||0;var type=typeof box;if('number'===type)return{top:box,right:box,bottom:box,left:box};if('string'!==type)return box;box=box.split(' ');type=box.length;1===type?box[1]=box[2]=box[3]=box[0]:2===type?(box[2]=box[0],box[3]=box[1]):3===type&&(box[3]=box[1]);return{top:parseFloat(box[0])||0,right:parseFloat(box[1])||0,bottom:parseFloat(box[2])||0,left:parseFloat(box[3])||0}},parseStyles:function(styles){var out={},
matches;if(styles)for(cssRe.lastIndex=0;matches=cssRe.exec(styles);)out[matches[1]]=matches[2]||'';return out},select:function(selector,composite,root){return Ext.fly(root||DOC).select(selector,composite)},query:function(selector,asDom,root){return Ext.fly(root||DOC).query(selector,asDom)},unitizeBox:function(box,units){box=this.parseBox(box);return this.addUnits(box.top,units)+' '+this.addUnits(box.right,units)+' '+this.addUnits(box.bottom,units)+' '+this.addUnits(box.left,units)},unmaskIframes:function(){var iframes=
document.getElementsByTagName('iframe'),fly=new Ext.dom.Fly;Ext.each(iframes,function(iframe){fly.attach(iframe.parentNode).unmask()})},serializeForm:function(form){form=form.elements||(DOC.forms[form]||Ext.getDom(form)).elements;var hasSubmit=!1,encoder=encodeURIComponent,data='',eLen=form.length,e;for(e=0;e<eLen;e++){var element=form[e];var name=element.name;var type=element.type;var options=element.options;if(!element.disabled&&name)if(/select-(one|multiple)/i.test(type)){var oLen=options.length;
for(type=0;type<oLen;type++){var opt=options[type];opt.selected&&(element=opt.hasAttribute('value'),data+=Ext.String.format('{0}\x3d{1}\x26',encoder(name),encoder(element?opt.value:opt.text)))}}else/file|undefined|reset|button/i.test(type)||/radio|checkbox/i.test(type)&&!element.checked||'submit'===type&&hasSubmit||(data+=encoder(name)+'\x3d'+encoder(element.value)+'\x26',hasSubmit=/submit/i.test(type))}return data.substr(0,data.length-1)},getCommonAncestor:function(nodeA,nodeB,returnDom){caFly=caFly||
new Ext.dom.Fly;for(caFly.attach(Ext.getDom(nodeA));!caFly.isAncestor(nodeB);)if(caFly.dom.parentNode)caFly.attach(caFly.dom.parentNode);else{caFly.attach(DOC.body);break}return returnDom?caFly.dom:Ext.get(caFly)}},selectable:function(){this.dom.unselectable='';this.removeCls(Element.unselectableCls);this.addCls(Element.selectableCls);return this},unselectable:function(){Ext.isOpera&&(this.dom.unselectable='on');this.removeCls(Element.selectableCls);this.addCls(Element.unselectableCls);return this},
statics:{tabbableSelector:Ext.supports.CSS3NegationSelector?'a[href],button,iframe,input,select,textarea,[tabindex]:not([tabindex\x3d"-1"]),[contenteditable\x3d"true"]':'a[href],button,iframe,input,select,textarea,[tabindex],[contenteditable\x3d"true"]',naturallyFocusableTags:{BUTTON:!0,IFRAME:!0,EMBED:!0,INPUT:!0,OBJECT:!0,SELECT:!0,TEXTAREA:!0,HTML:Ext.isIE?!0:!1,BODY:Ext.isIE?!1:!0},naturallyTabbableTags:{BUTTON:!0,IFRAME:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0,OBJECT:Ext.isIE8m?!0:!1},inputTags:{INPUT:!0,
TEXTAREA:!0},tabbableSavedCounterAttribute:'data-tabindex-counter',tabbableSavedValueAttribute:'data-tabindex-value',splitCls:function(cls){'string'===typeof cls&&(cls=cls.split(spacesRe));return cls}},_init:function(E){E.tabbableSelector+=',['+E.tabbableSavedCounterAttribute+']'},addCls:function(names,prefix,suffix){return this.replaceCls(null,names,prefix,suffix)},addClsOnClick:function(className,testFn,scope){var me=this,hasTest=Ext.isFunction(testFn);me.on('mousedown',function(){if(hasTest&&!1===
testFn.call(scope||me,me))return!1;me.addCls(className);Ext.getDoc().on({mouseup:function(){me.dom&&me.removeCls(className)},single:!0})});return me},addClsOnFocus:function(className,testFn,scope){var me=this,hasTest=Ext.isFunction(testFn);me.on('focus',function(){if(hasTest&&!1===testFn.call(scope||me,me))return!1;me.addCls(className)});me.on('blur',function(){me.dom&&me.removeCls(className)});return me},addClsOnOver:function(className,testFn,scope){var me=this,hasTest=Ext.isFunction(testFn);me.hover(function(){hasTest&&
!1===testFn.call(scope||me,me)||me.addCls(className)},function(){me.removeCls(className)});return me},addStyles:function(sides,styles){var totalSize=0;sides=(sides||'').match(wordsRe);var styleSides=[],len=sides.length,i;if(1===len)totalSize=parseFloat(this.getStyle(styles[sides[0]]))||0;else if(len){for(i=0;i<len;i++){var side=sides[i];styleSides.push(styles[side])}styleSides=this.getStyle(styleSides);for(i=0;i<len;i++)side=sides[i],totalSize+=parseFloat(styleSides[styles[side]])||0}return totalSize},
addUnits:function(size,units){return Element.addUnits(size,units)},animate:function(animation){animation=new Ext.fx.Animation(animation);animation.setElement(this);this._activeAnimation=animation;animation.on({animationend:this._onAnimationEnd,scope:this});Ext.Animator.run(animation);return animation},_onAnimationEnd:function(){this._activeAnimation=null},getActiveAnimation:function(){return this._activeAnimation},append:function(){return this.appendChild.apply(this,arguments)},appendChild:function(el,
returnDom){var e;if(el.nodeType||el.dom||'string'===typeof el)return el=Ext.getDom(el),this.dom.appendChild(el),returnDom?el:Ext.get(el);if(el.length){var insertEl=Ext.fly(DOC.createDocumentFragment());var eLen=el.length;for(e=0;e<eLen;e++)insertEl.appendChild(el[e],returnDom);el=Ext.Array.toArray(insertEl.dom.childNodes);this.dom.appendChild(insertEl.dom);return returnDom?el:new Ext.dom.CompositeElementLite(el)}return this.createChild(el,null,returnDom)},appendTo:function(el){Ext.getDom(el).appendChild(this.dom);
return this},applyStyles:function(styles){styles&&('function'===typeof styles&&(styles=styles.call()),'string'===typeof styles&&(styles=Element.parseStyles(styles)),'object'===typeof styles&&this.setStyle(styles));return this},blur:function(){var dom=this.dom;if(dom!==DOC.body){try{dom.blur()}catch(e){}return this}return this.focus(void 0,dom)},cacheScrollValues:function(){var scrollValues=[],scrolledDescendants=[],len$jscomp$0;scrollFly=scrollFly||new Ext.dom.Fly;var descendants=this.query('*');
var i$jscomp$0=0;for(len$jscomp$0=descendants.length;i$jscomp$0<len$jscomp$0;i$jscomp$0++){var descendant=descendants[i$jscomp$0];if(0<descendant.scrollTop||0!==descendant.scrollLeft)scrolledDescendants.push(descendant),scrollValues.push(scrollFly.attach(descendant).getScroll())}return function(){var len;var i=0;for(len=scrolledDescendants.length;i<len;i++){var scroll=scrollValues[i];scrollFly.attach(scrolledDescendants[i]);scrollFly.setScrollLeft(scroll.left);scrollFly.setScrollTop(scroll.top)}}},
center:function(centerIn){return this.alignTo(centerIn||DOC,'c-c')},child:function(selector,returnDom){if(Ext.supports.Selectors2)return this.selectNode(':scope\x3e'+selector,!!returnDom);var id=null!=this.id?this.id:Ext.get(this).id;return this.selectNode(Ext.makeIdSelector(id)+' \x3e '+selector,!!returnDom)},clone:function(deep,returnDom){var clone=this.dom.cloneNode(deep);Ext.supports.CloneNodeCopiesExpando&&clearData(clone,deep);return returnDom?clone:Ext.get(clone)},constrainScrollLeft:function(left){var dom=
this.dom;return Math.max(Math.min(left,dom.scrollWidth-dom.clientWidth),0)},constrainScrollTop:function(top){var dom=this.dom;return Math.max(Math.min(top,dom.scrollHeight-dom.clientHeight),0)},createChild:function(config,insertBefore,returnDom){config=config||{tag:'div'};return insertBefore?Ext.DomHelper.insertBefore(insertBefore,config,!0!==returnDom):Ext.DomHelper.append(this.dom,config,!0!==returnDom)},contains:function(element){if(!element)return!1;element=Ext.getDom(element);return element===
this.dom||this.isAncestor(element)},destroy:function(){var dom=this.dom;dom&&dom.parentNode&&dom.parentNode.removeChild(dom);this.$ripples&&this.destroyAllRipples();this.collect()},detach:function(){var dom=this.dom,component=this.component;dom&&dom.parentNode&&'BODY'!==dom.tagName&&(component&&component.revertFocus(),dom.parentNode.removeChild(dom));return this},disableShadow:function(){var shadow=this.shadow;shadow&&(shadow.hide(),shadow.disabled=!0)},disableShim:function(){var shim=this.shim;shim&&
(shim.hide(),shim.disabled=!0)},doReplaceWith:function(element){var dom=this.dom;dom.parentNode.replaceChild(Ext.getDom(element),dom)},doScrollIntoView:function(container,hscroll,animate,highlight,getScrollX,scrollTo){scrollFly=scrollFly||new Ext.dom.Fly;var dom=this.dom;getScrollX=scrollFly.attach(container)[getScrollX]();var scrollY=container.scrollTop,position=this.getScrollIntoViewXY(container,getScrollX,scrollY),newScrollX=position.x;position=position.y;highlight&&(animate?animate=Ext.apply({listeners:{afteranimate:function(){scrollFly.attach(dom).highlight()}}},
animate):scrollFly.attach(dom).highlight());position!==scrollY&&scrollFly.attach(container).scrollTo('top',position,animate);if(!1!==hscroll&&newScrollX!==getScrollX)scrollFly.attach(container)[scrollTo]('left',newScrollX,animate);return this},down:function(selector,returnDom){return this.selectNode(selector,!!returnDom)},enableShadow:function(options,isVisible){options=this.shadow||(this.shadow=new Ext.dom.Shadow(Ext.apply({target:this},options)));var shim=this.shim;shim&&(shim.offsets=options.outerOffsets,
shim.shadow=options,options.shim=shim);!0===isVisible||!1!==isVisible&&this.isVisible()?options.show():options.hide();options.disabled=!1},enableShim:function(options,isVisible){options=this.shim||(this.shim=new Ext.dom.Shim(Ext.apply({target:this},options)));var shadow=this.shadow;shadow&&(options.offsets=shadow.outerOffsets,options.shadow=shadow,shadow.shim=options);!0===isVisible||!1!==isVisible&&this.isVisible()?options.show():options.hide();options.disabled=!1;return options},findParent:function(simpleSelector,
limit,returnEl){var target=this.dom,topmost=docEl,depth=0;limit||0===limit?'number'!==typeof limit&&(topmost=Ext.getDom(limit),limit=Number.MAX_VALUE):limit=50;for(;target&&1===target.nodeType&&depth<limit&&target!==topmost;){if(Ext.fly(target).is(simpleSelector))return returnEl?Ext.get(target):target;depth++;target=target.parentNode}return null},findParentNode:function(simpleSelector,limit,returnEl){var p=Ext.fly(this.dom.parentNode);return p?p.findParent(simpleSelector,limit,returnEl):null},first:function(selector,
returnDom){return this.matchNode('nextSibling','firstChild',selector,returnDom)},focus:function(defer,dom){dom=dom||this.dom;Number(defer)?Ext.defer(this.focus,defer,this,[null,dom]):(Ext.fireEvent('beforefocus',dom),dom.focus());return this},collect:function(){var dom=this.dom,shadow=this.shadow,shim=this.shim;this.isFly||(this.mixins.observable.destroy.call(this),delete Ext.cache[this.id],this.el=null);dom&&(dom._extData=this.dom=null);shadow&&(shadow.hide(),this.shadow=null);shim&&(shim.hide(),
this.shim=null)},getAnchorToXY:function(el,anchor,local,mySize){return el.getAnchorXY(anchor,local,mySize)},getAttribute:function(name,namespace){var dom=this.dom;return namespace?dom.getAttributeNS(namespace,name)||dom.getAttribute(namespace+':'+name):dom.getAttribute(name)||dom[name]||null},getAttributes:function(){var attributes=this.dom.attributes,result={},len;var i=0;for(len=attributes.length;i<len;i++){var attr=attributes[i];result[attr.name]=attr.value}return result},getBottom:function(local){return(local?
this.getLocalY():this.getY())+this.getHeight()},getById:function(id,asDom){id=DOC.getElementById(id)||this.dom.querySelector(Ext.makeIdSelector(id));return asDom?id:id?Ext.get(id):null},getBorderPadding:function(){var paddingWidth=this.getStyle(paddingsTLRB),bordersWidth=this.getStyle(bordersTLRB);return{beforeX:(parseFloat(bordersWidth[borders.l])||0)+(parseFloat(paddingWidth[paddings.l])||0),afterX:(parseFloat(bordersWidth[borders.r])||0)+(parseFloat(paddingWidth[paddings.r])||0),beforeY:(parseFloat(bordersWidth[borders.t])||
0)+(parseFloat(paddingWidth[paddings.t])||0),afterY:(parseFloat(bordersWidth[borders.b])||0)+(parseFloat(paddingWidth[paddings.b])||0)}},getBorders:function(){var bordersWidth=this.getStyle(bordersTLRB);return{beforeX:parseFloat(bordersWidth[borders.l])||0,afterX:parseFloat(bordersWidth[borders.r])||0,beforeY:parseFloat(bordersWidth[borders.t])||0,afterY:parseFloat(bordersWidth[borders.b])||0}},getBorderWidth:function(side){return this.addStyles(side,borders)},getClassMap:function(clone){var data=
this.getData();data&&(data=data.classMap,!1!==clone&&(data=Ext.apply({},data)));return data},getData:function(sync){var dom=this.dom;if(dom){var data=dom._extData||(dom._extData={});!1===sync||data.isSynchronized||this.synchronize()}return data||null},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getLastChild:function(){return Ext.get(this.dom.lastElementChild)},getHeight:function(contentHeight,preciseHeight){var dom=this.dom;if(this.isStyle('display','none'))return 0;if('BODY'===
dom.nodeName)var height=Element.getViewportHeight();else preciseHeight?height=dom.getBoundingClientRect().height:(height=dom.offsetHeight,null==height&&(height=dom.getBoundingClientRect().height));Ext.supports.Direct2DBug&&(dom=this.adjustDirect2DDimension('height'),preciseHeight?height+=dom:0<dom&&.5>dom&&height++);contentHeight&&(height-=this.getBorderWidth('tb')+this.getPadding('tb'));return 0>height?0:height},getHtml:function(){return this.dom?this.dom.innerHTML:''},getLeft:function(local){return local?
this.getLocalX():this.getX()},getLocalX:function(){var offsetParent,x=this.getStyle('left');x&&'auto'!==x?pxRe.test(x)?x=parseFloat(x):(x=this.getX(),(offsetParent=this.dom.offsetParent)&&(x-=Ext.fly(offsetParent).getX())):x=0;return x},getLocalXY:function(){var offsetParent=this.getStyle(['left','top']);var x=offsetParent.left,y=offsetParent.top;x&&'auto'!==x?pxRe.test(x)?x=parseFloat(x):(x=this.getX(),(offsetParent=this.dom.offsetParent)&&(x-=Ext.fly(offsetParent).getX())):x=0;y&&'auto'!==y?pxRe.test(y)?
y=parseFloat(y):(y=this.getY(),(offsetParent=this.dom.offsetParent)&&(y-=Ext.fly(offsetParent).getY())):y=0;return[x,y]},getLocalY:function(){var offsetParent,y=this.getStyle('top');y&&'auto'!==y?pxRe.test(y)?y=parseFloat(y):(y=this.getY(),(offsetParent=this.dom.offsetParent)&&(y-=Ext.fly(offsetParent).getY())):y=0;return y},getMargin:function(){var hash={t:'top',l:'left',r:'right',b:'bottom'},allMargins=['margin-top','margin-left','margin-right','margin-bottom'];return function(side){var key;if(side)var o=
this.addStyles(side,margins);else if(side=this.getStyle(allMargins),o={},side&&'object'===typeof side)for(key in o={},margins)o[key]=o[hash[key]]=parseFloat(side[margins[key]])||0;return o}}(),getPadding:function(side){return this.addStyles(side,paddings)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(local){return(local?this.getLocalX():this.getX())+this.getWidth()},getScroll:function(){var dom=this.dom,body=DOC.body;if(dom===DOC||dom===body){var left=docEl.scrollLeft||
(body?body.scrollLeft:0);dom=docEl.scrollTop||(body?body.scrollTop:0)}else left=dom.scrollLeft,dom=dom.scrollTop;return{left,top:dom}},getScrollIntoViewXY:function(container,scrollX,scrollY,align){var dom=this.dom;align=align||empty;if(container.isRegion){var clientHeight=container.height;var clientWidth=container.width}else container=Ext.getDom(container),clientHeight=container.clientHeight,clientWidth=container.clientWidth;container=this.getOffsetsTo(container);return{y:this.calcScrollPos(container[1]+
scrollY,dom.offsetHeight,scrollY,clientHeight,align.y),x:this.calcScrollPos(container[0]+scrollX,dom.offsetWidth,scrollX,clientWidth,align.x)}},calcScrollPos:function(start,size,viewStart,viewSize,align){var end=start+size,viewEnd=viewStart+viewSize,force=align&&!endsQuestionRe.test(align),ret=viewStart;force||(align&&(align=align.slice(0,-1)),size>viewSize||start<viewStart?(align=align||'start',force=!0):end>viewEnd&&(align=align||'end',force=!0));force&&('start'===align?ret=start:'center'===align?
ret=Math.max(0,start-Math.floor(viewSize/2)):'end'===align&&(ret=Math.max(0,end-viewSize)));return ret},getScrollLeft:function(){var dom=this.dom;return dom===DOC||dom===DOC.body?this.getScroll().left:dom.scrollLeft},getScrollTop:function(){var dom=this.dom;return dom===DOC||dom===DOC.body?this.getScroll().top:dom.scrollTop},getSize:function(contentSize){return{width:this.getWidth(contentSize),height:this.getHeight(contentSize)}},getStyle:function(property,inline){var dom=this.dom,multiple='string'!==
typeof property,hooks=this.styleHooks,props=property,len=1;if(multiple){var values={};property=props[0];var i=0;if(!(len=props.length))return values}if(!dom||dom.documentElement)return values||'';var domStyle=dom.style;if(inline)var style=domStyle;else style=dom.ownerDocument.defaultView.getComputedStyle(dom,null),style||(inline=!0,style=domStyle);do{(domStyle=hooks[property])||(hooks[property]=domStyle={name:Element.normalize(property)});domStyle.get?domStyle=domStyle.get(dom,this,inline,style):
(domStyle=domStyle.name,domStyle=style[domStyle]);if(!multiple)return domStyle;values[property]=domStyle;property=props[++i]}while(i<len);return values},getStyleValue:function(name){return this.dom.style.getPropertyValue(name)},getCaretPos:function(){var dom=this.dom;if(inputTypeSelectionSupported.test(dom.type)){var pos=dom.selectionStart;(dom='number'!==typeof pos&&this.getTextSelection())&&(pos=dom[0])}return pos},setCaretPos:function(pos){this.selectText(pos,pos)},getTextSelection:function(){var dom=
this.dom;return inputTypeSelectionSupported.test(dom.type)?[dom.selectionStart,dom.selectionEnd,dom.selectionDirection]:[]},selectText:function(start,end,direction){var dom=this.dom;if(dom&&inputTypeSelectionSupported.test(dom.type)){start=start||0;var len=dom.value.length;void 0===end&&(end=len);direction=selectDir[direction]||direction||'forward';dom.setSelectionRange?dom.setSelectionRange(start,end,direction):dom.createTextRange&&(start>end&&(start=end),direction=dom.createTextRange(),direction.moveStart('character',
start),direction.moveEnd('character',-(len-end)),direction.select())}return this},getTop:function(local){return local?this.getLocalY():this.getY()},getTouchAction:function(){return Ext.dom.TouchAction.get(this.dom)},getValue:function(asNumber){var value=this.dom.value;return asNumber?parseInt(value,10):value},getViewSize:function(){var dom=this.dom;return dom===DOC||dom===DOC.body?{width:Element.getViewportWidth(),height:Element.getViewportHeight()}:{width:dom.clientWidth,height:dom.clientHeight}},
getVisibilityMode:function(){var data=this.getData(),mode=data.visibilityMode;void 0===mode&&(data.visibilityMode=mode=Element.DISPLAY);return mode},getWidth:function(contentWidth,preciseWidth){var dom=this.dom;if(this.isStyle('display','none'))return 0;Ext.supports.BoundingClientRect?(dom=dom.getBoundingClientRect(),dom=this.vertical&&!Ext.supports.RotatedBoundingClientRect?dom.bottom-dom.top:dom.right-dom.left,dom=preciseWidth?dom:Math.ceil(dom)):dom=dom.offsetWidth;if(Ext.supports.Direct2DBug&&
!this.vertical){var floating=this.adjustDirect2DDimension('width');preciseWidth?dom+=floating:0<floating&&.5>floating&&dom++}contentWidth&&(dom-=this.getBorderWidth('lr')+this.getPadding('lr'));return 0>dom?0:dom},getX:function(){return this.getXY()[0]},getXY:function(){var round=Math.round,dom=this.dom,body=DOC.body,x=0,y=0;if(dom!==DOC&&dom!==body)try{var bodyRect=body.getBoundingClientRect();var rect=dom.getBoundingClientRect();x=rect.left-bodyRect.left;y=rect.top-bodyRect.top}catch(ex){}return[round(x),
round(y)]},getY:function(){return this.getXY()[1]},getZIndex:function(){return parseInt(this.getStyle('z-index'),10)},hasCls:function(name){return this.getClassMap().hasOwnProperty(name)},hide:function(){return this.setVisible(!1)},hover:function(overFn,outFn,scope,options){this.on('mouseenter',overFn,scope||this.dom,options);this.on('mouseleave',outFn,scope||this.dom,options);return this},indexOf:function(childEl){var children=this.dom;childEl=childEl&&Ext.getDom(childEl);children=children&&children.childNodes;
return childEl&&children?Array.prototype.indexOf.call(children,childEl):-1},insertAfter:function(el){el=Ext.getDom(el);el.parentNode.insertBefore(this.dom,el.nextSibling);return this},insertBefore:function(el){el=Ext.getDom(el);el.parentNode.insertBefore(this.dom,el);return this},insertFirst:function(el,returnDom){el=el||{};return el.nodeType||el.dom||'string'===typeof el?(el=Ext.getDom(el),this.dom.insertBefore(el,this.dom.firstChild),returnDom?el:Ext.get(el)):this.createChild(el,this.dom.firstChild,
returnDom)},insertHtml:function(where,html,returnEl){where=Ext.DomHelper.insertHtml(where,this.dom,html);return returnEl?Ext.get(where):where},insertSibling:function(el,where,returnDom){var DomHelper=Ext.DomHelper;where='after'===(where||'before').toLowerCase();var e;if(Ext.isIterable(el)){var eLen=el.length;DomHelper=Ext.fly(DOC.createDocumentFragment());if(Ext.isArray(el))for(e=0;e<eLen;e++)var rt=DomHelper.appendChild(el[e],returnDom);else{for(e=0;e<eLen;e++)DomHelper.dom.appendChild(rt=el[0]);
!1===returnDom&&(rt=Ext.get(rt))}this.dom.parentNode.insertBefore(DomHelper.dom,where?this.dom.nextSibling:this.dom);return rt}el=el||{};el.nodeType||el.dom?(rt=this.dom.parentNode.insertBefore(Ext.getDom(el),where?this.dom.nextSibling:this.dom),returnDom||(rt=Ext.get(rt))):rt=where&&!this.dom.nextSibling?DomHelper.append(this.dom.parentNode,el,!returnDom):DomHelper[where?'insertAfter':'insertBefore'](this.dom,el,!returnDom);return rt},is:function(selector){var dom=this.dom;return selector?dom.tagName?
Ext.isFunction(selector)?selector(dom):dom[Ext.supports.matchesSelector](selector):!1:!0},isAncestor:function(el){var ret=!1,dom=this.dom;el=Ext.getDom(el);if(dom&&el){if(!el.nodeType)return!1;if(dom.contains)return dom.contains(el);if(dom.compareDocumentPosition)return!!(dom.compareDocumentPosition(el)&16);for(;el=el.parentNode;)ret=el===dom||ret}return ret},isPainted:function(){return Ext.browser.is.IE?function(){var dom=this.dom;return!(!dom||0===dom.offsetHeight&&0===dom.offsetWidth)}:function(){var dom=
this.dom;return!(!dom||!dom.offsetParent)}}(),isScrollable:function(){var dom=this.dom;return dom.scrollHeight>dom.clientHeight||dom.scrollWidth>dom.clientWidth},isStyle:function(style,val){return this.getStyle(style)===val},isVisible:function(deep,mode){var dom=this.dom,visible=!0,end;if(!dom)return!1;mode=mode||3;visFly||(visFly=new Ext.dom.Fly);for(end=dom.ownerDocument.documentElement;dom!==end&&(dom&&11!==dom.nodeType||(visible=!1),visible&&(visFly.attach(dom),mode&1&&(visible=!visFly.isStyle('display',
'none')),visible&&mode&2&&(visible=!visFly.isStyle('visibility','hidden'))),visible&&deep);dom=dom.parentNode);return visible},last:function(selector,returnDom){return this.matchNode('previousSibling','lastChild',selector,returnDom)},matchNode:function(dir,start,selector,returnDom){var dom=this.dom;if(!dom)return null;for(start=dom[start];start;){if(1===start.nodeType&&(!selector||Ext.fly(start,'_matchNode').is(selector)))return returnDom?start:Ext.get(start);start=start[dir]}return null},measure:function(dimension){var dom=
this.dom,includeWidth='h'!==dimension,includeHeight='w'!==dimension,width=0,height=0,addPadding=!Ext.supports.ComputedSizeIncludesPadding;if('BODY'===dom.nodeName)height=includeHeight&&Element.getViewportHeight(),width=includeWidth&&Element.getViewportWidth();else{var offsetParent=dom.offsetParent;dom=dom.ownerDocument.defaultView.getComputedStyle(dom,null);addPadding|='content-box'===dom.boxSizing;if(null!==offsetParent||'fixed'===dom.position)includeHeight&&(height=parseFloat(dom.height)||0,addPadding&&
(height+=(parseFloat(dom.paddingTop)||0)+(parseFloat(dom.paddingBottom)||0)+(parseFloat(dom.borderTopWidth)||0)+(parseFloat(dom.borderBottomWidth)||0))),includeWidth&&(width=parseFloat(dom.width)||0,addPadding&&(width+=(parseFloat(dom.paddingLeft)||0)+(parseFloat(dom.paddingRight)||0)+(parseFloat(dom.borderLeftWidth)||0)+(parseFloat(dom.borderRightWidth)||0)))}includeHeight=dimension?null:{width,height};return dimension?includeWidth?width:height:includeHeight},measureContent:function(dimension){var includeWidth=
'h'!==dimension,size=this.measure(dimension),h=dimension?size:size.height;size=dimension?size:size.width;'w'!==dimension&&(h-=this.getBorderWidth('tb')+this.getPadding('tb'));includeWidth&&(size-=this.getBorderWidth('lr')+this.getPadding('lr'));return dimension?includeWidth?size:h:{width:size,height:h}},monitorMouseLeave:function(delay,handler,scope){var me=this,timer,listeners={mouseleave:function(e){Ext.isIE9m&&e.enableIEAsync();timer=Ext.defer(handler,delay,scope||me,[e])},mouseenter:function(){Ext.undefer(timer)},
destroy:function(){Ext.undefer(timer);me.destroyed||me.un(listeners)}};me.on(listeners);return listeners},next:function(selector,returnDom){return this.matchNode('nextSibling','nextSibling',selector,returnDom)},parent:function(selector,returnDom){return this.matchNode('parentNode','parentNode',selector,returnDom)},peekData:function(){var dom=this.dom;return dom&&dom._extData||null},position:function(pos,zIndex,x,y){'BODY'!==this.dom.tagName&&(!pos&&this.isStyle('position','static')?this.setStyle('position',
'relative'):pos&&this.setStyle('position',pos),zIndex&&this.setStyle('z-index',zIndex),(x||y)&&this.setXY([x||!1,y||!1]))},prev:function(selector,returnDom){return this.matchNode('previousSibling','previousSibling',selector,returnDom)},query:function(selector,asDom,single){var dom=this.dom,results,len,nlen;if(!dom)return null;asDom=!1!==asDom;selector=selector.split(',');single||(results=[]);var i=0;for(len=selector.length;i<len;i++)if('string'===typeof selector[i]){if(single)return selector=dom.querySelector(selector[i]),
asDom?selector:Ext.get(selector);var nodes=dom.querySelectorAll(selector[i]);var j=0;for(nlen=nodes.length;j<nlen;j++)results.push(asDom?nodes[j]:Ext.get(nodes[j]))}return results},radioCls:function(className){var cn=this.dom.parentNode.childNodes,v,len;className=Ext.isArray(className)?className:[className];var i=0;for(len=cn.length;i<len;i++)(v=cn[i])&&1===v.nodeType&&Ext.fly(v).removeCls(className);return this.addCls(className)},redraw:function(){var dom=this.dom,domStyle=dom.style;domStyle.display=
'none';dom.offsetHeight;domStyle.display=''},remove:function(){this.destroy()},removeChild:function(element){this.dom.removeChild(Ext.getDom(element));return this},removeCls:function(names,prefix,suffix){return this.replaceCls(names,null,prefix,suffix)},repaint:function(cls,state){var me=this,off;if(cls)null!=state&&(on=state,off=!state);else{cls='x-repaint';var on=!(off=!1)}me.toggleCls(cls,on);me.repaintTimer||(me.repaintTimer=Ext.defer(function(){me.repaintTimer=null;me.dom&&me.toggleCls(cls,off)},
1));return me},replace:function(el,destroy){el=Ext.getDom(el);var parentNode=el.parentNode,id=el.id,dom=this.dom;!1!==destroy&&id&&Ext.cache[id]?(parentNode.insertBefore(dom,el),Ext.get(el).destroy()):parentNode.replaceChild(dom,el);return this},replaceCls:function(remove,add,prefix,suffix){var dom=this.dom,added=0,removed=0,rem=remove,data=(add||remove)&&this.getData(),n,name;if(data){remove=data.classList;data=data.classMap;add=add?'string'===typeof add?add.split(spacesRe):add:EMPTY;rem=rem?'string'===
typeof rem?rem.split(spacesRe):rem:EMPTY;(prefix=prefix||'')&&'-'!==prefix[prefix.length-1]&&(prefix+='-');(suffix=suffix||'')&&'-'!==suffix[0]&&(suffix='-'+suffix);var i=0;for(n=rem.length;i<n;i++)if(name=rem[i])name=prefix+name+suffix,data[name]&&(delete data[name],++removed);i=0;for(n=add.length;i<n;i++)if(name=add[i])name=prefix+name+suffix,data[name]||(data[name]=!0,removed||(remove.push(name),++added));removed?this.setClassMap(data,!0):added&&(remove=remove.join(' '),!Ext.isIE8&&dom instanceof
SVGElement?dom.setAttribute('class',remove):dom.className=remove)}return this},replaceWith:function(el){var dom=this.dom,parent=dom.parentNode,cache=Ext.cache;this.clearListeners();el.nodeType||el.dom||'string'===typeof el?(el=Ext.get(el),el=parent.insertBefore(el.dom,dom)):el=Ext.DomHelper.insertBefore(dom,el);parent.removeChild(dom);this.dom=el;this.isFly||(delete cache[this.id],cache[this.id=Ext.id(el)]=this);return this},resolveListenerScope:function(defaultScope){var component=this.component;
return component?component.resolveListenerScope(defaultScope):this},scroll:function(direction,distance,animate){if(!this.isScrollable())return!1;direction=direction.charAt(0);var dom=this.dom,side='r'===direction||'l'===direction?'left':'top',scrolled=!1;if('l'===direction||'t'===direction||'u'===direction)distance=-distance;'left'===side?(direction=dom.scrollLeft,distance=this.constrainScrollLeft(direction+distance)):(direction=dom.scrollTop,distance=this.constrainScrollTop(direction+distance));
distance!==direction&&(this.scrollTo(side,distance,animate),scrolled=!0);return scrolled},scrollBy:function(deltaX,deltaY,animate){var dom=this.dom;deltaX.length?(animate=deltaY,deltaY=deltaX[1],deltaX=deltaX[0]):'number'!==typeof deltaX&&(animate=deltaY,deltaY=deltaX.y,deltaX=deltaX.x);deltaX&&this.scrollTo('left',this.constrainScrollLeft(dom.scrollLeft+deltaX),animate);deltaY&&this.scrollTo('top',this.constrainScrollTop(dom.scrollTop+deltaY),animate);return this},scrollChildIntoView:function(child,
hscroll){Ext.fly(child).scrollIntoView(this,hscroll)},scrollIntoView:function(container,hscroll,animate,highlight){container=Ext.getDom(container)||Ext.getBody().dom;return this.doScrollIntoView(container,hscroll,animate,highlight,'getScrollLeft','scrollTo')},scrollTo:function(side,value,animate){side=topRe.test(side)?'scrollTop':'scrollLeft';var dom=this.dom;animate&&this.anim?(dom={to:{}},dom.to[side]=value,Ext.isObject(animate)&&Ext.applyIf(dom,animate),this.animate(dom)):(dom[side]=value,dom[side]=
value);return this},select:function(selector,composite){var isElementArray;'string'===typeof selector?selector=this.query(selector,!composite):isElementArray=!0;return composite?new Ext.CompositeElement(selector,!isElementArray):new Ext.CompositeElementLite(selector,!0)},selectNode:function(selector,asDom){return this.query(selector,asDom,!0)},set:function(attributes,useSet){var dom=this.dom,attribute;for(attribute in attributes)if(attributes.hasOwnProperty(attribute)){var value=attributes[attribute];
'style'===attribute?this.applyStyles(value):'cls'===attribute?dom.className=value:!1!==useSet?void 0===value?dom.removeAttribute(attribute):dom.setAttribute(attribute,value):dom[attribute]=value}return this},setBottom:function(bottom){this.dom.style.bottom=Element.addUnits(bottom);return this},setClassMap:function(classMap,keep){var data=this.getData(!1);data&&(classMap=keep&&classMap||Ext.apply({},classMap),data.classMap=classMap,data.classList=classMap=Ext.Object.getKeys(classMap),data.isSynchronized=
!0,this.dom.className=classMap.join(' '))},setCls:function(className){var elementData=this.getData(!1),ln,map;'string'===typeof className&&(className=className.split(spacesRe));elementData.classList=className=className.slice();elementData.classMap=map={};elementData=0;for(ln=className.length;elementData<ln;elementData++)map[className[elementData]]=!0;this.dom.className=className.join(' ')},setDisplayed:function(value){'boolean'===typeof value&&(value=value?this._getDisplay():'none');this.setStyle('display',
value);(this.shadow||this.shim)&&this.setUnderlaysVisible('none'!==value);return this},setHeight:function(height){this.dom.style.height=Element.addUnits(height);(this.shadow||this.shim)&&this.syncUnderlays();return this},setHtml:function(html){this.dom&&(this.dom.innerHTML=html);return this},setId:function(id){var currentId=this.id,cache=Ext.cache;currentId&&delete cache[currentId];this.id=this.dom.id=id;cache[id]=this;return this},setLeft:function(left){this.dom.style.left=Element.addUnits(left);
(this.shadow||this.shim)&&this.syncUnderlays();return this},setLocalX:function(x){var style=this.dom.style;style.right='';style.left=null===x?'auto':x+'px';(this.shadow||this.shim)&&this.syncUnderlays();return this},setLocalXY:function(x,y){var style=this.dom.style;style.right='';x&&x.length&&(y=x[1],x=x[0]);null===x?style.left='auto':void 0!==x&&(style.left=x+'px');null===y?style.top='auto':void 0!==y&&(style.top=y+'px');(this.shadow||this.shim)&&this.syncUnderlays();return this},setLocalY:function(y){this.dom.style.top=
null===y?'auto':y+'px';(this.shadow||this.shim)&&this.syncUnderlays();return this},setMargin:function(margin){var domStyle=this.dom.style;margin||0===margin?(margin=this.self.unitizeBox(!0===margin?5:margin),domStyle.setProperty('margin',margin,'important')):(domStyle.removeProperty('margin-top'),domStyle.removeProperty('margin-right'),domStyle.removeProperty('margin-bottom'),domStyle.removeProperty('margin-left'))},setMaxHeight:function(height){this.dom.style['max-height']=Element.addUnits(height);
return this},setMaxWidth:function(width){this.dom.style['max-width']=Element.addUnits(width);return this},setMinHeight:function(height){this.dom.style['min-height']=Element.addUnits(height);return this},setMinWidth:function(width){this.dom.style['min-width']=Element.addUnits(width);return this},setOpacity:function(opacity){this.dom&&this.setStyle('opacity',opacity);return this},setPadding:function(padding){var domStyle=this.dom.style;padding||0===padding?(padding=this.self.unitizeBox(!0===padding?
5:padding),domStyle.setProperty('padding',padding,'important')):(domStyle.removeProperty('padding-top'),domStyle.removeProperty('padding-right'),domStyle.removeProperty('padding-bottom'),domStyle.removeProperty('padding-left'))},setRight:function(right){this.dom.style.right=Element.addUnits(right);return this},setScrollLeft:function(left){this.dom.scrollLeft=left;return this},setScrollTop:function(top){this.dom.scrollTop=top;return this},setSize:function(width,height){var style=this.dom.style;Ext.isObject(width)&&
(height=width.height,width=width.width);void 0!==width&&(style.width=Element.addUnits(width));void 0!==height&&(style.height=Element.addUnits(height));(this.shadow||this.shim)&&this.syncUnderlays();return this},setStyle:function(prop,value){var dom=this.dom,hooks=this.styleHooks,style=dom.style,name=prop,hook;if('string'===typeof name)(hook=hooks[name])||(hooks[name]=hook={name:Element.normalize(name)}),value=null==value?'':value,hook.set?hook.set(dom,value,this):style[hook.name]=value,hook.afterSet&&
hook.afterSet(dom,value,this);else for(name in prop)(hook=hooks[name])||(hooks[name]=hook={name:Element.normalize(name)}),value=prop[name],value=null==value?'':value,hook.set?hook.set(dom,value,this):style[hook.name]=value,hook.afterSet&&hook.afterSet(dom,value,this);return this},setText:function(text){this.dom.textContent=text},getText:function(){return this.dom.textContent},setTop:function(top){this.dom.style.top=Element.addUnits(top);(this.shadow||this.shim)&&this.syncUnderlays();return this},
setTouchAction:function(touchAction){Ext.dom.TouchAction.set(this.dom,touchAction)},setUnderlaysVisible:function(visible){var shadow=this.shadow,shim=this.shim;shadow&&!shadow.disabled&&(visible?shadow.show():shadow.hide());shim&&!shim.disabled&&(visible?shim.show():shim.hide())},setVisibility:function(isVisible){var domStyle=this.dom.style;isVisible?domStyle.removeProperty('visibility'):domStyle.setProperty('visibility','hidden','important')},setVisibilityMode:function(mode){this.getData().visibilityMode=
mode;return this},setVisible:function(visible){var mode=this.getVisibilityMode(),addOrRemove=visible?'removeCls':'addCls';switch(mode){case Element.DISPLAY:this.removeCls(['x-hidden-visibility','x-hidden-offsets','x-hidden-clip','x-hidden-opacity']);this[addOrRemove]('x-hidden-display');break;case Element.VISIBILITY:this.removeCls(['x-hidden-display','x-hidden-offsets','x-hidden-clip','x-hidden-opacity']);this[addOrRemove]('x-hidden-visibility');break;case Element.OFFSETS:this.removeCls(['x-hidden-visibility',
'x-hidden-display','x-hidden-clip','x-hidden-opacity']);this[addOrRemove]('x-hidden-offsets');break;case Element.CLIP:this.removeCls(['x-hidden-visibility','x-hidden-display','x-hidden-offsets','x-hidden-opacity']);this[addOrRemove]('x-hidden-clip');break;case Element.OPACITY:this.removeCls(['x-hidden-visibility','x-hidden-display','x-hidden-offsets','x-hidden-clip']),this[addOrRemove]('x-hidden-opacity')}(this.shadow||this.shim)&&this.setUnderlaysVisible(visible);!visible&&this.$ripples&&this.destroyAllRipples();
return this},setWidth:function(width){this.dom.style.width=Element.addUnits(width);(this.shadow||this.shim)&&this.syncUnderlays();return this},setX:function(x){return this.setXY([x,!1])},setXY:function(xy){xy=this.translatePoints(xy);var style=this.dom.style,pos;this.position();style.right='';for(pos in xy)isNaN(xy[pos])||(style[pos]=xy[pos]+'px');(this.shadow||this.shim)&&this.syncUnderlays();return this},setY:function(y){return this.setXY([!1,y])},setZIndex:function(zindex){this.shadow&&this.shadow.setZIndex(zindex);
this.shim&&this.shim.setZIndex(zindex);return this.setStyle('z-index',zindex)},show:function(){return this.setVisible(!0)},swallowEvent:function(eventName,preventDefault){var e$jscomp$0,listeners={destroyable:!0},fn=function(e){e.stopPropagation();preventDefault&&e.preventDefault()};if(Ext.isArray(eventName)){var eLen=eventName.length;for(e$jscomp$0=0;e$jscomp$0<eLen;e$jscomp$0++)listeners[eventName[e$jscomp$0]]=fn}else listeners[eventName]=fn;return this.on(listeners)},swapCls:function(firstClass,
secondClass,flag,prefix){void 0===flag&&(flag=!0);var addedClass=flag?firstClass:secondClass;(firstClass=flag?secondClass:firstClass)&&this.removeCls(prefix?prefix+'-'+firstClass:firstClass);addedClass&&this.addCls(prefix?prefix+'-'+addedClass:addedClass);return this},synchronize:function(){var dom=this.dom,hasClassMap={},className=dom.className,ln,elementData=this.getData(!1);if(className&&0<className.length)for(dom=dom.className.split(classNameSplitRegex),className=0,ln=dom.length;className<ln;className++){var name=
dom[className];hasClassMap[name]=!0}else dom=[];elementData.classList=dom;elementData.classMap=hasClassMap;elementData.isSynchronized=!0;return this},syncUnderlays:function(){var shadow=this.shadow,shim=this.shim,dom=this.dom;if(this.isVisible()){var xy=this.getXY();var x=xy[0];xy=xy[1];var w=dom.offsetWidth;dom=dom.offsetHeight;shadow&&!shadow.hidden&&shadow.realign(x,xy,w,dom);shim&&!shim.hidden&&shim.realign(x,xy,w,dom)}},toggleCls:function(className,state){null==state&&(state=!this.hasCls(className));
return state?this.addCls(className):this.removeCls(className)},toggle:function(){this.setVisible(!this.isVisible());return this},translate:function(){var transformStyleName='webkitTransform'in DOC.createElement('div').style?'webkitTransform':'transform';return function(x,y,z){x=Math.round(x);y=Math.round(y);z=Math.round(z);this.dom.style[transformStyleName]='translate3d('+(x||0)+'px, '+(y||0)+'px, '+(z||0)+'px)'}}(),unwrap:function(){var dom=this.dom,parentNode=dom.parentNode,activeElement=(activeElFly||
(activeElFly=new Ext.dom.Fly)).attach(Ext.Element.getActiveElement()),cached;grannyFly=grannyFly||new Ext.dom.Fly;(cached=Ext.cache[activeElement.dom.id])&&(activeElement=cached);if(this.contains(activeElement)){cached&&cached.suspendFocusEvents();var resumeFocus=!0}if(parentNode){var grandparentNode=parentNode.parentNode;if(resumeFocus){var tabIndex=grandparentNode.getAttribute('tabIndex');grannyFly.attach(grandparentNode);grannyFly.set({tabIndex:-1});grannyFly.suspendFocusEvents();grannyFly.focus()}grandparentNode.insertBefore(dom,
parentNode);grandparentNode.removeChild(parentNode)}else grandparentNode=DOC.createDocumentFragment(),grandparentNode.appendChild(dom);resumeFocus&&(cached?(cached.focus(),cached.resumeFocusEvents()):activeElement.focus(),grannyFly&&(grannyFly.resumeFocusEvents(),grannyFly.set({tabIndex})));return this},up:function(simpleSelector,limit,returnDom){return this.findParentNode(simpleSelector,limit,!returnDom)},update:function(html){return this.setHtml(html)},wrap:function(config,returnDom,selector){var dom=
this.dom;config=Ext.DomHelper.insertBefore(dom,config||{tag:'div'},!returnDom);var newEl=(wrapFly||(wrapFly=new Ext.dom.Fly)).attach(Ext.getDom(config)),target=newEl,activeElement=(activeElFly||(activeElFly=new Ext.dom.Fly)).attach(Ext.Element.getActiveElement()),cached;(cached=Ext.cache[activeElement.dom.id])&&(activeElement=cached);selector&&(target=newEl.selectNode(selector,returnDom));if(this.contains(activeElement)){cached&&cached.suspendFocusEvents();var tabIndex=Ext.getDom(newEl).getAttribute('tabIndex');
newEl.set({tabIndex:-1});newEl.suspendFocusEvents();newEl.focus();var resumeFocus=!0}(target.dom||target).appendChild(dom);resumeFocus&&(cached?(cached.focus(),cached.resumeFocusEvents()):activeElement.focus(),newEl.resumeFocusEvents(),newEl.set({tabIndex}));return config},isFocusable:function(skipVisibility){var dom=this.dom,focusable=!1;if(dom&&!dom.disabled){var nodeName=dom.nodeName;focusable=!!Ext.Element.naturallyFocusableTags[nodeName]||('A'===nodeName||'LINK'===nodeName)&&!!dom.href||null!=
dom.getAttribute('tabIndex')||'true'===dom.contentEditable;Ext.isIE8&&'INPUT'===nodeName&&'hidden'===dom.type&&(focusable=!1);focusable=focusable&&(skipVisibility||this.isVisible(!0))}return focusable},isInputField:function(){var dom=this.dom,contentEditable=dom.contentEditable;return Ext.Element.inputTags[dom.tagName]&&'button'!==dom.type||''===contentEditable||'true'===contentEditable?!0:!1},isTabbable:function(includeHidden){var dom=this.dom,tabbable=!1;if(dom&&!dom.disabled){var nodeName=dom.nodeName;
var tabIndex=dom.getAttribute('tabIndex');var hasIndex=null!=tabIndex;tabIndex-=0;'A'===nodeName||'LINK'===nodeName?tabbable=dom.href?hasIndex&&0>tabIndex?!1:!0:'true'===dom.contentEditable?!hasIndex||hasIndex&&0<=tabIndex?!0:!1:hasIndex&&0<=tabIndex?!0:!1:'true'===dom.contentEditable||Ext.Element.naturallyTabbableTags[nodeName]?tabbable=hasIndex&&0>tabIndex?!1:!0:hasIndex&&0<=tabIndex&&(tabbable=!0);Ext.isIE8&&'INPUT'===nodeName&&'hidden'===dom.type&&(tabbable=!1);tabbable=tabbable&&(includeHidden||
(!this.component||this.component.isVisible(!0))&&this.isVisible(!0))}return tabbable},ripplingCls:'x-rippling',ripplingTransitionCls:'x-ripple-transition',ripplingUnboundCls:'x-rippling-unbound',rippleBubbleCls:'x-ripple-bubble',rippleContainerCls:'x-ripple-container',rippleWrapperCls:'x-ripple-wrapper',noRippleDisplayMap:{table:1,'table-row':1,'table-row-group':1},noRippleTagMap:{TABLE:1,TR:1,TBODY:1},ripple:function(event,options){!0!==options&&options?Ext.isString(options)&&(options={color:options}):
options={};var me=this,rippleParent=Ext.isString(options.delegate)?me.down(options.delegate):me,rippleMeasureEl=Ext.isString(options.measureSelector)?me.down(options.measureSelector):null,color=window.getComputedStyle(rippleParent.dom).color,unbound=!1===options.bound,position=options.position,ripplingCls=me.ripplingCls,ripplingTransitionCls=me.ripplingTransitionCls,ripplingUnboundCls=me.ripplingUnboundCls,rippleBubbleCls=me.rippleBubbleCls,rippleContainerCls=me.rippleContainerCls,rippleWrapperCls=
me.rippleWrapperCls,measureElWidth;if(rippleParent){var offset=rippleParent.getXY();var width=rippleParent.getWidth();var height=rippleParent.getHeight();if(measureElWidth=rippleParent.$rippleClearTimeout)rippleParent.$rippleClearTimeout=Ext.undefer(measureElWidth);rippleMeasureEl?(measureElWidth=rippleMeasureEl.getWidth(),rippleMeasureEl=rippleMeasureEl.getHeight(),rippleMeasureEl=Math.max(measureElWidth,rippleMeasureEl)):rippleMeasureEl=width>height?width:height;void 0===options.diameterLimit||
!0===options.diameterLimit?rippleMeasureEl=Math.min(rippleMeasureEl,Element.maxRippleDiameter):options.diameterLimit&&!1!==options.diameterLimit&&0!==options.diameterLimit&&(rippleMeasureEl=Math.min(rippleMeasureEl,options.diameterLimit));width=[offset[0]+width/2,offset[1]+height/2];if(unbound)if(!1!==options.fit){var rippleSize=2.15*rippleMeasureEl;var rippleBox=rippleParent.getRegion();rippleBox.setPosition(rippleBox.getCenter()).setSize(rippleSize).translateBy(-rippleSize/2,-rippleSize/2);rippleSize=
me.up(function(candidate){var fly=Ext.fly(candidate,'ripple');return!(candidate.tagName in me.noRippleTagMap)&&!(fly.getStyle('display')in me.noRippleDisplayMap)&&fly.getRegion().contains(rippleBox)})||Ext.getBody()}else rippleSize=rippleParent;Ext.isString(event)?(options.color=event,event=null):event&&!event.isEvent&&(event=new Ext.event.Event(event));if(event&&event.isEvent){if(event.browserEvent.$preventRipple)return;position=event.getXY();event.browserEvent.$preventRipple=!0}position=!unbound&&
!options.centered&&position||width;event=position[0]-offset[0]-rippleMeasureEl/2;position=position[1]-offset[1]-rippleMeasureEl/2;rippleParent.addCls(ripplingTransitionCls);if(unbound){var unboundElData=rippleSize.getData();var rippleWrapper=unboundElData.rippleWrapper;rippleWrapper||(unboundElData.rippleWrapper=rippleWrapper=rippleSize.insertFirst({style:'position: absolute; top: 0; left: 0',cls:rippleWrapperCls+' '+ripplingCls+' '+ripplingUnboundCls}))}else{rippleParent.addCls(ripplingCls);var rippleContainer=
rippleParent.child('.'+rippleContainerCls)}rippleContainer||(unbound?(rippleContainer=rippleWrapper.append({cls:rippleContainerCls}),rippleContainer.setXY(offset)):rippleContainer=rippleParent.append({cls:rippleContainerCls}));var rippleBubble=rippleContainer.append({cls:rippleBubbleCls});'default'!==options.color&&rippleBubble.setStyle('backgroundColor',options.color||color);rippleBubble.setWidth(rippleMeasureEl);rippleBubble.setHeight(rippleMeasureEl);rippleBubble.setTop(position);rippleBubble.setLeft(event);
var rippleClearFn=function(){rippleParent.destroyed||(rippleParent.$rippleClearTimeout=Ext.defer(function(){rippleParent.removeCls([ripplingCls,ripplingTransitionCls]);rippleParent.$rippleClearTimeout=null},50))};color=function(){var ripple;rippleBubble.destroy();me.$ripples&&delete me.$ripples[rippleBubble.id];if(ripple=rippleParent.$rippleClearTimeout)rippleParent.$rippleClearTimeout=Ext.undefer(ripple);unbound?(rippleContainer.destroy(),ripple=rippleWrapper.child('.'+rippleContainerCls),ripple||
(unboundElData.rippleWrapper=null,rippleWrapper.destroy(),rippleClearFn())):(ripple=rippleContainer.child('.'+rippleBubbleCls),ripple||(rippleContainer.destroy(),rippleClearFn()))};options=Ext.defer(color,options.destroyTime||1E3,me);me.$ripples||(me.$ripples={});me.$ripples[rippleBubble.id]={timerId:options,destructor:color};rippleBubble.addCls('x-ripple')}},destroyAllRipples:function(){var rippleEl;for(rippleEl in this.$ripples){var ripple=this.$ripples[rippleEl];Ext.undefer(ripple.timerId);ripple.destructor&&
ripple.destructor()}this.$ripples=null},privates:{findTabbableElements:function(options){var dom=this.dom,cAttr=Ext.Element.tabbableSavedCounterAttribute,selection=[],idx=0;if(!dom)return selection;if(options){var skipSelf=options.skipSelf;var skipChildren=options.skipChildren;var excludeRoot=options.excludeRoot;var includeSaved=options.includeSaved;var includeHidden=options.includeHidden}if((excludeRoot=excludeRoot&&Ext.getDom(excludeRoot))&&excludeRoot.contains(dom))return selection;!skipSelf&&
(includeSaved&&dom.hasAttribute(cAttr)||this.isTabbable(includeHidden))&&(selection[idx++]=dom);if(skipChildren)return selection;options=dom.querySelectorAll(Ext.Element.tabbableSelector);var len=options.length;if(!len)return selection;skipChildren=new Ext.dom.Fly;for(dom=0;dom<len;dom++){skipSelf=options[dom];var tabIndex=+skipSelf.getAttribute('tabIndex');!(includeSaved&&skipSelf.hasAttribute(cAttr)||!(0>tabIndex)&&skipChildren.attach(skipSelf).isTabbable(includeHidden))||excludeRoot&&(excludeRoot===
skipSelf||excludeRoot.contains(skipSelf))||(selection[idx++]=skipSelf)}return selection},saveTabbableState:function(options){var counterAttr=Ext.Element.tabbableSavedCounterAttribute,savedAttr=Ext.Element.tabbableSavedValueAttribute,len;options&&null!=options.includeSaved||(options=Ext.Object.chain(options||null),options.includeSaved=!0);var nodes=this.findTabbableElements(options);var i=0;for(len=nodes.length;i<len;i++){var node=nodes[i];options=+node.getAttribute(counterAttr);0<options?node.setAttribute(counterAttr,
++options):(node.hasAttribute('tabIndex')?node.setAttribute(savedAttr,node.getAttribute('tabIndex')):node.setAttribute(savedAttr,'none'),node.setAttribute('tabIndex','-1'),node.setAttribute(counterAttr,'1'))}return nodes},restoreTabbableState:function(options){var dom=this.dom,counterAttr=Ext.Element.tabbableSavedCounterAttribute,savedAttr=Ext.Element.tabbableSavedValueAttribute,nodes=[],skipSelf=options&&options.skipSelf,reset=options&&options.reset;if(!dom)return this;options&&options.skipChildren||
(nodes=Ext.Array.from(dom.querySelectorAll('['+counterAttr+']')));skipSelf||nodes.unshift(dom);dom=0;for(skipSelf=nodes.length;dom<skipSelf;dom++)if(options=nodes[dom],options.hasAttribute(counterAttr)&&options.hasAttribute(savedAttr)){var idx=+options.getAttribute(counterAttr);!reset&&1<idx?options.setAttribute(counterAttr,--idx):(idx=options.getAttribute(savedAttr),'none'===idx?options.removeAttribute('tabIndex'):options.setAttribute('tabIndex',idx),options.removeAttribute(savedAttr),options.removeAttribute(counterAttr))}return nodes},
setTabIndex:function(tabIndex){var dom=this.dom,savedAttr=Ext.Element.tabbableSavedValueAttribute;dom.hasAttribute(savedAttr)?null==tabIndex?(dom.setAttribute(savedAttr,'none'),dom.removeAttribute('tabIndex')):dom.setAttribute(savedAttr,tabIndex):null==tabIndex?dom.removeAttribute('tabIndex'):dom.setAttribute('tabIndex',tabIndex)},doAddListener:function(eventName,fn,scope,options,order,caller,manager){var originalName=eventName,additiveEventName;eventName=Ext.canonicalEventName(eventName);if(!this.blockedEvents[eventName]){var observableDoAddListener=
this.mixins.observable.doAddListener;options=options||{};!1===Element.useDelegatedEvents&&(options.delegated=options.delegated||!1);if(!1!==options.translate){if(additiveEventName=this.additiveEvents[eventName])options.type=eventName,eventName=additiveEventName,observableDoAddListener.call(this,eventName,fn,scope,options,order,caller,manager);if(additiveEventName=this.eventMap[eventName])options.type=options.type||eventName,manager&&(options.managedName=originalName),eventName=additiveEventName}if(observableDoAddListener.call(this,
eventName,fn,scope,options,order,caller,manager)&&this.longpressEvents[eventName]&&1===++this.longpressListenerCount)this.on('MSHoldVisual','preventMsHoldVisual',this);manager&&additiveEventName&&delete options.managedName;delete options.type}},doRemoveListener:function(eventName,fn,scope){var translatedEventName,removed;eventName=Ext.canonicalEventName(eventName);if(!this.blockedEvents[eventName]){var observableDoRemoveListener=this.mixins.observable.doRemoveListener;if(translatedEventName=this.additiveEvents[eventName])eventName=
translatedEventName,observableDoRemoveListener.call(this,eventName,fn,scope);(translatedEventName=this.eventMap[eventName])&&(removed=observableDoRemoveListener.call(this,translatedEventName,fn,scope));(removed=observableDoRemoveListener.call(this,eventName,fn,scope)||removed)&&this.longpressEvents[eventName]&&!--this.longpressListenerCount&&this.un('MSHoldVisual','preventMsHoldVisual',this)}},_initEvent:function(eventName){return this.events[eventName]=new Ext.dom.ElementEvent(this,eventName)},_getDisplay:function(){var data=
this.getData(),display=data.originalDisplay;void 0===display&&(data.originalDisplay=display='');return display},_getPublisher:function(eventName,noTranslate){var Publisher=Ext.event.publisher.Publisher,publisher=Publisher.publishersByEvent[eventName];if(noTranslate&&!Ext.event.Event.gestureEvents[eventName]||!publisher||this.dom===window&&'resize'===eventName)publisher=Publisher.publishers.dom;return publisher},isFocusSuspended:function(){var data=this.peekData();return data&&data.suspendFocusEvents},
preventMsHoldVisual:function(e){e.preventDefault()},suspendFocusEvents:function(){this.isFly||this.suspendEvent('focus','blur');this.getData().suspendFocusEvents=!0},resumeFocusEvents:function(){function resumeFn(){var data;if(!this.destroyed){if(data=this.getData())data.suspendFocusEvents=!1;this.isFly||this.resumeEvent('focus','blur')}}!this.destroyed&&this.getData().suspendFocusEvents&&(Ext.isIE&&!this.isFly?this.resumeFocusEventsTimer=Ext.asap(resumeFn,this):resumeFn.call(this))}},deprecated:{'5.0':{methods:{getHTML:'getHtml',
getPageBox:function(getRegion){var dom=this.dom,isDoc='BODY'===dom.nodeName,w=isDoc?Element.getViewportWidth():dom.offsetWidth;dom=isDoc?Element.getViewportHeight():dom.offsetHeight;var xy=this.getXY();isDoc=xy[1];var r=xy[0]+w,b=xy[1]+dom;xy=xy[0];return getRegion?new Ext.util.Region(isDoc,r,b,xy):{left:xy,top:isDoc,width:w,height:dom,right:r,bottom:b}},isTransparent:function(prop){return(prop=this.getStyle(prop))?transparentRe.test(prop):!1},purgeAllListeners:'clearListeners',removeAllListeners:'clearListeners',
setHTML:'setHtml'}}}}},1,0,0,0,0,[[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.dom,'Element',Ext,'Element'],function(Element){var DOC=document,docEl=DOC.documentElement,prototype=Element.prototype,supports=Ext.supports,eventMap=prototype.eventMap={},additiveEvents=prototype.additiveEvents={},oldId=Ext.id;prototype._init(Element);delete prototype._init;
Ext.id=function(obj,prefix){var el=obj&&Ext.getDom(obj,!0);el?(obj=el.id)||(obj=oldId(null,prefix||Element.prototype.identifiablePrefix),Ext.isSandboxed&&(prefix=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+'-'),obj=prefix+obj),el.id=obj):obj=oldId(obj,prefix);return obj};supports.PointerEvents?(eventMap.mousedown='pointerdown',eventMap.mousemove='pointermove',eventMap.mouseup='pointerup',eventMap.touchstart='pointerdown',eventMap.touchmove='pointermove',eventMap.touchend='pointerup',
eventMap.touchcancel='pointercancel',eventMap.mouseover='pointerover',eventMap.mouseout='pointerout',eventMap.mouseenter='pointerenter',Ext.isIE11||(eventMap.mouseleave='pointerleave')):supports.MSPointerEvents?(eventMap.pointerdown='MSPointerDown',eventMap.pointermove='MSPointerMove',eventMap.pointerup='MSPointerUp',eventMap.pointercancel='MSPointerCancel',eventMap.mousedown='MSPointerDown',eventMap.mousemove='MSPointerMove',eventMap.mouseup='MSPointerUp',eventMap.touchstart='MSPointerDown',eventMap.touchmove=
'MSPointerMove',eventMap.touchend='MSPointerUp',eventMap.touchcancel='MSPointerCancel',eventMap.mouseover='MSPointerOver',eventMap.mouseout='MSPointerOut'):supports.TouchEvents?(eventMap.pointerdown='touchstart',eventMap.pointermove='touchmove',eventMap.pointerup='touchend',eventMap.pointercancel='touchcancel',eventMap.mousedown='touchstart',eventMap.mousemove='touchmove',eventMap.mouseup='touchend',eventMap.click='tap',eventMap.dblclick='doubletap',Ext.os.is.Desktop&&(eventMap.touchstart='mousedown',
eventMap.touchmove='mousemove',eventMap.touchend='mouseup',eventMap.touchcancel='mouseup',additiveEvents.mousedown='mousedown',additiveEvents.mousemove='mousemove',additiveEvents.mouseup='mouseup',additiveEvents.touchstart='touchstart',additiveEvents.touchmove='touchmove',additiveEvents.touchend='touchend',additiveEvents.touchcancel='touchcancel',additiveEvents.pointerdown='mousedown',additiveEvents.pointermove='mousemove',additiveEvents.pointerup='mouseup',additiveEvents.pointercancel='mouseup')):
(eventMap.pointerdown='mousedown',eventMap.pointermove='mousemove',eventMap.pointerup='mouseup',eventMap.pointercancel='mouseup',eventMap.touchstart='mousedown',eventMap.touchmove='mousemove',eventMap.touchend='mouseup',eventMap.touchcancel='mouseup');Ext.isWebKit&&(eventMap.transitionend=Ext.browser.getVendorProperyName('transitionEnd'),eventMap.animationstart=Ext.browser.getVendorProperyName('animationStart'),eventMap.animationend=Ext.browser.getVendorProperyName('animationEnd'));Ext.supports.MouseWheel||
Ext.isOpera||(eventMap.mousewheel='DOMMouseScroll');eventMap=prototype.$eventOptions=Ext.Object.chain(prototype.$eventOptions);eventMap.translate=eventMap.capture=eventMap.delegate=eventMap.delegated=eventMap.stopEvent=eventMap.preventDefault=eventMap.stopPropagation=eventMap.element=1;prototype.styleHooks.opacity={name:'opacity',afterSet:function(dom,value,el){(dom=el.shadow)&&dom.setOpacity(value)}};prototype.getTrueXY=prototype.getXY;Ext.getViewportHeight=Element.getViewportHeight;Ext.getViewportWidth=
Element.getViewportWidth;Ext.select=Element.select;Ext.query=Element.query;Ext.apply(Ext,{get:function(element){return Element.get(element)},getDom:function(el){return el&&DOC?'string'===typeof el?Ext.getElementById(el):'dom'in el?el.dom:el:null},getBody:function(){if(!Ext._bodyEl){if(!DOC.body)throw Error('[Ext.getBody] document.body does not yet exist');Ext._bodyEl=Ext.get(DOC.body);Ext._bodyEl.skipGarbageCollection=!0}return Ext._bodyEl},getHead:function(){Ext._headEl||(Ext._headEl=Ext.get(DOC.head||
DOC.getElementsByTagName('head')[0]),Ext._headEl.skipGarbageCollection=!0);return Ext._headEl},getDoc:function(){Ext._docEl||(Ext._docEl=Ext.get(DOC),Ext._docEl.skipGarbageCollection=!0);return Ext._docEl},getWin:function(){Ext._winEl||(Ext._winEl=Ext.get(window),Ext._winEl.skipGarbageCollection=!0);return Ext._winEl},removeNode:function(node){node=node.dom||node;var el=Ext.cache[node&&node.id];el?el.destroy():!node||3!==node.nodeType&&'BODY'===node.tagName.toUpperCase()||(el=node.parentNode)&&el.removeChild(node)}});
Ext.isGarbage=function(dom){return dom&&1===dom.nodeType&&'BODY'!==dom.tagName&&'HTML'!==dom.tagName&&(!dom.parentNode||null===dom.offsetParent&&(Ext.isIE8?DOC.all[dom.id]:DOC.getElementById(dom.id))!==dom&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(dom)))};Ext.onInternalReady(function(){var bodyCls=[];Ext.getDoc().on('selectstart',function(ev,dom){var selectableCls=Element.selectableCls,unselectableCls=Element.unselectableCls,tagName=dom&&dom.tagName,el=new Ext.dom.Fly;tagName=tagName&&
tagName.toLowerCase();if('input'!==tagName&&'textarea'!==tagName)for(;dom&&1===dom.nodeType&&dom!==DOC.documentElement;){el.attach(dom);if(el.hasCls(selectableCls))break;if(el.hasCls(unselectableCls)){ev.stopEvent();break}dom=dom.parentNode}});if(Ext.os.is.Android||Ext.os.is.Windows&&Ext.supports.Touch){var win=Ext.getWin();Element._documentWidth=Element._viewportWidth=docEl.clientWidth;Element._documentHeight=Element._viewportHeight=docEl.clientHeight;win.on({focusin:'_onWindowFocusChange',focusout:'_onWindowFocusChange',
pointerup:'_onWindowFocusChange',capture:!0,delegated:!1,delay:1,scope:Element});win.on({resize:'_onWindowResize',priority:2E3,scope:Element})}supports.Touch&&bodyCls.push('x-touch');Ext.isIE&&Ext.isIE9m&&(bodyCls.push('x-ie','x-ie9m'),bodyCls.push('x-ie8p'),Ext.isIE8?bodyCls.push('x-ie8'):bodyCls.push('x-ie9','x-ie9p'),Ext.isIE8m&&bodyCls.push('x-ie8m'));Ext.isIE10&&bodyCls.push('x-ie10');Ext.isIE10p&&bodyCls.push('x-ie10p');Ext.isIE11&&bodyCls.push('x-ie11');Ext.isEdge&&bodyCls.push('x-edge');Ext.isGecko&&
bodyCls.push('x-gecko');Ext.isOpera&&bodyCls.push('x-opera');Ext.isOpera12m&&bodyCls.push('x-opera12m');Ext.isWebKit&&bodyCls.push('x-webkit');Ext.isSafari&&bodyCls.push('x-safari');Ext.isSafari9&&bodyCls.push('x-safari9');Ext.isSafari10&&bodyCls.push('x-safari10');Ext.isSafari&&(Ext.browser.version.isLessThan(11)&&bodyCls.push('x-safari10m'),Ext.browser.version.isLessThan(9)&&bodyCls.push('x-safari8m'));Ext.isChrome&&bodyCls.push('x-chrome');Ext.isChromeMobile&&bodyCls.push('x-chromemobile');Ext.isMac&&
bodyCls.push('x-mac');Ext.isWindows&&bodyCls.push('x-windows');Ext.isLinux&&bodyCls.push('x-linux');supports.CSS3BorderRadius||bodyCls.push('x-nbr');supports.CSS3LinearGradient||bodyCls.push('x-nlg');supports.Touch&&bodyCls.push('x-touch');Ext.os.deviceType&&bodyCls.push('x-'+Ext.os.deviceType.toLowerCase());Ext.os.is.BlackBerry&&(bodyCls.push('x-bb'),Ext.browser.userAgent.match(/Kbd/gi)&&bodyCls.push('x-bb-keyboard'));Ext.os.is.iOS&&Ext.isSafari&&bodyCls.push('x-mobile-safari');Ext.os.is.iOS&&Ext.browser.is.WebView&&
!Ext.browser.is.Standalone&&bodyCls.push('x-ios-native');Ext.supports.FlexBoxBasisBug&&bodyCls.push('x-has-flexbasis-bug');Ext.getBody().addCls(bodyCls);(bodyCls=Ext.theme)&&bodyCls.getDocCls&&Ext.fly(document.documentElement).addCls(bodyCls.getDocCls())},null,{priority:1500})});
Ext.cmd.derive('Ext.util.BasicFilter',Ext.Base,{isFilter:!0,config:{id:null,disabled:!1,serializer:null},generation:0,constructor:function(config){this.initConfig(config)},updateDisabled:function(){this.isConfiguring||++this.generation}},1,0,0,0,0,0,[Ext.util,'BasicFilter'],0);
Ext.cmd.derive('Ext.util.Filter',Ext.util.BasicFilter,{config:{property:null,root:null,value:null,filterFn:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disableOnEmpty:!1,operator:null,convert:null},scope:null,$configStrict:!1,statics:{createFilterFn:function(filters){return filters?function(candidate){var items=filters.isCollection?filters.items:filters,length=items.length,match=!0,i;for(i=0;match&&i<length;i++){var filter=items[i];filter.getDisabled()||(match=filter.filter(candidate))}return match}:
Ext.returnTrue},isEqual:function(filter1,filter2){return filter1.getProperty()!==filter2.getProperty()||filter1.getOperator()!==filter2.getOperator()?!1:filter1.getValue()===filter2.getValue()?!0:Ext.isArray(filter1)&&Ext.isArray(filter2)?Ext.Array.equals(filter1,filter2):!1},isInvalid:function(cfg){if(!cfg.filterFn){if(!cfg.property)return'A Filter requires either a property or a filterFn to be set';if(!cfg.hasOwnProperty('value')&&!cfg.operator)return'A Filter requires either a property and value, or a filterFn to be set'}return!1}},
preventConvert:{'in':1,notin:1},filter:function(item){var filterFn=this._filterFn||this.getFilterFn(),convert=this.getConvert(),value=this._value;this._filterValue=value;if(this.isDateValue=Ext.isDate(value))this.dateValue=value.getTime();convert&&!this.preventConvert[this.getOperator()]&&(this._filterValue=convert.call(this.scope||this,value));return filterFn.call(this.scope||this,item)},getId:function(){var id=this._id;id||((id=this.getProperty())||(id=Ext.id(null,'ext-filter-')),this._id=id);return id},
getFilterFn:function(){var filterFn=this._filterFn;filterFn||(this._filterFn=filterFn=(filterFn=this.getOperator())?this.operatorFns[filterFn]:this.createRegexFilter(),this.generatedFilterFn=!0);return filterFn},createRegexFilter:function(){var me=this,anyMatch=!!me.getAnyMatch(),exact=!!me.getExactMatch(),value=me.getValue(),matcher=Ext.String.createRegex(value,!anyMatch,!anyMatch&&exact,!me.getCaseSensitive());return function(item){item=me.getPropertyValue(item);return matcher?matcher.test(item):
null==item}},getPropertyValue:function(item){var root=this._root;return(null==root?item:item[root])[this._property]},getState:function(){var config=this.getInitialConfig(),result={},name;for(name in config)config.hasOwnProperty(name)&&(result[name]=this.getConfig(name));delete result.root;result.value=this.getValue();return result},getScope:function(){return this.scope},serialize:function(){var result=this.getState(),serializer=this.getSerializer();delete result.id;delete result.serializer;serializer&&
(serializer=serializer.call(this,result))&&(result=serializer);return result},serializeTo:function(out){this.getFilterFn();if(this.generatedFilterFn){out.push(out=this.serialize());var primitive=this.primitiveRe.test(typeof out)}return!primitive},updateOperator:function(){this.onConfigMutation()},updateConvert:function(){this.onConfigMutation()},updateProperty:function(){this.onConfigMutation()},updateAnyMatch:function(){this.onConfigMutation()},updateExactMatch:function(){this.onConfigMutation()},
updateCaseSensitive:function(){this.onConfigMutation()},updateValue:function(value){this.onConfigMutation();this.getDisableOnEmpty()&&this.setDisabled(Ext.isEmpty(value))},updateFilterFn:function(filterFn){delete this.generatedFilterFn},onConfigMutation:function(){this.generation++;this.generatedFilterFn&&(this._filterFn=null)},updateDisableOnEmpty:function(disableOnEmpty){disableOnEmpty&&this.setDisabled(Ext.isEmpty(this.getValue()))},privates:{primitiveRe:/string|number|boolean/,getCandidateValue:function(candidate,
v,preventCoerce){var convert=this._convert;candidate=this.getPropertyValue(candidate);convert?candidate=convert.call(this.scope||this,candidate):preventCoerce||(candidate=Ext.coerce(candidate,v));return candidate}}},0,0,0,0,0,0,[Ext.util,'Filter'],function(Filter){Filter=Filter.prototype.operatorFns={'\x3c':function(candidate){var v=this._filterValue;return this.getCandidateValue(candidate,v)<v},'\x3c\x3d':function(candidate){var v=this._filterValue;return this.getCandidateValue(candidate,v)<=v},
'\x3d':function(candidate){var v=this._filterValue;candidate=this.getCandidateValue(candidate,v);this.isDateValue&&candidate instanceof Date&&(candidate=candidate.getTime(),v=this.dateValue);return candidate==v},'\x3d\x3d\x3d':function(candidate){var v=this._filterValue;candidate=this.getCandidateValue(candidate,v,!0);this.isDateValue&&candidate instanceof Date&&(candidate=candidate.getTime(),v=this.dateValue);return candidate===v},'\x3e\x3d':function(candidate){var v=this._filterValue;return this.getCandidateValue(candidate,
v)>=v},'\x3e':function(candidate){var v=this._filterValue;return this.getCandidateValue(candidate,v)>v},'!\x3d':function(candidate){var v=this._filterValue;candidate=this.getCandidateValue(candidate,v);this.isDateValue&&candidate instanceof Date&&(candidate=candidate.getTime(),v=this.dateValue);return candidate!=v},'!\x3d\x3d':function(candidate){var v=this._filterValue;candidate=this.getCandidateValue(candidate,v,!0);this.isDateValue&&candidate instanceof Date&&(candidate=candidate.getTime(),v=this.dateValue);
return candidate!==v},'in':function(candidate){var v=this._filterValue;return Ext.Array.contains(v,this.getCandidateValue(candidate,v))},notin:function(candidate){var v=this._filterValue;return!Ext.Array.contains(v,this.getCandidateValue(candidate,v))},like:function(candidate){var v=this._filterValue;return v&&-1<this.getCandidateValue(candidate,v).toLowerCase().indexOf(v.toLowerCase())},'/\x3d':function(candidate){var v=this._filterValue;candidate=this.getCandidateValue(candidate,v);if(v!==this.lastRegExpSource){this.lastRegExpSource=
v;try{this.regex=new RegExp(v,'i')}catch(e){this.regex=null}}return this.regex?this.regex.test(candidate):!1},empty:function(candidate){candidate=this.getCandidateValue(candidate,this._filterValue,!0);return null==candidate||''===candidate},nempty:function(candidate){candidate=this.getCandidateValue(candidate,this._filterValue,!0);return null!=candidate&&''!==candidate}};Filter['\x3d\x3d']=Filter['\x3d'];Filter.gt=Filter['\x3e'];Filter.ge=Filter['\x3e\x3d'];Filter.lt=Filter['\x3c'];Filter.le=Filter['\x3c\x3d'];
Filter.eq=Filter['\x3d'];Filter.ne=Filter['!\x3d']});Ext.cmd.derive('Ext.util.Observable',Ext.mixin.Observable,{$applyConfigs:!0},0,0,0,0,0,0,[Ext.util,'Observable'],function(Observable){var Super=Ext.mixin.Observable;Observable.releaseCapture=Super.releaseCapture;Observable.capture=Super.capture;Observable.captureArgs=Super.captureArgs;Observable.observe=Observable.observeClass=Super.observe});
Ext.cmd.derive('Ext.util.AbstractMixedCollection',Ext.Base,{isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(allowFunctions,keyFn){1===arguments.length&&Ext.isObject(allowFunctions)?(this.initialConfig=allowFunctions,Ext.apply(this,allowFunctions)):(this.allowFunctions=!0===allowFunctions,keyFn&&(this.getKey=keyFn),this.initialConfig={allowFunctions:this.allowFunctions,getKey:this.getKey});this.items=[];this.map={};this.keys=[];this.indexMap={};this.length=0;this.mixins.observable.constructor.call(this)},
destroy:function(){this.items=this.map=this.keys=this.indexMap=null;this.callParent()},allowFunctions:!1,add:function(key,obj){var len=this.length;return 1===arguments.length?this.insert(len,key):this.insert(len,key,obj)},getKey:function(item){return item.id},replace:function(key,o){1===arguments.length&&(o=arguments[0],key=this.getKey(o));var old=this.map[key];if('undefined'===typeof key||null===key||'undefined'===typeof old)return this.add(key,o);this.generation++;var index=this.indexOfKey(key);
this.items[index]=o;this.map[key]=o;this.hasListeners.replace&&this.fireEvent('replace',key,old,o);return o},reorder:function(mapping){var items=this.items,index,length=items.length,order=[],remaining=[];this.suspendEvents();for(index in mapping)order[mapping[index]]=items[index];for(index=0;index<length;index++)void 0==mapping[index]&&remaining.push(items[index]);for(index=0;index<length;index++)void 0==order[index]&&(order[index]=remaining.shift());this.clear();this.addAll(order);this.resumeEvents()},
updateKey:function(oldKey,newKey){var map=this.map,index=this.indexOfKey(oldKey),indexMap=this.indexMap;if(-1<index){var item=map[oldKey];delete map[oldKey];delete indexMap[oldKey];map[newKey]=item;indexMap[newKey]=index;this.keys[index]=newKey;this.indexGeneration=++this.generation}},addAll:function(objs){var key;if(1<arguments.length||Ext.isArray(objs))this.insert(this.length,1<arguments.length?arguments:objs);else for(key in objs)objs.hasOwnProperty(key)&&(this.allowFunctions||'function'!==typeof objs[key])&&
this.add(key,objs[key])},each:function(fn,scope){for(var items=Ext.Array.push([],this.items),i=0,len=items.length,item;i<len&&(item=items[i],!1!==fn.call(scope||item,item,i,len));i++);},eachKey:function(fn,scope){for(var keys=this.keys,items=this.items,i=0,len=keys.length;i<len;i++)fn.call(scope||window,keys[i],items[i],i,len)},findBy:function(fn,scope){for(var keys=this.keys,items=this.items,i=0,len=items.length;i<len;i++)if(fn.call(scope||window,items[i],keys[i]))return items[i];return null},insert:function(index,
key,obj){if(Ext.isIterable(key))var out=this.doInsert(index,key,obj);else out=2<arguments.length?this.doInsert(index,[key],[obj]):this.doInsert(index,[key]),out=out[0];return out},doInsert:function(index,keys,objects){var i,len=keys.length,deDupedLen=len,fireAdd=this.hasListeners.add,newKeys={};if(null!=objects)this.useLinearSearch=!0;else for(objects=keys,keys=Array(len),i=0;i<len;i++)keys[i]=this.getKey(objects[i]);this.suspendEvents();for(i=0;i<len;i++){var itemKey=keys[i];var removeIndex=this.indexOfKey(itemKey);
-1!==removeIndex&&(removeIndex<index&&index--,this.removeAt(removeIndex));if(null!=itemKey){if(null!=newKeys[itemKey]){var passedDuplicates=!0;deDupedLen--}newKeys[itemKey]=i}}this.resumeEvents();if(passedDuplicates){len=keys;removeIndex=objects;keys=Array(deDupedLen);objects=Array(deDupedLen);i=0;for(itemKey in newKeys)keys[i]=len[newKeys[itemKey]],objects[i]=removeIndex[newKeys[itemKey]],i++;len=deDupedLen}deDupedLen=index===this.length&&this.indexGeneration===this.generation;Ext.Array.insert(this.items,
index,objects);Ext.Array.insert(this.keys,index,keys);this.length+=len;this.generation++;deDupedLen&&(this.indexGeneration=this.generation);for(i=0;i<len;i++,index++)itemKey=keys[i],null!=itemKey&&(this.map[itemKey]=objects[i],deDupedLen&&(this.indexMap[itemKey]=index)),fireAdd&&this.fireEvent('add',index,objects[i],itemKey);return objects},remove:function(o){var removeKey;o=!this.useLinearSearch&&(removeKey=this.getKey(o))?this.indexOfKey(removeKey):Ext.Array.indexOf(this.items,o);return-1===o?!1:
this.removeAt(o)},removeAll:function(items){var i;if(items||this.hasListeners.remove)if(items)for(i=items.length-1;0<=i;--i)this.remove(items[i]);else for(;this.length;)this.removeAt(0);else this.length=this.items.length=this.keys.length=0,this.map={},this.indexMap={},this.generation++,this.indexGeneration=this.generation},removeAt:function(index){if(index<this.length&&0<=index){this.length--;var o=this.items[index];Ext.Array.erase(this.items,index,1);var key=this.keys[index];'undefined'!==typeof key&&
delete this.map[key];Ext.Array.erase(this.keys,index,1);this.hasListeners.remove&&this.fireEvent('remove',o,key);this.generation++;return o}return!1},removeRange:function(index,removeCount){var i,trimming;if(index<this.length&&0<=index){removeCount||(removeCount=1);var limit=Math.min(index+removeCount,this.length);removeCount=limit-index;var syncIndices=(trimming=limit===this.length)&&this.indexGeneration===this.generation;for(i=index;i<limit;i++){var o=this.keys[i];null!=o&&(delete this.map[o],syncIndices&&
delete this.indexMap[o])}o=this.items[i-1];this.length-=removeCount;this.generation++;syncIndices&&(this.indexGeneration=this.generation);trimming?this.items.length=this.keys.length=this.length:(this.items.splice(index,removeCount),this.keys.splice(index,removeCount));return o}return!1},removeAtKey:function(key){var keys=this.keys;if(null==key)for(key=keys.length-1;0<=key;key--)null==keys[key]&&this.removeAt(key);else return this.removeAt(this.indexOfKey(key))},getCount:function(){return this.length},
indexOf:function(o){var key;return null!=o?!this.useLinearSearch&&(key=this.getKey(o))?this.indexOfKey(key):Ext.Array.indexOf(this.items,o):-1},indexOfKey:function(key){if(!this.map.hasOwnProperty(key))return-1;this.indexGeneration!==this.generation&&this.rebuildIndexMap();return this.indexMap[key]},rebuildIndexMap:function(){var indexMap=this.indexMap={},keys=this.keys,len=keys.length,i;for(i=0;i<len;i++)indexMap[keys[i]]=i;this.indexGeneration=this.generation},get:function(key){var mk=this.map[key];
key=void 0!==mk?mk:'number'===typeof key?this.items[key]:void 0;return'function'!==typeof key||this.allowFunctions?key:null},getAt:function(index){return this.items[index]},getByKey:function(key){return this.map[key]},contains:function(o){var key;return null!=o?!this.useLinearSearch&&(key=this.getKey(o))?null!=this.map[key]:-1!==Ext.Array.indexOf(this.items,o):!1},containsKey:function(key){return this.map.hasOwnProperty(key)},clear:function(){this.generation&&(this.length=0,this.items=[],this.keys=
[],this.map={},this.indexMap={},this.generation++,this.indexGeneration=this.generation);this.hasListeners.clear&&this.fireEvent('clear')},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(property,root,start,end){property=this.extractValues(property,root);var length=property.length;root=0;end=end||0===end?end:length-1;for(start=start||0;start<=end;start++)root+=property[start];return root},collect:function(property,root,allowNull){property=this.extractValues(property,
root);root=property.length;var hits={},unique=[],i;for(i=0;i<root;i++){var value=property[i];var strValue=String(value);!allowNull&&Ext.isEmpty(value)||hits[strValue]||(hits[strValue]=!0,unique.push(value))}return unique},extractValues:function(property,root){var values=this.items;root&&(values=Ext.Array.pluck(values,root));return Ext.Array.pluck(values,property)},hasRange:function(start,end){return end<this.length},getRange:function(start,end){var items=this.items,range=[],len=items.length;if(1>
len)return range;if(start>end){var reverse=!0;range=start;start=end;end=range}0>start&&(start=0);if(null==end||end>=len)end=len-1;range=items.slice(start,end+1);reverse&&range.length&&range.reverse();return range},filter:function(property,value,anyMatch,caseSensitive){var filters=[];if(Ext.isString(property))filters.push(new Ext.util.Filter({property,value,anyMatch,caseSensitive}));else if(Ext.isArray(property)||property instanceof Ext.util.Filter)filters=filters.concat(property);return this.filterBy(Ext.util.Filter.createFilterFn(filters))},
filterBy:function(fn,scope){var newMC=new this.self(this.initialConfig),keys=this.keys,items=this.items,length=items.length,i;newMC.getKey=this.getKey;for(i=0;i<length;i++)fn.call(scope||this,items[i],keys[i])&&newMC.add(keys[i],items[i]);newMC.useLinearSearch=this.useLinearSearch;return newMC},findIndex:function(property,value,start,anyMatch,caseSensitive){if(Ext.isEmpty(value,!1))return-1;value=this.createValueMatcher(value,anyMatch,caseSensitive);return this.findIndexBy(function(o){return o&&value.test(o[property])},
null,start)},findIndexBy:function(fn,scope,start){var keys=this.keys,items=this.items;start=start||0;for(var len=items.length;start<len;start++)if(fn.call(scope||this,items[start],keys[start]))return start;return-1},createValueMatcher:function(value,anyMatch,caseSensitive,exactMatch){if(!value.exec){var er=Ext.String.escapeRegex;value=String(value);!0===anyMatch?value=er(value):(value='^'+er(value),!0===exactMatch&&(value+='$'));value=new RegExp(value,caseSensitive?'':'i')}return value},clone:function(){var copy=
new this.self(this.initialConfig);copy.add(this.keys,this.items);copy.useLinearSearch=this.useLinearSearch;return copy}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.util,'AbstractMixedCollection'],0);
Ext.cmd.derive('Ext.util.Sorter',Ext.Base,{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:'ASC',id:void 0},statics:{createComparator:function(sorters,nextFn){nextFn=nextFn||0;return function(lhs,rhs){var items=sorters.isCollection?sorters.items:sorters,n=items.length,comp,i;for(i=0;i<n;++i)if(comp=items[i].sort(lhs,rhs))return comp;return nextFn&&nextFn(lhs,rhs)}}},multiplier:1,constructor:function(config){this.initConfig(config)},getId:function(){var id=this._id;
id||((id=this.getProperty())||(id=Ext.id(null,'ext-sorter-')),this._id=id);return id},sort:function(lhs,rhs){return this.multiplier*this.sortFn(lhs,rhs)},sortFn:function(item1,item2){var transform=this._transform,root=this._root,property=this._property;root&&(item1=item1[root],item2=item2[root]);item1=item1[property];item2=item2[property];transform&&(item1=transform(item1),item2=transform(item2));return item1>item2?1:item1<item2?-1:0},applyDirection:function(direction){return direction?direction:
'ASC'},updateDirection:function(direction){this.multiplier='DESC'===direction.toUpperCase()?-1:1},updateProperty:function(property){property&&delete this.sortFn},updateSorterFn:function(sorterFn){this.sortFn=sorterFn},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),'ASC','DESC'))},getState:function(){var result={root:this.getRoot(),property:this.getProperty(),direction:this.getDirection()};this._id&&(result.id=this._id);return result},serialize:function(){return{property:this.getProperty(),
direction:this.getDirection()}}},1,0,0,0,0,0,[Ext.util,'Sorter'],0);
Ext.cmd.derive('Ext.util.Sortable',Ext.Base,{isSortable:!0,$configPrefixed:!1,$configStrict:!1,config:{sorters:null},defaultSortDirection:'ASC',multiSortLimit:3,statics:{createComparator:function(sorters){return sorters&&sorters.length?function(r1,r2){for(var result=sorters[0].sort(r1,r2),length=sorters.length,i=1;!result&&i<length;i++)result=sorters[i].sort.call(sorters[i],r1,r2);return result}:function(){return 0}}},applySorters:function(sorters){var sortersCollection=this.getSorters()||new Ext.util.MixedCollection(!1,
Ext.returnId);sorters&&sortersCollection.addAll(this.decodeSorters(sorters));return sortersCollection},sort:function(sorters,direction,insertionPosition,doSort){var sorter,currentSorters=this.getSorters();currentSorters||(this.setSorters(null),currentSorters=this.getSorters());Ext.isArray(sorters)?(doSort=insertionPosition,insertionPosition=direction):Ext.isObject(sorters)?(sorters=[sorters],doSort=insertionPosition,insertionPosition=direction):Ext.isString(sorters)&&((sorter=currentSorters.get(sorters))?
null==direction?sorter.toggle():sorter.setDirection(direction):sorter={property:sorters,direction},sorters=[sorter]);if(sorters&&sorters.length)switch(sorters=this.decodeSorters(sorters),insertionPosition){case 'multi':currentSorters.insert(0,sorters[0]);direction=currentSorters.getCount()-this.multiSortLimit;0<direction&&currentSorters.removeRange(this.multiSortLimit,direction);break;case 'prepend':currentSorters.insert(0,sorters);break;case 'append':currentSorters.addAll(sorters);break;case void 0:case null:case 'replace':currentSorters.clear(),
currentSorters.addAll(sorters)}!1!==doSort&&(this.fireEvent('beforesort',this,sorters),this.onBeforeSort(sorters),this.getSorterCount()&&this.doSort(this.generateComparator()));return sorters},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var sorters=this.getSorters().getRange();return sorters.length?this.createComparator(sorters):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(sorters){Ext.isArray(sorters)||
(sorters=void 0===sorters?[]:[sorters]);var length=sorters.length,Sorter=Ext.util.Sorter,model=this.getModel?this.getModel():this.model,i;for(i=0;i<length;i++){var config=sorters[i];if(!(config instanceof Sorter)){Ext.isString(config)&&(config={property:config});Ext.applyIf(config,{root:this.sortRoot,direction:'ASC'});config.fn&&(config.sorterFn=config.fn);'function'===typeof config&&(config={sorterFn:config});if(model&&!config.transform){var field=model.getField(config.property);config.transform=
field&&field.sortType!==Ext.identityFn?field.sortType:void 0}sorters[i]=new Ext.util.Sorter(config)}}return sorters},getFirstSorter:function(){for(var sorters=this.getSorters().items,len=sorters.length,i=0,sorter;i<len;++i)if(sorter=sorters[i],!sorter.isGrouper)return sorter;return null}},0,0,0,0,0,0,[Ext.util,'Sortable'],function(){this.prototype.createComparator=this.createComparator});
Ext.cmd.derive('Ext.util.MixedCollection',Ext.util.AbstractMixedCollection,{constructor:function(){this.initConfig();Ext.util.AbstractMixedCollection.prototype.constructor.apply(this,arguments)},doSort:function(sorterFn){this.sortBy(sorterFn)},_sort:function(property,dir,fn){var len,dsc='DESC'===String(dir).toUpperCase()?-1:1,c=[],keys=this.keys,items=this.items;fn=fn||function(a,b){return a-b};dir=0;for(len=items.length;dir<len;dir++)c[c.length]={key:keys[dir],value:items[dir],index:dir};Ext.Array.sort(c,
function(a,b){return fn(a[property],b[property])*dsc||(a.index<b.index?-1:1)});dir=0;for(len=c.length;dir<len;dir++){var o=c[dir];items[dir]=o.value;keys[dir]=o.key;this.indexMap[o.key]=dir}this.generation++;this.indexGeneration=this.generation;this.fireEvent('sort',this)},sortBy:function(sorterFn){var items=this.items,keys=this.keys,length=items.length,i;for(i=0;i<length;i++)items[i].$extCollectionIndex=i;Ext.Array.sort(items,function(a,b){return sorterFn(a,b)||(a.$extCollectionIndex<b.$extCollectionIndex?
-1:1)});for(i=0;i<length;i++){var item=items[i];var key=this.getKey(item);keys[i]=key;this.indexMap[key]=i;delete item.$extCollectionIndex}this.generation++;this.indexGeneration=this.generation;this.fireEvent('sort',this,items,keys)},findInsertionIndex:function(newItem,sorterFn){var items=this.items,start=0,end=items.length-1;for(sorterFn||(sorterFn=this.generateComparator());start<=end;){var middle=start+end>>1;var comparison=sorterFn(newItem,items[middle]);0<=comparison?start=middle+1:0>comparison&&
(end=middle-1)}return start},reorder:function(mapping){Ext.util.AbstractMixedCollection.prototype.reorder.call(this,mapping);this.fireEvent('sort',this)},sortByKey:function(dir,fn){this._sort('key',dir,fn||function(a,b){a=String(a).toUpperCase();b=String(b).toUpperCase();return a>b?1:a<b?-1:0})}},1,0,0,0,0,[['sortable',Ext.util.Sortable]],[Ext.util,'MixedCollection'],0);
Ext.cmd.derive('Ext.util.TaskRunner',Ext.Base,{fireIdleEvent:null,interval:10,timerId:null,constructor:function(interval){'number'===typeof interval?this.interval=interval:interval&&Ext.apply(this,interval);this.tasks=[];this.timerFn=this.onTick.bind(this)},newTask:function(config){config=new Ext.util.TaskRunner.Task(config);config.manager=this;return config},start:function(task){var now=Ext.Date.now();task.pending||(this.tasks.push(task),task.pending=!0);task.stopped=!1;task.taskStartTime=now;task.taskRunTime=
!1!==task.fireOnStart?0:task.taskStartTime;task.taskRunCount=0;this.firing||(!1!==task.fireOnStart?this.startTimer(0,now):this.startTimer(task.interval,now));return task},stop:function(task,andRemove){var tasks=this.tasks,pendingCount=0;task.stopped||(task.stopped=!0,task.pending=!1,task.onStop&&task.onStop.call(task.scope||task,task));andRemove&&Ext.Array.remove(tasks,task);for(andRemove=0;!pendingCount&&andRemove<tasks.length;andRemove++)tasks[andRemove].stopped||pendingCount++;pendingCount||(Ext.undefer(this.timerId),
this.timerId=null);return task},stopAll:function(andRemove){var me=this;Ext.each(this.tasks,function(task){me.stop(task,andRemove)},null,!0)},firing:!1,nextExpires:1E99,onTick:function(){var tasks=this.tasks,fireIdleEvent=this.fireIdleEvent,now=Ext.Date.now(),nextExpires=1E99,len=tasks.length,newTasks,i,rt;this.timerId=null;this.firing=!0;for(i=0;i<len||i<(len=tasks.length);++i){var task=tasks[i];if(!(rt=task.stopped)){var expires=task.taskRunTime+task.interval;if(expires<=now){rt=1;null===fireIdleEvent&&
!1!==task.fireIdleEvent&&(fireIdleEvent=!0);task.taskRunCount++;var args=task.args?task.addCountToArgs?task.args.concat([task.taskRunCount]):task.args:[task.taskRunCount];try{rt=task.run.apply(task.scope||task,args)}catch(taskError){try{task.onError&&(rt=task.onError.call(task.scope||task,task,taskError))}catch(e){}}task.taskRunTime=now;!1===rt||task.taskRunCount===task.repeat?(this.stop(task),rt=!0):(rt=task.stopped,expires=now+task.interval)}!rt&&task.duration&&task.duration<=now-task.taskStartTime&&
(this.stop(task),rt=!0)}rt?(task.pending=!1,newTasks||(newTasks=tasks.slice(0,i))):(newTasks&&newTasks.push(task),nextExpires>expires&&(nextExpires=expires))}newTasks&&(this.tasks=newTasks);this.firing=!1;this.tasks.length&&this.startTimer(nextExpires-now,Ext.Date.now());null===fireIdleEvent&&(fireIdleEvent=!1);Ext._suppressIdle=!fireIdleEvent},startTimer:function(timeout,now){now+=timeout;var timerId=this.timerId;timerId&&this.nextExpires-now>this.interval&&(timerId=Ext.undefer(timerId));timerId||
(timeout<this.interval&&(timeout=this.interval),this.timerId=Ext.defer(this.timerFn,timeout),this.nextExpires=now)}},1,0,0,0,0,0,[Ext.util,'TaskRunner'],function(){var proto=this.prototype;proto.destroy=proto.stopAll;this.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(config){Ext.apply(this,config)},restart:function(interval){void 0!==interval&&(this.interval=interval);this.manager.start(this)},start:function(interval){this.stopped&&this.restart(interval)},stop:function(andRemove){this.manager.stop(this,
andRemove)},destroy:function(){this.stop(!0)}});proto=this.Task.prototype;proto.destroy=proto.stop});Ext.cmd.derive('Ext.fx.target.Target',Ext.Base,{isAnimTarget:!0,constructor:function(target){this.target=target;this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}},1,0,0,0,0,0,[Ext.fx.target,'Target'],0);
Ext.cmd.derive('Ext.fx.target.Element',Ext.fx.target.Target,{type:'element',constructor:function(target){Ext.fx.target.Target.prototype.constructor.call(this,target);this.isAbsoluteOnPage=this.target.dom.parentNode===document.body&&this.target.isStyle('position','absolute')},getElVal:function(el,attr,val){void 0===val&&(val='x'===attr?el.getX():'y'===attr?el.getY():'scrollTop'===attr?el.getScroll().top:'scrollLeft'===attr?el.getScroll().left:'height'===attr?el.getHeight():'width'===attr?el.getWidth():
el.getStyle(attr));return val},getAttr:function(attr,val){var el=this.target;return[[el,this.getElVal(el,attr,val)]]},setAttr:function(targetData){var ln=targetData.length,attr,i,j;for(i=0;i<ln;i++){var attrs=targetData[i].attrs;for(attr in attrs)if(attrs.hasOwnProperty(attr)){var ln2=attrs[attr].length;for(j=0;j<ln2;j++){var o=attrs[attr][j];this.setElVal(o[0],attr,o[1])}}}},setElVal:function(element,attr,value){'x'===attr?this.isAbsoluteOnPage?element.setLocalX(value):element.setXY([value,null]):
'y'===attr?this.isAbsoluteOnPage?element.setLocalY(value):element.setXY([null,value]):'scrollTop'===attr?element.scrollTo('top',value):'scrollLeft'===attr?element.scrollTo('left',value):'width'===attr?element.setWidth(value):'height'===attr?element.setHeight(value):element.setStyle(attr,value)}},1,0,0,0,0,0,[Ext.fx.target,'Element'],0);
Ext.cmd.derive('Ext.fx.target.ElementCSS',Ext.fx.target.Element,{setAttr:function(targetData,isFirstFrame){var JSCompiler_object_inline_attrs_48=[],JSCompiler_object_inline_duration_49=[],JSCompiler_object_inline_easing_50=[],ln=targetData.length,cleanerFn=function(){this.setStyle(Ext.supports.CSS3Prefix+'TransitionProperty',null);this.setStyle(Ext.supports.CSS3Prefix+'TransitionDuration',null);this.setStyle(Ext.supports.CSS3Prefix+'TransitionTimingFunction',null)},single={single:!0},attr,i;for(i=
0;i<ln;i++){var attrs=targetData[i];var duration=attrs.duration;var easing=attrs.easing;attrs=attrs.attrs;for(attr in attrs)-1===Ext.Array.indexOf(JSCompiler_object_inline_attrs_48,attr)&&(JSCompiler_object_inline_attrs_48.push(attr.replace(/[A-Z]/g,function(v){return'-'+v.toLowerCase()})),JSCompiler_object_inline_duration_49.push(duration+'ms'),JSCompiler_object_inline_easing_50.push(easing))}JSCompiler_object_inline_attrs_48=JSCompiler_object_inline_attrs_48.join(',');duration=JSCompiler_object_inline_duration_49.join(',');
easing=JSCompiler_object_inline_easing_50.join(', ');for(i=0;i<ln;i++)for(attr in attrs=targetData[i].attrs,attrs){var ln2=attrs[attr].length;for(JSCompiler_object_inline_easing_50=0;JSCompiler_object_inline_easing_50<ln2;JSCompiler_object_inline_easing_50++)if(JSCompiler_object_inline_duration_49=attrs[attr][JSCompiler_object_inline_easing_50],JSCompiler_object_inline_duration_49[0].setStyle(Ext.supports.CSS3Prefix+'TransitionProperty',isFirstFrame?'':JSCompiler_object_inline_attrs_48),JSCompiler_object_inline_duration_49[0].setStyle(Ext.supports.CSS3Prefix+
'TransitionDuration',isFirstFrame?'':duration),JSCompiler_object_inline_duration_49[0].setStyle(Ext.supports.CSS3Prefix+'TransitionTimingFunction',isFirstFrame?'':easing),JSCompiler_object_inline_duration_49[0].setStyle(attr,JSCompiler_object_inline_duration_49[1]),isFirstFrame)JSCompiler_object_inline_duration_49=JSCompiler_object_inline_duration_49[0].dom.offsetWidth;else JSCompiler_object_inline_duration_49[0].on(Ext.supports.CSS3TransitionEnd,cleanerFn,JSCompiler_object_inline_duration_49[0],
single)}}},0,0,0,0,0,0,[Ext.fx.target,'ElementCSS'],0);
Ext.cmd.derive('Ext.fx.target.CompositeElement',Ext.fx.target.Element,{isComposite:!0,constructor:function(target){target.id=target.id||Ext.id(null,'ext-composite-');Ext.fx.target.Element.prototype.constructor.call(this,target)},getAttr:function(attr,val){var out=[],target=this.target,elements=target.elements,length=elements.length,i,el;for(i=0;i<length;i++)if(el=elements[i])el=target.getElement(el),out.push([el,this.getElVal(el,attr,val)]);return out},setAttr:function(targetData){var target=this.target,
ln=targetData.length,elements=target.elements,ln3=elements.length,k,attr,el,i,j;for(i=0;i<ln;i++){var attrs=targetData[i].attrs;for(attr in attrs)if(attrs.hasOwnProperty(attr)){var ln2=attrs[attr].length;for(j=0;j<ln2;j++){var value=attrs[attr][j][1];for(k=0;k<ln3;++k)if(el=elements[k])el=target.getElement(el),this.setElVal(el,attr,value)}}}},remove:function(){this.target.destroy()}},1,0,0,0,0,0,[Ext.fx.target,'CompositeElement'],0);
Ext.cmd.derive('Ext.fx.target.CompositeElementCSS',Ext.fx.target.CompositeElement,{setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}},0,0,0,0,0,0,[Ext.fx.target,'CompositeElementCSS'],0);
Ext.cmd.derive('Ext.fx.target.Sprite',Ext.fx.target.Target,{type:'draw',getFromPrim:function(sprite,attr){switch(attr){case 'rotate':case 'rotation':return sprite=sprite.attr.rotation,{x:sprite.x||0,y:sprite.y||0,degrees:sprite.degrees||0};case 'scale':case 'scaling':return sprite=sprite.attr.scaling,{x:sprite.x||1,y:sprite.y||1,cx:sprite.cx||0,cy:sprite.cy||0};case 'translate':case 'translation':return sprite=sprite.attr.translation,{x:sprite.x||0,y:sprite.y||0};default:return sprite.attr[attr]}},
getAttr:function(attr,val){return[[this.target,void 0!==val?val:this.getFromPrim(this.target,attr)]]},setAttr:function(targetData){var ln=targetData.length,spriteArr=[],attr,i,j;for(i=0;i<ln;i++){var attrsConf=targetData[i].attrs;for(attr in attrsConf){var attrArr=attrsConf[attr];var ln2=attrArr.length;for(j=0;j<ln2;j++){var sprite=attrArr[j][0];var attrs=attrArr[j][1];if('translate'===attr||'translation'===attr)var value={x:attrs.x,y:attrs.y};else if('rotate'===attr||'rotation'===attr){value=attrs.x;
isNaN(value)&&(value=null);var y=attrs.y;isNaN(y)&&(y=null);value={degrees:attrs.degrees,x:value,y}}else'scale'===attr||'scaling'===attr?(value=attrs.x,isNaN(value)&&(value=null),y=attrs.y,isNaN(y)&&(y=null),value={x:value,y,cx:attrs.cx,cy:attrs.cy}):value='width'===attr||'height'===attr||'x'===attr||'y'===attr?parseFloat(attrs):attrs;attrs=Ext.Array.indexOf(spriteArr,sprite);-1===attrs&&(spriteArr.push([sprite,{}]),attrs=spriteArr.length-1);spriteArr[attrs][1][attr]=value}}}ln=spriteArr.length;for(i=
0;i<ln;i++)spriteArr[i][0].setAttributes(spriteArr[i][1]);this.target.redraw()}},0,0,0,0,0,0,[Ext.fx.target,'Sprite'],0);Ext.cmd.derive('Ext.fx.target.CompositeSprite',Ext.fx.target.Sprite,{getAttr:function(attr,val){var out=[],sprites=[].concat(this.target.items),length=sprites.length,i;for(i=0;i<length;i++){var sprite=sprites[i];out.push([sprite,void 0!==val?val:this.getFromPrim(sprite,attr)])}return out}},0,0,0,0,0,0,[Ext.fx.target,'CompositeSprite'],0);
Ext.cmd.derive('Ext.fx.target.Component',Ext.fx.target.Target,{type:'component',getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle('opacity')}},setMethods:{top:'setPosition',left:'setPosition',x:'setPagePosition',y:'setPagePosition',
height:'setSize',width:'setSize',opacity:'setOpacity'},getAttr:function(attr,val){return[[this.target,void 0!==val?val:this.getPropMethod[attr].call(this.target)]]},setAttr:function(targetData,isFirstFrame,isLastFrame){isFirstFrame=targetData.length;var attr,i,j,methodsToCall={};for(i=0;i<isFirstFrame;i++){var attrs=targetData[i].attrs;for(attr in attrs){var targets=attrs[attr].length;for(j=0;j<targets;j++){var o=attrs[attr][j];var methodProps=methodsToCall[this.setMethods[attr]]||(methodsToCall[this.setMethods[attr]]=
{});methodProps.target=o[0];methodProps[attr]=o[1]}}methodsToCall.setPosition&&(o=methodsToCall.setPosition,attrs=void 0===o.left?void 0:parseFloat(o.left),j=void 0===o.top?void 0:parseFloat(o.top),o.target.setPosition(attrs,j));methodsToCall.setPagePosition&&(o=methodsToCall.setPagePosition,o.target.setPagePosition(o.x,o.y));if(methodsToCall.setSize&&(o=methodsToCall.setSize,attrs=void 0===o.width?o.target.getWidth():parseFloat(o.width),j=void 0===o.height?o.target.getHeight():parseFloat(o.height),
o.target.el.setSize(attrs,j),isLastFrame||this.dynamic))Ext.GlobalEvents.on({idle:Ext.Function.bind(o.target.setSize,o.target,[attrs,j]),single:!0});methodsToCall.setOpacity&&(o=methodsToCall.setOpacity,o.target.el.setStyle('opacity',o.opacity))}}},0,0,0,0,0,0,[Ext.fx.target,'Component'],0);
Ext.cmd.derive('Ext.fx.Queue',Ext.Base,{constructor:function(){this.targets=new Ext.util.HashMap;this.fxQueue={}},getFxDefaults:function(targetId){return(targetId=this.targets.get(targetId))?targetId.fxDefaults:{}},setFxDefaults:function(targetId,obj){if(targetId=this.targets.get(targetId))targetId.fxDefaults=Ext.apply(targetId.fxDefaults||{},obj)},stopAnimation:function(targetId,suppressEvent){targetId=this.getFxQueue(targetId);for(var ln=targetId.length,item;ln;)(item=targetId[ln-1])&&item.end(suppressEvent),
ln--},getActiveAnimation:function(targetId){return(targetId=this.getFxQueue(targetId))&&targetId.length?targetId[0]:!1},hasFxBlock:function(targetId){return(targetId=this.getFxQueue(targetId))&&targetId[0]&&targetId[0].block},getFxQueue:function(targetId){if(!targetId)return!1;var fxQueue=this.fxQueue,queue=fxQueue[targetId],target=this.targets.get(targetId);if(!target)return!1;if(!queue&&(this.fxQueue[targetId]=fxQueue[targetId]=[],'element'!==target.type))target.target.on('destroy',function(){fxQueue[targetId]=
null;delete fxQueue[targetId]});return this.fxQueue[targetId]},clearFxQueue:function(){Ext.Object.clear(this.fxQueue)},queueFx:function(anim){var me=this,target=anim.target,targetId=target.getId(),ln;if(target){var queue=me.getFxQueue(targetId);if(ln=queue.length)if(anim.concurrent)anim.paused=!1;else queue[ln-1].on('afteranimate',function(){anim.paused=!1});else anim.paused=!1;anim.on('afteranimate',function(){var el;Ext.Array.remove(queue,anim);0===queue.length&&(me.targets.remove(anim.target),
me.fxQueue[targetId]=null,delete me.fxQueue[targetId]);anim.remove&&'element'===target.type&&(el=Ext.get(targetId))&&el.destroy()},me,{single:!0});queue.push(anim)}}},1,0,0,0,0,0,[Ext.fx,'Queue'],0);
Ext.cmd.derive('Ext.fx.Manager',Ext.Base,{singleton:!0,constructor:function(){this.items=new Ext.util.MixedCollection;this.targetArr={};this.mixins.queue.constructor.call(this);this.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(target){var useCSS3=!this.forceJS&&Ext.supports.Transitions;this.useCSS3=useCSS3;if(target){if(target.tagName||Ext.isString(target)||target.isFly)target=Ext.get(target),target=new Ext.fx.target['Element'+(useCSS3?'CSS':'')](target);else if(target.dom)target=
new Ext.fx.target['Element'+(useCSS3?'CSS':'')](target);else if(target.isComposite)target=new Ext.fx.target['CompositeElement'+(useCSS3?'CSS':'')](target);else if(target.isSprite)target=new Ext.fx.target.Sprite(target);else if(target.isCompositeSprite)target=new Ext.fx.target.CompositeSprite(target);else if(target.isComponent)target=new Ext.fx.target.Component(target);else return target.isAnimTarget?target:null;this.targets.add(target);return target}return null},addAnim:function(anim){var items=this.items,
task=this.task;items.add(anim.id,anim);!task&&items.length&&(task=this.task={run:this.runner,interval:this.interval,scope:this},this.taskRunner.start(task))},removeAnim:function(anim){var items=this.items,task=this.task;items.removeAtKey(anim.id);task&&!items.length&&(this.taskRunner.stop(task),delete this.task)},runner:function(){var items=this.items.getRange(),i=0,len=items.length;this.targetArr={};for(this.timestamp=new Date;i<len;i++){var anim=items[i];anim.isReady()&&this.startAnim(anim)}for(i=
0;i<len;i++)anim=items[i],anim.isRunning()&&this.runAnim(anim);this.applyPendingAttrs();this.targetArr=null},startAnim:function(anim){anim.start(this.timestamp)},runAnim:function(anim,forceEnd){if(anim){var useCSS3=this.useCSS3&&'element'===anim.target.type,elapsedTime=this.timestamp-anim.startTime,lastFrame=elapsedTime>=anim.duration;forceEnd&&(elapsedTime=anim.duration,lastFrame=!0);forceEnd=this.collectTargetData(anim,elapsedTime,useCSS3,lastFrame);useCSS3&&(anim.target.setAttr(forceEnd.anims[anim.id].attributes,
!0),this.collectTargetData(anim,anim.duration,useCSS3,lastFrame),anim.paused=!0,forceEnd=anim.target.target,anim.target.isComposite&&(forceEnd=anim.target.target.last()),useCSS3={},useCSS3[Ext.supports.CSS3TransitionEnd]=anim.lastFrame,useCSS3.scope=anim,useCSS3.single=!0,forceEnd.on(useCSS3));return forceEnd}},jumpToEnd:function(anim){if(!this.targetArr){this.targetArr={};var clear=!0}var target=this.runAnim(anim,!0);this.applyAnimAttrs(target,target.anims[anim.id]);clear&&(this.targetArr=null)},
collectTargetData:function(anim,elapsedTime,useCSS3,isLastFrame){var targetId=anim.target.getId(),target=this.targetArr[targetId];target||(target=this.targetArr[targetId]={id:targetId,el:anim.target,anims:{}});target.anims[anim.id]={id:anim.id,anim,elapsed:elapsedTime,isLastFrame,attributes:[{duration:anim.duration,easing:useCSS3&&anim.reverse?anim.easingFn.reverse().toCSS3():anim.easing,attrs:anim.runAnim(elapsedTime)}]};return target},applyAnimAttrs:function(target,animWrap){var anim=animWrap.anim;
animWrap.attributes&&anim.isRunning()&&(target.el.setAttr(animWrap.attributes,!1,animWrap.isLastFrame),animWrap.isLastFrame&&anim.lastFrame())},applyPendingAttrs:function(){var targetArr=this.targetArr,targetId,animId;for(targetId in targetArr)if(targetArr.hasOwnProperty(targetId)){var target=targetArr[targetId];for(animId in target.anims)if(target.anims.hasOwnProperty(animId)){var animWrap=target.anims[animId];var anim=animWrap.anim;animWrap.attributes&&anim.isRunning()&&(target.el.setAttr(animWrap.attributes,
!1,animWrap.isLastFrame),animWrap.isLastFrame&&anim.lastFrame())}}},clear:function(){this.taskRunner&&this.taskRunner.stopAll(!0);this.targetArr={};this.items.clear();this.targets.clear();this.clearFxQueue()}},1,0,0,0,0,[['queue',Ext.fx.Queue]],[Ext.fx,'Manager'],0);
Ext.cmd.derive('Ext.fx.Animator',Ext.Base,{isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:'ease',running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(config){this.config=config=Ext.apply(this,config||{});this.id=Ext.id(null,'ext-animator-');this.mixins.observable.constructor.call(this,config);this.timeline=[];this.createTimeline(this.keyframes);this.target&&(this.applyAnimator(this.target),Ext.fx.Manager.addAnim(this))},
sorter:function(a,b){return a.pct-b.pct},createTimeline:function(keyframes){var attrs=[],to=this.to||{},duration=this.duration,i;for(i in keyframes)if(keyframes.hasOwnProperty(i)&&this.animKeyFramesRE.test(i)){var ln={attrs:Ext.apply(keyframes[i],to)};'from'===i?i=0:'to'===i&&(i=100);ln.pct=parseInt(i,10);attrs.push(ln)}Ext.Array.sort(attrs,this.sorter);ln=attrs.length;for(i=0;i<ln;i++)keyframes=attrs[i-1]?attrs[i-1].pct/100*duration:0,to=attrs[i].pct/100*duration,this.timeline.push({duration:to-
keyframes,attrs:attrs[i].attrs})},applyAnimator:function(target){var anims=[],timeline=this.timeline,ln=timeline.length,i;if(!1!==this.fireEvent('beforeanimate',this)){for(i=0;i<ln;i++){var anim=timeline[i];var attrs=anim.attrs;var easing=attrs.easing||this.easing;var damper=attrs.damper||this.damper;delete attrs.easing;delete attrs.damper;anim=new Ext.fx.Anim({target,easing,damper,duration:anim.duration,paused:!0,to:attrs});anims.push(anim)}this.animations=anims;this.target=anim.target;for(i=0;i<
ln-1;i++)anim=anims[i],anim.nextAnim=anims[i+1],anim.on('afteranimate',function(){this.nextAnim.paused=!1}),anim.on('afteranimate',function(){this.fireEvent('keyframe',this,++this.keyframeStep)},this);anims[ln-1].on('afteranimate',function(){this.lastFrame()},this)}},start:function(startTime){var delay=this.delay,delayStart=this.delayStart;if(delay)if(delayStart){if(startTime-delayStart<delay)return;startTime=new Date(delayStart.getTime()+delay)}else{this.delayStart=startTime;return}!1!==this.fireEvent('beforeanimate',
this)&&(this.startTime=startTime,this.running=!0,this.animations[this.keyframeStep].paused=!1)},lastFrame:function(){var iter=this.iterations,iterCount=this.currentIteration;iterCount++;iterCount<iter?(this.startTime=new Date,this.currentIteration=iterCount,this.keyframeStep=0,this.applyAnimator(this.target),this.animations[this.keyframeStep].paused=!1):(this.currentIteration=0,this.end())},end:function(){this.fireEvent('afteranimate',this,this.startTime,new Date-this.startTime)},isReady:function(){return!1===
this.paused&&!1===this.running&&0<this.iterations},isRunning:function(){return!1}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.fx,'Animator'],0);
Ext.cmd.derive('Ext.fx.CubicBezier',Ext.Base,{singleton:!0,cubicBezierAtTime:function(t,p1x,p1y,p2x,p2y,duration){function solveCurveX(x,epsilon){var t1;var t2=x;for(t1=0;8>t1;t1++){var x2=((ax*t2+bx)*t2+cx)*t2-x;if(Math.abs(x2)<epsilon)return t2;var t0=(3*ax*t2+2*bx)*t2+cx;if(1E-6>Math.abs(t0))break;t2-=x2/t0}t0=0;t1=1;t2=x;if(t2<t0)return t0;if(t2>t1)return t1;for(;t0<t1;){x2=((ax*t2+bx)*t2+cx)*t2;if(Math.abs(x2-x)<epsilon)break;x>x2?t0=t2:t1=t2;t2=(t1-t0)/2+t0}return t2}var cx=3*p1x,bx=3*(p2x-
p1x)-cx,ax=1-cx-bx,cy=3*p1y,by=3*(p2y-p1y)-cy,ay=1-cy-by;return function(x,epsilon){x=solveCurveX(x,epsilon);return((ay*x+by)*x+cy)*x}(t,1/(200*duration))},cubicBezier:function(x1,y1,x2,y2){var fn=function(pos){return Ext.fx.CubicBezier.cubicBezierAtTime(pos,x1,y1,x2,y2,1)};fn.toCSS3=function(){return'cubic-bezier('+[x1,y1,x2,y2].join()+')'};fn.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-x2,1-y2,1-x1,1-y1)};return fn}},0,0,0,0,0,0,[Ext.fx,'CubicBezier'],0);
Ext.cmd.derive('Ext.fx.Easing',Ext.Base,function(){var math=Math,pi=math.PI,pow=math.pow,sin=math.sin,sqrt=math.sqrt,abs=math.abs;return{singleton:!0,linear:Ext.identityFn,ease:function(n){var q=.07813-n/2,Q=sqrt(.0066+q*q);n=Q-q;n=pow(abs(n),1/3)*(0>n?-1:1);q=-Q-q;q=pow(abs(q),1/3)*(0>q?-1:1);n=n+q+.25;return 3*pow(1-n,2)*n*.1+3*(1-n)*n*n+n*n*n},easeIn:function(n){return pow(n,1.7)},easeOut:function(n){return pow(n,.48)},easeInOut:function(n){var q=.48-n/1.04,Q=sqrt(.1734+q*q);n=Q-q;n=pow(abs(n),
1/3)*(0>n?-1:1);q=-Q-q;q=pow(abs(q),1/3)*(0>q?-1:1);n=n+q+.5;return 3*(1-n)*n*n+n*n*n},backIn:function(n){return n*n*(2.70158*n-1.70158)},backOut:function(n){--n;return n*n*(2.70158*n+1.70158)+1},elasticIn:function(n){return 0===n||1===n?n:pow(2,-10*n)*sin(2*(n-.075)*pi/.3)+1},elasticOut:function(n){return 1-Ext.fx.Easing.elasticIn(1-n)},bounceIn:function(n){return 1-Ext.fx.Easing.bounceOut(1-n)},bounceOut:function(n){n<1/2.75?n*=7.5625*n:n<2/2.75?(n-=1.5/2.75,n=7.5625*n*n+.75):n<2.5/2.75?(n-=2.25/
2.75,n=7.5625*n*n+.9375):(n-=2.625/2.75,n=7.5625*n*n+.984375);return n}}},0,0,0,0,0,0,[Ext.fx,'Easing'],function(me){me=me.self;var proto=me.prototype;me.addMembers({'back-in':proto.backIn,'back-out':proto.backOut,'ease-in':proto.easeIn,'ease-out':proto.easeOut,'elastic-in':proto.elasticIn,'elastic-out':proto.elasticOut,'bounce-in':proto.bounceIn,'bounce-out':proto.bounceOut,'ease-in-out':proto.easeInOut})});
Ext.cmd.derive('Ext.fx.DrawPath',Ext.Base,{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(o,type){type=String(type).toLowerCase();return'object'==type&&o===Object(o)||'undefined'==type&&typeof o==type||'null'==type&&null===o||'array'==type&&Array.isArray&&Array.isArray(o)||Object.prototype.toString.call(o).toLowerCase().slice(8,
-1)==type},path2string:function(){return this.join(',').replace(Ext.fx.DrawPath.pathToStringRE,'$1')},pathToString:function(arrayPath){return arrayPath.join(',').replace(Ext.fx.DrawPath.pathToStringRE,'$1')},parsePathString:function(pathString){if(!pathString)return null;var me=this,paramCounts={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},data=[];me.is(pathString,'array')&&me.is(pathString[0],'array')&&(data=me.pathClone(pathString));data.length||String(pathString).replace(me.pathCommandRE,function(a$jscomp$0,
b$jscomp$0,c){var params=[];a$jscomp$0=b$jscomp$0.toLowerCase();c.replace(me.pathValuesRE,function(a,b){b&&params.push(+b)});'m'===a$jscomp$0&&2<params.length&&(data.push([b$jscomp$0].concat(Ext.Array.splice(params,0,2))),a$jscomp$0='l',b$jscomp$0='m'===b$jscomp$0?'l':'L');for(;params.length>=paramCounts[a$jscomp$0]&&(data.push([b$jscomp$0].concat(Ext.Array.splice(params,0,paramCounts[a$jscomp$0]))),paramCounts[a$jscomp$0]););});data.toString=me.path2string;return data},pathClone:function(pathArray){var res=
[],jj,ii;this.is(pathArray,'array')&&this.is(pathArray&&pathArray[0],'array')||(pathArray=this.parsePathString(pathArray));var i=0;for(ii=pathArray.length;i<ii;i++){res[i]=[];var j=0;for(jj=pathArray[i].length;j<jj;j++)res[i][j]=pathArray[i][j]}res.toString=this.path2string;return res},pathToAbsolute:function(pathArray){this.is(pathArray,'array')&&this.is(pathArray&&pathArray[0],'array')||(pathArray=this.parsePathString(pathArray));var res=[],x=0,y=0,mx=0,my=0,i=0,ln=pathArray.length,ln2;ln&&'M'===
pathArray[0][0]&&(x=+pathArray[0][1],y=+pathArray[0][2],mx=x,my=y,i++,res[0]=['M',x,y]);for(;i<ln;i++){var r=res[i]=[];var pathSegment=pathArray[i];if(pathSegment[0]!==pathSegment[0].toUpperCase())switch(r[0]=pathSegment[0].toUpperCase(),r[0]){case 'A':r[1]=pathSegment[1];r[2]=pathSegment[2];r[3]=pathSegment[3];r[4]=pathSegment[4];r[5]=pathSegment[5];r[6]=+(pathSegment[6]+x);r[7]=+(pathSegment[7]+y);break;case 'V':r[1]=+pathSegment[1]+y;break;case 'H':r[1]=+pathSegment[1]+x;break;case 'M':mx=+pathSegment[1]+
x,my=+pathSegment[2]+y;default:var j=1;for(ln2=pathSegment.length;j<ln2;j++)r[j]=+pathSegment[j]+(j%2?x:y)}else for(j=0,ln2=pathSegment.length;j<ln2;j++)res[i][j]=pathSegment[j];switch(r[0]){case 'Z':x=mx;y=my;break;case 'H':x=r[1];break;case 'V':y=r[1];break;case 'M':pathSegment=res[i],ln2=pathSegment.length,mx=pathSegment[ln2-2],my=pathSegment[ln2-1];default:pathSegment=res[i],ln2=pathSegment.length,x=pathSegment[ln2-2],y=pathSegment[ln2-1]}}res.toString=this.path2string;return res},interpolatePaths:function(path,
path2){var p=this.pathToAbsolute(path),p2=this.pathToAbsolute(path2);path={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};path2={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var fixArc=function(pp,i){var pi;if(7<pp[i].length){pp[i].shift();for(pi=pp[i];pi.length;)Ext.Array.splice(pp,i++,0,['C'].concat(Ext.Array.splice(pi,0,6)));Ext.Array.erase(pp,i,1);ii=Math.max(p.length,p2.length||0)}},fixM=function(path1,path2,a1,a2,i){path1&&path2&&'M'===path1[i][0]&&'M'!==path2[i][0]&&(Ext.Array.splice(path2,i,0,['M',
a2.x,a2.y]),a1.bx=0,a1.by=0,a1.x=path1[i][1],a1.y=path1[i][2],ii=Math.max(p.length,p2.length||0))},ii;var i$jscomp$0=0;for(ii=Math.max(p.length,p2.length||0);i$jscomp$0<ii;i$jscomp$0++){p[i$jscomp$0]=this.command2curve(p[i$jscomp$0],path);fixArc(p,i$jscomp$0);p2[i$jscomp$0]=this.command2curve(p2[i$jscomp$0],path2);fixArc(p2,i$jscomp$0);fixM(p,p2,path,path2,i$jscomp$0);fixM(p2,p,path2,path,i$jscomp$0);var seg=p[i$jscomp$0];var seg2=p2[i$jscomp$0];var seglen=seg.length;var seg2len=seg2.length;path.x=
seg[seglen-2];path.y=seg[seglen-1];path.bx=parseFloat(seg[seglen-4])||path.x;path.by=parseFloat(seg[seglen-3])||path.y;path2.bx=parseFloat(seg2[seg2len-4])||path2.x;path2.by=parseFloat(seg2[seg2len-3])||path2.y;path2.x=seg2[seg2len-2];path2.y=seg2[seg2len-1]}return[p,p2]},command2curve:function(pathCommand,d){if(!pathCommand)return['C',d.x,d.y,d.x,d.y,d.x,d.y];'T'!==pathCommand[0]&&'Q'!==pathCommand[0]&&(d.qx=d.qy=null);switch(pathCommand[0]){case 'M':d.X=pathCommand[1];d.Y=pathCommand[2];break;case 'A':pathCommand=
['C'].concat(this.arc2curve.apply(this,[d.x,d.y].concat(pathCommand.slice(1))));break;case 'S':pathCommand=['C',d.x+(d.x-(d.bx||d.x)),d.y+(d.y-(d.by||d.y))].concat(pathCommand.slice(1));break;case 'T':d.qx=d.x+(d.x-(d.qx||d.x));d.qy=d.y+(d.y-(d.qy||d.y));pathCommand=['C'].concat(this.quadratic2curve(d.x,d.y,d.qx,d.qy,pathCommand[1],pathCommand[2]));break;case 'Q':d.qx=pathCommand[1];d.qy=pathCommand[2];pathCommand=['C'].concat(this.quadratic2curve(d.x,d.y,pathCommand[1],pathCommand[2],pathCommand[3],
pathCommand[4]));break;case 'L':pathCommand=['C'].concat(d.x,d.y,pathCommand[1],pathCommand[2],pathCommand[1],pathCommand[2]);break;case 'H':pathCommand=['C'].concat(d.x,d.y,pathCommand[1],d.y,pathCommand[1],d.y);break;case 'V':pathCommand=['C'].concat(d.x,d.y,d.x,pathCommand[1],d.x,pathCommand[1]);break;case 'Z':pathCommand=['C'].concat(d.x,d.y,d.X,d.Y,d.X,d.Y)}return pathCommand},quadratic2curve:function(x1,y1,ax,ay,x2,y2){var _13=1/3,_23=2/3;return[_13*x1+_23*ax,_13*y1+_23*ay,_13*x2+_23*ax,_13*
y2+_23*ay,x2,y2]},rotate:function(x,y,rad){var cos=Math.cos(rad);rad=Math.sin(rad);return{x:x*cos-y*rad,y:x*rad+y*cos}},arc2curve:function(x1,y1,rx,ry,angle,large_arc_flag,sweep_flag,x2,y2,recursive){var PI=Math.PI,_120=120*PI/180,rad=this.radian*(+angle||0),res=[],math=Math,mcos=math.cos,msin=math.sin,msqrt=math.sqrt,mabs=math.abs,masin=math.asin;if(recursive){var xy=recursive[0];masin=recursive[1];large_arc_flag=recursive[2];msqrt=recursive[3]}else{xy=this.rotate(x1,y1,-rad);x1=xy.x;y1=xy.y;xy=
this.rotate(x2,y2,-rad);x2=xy.x;y2=xy.y;xy=(x1-x2)/2;var y=(y1-y2)/2;var h=xy*xy/(rx*rx)+y*y/(ry*ry);1<h&&(h=msqrt(h),rx*=h,ry*=h);h=rx*rx;var ry2=ry*ry;msqrt=(large_arc_flag==sweep_flag?-1:1)*msqrt(mabs((h*ry2-h*y*y-ry2*xy*xy)/(h*y*y+ry2*xy*xy)));large_arc_flag=msqrt*rx*y/ry+(x1+x2)/2;msqrt=msqrt*-ry*xy/rx+(y1+y2)/2;xy=masin(((y1-msqrt)/ry).toFixed(7));masin=masin(((y2-msqrt)/ry).toFixed(7));xy=x1<large_arc_flag?PI-xy:xy;masin=x2<large_arc_flag?PI-masin:masin;0>xy&&(xy=2*PI+xy);0>masin&&(masin=2*
PI+masin);sweep_flag&&xy>masin&&(xy-=2*PI);!sweep_flag&&masin>xy&&(masin-=2*PI)}mabs(masin-xy)>_120&&(res=masin,PI=x2,mabs=y2,masin=xy+_120*(sweep_flag&&masin>xy?1:-1),x2=large_arc_flag+rx*mcos(masin),y2=msqrt+ry*msin(masin),res=this.arc2curve(x2,y2,rx,ry,angle,0,sweep_flag,PI,mabs,[masin,res,large_arc_flag,msqrt]));_120=masin-xy;angle=mcos(xy);sweep_flag=msin(xy);mcos=mcos(masin);msin=msin(masin);math=math.tan(_120/4);rx=4/3*rx*math;math*=4/3*ry;ry=[x1,y1];x1=[x1+rx*sweep_flag,y1-math*angle];y1=
[x2+rx*msin,y2-math*mcos];x2=[x2,y2];x1[0]=2*ry[0]-x1[0];x1[1]=2*ry[1]-x1[1];if(recursive)return[x1,y1,x2].concat(res);res=[x1,y1,x2].concat(res).join().split(',');recursive=[];y2=res.length;for(x2=0;x2<y2;x2++)recursive[x2]=x2%2?this.rotate(res[x2-1],res[x2],rad).y:this.rotate(res[x2],res[x2+1],rad).x;return recursive}},0,0,0,0,0,0,[Ext.fx,'DrawPath'],0);
Ext.cmd.derive('Ext.fx.PropertyHandler',Ext.Base,{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(from,end,damper,initial,attr){var unitRE=this.unitRE,match=unitRE.exec(from);damper='number'===typeof damper?damper:1;if(match){from=match[1];var units=match[2];this.scrollRE.test(attr)||units||!this.pixelDefaultsRE.test(attr)||(units='px')}from=+from||0;if(match=unitRE.exec(end))end=
match[1],units=match[2]||units;return{from,delta:((+end||0)-(null!=initial?initial:from))*damper,units}},get:function(from,end,damper,initialFrom,attr){var ln=from.length,out=[],i,len;for(i=0;i<ln;i++){if(initialFrom)var initial=initialFrom[i][1].from;if(Ext.isArray(from[i][1])&&Ext.isArray(end)){var res=[];var j=0;for(len=from[i][1].length;j<len;j++)res.push(this.computeDelta(from[i][1][j],end[j],damper,initial,attr));out.push([from[i][0],res])}else out.push([from[i][0],this.computeDelta(from[i][1],
end,damper,initial,attr)])}return out},set:function(values,easing){var ln=values.length,out=[],i,len;for(i=0;i<ln;i++){var val=values[i][1];if(Ext.isArray(val)){var res=[];var j=0;for(len=val.length;j<len;j++)res.push(val[j].from+val[j].delta*easing+(val[j].units||0));out.push([values[i][0],res])}else out.push([values[i][0],val.from+val.delta*easing+(val.units||0)])}return out}},stringHandler:{computeDelta:function(from,end,damper,initial,attr){return{from,delta:end}},get:function(from,end,damper,
initialFrom,attr){initialFrom=from.length;var out=[],i;for(i=0;i<initialFrom;i++)out.push([from[i][0],this.computeDelta(from[i][1],end,damper,void 0,attr)]);return out},set:function(values,easing){easing=values.length;var out=[],i;for(i=0;i<easing;i++){var val=values[i][1];out.push([values[i][0],val.delta])}return out}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(color,
damper){damper=!1;var reList=[this.hexRE,this.rgbRE,this.hex3RE],length=reList.length,i;for(i=0;i<length;i++){var match=reList[i];var base=0===i%2?16:10;if((match=match.exec(color))&&4===match.length){2===i&&(match[1]+=match[1],match[2]+=match[2],match[3]+=match[3]);damper={red:parseInt(match[1],base),green:parseInt(match[2],base),blue:parseInt(match[3],base)};break}}return damper||color},computeDelta:function(from,end,damper,initial){from=this.parseColor(from);end=this.parseColor(end,damper);initial=
initial?initial:from;var tfrom=typeof initial,tend=typeof end;return'string'===tfrom||'undefined'===tfrom||'string'===tend||'undefined'===tend?end||initial:{from,delta:{red:Math.round((end.red-initial.red)*damper),green:Math.round((end.green-initial.green)*damper),blue:Math.round((end.blue-initial.blue)*damper)}}},get:function(start,end,damper,initialFrom){var ln=start.length,out=[],i;for(i=0;i<ln;i++){if(initialFrom)var initial=initialFrom[i][1].from;out.push([start[i][0],this.computeDelta(start[i][1],
end,damper,initial)])}return out},set:function(values,easing){var ln=values.length,out=[],i,val;for(i=0;i<ln;i++)if(val=values[i][1]){var from=val.from;var delta=val.delta;val='object'===typeof val&&'red'in val?'rgb('+val.red+', '+val.green+', '+val.blue+')':val;val='object'===typeof val&&val.length?val[0]:val;if('undefined'===typeof val)return[];val='string'===typeof val?val:'rgb('+[(from.red+Math.round(delta.red*easing))%256,(from.green+Math.round(delta.green*easing))%256,(from.blue+Math.round(delta.blue*
easing))%256].join()+')';out.push([values[i][0],val])}return out}},object:{interpolate:function(prop,damper){var out={},p;damper='number'===typeof damper?damper:1;for(p in prop)out[p]=parseFloat(prop[p])*damper;return out},computeDelta:function(from,end,damper,initial){from=this.interpolate(from);end=this.interpolate(end,damper);damper=initial?initial:from;initial={};for(var p in end)initial[p]=end[p]-damper[p];return{from,delta:initial}},get:function(start,end,damper,initialFrom){var ln=start.length,
out=[],i;for(i=0;i<ln;i++){if(initialFrom)var initial=initialFrom[i][1].from;out.push([start[i][0],this.computeDelta(start[i][1],end,damper,initial)])}return out},set:function(values,easing){var ln=values.length,out=[],outObject={},i,p;for(i=0;i<ln;i++){var delta=values[i][1];var from=delta.from;delta=delta.delta;for(p in from)outObject[p]=from[p]+delta[p]*easing;out.push([values[i][0],outObject])}return out}},path:{computeDelta:function(from,end,damper,initial){from=+from||0;return{from,delta:((+end||
0)-(null!=initial?initial:from))*('number'===typeof damper?damper:1)}},forcePath:function(path){Ext.isArray(path)||Ext.isArray(path[0])||(path=Ext.fx.DrawPath.parsePathString(path));return path},get:function(start,end,damper,initialFrom){end=this.forcePath(end);var out=[],startLn=start.length,i,j,k;for(i=0;i<startLn;i++){var startPath=this.forcePath(start[i][1]);var deltaPath=Ext.fx.DrawPath.interpolatePaths(startPath,end);startPath=deltaPath[0];end=deltaPath[1];var startPathLn=startPath.length;var path=
[];for(j=0;j<startPathLn;j++){deltaPath=[startPath[j][0]];var pointsLn=startPath[j].length;for(k=1;k<pointsLn;k++){var initial=initialFrom&&initialFrom[0][1][j][k].from;deltaPath.push(this.computeDelta(startPath[j][k],end[j][k],damper,initial))}path.push(deltaPath)}out.push([start[i][0],path])}return out},set:function(values,easing){var ln=values.length,out=[],i,j,k;for(i=0;i<ln;i++){var deltaPath=values[i][1];var newPath=[];var deltaPathLn=deltaPath.length;for(j=0;j<deltaPathLn;j++){var calcPath=
[deltaPath[j][0]];var pointsLn=deltaPath[j].length;for(k=1;k<pointsLn;k++)calcPath.push(deltaPath[j][k].from+deltaPath[j][k].delta*easing);newPath.push(calcPath.join(','))}out.push([values[i][0],newPath.join(',')])}return out}}}},0,0,0,0,0,0,[Ext.fx,'PropertyHandler'],function(){for(var props='outlineColor backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor fill stroke'.split(' '),length=props.length,i=0,prop;i<length;i++)prop=props[i],this[prop]=this.color;
props=['cursor'];length=props.length;for(i=0;i<length;i++)prop=props[i],this[prop]=this.stringHandler});
Ext.cmd.derive('Ext.fx.Anim',Ext.Base,{isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:'ease',damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,autoEnd:!1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(config){config=config||{};if(config.keyframes)return new Ext.fx.Animator(config);Ext.apply(this,config);void 0===this.from&&(this.from={});this.propHandlers={};this.config=config;this.target=
Ext.fx.Manager.createTarget(this.target);this.easingFn=Ext.fx.Easing[this.easing];this.target.dynamic=this.dynamic;if(!this.easingFn&&(this.easingFn=String(this.easing).match(this.bezierRE))&&5===this.easingFn.length){var curve=this.easingFn;this.easingFn=Ext.fx.CubicBezier.cubicBezier(+curve[1],+curve[2],+curve[3],+curve[4])}this.id=Ext.id(null,'ext-anim-');this.mixins.observable.constructor.call(this);Ext.fx.Manager.addAnim(this);config.autoEnd&&(this.running=!0,this.jumpToEnd())},setAttr:function(attr,
value){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,attr,value)},initAttrs:function(){var from=this.from,to=this.to,initialFrom=this.initialFrom||{},out={},attr;for(attr in to)if(to.hasOwnProperty(attr)){var start=this.target.getAttr(attr,from[attr]);var end=to[attr];var propHandler=Ext.fx.PropertyHandler[attr]?this.propHandlers[attr]=Ext.fx.PropertyHandler[attr]:Ext.isObject(end)?this.propHandlers[attr]=Ext.fx.PropertyHandler.object:this.propHandlers[attr]=Ext.fx.PropertyHandler.defaultHandler;
out[attr]=propHandler.get(start,end,this.damper,initialFrom[attr],attr)}this.currentAttrs=out},start:function(startTime){var delay=this.delay,delayStart=this.delayStart;if(delay)if(delayStart){if(startTime-delayStart<delay)return;startTime=new Date(delayStart.getTime()+delay)}else{this.delayStart=startTime;return}!1!==this.fireEvent('beforeanimate',this)&&(this.startTime=startTime,this.paused||this.currentAttrs||this.initAttrs(),this.running=!0,this.frameCount=0)},jumpToEnd:function(suppressEvent){this.endWasCalled||
(this.currentAttrs||this.initAttrs(),Ext.fx.Manager.jumpToEnd(this),this.end(suppressEvent))},runAnim:function(elapsedTime){var attrs=this.currentAttrs,duration=this.duration,easingFn=this.easingFn,propHandlers=this.propHandlers,ret={},attr;if(elapsedTime>=duration){elapsedTime=duration;var lastFrame=!0}this.reverse&&(elapsedTime=duration-elapsedTime);for(attr in attrs)if(attrs.hasOwnProperty(attr)){var values=attrs[attr];var easing=lastFrame?1:easingFn(elapsedTime/duration);ret[attr]=propHandlers[attr].set(values,
easing)}this.frameCount++;return ret},lastFrame:function(){var iter=this.iterations,iterCount=this.currentIteration;iterCount++;iterCount<iter?(this.alternate&&(this.reverse=!this.reverse),this.startTime=new Date,this.currentIteration=iterCount,this.paused=!1):(this.currentIteration=0,this.end(),this.fireEvent('lastframe',this,this.startTime))},endWasCalled:0,end:function(suppressEvent){this.endWasCalled++||(this.startTime=0,this.running=this.paused=!1,Ext.fx.Manager.removeAnim(this),suppressEvent||
(this.fireEvent('afteranimate',this,this.startTime),Ext.callback(this.callback,this.scope,[this,this.startTime])),this.remove&&this.target.destroy())},isReady:function(){return!1===this.paused&&!1===this.running&&0<this.iterations},isRunning:function(){return!1===this.paused&&!0===this.running&&!0!==this.isAnimator}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.fx,'Anim'],0);Ext.enableFx=!0;
Ext.cmd.derive('Ext.util.Animate',Ext.Base,{mixinId:'animate',isAnimate:!0,animate:function(animObj){if(Ext.fx.Manager.hasFxBlock(this.id))return this;Ext.fx.Manager.queueFx(new Ext.fx.Anim(this.anim(animObj)));return this},anim:function(config){if(!Ext.isObject(config))return config?{}:!1;config.stopAnimation&&this.stopAnimation();Ext.applyIf(config,Ext.fx.Manager.getFxDefaults(this.id));return Ext.apply({target:this,paused:!0},config)},getAnimationProps:function(){var layout=this.layout;return layout&&
layout.animate?layout.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,'stopAnimation'),stopAnimation:function(suppressEvent){Ext.fx.Manager.stopAnimation(this.id,suppressEvent);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,'getActiveAnimation'),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},
0,0,0,0,0,0,[Ext.util,'Animate'],0);
Ext.cmd.derive('Ext.dom.Fly',Ext.dom.Element,{alternateClassName:'Ext.dom.Element.Fly',validNodeTypes:{1:1,9:1,11:1},isFly:!0,constructor:function(dom){this.dom=dom;this.el=this},attach:function(dom){if(!dom)return this.detach();this.dom=Ext.getDom(dom);!Ext.cache[dom.id]&&(dom=this.peekData())&&(dom.isSynchronized=!1);return this},detach:function(){return this.dom=null},addListener:null,removeListener:null},1,0,0,0,0,0,[Ext.dom,'Fly',Ext.dom.Element,'Fly'],function(Fly){var flyweights={},detachedBodyEl;
Fly.cache=flyweights;Ext.fly=function(dom,named){var fly=null,fn=Ext.fly;named=named||fn.caller&&(fn.caller.$name||fn.caller.name)||'_global';if(dom=Ext.getDom(dom))if(fn=dom.nodeType,Fly.prototype.validNodeTypes[fn]||!fn&&dom.window==dom)if(fly=Ext.cache[dom.id],!fly||fly.dom!==dom)if('constructor'===named&&(named='$constructor'),fly=flyweights[named]||(flyweights[named]=new Fly),fly.dom=dom,dom=fly.peekData())dom.isSynchronized=!1;return fly};Ext.getDetachedBody=function(){detachedBodyEl||(Ext.detachedBodyEl=
detachedBodyEl=new Fly(document.createElement('div')),detachedBodyEl.isDetachedBody=!0);return detachedBodyEl}});
Ext.cmd.derive('Ext.dom.CompositeElementLite',Ext.Base,{alternateClassName:['Ext.CompositeElementLite'],isComposite:!0,isLite:!0,statics:{importElementMethods:function(){var prototype=this.prototype;Ext.Object.each(Ext.dom.Element.prototype,function(name,member){'function'!==typeof member||prototype[name]||(prototype[name]=function(){return this.invoke(name,arguments)})})}},constructor:function(elements,skipValidation){skipValidation?this.elements=elements||[]:(this.elements=[],this.add(elements))},
getElement:function(el){return(this._fly||(this._fly=new Ext.dom.Fly)).attach(el)},transformElement:function(el){return Ext.getDom(el)},getCount:function(){return this.elements.length},add:function(els,root){var elements=this.elements,ln;if(!els)return this;'string'===typeof els?els=Ext.fly(root||document).query(els):els.isComposite?els=els.elements:Ext.isIterable(els)||(els=[els]);root=0;for(ln=els.length;root<ln;++root)elements.push(this.transformElement(els[root]));return this},invoke:function(fn,
args){var elements=this.elements,ln=elements.length,element,i;if(0!==i){var prototype=(this.isLite?Ext.dom.Fly:Ext.dom.Element).prototype;for(i=0;i<ln;i++)(element=elements[i])&&prototype[fn].apply(this.getElement(element),args)}return this},item:function(index){index=this.elements[index];var out=null;index&&(out=this.getElement(index));return out},slice:function(start,end){return Ext.Array.slice(this.elements,start,end)},each:function(fn,scope){var els=this.elements,len=els.length,i,e;for(i=0;i<
len;i++)if(e=els[i])if(e=this.getElement(e),!1===fn.call(scope||e,e,this,i))break;return this},fill:function(els){this.elements=[];this.add(els);return this},insert:function(index,nodes){Ext.Array.insert(this.elements,index,nodes)},filter:function(selector){for(var els=this.elements,len=els.length,out=[],i=0,isFunc='function'===typeof selector,add,el;i<len;i++)if(el=els[i])el=this.getElement(el),(add=isFunc?!1!==selector.call(el,el,this,i):el.is(selector))&&out.push(this.transformElement(el));this.elements=
out;return this},indexOf:function(el){return Ext.Array.indexOf(this.elements,this.transformElement(el))},replaceElement:function(el,replacement,domReplace){el=isNaN(el)?this.indexOf(el):el;-1<el&&(replacement=Ext.getDom(replacement),domReplace&&(domReplace=this.elements[el],domReplace.parentNode.insertBefore(replacement,domReplace),Ext.removeNode(domReplace)),Ext.Array.splice(this.elements,el,1,replacement));return this},clear:function(removeDom){var els=this.elements,i=els.length-1;if(removeDom)for(;0<=
i;i--)Ext.removeNode(els[i]);this.elements=[]},addElements:function(els,root){if(!els)return this;'string'===typeof els&&(els=Ext.dom.Element.selectorFunction(els,root));root=this.elements;var eLen=els.length,e;for(e=0;e<eLen;e++)root.push(Ext.get(els[e]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(el){return-1!==this.indexOf(el)},removeElement:function(keys,removeDom){var elements=this.elements,el,kLen;keys=[].concat(keys);
var k=0;for(kLen=keys.length;k<kLen;k++){var val=keys[k];if(el=elements[val]||elements[val=this.indexOf(val)])removeDom&&(el.dom?el.destroy():Ext.removeNode(el)),Ext.Array.erase(elements,val,1)}return this},destroy:function(){this.invoke('destroy',arguments);this.callParent()}},1,0,0,0,0,0,[Ext.dom,'CompositeElementLite',Ext,'CompositeElementLite'],function(CompositeElementLite){var prototype=CompositeElementLite.prototype;CompositeElementLite.importElementMethods();prototype.on=prototype.addListener});
Ext.define('Ext.overrides.dom.Element',function(){var Element,WIN=window,DOC=document,scriptTagRe=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,replaceScriptTagRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=(['"])(.*?)\1/i,nonSpaceRe=/\S/,typeRe=/\stype=(['"])(.*?)\1/i,adjustDirect2DTableRe=/table-row|table-.*-group/,msRe=/^-ms-/,camelRe=/(-[a-z])/gi,camelReplaceFn=function(m,a){return a.charAt(1).toUpperCase()},bodyRe=/^body/i,propertyCache={},getVisMode=function(el){el=el.getData();
var visMode=el.visibilityMode;void 0===visMode&&(el.visibilityMode=visMode=Element.VISIBILITY);return visMode},emptyRange=DOC.createRange?DOC.createRange():null,syncContentFly;if(Ext.isIE8){var garbageBin=DOC.createElement('div'),destroyQueue=[];var clearGarbage=Ext.Function.createBuffered(function(){var len=destroyQueue.length,i;for(i=0;i<len;i++)garbageBin.appendChild(destroyQueue[i]);garbageBin.innerHTML='';destroyQueue.length=0},10)}return{override:'Ext.dom.Element',mixins:[Ext.util.Animate],
skipGarbageCollection:!1,_init:function(E){Element=E},statics:{normalize:function(prop){'float'===prop&&(prop=Ext.supports.Float?'cssFloat':'styleFloat');return propertyCache[prop]||(propertyCache[prop]=prop.replace(msRe,'ms-').replace(camelRe,camelReplaceFn))}},addKeyListener:function(key,fn,scope){key='object'!==typeof key||Ext.isArray(key)?{target:this,key,fn,scope}:{target:this,key:key.key,shift:key.shift,ctrl:key.ctrl,alt:key.alt,fn,scope};return new Ext.util.KeyMap(key)},addKeyMap:function(config){return new Ext.util.KeyMap(Ext.apply({target:this},
config))},adjustDirect2DDimension:function(dimension){var dom=this.dom,display=this.getStyle('display'),inlineDisplay=dom.style.display,inlinePosition=dom.style.position,originIndex='width'===dimension?0:1,currentStyle=dom.currentStyle;'inline'===display&&(dom.style.display='inline-block');dom.style.position=display.match(adjustDirect2DTableRe)?'absolute':'static';dimension=(parseFloat(currentStyle[dimension])||2*parseFloat(currentStyle.msTransformOrigin.split(' ')[originIndex]))%1;dom.style.position=
inlinePosition;'inline'===display&&(dom.style.display=inlineDisplay);return dimension},afterAnimate:function(){var shadow=this.shadow;!shadow||shadow.disabled||shadow.animate||shadow.show()},anchorAnimX:function(anchor){this.dom.style['l'===anchor?'right':'left']='0px'},anim:function(config){if(!Ext.isObject(config))return config?{}:!1;var duration=config.duration||Ext.fx.Anim.prototype.duration,easing=config.easing||'ease';config.stopAnimation&&this.stopAnimation();Ext.applyIf(config,Ext.fx.Manager.getFxDefaults(this.id));
Ext.fx.Manager.setFxDefaults(this.id,{delay:0});duration={target:this.dom,remove:config.remove,alternate:config.alternate||!1,duration,easing,callback:config.callback,listeners:config.listeners,iterations:config.iterations||1,scope:config.scope,block:config.block,concurrent:config.concurrent,delay:config.delay||0,paused:!0,keyframes:config.keyframes,from:config.from||{},to:Ext.apply({},config),userConfig:config};Ext.apply(duration.to,config.to);delete duration.to.to;delete duration.to.from;delete duration.to.remove;
delete duration.to.alternate;delete duration.to.keyframes;delete duration.to.iterations;delete duration.to.listeners;delete duration.to.target;delete duration.to.paused;delete duration.to.callback;delete duration.to.scope;delete duration.to.duration;delete duration.to.easing;delete duration.to.concurrent;delete duration.to.block;delete duration.to.stopAnimation;delete duration.to.delay;return duration},animate:function(config){this.addAnimation(config);return this},addAnimation:function(config){var animId=
this.dom.id||Ext.id(this.dom);if(!Ext.fx.Manager.hasFxBlock(animId)){if(config.listeners){var listeners=config.listeners;delete config.listeners}config.internalListeners&&(config.listeners=config.internalListeners,delete config.internalListeners);animId=config.autoEnd;delete config.autoEnd;var anim=new Ext.fx.Anim(this.anim(config));anim.on({afteranimate:'afterAnimate',beforeanimate:'beforeAnimate',scope:this,single:!0});if(listeners)anim.on(listeners);Ext.fx.Manager.queueFx(anim);animId&&anim.jumpToEnd()}return anim},
beforeAnimate:function(){var shadow=this.shadow;!shadow||shadow.disabled||shadow.animate||shadow.hide()},boxWrap:function(cls){cls=cls||'x-box';var el=Ext.get(this.insertHtml('beforeBegin',"\x3cdiv class\x3d'"+cls+"' role\x3d'presentation'\x3e"+Ext.String.format('\x3cdiv class\x3d"{0}-tl" role\x3d"presentation"\x3e\x3cdiv class\x3d"{0}-tr" role\x3d"presentation"\x3e\x3cdiv class\x3d"{0}-tc" role\x3d"presentation"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"{0}-ml" role\x3d"presentation"\x3e\x3cdiv class\x3d"{0}-mr" role\x3d"presentation"\x3e\x3cdiv class\x3d"{0}-mc" role\x3d"presentation"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"{0}-bl" role\x3d"presentation"\x3e\x3cdiv class\x3d"{0}-br" role\x3d"presentation"\x3e\x3cdiv class\x3d"{0}-bc" role\x3d"presentation"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
cls)+'\x3c/div\x3e'));el.selectNode('.'+cls+'-mc').appendChild(this.dom);return el},clean:function(forceReclean){var dom=this.dom,data=this.getData(),n=dom.firstChild,ni=-1;if(data.isCleaned&&!0!==forceReclean)return this;for(;n;)forceReclean=n.nextSibling,3===n.nodeType?nonSpaceRe.test(n.nodeValue)?forceReclean&&3===forceReclean.nodeType&&(n.appendData(Ext.String.trim(forceReclean.data)),dom.removeChild(forceReclean),forceReclean=n.nextSibling,n.nodeIndex=++ni):dom.removeChild(n):(Ext.fly(n,'_clean').clean(),
n.nodeIndex=++ni),n=forceReclean;data.isCleaned=!0;return this},empty:emptyRange?function(){var dom=this.dom;dom.firstChild&&(emptyRange.setStartBefore(dom.firstChild),emptyRange.setEndAfter(dom.lastChild),emptyRange.deleteContents())}:function(){for(var dom=this.dom;dom.lastChild;)dom.removeChild(dom.lastChild)},clearListeners:function(){this.removeAnchor();arguments.callee.$previous.call(this)},clearPositioning:function(value){value=value||'';return this.setStyle({left:value,right:value,top:value,
bottom:value,'z-index':'',position:'static'})},createProxy:function(config,renderTo,matchBox){config='object'===typeof config?config:{tag:'div',role:'presentation',cls:config};config=renderTo?Ext.DomHelper.append(renderTo,config,!0):Ext.DomHelper.insertBefore(this.dom,config,!0);config.setVisibilityMode(Element.DISPLAY);config.hide();matchBox&&this.setBox&&this.getBox&&config.setBox(this.getBox());return config},clearOpacity:function(){return this.setOpacity('')},clip:function(){var data=this.getData();
if(!data.isClipped){data.isClipped=!0;var style=this.getStyle(['overflow','overflow-x','overflow-y']);data.originalClip={o:style.overflow,x:style['overflow-x'],y:style['overflow-y']};this.setStyle('overflow','hidden');this.setStyle('overflow-x','hidden');this.setStyle('overflow-y','hidden')}return this},destroy:function(){var dom=this.dom,data=this.peekData();dom&&(this.isAnimate&&this.stopAnimation(!0),this.removeAnchor());this.deferredFocusTimer&&(Ext.undefer(this.deferredFocusTimer),this.deferredFocusTimer=
null);arguments.callee.$previous.call(this);dom&&Ext.isIE8&&dom.window!=dom&&9!==dom.nodeType&&'BODY'!==dom.tagName&&'HTML'!==dom.tagName&&(destroyQueue[destroyQueue.length]=dom,clearGarbage());data&&(dom=data.maskEl,data=data.maskMsg,dom&&dom.destroy(),data&&data.destroy())},enableDisplayMode:function(display){this.setVisibilityMode(Element.DISPLAY);void 0!==display&&(this.getData().originalDisplay=display);return this},fadeIn:function(options){var dom=this.dom,animFly=new Ext.dom.Fly;this.animate(Ext.apply({},
options,{opacity:1,internalListeners:{beforeanimate:function(anim){animFly.attach(dom);animFly.isStyle('display','none')?animFly.setDisplayed(''):animFly.show()}}}));return this},fadeOut:function(options){var dom=this.dom,animFly=new Ext.dom.Fly;options=Ext.apply({opacity:0,internalListeners:{afteranimate:function(anim){0===anim.to.opacity&&(animFly.attach(dom),animFly.attach(dom),options.useDisplay?animFly.setDisplayed(!1):animFly.hide())}}},options);this.animate(options);return this},fixDisplay:function(){this.isStyle('display',
'none')&&(this.setStyle('visibility','hidden'),this.setStyle('display',this._getDisplay()),this.isStyle('display','none')&&this.setStyle('display','block'))},frame:function(color,count,obj){var dom=this.dom,animFly=new Ext.dom.Fly;color=color||'#C3DAF9';count=count||1;obj=obj||{};this.animate({duration:2*Math.max(obj.duration,500)||2E3,listeners:{beforeanimate:{fn:function(){var animScope=this;animFly.attach(dom);animFly.show();var box=animFly.getBox();var proxy=Ext.getBody().createChild({role:'presentation',
id:animFly.dom.id+'-anim-proxy',style:{position:'absolute','pointer-events':'none','z-index':35E3,border:'0px solid '+color}});(new Ext.fx.Anim({target:proxy,duration:obj.duration||1E3,iterations:count,from:{top:box.y,left:box.x,borderWidth:0,opacity:1,height:box.height,width:box.width},to:{top:box.y-20,left:box.x-20,borderWidth:10,opacity:0,height:box.height+40,width:box.width+40}})).on('afteranimate',function(){proxy.destroy();animScope.end()})}}},callback:obj.callback,scope:obj.scope});return this},
getColor:function(attr,defaultValue,prefix){attr=this.getStyle(attr);prefix=prefix||''===prefix?prefix:'#';var i;if(!attr||/transparent|inherit/.test(attr))return defaultValue;if(/^r/.test(attr)){attr=attr.slice(4,attr.length-1).split(',');var len=attr.length;for(i=0;i<len;i++){var h=parseInt(attr[i],10);prefix+=(16>h?'0':'')+h.toString(16)}}else attr=attr.replace('#',''),prefix+=3===attr.length?attr.replace(/^(\w)(\w)(\w)$/,'$1$1$2$2$3$3'):attr;return 5<prefix.length?prefix.toLowerCase():defaultValue},
getLoader:function(){var data=this.getData(),loader=data.loader;loader||(data.loader=loader=new Ext.ElementLoader({target:this}));return loader},getPositioning:function(autoPx){var styles=this.getStyle(['left','top','position','z-index']),dom=this.dom;autoPx&&('auto'===styles.left&&(styles.left=dom.offsetLeft+'px'),'auto'===styles.top&&(styles.top=dom.offsetTop+'px'));return styles},ghost:function(anchor,options){var dom=this.dom,animFly=new Ext.dom.Fly;anchor=anchor||'b';this.animate(Ext.applyIf(options||
{},{duration:500,easing:'ease-out',listeners:{beforeanimate:function(){animFly.attach(dom);var width=animFly.getWidth(),height=animFly.getHeight(),xy=animFly.getXY(),position=animFly.getPositioning(),to={opacity:0};switch(anchor){case 't':to.y=xy[1]-height;break;case 'l':to.x=xy[0]-width;break;case 'r':to.x=xy[0]+width;break;case 'b':to.y=xy[1]+height;break;case 'tl':to.x=xy[0]-width;to.y=xy[1]-height;break;case 'bl':to.x=xy[0]-width;to.y=xy[1]+height;break;case 'br':to.x=xy[0]+width;to.y=xy[1]+height;
break;case 'tr':to.x=xy[0]+width,to.y=xy[1]-height}this.to=to;this.on('afteranimate',function(){animFly.attach(dom);animFly&&(animFly.hide(),animFly.clearOpacity(),animFly.setPositioning(position))})}}}));return this},getTextSelection:function(){var ret=arguments.callee.$previous.call(this);if('number'!==typeof ret[0]){var dom=this.dom;var doc=dom.ownerDocument;doc=doc.selection.createRange();dom=dom.createTextRange();dom.setEndPoint('EndToStart',doc);ret[0]=dom.text.length;ret[1]=ret[0]+doc.text.length}return ret},
hide:function(animate){if('string'===typeof animate)return this.setVisible(!1,animate),this;this.setVisible(!1,this.anim(animate));return this},highlight:function(color,options){var dom=this.dom,from={},animFly=new Ext.dom.Fly,restore,event,fn;options=options||{};var lns=options.listeners||{};var attr=options.attr||'backgroundColor';from[attr]=color||'ffff9c';options.to?color=options.to:(color={},color[attr]=options.endColor||this.getColor(attr,'ffffff',''));options.listeners=Ext.apply(Ext.apply({},
lns),{beforeanimate:function(){animFly.attach(dom);restore=dom.style[attr];animFly.clearOpacity();animFly.show();if(event=lns.beforeanimate)return fn=event.fn||event,fn.apply(event.scope||lns.scope||WIN,arguments)},afteranimate:function(){dom&&(dom.style[attr]=restore);if(event=lns.afteranimate)fn=event.fn||event,fn.apply(event.scope||lns.scope||WIN,arguments)}});this.animate(Ext.apply({},options,{duration:1E3,easing:'ease-in',from,to:color}));return this},initDD:function(group,config,overrides){group=
new Ext.dd.DD(Ext.id(this.dom),group,config);return Ext.apply(group,overrides)},initDDProxy:function(group,config,overrides){group=new Ext.dd.DDProxy(Ext.id(this.dom),group,config);return Ext.apply(group,overrides)},initDDTarget:function(group,config,overrides){group=new Ext.dd.DDTarget(Ext.id(this.dom),group,config);return Ext.apply(group,overrides)},isMasked:function(deep){var data=this.getData(),maskEl=data.maskEl,maskMsg=data.maskMsg;data=!1;if(maskEl&&maskEl.isVisible())maskMsg&&maskMsg.center(this),
data=!0;else if(deep&&(maskEl=this.findParentNode()))return Ext.fly(maskEl).isMasked(deep);return data},load:function(options){this.getLoader().load(options);return this},mask:function(msg,msgCls,elHeight){var dom=this.dom,data=this.getData(),maskEl=data.maskEl;bodyRe.test(dom.tagName)&&'static'===this.getStyle('position')||this.addCls('x-masked-relative');maskEl&&maskEl.destroy();maskEl=Ext.DomHelper.append(dom,{role:'presentation',cls:'x-mask x-border-box',children:{role:'presentation',cls:msgCls?
'x-mask-msg '+msgCls:'x-mask-msg',cn:{tag:'div',role:'presentation',cls:'x-mask-msg-inner',cn:{tag:'div',role:'presentation',cls:'x-mask-msg-text',html:msg||''}}}},!0);msgCls=Ext.fly(maskEl.dom.firstChild);data.maskEl=maskEl;this.addCls('x-masked');maskEl.setDisplayed(!0);'string'===typeof msg?(msgCls.setDisplayed(!0),msgCls.center(this)):msgCls.setDisplayed(!1);dom===DOC.body&&maskEl.addCls('x-mask-fixed');this.saveTabbableState({skipSelf:dom===DOC.body});Ext.isIE9m&&dom!==DOC.body&&this.isStyle('height',
'auto')&&maskEl.setSize(void 0,elHeight||this.getHeight());return maskEl},puff:function(obj){var dom=this.dom,animFly=new Ext.dom.Fly,box=this.getBox();var originalStyles=this.getStyle('width height left right top bottom position z-index font-size opacity'.split(' '),!0);obj=Ext.applyIf(obj||{},{easing:'ease-out',duration:500,useDisplay:!1});this.animate({duration:obj.duration,easing:obj.easing,listeners:{beforeanimate:{fn:function(){animFly.attach(dom);animFly.clearOpacity();animFly.show();this.to=
{width:2*box.width,height:2*box.height,x:box.x-box.width/2,y:box.y-box.height/2,opacity:0,fontSize:'200%'};this.on('afteranimate',function(){animFly.attach(dom);obj.useDisplay?animFly.setDisplayed(!1):animFly.hide();animFly.setStyle(originalStyles);Ext.callback(obj.callback,obj.scope)})}}}});return this},setCapture:function(){var dom=this.dom;Ext.isIE9m&&dom.setCapture&&dom.setCapture()},setHeight:function(height,animate){animate&&this.anim?(Ext.isObject(animate)||(animate={}),this.animate(Ext.applyIf({to:{height}},
animate))):arguments.callee.$previous.apply(this,arguments);return this},setHorizontal:function(){var cls=this.verticalCls;delete this.vertical;cls&&(delete this.verticalCls,this.removeCls(cls));delete this.setWidth;delete this.setHeight;Ext.isIE8||(delete this.getWidth,delete this.getHeight);delete this.styleHooks},updateText:function(text){},setHtml:function(html,loadScripts,callback,scope){var me=this;if(!me.dom)return me;html=html||'';var dom=me.dom;if(!0!==loadScripts){if(Ext.isIE)for(;dom.firstChild;)dom.removeChild(dom.firstChild);
dom.innerHTML=html;Ext.callback(callback,me);return me}var id=Ext.id();html+='\x3cspan id\x3d"'+id+'" role\x3d"presentation"\x3e\x3c/span\x3e';var interval=Ext.interval(function(){var hd,match,attrs,srcMatch;if(!(hd=DOC.getElementById(id)))return!1;Ext.uninterval(interval);Ext.removeNode(hd);for(hd=Ext.getHead().dom;match=scriptTagRe.exec(html);)(srcMatch=(attrs=match[1])?attrs.match(srcRe):!1)&&srcMatch[2]?(match=DOC.createElement('script'),match.src=srcMatch[2],(attrs=attrs.match(typeRe))&&attrs[2]&&
(match.type=attrs[2]),hd.appendChild(match)):match[2]&&0<match[2].length&&(scope?Ext.functionFactory(match[2]).call(scope):Ext.globalEval(match[2]));Ext.callback(callback,scope||me)},20);dom.innerHTML=html.replace(replaceScriptTagRe,'');return me},setOpacity:function(opacity,animate){if(!this.dom)return this;animate&&this.anim?('object'!==typeof animate&&(animate={duration:350,easing:'ease-in'}),this.animate(Ext.applyIf({to:{opacity}},animate))):this.setStyle('opacity',opacity);return this},setPositioning:function(pc){return this.setStyle(pc)},
setVertical:function(angle,cls){var proto=Element.prototype;this.vertical=!0;cls&&this.addCls(this.verticalCls=cls);this.setWidth=proto.setHeight;this.setHeight=proto.setWidth;Ext.isIE8||(this.getWidth=proto.getHeight,this.getHeight=proto.getWidth);this.styleHooks=270===angle?proto.verticalStyleHooks270:proto.verticalStyleHooks90},setSize:function(width,height,animate){Ext.isObject(width)&&(animate=height,height=width.height,width=width.width);animate&&this.anim?(!0===animate&&(animate={}),this.animate(Ext.applyIf({to:{width,
height}},animate))):(this.dom.style.width=Element.addUnits(width),this.dom.style.height=Element.addUnits(height),(this.shadow||this.shim)&&this.syncUnderlays());return this},setVisible:function(visible,animate){var dom=this.dom,visMode=getVisMode(this);if('string'===typeof animate){switch(animate){case 'display':visMode=Element.DISPLAY;break;case 'visibility':visMode=Element.VISIBILITY;break;case 'offsets':visMode=Element.OFFSETS;break;case 'clip':visMode=Element.CLIP}this.setVisibilityMode(visMode);
animate=!1}if(animate&&this.anim){visible&&(this.setOpacity(.01),this.setVisible(!0));Ext.isObject(animate)||(animate={duration:350,easing:'ease-in'});var animFly=new Ext.dom.Fly;this.animate(Ext.applyIf({callback:function(){visible||animFly.attach(dom).setVisible(!1).setOpacity(1)},to:{opacity:visible?1:0}},animate))}else{if(visMode===Element.DISPLAY)return this.setDisplayed(visible);if(visMode===Element.OFFSETS)this[visible?'removeCls':'addCls']('x-hidden-offsets');else if(visMode===Element.CLIP)this[visible?
'removeCls':'addCls']('x-hidden-clip');else visMode===Element.VISIBILITY&&(this.fixDisplay(),dom.style.visibility=visible?'':'hidden')}this.getData().isVisible=visible;(this.shadow||this.shim)&&this.setUnderlaysVisible(visible);return this},setWidth:function(width,animate){animate&&this.anim?(Ext.isObject(animate)||(animate={}),this.animate(Ext.applyIf({to:{width}},animate))):arguments.callee.$previous.apply(this,arguments);return this},setX:function(x,animate){return this.setXY([x,this.getY()],animate)},
setXY:function(xy,animate){animate&&this.anim?(Ext.isObject(animate)||(animate={}),this.animate(Ext.applyIf({to:{x:xy[0],y:xy[1]}},animate))):arguments.callee.$previous.call(this,xy);return this},setY:function(y,animate){return this.setXY([this.getX(),y],animate)},show:function(animate){if('string'===typeof animate)return this.setVisible(!0,animate),this;this.setVisible(!0,this.anim(animate));return this},slideIn:function(anchor,options,slideOut){var me=this,dom=me.dom,elStyle=dom.style,animFly=new Ext.dom.Fly,
wrapAnim,restoreScroll,wrapDomParentNode;anchor=anchor||'t';options=options||{};me.animate({duration:options.duration?2*Math.max(options.duration,500):1E3,listeners:{beforeanimate:function(){var animScope=this,listeners=options.listeners;animFly.attach(dom);slideOut||animFly.fixDisplay();var box=animFly.getBox();'t'!==anchor&&'b'!==anchor||0!==box.height?'l'!==anchor&&'r'!==anchor||0!==box.width||(box.width=dom.scrollWidth):box.height=dom.scrollHeight;var originalStyles=animFly.getStyle('width height left right top bottom position z-index'.split(' '),
!0);animFly.setSize(box.width,box.height);options.preserveScroll&&(restoreScroll=animFly.cacheScrollValues());var wrap=animFly.wrap({role:'presentation',id:Ext.id()+'-anim-wrap-for-'+dom.id,style:{visibility:slideOut?'visible':'hidden'}});wrapDomParentNode=wrap.dom.parentNode;wrap.setPositioning(animFly.getPositioning());wrap.isStyle('position','static')&&wrap.position('relative');animFly.clearPositioning('auto');wrap.clip();restoreScroll&&restoreScroll();animFly.setStyle({visibility:'',position:'absolute'});
slideOut&&wrap.setSize(box.width,box.height);switch(anchor){case 't':var JSCompiler_object_inline_from_51={width:box.width+'px',height:'0px'};var JSCompiler_object_inline_to_52={width:box.width+'px',height:box.height+'px'};elStyle.bottom='0px';break;case 'l':JSCompiler_object_inline_from_51={width:'0px',height:box.height+'px'};JSCompiler_object_inline_to_52={width:box.width+'px',height:box.height+'px'};me.anchorAnimX(anchor);break;case 'r':JSCompiler_object_inline_from_51={x:box.x+box.width,width:'0px',
height:box.height+'px'};JSCompiler_object_inline_to_52={x:box.x,width:box.width+'px',height:box.height+'px'};me.anchorAnimX(anchor);break;case 'b':JSCompiler_object_inline_from_51={y:box.y+box.height,width:box.width+'px',height:'0px'};JSCompiler_object_inline_to_52={y:box.y,width:box.width+'px',height:box.height+'px'};break;case 'tl':JSCompiler_object_inline_from_51={x:box.x,y:box.y,width:'0px',height:'0px'};JSCompiler_object_inline_to_52={width:box.width+'px',height:box.height+'px'};elStyle.bottom=
'0px';me.anchorAnimX('l');break;case 'bl':JSCompiler_object_inline_from_51={y:box.y+box.height,width:'0px',height:'0px'};JSCompiler_object_inline_to_52={y:box.y,width:box.width+'px',height:box.height+'px'};me.anchorAnimX('l');break;case 'br':JSCompiler_object_inline_from_51={x:box.x+box.width,y:box.y+box.height,width:'0px',height:'0px'};JSCompiler_object_inline_to_52={x:box.x,y:box.y,width:box.width+'px',height:box.height+'px'};me.anchorAnimX('r');break;case 'tr':JSCompiler_object_inline_from_51=
{x:box.x+box.width,width:'0px',height:'0px'},JSCompiler_object_inline_to_52={x:box.x,width:box.width+'px',height:box.height+'px'},elStyle.bottom='0px',me.anchorAnimX('r')}wrap.show();wrapAnim=Ext.apply({},options);delete wrapAnim.listeners;wrapAnim=new Ext.fx.Anim(Ext.applyIf(wrapAnim,{target:wrap,duration:500,easing:'ease-out',from:slideOut?JSCompiler_object_inline_to_52:JSCompiler_object_inline_from_51,to:slideOut?JSCompiler_object_inline_from_51:JSCompiler_object_inline_to_52}));wrapAnim.on('afteranimate',
function(){animFly.attach(dom);animFly.setStyle(originalStyles);slideOut&&(options.useDisplay?animFly.setDisplayed(!1):animFly.hide());wrap.dom&&(wrap.dom.parentNode?wrap.dom.parentNode.insertBefore(dom,wrap.dom):wrapDomParentNode.appendChild(dom),wrap.destroy());restoreScroll&&restoreScroll();animScope.end()});if(listeners)wrapAnim.on(listeners)}}});return me},slideOut:function(anchor,options){return this.slideIn(anchor,options,!0)},switchOff:function(options){var dom=this.dom,animFly=new Ext.dom.Fly;
options=Ext.applyIf(options||{},{easing:'ease-in',duration:500,remove:!1,useDisplay:!1});this.animate({duration:2*Math.max(options.duration,500),listeners:{beforeanimate:{fn:function(){animFly.attach(dom);var animScope=this,size=animFly.getSize(),xy=animFly.getXY();animFly.clearOpacity();animFly.clip();var position=animFly.getPositioning();(new Ext.fx.Animator({target:dom,duration:options.duration,easing:options.easing,keyframes:{33:{opacity:.3},66:{height:1,y:xy[1]+size.height/2},100:{width:1,x:xy[0]+
size.width/2}}})).on('afteranimate',function(){animFly.attach(dom);options.useDisplay?animFly.setDisplayed(!1):animFly.hide();animFly.clearOpacity();animFly.setPositioning(position);animFly.setSize(size);animScope.end()})}}},callback:options.callback,scope:options.scope});return this},syncContent:function(source){source=Ext.getDom(source);var sourceNodes=source.childNodes,sourceLen=sourceNodes.length,dest=this.dom,destNodes=dest.childNodes,destLen=destNodes.length,i,elData=dest._extData;syncContentFly||
(syncContentFly=new Ext.dom.Fly);var sourceNode=source.attributes;var sourceStyle=sourceNode.length;for(i=0;i<sourceStyle;i++){var nodeType=sourceNode[i].name;var value=sourceNode[i].value;'id'!==nodeType&&dest.getAttribute(nodeType)!==value&&dest.setAttribute(nodeType,sourceNode[i].value)}elData&&(elData.isSynchronized=!1);if(sourceLen!==destLen)dest.innerHTML=source.innerHTML;else for(i=0;i<sourceLen;i++){sourceNode=sourceNodes[i];destLen=destNodes[i];nodeType=sourceNode.nodeType;sourceStyle=sourceNode.style;
if(nodeType!==destLen.nodeType||1===nodeType&&sourceNode.tagName!==destLen.tagName){dest.innerHTML=source.innerHTML;break}sourceStyle?(sourceNode.id&&destLen.id!==sourceNode.id&&(destLen.id=sourceNode.id),destLen.style.cssText=sourceStyle.cssText,destLen.className=sourceNode.className,syncContentFly.attach(destLen).syncContent(sourceNode)):destLen.data=sourceNode.data}},toggle:function(animate){this.setVisible(!this.isVisible(),this.anim(animate));return this},unmask:function(){var data=this.getData(),
maskEl=data.maskEl;if(maskEl){var style=maskEl.dom.style;style.clearExpression&&(style.clearExpression('width'),style.clearExpression('height'));maskEl&&(maskEl.destroy(),delete data.maskEl);this.removeCls(['x-masked','x-masked-relative'])}this.restoreTabbableState(this.dom===DOC.body)},unclip:function(){var data=this.getData();data.isClipped&&(data.isClipped=!1,data=data.originalClip,data.o&&this.setStyle('overflow',data.o),data.x&&this.setStyle('overflow-x',data.x),data.y&&this.setStyle('overflow-y',
data.y));return this},translate:function(x,y,z){Ext.supports.CssTransforms&&!Ext.isIE9m?arguments.callee.$previous.apply(this,arguments):(null!=x&&(this.dom.style.left=x+'px'),null!=y&&(this.dom.style.top=y+'px'))},deprecated:{'4.0':{methods:{pause:function(ms){Ext.fx.Manager.setFxDefaults(this.id,{delay:ms});return this},scale:function(width,height,options){this.animate(Ext.apply({},options,{width,height}));return this},shift:function(options){this.animate(options);return this}}},'4.2':{methods:{moveTo:function(x,
y,animate){return this.setXY([x,y],animate)},setBounds:function(x,y,width,height,animate){return this.setBox({x,y,width,height},animate)},setLeftTop:function(left,top){var style=this.dom.style;style.left=Element.addUnits(left);style.top=Element.addUnits(top);(this.shadow||this.shim)&&this.syncUnderlays();return this},setLocation:function(x,y,animate){return this.setXY([x,y],animate)}}},'5.0':{methods:{getAttributeNS:function(namespace,name){return this.getAttribute(name,namespace)},getCenterXY:function(){return this.getAlignToXY(DOC,
'c-c')},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle('height'))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle('width'))||0},getStyleSize:function(){var d=this.dom,w,h;if(d===DOC||d===DOC.body)return{width:Element.getViewportWidth(),height:Element.getViewportHeight()};d=this.getStyle(['height','width'],!0);d.width&&'auto'!==d.width&&(w=parseFloat(d.width));d.height&&
'auto'!==d.height&&(h=parseFloat(d.height));return{width:w||this.getWidth(!0),height:h||this.getHeight(!0)}},isBorderBox:function(){return!0},isDisplayed:function(){return!this.isStyle('display','none')},focusable:'isFocusable'}}}}}(),function(){var Element=Ext.dom.Element,proto=Element.prototype,useDocForId=!Ext.isIE8,DOC=document,view=DOC.defaultView,opacityRe=/alpha\(opacity=(.*)\)/i,trimRe=/^\s+|\s+$/g,styleHooks=proto.styleHooks,supports=Ext.supports,verticalStyleHooks90,verticalStyleHooks270,
k;proto._init(Element);delete proto._init;Ext.plainTableCls='x-table-plain';Ext.plainListCls='x-list-plain';Ext.CompositeElementLite&&Ext.CompositeElementLite.importElementMethods();!supports.Opacity&&Ext.isIE&&Ext.apply(styleHooks.opacity,{get:function(dom){dom=dom.style.filter;return dom.match&&(dom=dom.match(opacityRe))&&(dom=parseFloat(dom[1]),!isNaN(dom))?dom?dom/100:0:1},set:function(dom,value){dom=dom.style;var val=dom.filter.replace(opacityRe,'').replace(trimRe,'');dom.zoom=1;dom.filter='number'===
typeof value&&0<=value&&1>value?val+(val.length?' ':'')+'alpha(opacity\x3d'+100*value+')':val}});if(!supports.matchesSelector){var simpleSelectorRe=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,dashRe=/-/g,fragment,classMatcher=function(tag,cls){var classRe=new RegExp('(?:^|\\s+)'+cls.replace(dashRe,'\\-')+'(?:\\s+|$)');return tag&&'*'!==tag?(tag=tag.toUpperCase(),function(el){return el.tagName===tag&&classRe.test(el.className)}):function(el){return classRe.test(el.className)}},tagMatcher=function(tag){tag=
tag.toUpperCase();return function(el){return el.tagName===tag}},cache$jscomp$0={};proto.matcherCache=cache$jscomp$0;proto.is=function(selector){var dom=this.dom,cls;if(!selector)return!0;if(1!==dom.nodeType)return!1;if(!(cls=Ext.isFunction(selector)?selector:cache$jscomp$0[selector])){if(!(cls=selector.match(simpleSelectorRe))){cls=dom.parentNode;if(!cls){var isOrphan=!0;cls=fragment||(fragment=DOC.createDocumentFragment());fragment.appendChild(dom)}selector=-1!==Ext.Array.indexOf(Ext.fly(cls,'_is').query(selector),
dom);isOrphan&&fragment.removeChild(dom);return selector}isOrphan=cls[1];cls=cls[2];cache$jscomp$0[selector]=cls=cls?classMatcher(isOrphan,cls):tagMatcher(isOrphan)}return cls(dom)}}view&&view.getComputedStyle||(proto.getStyle=function(property,inline){var dom=this.dom,multiple='string'!==typeof property,props=property,len=1,isInline=inline,styleHooks=this.styleHooks;if(multiple){var values={};property=props[0];var i=0;if(!(len=props.length))return values}if(!dom||dom.documentElement)return values||
'';var camel=dom.style;inline?inline=camel:(inline=dom.currentStyle,inline||(isInline=!0,inline=camel));do{(camel=styleHooks[property])||(styleHooks[property]=camel={name:Element.normalize(property)});camel.get?camel=camel.get(dom,this,isInline,inline):(camel=camel.name,camel=inline[camel]);if(!multiple)return camel;values[property]=camel;property=props[++i]}while(i<len);return values});if(Ext.isIE8){var getBorderWidth=function(dom,el,inline,style){return'none'===style[this.styleName]?'0px':style[this.name]};
view=['Top','Right','Bottom','Left'];for(k=view.length;k--;){var edge=view[k];var borderWidth='border'+edge+'Width';styleHooks['border-'+edge.toLowerCase()+'-width']=styleHooks[borderWidth]={name:borderWidth,styleName:'border'+edge+'Style',get:getBorderWidth}}proto.syncRepaint=function(){this.addCls('x-sync-repaint');this.getWidth();this.removeCls('x-sync-repaint')}}Ext.isIE10m&&Ext.override(Element,{focus:function(defer,dom){dom=dom||this.dom;this.deferredFocusTimer&&Ext.undefer(this.deferredFocusTimer);
this.deferredFocusTimer=null;if(Number(defer))this.deferredFocusTimer=Ext.defer(this.focus,defer,this,[null,dom]);else{Ext.GlobalEvents.fireEvent('beforefocus',dom);!dom||'INPUT'!==dom.tagName&&'TEXTAREA'!==dom.tagname||(Ext.synchronouslyFocusing=document.activeElement);try{dom.focus()}catch(xcpt){var ex=xcpt}Ext.synchronouslyFocusing&&document.activeElement!==dom&&!ex&&dom.focus();Ext.synchronouslyFocusing=null}return this}});Ext.apply(Ext,{enableGarbageCollector:!0,isBorderBox:!0,useShims:!1,getElementById:function(id){var el=
DOC.getElementById(id),detachedBodyEl;!el&&(detachedBodyEl=Ext.detachedBodyEl)&&(el=detachedBodyEl.dom.querySelector(Ext.makeIdSelector(id)));return el},addBehaviors:function(obj){var cache={},parts,b;if(Ext.isReady){for(b in obj)if((parts=b.split('@'))[1]){var s=parts[0];cache[s]||(cache[s]=Ext.fly(document).select(s,!0));cache[s].on(parts[1],obj[b])}cache=null}else Ext.onInternalReady(function(){Ext.addBehaviors(obj)})}});Ext.isIE9m?(Ext.getElementById=function(id){var el=DOC.getElementById(id),
detachedBodyEl;!el&&(detachedBodyEl=Ext.detachedBodyEl)&&(el=detachedBodyEl.dom.all[id]);return el},proto.getById=function(id,asDom){var dom=this.dom,ret=null;dom&&(dom=useDocForId&&DOC.getElementById(id)||dom.all[id])&&(asDom?ret=dom:((id=Ext.cache[id])&&(id.skipGarbageCollection||!Ext.isGarbage(id.dom)?ret=id:id.destroy()),ret=ret||new Ext.Element(dom)));return ret}):DOC.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(id){return DOC.getElementById(id)},proto.getById=
function(id,asDom){id=DOC.getElementById(id);return asDom?id:id?Ext.get(id):null});!Ext.isIE||Ext.isIE9p&&9<=DOC.documentMode||(proto.getAttribute=function(name,ns){var d=this.dom;if(ns){var type=typeof d[ns+':'+name];return'undefined'!==type&&'unknown'!==type?d[ns+':'+name]||null:null}'for'===name&&(name='htmlFor');return d[name]||null});Ext.onInternalReady(function(){function fixTransparent(dom,el,inline,style){dom=style[this.name]||'';return transparentRe.test(dom)?'transparent':dom}function makeSelectionRestoreFn(activeEl,
start,end){return function(){activeEl.selectionStart=start;activeEl.selectionEnd=end}}function fixRightMargin(dom,el,inline,style){el=style.marginRight;if('0px'!==el){var domStyle=dom.style;var display=domStyle.display;domStyle.display='inline-block';el=(inline?style:dom.ownerDocument.defaultView.getComputedStyle(dom,null)).marginRight;domStyle.display=display}return el}function fixRightMarginAndInputFocus(dom,el,inline,style){var result=style.marginRight;if('0px'!==result){el=dom.style;a:{var cleaner=
supports.DisplayChangeInputSelectionBug;var display=supports.DisplayChangeTextAreaSelectionBug;if(cleaner||display){var tag=(result=Element.getActiveElement())&&result.tagName;if((display&&'TEXTAREA'===tag||cleaner&&'INPUT'===tag&&'text'===result.type)&&Ext.fly(dom).isAncestor(result)&&(cleaner=result.selectionStart,display=result.selectionEnd,Ext.isNumber(cleaner)&&Ext.isNumber(display))){cleaner=makeSelectionRestoreFn(result,cleaner,display);break a}}cleaner=Ext.emptyFn}display=el.display;el.display=
'inline-block';result=(inline?style:dom.ownerDocument.defaultView.getComputedStyle(dom,'')).marginRight;el.display=display;cleaner()}return result}var transparentRe=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,origSetWidth=proto.setWidth,origSetHeight=proto.setHeight,origSetSize=proto.setSize,origUnselectable=proto.unselectable,pxRe=/^\d+(?:\.\d*)?px$/i,i;supports.FixedTableWidthBug&&(styleHooks.width={name:'width',set:function(dom,value,el){var style=dom.style;el=el._needsTableWidthFix;
var origDisplay=style.display;el&&(style.display='none');style.width=value;el&&(dom.scrollWidth,style.display=origDisplay)}},proto.setWidth=function(width,animate){var dom=this.dom,style=dom.style,needsFix=this._needsTableWidthFix,origDisplay=style.display;needsFix&&!animate&&(style.display='none');origSetWidth.call(this,width,animate);needsFix&&!animate&&(dom.scrollWidth,style.display=origDisplay);return this},proto.setSize=function(width,height,animate){var dom=this.dom,style=dom.style,needsFix=
this._needsTableWidthFix,origDisplay=style.display;needsFix&&!animate&&(style.display='none');origSetSize.call(this,width,height,animate);needsFix&&!animate&&(dom.scrollWidth,style.display=origDisplay);return this});Ext.isIE8&&(styleHooks.height={name:'height',set:function(dom,value,el){var component=el.component;if(component&&component._syncFrameHeight&&el===component.el)if(el=component.frameBody.dom.style,pxRe.test(value)){if(component=component.getFrameInfo())el.height=parseInt(value,10)-component.height+
'px'}else value&&'auto'!==value||(el.height='');dom.style.height=value}},proto.setHeight=function(height,animate){var component=this.component;if(component&&component._syncFrameHeight&&this===component.el){var frameBodyStyle=component.frameBody.dom.style;if(height&&'auto'!==height){if(component=component.getFrameInfo())frameBodyStyle.height=height-component.height+'px'}else frameBodyStyle.height=''}return origSetHeight.call(this,height,animate)},proto.setSize=function(width,height,animate){var component=
this.component;if(component&&component._syncFrameHeight&&this===component.el){var frameBodyStyle=component.frameBody.dom.style;if(height&&'auto'!==height){if(component=component.getFrameInfo())frameBodyStyle.height=height-component.height+'px'}else frameBodyStyle.height=''}return origSetSize.call(this,width,height,animate)},proto.setText=function(text){var dom=this.dom;if(1!==dom.childNodes.length||3!==dom.firstChild.nodeType){for(;dom.lastChild&&3!==dom.lastChild.nodeType;)dom.removeChild(dom.lastChild);
dom.appendChild(document.createTextNode())}dom.firstChild.data=text},proto.unselectable=function(){origUnselectable.call(this);this.dom.onselectstart=function(){return!1}});supports.RightMargin||(styleHooks.marginRight=styleHooks['margin-right']={name:'marginRight',get:supports.DisplayChangeInputSelectionBug||supports.DisplayChangeTextAreaSelectionBug?fixRightMarginAndInputFocus:fixRightMargin});if(!supports.TransparentColor){var colorStyles=['background-color','border-color','color','outline-color'];
for(i=colorStyles.length;i--;){var name=colorStyles[i];var camel=Element.normalize(name);styleHooks[name]=styleHooks[camel]={name:camel,get:fixTransparent}}}proto.verticalStyleHooks90=verticalStyleHooks90=Ext.Object.chain(styleHooks);proto.verticalStyleHooks270=verticalStyleHooks270=Ext.Object.chain(styleHooks);verticalStyleHooks90.width=styleHooks.height||{name:'height'};verticalStyleHooks90.height=styleHooks.width||{name:'width'};verticalStyleHooks90['margin-top']={name:'marginLeft'};verticalStyleHooks90['margin-right']=
{name:'marginTop'};verticalStyleHooks90['margin-bottom']={name:'marginRight'};verticalStyleHooks90['margin-left']={name:'marginBottom'};verticalStyleHooks90['padding-top']={name:'paddingLeft'};verticalStyleHooks90['padding-right']={name:'paddingTop'};verticalStyleHooks90['padding-bottom']={name:'paddingRight'};verticalStyleHooks90['padding-left']={name:'paddingBottom'};verticalStyleHooks90['border-top']={name:'borderLeft'};verticalStyleHooks90['border-right']={name:'borderTop'};verticalStyleHooks90['border-bottom']=
{name:'borderRight'};verticalStyleHooks90['border-left']={name:'borderBottom'};verticalStyleHooks270.width=styleHooks.height||{name:'height'};verticalStyleHooks270.height=styleHooks.width||{name:'width'};verticalStyleHooks270['margin-top']={name:'marginRight'};verticalStyleHooks270['margin-right']={name:'marginBottom'};verticalStyleHooks270['margin-bottom']={name:'marginLeft'};verticalStyleHooks270['margin-left']={name:'marginTop'};verticalStyleHooks270['padding-top']={name:'paddingRight'};verticalStyleHooks270['padding-right']=
{name:'paddingBottom'};verticalStyleHooks270['padding-bottom']={name:'paddingLeft'};verticalStyleHooks270['padding-left']={name:'paddingTop'};verticalStyleHooks270['border-top']={name:'borderRight'};verticalStyleHooks270['border-right']={name:'borderBottom'};verticalStyleHooks270['border-bottom']={name:'borderLeft'};verticalStyleHooks270['border-left']={name:'borderTop'};Ext.scopeCss||Ext.getBody().addCls('x-body')},null,{priority:1500})});
Ext.define('conjoon.overrides.Ext.dom.Element',{override:'Ext.dom.Element'},function(Element){var supports=Ext.supports,proto=Element.prototype;Element=proto.eventMap;proto=proto.additiveEvents;Ext.os.is.Desktop&&supports.TouchEvents&&!supports.PointerEvents&&(Element.touchstart='mousedown',Element.touchmove='mousemove',Element.touchend='mouseup',Element.touchcancel='mouseup',proto.mousedown='mousedown',proto.mousemove='mousemove',proto.mouseup='mouseup',proto.touchstart='touchstart',proto.touchmove=
'touchmove',proto.touchend='touchend',proto.touchcancel='touchcancel',proto.pointerdown='mousedown',proto.pointermove='mousemove',proto.pointerup='mouseup',proto.pointercancel='mouseup')});
Ext.cmd.derive('Ext.GlobalEvents',Ext.mixin.Observable,{alternateClassName:'Ext.globalEvents',observableType:'global',singleton:!0,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},windowListeners:{resize:{fn:'fireResize'}},constructor:function(){var me=this;me.callParent();Ext.onInternalReady(function(){me.attachListeners()})},setPressedComponent:function(component,e){var me=this,pressedComponent=me.pressedComponent;if(pressedComponent&&pressedComponent.onRelease)pressedComponent.onRelease(e);
me.pressedComponent=component;me.pressedScrollStart=component?Ext.on({scrollstart:function(){me.setPressedComponent(null,e)},destroyable:!0}):Ext.destroy(me.pressedScrollStart)},attachListeners:function(){var win=Ext.getWin(),winListeners=this.windowListeners;this.onlineState=Ext.isOnline();this.curHeight=Ext.Element.getViewportHeight();this.curWidth=Ext.Element.getViewportWidth();win.on({scope:this,online:'handleOnlineChange',offline:'handleOnlineChange'});winListeners&&(winListeners.scope=this,
Ext.isModern?winListeners.resize.onFrame=!0:winListeners.resize.buffer=this.resizeBuffer,win.on(winListeners));Ext.getDoc().on({touchstart:'fireMouseDown',mousedown:'fireMouseDown',mouseup:'fireMouseUp',touchend:'fireMouseUp',drop:'fireMouseUp',dragend:'fireMouseUp',scope:this})},fireMouseDown:function(e){this.fireEvent('mousedown',e);Ext.ComponentManager.handleDocumentMouseDown(e)},fireMouseUp:function(e){this.fireEvent('mouseup',e);this.setPressedComponent(null,e)},fireResize:function(){var Element=
Ext.Element,w=Element.getViewportWidth();Element=Element.getViewportHeight();if(this.curHeight!==Element||this.curWidth!==w)this.curHeight=Element,this.curWidth=w,this.hasListeners.resize&&this.fireEvent('resize',w,Element)},handleOnlineChange:function(){var online=Ext.isOnline();online!==this.onlineState&&(this.onlineState=online,this.fireEvent('onlinechange',online))}},1,0,0,0,0,0,[Ext,'GlobalEvents',Ext,'globalEvents'],function(GlobalEvents){Ext.hasListeners=GlobalEvents.hasListeners;Ext.on=function(){return GlobalEvents.addListener.apply(GlobalEvents,
arguments)};Ext.un=function(){return GlobalEvents.removeListener.apply(GlobalEvents,arguments)};Ext.fireEvent=function(){return GlobalEvents.fireEvent.apply(GlobalEvents,arguments)};Ext.fireIdle=function(){GlobalEvents.hasListeners.idle&&!Ext._suppressIdle&&GlobalEvents.fireEventArgs('idle');Ext._suppressIdle=!1};Ext._suppressIdle=!1});
Ext.define('Ext.overrides.GlobalEvents',{override:'Ext.GlobalEvents',attachListeners:function(){if(Ext.isIE8){var docElement=Ext.getDoc().dom.documentElement;var bufferedFn=Ext.Function.createBuffered(this.fireResize,this.resizeBuffer,this);Ext.getWin().dom.attachEvent('onresize',function(){docElement.clientWidth===Ext.GlobalEvents.curWidth&&docElement.clientHeight===Ext.GlobalEvents.curHeight||bufferedFn()})}this.callParent()},deprecated:{5:{methods:{addListener:function(ename,fn,scope,options,order,
caller,eventOptions){var name;if('ready'===ename)var readyFn=fn;else if('string'!==typeof ename)for(name in ename)'ready'===name&&(readyFn=ename[name]);if(readyFn)Ext.onReady(readyFn);this.callParent([ename,fn,scope,options,order,caller,eventOptions])}}}}});
Ext.cmd.derive('Ext.Glyph',Ext.Base,{isGlyph:!0,constructor:function(glyph){glyph&&this.setGlyph(glyph)},setGlyph:function(glyph){this.glyphConfig=glyph;if('string'===typeof glyph){var glyphParts=glyph.split('@');glyph=isNaN(glyphParts[0])?parseInt('0'+glyphParts[0],16):parseInt(glyphParts[0],10);if(isNaN(glyph)||!glyph)glyph=glyphParts[0].charCodeAt(0);this.fontFamily=glyphParts[1]||Ext._glyphFontFamily}else this.fontFamily=Ext._glyphFontFamily;this.codepoint=glyph;this.character=Ext.String.fromCodePoint(this.codepoint);
return this},getStyle:function(){return{'font-family':this.fontFamily}},isEqual:function(other){return other&&other.isGlyph&&other.codepoint===this.codepoint&&other.fontFamily===this.fontFamily},statics:function(){var instance;return{fly:function(glyph){return glyph.isGlyph?glyph:(instance||(instance=new Ext.Glyph)).setGlyph(glyph)}}}()},1,0,0,0,0,0,[Ext,'Glyph'],0);Ext.USE_NATIVE_JSON=!0;
Ext.JSON=new function(){var me=this,hasNative=window.JSON&&'[object JSON]'===JSON.toString(),useHasOwn=!!{}.hasOwnProperty,pad=function(n){return 10>n?'0'+n:n},doDecode=function(json){return eval('('+json+')')},doEncode=function(o,newline){if(null===o||void 0===o)return'null';if(Ext.isDate(o))return me.encodeDate(o);if(Ext.isString(o))return Ext.isMSDate(o)?me.encodeMSDate(o):me.encodeString(o);if('number'===typeof o)return isFinite(o)?String(o):'null';if(Ext.isBoolean(o))return String(o);if('function'===
typeof o.toJSON)return doEncode(o.toJSON());if(Ext.isArray(o)){if(newline){var len=o.length,cnewline=newline+'   ',sep=','+cnewline,a=['[',cnewline],i;for(i=0;i<len;i+=1)a.push(me.encodeValue(o[i],cnewline),sep);a[a.length-1]=newline+']';o=a.join('')}else{newline=['[',''];len=o.length;for(cnewline=0;cnewline<len;cnewline+=1)newline.push(me.encodeValue(o[cnewline]),',');newline[newline.length-1]=']';o=newline.join('')}return o}if(Ext.isObject(o)){if(newline){cnewline=newline+'   ';sep=','+cnewline;
a=['{',cnewline];for(len in o)i=o[len],useHasOwn&&!o.hasOwnProperty(len)||'function'===typeof i||void 0===i||i.isInstance||a.push(me.encodeValue(len)+': '+me.encodeValue(i,cnewline),sep);a[a.length-1]=newline+'}';o=a.join('')}else{newline=['{',''];for(cnewline in o)len=o[cnewline],useHasOwn&&!o.hasOwnProperty(cnewline)||'function'===typeof len||void 0===len||newline.push(me.encodeValue(cnewline),':',me.encodeValue(len),',');newline[newline.length-1]='}';o=newline.join('')}return o}return'function'===
typeof o?'null':'undefined'},m={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\','\x0B':'\\u000b'},charToReplace=/[\\"\x00-\x1f\x7f-\uffff]/g;me.encodeString=function(s){return'"'+s.replace(charToReplace,function(a){var c=m[a];return'string'===typeof c?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4)})+'"'};me.encodeValue=doEncode;me.encodeDate=function(o){return'"'+o.getFullYear()+'-'+pad(o.getMonth()+1)+'-'+pad(o.getDate())+'T'+pad(o.getHours())+':'+pad(o.getMinutes())+
':'+pad(o.getSeconds())+'"'};me.encode=function(o){return hasNative&&Ext.USE_NATIVE_JSON?JSON.stringify(o):me.encodeValue(o)};me.decode=function(json,safe){try{return hasNative&&Ext.USE_NATIVE_JSON?JSON.parse(json):doDecode(json)}catch(e){if(safe)return null;Ext.raise({sourceClass:'Ext.JSON',sourceMethod:'decode',msg:"You're trying to decode an invalid JSON String: "+json})}};me.encodeMSDate=function(o){return'"'+o+'"'};Ext.util||(Ext.util={});Ext.util.JSON=me;Ext.encode=me.encode;Ext.decode=me.decode};
Ext.cmd.derive('Ext.mixin.Inheritable',Ext.Mixin,{mixinConfig:{id:'inheritable'},getInherited:function(inner){var inheritedState=inner&&this.inheritedStateInner||this.inheritedState,ownerCt=this.getRefOwner(),isContainer=this.isContainer,inheritedStateInner,getInner;if(!inheritedState||inheritedState.invalid){inheritedState=this.getRefOwner();var ownerLayout=this.ownerLayout;ownerCt&&(getInner=ownerLayout?ownerLayout===ownerCt.layout:!0);this.inheritedState=inheritedState=Ext.Object.chain(inheritedState?
inheritedState.getInherited(getInner):Ext.rootInheritedState);isContainer&&(this.inheritedStateInner=inheritedStateInner=Ext.Object.chain(inheritedState));this.initInheritedState(inheritedState,inheritedStateInner);inheritedState=isContainer&&inner?this.inheritedStateInner:this.inheritedState}return inheritedState},getInheritedConfig:function(property,skipThis){var state=this.inheritedState;if(!state||state.invalid)state=this.getInherited();var ret=state[property];skipThis&&state.hasOwnProperty(property)&&
(skipThis=ret,delete state[property],ret=state[property],state[property]=skipThis);return ret},resolveListenerScope:function(defaultScope,skipThis){var hasSkipThis='boolean'===typeof skipThis,namedScope=Ext._namedScopes[defaultScope],ret;namedScope?namedScope.isController?ret=this.getInheritedConfig('controller',hasSkipThis?skipThis:!namedScope.isSelf):namedScope.isOwner?ret=this.getRefOwner():namedScope.isSelf?ret=this.getInheritedConfig('defaultListenerScope',hasSkipThis&&skipThis)||this:namedScope.isThis&&
(ret=this):ret=this.getInheritedConfig('defaultListenerScope',hasSkipThis?skipThis:!0)||defaultScope||this;return ret||null},resolveSatelliteListenerScope:function(satellite,defaultScope){var namedScope=Ext._namedScopes[defaultScope],ret;namedScope?namedScope.isController?ret=this.getInheritedConfig('controller'):namedScope.isSelf?ret=this.getInheritedConfig('defaultListenerScope')||satellite:namedScope.isThis&&(ret=satellite):ret=this.getInheritedConfig('defaultListenerScope')||defaultScope||this;
return ret||null},lookupNameHolder:function(skipThis){return this.getInheritedConfig('nameHolder',!1!==skipThis)||null},lookupReferenceHolder:function(skipThis){return this.getInheritedConfig('referenceHolder',!1!==skipThis)||null},getRefOwner:function(){return this.ownerCmp||this.ownerCt||this.parent||this.$initParent||this.floatParent},bubble:function(fn,scope,args){var target;for(target=this;target&&!1!==fn.apply(scope||target,args||[target]);target=target.getRefOwner());},isDescendantOf:function(ancestor){return ancestor?
ancestor.isAncestor(this):!1},isAncestor:function(possibleDescendant){for(;possibleDescendant;){if(possibleDescendant.getRefOwner()===this)return!0;possibleDescendant=possibleDescendant.getRefOwner()}return!1},invalidateInheritedState:function(){var inheritedState=this.inheritedState;inheritedState&&(inheritedState.invalid=!0,delete this.inheritedState)},privates:{_fixReference:function(){var holder;this.name&&this.nameable&&(holder=this.lookupNameHolder())&&!holder.destroyed&&holder.attachNameRef(this);
this.reference&&(holder=this.lookupReferenceHolder())&&!holder.destroyed&&holder.attachReference(this)},onInheritedAdd:function(parent,instanced){this.inheritedState&&instanced&&this.invalidateInheritedState();Ext.ComponentManager.markReferencesDirty()},onInheritedRemove:function(destroying){Ext.ComponentManager.markReferencesDirty();this.inheritedState&&!destroying&&this.invalidateInheritedState()}}},0,0,0,0,0,0,[Ext.mixin,'Inheritable'],function(){Ext.rootInheritedState={}});
Ext.cmd.derive('Ext.mixin.Bindable',Ext.Base,{mixinId:'bindable',config:{bind:{$value:null,lazy:!0},controller:null,defaultListenerScope:!1,publishes:{$value:null,lazy:!0,merge:function(newValue,oldValue){return this.mergeSets(newValue,oldValue)}},session:{$value:null,lazy:!0},twoWayBindable:{$value:null,lazy:!0,merge:function(newValue,oldValue){return this.mergeSets(newValue,oldValue)}},viewModel:{$value:null,lazy:!0}},defaultBindProperty:null,nameable:!1,shareableName:!1,reference:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,
getReference:function(){return this.reference},initInheritedState:function(inheritedState){var reference=this.reference,controller=this.getController(),viewModel=this.getConfig('viewModel',!0),session=this.getConfig('session',!0),defaultListenerScope=this.getDefaultListenerScope();controller&&(inheritedState.controller=controller);defaultListenerScope?inheritedState.defaultListenerScope=this:controller&&(inheritedState.defaultListenerScope=controller);viewModel&&(viewModel.isViewModel||(viewModel=
this),inheritedState.viewModel=viewModel);session&&(session.isSession||(session=this),inheritedState.session=session);reference&&(this.referenceKey=(inheritedState.referencePath||'')+reference,this.viewModelKey=(inheritedState.viewModelPath||'')+reference)},isBound:function(name){var bind=this.getBind();return!(!bind||!bind[name||this.defaultBindProperty])},lookupController:function(skipThis){return this.getInheritedConfig('controller',skipThis)||null},lookupSession:function(skipThis){var ret=skipThis?
null:this.getSession();ret||(ret=this.getInheritedConfig('session',skipThis))&&!ret.isSession&&(ret=ret.getInherited().session=ret.getSession());return ret||null},lookupViewModel:function(skipThis){var ret=skipThis?null:this.getViewModel();ret||(ret=this.getInheritedConfig('viewModel',skipThis))&&!ret.isViewModel&&(ret=ret.getInherited().viewModel=ret.getViewModel());return ret||null},publishState:function(property,value){var state=this.publishedState,binds=this.getBind(),binding=binds&&property&&
binds[property];binds=0;var name,vm,path;!binding||binding.syncing||binding.isReadOnly()||(binding.calls||null!=value&&value!==this.getInitialConfig()[property])&&binding.setValue(value);if(binding=this.getPublishes())if(vm=this.lookupViewModel())if(path=this.viewModelKey){state=state||(this.publishedState={});if(property){if(!binding[property]||!(value&&value.constructor===Object||value instanceof Array)&&state[property]===value)return;path=path+'.'+property}else{for(name in binding)++binds,state[name]=
this.getConfig(name);if(!binds)return;value=state}vm.set(path,value)}},privates:{applyBind:function(binds,currentBindings){if(!binds)return currentBindings;var viewModel=this.lookupViewModel(),twoWayable=this.getTwoWayBindable(),getBindTemplateScope=this._getBindTemplateScope,watch,property;if('string'===typeof binds){var b=binds;binds={};binds[this.defaultBindProperty]=b}for(property in binds){var descriptor=binds[property];if(b=currentBindings&&currentBindings[property])b.destroy(),delete currentBindings[property];
descriptor&&(!b&&twoWayable&&twoWayable[property]&&((watch||(watch={}))[property]='_onConfigPropChange'),b=viewModel.bind(descriptor,this.onBindNotify,this),b._config=Ext.Config.get(property),b.getTemplateScope=getBindTemplateScope,(currentBindings||(currentBindings={}))[property]=b)}watch&&(watch.scope=this,this.watchConfig(watch));return this.$bindings=currentBindings},applyController:function(controller){controller&&(controller=Ext.Factory.controller(controller),controller.setView(this));return this.controller=
controller},updatePublishes:function(all){var property,watch;if(all&&this.lookupViewModel()){for(property in all)all[property]&&((watch||(watch={}))[property]='_onConfigPropChange');watch&&(watch.scope=this,this.watchConfig(watch))}return all},applySession:function(session){if(!session)return null;if(!session.isSession){var parentSession=this.lookupSession(!0);session=!0===session?{}:session;session=parentSession?parentSession.spawn(session):new Ext.data.Session(session)}return session},applyViewModel:function(viewModel){if(!viewModel)return null;
if(!viewModel.isViewModel){var config={parent:this.lookupViewModel(!0),view:this};config.session=this.getSession();config.parent||(config.session=this.lookupSession());viewModel&&(viewModel.constructor===Object?Ext.apply(config,viewModel):'string'===typeof viewModel&&(config.type=viewModel));viewModel=Ext.Factory.viewModel(config)}return viewModel},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},destroyBindable:function(){var viewModel=this.getConfig('viewModel',!0),session=
this.getConfig('session',!0),controller=this.getController();viewModel&&viewModel.isViewModel&&(viewModel.destroy(),this.setViewModel(null));session&&session.isSession&&(session.getAutoDestroy()&&session.destroy(),this.setSession(null));controller&&(this.setController(null),controller.destroy())},initBindable:function(){var controller=this.controller;this.initBindable=Ext.emptyFn;this.getBind();this.getPublishes();this.viewModel||this.getViewModel();controller&&controller.initBindings();this.reference&&
this.publishState()},isSyncing:function(name){var bindings=this.getBind(),ret=!1;bindings&&(name=bindings[name])&&(ret=0<name.syncing);return ret},notifyIf:function(skipThis){(skipThis=this.lookupViewModel(skipThis))&&skipThis.notify()},onBindNotify:function(value,oldValue,binding){binding.syncing=binding.syncing+1||1;this[binding._config.names.set](value);--binding.syncing},_onConfigPropChange:function(me,name,value){me.publishState(name,value)},removeBindings:function(){var bindings=this.$bindings,
b,key;if(bindings)for(key in bindings)if(b=bindings[key])b.destroy(),b._config=b.getTemplateScope=null,bindings[key]=null},updateSession:function(session){var state=this.getInherited();session?state.session=session:delete state.session},updateViewModel:function(viewModel,oldViewModel){oldViewModel=this.getInherited();var controller=this.getController();viewModel?(this.hasVM=!0,oldViewModel.viewModel=viewModel,viewModel.setView(this),controller&&controller.initViewModel(viewModel)):delete oldViewModel.viewModel;
this.viewModel=viewModel}}},0,0,0,0,0,0,[Ext.mixin,'Bindable'],0);
Ext.cmd.derive('Ext.mixin.ComponentDelegation',Ext.Mixin,{mixinConfig:{id:'componentDelegation'},privates:{addDelegatedListener:function(eventName,fn,scope,options,order,caller,manager){eventName=Ext.canonicalEventName(eventName);if(order=order||options.order){var priority=options&&options.priority;priority||(options=options?Ext.Object.chain(options):{},options.priority=this.$orderToPriority[order])}order=this.$delegatedEvents||(this.$delegatedEvents={});(order[eventName]||(order[eventName]=new Ext.util.Event(this,
eventName))).addListener(fn,scope,options,caller,manager)&&this.$hasDelegatedListeners._incr_(eventName)},clearDelegatedListeners:function(){var delegatedEvents=this.$delegatedEvents,eventName;if(delegatedEvents)for(eventName in delegatedEvents){var event=delegatedEvents[eventName];var listenerCount=event.listeners.length;event.clearListeners();this.$hasDelegatedListeners._decr_(eventName,listenerCount);delete delegatedEvents[eventName]}},doFireDelegatedEvent:function(eventName,args){var ret=!0,owner,
delegatedEvents;if(this.$hasDelegatedListeners[eventName])for(owner=this.getRefOwner();owner;){if(delegatedEvents=owner.$delegatedEvents)if(delegatedEvents=delegatedEvents[eventName])if(ret=delegatedEvents.fireDelegated(this,args),!1===ret)break;owner=owner.getRefOwner()}return ret},removeDelegatedListener:function(eventName,fn,scope){var delegatedEvents=this.$delegatedEvents,event;delegatedEvents&&(event=delegatedEvents[eventName])&&event.removeListener(fn,scope)&&(this.$hasDelegatedListeners._decr_(eventName),
0===event.listeners.length&&delete delegatedEvents[eventName])},destroyComponentDelegation:function(){this.clearPropertiesOnDestroy&&(this.$delegatedEvents=null)}},onClassMixedIn:function(T){function HasListeners(){}T.prototype.HasListeners=T.HasListeners=HasListeners;HasListeners.prototype=T.hasListeners=new Ext.mixin.ComponentDelegation.HasDelegatedListeners}},0,0,0,0,0,0,[Ext.mixin,'ComponentDelegation'],function(ComponentDelegation){function HasDelegatedListeners(){}ComponentDelegation.HasDelegatedListeners=
HasDelegatedListeners;HasDelegatedListeners.prototype=ComponentDelegation.prototype.$hasDelegatedListeners=new Ext.mixin.Observable.HasListeners});
Ext.cmd.derive('Ext.plugin.Abstract',Ext.Base,{alternateClassName:'Ext.AbstractPlugin',isPlugin:!0,constructor:function(config){config&&(this.cmp=config.cmp,this.pluginConfig=config,this.initConfig(config))},init:Ext.emptyFn,destroy:function(){this.destroy=Ext.emptyFn;this.destroying=!0;this.cmp=this.pluginConfig=null;this.doDestroy();this.callParent()},doDestroy:Ext.emptyFn,clonePlugin:function(overrideCfg){return new this.self(Ext.apply({},overrideCfg,this.pluginConfig))},getCmp:function(){return this.cmp},
setCmp:function(host){this.cmp=host},getStatefulOwner:function(){return[this.cmp,'plugins']},onClassExtended:function(cls,data,hooks){hooks=data.alias;cls=cls.prototype;hooks&&!data.ptype&&(Ext.isArray(hooks)&&(hooks=hooks[0]),cls.ptype=hooks.split('plugin.')[1])},resolveListenerScope:function(defaultScope){var cmp=this.getCmp(),scope;cmp&&(scope=cmp.resolveSatelliteListenerScope(this,defaultScope));return scope||this.mixins.observable.resolveListenerScope.call(this,defaultScope)},statics:{decode:function(plugins,
typeProp,include){if(plugins){var type=Ext.typeOf(plugins),key,value;if('string'===type)type={},type[typeProp]=plugins,plugins=[type];else if(plugins.isInstance)plugins=[plugins];else if('object'===type)if(plugins[typeProp])plugins=[plugins];else{type=include?Ext.merge(Ext.clone(include),plugins):plugins;plugins=[];for(key in type)if(value=type[key])include={id:key},include[typeProp]=key,Ext.apply(include,value),plugins.push(include);Ext.sortByWeight(plugins)}else plugins=plugins.slice()}return plugins}}},
1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.plugin,'Abstract',Ext,'AbstractPlugin'],0);Ext.define('Ext.overrides.plugin.Abstract',{override:'Ext.plugin.Abstract',$configStrict:!1,$configPrefixed:!1,disabled:!1,getState:null,applyState:null,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}});
Ext.cmd.derive('Ext.mixin.Pluggable',Ext.Base,function(Pluggable){return{mixinId:'pluggable',config:{plugins:null},addPlugin:function(plugin){var plugins=this.getPlugins();plugins?(plugin=this.createPlugin(plugin),plugin.init(this),plugins.push(plugin)):(this.setPlugins(plugin),plugin=this.getPlugins()[0]);return plugin},destroyPlugin:function(plugin){return this.removePlugin(plugin,!0)},findPlugin:function(type){var plugins=this.getPlugins(),n=plugins&&plugins.length,i;for(i=0;i<n&&!ret;i++){var plugin=
plugins[i];if(plugin.type===type||plugin.ptype===type)var ret=plugin}return ret||null},getPlugin:function(id){var plugins=this.getPlugins(),n=plugins&&plugins.length,i;for(i=0;i<n&&!ret;i++){var plugin=plugins[i];if(plugin.id===id||plugin.pluginId===id)var ret=plugin}return ret||null},removePlugin:function(plugin,destroy){for(var plugins=this.getPlugins(),i=plugins&&plugins.length||0,p;0<i--;){p=plugins[i];if(p===plugin||p.id===plugin){plugins.splice(i,1);destroy?p.destroy&&p.destroy():p.detachCmp&&
(p.detachCmp(),p.setCmp&&p.setCmp(null));break}p=null}return p},privates:{statics:{idSeed:0},activatePlugin:function(type){var config=this.initialConfig,plugins=config&&config.plugins,ret=null;if(plugins){var i=this.config.plugins;plugins=Ext.plugin.Abstract.decode(plugins,'type',i&&'object'===typeof i?i:null);for(i=plugins.length;0<i--;){var p=plugins[i];if(p===type||p.type===type){this.initialConfig=config=Ext.apply({},config);config.plugins=plugins;plugins[i]=ret=this.createPlugin(p);break}}}return ret},
applyPlugins:function(plugins,oldPlugins){var oldCount=oldPlugins&&oldPlugins.length||0,i;plugins&&(plugins=Ext.plugin.Abstract.decode(plugins,'type'));for(i=0;i<oldCount;++i)oldPlugins[i].$dead=!0;var count=plugins&&plugins.length||0;for(i=0;i<count;++i)plugins[i]=this.createPlugin(plugins[i]);for(i=0;i<count;++i){var plugin=plugins[i];plugin.$dead?delete plugin.$dead:plugin.init(this)}for(i=0;i<oldCount;++i)(plugin=oldPlugins[i]).$dead&&(delete plugin.$dead,Ext.destroy(plugin));return plugins},
createPlugin:function(config){'string'===typeof config&&(config={type:config});var ret=config;config.isInstance||(config.cmp=this,ret=Ext.factory(config,null,null,'plugin'),delete config.cmp);ret.id||(ret.id=++Pluggable.idSeed);ret.setCmp&&ret.setCmp(this);return ret}}}},0,0,0,0,0,0,[Ext.mixin,'Pluggable'],0);
Ext.cmd.derive('Ext.mixin.Keyboard',Ext.Mixin,function(Keyboard){return{mixinConfig:{id:'keyboard'},config:{keyMap:{$value:null,cached:!0,merge:function(value,baseValue,cls,mixin){var key,v;if(null===value)return value;baseValue=baseValue&&!cls.isInstance?Ext.Object.chain(baseValue):{};for(key in value)if('scope'!==key&&(cls=key.toUpperCase(),!mixin||void 0===baseValue[cls])){if(v=value[key]){v='string'===typeof v||'function'===typeof v?{handler:v}:Ext.apply({handler:v.fn},v);var vs=v.scope||value.scope||
'self';v.scope='controller'===vs?'self.controller':vs}baseValue[cls]=v}return baseValue}},keyMapEnabled:null},keyMapTarget:'el',applyKeyMap:function(keyMap,existingKeyMap){var own=this.hasOwnProperty('config');own&&existingKeyMap&&existingKeyMap.$owner!==this&&(existingKeyMap=Ext.apply({},existingKeyMap));keyMap=keyMap?Keyboard.combineKeyMaps(existingKeyMap,keyMap,own&&this):null;this._keyMapReady&&this.setKeyMapListener(keyMap&&this.getKeyMapEnabled());return keyMap},initKeyMap:function(){var enabled=
this.getKeyMapEnabled();this._keyMapReady=!0;null===enabled?this.setKeyMapEnabled(!0):this.setKeyMapListener(enabled&&this.getKeyMap())},disableKeyMapGroup:function(group){this.setKeyMapGroupEnabled(group,!1)},enableKeyMapGroup:function(group){this.setKeyMapGroupEnabled(group,!0)},setKeyMapGroupEnabled:function(group,state){(this.disabledKeyMapGroups||(this.disabledKeyMapGroups={}))[group]=!state},updateKeyMapEnabled:function(enabled){this.setKeyMapListener(enabled&&this._keyMapReady&&this.getKeyMap())},
privates:{_keyMapReady:!1,comparePriorities:function(lhs,rhs){return(rhs.priority||0)-(lhs.priority||0)},findKeyMapEntries:function(e){var disabledGroups=this.disabledKeyMapGroups,keyMap=this.getKeyMap(),entries=keyMap&&Keyboard.getKeyName(e),result=[],i;if(entries=entries&&keyMap[entries]){entries.sorted||(Ext.Array.sort(entries,this.comparePriorities),entries.sorted=!0);var len=entries.length;for(i=0;i<len;i++)keyMap=entries[i],disabledGroups&&disabledGroups[keyMap.group]||Keyboard.matchEntry(keyMap,
e)&&result.push(keyMap)}return result},onKeyMapEvent:function(e){var entries=this.getKeyMapEnabled()?this.findKeyMapEntries(e):null,len=entries&&entries.length,i;this.lastKeyMapEvent=e;for(i=0;i<len&&!1!==entry;i++){var entry=entries[i];entry=Ext.callback(entry.handler,entry.scope,[e,this],0,this)}return entry},setKeyMapListener:function(enabled){var listener=this._keyMapListener;listener&&(listener.destroy(),listener=null);enabled&&enabled&&(enabled=this[this.keyMapTarget],'function'===typeof enabled&&
(enabled=enabled.call(this)),listener=enabled.on({destroyable:!0,scope:this,keydown:'onKeyMapEvent',keypress:'onKeyMapEvent'}));this._keyMapListener=listener||null},statics:{_charCodeRe:/^#([\d]+)$/,_keySpecRe:/^(?:(?:(\*)[\+\-])|(?:([a-z\+\-]*)[\+\-]))?(?:([a-z0-9_]+|[\+\-]|(?:#?\d+))(?::([a-z]+))?)$/i,_delimiterRe:/-|\+/,_keyMapEvents:{charCode:'keypress',keyCode:'keydown'},combineKeyMaps:function(existingKeyMap,keyMap,owner){var defaultScope=keyMap.scope||'controller',entry,key,mapping,existingMapping;
for(key in keyMap)if('scope'!==key){if(mapping=keyMap[key])'string'===typeof mapping||'function'===typeof mapping?mapping={handler:mapping,scope:defaultScope}:mapping&&(mapping=Ext.apply({handler:mapping.fn,scope:defaultScope},mapping)),existingKeyMap=existingKeyMap||{};else if(!existingKeyMap)continue;Keyboard.parseEntry(key,entry=mapping||{})&&((existingMapping=existingKeyMap[entry.name])?(owner&&existingMapping.$owner!==owner&&(existingKeyMap[entry.name]=existingMapping=existingMapping.slice(),
existingMapping.$owner=owner),existingMapping.push(mapping),existingMapping.sorted=!1):(existingMapping=existingKeyMap[entry.name]=[mapping],existingMapping.$owner=owner,existingMapping.sorted=!0))}existingKeyMap&&owner&&(existingKeyMap.$owner=owner);return existingKeyMap||null},getKeyName:function(event){if(event.isEvent){var keyCode=event.keyCode||event.charCode;event=event.browserEvent;if(229===keyCode&&'code'in event){if(Ext.String.startsWith(event.code,'Key'))return event.key.substr(3);if(Ext.String.startsWith(event.code,
'Digit'))return event.key.substr(5)}}else keyCode=event;return Ext.event.Event.keyCodes[keyCode]||String.fromCharCode(keyCode)},matchEntry:function(entry,e){var ev=e.browserEvent,code;if(e.type!==entry.event)return!1;if(!(code=entry.charCode)){if(entry.keyCode!==e.keyCode||!entry.ignoreModifiers&&!entry.shiftKey!==!ev.shiftKey)return!1}else if(e.getCharCode()!==code)return!1;return entry.ignoreModifiers||!entry.ctrlKey===!ev.ctrlKey&&!entry.altKey===!ev.altKey&&!entry.metaKey===!ev.metaKey&&!entry.shiftKey===
!ev.shiftKey},parseEntry:function(key,entry){key=key.toUpperCase();var Event=Ext.event.Event,keyFlags=Event.keyFlags,parts=this._keySpecRe.exec(key);key='keyCode';var i,match;if(parts){var name=parts[3];parts[4]&&(entry.group=parts[4]);if(!(entry.ignoreModifiers=!!parts[1])&&parts[2]){parts=parts[2].split(this._delimiterRe);var n=parts.length;for(i=0;i<n;i++)entry[keyFlags[parts[i]]]=!0}entry.name=name;isNaN(Event=Event[name])&&((match=this._charCodeRe.exec(name))?Event=+match[1]:1===name.length&&
(Event=name.charCodeAt(0)),Event?key='charCode':Event=+name,entry.name=Keyboard.getKeyName(Event));entry.event=entry.event||this._keyMapEvents[key];return!isNaN(Event)&&(entry[key]=Event)}}}}}},0,0,0,0,0,0,[Ext.mixin,'Keyboard'],0);
Ext.cmd.derive('Ext.mixin.Focusable',Ext.Base,{mixinId:'focusable',$isFocusableEntity:!0,focusable:!1,hasFocus:!1,containsFocus:!1,focusCls:'x-focused',focusEl:'el',getFocusEl:function(){var focusEl=this.focusEl;return focusEl&&focusEl.dom?focusEl:null},getFocusClsEl:function(){return this.getFocusEl()},initFocusable:Ext.emptyFn,initFocusableEvents:function(force){this.initFocusableElement(force)},enableFocusable:Ext.emptyFn,disableFocusable:function(){this.hasFocus&&this.revertFocus();this.removeFocusCls()},
destroyFocusable:function(){Ext.destroy(this.focusListeners);this.focusEl=this.ariaEl=this.focusListeners=this.focusEnterEvent=this.focusTask=null},isFocusable:function(deep){var focusEl;return this.focusable||this.isContainer&&deep?(focusEl=this.getFocusEl())&&this.canFocus()?focusEl&&!focusEl.destroyed&&focusEl.isFocusable(deep):!1:!1},isDestructing:function(){var c;for(c=this;c;c=c.getRefOwner())if(c.destroying||c.destroyed)return!0;return!1},canFocus:function(skipVisibility,includeFocusTarget){var ownerFC=
this.ownerFocusableContainer;ownerFC=ownerFC&&ownerFC.allowFocusingDisabledChildren;return!this.destroyed&&this.rendered&&!this.isDestructing()&&(this.isContainer||this.focusable)&&(!this.isDisabled()||ownerFC)&&(skipVisibility||this.isVisible(!0))||includeFocusTarget&&!!this.findFocusTarget()},focus:function(selectText){var focusTarget,focusElDom;if(!this.focusable&&!this.isContainer||this.destroyed||this.destroying)return!1;if(this.canFocus()&&(focusTarget=this.getFocusEl())){if(focusTarget.$isFocusableEntity)return focusTarget.focus.apply(focusTarget,
arguments);if(focusElDom=focusTarget.dom)focusTarget.focus(),selectText&&(this.selectText||focusElDom.select)&&(this.selectText?Ext.isArray(selectText)?this.selectText.apply(this,selectText):this.selectText():focusElDom.select());else if(focusTarget.focus)focusTarget.focus();else return!1}else return(focusTarget=this.findFocusTarget())&&focusTarget!==this?focusTarget.focus.apply(focusTarget,arguments):!1;return!0},onBlur:function(e){var container=this.ownerFocusableContainer;this.hasFocus=!1;this.beforeBlur&&
!this.beforeBlur.$emptyFn&&this.beforeBlur(e);container&&container.beforeFocusableChildBlur(this,e);this.removeFocusCls(e);this.hasListeners.blur&&this.fireEvent('blur',this,e);this.postBlur&&!this.postBlur.$emptyFn&&this.postBlur(e);container&&container.afterFocusableChildBlur(this,e)},onFocus:function(e){var container=this.ownerFocusableContainer;this.canFocus()&&(this.beforeFocus&&!this.beforeFocus.$emptyFn&&this.beforeFocus(e),container&&container.beforeFocusableChildFocus(this,e),this.addFocusCls(e),
this.hasFocus||(this.hasFocus=!0,this.fireEvent('focus',this,e)),this.postFocus&&!this.postFocus.$emptyFn&&this.postFocus(e),container&&container.afterFocusableChildFocus(this,e))},getTabIndex:function(){var el;if(this.focusable){if(el=this.getFocusEl())if(el.$isFocusableEntity)var index=el.getTabIndex();else if(el.isElement&&el.dom)index=el.dom.getAttribute('tabIndex'),null!==index&&(index-=0);else return;'number'!==typeof index&&(index=this.tabIndex);return index}},setTabIndex:function(newTabIndex,
focusEl){var ownerFC=this.ownerFocusableContainer,focusableIfDisabled=ownerFC&&ownerFC.allowFocusingDisabledChildren;if((ownerFC=this.focusable)||this.forceTabIndex||null==newTabIndex)this.tabIndex=newTabIndex,this.destroying||this.destroyed||this.isDisabled()&&!focusableIfDisabled||(this.focusable=!0,focusEl=focusEl||this.getFocusEl(),this.focusable=ownerFC,focusEl&&(focusEl.$isFocusableEntity?focusEl.setTabIndex(newTabIndex):focusEl.isElement&&focusEl.dom&&focusEl.setTabIndex(newTabIndex)))},onFocusEnter:function(e){this.destroying||
this.destroyed||(this.focusEnterEvent=e,this.containsFocus=!0,this.hasListeners.focusenter&&this.fireEvent('focusenter',this,e))},onFocusLeave:function(e){this.destroying||this.destroyed||(this.focusEnterEvent=null,this.containsFocus=!1,this.hasListeners.focusleave&&this.fireEvent('focusleave',this,e))},onFocusMove:Ext.emptyFn,privates:{forceTabIndex:!1,revertFocus:function(){var focusEvent=this.focusEnterEvent,activeElement=Ext.Element.getActiveElement(),fromComponent;if(focusEvent&&!this.preventRefocus&&
this.el.contains(activeElement)){var focusTarget=(fromComponent=focusEvent.fromComponent)&&(fromComponent.destroyed||fromComponent.isDestructing())?document.body:focusEvent.relatedTarget;focusTarget===document.body&&(fromComponent=this.findFocusTarget())&&(focusTarget=fromComponent.getFocusEl());focusTarget&&focusTarget.$isFocusableEntity?!focusTarget.destroyed&&focusTarget.isFocusable()&&focusTarget.focus():Ext.getDoc().contains(focusTarget)&&Ext.fly(focusTarget).isFocusable()?(fromComponent=Ext.Component.from(focusTarget))?
fromComponent.revertFocusTo(focusTarget):focusTarget.focus():focusEvent.fromComponent&&focusEvent.fromComponent.focus&&((focusEvent=focusEvent.fromComponent.focus())||activeElement.blur())}},revertFocusTo:function(target){target.focus()},findFocusTarget:function(){var candidate,len;if(this.preventRefocus)return null;var parentAxis=[];for(candidate=this.getRefOwner();candidate;candidate=candidate.getRefOwner())candidate.isDisabled()||parentAxis.unshift(candidate);var i=0;for(len=parentAxis.length;i<
len;i++)if(candidate=parentAxis[i],candidate.destroying||!candidate.isVisible()){parentAxis.length=i;break}for(i=parentAxis.length-1;0<=i;i--){candidate=parentAxis[i];len=Ext.ComponentQuery.query(':canfocus()',candidate);if(len.length)return parentAxis=Ext.Array.indexOf(len,Ext.ComponentManager.getActiveComponent()),len[parentAxis+1]||len[parentAxis-1]||len[0];if(candidate.isFocusable&&candidate.isFocusable())return candidate}},initFocusableElement:function(force){var tabIndex=this.getTabIndex(),
focusEl=this.getFocusEl();focusEl&&!focusEl.$isFocusableEntity&&(null!=tabIndex&&(force||this.canFocus(!0))&&this.setTabIndex(tabIndex,focusEl),focusEl.dom.hasAttribute('data-componentid')||focusEl.dom.setAttribute('data-componentid',this.id))},addFocusCls:function(e){var focusCls=this.focusCls;this.getFocusClsEl();focusCls&&(e=this.getFocusClsEl(e))&&e.addCls(focusCls)},removeFocusCls:function(e){var focusCls=this.focusCls;focusCls&&(e=this.getFocusClsEl(e))&&e.removeCls(focusCls)},handleFocusEvent:function(info){if(this.focusable&&
!this.destroying&&!this.destroyed&&this.isFocusing(info)){var event=new Ext.event.Event(info.event);event.type='focus';event.relatedTarget=info.fromElement;event.target=info.toElement;this.onFocus(event)}},handleBlurEvent:function(info){if(this.focusable&&!this.destroying&&!this.destroyed&&(info.toElement===document.body||this.isBlurring(info))){var event=new Ext.event.Event(info.event);event.type='blur';event.target=info.fromElement;event.relatedTarget=info.toElement;this.onBlur(event)}},isFocusing:function(e){var focusEl=
this.getFocusEl();return focusEl?focusEl.isFocusing?focusEl.isFocusing(e):focusEl.dom===document.activeElement&&e.toElement===focusEl.dom&&e.fromElement!==e.toElement:!1},isBlurring:function(e){var focusEl=this.getFocusEl();return focusEl?focusEl.isFocusing?focusEl.isBlurring(e):focusEl.dom!==document.activeElement&&e.fromElement===focusEl.dom&&e.fromElement!==e.toElement:!1},blur:function(){var focusEl;this.focusable&&this.canFocus()&&(focusEl=this.getFocusEl())&&(this.blurring=!0,focusEl.blur(),
delete this.blurring)},isTabbable:function(){var focusEl;return this.focusable&&(focusEl=this.getFocusEl())&&focusEl.isTabbable()?focusEl.isTabbable():!1},disableTabbing:function(){var el=this.el,focusEl;this.destroying||this.destroyed||(el&&el.saveTabbableState(),(focusEl=this.getFocusEl())&&(focusEl.$isFocusableEntity?focusEl.disableTabbing():focusEl.isElement&&el&&!el.contains(focusEl)&&focusEl.saveTabbableState()))},enableTabbing:function(reset){var el=this.el,focusEl;this.destroying||this.destroyed||
((focusEl=this.getFocusEl())&&(focusEl.$isFocusableEntity?focusEl.enableTabbing():focusEl.isElement&&el&&!el.contains(focusEl)&&focusEl.restoreTabbableState()),el&&el.restoreTabbableState({reset}))}}},0,0,0,0,0,0,[Ext.mixin,'Focusable'],function(){function keyboardModeFocusHandler(){keyboardMode!==Ext.getBody().hasCls('x-keyboard-mode')&&Ext.setKeyboardMode(keyboardMode)}var keyboardMode=!1;Ext.enableKeyboardMode=Ext.isModern||!Ext.os.is.Desktop;Ext.setKeyboardMode=Ext.setKeyboardMode||function(keyboardMode){Ext.keyboardMode=
keyboardMode;Ext.getBody().toggleCls('x-keyboard-mode',keyboardMode)};Ext.isTouchMode=function(){return 500>Ext.now()-Ext.lastTouchTime};Ext.syncKeyboardMode=function(e){if(Ext.enableKeyboardMode){var type=e.type;'pointermove'===type?keyboardMode=!1:(keyboardMode='keydown'===type,Ext.lastTouchTime='touch'===e.pointerType&&Ext.now(),Ext.setKeyboardMode(keyboardMode))}};Ext.getEnableKeyboardMode=function(){return Ext.enableKeyboardMode};Ext.setEnableKeyboardMode=function(enable){var listeners={pointerdown:Ext.syncKeyboardMode,
pointermove:Ext.syncKeyboardMode,keydown:Ext.syncKeyboardMode,capture:!0,delegated:!1};Ext.enableKeyboardMode=!!enable;Ext.enableKeyboardMode?(Ext.getWin().on(listeners),Ext.on('focus',keyboardModeFocusHandler)):(Ext.getWin().un(listeners),Ext.un('focus',keyboardModeFocusHandler))};Ext.onReady(function(){Ext.enableKeyboardMode||Ext.getBody().addCls('x-keyboard-mode');Ext.setEnableKeyboardMode(Ext.enableKeyboardMode)})});
Ext.cmd.derive('Ext.mixin.Accessible',Ext.Mixin,{mixinConfig:{id:'accessible'},config:{ariaAttributes:{$value:null,lazy:!0}},ariaEl:'el',privates:{getAriaLabelEl:function(reference){var ids=[],refHolder,len,cmp;if(reference){if(Ext.isFunction(reference))return reference.call(this);Ext.isArray(reference)||(reference=[reference]);if(refHolder=this.lookupReferenceHolder()){var i=0;for(len=reference.length;i<len;i++)(cmp=refHolder.lookupReference(reference[i]))&&ids.push(cmp.ariaEl.id)}}return ids.length?
ids.join(' '):null}}},0,0,0,0,0,0,[Ext.mixin,'Accessible'],0);
Ext.cmd.derive('Ext.Widget',Ext.Evented,{alternateClassName:'Ext.Gadget',isWidget:!0,factoryConfig:{creator:null,defaultProperty:'xtype',defaultType:'component',typeProperty:'xtype'},element:{reference:'element'},observableType:'component',cachedConfig:{cls:null,margin:null,style:null,border:null,touchAction:null,eventHandlers:{focus:'handleFocusEvent',blur:'handleBlurEvent'}},name:null,config:{renderTo:null,ui:null,userCls:null,ripple:null,hideMode:null,instanceCls:null},eventedConfig:{width:null,
height:null,hidden:null,disabled:null},template:[],baseCls:null,classCls:null,classClsRoot:!0,classClsList:[],clearPropertiesOnDestroy:'async',focusEl:'element',ariaEl:'element',spaceRe:/\s+/,noBorderCls:'x-noborder-trbl',borderedCls:'x-bordered',disabledCls:'x-disabled',heightedCls:'x-heighted',widthedCls:'x-widthed',constructor:function(config){var baseCls=this.baseCls,renderTo=config&&config.renderTo;this.$iid=++Ext.$nextIid;if(null==baseCls||!0===baseCls)this.baseCls=this.classCls||'x-'+this.xtype;
if(config&&config.controller||this.config.controller)this.referenceHolder=!0;this.initId(config);this.initElement();renderTo&&(config=Ext.apply({},config),delete config.renderTo);this.mixins.observable.constructor.call(this,config);this.focusable&&this.initFocusableEvents(!0);this.syncUiCls();Ext.ComponentManager.register(this);(config=this.getController())&&config.init(this);renderTo&&this.setRenderTo(renderTo)},afterCachedConfig:function(){var referenceList=this.referenceList,renderElement=this.renderElement,
renderTemplate;this.self.prototype.renderTemplate=renderTemplate=document.createDocumentFragment();renderTemplate.appendChild(renderElement.clone(!0,!0));var elements=renderTemplate.querySelectorAll('[id]');renderElement=0;for(renderTemplate=elements.length;renderElement<renderTemplate;renderElement++){var element=elements[renderElement];element.removeAttribute('id')}renderElement=0;for(renderTemplate=referenceList.length;renderElement<renderTemplate;renderElement++)element=referenceList[renderElement],
this[element].dom.removeAttribute('reference')},applyHidden:function(hidden){return!!hidden},applyDisabled:function(disabled){return!!disabled},updateDisabled:function(disabled){var container=this.ownerFocusableContainer;container&&(disabled?container.beforeFocusableChildDisable.$nullFn||container.beforeFocusableChildDisable(this):container.beforeFocusableChildEnable.$nullFn||container.beforeFocusableChildEnable(this));this.element.toggleCls(this.disabledCls,disabled);this.focusable&&(disabled?this.disableFocusable():
this.enableFocusable());if(container)if(disabled){if(!container.onFocusableChildDisable.$nullFn)container.onFocusableChildDisable(this)}else if(!container.onFocusableChildEnable.$nullFn)container.onFocusableChildEnable(this)},disable:function(){this.setDisabled(!0)},enable:function(){this.setDisabled(!1)},isDisabled:function(){return this.getDisabled()},isEnabled:function(){return!this.getDisabled()},applyTouchAction:function(touchAction,oldTouchAction){null!=oldTouchAction&&(touchAction=Ext.merge({},
oldTouchAction,touchAction));return touchAction},applyWidth:function(width){return this.filterLengthValue(width)},applyHeight:function(height){return this.filterLengthValue(height)},updateBorder:function(border){border=border||null===border;this.toggleCls(this.noBorderCls,!border);this.toggleCls(this.borderedCls,!!border)},clearListeners:function(){this.mixins.observable.clearListeners.call(this);this.mixins.componentDelegation.clearDelegatedListeners.call(this)},destroy:function(){this.isDestroying=
this.destroying=!0;this.destroy=Ext.emptyFn;this.doDestroy();this.clearListeners();this.mixins.componentDelegation.destroyComponentDelegation.call(this);Ext.Evented.prototype.destroy.call(this)},doDestroy:function(){var referenceList=this.referenceList,container=this.ownerFocusableContainer,ln;this.ownerCmp=null;if(container&&!container.onFocusableChildDestroy.$nullFn)container.onFocusableChildDestroy(this);container=0;for(ln=referenceList.length;container<ln;container++){var reference=referenceList[container];
this.hasOwnProperty(reference)&&(this[reference].destroy(),this[reference]=null)}this.destroyBindable();Ext.ComponentManager.unregister(this)},doFireEvent:function(eventName,args,bubbles){var ret=this.mixins.observable.doFireEvent.call(this,eventName,args,bubbles);!1===ret||this.destroyed||(bubbles=this.events[eventName])&&bubbles.suspended||(ret=this.mixins.componentDelegation.doFireDelegatedEvent.call(this,eventName,args));return ret},getBubbleTarget:function(){return this.getRefOwner()},getElementConfig:function(){var el=
this.element;'children'in el||(el=Ext.apply({children:this.getTemplate()},el));return el},getSize:function(){return this.el.getSize()},getTemplate:function(){return Ext.clone(this.template)},getClassCls:function(){for(var proto=this.self.prototype,prototype=proto,classes,classCls,i,ln;prototype;){if(classCls=prototype.hasOwnProperty('classCls')?prototype.classCls:null)if(classCls instanceof Array)for(i=0,ln=classCls.length;i<ln;i++)(classes||(classes=[])).push(classCls[i]);else(classes||(classes=
[])).push(classCls);if(prototype.classClsRoot&&prototype.hasOwnProperty('classClsRoot'))break;prototype=prototype.superclass}classes&&(proto.classClsList=classes);return classes},hide:function(){this.setHidden(!0)},initElement:function(){var prototype=this.self.prototype,id=this.getId(),referenceList=this.referenceList=[],isFirstInstance=!prototype.hasOwnProperty('renderTemplate'),uiReferences=prototype.hasOwnProperty('uiReferences')?prototype.uiReferences:prototype.uiReferences={element:''},ln;if(isFirstInstance){var renderTemplate=
document.createDocumentFragment();prototype=this.processElementConfig.call(prototype);prototype=Ext.Element.create(prototype,!0);renderTemplate.appendChild(prototype);var referenceNodes=renderTemplate.querySelectorAll('[uiCls]');var i=0;for(ln=referenceNodes.length;i<ln;i++){var referenceNode=referenceNodes[i];var reference=referenceNode.getAttribute('reference');var uiCls=referenceNode.getAttribute('uiCls');uiReferences[reference]=uiCls;referenceNode.removeAttribute('uiCls')}}else renderTemplate=
this.renderTemplate.cloneNode(!0),prototype=renderTemplate.firstChild;referenceNodes=renderTemplate.querySelectorAll('[reference]');i=0;for(ln=referenceNodes.length;i<ln;i++){referenceNode=referenceNodes[i];reference=referenceNode.getAttribute('reference');isFirstInstance||referenceNode.removeAttribute('reference');if('element'===reference){referenceNode.id=id;var element=this.el=this.addElementReference(reference,referenceNode);element.dom.setAttribute('data-componentid',id);isFirstInstance&&((renderTemplate=
this.getClassCls())&&element.addCls(renderTemplate),(renderTemplate=this.baseCls)&&renderTemplate!==this.classCls&&element.addCls(renderTemplate))}else(uiCls=uiReferences[reference])&&isFirstInstance?(this.addElementReference(reference,referenceNode),this.initUiReference(reference,uiCls,!1)):this.addElementReferenceOnDemand(reference,referenceNode);reference===this.focusEl&&this.addElementReference('focusEl',referenceNode);reference===this.ariaEl&&this.addElementReferenceOnDemand('ariaEl',referenceNode);
referenceList.push(reference)}prototype===element.dom?this.renderElement=element:this.addElementReferenceOnDemand('renderElement',prototype);prototype.setAttribute(this.dataXid,this.$iid)},dataXid:'data-xid',is:function(selector){return Ext.ComponentQuery.is(this,selector)},isHidden:function(deep){var hidden=!!this.getHidden(),owner;if(!hidden&&deep)for(owner=this.getRefOwner();owner&&owner!==deep&&!hidden;)hidden=!!owner.getHidden(),owner=owner.getRefOwner();return hidden},isVisible:function(deep){return this.rendered&&
!this.destroyed&&!this.isHidden(deep)},isXType:function(xtype,shallow){return shallow?-1!==Ext.Array.indexOf(this.xtypes,xtype):!!this.xtypesMap[xtype]},lookupTpl:function(name){return Ext.XTemplate.getTpl(this,name)},owns:function(element){var result=!1;element.isEvent?element=element.target:element.isElement&&(element=element.dom);(element=Ext.Component.from(element))&&(result=element===this||!!element.up(this));return result},render:function(container,insertBeforeElement){container&&container.isWidget&&
(container=container.el);var dom=this.renderElement.dom;container=Ext.getDom(container);Ext.isNumber(insertBeforeChildDom)&&(insertBeforeElement=container.childNodes[insertBeforeElement]);var insertBeforeChildDom=Ext.getDom(insertBeforeElement);container&&(insertBeforeChildDom?container.insertBefore(dom,insertBeforeChildDom):container.appendChild(dom),this.setRendered(Ext.getBody().contains(dom),!0))},toggleCls:function(className,state){this.element.toggleCls(className,state);return this},resolveListenerScope:function(defaultScope,
skipThis){return this.mixins.inheritable.resolveListenerScope.call(this,defaultScope,skipThis)},setSize:function(width,height){if(width&&'object'===typeof width)return this.setSize(width.width,width.height);void 0!==width&&this.setWidth(width);void 0!==height&&this.setHeight(height)},show:function(){this.setHidden(!1)},addCls:function(cls,prefix,suffix){this.destroyed||this.el.replaceCls(null,cls,prefix,suffix)},applyCls:function(cls){return cls&&Ext.dom.Element.splitCls(cls)},applyUi:function(ui){return this.parseUi(ui,
!0)},removeCls:function(cls,prefix,suffix){this.destroyed||this.el.replaceCls(cls,null,prefix,suffix)},replaceCls:function(oldCls,newCls,prefix,suffix){this.destroyed||this.el.replaceCls(oldCls,newCls,prefix,suffix)},hasCls:function(className){return this.el.hasCls(className)},updateCls:function(newCls,oldCls){this.element.replaceCls(oldCls,newCls)},updateHidden:function(hidden){var element=this.renderElement,container=this.ownerFocusableContainer;container?hidden?container.beforeFocusableChildHide.$nullFn||
container.beforeFocusableChildHide(this):container.beforeFocusableChildShow.$nullFn||container.beforeFocusableChildShow(this):hidden&&this.revertFocus();element&&!element.destroyed&&(hidden?element.hide():element.show());this.focusableContainer&&this.activateFocusableContainer&&this.activateFocusableContainer(!hidden);if(container)if(hidden){if(!container.onFocusableChildHide.$nullFn)container.onFocusableChildHide(this)}else if(!container.onFocusableChildShow.$nullFn)container.onFocusableChildShow(this)},
updateMargin:function(margin){this.element.setMargin(margin)},updateRipple:function(ripple){var el=this.el;if(el)if(el.un('touchstart','onRippleStart',this),el.un('touchend','onRippleStart',this),el.destroyAllRipples(),ripple.release)el.on('touchend','onRippleStart',this);else el.on('touchstart','onRippleStart',this)},shouldRipple:function(e){var disabled=this.getDisabled&&this.getDisabled(),el=this.el;(disabled=!disabled&&this.getRipple())&&e&&(e=e.getTarget(this.noRippleSelector))&&(el.dom===e||
el.contains(e))&&(disabled=null);return disabled},onRippleStart:function(e){var ripple=this.shouldRipple(e);0===e.button&&ripple&&this.el.ripple(e,ripple)},applyStyle:function(style,oldStyle){oldStyle&&style===oldStyle&&Ext.isObject(oldStyle)&&(style=Ext.apply({},style));this.element.applyStyles(style);return null},updateRenderTo:function(newContainer){this.render(newContainer)},updateTouchAction:function(touchAction){var name,hasRootActions;for(name in touchAction){var childEl=this[name];var value=
touchAction[name];childEl&&childEl.isElement?childEl.setTouchAction(value):hasRootActions=!0}hasRootActions&&this.el.setTouchAction(touchAction)},updateUi:function(){this.isConfiguring||this.syncUiCls()},updateWidth:function(width){var el=this.el;el.setWidth(width);el.toggleCls(this.widthedCls,null!=width&&'auto'!==width)},updateHeight:function(height){var el=this.el;el.setHeight(height);el.toggleCls(this.heightedCls,null!=height&&'auto'!==height)},isWidthed:function(){var width=this.getWidth();return null!=
width&&'auto'!==width},isHeighted:function(){var height=this.getHeight();return null!=height&&'auto'!==height},up:function(selector,limit){var result=this.getRefOwner(),limitSelector='string'===typeof limit,limitCount='number'===typeof limit,limitComponent=limit&&limit.isComponent,steps=0;if(selector)for(;result;result=result.getRefOwner()){if(result.destroyed)return null;steps++;if(selector.isComponent||selector.isWidget){if(result===selector)break}else if(Ext.ComponentQuery.is(result,selector))break;
if(limitSelector&&result.is(limit)||limitCount&&steps===limit||limitComponent&&result===limit)return}return result},updateLayout:Ext.emptyFn,updateInstanceCls:function(instanceCls,oldInstanceCls){var el=this.el,classClsList=this.classClsList,Array=Ext.Array,uiReferences=this.uiReferences,referenceName,ln;if(oldInstanceCls){el.removeCls(oldInstanceCls);oldInstanceCls=Array.from(oldInstanceCls);var i=0;for(ln=oldInstanceCls.length;i<ln;i++){var cls=oldInstanceCls[i];Array.remove(classClsList,cls);for(referenceName in uiReferences){var referenceElement=
this[referenceName];var uiCls=uiReferences[referenceName];referenceElement.removeCls(cls+'-'+uiCls)}}}if(instanceCls)for(el.addCls(instanceCls),instanceCls=Array.from(instanceCls),this.classClsList=classClsList.concat(instanceCls),i=0,ln=instanceCls.length;i<ln;i++)for(referenceName in cls=instanceCls[i],uiReferences)referenceElement=this[referenceName],uiCls=uiReferences[referenceName],referenceElement.addCls(cls+'-'+uiCls);this.isConfiguring||this.syncUiCls()},getBaseCls:function(){return this.baseCls},
privates:{_hideModes:{clip:'CLIP',display:'DISPLAY',offsets:'OFFSETS',opacity:'OPACITY',visibility:'VISIBILITY'},noRippleSelector:'.x-no-ripple',addElementReferenceOnDemand:function(name,domNode){this._elementListeners[name]?this.addElementReference(name,domNode):Ext.Object.defineProperty(this,name,{get:function(){if(this.destroyed)return null;delete this[name];return this.addElementReference(name,domNode)},configurable:!0})},addElementReference:function(name,domNode){domNode=this[name]=Ext.get(domNode);
name=this._elementListeners[name];var eventName;domNode.skipGarbageCollection=!0;domNode.component=this;if(name){name=Ext.clone(name);for(eventName in name){var listener=name[eventName];'object'===typeof listener&&(listener.scope=this)}name.scope=this;domNode.on(name)}return domNode},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.element,!0);this.isDetached=!0},reattachToBody:function(){if(this.isDetached){var detachedBody=Ext.getDetachedBody();detachedBody.contains(this.element)&&
Ext.getBody().appendChild(this.element,!0)}this.isDetached=!1},doAddListener:function(name,fn,scope,options,order,caller,manager){var elementName=options&&options.element,delegate=options&&options.delegate,option;if(elementName){order={};order[name]=fn;scope&&(order.scope=scope);name=Ext.Element.prototype.$eventOptions;for(option in options)name[option]&&(order[option]=options[option]);this.mon(this[elementName],order)}else delegate?this.mixins.componentDelegation.addDelegatedListener.call(this,name,
fn,scope,options,order,caller,manager):Ext.Evented.prototype.doAddListener.call(this,name,fn,scope,options,order,caller,manager)},doRemoveListener:function(eventName,fn,scope){this.mixins.observable.doRemoveListener.call(this,eventName,fn,scope);this.mixins.componentDelegation.removeDelegatedListener.call(this,eventName,fn,scope)},filterLengthValue:function(value){return value||0===value?value:null},hasHiddenContent:function(){return this.getHidden()},initElementListeners:function(elementConfig){var superElementListeners=
this.self.superclass._elementListeners,reference=elementConfig.reference,children=elementConfig.children,listeners;var elementListeners=this.hasOwnProperty('_elementListeners')?this._elementListeners:this._elementListeners=superElementListeners?Ext.Object.chain(superElementListeners):{};reference&&(listeners=elementConfig.listeners)&&(superElementListeners&&(superElementListeners=superElementListeners[reference])&&(listeners=Ext.Object.chain(superElementListeners),Ext.apply(listeners,elementConfig.listeners)),
elementListeners[reference]=listeners,elementConfig.listeners=null);if(children)for(reference=0,elementConfig=children.length;reference<elementConfig;reference++)this.initElementListeners(children[reference])},initId:function(config){var defaultConfig=this.config;(config=config&&config.id||defaultConfig&&defaultConfig.id)?(this.setId(config),this.id=config):this.getId()},measure:function(dimension){return this.element.measure(dimension)},processElementConfig:function(){var superPrototype=this.self.superclass;
if(this.hasOwnProperty('_elementConfig'))var elementConfig=this._elementConfig;else elementConfig=this._elementConfig=this.getElementConfig(),superPrototype.isWidget&&this.processElementConfig.call(superPrototype),this.initElementListeners(elementConfig);return elementConfig},parseUi:function(ui,asString){ui=Ext.String.splitWords(ui);asString&&(ui=ui.join(' '));return ui},addUi:function(ui){this.setUi(this.doAddUi(ui,this.getUi()))},doAddUi:function(ui,oldUi){var newUi=null;if(ui){ui=this.parseUi(ui);
var len=ui.length;oldUi=this.parseUi(oldUi);for(newUi=0;newUi<len;newUi++){var u=ui[newUi];-1===Ext.Array.indexOf(oldUi,u)&&oldUi.push(u)}newUi=oldUi.join(' ')}return newUi},removeUi:function(ui){this.setUi(this.doRemoveUi(ui,this.getUi()))},doRemoveUi:function(ui,oldUi){var newUi=null;if(ui){ui=this.parseUi(ui);var len=ui.length;oldUi=this.parseUi(oldUi);for(newUi=0;newUi<len;newUi++){var u=ui[newUi];u=Ext.Array.indexOf(oldUi,u);-1!==u&&oldUi.splice(u,1)}newUi=oldUi.join(' ')}return newUi},initUiReference:function(referenceName,
uiCls,isInstance){var referenceElement=this[referenceName],baseCls=this.baseCls,classClsList=this.classClsList,cls=[];if(isInstance=!1!==isInstance)this.hasOwnProperty('uiReferences')||(this.uiReferences=Ext.clone(this.uiReferences)),this.uiReferences[referenceName]=uiCls;uiCls='-'+uiCls;baseCls&&baseCls!==this.classCls&&cls.push(baseCls+uiCls);if(classClsList)for(referenceName=0,baseCls=classClsList.length;referenceName<baseCls;referenceName++)cls.push(classClsList[referenceName]+uiCls);referenceElement.addCls(cls);
isInstance&&!this.isConfiguring&&this.syncUiCls()},syncUiCls:function(refs){var ui=this.getUi(),currentUiCls=this.currentUiCls||(this.currentUiCls={}),baseCls=this.baseCls;refs=refs||this.uiReferences;var classClsList=this.classClsList,classClsListLen=classClsList?classClsList.length:0,refName,cls,i,j;if(ui){ui=this.parseUi(ui);var uiLen=ui.length}for(refName in refs){var refEl=this[refName];var uiCls=[];if(refEl&&((cls=currentUiCls[refName])&&refEl.removeCls(cls),ui)){cls=(cls=refs[refName])?'-'+
cls:'';for(i=0;i<uiLen;i++){var uiSuffix='-'+ui[i]+cls;baseCls&&baseCls!==this.classCls&&uiCls.push(baseCls+uiSuffix);if(classClsList)for(j=0;j<classClsListLen;j++)uiCls.push(classClsList[j]+uiSuffix)}refEl.addCls(uiCls);currentUiCls[refName]=uiCls}}},applyHideMode:function(mode){return mode||'display'},updateHideMode:function(mode){var el=this.el,shouldToggle=this.getHidden();shouldToggle&&el.show();this.renderElement.setVisibilityMode(Ext.Element[this._hideModes[mode]]);shouldToggle&&el.hide()},
updateUserCls:function(newCls,oldCls){this.element.replaceCls(oldCls,newCls)}}},1,['widget'],['widget'],{widget:!0},['widget.widget'],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.mixin.ComponentDelegation.prototype.mixinId||Ext.mixin.ComponentDelegation.$className,Ext.mixin.ComponentDelegation],[Ext.mixin.Pluggable.prototype.mixinId||Ext.mixin.Pluggable.$className,
Ext.mixin.Pluggable],[Ext.mixin.Keyboard.prototype.mixinId||Ext.mixin.Keyboard.$className,Ext.mixin.Keyboard],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Focusable.prototype.mixinId||Ext.mixin.Focusable.$className,Ext.mixin.Focusable],[Ext.mixin.Accessible.prototype.mixinId||Ext.mixin.Accessible.$className,Ext.mixin.Accessible]],[Ext,'Widget',Ext,'Gadget'],function(Widget){Widget=Widget.prototype;(Widget.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=
1;(Widget.$eventOptions=Ext.Object.chain(Widget.$eventOptions)).delegate=1;Ext.updateWidget=Ext.Factory.widget.update});
Ext.define('Ext.overrides.Widget',{override:'Ext.Widget',$configStrict:!1,isComponent:!0,liquidLayout:!0,rendered:!0,rendering:!0,config:{renderTo:null},constructor:function(config){var renderTo;(arguments.callee.$previous||Ext.Evented.prototype.constructor).call(this,config);this.getComponentLayout();(renderTo=this.getRenderTo())&&this.render(renderTo)},addClsWithUI:function(cls){this.el.addCls(cls)},afterComponentLayout:Ext.emptyFn,updateLayout:function(){var owner=this.getRefOwner();owner&&owner.updateLayout()},
destroy:function(){var ownerCt=this.ownerCt;ownerCt&&ownerCt.remove&&ownerCt.remove(this,!1);(arguments.callee.$previous||Ext.Evented.prototype.destroy).call(this)},finishRender:function(){this.rendering=!1;this.initBindable();this.initKeyMap()},getAnimationProps:function(){return{}},getComponentLayout:function(){var layout=this.componentLayout;layout||(layout=this.componentLayout=new Ext.layout.component.Auto,layout.setOwner(this));return layout},getEl:function(){return this.element},getTdCls:function(){return'x-'+
this.getTdType()+'-'+(this.ui||'default')+'-cell'},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(container,pos,instanced){this.ownerCt=container;this.onInheritedAdd(this,instanced);this.isDetached=!1},onRemoved:function(destroying){this.onInheritedRemove(destroying);this.ownerCt=this.ownerLayout=null},parseBox:function(box){return Ext.Element.parseBox(box)},
removeClsWithUI:function(cls){this.el.removeCls(cls)},render:function(container,position){var element=this.element,proto=Ext.Component.prototype;if(!this.ownerCt||this.floating)Ext.scopeCss&&element.addCls(proto.rootCls),element.addCls(proto.borderBoxCls);if(position&&(position=container.childNodes[position])){Ext.fly(container).insertBefore(element,position);return}Ext.fly(container).appendChild(element);this.finishRender()},setPosition:function(x,y){this.el.setLocalXY(x,y)},up:function(){return Ext.Component.prototype.up.apply(this,
arguments)},isAncestor:function(){return Ext.Component.prototype.isAncestor.apply(this,arguments)},onFocusEnter:function(){return Ext.Component.prototype.onFocusEnter.apply(this,arguments)},onFocusLeave:function(){return Ext.Component.prototype.onFocusLeave.apply(this,arguments)},isLayoutChild:function(candidate){var ownerCt=this.ownerCt;return ownerCt?ownerCt===candidate||ownerCt.isLayoutChild(candidate):!1},privates:{doAddListener:function(name,fn,scope,options,order,caller,manager){'painted'!==
name&&'resize'!==name||this.element.doAddListener(name,fn,scope||this,options,order);(arguments.callee.$previous||Ext.Evented.prototype.doAddListener).call(this,name,fn,scope,options,order,caller,manager)},doRemoveListener:function(name,fn,scope){'painted'!==name&&'resize'!==name||this.element.doRemoveListener(name,fn,scope);(arguments.callee.$previous||Ext.Evented.prototype.doRemoveListener).call(this,name,fn,scope)}}},function(Cls){Cls=Cls.prototype;Ext.isIE9m&&(Cls.addElementReferenceOnDemand=
Cls.addElementReference)});
Ext.cmd.derive('Ext.mixin.Responsive',Ext.Mixin,function(Responsive){return{mixinConfig:{id:'responsive',after:{destroy:'destroy'}},config:{responsiveConfig:{$value:void 0,merge:function(newValue,oldValue,target,mixinClass){var rule;if(!newValue)return oldValue;var ret=oldValue?Ext.Object.chain(oldValue):{};oldValue=Responsive.context;for(rule in newValue)mixinClass&&rule in ret||(target=newValue[rule],target.fn!==oldValue&&(target={fn:oldValue,config:target}),ret[rule]=target);return ret}},responsiveFormulas:{$value:null,
merge:function(newValue,oldValue,target,mixinClass){return this.mergeNew(newValue,oldValue,target,mixinClass)}}},destroy:function(){Responsive.unregister(this)},privates:{statics:{active:!1,all:{},_configNames:['responsiveConfig','responsiveFormulas'],context:Ext.Object.chain(Ext.platformTags),count:0,nextId:0,activate:function(){Responsive.active=!0;Responsive.updateContext();Ext.on('resize',Responsive.onResize,Responsive)},deactivate:function(){Responsive.active=!1;Ext.un('resize',Responsive.onResize,
Responsive)},notify:function(){var all=Responsive.all,context=Responsive.context,timer=Responsive.timer,id;timer&&(Responsive.timer=Ext.unasap(timer));Responsive.updateContext();Ext.suspendLayouts();Ext.fireEvent('beforeresponsiveupdate',context);for(id in all)all[id].setupResponsiveContext();Ext.fireEvent('beginresponsiveupdate',context);for(id in all)all[id].updateResponsiveState();Ext.fireEvent('responsiveupdate',context);Ext.resumeLayouts(!0)},onResize:function(){Responsive.timer||(Responsive.timer=
Ext.asap(Responsive.onTimer))},onTimer:function(){Responsive.timer=null;Responsive.notify()},register:function(responder){var id=responder.$responsiveId;id||(responder.$responsiveId=id=++Responsive.nextId,Responsive.all[id]=responder,1===++Responsive.count&&Responsive.activate())},unregister:function(responder){var id=responder.$responsiveId;id in Responsive.all&&(responder.$responsiveId=null,delete Responsive.all[id],0===--Responsive.count&&Responsive.deactivate())},updateContext:function(){var El=
Ext.Element,width=El.getViewportWidth();El=El.getViewportHeight();var context=Responsive.context;context.width=width;context.height=El;context.tall=width<El;context.wide=!context.tall;context.landscape=context.portrait=!1;context.platform||(context.platform=Ext.platformTags);context[Ext.dom.Element.getOrientation()]=!0}},afterClassMixedIn:function(targetClass){var proto=targetClass.prototype,responsiveConfig=proto.responsiveConfig,responsiveFormulas=proto.responsiveFormulas;if(responsiveConfig||responsiveFormulas){var config=
{};responsiveConfig&&(delete proto.responsiveConfig,config.responsiveConfig=responsiveConfig);responsiveFormulas&&(delete proto.responsiveFormulas,config.responsiveFormulas=responsiveFormulas);targetClass.getConfigurator().add(config)}targetClass.addConfigTransform('transformResponsiveConfig',10)},applyResponsiveConfig:function(rules){for(var rule in rules)rules[rule].fn=Ext.createRuleFn(rule);return rules},applyResponsiveFormulas:function(formulas){var fn,name;if(formulas){var ret={};for(name in formulas)Ext.isString(fn=
formulas[name])&&(fn=Ext.createRuleFn(fn)),ret[name]=fn}return ret},getResponsiveState:function(){var context=Responsive.context,rules=this.getResponsiveConfig(),rule;if(rules){var ret={};for(rule in rules){var entry=rules[rule];entry.fn.call(this,context)&&Ext.merge(ret,entry.config)}}return ret},setupResponsiveContext:function(){var formulas=this.getResponsiveFormulas(),context=Responsive.context,name;if(formulas)for(name in formulas)context[name]=formulas[name].call(this,context)},transformResponsiveConfig:function(instanceConfig,
configurator){var ret=instanceConfig;configurator.hoistConfigs(this,instanceConfig,Responsive._configNames)&&(Responsive.register(this),this.setupResponsiveContext(),configurator=this.getResponsiveState())&&(ret=Ext.merge({},instanceConfig,configurator),delete ret.responsiveConfig,delete ret.responsiveFormulas);return ret},updateResponsiveState:function(){var config=this.getResponsiveState();this.setConfig(config)}}}},0,0,0,0,0,0,[Ext.mixin,'Responsive'],0);
Ext.define('Ext.ResponsiveWidget',{override:'Ext.Widget',mixins:[Ext.mixin.Responsive]});Ext.cmd.derive('Ext.ProgressBase',Ext.Base,{mixinId:'progressbase',config:{value:0,textTpl:null},applyTextTpl:function(textTpl){textTpl.isTemplate||(textTpl=new Ext.XTemplate(textTpl));return textTpl},applyValue:function(value){return value||0}},0,0,0,0,0,0,[Ext,'ProgressBase'],0);
Ext.cmd.derive('Ext.util.Format',Ext.Base,function(){var me;return{singleton:!0,defaultDateFormat:'m/d/Y',thousandSeparator:',',decimalSeparator:'.',currencyPrecision:2,currencySign:'$',currencySpacer:'',percentSign:'%',currencyAtEnd:!1,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,.#]+/,formatCleanRe:/[^\d.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){me=this},nbsp:function(value,
strict){(!1!==strict?''!==value&&null!=value:value)||(value=' ');return value},undef:function(value){return void 0!==value?value:''},defaultValue:function(value,defaultValue){return void 0!==value&&''!==value?value:defaultValue},substr:'b'!=='ab'.substr(-1)?function(value,start,length){value=String(value);return 0>start?value.substr(Math.max(value.length+start,0),length):value.substr(start,length)}:function(value,start,length){return String(value).substr(start,length)},lowercase:function(value){return String(value).toLowerCase()},
uppercase:function(value){return String(value).toUpperCase()},usMoney:function(value){return me.currency(value,'$',2)},currency:function(value,currencySign,decimals,end,currencySpacer){var negativeSign='',format=',0',i=0;value-=0;0>value&&(value=-value,negativeSign='-');decimals=Ext.isDefined(decimals)?decimals:me.currencyPrecision;for(format+=0<decimals?'.':'';i<decimals;i++)format+='0';value=me.number(value,format);null==currencySpacer&&(currencySpacer=me.currencySpacer);return!0===(end||me.currencyAtEnd)?
Ext.String.format('{0}{1}{2}{3}',negativeSign,value,currencySpacer,currencySign||me.currencySign):Ext.String.format('{0}{1}{2}{3}',negativeSign,currencySign||me.currencySign,currencySpacer,value)},date:function(value,format){if(!value)return'';Ext.isDate(value)||(value=new Date(Date.parse(value)));return Ext.Date.dateFormat(value,format||Ext.Date.defaultFormat)},dateRenderer:function(format){return function(v){return me.date(v,format)}},hex:function(value,digits){value=parseInt(value||0,10).toString(16);
if(digits)for(0>digits&&(digits=-digits,value.length>digits&&(value=value.substring(value.length-digits)));value.length<digits;)value='0'+value;return value},or:function(value,orValue){return value||orValue},pick:function(value,firstValue,secondValue){var ret;return Ext.isNumber(value)&&(ret=arguments[value+1])?ret:value?secondValue:firstValue},lessThanElse:function(value,threshold,below,above,equal){value=Ext.Number.from(value,0);threshold=Ext.Number.from(threshold,0);var missing=!Ext.isDefined(equal);
return value<threshold?below:value>threshold?above:missing?above:equal},sign:function(value,negative,positive,zero){void 0===zero&&(zero=positive);return me.lessThanElse(value,0,negative,positive,zero)},stripTags:function(value){return value?String(value).replace(me.stripTagsRe,''):value},stripScripts:function(value){return value?String(value).replace(me.stripScriptsRe,''):value},fileSize:function(){return function(size){return 1024>size?1===size?'1 byte':size+' bytes':1048576>size?Math.round(10*
size/1024)/10+' KB':1073741824>size?Math.round(10*size/1048576)/10+' MB':Math.round(10*size/1073741824)/10+' GB'}}(),math:function(){var fns={};return function(v,a){fns[a]||(fns[a]=Ext.functionFactory('v','return v '+a+';'));return fns[a](v)}}(),round:function(value,precision){var result=Number(value);'number'===typeof precision?(precision=Math.pow(10,precision),result=Math.round(value*precision)/precision):void 0===precision&&(result=Math.round(result));return result},number:function(v,formatString){if(!formatString)return v;
if(isNaN(v))return'';var formatFn=me.formatFns[formatString];if(!formatFn){formatFn=formatString;var comma=me.thousandSeparator,decimalSeparator=me.decimalSeparator,precision=0,trimPart='',trimTrailingZeroes;if('/i'===formatString.substr(formatString.length-2)){me.I18NFormatCleanRe&&me.lastDecimalSeparator===decimalSeparator||(me.I18NFormatCleanRe=new RegExp('[^\\d\\'+decimalSeparator+'#]','g'),me.lastDecimalSeparator=decimalSeparator);formatString=formatString.substr(0,formatString.length-2);comma=
-1!==formatString.indexOf(comma);var splitFormat=formatString.replace(me.I18NFormatCleanRe,'').split(decimalSeparator)}else comma=-1!==formatString.indexOf(','),splitFormat=formatString.replace(me.formatCleanRe,'').split('.');decimalSeparator=formatString.replace(me.formatPattern,'');!(2<splitFormat.length)&&2===splitFormat.length&&(precision=splitFormat[1].length,trimTrailingZeroes=splitFormat[1].match(me.hashRe))&&(trimPart=trimTrailingZeroes[0].length,trimPart='trailingZeroes\x3dnew RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+
trimPart+'}$")');formatString=['var utilFormat\x3dExt.util.Format,extNumber\x3dExt.Number,neg,absVal,fnum,parts'+(comma?',thousandSeparator,thousands\x3d[],j,n,i':'')+(decimalSeparator?',formatString\x3d"'+formatString+'",formatPattern\x3d/[\\d,\\.#]+/':'')+',trailingZeroes;return function(v){if(typeof v!\x3d\x3d"number"\x26\x26isNaN(v\x3dextNumber.from(v,NaN)))return"";neg\x3dv\x3c0;','absVal\x3dMath.abs(v);','fnum\x3dExt.Number.toFixed(absVal, '+precision+');',trimPart,';'];comma?(precision&&(formatString[formatString.length]=
'parts\x3dfnum.split(".");',formatString[formatString.length]='fnum\x3dparts[0];'),formatString[formatString.length]='if(absVal\x3e\x3d1000) {',formatString[formatString.length]='thousandSeparator\x3dutilFormat.thousandSeparator;thousands.length\x3d0;j\x3dfnum.length;n\x3dfnum.length%3||3;for(i\x3d0;i\x3cj;i+\x3dn){if(i!\x3d\x3d0){n\x3d3;}thousands[thousands.length]\x3dfnum.substr(i,n);}fnum\x3dthousands.join(thousandSeparator);}',precision&&(formatString[formatString.length]='fnum +\x3d utilFormat.decimalSeparator+parts[1];')):
precision&&(formatString[formatString.length]='if(utilFormat.decimalSeparator!\x3d\x3d"."){parts\x3dfnum.split(".");fnum\x3dparts[0]+utilFormat.decimalSeparator+parts[1];}');formatString[formatString.length]='if(neg\x26\x26fnum!\x3d\x3d"'+(precision?'0.'+Ext.String.repeat('0',precision):'0')+'") { fnum\x3d"-"+fnum; }';trimTrailingZeroes&&(formatString[formatString.length]='if(fnum.indexOf("e+") \x3d\x3d\x3d -1)fnum\x3dfnum.replace(trailingZeroes,"");');formatString[formatString.length]='return ';
formatString[formatString.length]=decimalSeparator?'formatString.replace(formatPattern, fnum);':'fnum;';formatString[formatString.length]='};';formatFn=me.formatFns[formatFn]=Ext.functionFactory('Ext',formatString.join(''))(Ext)}return formatFn(v)},numberRenderer:function(format){return function(v){return me.number(v,format)}},percent:function(value,formatString){return me.number(100*value,formatString||'0')+me.percentSign},repeat:function(value,text,sep){return Ext.String.repeat(text,value,sep)},
attributes:function(attributes){var name;if('object'===typeof attributes){var result=[];for(name in attributes)attributes.hasOwnProperty(name)&&result.push(name,'\x3d"','style'===name?Ext.DomHelper.generateStyles(attributes[name],null,!0):Ext.htmlEncode(attributes[name]),'" ');attributes=result.join('')}return attributes||''},plural:function(value,singular,plural){return value+' '+(1===value?singular:plural?plural:singular+'s')},nl2br:function(v){return Ext.isEmpty(v)?'':v.replace(me.nl2brRe,'\x3cbr/\x3e')},
capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(box){box=box||0;if('number'===typeof box)return{top:box,right:box,bottom:box,left:box};box=box.split(' ');var ln=box.length;1===ln?box[1]=box[2]=box[3]=box[0]:2===ln?(box[2]=box[0],box[3]=
box[1]):3===ln&&(box[3]=box[1]);return{top:parseInt(box[0],10)||0,right:parseInt(box[1],10)||0,bottom:parseInt(box[2],10)||0,left:parseInt(box[3],10)||0}},resource:function(url,prefix){return Ext.resolveResource((prefix||'')+url)},uri:function(value){return encodeURI(value)},uriCmp:function(value){return encodeURIComponent(value)},wordBreakRe:/[\W\s]+/,word:function(value,index,sep){return(value||'').split(sep?'string'===typeof sep?new RegExp(sep):sep:me.wordBreakRe)[index||0]||''}}},1,0,0,0,0,0,
[Ext.util,'Format'],0);
Ext.cmd.derive('Ext.Template',Ext.Base,{inheritableStatics:{from:function(el,config){el=Ext.getDom(el);return new this(el.value||el.innerHTML,config||'')}},useEval:Ext.isGecko,constructor:function(html){var args=arguments,buffer=[],length=args.length,i;this.initialConfig={};1===length&&Ext.isArray(html)&&(args=html,length=args.length);if(1<length)for(i=0;i<length;i++){var value=args[i];'object'===typeof value?(Ext.apply(this.initialConfig,value),Ext.apply(this,value)):buffer.push(value)}else buffer.push(html);this.html=
buffer.join('')},isTemplate:!0,disableFormats:!1,tokenRe:/\{(?:(?:(\d+)|([a-z_$][\w\-$]*))(?::([a-z_.]+)(?:\(([^)]*?)?\))?)?)\}/gi,apply:function(values){return this.compiled?(this.fn||this.compile(),this.fn(values).join('')):this.evaluate(values)},evaluate:function(values){var useFormat=!this.disableFormats,fm=Ext.util.Format,tpl=this;return this.html.replace(this.tokenRe,function(match,index,name,formatFn,args){if(null==name||''===name)name=index;return formatFn&&useFormat?(args=args?[values[name]].concat(Ext.functionFactory('return ['+
args+'];')()):[values[name]],'this.'===formatFn.substr(0,5)?tpl[formatFn.substr(5)].apply(tpl,args):fm[formatFn]?fm[formatFn].apply(fm,args):match):void 0!==values[name]?values[name]:''})},applyOut:function(values,out){this.compiled?(this.fn||this.compile(),out.push.apply(out,this.fn(values))):out.push(this.apply(values));return out},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(html,compile){this.html=html;this.compiled=!!compile;this.fn=null;return this},compileARe:/\\/g,
compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var code=this.html.replace(this.compileARe,'\\\\').replace(this.compileBRe,'\\n').replace(this.compileCRe,"\\'").replace(this.tokenRe,this.regexReplaceFn.bind(this));code=(!0!==this.disableFormats?'var fm\x3dExt.util.Format;':'')+(this.useEval?'$\x3d':'return')+" function(v){return ['"+code+"'];};";this.fn=this.useEval?this.evalCompiled(code):(new Function('Ext',code))(Ext);this.compiled=!0;return this},evalCompiled:function($){eval($);return $},
regexReplaceFn:function(match,index,name,formatFn,args){null==index||''===index?index='"'+name+'"':this.stringFormat&&(index=parseInt(index)+1);if(formatFn&&!0!==this.disableFormats){args=args?','+args:'';if('this.'===formatFn.substr(0,5))formatFn+='(';else if(Ext.util.Format[formatFn])formatFn='fm.'+formatFn+'(';else return match;return"',"+formatFn+'v['+index+']'+args+"),'"}return"',v["+index+"] \x3d\x3d undefined ? '' : v["+index+"],'"},insertFirst:function(el,values,returnElement){return this.doInsert('afterBegin',
el,values,returnElement)},insertBefore:function(el,values,returnElement){return this.doInsert('beforeBegin',el,values,returnElement)},insertAfter:function(el,values,returnElement){return this.doInsert('afterEnd',el,values,returnElement)},append:function(el,values,returnElement){return this.doInsert('beforeEnd',el,values,returnElement)},doInsert:function(where,el,values,returnElement){where=Ext.DomHelper.insertHtml(where,Ext.getDom(el),this.apply(values));return returnElement?Ext.get(where):where},
overwrite:function(el,values,returnElement){el=Ext.DomHelper.overwrite(Ext.getDom(el),this.apply(values));return returnElement?Ext.get(el):el}},1,0,0,0,0,0,[Ext,'Template'],function(Template){var formatRe=/\{\d+\}/,generateFormatFn=function(format){return formatRe.test(format)?(format=new Template(format,formatTplConfig),function(){return format.apply(arguments)}):function(){return format}},formatTplConfig={useFormat:!1,compiled:!0,stringFormat:!0},formatFns={};Ext.String.format=Ext.util.Format.format=
function(format){return(formatFns[format]||(formatFns[format]=generateFormatFn(format))).apply(this,arguments)};Ext.String.formatEncode=function(){return Ext.String.htmlEncode(Ext.String.format.apply(this,arguments))}});
Ext.cmd.derive('Ext.util.XTemplateParser',Ext.Base,{constructor:function(config){Ext.apply(this,config)},doTpl:Ext.emptyFn,parse:function(str){var len=str.length,aliases={elseif:'elif'},topRe=this.topRe,actionsRe=this.actionsRe,index,stack,t;this.level=0;this.stack=stack=[];for(index=0;index<len;index=end){topRe.lastIndex=index;var m=topRe.exec(str);if(!m){this.doText(str.substring(index,len));break}var begin=m.index;var end=topRe.lastIndex;index<begin&&(index=str.substring(index,begin),expectTplNext&&
''===Ext.String.trim(index)||this.doText(index));var expectTplNext=!1;if(m[1])end=str.indexOf('%}',begin+2),this.doEval(str.substring(begin+2,end)),end+=2;else if(m[2])end=str.indexOf(']}',begin+2),this.doExpr(str.substring(begin+2,end)),end+=2;else if(m[3])this.doTag(m[3]);else if(m[4]){for(begin=null;null!==(t=actionsRe.exec(m[4]));)if(index=t[2]||t[3]){index=Ext.String.htmlDecode(index);t=t[1];t=aliases[t]||t;begin=begin||{};var prev=begin[t];'string'===typeof prev?begin[t]=[prev,index]:prev?begin[t].push(index):
begin[t]=index}if(begin)if(begin['if'])this.doIf(begin['if'],begin),stack.push({type:'if'});else if(begin['switch'])this.doSwitch(begin['switch'],begin),stack.push({type:'switch'}),expectTplNext=!0;else if(begin['case'])this.doCase(begin['case'],begin);else if(begin.elif)this.doElseIf(begin.elif,begin);else if(begin['for']){++this.level;if(m=this.propRe.exec(m[4]))begin.propName=m[1]||m[2];this.doFor(begin['for'],begin);stack.push({type:'for',actions:begin})}else if(begin.foreach){++this.level;if(m=
this.propRe.exec(m[4]))begin.propName=m[1]||m[2];this.doForEach(begin.foreach,begin);stack.push({type:'foreach',actions:begin})}else begin.exec&&(this.doExec(begin.exec,begin),stack.push({type:'exec',actions:begin}));else this.elseRe.test(m[4])?this.doElse():this.defaultRe.test(m[4])?this.doDefault():(this.doTpl(),stack.push({type:'tpl'}))}else 5===m[0].length?stack.push({type:'tpl'}):(m=stack.pop(),this.doEnd(m.type,m.actions),'for'!==m.type&&'foreach'!==m.type||--this.level)}},topRe:/(?:(\{%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)>)|(?:<\/tpl>)/g,
actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/},1,0,0,0,0,0,[Ext.util,'XTemplateParser'],0);
Ext.cmd.derive('Ext.util.XTemplateCompiler',Ext.util.XTemplateParser,{useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d$]*$/,compile:function(tpl){tpl=this.generate(tpl);return this.useEval?this.evalTpl(tpl):(new Function('Ext',tpl))(Ext)},generate:function(tpl){this.maxLevel=0;this.body=['var c0\x3dvalues, a0\x3d'+this.createArrayTest(0)+', p0\x3dparent, n0\x3dxcount, i0\x3dxindex, k0, v;\n'];this.definitions?'string'===typeof this.definitions?this.definitions=[this.definitions,
'var fm\x3dExt.util.Format,ts\x3dObject.prototype.toString;']:this.definitions.push('var fm\x3dExt.util.Format,ts\x3dObject.prototype.toString;'):this.definitions=['var fm\x3dExt.util.Format,ts\x3dObject.prototype.toString;'];this.switches=[];this.parse(tpl);this.definitions.push((this.useEval?'$\x3d':'return')+' function ('+this.fnArgs+') {',this.body.join(''),'}');tpl=this.definitions.join('\n');this.definitions=this.body=this.switches=this.definitions.length=this.body.length=this.switches.length=
0;return tpl},doText:function(text){var out=this.body;text=text.replace(this.aposRe,"\\'").replace(this.newLineRe,'\\n');this.useIndex?out.push("out[out.length]\x3d'",text,"'\n"):out.push("out.push('",text,"')\n")},doExpr:function(expr){var out=this.body;out.push('if ((v\x3d'+expr+') !\x3d null) out');this.useIndex?out.push('[out.length]\x3dv\n'):out.push('.push(v)\n')},doTag:function(tag){var expr=this.parseTag(tag);expr?this.doExpr(expr):this.doText('{'+tag+'}')},doElse:function(){this.body.push('} else {\n')},
doEval:function(text){this.body.push(text,'\n')},doIf:function(action,actions){'.'===action?this.body.push('if (values) {\n'):this.propNameRe.test(action)?this.body.push('if (',this.parseTag(action),') {\n'):this.body.push('if (',this.addFn(action),this.callFn,') {\n');actions.exec&&this.doExec(actions.exec)},doElseIf:function(action,actions){'.'===action?this.body.push('else if (values) {\n'):this.propNameRe.test(action)?this.body.push('} else if (',this.parseTag(action),') {\n'):this.body.push('} else if (',
this.addFn(action),this.callFn,') {\n');actions.exec&&this.doExec(actions.exec)},doSwitch:function(action){'.'===action||'#'===action?this.body.push('switch (','.'===action?'values':'xindex',') {\n'):this.propNameRe.test(action)?this.body.push('switch (',this.parseTag(action),') {\n'):this.body.push('switch (',this.addFn(action),this.callFn,') {\n');this.switches.push(0)},doCase:function(action){action=Ext.isArray(action)?action:[action];var n=this.switches.length-1;this.switches[n]?this.body.push('break;\n'):
this.switches[n]++;var i=0;for(n=action.length;i<n;++i){var match=this.intRe.exec(action[i]);action[i]=match?match[1]:"'"+action[i].replace(this.aposRe,"\\'")+"'"}this.body.push('case ',action.join(': case '),':\n')},doDefault:function(){var n=this.switches.length-1;this.switches[n]?this.body.push('break;\n'):this.switches[n]++;this.body.push('default:\n')},doEnd:function(type,actions){var L=this.level-1;'for'===type||'foreach'===type?(actions.exec&&this.doExec(actions.exec),this.body.push('}\n'),
this.body.push('parent\x3dp',L,';values\x3dr',L+1,';xcount\x3dn'+L+';xindex\x3di',L,'+1;xkey\x3dk',L,';\n')):'if'!==type&&'switch'!==type||this.body.push('}\n')},doFor:function(action,actions){var L=this.level,up=L-1;var s='.'===action?'values':this.propNameRe.test(action)?this.parseTag(action):this.addFn(action)+this.callFn;this.maxLevel<L&&(this.maxLevel=L,this.body.push('var '));action='.'===action?'c'+L:'a'+up+'?c'+up+'[i'+up+']:c'+up;this.body.push('i',L,'\x3d0,n',L,'\x3d0,c',L,'\x3d',s,',a',
L,'\x3d',this.createArrayTest(L),',r',L,'\x3dvalues,p',L,',k',L,';\n','p',L,'\x3dparent\x3d',action,'\n','if (c',L,'){if(a',L,'){n',L,'\x3dc',L,'.length;}else if (c',L,'.isMixedCollection){c',L,'\x3dc',L,'.items;n',L,'\x3dc',L,'.length;}else if(c',L,'.isStore){c',L,'\x3dc',L,'.data.items;n',L,'\x3dc',L,'.length;}else{c',L,'\x3d[c',L,'];n',L,'\x3d1;}}\n','for (xcount\x3dn',L,';i',L,'\x3cn'+L+';++i',L,'){\n','values\x3dc',L,'[i',L,']');actions.propName&&this.body.push('.',actions.propName);this.body.push('\n',
'xindex\x3di',L,'+1\n');actions.between&&this.body.push('if(xindex\x3e1){ out.push("',actions.between,'"); } \n')},doForEach:function(action,actions){var L=this.level,up=L-1;var s='.'===action?'values':this.propNameRe.test(action)?this.parseTag(action):this.addFn(action)+this.callFn;this.maxLevel<L&&(this.maxLevel=L,this.body.push('var '));action='.'===action?'c'+L:'a'+up+'?c'+up+'[i'+up+']:c'+up;this.body.push('i',L,'\x3d-1,n',L,'\x3d0,c',L,'\x3d',s,',a',L,'\x3d',this.createArrayTest(L),',r',L,'\x3dvalues,p',
L,',k',L,';\n','p',L,'\x3dparent\x3d',action,'\n','for(k',L,' in c',L,'){\n','xindex\x3d++i',L,'+1;\n','xkey\x3dk',L,';\n','values\x3dc',L,'[k',L,'];');actions.propName&&this.body.push('.',actions.propName);actions.between&&this.body.push('if(xindex\x3e1){ out.push("',actions.between,'"); } \n')},createArrayTest:'isArray'in Array?function(L){return'Array.isArray(c'+L+')'}:function(L){return'ts.call(c'+L+')\x3d\x3d\x3d"[object Array]"'},doExec:function(action,actions){actions='f'+this.definitions.length;
var guards=this.guards[this.strict?0:1];this.definitions.push('function '+actions+'('+this.fnArgs+') {',guards.doTry,' var $v \x3d values; with($v) {','  '+action,' }',guards.doCatch,'}');this.body.push(actions+this.callFn+'\n')},guards:[{doTry:'',doCatch:''},{doTry:'try { ',doCatch:' } catch(e) {\n}'}],addFn:function(body){var name='f'+this.definitions.length,guards=this.guards[this.strict?0:1];'.'===body?this.definitions.push('function '+name+'('+this.fnArgs+') {',' return values','}'):'..'===body?
this.definitions.push('function '+name+'('+this.fnArgs+') {',' return parent','}'):this.definitions.push('function '+name+'('+this.fnArgs+') {',guards.doTry,' var $v \x3d values; with($v) {','  return('+body+')',' }',guards.doCatch,'}');return name},parseTag:function(tag){var m=this.tagRe.exec(tag);if(!m)return null;var name=m[1];tag=m[2];var args=m[3];m=m[4];'.'===name?(this.validTypes||(this.definitions.push('var validTypes\x3d{string:1,number:1,boolean:1};'),this.validTypes=!0),name='validTypes[typeof values] || ts.call(values) \x3d\x3d\x3d "[object Date]" ? values : ""'):
name='#'===name?'xindex':'$'===name?'xkey':'parent.'===name.substr(0,7)?name:isNaN(name)&&-1===name.indexOf('-')&&-1!==name.indexOf('.')?'values.'+name:"values['"+name+"']";m&&(name='('+name+m+')');if(tag&&this.useFormat)args=args?','+args:'',tag='this.'!==tag.substr(0,5)?'fm.'+tag+'(':tag+'(';else return name;return tag+name+args+')'},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.#\$]+)(?::([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},
0,0,0,0,0,0,[Ext.util,'XTemplateCompiler'],function(){var proto=this.prototype;proto.fnArgs='out,values,parent,xindex,xcount,xkey';proto.callFn='.call(this,'+proto.fnArgs+')'});
Ext.cmd.derive('Ext.XTemplate',Ext.Template,{isXTemplate:!0,emptyObj:{},fn:null,strict:!1,apply:function(values,parent,xindex,xcount){values=this.applyOut(values,[],parent,xindex,xcount);return 1===values.length?values[0]:values.join('')},applyOut:function(values,out,parent,xindex,xcount){if(!this.fn){var compiler=new Ext.util.XTemplateCompiler({useFormat:!0!==this.disableFormats,definitions:this.definitions,strict:this.strict});this.fn=compiler.compile(this.html)}xindex=xindex||1;xcount=xcount||
1;if(this.strict)this.fn(out,values,parent||this.emptyObj,xindex,xcount);else try{this.fn(out,values,parent||this.emptyObj,xindex,xcount)}catch(e){}return out},compile:function(){return this},statics:{get:function(config,source,defaultTpl){var ret=config;null==config?source&&defaultTpl&&(ret=this.getTpl(source,defaultTpl)):!config&&''!==config||config.isTemplate||(ret=new this(config));return ret},getTpl:function(instance,name){var tpl=instance[name];if(tpl&&(tpl.isTemplate||(tpl=Ext.XTemplate.get(tpl)),
!tpl.owner)){if(!instance.hasOwnProperty(name))for(instance=instance.self.prototype;instance&&!instance.hasOwnProperty(name);instance=instance.superclass);instance[name]=tpl;tpl.owner=instance}return tpl||null}}},0,0,0,0,0,0,[Ext,'XTemplate'],0);
Ext.cmd.derive('Ext.app.EventDomain',Ext.Base,{statics:{instances:{}},isEventDomain:!0,isInstance:!1,constructor:function(){this.isInstance||(Ext.app.EventDomain.instances[this.type]=this);this.bus={};this.monitoredClasses=[]},dispatch:function(target,ev,args){ev=Ext.canonicalEventName(ev);ev=this.bus[ev];var selector,id,i;if(!ev)return!0;for(selector in ev)if(ev.hasOwnProperty(selector)&&this.match(target,selector,this.controller)){var controllers=ev[selector];for(id in controllers)if(controllers.hasOwnProperty(id)){var info=
controllers[id];if(info.controller.isActive()){info=info.list;var len=info.length;for(i=0;i<len;i++){var event=info[i];if(!1===event.fire.apply(event,args))return!1}}}}return!0},listen:function(selectors,controller){var bus=this.bus,idProperty=this.idProperty,monitoredClasses=this.monitoredClasses,monitoredClassesCount=monitoredClasses.length,controllerId=controller.getId(),isComponentDomain='component'===this.type,refMap=isComponentDomain?controller.getRefMap():null,selector;for(selector in selectors){var listeners=
selectors[selector];isComponentDomain&&(selector=refMap[selector]||selector);if(listeners)for(ev in idProperty&&(selector='*'===selector?selector:selector.substring(1)),listeners){var i=null;var listener=listeners[ev];var scope=controller;var ev=Ext.canonicalEventName(ev);var event=new Ext.util.Event(controller,ev);Ext.isObject(listener)&&(i=listener,listener=i.fn,scope=i.scope||controller,delete i.fn,delete i.scope);'string'===typeof listener&&(listener=scope[listener]);event.addListener(listener,
scope,i);for(i=0;i<monitoredClassesCount;++i)(listener=monitoredClasses[i].hasListeners)&&listener._incr_(ev);i=bus[ev]||(bus[ev]={});i=i[selector]||(i[selector]={});i=i[controllerId]||(i[controllerId]={controller,list:[]});i.list.push(event)}}},match:function(target,selector){var idProperty=this.idProperty;return idProperty?'*'===selector||target[idProperty]===selector:!1},monitor:function(observable){var domain=this,prototype=observable.isInstance?observable:observable.prototype,doFireEvent=prototype.doFireEvent;
domain.monitoredClasses.push(observable);prototype.doFireEvent=function(ev,args){var ret=doFireEvent.apply(this,arguments);!1===ret||this.destroyed||this.isSuspended(ev)||(ret=domain.dispatch(this,ev,args));return ret}},unlisten:function(controllerId){var bus=this.bus,id=controllerId,monitoredClasses=this.monitoredClasses,monitoredClassesCount=monitoredClasses.length,events,len,selector,selectors,j,classHasListeners;controllerId.isController&&(id=controllerId.getId());for(ev in bus){var ev=Ext.canonicalEventName(ev);
if(bus.hasOwnProperty(ev)&&(selectors=bus[ev]))for(selector in selectors)if(controllerId=selectors[selector],events=controllerId[id])if(events=events.list){var i=0;for(len=events.length;i<len;++i){var item=events[i];item.clearListeners();for(j=0;j<monitoredClassesCount;++j)(classHasListeners=monitoredClasses[j].hasListeners)&&classHasListeners._decr_(item.name)}delete controllerId[id]}}},destroy:function(){this.monitoredClasses=this.bus=null;this.callParent()}},1,0,0,0,0,0,[Ext.app,'EventDomain'],
0);
Ext.cmd.derive('Ext.app.domain.Component',Ext.app.EventDomain,{singleton:!0,type:'component',constructor:function(){this.callParent();this.monitor(Ext.Widget)},dispatch:function(target,ev,args){for(var controller=target.lookupController(!1),domain;controller;){if((domain=controller.compDomain)&&!1===domain.dispatch(target,ev,args))return!1;controller=(controller=controller.getView())?controller.lookupController(!0):null}return this.callParent([target,ev,args])},match:function(target,selector){return target.is(selector)}},1,
0,0,0,0,0,[Ext.app.domain,'Component'],0);
Ext.cmd.derive('Ext.util.ProtoElement',Ext.Base,function(){var splitWords=Ext.String.splitWords,toMap=Ext.Array.toMap;return{isProtoEl:!0,clsProp:'cls',styleProp:'style',removedProp:'removed',styleIsText:!1,constructor:function(config){if(config){Ext.apply(this,config);var cls=this.cls;var style=this.style;delete this.cls}this.classList=cls?splitWords(cls):[];this.classMap=cls?toMap(this.classList):{};style&&('string'===typeof style?this.style=Ext.Element.parseStyles(style):Ext.isFunction(style)?
(this.styleFn=style,delete this.style):this.style=Ext.apply({},style))},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(cls){if(!cls)return this;cls='string'===typeof cls?splitWords(cls):cls;for(var length=cls.length,list=this.classList,map=this.classMap,flushList=this.flushClassList,i=0,c;i<length;++i)c=cls[i],map[c]||(map[c]=!0,list.push(c),flushList&&(flushList.push(c),delete this.removedClasses[c]));return this},hasCls:function(cls){return cls in
this.classMap},removeCls:function(cls){var list=this.classList,newList=this.classList=[];cls=toMap(splitWords(cls));var length=list.length,map=this.classMap,removedClasses=this.removedClasses,i;for(i=0;i<length;++i){var c=list[i];cls[c]?(removedClasses&&map[c]&&(removedClasses[c]=!0,Ext.Array.remove(this.flushClassList,c)),delete map[c]):newList.push(c)}return this},setStyle:function(prop,value){var style=this.style||(this.style={});'string'===typeof prop?1===arguments.length?this.setStyle(Ext.Element.parseStyles(prop)):
style[prop]=value:Ext.apply(style,prop);return this},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(to){var classList=this.flushClassList||this.classList,removedClasses=this.removedClasses;if(this.styleFn){var style=Ext.apply({},this.styleFn());Ext.apply(style,this.style)}else style=this.style;to[this.clsProp]=classList.join(' ');style&&(to[this.styleProp]=this.styleIsText?Ext.DomHelper.generateStyles(style,null,!0):style);
removedClasses&&(removedClasses=Ext.Object.getKeys(removedClasses),removedClasses.length&&(to[this.removedProp]=removedClasses.join(' ')));this.unselectableAttr&&(to.unselectable='on');return to}}},1,0,0,0,0,0,[Ext.util,'ProtoElement'],0);
Ext.cmd.derive('Ext.dom.CompositeElement',Ext.dom.CompositeElementLite,{alternateClassName:'Ext.CompositeElement',isLite:!1,getElement:function(el){return el},transformElement:function(el){return Ext.get(el)}},0,0,0,0,0,0,[Ext.dom,'CompositeElement',Ext,'CompositeElement'],0);
Ext.cmd.derive('Ext.plugin.Manager',Ext.Base,{singleton:!0,alternateClassName:['Ext.PluginManager','Ext.PluginMgr'],typeName:'ptype',create:function(config,defaultType,host){config.init||(host?(config=Ext.apply({},config),config.cmp=host):host=config.cmp,config.xclass?config=Ext.create(config):(defaultType='plugin.'+(config.ptype||defaultType),config=Ext.ClassManager.instantiateByAlias(defaultType,config)));config&&host&&config.setCmp&&!config.setCmpCalled&&(config.setCmp(host),config.setCmpCalled=
!0);return config}},0,0,0,0,0,0,[Ext.plugin,'Manager',Ext,'PluginManager',Ext,'PluginMgr'],0);
Ext.cmd.derive('Ext.util.CSS',Ext.Base,function(){var CSS,rules=null,doc=document,camelRe=/(-[a-z])/gi,camelFn=function(m,a){return a.charAt(1).toUpperCase()};return{singleton:!0,rules,initialized:!1,constructor:function(){CSS=this},createStyleSheet:function(cssText,id){var head=doc.getElementsByTagName('head')[0],styleEl=doc.createElement('style');styleEl.setAttribute('type','text/css');id&&styleEl.setAttribute('id',id);(id=styleEl.styleSheet)?(head.appendChild(styleEl),id.cssText=cssText):(styleEl.appendChild(doc.createTextNode(cssText)),
head.appendChild(styleEl),id=styleEl.sheet);CSS.cacheStyleSheet(id);return id},removeStyleSheet:function(stylesheet){(stylesheet='string'===typeof stylesheet?doc.getElementById(stylesheet):stylesheet.ownerNode)&&stylesheet.parentNode.removeChild(stylesheet)},swapStyleSheet:function(id,url){CSS.removeStyleSheet(id);var ss=doc.createElement('link');ss.setAttribute('rel','stylesheet');ss.setAttribute('type','text/css');ss.setAttribute('id',id);ss.setAttribute('href',url);doc.getElementsByTagName('head')[0].appendChild(ss)},
cacheStyleSheet:function(ss){rules||(rules=CSS.rules={});try{var ssRules=ss.cssRules||ss.rules,i=ssRules.length-1,imports=ss.imports,len=imports?imports.length:0,j;for(j=0;j<len;++j)CSS.cacheStyleSheet(imports[j]);for(;0<=i;--i){var rule=ssRules[i];rule.styleSheet&&CSS.cacheStyleSheet(rule.styleSheet);CSS.cacheRule(rule,ss)}}catch(e){}},cacheRule:function(cssRule,styleSheet){var selectorText,j;if(cssRule.styleSheet)return CSS.cacheStyleSheet(cssRule.styleSheet);if(selectorText=cssRule.selectorText){selectorText=
selectorText.split(',');var selectorCount=selectorText.length;for(j=0;j<selectorCount;j++)rules[Ext.String.trim(selectorText[j]).toLowerCase()]={parentStyleSheet:styleSheet,cssRule}}},getRules:function(refreshCache){var result={},selector;(null===rules||refreshCache)&&CSS.refreshCache();for(selector in rules)result[selector]=rules[selector].cssRule;return result},refreshCache:function(){var ds=doc.styleSheets,i=0,len=ds.length;for(rules=CSS.rules={};i<len;i++)try{ds[i].disabled||CSS.cacheStyleSheet(ds[i])}catch(e){}},
getRule:function(selector,refreshCache,rawCache){rules&&!refreshCache||CSS.refreshCache();if(!Ext.isArray(selector))return(selector=rules[selector.toLowerCase()])&&!rawCache&&(selector=selector.cssRule),selector||null;for(refreshCache=0;refreshCache<selector.length;refreshCache++)if(rules[selector[refreshCache]])return rawCache?rules[selector[refreshCache].toLowerCase()]:rules[selector[refreshCache].toLowerCase()].cssRule;return null},createRule:function(styleSheet,selector,cssText){var ruleSet=styleSheet.cssRules||
styleSheet.rules,index=ruleSet.length;styleSheet.insertRule?styleSheet.insertRule(selector+' {'+cssText+'}',index):styleSheet.addRule(selector,cssText||' ');CSS.cacheRule(selector=ruleSet[index],styleSheet);return selector},updateRule:function(selector,property,value){var rule;if(Ext.isArray(selector))for(rule=0;rule<selector.length;rule++){if(CSS.updateRule(selector[rule],property,value))return!0}else if(rule=CSS.getRule(selector)){if(2===arguments.length){var styles=Ext.Element.parseStyles(property);
for(property in styles)rule.style[property.replace(camelRe,camelFn)]=styles[property]}else rule.style[property.replace(camelRe,camelFn)]=value;return!0}return!1},deleteRule:function(selector){var rule=CSS.getRule(selector,!1,!0);if(rule){var styleSheet=rule.parentStyleSheet;rule=Ext.Array.indexOf(styleSheet.cssRules||styleSheet.rules,rule.cssRule);styleSheet.deleteRule?styleSheet.deleteRule(rule):styleSheet.removeRule(rule);delete rules[selector]}}}},1,0,0,0,0,0,[Ext.util,'CSS'],0);
Ext.cmd.derive('Ext.fx.easing.Abstract',Ext.Base,{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(config){this.initConfig(config);return this},applyStartTime:function(startTime){startTime||(startTime=Ext.Date.now());return startTime},updateStartTime:function(startTime){this.reset()},reset:function(){this.isEnded=!1},getValue:Ext.emptyFn},1,0,0,0,0,0,[Ext.fx.easing,'Abstract'],0);
Ext.cmd.derive('Ext.fx.easing.Linear',Ext.fx.easing.Abstract,{config:{duration:0,endValue:0},updateStartValue:function(startValue){this.distance=this.getEndValue()-startValue},updateEndValue:function(endValue){this.distance=endValue-this.getStartValue()},getValue:function(){var deltaTime=Ext.Date.now()-this.getStartTime(),duration=this.getDuration();return deltaTime>duration?(this.isEnded=!0,this.getEndValue()):this.getStartValue()+deltaTime/duration*this.distance}},0,0,0,0,['easing.linear'],0,[Ext.fx.easing,
'Linear'],0);
Ext.cmd.derive('Ext.util.translatable.Abstract',Ext.Evented,{factoryConfig:{type:'translatable',defaultType:'csstransform'},config:{easing:null,easingX:{duration:300},easingY:{duration:300},offsetX:0,offsetY:0},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:!1,isTranslatable:!0,constructor:function(config){Ext.Evented.prototype.constructor.call(this,config);this.position={x:0,y:0}},factoryEasing:function(easing){return Ext.factory(easing,Ext.fx.easing.Linear,null,'easing')},applyEasing:function(easing){this.getEasingX()||
this.setEasingX(this.factoryEasing(easing));this.getEasingY()||this.setEasingY(this.factoryEasing(easing))},applyEasingX:function(easing){return this.factoryEasing(easing)},applyEasingY:function(easing){return this.factoryEasing(easing)},updateOffsetX:function(){this.isConfiguring||this.isAnimating||this.translateXY(this.x,this.y)},updateOffsetY:function(){this.isConfiguring||this.isAnimating||this.translateXY(this.x,this.y)},translate:function(x,y,animation){if(animation)return this.translateAnimated(x,
y,animation);this.isAnimating&&this.stopAnimation();isNaN(x)||'number'!==typeof x?x=this.x:this.x=x;isNaN(y)||'number'!==typeof y?y=this.y:this.y=y;this.translateXY(x,y)},translateXY:function(x,y){this.destroyed||(this.doTranslate(x+this.getOffsetX(),y+this.getOffsetY()),this.hasListeners.translate&&this.fireEvent('translate',this,x,y))},translateAxis:function(axis,value,animation){var x,y;'x'===axis?x=value:y=value;return this.translate(x,y,animation)},getPosition:function(){var position=this.position;
position.x=-this.x;position.y=-this.y;return position},animate:function(easingX,easingY){this.activeEasingX=easingX;this.activeEasingY=easingY;this.isAnimating=!0;this.ownerCmp&&(this.ownerCmp.isTranslating=!0);this.lastY=this.lastX=null;Ext.AnimationQueue.start(this.doAnimationFrame,this);this.fireEvent('animationstart',this,this.x,this.y);return this},translateAnimated:function(x,y,animation){Ext.isObject(animation)||(animation={});this.isAnimating&&this.stopAnimation();this.callback=animation.callback;
this.callbackScope=animation.scope;var now=Ext.Date.now();var easing=animation.easing;var easingX='number'===typeof x?animation.easingX||easing||this.getEasingX()||!0:null;easing='number'===typeof y?animation.easingY||easing||this.getEasingY()||!0:null;easingX&&(easingX=this.factoryEasing(easingX),easingX.setStartTime(now),easingX.setStartValue(this.x),easingX.setEndValue(x),'duration'in animation&&easingX.setDuration(animation.duration));easing&&(easing=this.factoryEasing(easing),easing.setStartTime(now),
easing.setStartValue(this.y),easing.setEndValue(y),'duration'in animation&&easing.setDuration(animation.duration));return this.animate(easingX,easing)},doAnimationFrame:function(){var easingX=this.activeEasingX,easingY=this.activeEasingY,now=Date.now();if(this.isAnimating)if(this.lastRun=now,null===easingX&&null===easingY)this.stopAnimation();else{null!==easingX?(this.x=now=Math.round(easingX.getValue()),easingX.isEnded&&(this.activeEasingX=null,this.fireEvent('axisanimationend',this,'x',now))):now=
this.x;null!==easingY?(this.y=easingX=Math.round(easingY.getValue()),easingY.isEnded&&(this.activeEasingY=null,this.fireEvent('axisanimationend',this,'y',easingX))):easingX=this.y;if(this.lastX!==now||this.lastY!==easingX)this.translateXY(now,easingX),this.lastX=now,this.lastY=easingX;this.fireEvent('animationframe',this,now,easingX)}},stopAnimation:function(){this.isAnimating&&(this.activeEasingY=this.activeEasingX=null,this.isAnimating=!1,this.ownerCmp&&(this.ownerCmp.isTranslating=!1),Ext.AnimationQueue.stop(this.doAnimationFrame,
this),this.fireEvent('animationend',this,this.x,this.y),this.callback&&(this.callback.call(this.callbackScope),this.callback=null))},refresh:function(){this.translate(this.x,this.y)},resolveListenerScope:function(){var ownerCmp=this.ownerCmp,a=arguments;return ownerCmp?ownerCmp.resolveListenerScope.apply(ownerCmp,a):Ext.Evented.prototype.resolveListenerScope.apply(this,a)},destroy:function(){this.destroying=!0;this.isAnimating&&this.stopAnimation();Ext.Evented.prototype.destroy.call(this);this.destroyed=
!0}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.util.translatable,'Abstract'],0);
Ext.cmd.derive('Ext.util.translatable.Dom',Ext.util.translatable.Abstract,{config:{element:null},applyElement:function(element){if(element)return Ext.get(element)},updateElement:function(){this.refresh()},translateXY:function(x,y){var element=this.getElement();element&&!element.destroyed&&Ext.util.translatable.Abstract.prototype.translateXY.call(this,x,y)}},0,0,0,0,['translatable.dom'],0,[Ext.util.translatable,'Dom'],0);
Ext.cmd.derive('Ext.util.translatable.ScrollPosition',Ext.util.translatable.Dom,{constructor:function(config){config&&config.element&&(this.x=config.element.getScrollLeft(),this.y=config.element.getScrollTop());Ext.util.translatable.Dom.prototype.constructor.call(this,config)},translateAnimated:function(){var element=this.getElement();this.x=element.getScrollLeft();this.y=element.getScrollTop();Ext.util.translatable.Dom.prototype.translateAnimated.apply(this,arguments)},doTranslate:function(x,y){var element=
this.getElement();element.setScrollLeft(Math.round(x));element.setScrollTop(Math.round(y))},getPosition:function(){var position=this.position,element=this.getElement();position.x=element.getScrollLeft();position.y=element.getScrollTop();return position}},1,0,0,0,['translatable.scrollposition'],0,[Ext.util.translatable,'ScrollPosition'],0);
Ext.cmd.derive('Ext.scroll.Scroller',Ext.Evented,{alternateClassName:'Ext.scroll.NativeScroller',factoryConfig:{defaultType:'scroller'},bufferableMethods:{onDomScrollEnd:100},isScroller:!0,config:{direction:void 0,element:void 0,scrollbars:null,snapSelector:null,snapOffset:null,msSnapInterval:null,x:!0,y:!0,scrollElement:null,size:null,spacerXY:null,touchAction:null},snappableCls:'x-scroller-snappable',elementCls:'x-scroller',spacerCls:'x-scroller-spacer',noScrollbarsCls:'x-no-scrollbars',statics:{create:function(config,
type){return Ext.Factory.scroller(config,type)},getScrollingElement:function(){var doc=document,standard=this.$standardScrollElement,el=doc.scrollingElement;if(el)return el;void 0===standard&&(el=document.createElement('iframe'),el.style.height='1px',document.body.appendChild(el),standard=el.contentWindow.document,standard.write('\x3c!DOCTYPE html\x3e\x3cdiv style\x3d"height:9999em"\x3ex\x3c/div\x3e'),standard.close(),standard=standard.documentElement.scrollHeight>standard.body.scrollHeight,el.parentNode.removeChild(el),
this.$standardScrollElement=standard);return standard?doc.documentElement:doc.body},initViewportScroller:function(){var scroller=Ext.getViewportScroller();scroller.getElement()||scroller.setElement(Ext.getBody())}},constructor:function(config){this.position={x:0,y:0};Ext.Evented.prototype.constructor.call(this,config)},destroy:function(){var partners=this._partners,key;Ext.undefer(this.restoreTimer);this.setX(Ext.emptyString);this.setY(Ext.emptyString);this._spacer&&this._spacer.destroy();this.scrollListener&&
this.scrollListener.destroy();if(partners)for(key in partners)this.removePartner(partners[key].scroller);this.setElement(null);this._partners=this.component=null;this.translatable&&(this.translatable.destroy(),this.translatable=null);this.removeSnapStylesheet();Ext.Evented.prototype.destroy.call(this)},addPartner:function(partner,axis){var partners=this._partners||(this._partners={}),otherPartners=partner._partners||(partner._partners={});axis=this.axisConfigs[axis||'both'];partners[partner.getId()]=
{scroller:partner,axes:axis};otherPartners[this.getId()]={scroller:this,axes:axis}},applyElement:function(element,oldElement){oldElement&&this.scrollListener&&this.scrollListener.destroy();element&&(element=Ext.get(element));return element},applySize:function(size,oldSize){var y;if(null===size||'number'===typeof size)var x=y=size;else size&&(x=size.x,y=size.y);null===x?x=0:void 0===x&&(x=oldSize?oldSize.x:0);null===y?y=0:void 0===y&&(y=oldSize?oldSize.y:0);if(!oldSize||x!==oldSize.x||y!==oldSize.y)return{x,
y}},getClientSize:function(){var dom=this.getElement().dom;return{x:dom.clientWidth,y:dom.clientHeight}},getScrollbarSize:function(){var width=0,height=0,element=this.getElement(),hasXScroll,hasYScroll;if(element&&!element.destroyed){var x=this.getX();var y=this.getY();element=element.dom;if(x||y)var scrollbarSize=Ext.scrollbar.size();'scroll'===x?hasXScroll=!0:x&&(hasXScroll=element.scrollWidth>element.clientWidth);'scroll'===y?hasYScroll=!0:y&&(hasYScroll=element.scrollHeight>element.clientHeight);
hasXScroll&&(height=scrollbarSize.height);hasYScroll&&(width=scrollbarSize.width)}return{width,height}},getPosition:function(){this.positionDirty&&this.updateDomScrollPosition();return this.position},getSize:function(){var element=this.getElement();element&&!element.destroyed?(element=element.dom,element={x:element.scrollWidth,y:element.scrollHeight}):element={x:0,y:0};return element},getMaxPosition:function(){var element=this.getElement(),x=0,y=0;element&&!element.destroyed&&(element=element.dom,
x=element.scrollWidth-element.clientWidth,y=element.scrollHeight-element.clientHeight);return{x,y}},getMaxUserPosition:function(){var element=this.getElement(),x=0,y=0;element&&!element.destroyed&&(element=element.dom,this.getX()&&(x=element.scrollWidth-element.clientWidth),this.getY()&&(y=element.scrollHeight-element.clientHeight));return{x,y}},refresh:function(){this.positionDirty=!0;this.fireEvent('refresh',this);return this},removePartner:function(partner){var partners=this._partners,otherPartners=
partner._partners;partners&&delete partners[partner.getId()];otherPartners&&delete otherPartners[this.getId()]},scrollBy:function(deltaX,deltaY,animate){var position=this.getPosition();deltaX&&(deltaX.length?(animate=deltaY,deltaY=deltaX[1],deltaX=deltaX[0]):'number'!==typeof deltaX&&(animate=deltaY,deltaY=deltaX.y,deltaX=deltaX.x));deltaX='number'===typeof deltaX?deltaX+position.x:null;deltaY='number'===typeof deltaY?deltaY+position.y:null;return this.doScrollTo(deltaX,deltaY,animate)},ensureVisible:function(el,
options){var position=this.getPosition();if(el){el&&el.element&&!el.isElement&&(options=el,el=options.element);options=options||{};var highlight=options.highlight;var newPosition=this.getEnsureVisibleXY(el,options);if(newPosition.y!==position.y||newPosition.x!==position.x){if(highlight)this.on({scrollend:'doHighlight',scope:this,single:!0,args:[el,highlight]});el=this.doScrollTo(newPosition.x,newPosition.y,options.animation)}else highlight&&this.doHighlight(el,highlight),el=Ext.Deferred.getCachedResolved()}else el=
Ext.Deferred.getCachedRejected();return el},scrollIntoView:function(el,hscroll,animate,highlight){return this.ensureVisible(el,{animation:animate,highlight,x:hscroll})},isInView:function(el){return this.doIsInView(el)},scrollTo:function(x,y,animation){x&&(x.length?(animation=y,y=x[1],x=x[0]):'number'!==typeof x&&(animation=y,y=x.y,x=x.x));if(0>x||0>y){var maxPosition=this.getMaxPosition();0>x&&(x+=maxPosition.x);0>y&&(y+=maxPosition.y)}return this.doScrollTo(x,y,animation)},updateDirection:function(direction){var x;
if(direction){if('auto'===direction)var y=x=!0;else'vertical'===direction?(x=!1,y=!0):'horizontal'===direction?(x=!0,y=!1):'both'===direction&&(y=x='scroll');this.setX(x);this.setY(y)}else x=this.getX(),y=this.getY(),x&&y?direction='scroll'===y&&'scroll'===x?'both':'auto':y?direction='vertical':x&&(direction='horizontal'),this._direction=direction},updateScrollbars:function(scrollbars,oldScrollbars){this.syncScrollbarCls()},updateSize:function(size){var element=this.getElement(),x=size.x;size=size.y;
element&&(this.positionDirty=!0,element=this.getSpacer(),x||size?(0<x&&--x,0<size&&--size,this.setSpacerXY({x,y:size}),element.show()):element.hide())},updateMsSnapInterval:function(){this.initMsSnapInterval()},updateSnapSelector:function(){this.initSnap()},updateSnapOffset:function(){this.initSnap()},updateTouchAction:function(touchAction){var element=this.getElement();element&&element.setTouchAction(touchAction)},updateElement:function(element,oldElement){var touchAction=this.getTouchAction(),scrollListener=
this.scrollListener,elementCls=this.elementCls;scrollListener&&(scrollListener.destroy(),this.scrollListener=null,this.setScrollElement(null));oldElement&&!oldElement.destroyed&&(oldElement.setStyle('overflow','hidden'),oldElement.removeCls(elementCls));element&&(element.dom===document.documentElement||element.dom===document.body?(oldElement=Ext.getDoc(),scrollListener=Ext.scroll.Scroller.getScrollingElement()):scrollListener=oldElement=element,this.setScrollElement(Ext.get(scrollListener)),this.scrollListener=
oldElement.on({scroll:this.onDomScroll,scope:this,destroyable:!0}),touchAction&&element.setTouchAction(touchAction),this.initXStyle(),this.initYStyle(),element.addCls(elementCls),this.initSnap(),this.initMsSnapInterval(),this.syncScrollbarCls())},updateX:function(x){this.initXStyle()},updateY:function(y){this.initYStyle()},deprecated:{5:{methods:{getScroller:function(){return this}}},'5.1.0':{methods:{scrollToTop:function(animate){return this.scrollTo(0,0,animate)},scrollToEnd:function(animate){return this.scrollTo(Infinity,
Infinity,animate)}}}},privates:{axisConfigs:{x:{x:!0},y:{y:!0},both:{x:!0,y:!0}},getEnsureVisibleXY:function(el,options){var position=this.getPosition(),viewport=this.component?this.component.getScrollableClientRegion():this.getElement(),align;el&&el.element&&!el.isElement&&(options=el,el=options.element);options=options||{};if(align=options.align)Ext.isString(align)?align={x:!1===options.x?null:align,y:!1===options.y?null:align}:Ext.isObject(align)&&(align.x&&!1===options.x&&(align.x=null),align.y&&
!1===options.y&&(align.y=null));el=Ext.fly(el).getScrollIntoViewXY(viewport,position.x,position.y,align);el.x=!1===options.x?position.x:el.x;el.y=!1===options.y?position.y:el.y;return el},getSpacer:function(){var spacer=this._spacer;if(!spacer){var element=this.getElement();spacer=this._spacer=element.createChild({cls:this.spacerCls,role:'presentation'},element.dom.firstChild);spacer.setVisibilityMode(2);spacer.hide();element.position()}return spacer},applySpacerXY:function(pos,oldPos){oldPos&&pos.x===
oldPos.x&&pos.y===oldPos.y&&(pos=void 0);return pos},updateSpacerXY:function(pos){var sStyle=this.getSpacer().dom.style,scrollHeight=pos.y;sStyle.marginTop='';this.translateSpacer(pos.x,this.constrainScrollRange(scrollHeight));sStyle.lineHeight=Number(!parseInt(sStyle.lineHeight,10))+'px';1E6<scrollHeight&&(pos=scrollHeight-this.getElement().dom.scrollHeight,0<pos&&(sStyle.marginTop=Math.min(pos,this.maxSpacerMargin||0)+'px'))},translateSpacer:function(x,y){this.getSpacer().translate(x,y)},doIsInView:function(el,
skipCheck){var c=this.component,result={x:!1,y:!1},myEl=this.getElement();el&&(skipCheck||myEl.contains(el)||c&&c.owns(el))&&(skipCheck=myEl.getRegion(),el=Ext.fly(el).getRegion(),result.x=el.right>skipCheck.left&&el.left<skipCheck.right,result.y=el.bottom>skipCheck.top&&el.top<skipCheck.bottom);return result},contains:function(component){for(var el=this.getElement();component&&component!==Ext.Viewport;){if(el.contains(component.el))return!0;component=component.getRefOwner()}return!1},constrainScrollRange:function(scrollRange){var maxScrollHeight;
if(1E6>scrollRange)return scrollRange;if(!this.maxSpacerTranslate){var tooHigh=maxScrollHeight=Math.pow(2,32);var tooLow=500;var scrollTest=Ext.getBody().createChild({style:{position:'absolute',left:'-10000px',top:'0',width:'500px',height:'500px'},cn:{cls:this.spacerCls}},null,!0);var stretcher=Ext.get(scrollTest.firstChild);var sStyle=stretcher.dom.style;stretcher.translate(0,maxScrollHeight-1);for(sStyle.lineHeight=Number(!parseInt(sStyle.lineHeight,10))+'px';tooHigh!==tooLow+1;)stretcher.translate(0,
maxScrollHeight=tooLow+Math.floor((tooHigh-tooLow)/2)),sStyle.lineHeight=Number(!parseInt(sStyle.lineHeight,10))+'px',scrollTest.scrollHeight<maxScrollHeight?tooHigh=maxScrollHeight:tooLow=maxScrollHeight;stretcher.translate(0,Ext.scroll.Scroller.prototype.maxSpacerTranslate=tooLow);for(tooHigh=2*tooLow;tooHigh!==tooLow+1;)stretcher.dom.style.marginTop=(maxScrollHeight=tooLow+Math.floor((tooHigh-tooLow)/2))+'px',sStyle.lineHeight=Number(!parseInt(sStyle.lineHeight,10))+'px',scrollTest.scrollHeight<
maxScrollHeight?tooHigh=maxScrollHeight:tooLow=maxScrollHeight;Ext.fly(scrollTest).destroy();Ext.scroll.Scroller.prototype.maxSpacerMargin=tooLow-Ext.scroll.Scroller.prototype.maxSpacerTranslate}return Math.min(scrollRange,this.maxSpacerTranslate)},convertX:function(x){return x},doHighlight:function(el,highlight){!0!==highlight?Ext.fly(el).highlight(highlight):Ext.fly(el).highlight()},doScrollTo:function(x,y,animate){var me=this,element=me.getScrollElement();if(element&&!element.destroyed){var dom=
element.dom;var xInf=Infinity===x;var yInf=Infinity===y;if(xInf||yInf){var maxPosition=me.getMaxPosition();xInf&&(x=maxPosition.x);yInf&&(y=maxPosition.y)}null!==x&&(x=me.convertX(x));if(animate){maxPosition=me.translatable;maxPosition||(me.translatable=maxPosition=new Ext.util.translatable.ScrollPosition({element}));var deferred=new Ext.Deferred;maxPosition.on('animationend',function(){me.destroyed?deferred.reject():deferred.resolve()},Ext.global,{single:!0,onFrame:!0});maxPosition.translate(x,y,
animate);x=deferred.promise}else null!=y&&(dom.scrollTop=y),null!=x&&(dom.scrollLeft=x),x=Ext.Deferred.getCachedResolved();me.positionDirty=!0}else x=Ext.Deferred.getCachedRejected();return x},fireScrollStart:function(x,y,xDelta,yDelta){var component=this.component;this.invokePartners('onPartnerScrollStart',x,y,xDelta,yDelta);this.startX=x-xDelta;this.startY=y-yDelta;this.hasListeners.scrollstart&&this.fireEvent('scrollstart',this,x,y);if(component&&component.onScrollStart)component.onScrollStart(x,
y);Ext.GlobalEvents.fireEvent('scrollstart',this,x,y)},fireScroll:function(x,y,xDelta,yDelta){var component=this.component;this.invokePartners('onPartnerScroll',x,y,xDelta,yDelta);this.hasListeners.scroll&&this.fireEvent('scroll',this,x,y,xDelta,yDelta);if(component&&component.onScrollMove)component.onScrollMove(x,y);Ext.GlobalEvents.fireEvent('scroll',this,x,y,xDelta,yDelta)},fireScrollEnd:function(x,y,xDelta,yDelta){var component=this.component,dx=x-this.startX,dy=y-this.startY;this.startX=this.startY=
null;this.invokePartners('onPartnerScrollEnd',x,y,xDelta,yDelta);this.hasListeners.scrollend&&this.fireEvent('scrollend',this,x,y,dx,dy);if(component&&component.onScrollEnd)component.onScrollEnd(x,y);Ext.GlobalEvents.fireEvent('scrollend',this,x,y,dx,dy)},getElementScroll:function(element){return element.getScroll()},initSnap:function(){var snapOffset=this.getSnapOffset(),snapSelector=this.getSnapSelector(),element=this.getElement();if(element&&snapSelector){element.addCls(this.snappableCls);this.removeSnapStylesheet();
if(snapOffset){var offsetX=snapOffset.x||0;var offsetY=snapOffset.y||0;offsetX&&(offsetX=-offsetX+'px');offsetY&&(offsetY=-offsetY+'px')}snapOffset=offsetX+' '+offsetY+';';this.snapStylesheet=Ext.util.CSS.createStyleSheet('#'+element.id+' '+snapSelector+'{-webkit-scroll-snap-coordinate:'+snapOffset+'scroll-snap-coordinate:'+snapOffset+'}')}},initMsSnapInterval:function(){var element=this.getElement(),interval;if(element&&(interval=this.getMsSnapInterval())){var x=interval.x;interval=interval.y;element=
element.dom.style;x&&(element['-ms-scroll-snap-points-x']='snapInterval(0px, '+x+'px)');interval&&(element['-ms-scroll-snap-points-y']='snapInterval(0px, '+interval+'px)')}},initXStyle:function(){var element=this.getElement(),x=this.getX();element&&element.dom&&(x?!0===x&&(x='auto'):x='hidden',element.setStyle('overflow-x',x))},initYStyle:function(){var element=this.getElement(),y=this.getY();element&&element.dom&&(y?!0===y&&(y='auto'):y='hidden',element.setStyle('overflow-y',y))},invokePartners:function(method,
x,y,xDelta,yDelta){var partners=this._partners,id;if(!this.suspendSync){this.invokingPartners=!0;for(id in partners){var axes=partners[id].axes;var partner=partners[id].scroller;if(!partner.invokingPartners&&(xDelta&&axes.x||yDelta&&axes.y))partner[method](this,axes.x?x:null,axes.y?y:null,xDelta,yDelta)}this.invokingPartners=!1}},suspendPartnerSync:function(){this.suspendSync=(this.suspendSync||0)+1},resumePartnerSync:function(syncNow){this.suspendSync&&this.suspendSync--;!this.suspendSync&&syncNow&&
(syncNow=this.getPosition(),this.invokePartners('onPartnerScroll',syncNow.x,syncNow.y),this.invokePartners('onPartnerScrollEnd',syncNow.x,syncNow.y))},readPosition:function(position){var element=this.getScrollElement();position=position||{};element&&!element.destroyed&&(element=this.getElementScroll(element),position.x=element.left,position.y=element.top);return position},updateDomScrollPosition:function(silent){var position=this.position,oldX=position.x,oldY=position.y;this.readPosition(position);
var x=position.x;var y=position.y;this.positionDirty=!1;!silent&&(silent=x-oldX,oldY=y-oldY,silent||oldY)&&(this.isScrolling||(this.isScrolling=Ext.isScrolling=!0,this.fireScrollStart(x,y,silent,oldY)),this.fireScroll(x,y,silent,oldY),this.onDomScrollEnd(x,y,silent,oldY));return position},syncWithPartners:function(){var partners=this._partners,id;this.suspendPartnerSync();for(id in partners){var partner=partners[id].scroller;var position=partner.getPosition();this.onPartnerScroll(partner,position.x,
position.y)}this.resumePartnerSync()},syncScrollbarCls:function(){var element=this.getElement();element&&element.toggleCls(this.noScrollbarsCls,!1===this.getScrollbars())},onDomScroll:function(){var hasTimer=!!this.restoreTimer;this.updateDomScrollPosition(hasTimer);hasTimer&&Ext.undefer(this.onDomScrollEnd.timer)},doOnDomScrollEnd:function(x,y,xDelta,yDelta){this.destroying||this.destroyed||(this.isScrolling=Ext.isScrolling=!1,void 0!==x&&(this.trackingScrollLeft=x,this.trackingScrollTop=y,this.fireScrollEnd(x,
y,xDelta,yDelta)))},onPartnerScrollStart:function(partner,x,y,xDelta,yDelta){this.isScrolling=!0;this.fireScrollStart(x,y,xDelta,yDelta)},onPartnerScroll:function(partner,x,y,xDelta,yDelta){this.doScrollTo(x,y,!1);this.updateDomScrollPosition(!0);this.fireScroll(x,y,xDelta,yDelta)},onPartnerScrollEnd:function(partner,x,y,xDelta,yDelta){this.cancelOnDomScrollEnd();this.doOnDomScrollEnd(x,y,xDelta,yDelta)},removeSnapStylesheet:function(){var stylesheet=this.snapStylesheet;stylesheet&&(Ext.util.CSS.removeStyleSheet(stylesheet),
this.snapStylesheet=null)},restoreState:function(){var me=this;me.getScrollElement()&&void 0!==me.trackingScrollTop&&(me.restoreTimer||(me.restoreTimer=Ext.defer(function(){me.restoreTimer=null},50)),me.doScrollTo(me.trackingScrollLeft,me.trackingScrollTop,!1))}}},1,0,0,0,['scroller.scroller'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Bufferable.prototype.mixinId||Ext.mixin.Bufferable.$className,Ext.mixin.Bufferable]],[Ext.scroll,
'Scroller',Ext.scroll,'NativeScroller'],function(Scroller){Ext.getViewportScroller=function(){var scroller=Scroller.viewport;scroller||(Scroller.viewport=scroller=new Scroller,Scroller.initViewportScroller());return scroller};Ext.setViewportScroller=function(scroller){Scroller.viewport!==scroller&&(Ext.destroy(Scroller.viewport),scroller&&!scroller.isScroller&&(scroller=new Scroller(scroller)),Scroller.viewport=scroller)};Ext.onReady(function(){Scroller.initViewportScrollerTimer=Ext.defer(Scroller.initViewportScroller,
100)})});
Ext.cmd.derive('Ext.util.Floating',Ext.Base,{mixinId:'floating',focusOnToFront:!0,shadow:'sides',animateShadow:!1,constrain:!1,alignOnScroll:!0,config:{activeCounter:0,alwaysOnTop:!1},preventDefaultAlign:!1,_visModeMap:{visibility:1,display:2,offsets:3},constructor:function(){var el=this.el,shadow=this.shadow;if(shadow){var shadowConfig={mode:!0===shadow?'sides':shadow};if(shadow=this.shadowOffset)shadowConfig.offset=shadow;shadowConfig.animate=this.animateShadow;shadowConfig.fixed=this.fixed;el.enableShadow(shadowConfig,
!1)}(this.shim||Ext.useShims)&&el.enableShim({fixed:this.fixed},!1);el.setVisibilityMode(this._visModeMap[this.hideMode]);this.el.on({mousedown:this.onMouseDown,scope:this,capture:!0});this.registerWithOwnerCt();this.initHierarchyEvents()},alignTo:function(alignTarget,position,offsets,animate,monitorScroll){if(alignTarget.isComponent){var alignEl=alignTarget.el;var destroyed=alignTarget.destroyed}else this.alignTargetFly=this.alignTargetFly||new Ext.dom.Fly,alignEl=alignTarget=this.alignTargetFly.attach(alignTarget),
destroyed=alignEl.dom,destroyed=!destroyed||Ext.isGarbage(destroyed);destroyed?(this._lastAlignTarget=null,this.alignListeners&&this.alignListeners.destroy()):(this.mixins.positionable.alignTo.call(this,alignEl,position,offsets,animate,!1!==monitorScroll),animate=this.getXY(),monitorScroll=alignTarget.getXY(),this.alignVector=[animate[0]-monitorScroll[0],animate[1]-monitorScroll[1]],this._lastAlignTarget=alignTarget,this._lastAlignToPos=position,this._lastAlignToOffsets=offsets,this._topAlignTarget=
this.getTopAlignTarget(),this.clearClip(),this.alignListeners||(alignTarget={resize:{fn:this.alignOnResize,buffer:100},scope:this,destroyable:!0},this.alignOnScroll&&!alignEl.contains(this.el)&&(alignTarget.scroll=this.doRealign),this.alignListeners=Ext.on(alignTarget)))},initFloatConstrain:function(){var floatParent=this.floatParent;!this.constrain&&!this.constrainHeader||this.constrainTo||(this.constrainTo=floatParent?floatParent.getTargetEl():this.container)},initHierarchyEvents:function(){this.hierarchyEventListeners||
(this.hierarchyEventListeners=Ext.on({hide:'syncHidden',collapse:'syncHidden',show:'syncHidden',expand:'syncHidden',added:'syncHidden',scope:this,destroyable:!0}))},moveFloatingDescendants:function(item){var i;if(this.floatingDescendants&&this.floatingDescendants.zIndexStack){var floatingEls=this.floatingDescendants.zIndexStack.getSource();for(i=0;i<floatingEls.length;i++){var el=floatingEls.getAt(i);el.up('#'+item.id)&&el.registerWithOwnerCt()}}},registerWithOwnerCt:function(){var ownerCt=this.ownerCt,
zip=this.zIndexParent;zip&&zip.unregisterFloatingItem(this);zip=this.zIndexParent=this.up('[floating]');this.floatParent=ownerCt||zip;this.initFloatConstrain();delete this.ownerCt;zip?zip.registerFloatingItem(this):Ext.WindowManager.register(this)},onMouseDown:function(e){var focusTask=this.focusTask,owner=this.getRefOwner(),preventFocus='touch'===e.pointerType,dom;if(this.floating&&(!focusTask||!focusTask.id)){this.owns(Ext.Element.getActiveElement())&&(preventFocus={ownsFocus:!0});focusTask=e.target;
for(dom=this.el.dom;!preventFocus&&focusTask&&focusTask!==dom;)Ext.fly(focusTask).isFocusable()&&(preventFocus={ownsFocus:!0}),focusTask=focusTask.parentNode;(focusTask=Ext.WindowManager.getActive()===this&&(focusTask===dom||preventFocus))||this.toFront(preventFocus);!preventFocus&&owner&&owner.containsFocus&&e.preventDefault()}},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){var el=this.el;if(el.shadow||el.shim)el.setUnderlaysVisible(!1!==el.getData().isVisible),
el.syncUnderlays()},syncHidden:function(){var hidden=this.hidden||!this.rendered,hierarchicallyHidden=this.hierarchicallyHidden=this.isHierarchicallyHidden(),pendingShow=this.pendingShow;hidden!==hierarchicallyHidden&&(hierarchicallyHidden?(this.hide(),this.pendingShow=!0):pendingShow&&(delete this.pendingShow,pendingShow.length?this.show.apply(this,pendingShow):this.show()))},setZIndex:function(index){this.el.setZIndex(index);index+=10;this.floatingDescendants&&(index=100*Math.floor(this.floatingDescendants.setBase(index)/
100)+1E4);return index},doConstrain:function(constrainTo){(constrainTo=this.calculateConstrainedPosition(constrainTo,null,!0))&&this.setPosition(constrainTo)},updateActiveCounter:function(activeCounter){(activeCounter=this.zIndexParent)&&activeCounter!==activeCounter.zIndexManager.front&&!1!==this.bringParentToFront&&activeCounter.setActiveCounter(++Ext.ZIndexManager.activeCounter);if(activeCounter=this.zIndexManager)activeCounter.onComponentUpdate(this)},updateAlwaysOnTop:function(alwaysOnTop){if(alwaysOnTop=
this.zIndexManager)alwaysOnTop.onComponentUpdate(this)},toFront:function(preventFocus){this.zIndexManager.bringToFront(this,preventFocus||!this.focusOnToFront)&&this.hasListeners.tofront&&this.fireEvent('tofront',this,this.el.getZIndex());return this},onZIndexChange:function(isTopMost){isTopMost?(this.el.shadow&&!1!==this.el.getData().isVisible&&!this.maximized&&this.el.enableShadow(null,!0),this.fireEvent('activate',this)):this.fireEvent('deactivate',this)},onFocusTopmost:function(){var activeCmp=
Ext.ComponentManager.getActiveComponent();activeCmp&&activeCmp.up(this)||this.focus()},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var parent=this.floatParent;this.isVisible()?(parent=this.getAlignToXY(parent?parent.getTargetEl():this.container,'c-c'),this.setPagePosition(parent)):this.needsCenter=!0;return this},onFloatShow:function(){var target=this._lastAlignTarget;this.needsCenter?this.center():target&&(target.destroyed?this._lastAlignTarget=null:this.alignTo(target,
this._lastAlignToPos,this._lastAlignToOffsets,!1,!this.fixed));this.needsCenter=!1},fitContainer:function(animate){var parent=this.floatParent,container=parent?parent.getTargetEl():this.container,newBox=container.getViewSize();parent=parent||container.dom!==document.body?[0,0]:container.getXY();newBox.x=parent[0];newBox.y=parent[1];this.setBox(newBox,animate)},privates:{onFloatDestroy:function(){var fly=this.alignTargetFly;this.hierarchyEventListeners&&(this.hierarchyEventListeners.destroy(),this.hierarchyEventListeners=
null);this.clearAlignEl();fly&&(fly.detach(),fly.destroy())},getTopAlignTarget:function(){for(var next=this._lastAlignTarget,result=next;next&&(result=next)&&next.isComponent;)next=result.isFloating()?result._lastAlignTarget:(next=result.up('{isFloating()}'))&&next._lastAlignTarget;return result},clearAlignEl:function(){this._lastAlignTarget&&(this.alignListeners=Ext.destroy(this.alignListeners),Ext.un('scroll',this.doRealign,this),this._lastAlignToPos=this._lastAlignTarget=this._lastAlignToOffsets=
this._topAlignTarget=null)},alignOnResize:function(){this.doRealign()},doRealign:function(scroller){var alignEl=this._lastAlignTarget.el;if(alignEl&&this.isVisible()){if(alignEl.isComponent)var destroyed=alignEl.destroyed;else destroyed=alignEl.dom,destroyed=!destroyed||Ext.isGarbage(destroyed);if(destroyed)this.clearAlignEl();else if(!scroller||scroller.getElement().contains(this._topAlignTarget.el)&&!scroller.getElement().contains(this.el))alignEl=alignEl.getXY(),alignEl=[alignEl[0]+this.alignVector[0],
alignEl[1]+this.alignVector[1]],this.setXY(alignEl),scroller&&this.clipToScroller(scroller)}},clipToScroller:function(scroller){var anchorBox=this._topAlignTarget.getBox();scroller=scroller.getElement().getConstrainRegion();var sides=0;anchorBox.top<scroller.top&&(sides=1);anchorBox.right>scroller.right&&(sides|=2);anchorBox.bottom>scroller.bottom&&(sides|=4);anchorBox.left<scroller.left&&(sides|=8);sides?this.clipTo(scroller,sides):this.clearClip()}}},1,0,0,0,0,0,[Ext.util,'Floating'],0);
Ext.cmd.derive('Ext.util.ElementContainer',Ext.Base,{mixinId:'elementCt',config:{childEls:{$value:{},cached:!0,lazy:!0,merge:function(newValue,oldValue,target,mixinClass){oldValue=oldValue?Ext.Object.chain(oldValue):{};var i;if(newValue instanceof Array)for(i=newValue.length;i--;)target=newValue[i],mixinClass&&target in oldValue||('string'===typeof target?oldValue[target]={name:target,itemId:target}:oldValue[target.name]=target);else if(newValue)if(newValue.constructor===Object)for(i in newValue)mixinClass&&
i in oldValue||(target=newValue[i],!0===target?oldValue[i]={itemId:i}:'string'===typeof target?oldValue[i]={itemId:target}:(oldValue[i]=target,'itemId'in target||(target.itemId=i)),oldValue[i].name=i);else mixinClass&&newValue in oldValue||(oldValue[newValue]={name:newValue,itemId:newValue});return oldValue}}},destroy:function(){var childEls=this.getChildEls(),childName;for(childName in childEls)if(childEls=this[childName])childEls.destroy&&(childEls.component=null,childEls.destroy()),this[childName]=
null},privates:{addChildEl:function(childEl){var childEls=this.getChildEls();this.hasOwnProperty('childEls')||(this.childEls=childEls=Ext.Object.chain(childEls));'string'===typeof childEl&&(childEl={name:childEl,itemId:childEl});childEls[childEl.name]=childEl},afterClassMixedIn:function(targetClass){var proto=targetClass.prototype,childEls=proto.childEls;childEls&&(delete proto.childEls,targetClass.getConfigurator().add({childEls}))},attachChildEls:function(el,owner){var childEls=this.getChildEls();
owner=owner||this;var baseId=owner.id+'-',unframed=!owner.frame,childName,k;for(childName in childEls){var elements=childEls[childName];if(!unframed||!elements.frame){if(k=elements.select)var value=el.select(k,!0);else(k=elements.selectNode)?value=el.selectNode(k,!1):(k=elements.id)?value=Ext.cache[k]||el.getById(k):(k=baseId+elements.itemId,value=Ext.cache[k]);if(value)if(value.isElement)value.component=owner;else if(value.isComposite&&!value.isLite)for(elements=value.elements,k=elements.length;k--;)elements[k].component=
owner;this[childName]=value||null}}}}},0,0,0,0,0,0,[Ext.util,'ElementContainer'],0);
Ext.cmd.derive('Ext.util.Renderable',Ext.Base,{mixinId:'renderable',frameIdRegex:/[-]frame\d+[TMB][LCR]$/,frameCls:'x-frame',frameElNames:'TL TC TR ML MC MR BL BC BR Table'.split(' '),frameTpl:['\x3ctpl if\x3d"hasTabGuard"\x3e{% this.renderTabGuard(out, values, \'before\'); %}\x3c/tpl\x3e','\x3ctpl if\x3d"top"\x3e','\x3ctpl if\x3d"left"\x3e\x3cdiv id\x3d"{fgid}TL" data-ref\x3d"frameTL" class\x3d"{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tl\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/tpl\x3e','\x3ctpl if\x3d"right"\x3e\x3cdiv id\x3d"{fgid}TR" data-ref\x3d"frameTR" class\x3d"{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tr\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/tpl\x3e',
'\x3cdiv id\x3d"{fgid}TC" data-ref\x3d"frameTC" class\x3d"{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tc\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/div\x3e','\x3ctpl if\x3d"right"\x3e\x3c/div\x3e\x3c/tpl\x3e','\x3ctpl if\x3d"left"\x3e\x3c/div\x3e\x3c/tpl\x3e','\x3c/tpl\x3e','\x3ctpl if\x3d"left"\x3e\x3cdiv id\x3d"{fgid}ML" data-ref\x3d"frameML" class\x3d"{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-ml\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/tpl\x3e',
'\x3ctpl if\x3d"right"\x3e\x3cdiv id\x3d"{fgid}MR" data-ref\x3d"frameMR" class\x3d"{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-mr\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/tpl\x3e','\x3cdiv id\x3d"{fgid}Body" data-ref\x3d"frameBody" class\x3d"{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-mc\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e','{%this.applyRenderTpl(out, values)%}',
'\x3c/div\x3e','\x3ctpl if\x3d"right"\x3e\x3c/div\x3e\x3c/tpl\x3e','\x3ctpl if\x3d"left"\x3e\x3c/div\x3e\x3c/tpl\x3e','\x3ctpl if\x3d"bottom"\x3e','\x3ctpl if\x3d"left"\x3e\x3cdiv id\x3d"{fgid}BL" data-ref\x3d"frameBL" class\x3d"{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-bl\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/tpl\x3e','\x3ctpl if\x3d"right"\x3e\x3cdiv id\x3d"{fgid}BR" data-ref\x3d"frameBR" class\x3d"{frameCls}-br {baseCls}-br {baseCls}-{ui}-br\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-br\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/tpl\x3e',
'\x3cdiv id\x3d"{fgid}BC" data-ref\x3d"frameBC" class\x3d"{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-bc\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/div\x3e','\x3ctpl if\x3d"right"\x3e\x3c/div\x3e\x3c/tpl\x3e','\x3ctpl if\x3d"left"\x3e\x3c/div\x3e\x3c/tpl\x3e','\x3c/tpl\x3e','\x3ctpl if\x3d"hasTabGuard"\x3e{% this.renderTabGuard(out, values, \'after\'); %}\x3c/tpl\x3e'],frameTableTpl:['\x3ctpl if\x3d"hasTabGuard"\x3e{% this.renderTabGuard(out, values, \'before\'); %}\x3c/tpl\x3e',
'\x3ctable id\x3d"{fgid}Table" data-ref\x3d"frameTable" class\x3d"{frameCls} ','x-table-plain" cellpadding\x3d"0" role\x3d"presentation"\x3e','\x3ctpl if\x3d"top"\x3e','\x3ctr role\x3d"presentation"\x3e','\x3ctpl if\x3d"left"\x3e\x3ctd id\x3d"{fgid}TL" data-ref\x3d"frameTL" class\x3d"{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tl\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e','\x3ctd id\x3d"{fgid}TC" data-ref\x3d"frameTC" class\x3d"{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tc\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e',
'\x3ctpl if\x3d"right"\x3e\x3ctd id\x3d"{fgid}TR" data-ref\x3d"frameTR" class\x3d"{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tr\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e','\x3c/tr\x3e','\x3c/tpl\x3e','\x3ctr role\x3d"presentation"\x3e','\x3ctpl if\x3d"left"\x3e\x3ctd id\x3d"{fgid}ML" data-ref\x3d"frameML" class\x3d"{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-ml\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e',
'\x3ctd id\x3d"{fgid}Body" data-ref\x3d"frameBody" class\x3d"{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-mc\x3c/tpl\x3e{frameElCls}" style\x3d"{mcStyle}" role\x3d"presentation"\x3e','{%this.applyRenderTpl(out, values)%}','\x3c/td\x3e','\x3ctpl if\x3d"right"\x3e\x3ctd id\x3d"{fgid}MR" data-ref\x3d"frameMR" class\x3d"{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-mr\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e',
'\x3c/tr\x3e','\x3ctpl if\x3d"bottom"\x3e','\x3ctr role\x3d"presentation"\x3e','\x3ctpl if\x3d"left"\x3e\x3ctd id\x3d"{fgid}BL" data-ref\x3d"frameBL" class\x3d"{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-bl\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e','\x3ctd id\x3d"{fgid}BC" data-ref\x3d"frameBC" class\x3d"{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-bc\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e',
'\x3ctpl if\x3d"right"\x3e\x3ctd id\x3d"{fgid}BR" data-ref\x3d"frameBR" class\x3d"{frameCls}-br {baseCls}-br {baseCls}-{ui}-br\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-br\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e','\x3c/tr\x3e','\x3c/tpl\x3e','\x3c/table\x3e','\x3ctpl if\x3d"hasTabGuard"\x3e{% this.renderTabGuard(out, values, \'after\'); %}\x3c/tpl\x3e'],_renderState:0,_layerCls:'x-layer',_fixedLayerCls:'x-fixed-layer',ariaStaticRoles:{presentation:!0,
article:!0,definition:!0,directory:!0,document:!0,img:!0,heading:!0,math:!0,note:!0,banner:!0,complementary:!0,contentinfo:!0,navigation:!0,search:!0,undefined:!0,'null':!0},statics:{makeRenderSetter:function(cfg,renderState){var name=cfg.name;return function(value){var bucket=this.renderConfigs||(this.renderConfigs={}),pending=bucket[renderState];this._renderState>=renderState?(cfg.setter||cfg.getSetter()).call(this,value):(pending||(bucket[renderState]=pending={}),name in pending||(pending[name]=
this[name]),this[name]=value);return this}},processRenderConfig:function(source,configName,state){var proto=this.prototype,configurator=this.getConfigurator(),makeSetter=Ext.util.Renderable.makeRenderSetter,renderConfig=source[configName],name,setterName;for(name in renderConfig){var cfg=Ext.Config.get(name);if(!proto[setterName=cfg.names.set]){var cachedSetter=cfg.renderSetter||(cfg.renderSetter={});proto[setterName]=cachedSetter[state]||(cachedSetter[state]=makeSetter(cfg,state))}}delete source[configName];
configurator.add(renderConfig)}},onClassMixedIn:function(targetClass){var override=targetClass.override,processRenderConfig=this.processRenderConfig,processOverride=function(body){body.beforeRenderConfig&&this.processRenderConfig(body,'beforeRenderConfig',1);body.renderConfig&&this.processRenderConfig(body,'renderConfig',3);override.call(this,body)},processClass=function(theClass,classBody){theClass.override=processOverride;theClass.processRenderConfig=processRenderConfig;classBody.beforeRenderConfig&&
theClass.processRenderConfig(classBody,'beforeRenderConfig',1);classBody.renderConfig&&theClass.processRenderConfig(classBody,'renderConfig',3)};processClass(targetClass,targetClass.prototype);targetClass.onExtended(processClass)},afterRender:function(){var data={},protoEl=this.protoEl,target=this.el;this.finishRenderChildren();this._renderState=4;if(this.contentEl){var contentEl=this.contentEl=Ext.get(this.contentEl);contentEl.component=this;contentEl.removeCls(['x-hidden','x-hidden-display','x-hidden-offsets']);
this.getContentTarget().appendChild(contentEl.dom)}protoEl.writeTo(data);(protoEl=data.removed)&&target.removeCls(protoEl);protoEl=data.cls;protoEl.length&&target.addCls(protoEl);(protoEl=data.style)&&target.setStyle(protoEl);this.protoEl=null;this.ownerCt||this.skipLayout||this.updateLayout();this.x&&this.y||!this.pageX&&!this.pageY||this.setPagePosition(this.pageX,this.pageY);if(this.disableOnRender)this.onDisable();(data=this.controller)&&data.afterRender&&data.afterRender(this);this.focusableContainer&&
this.initFocusableContainer&&this.initFocusableContainer()},afterFirstLayout:function(width,height){var x=this.x,y=this.y,alignSpec=this.defaultAlign,alignOffset=this.alignOffset;if(!this.ownerLayout){var hasX=void 0!==x;var hasY=void 0!==y}if(!(!this.floating||this.preventDefaultAlign||hasX&&hasY)){if(this.floatParent){var pos=this.floatParent.getTargetEl().getViewRegion();alignSpec=this.el.getAlignToXY(this.alignTarget||this.floatParent.getTargetEl(),alignSpec,alignOffset);pos.x=alignSpec[0]-pos.x;
pos.y=alignSpec[1]-pos.y}else alignSpec=this.el.getAlignToXY(this.alignTarget||this.container,alignSpec,alignOffset),pos=this.el.translateXY(alignSpec[0],alignSpec[1]);x=hasX?x:pos.x;y=hasY?y:pos.y;hasX=hasY=!0}(hasX||hasY)&&this.setPosition(x,y);this.onBoxReady(width,height);(x=this.controller)&&x.boxReady&&x.boxReady(this,width,height)},beforeRender:function(){var floating=this.floating,layout=this.getComponentLayout(),cls=this.userCls,controller;this._renderState=1;this.ariaUsesMainElement='el'===
this.ariaEl;(controller=this.controller)&&controller.beforeRender&&controller.beforeRender(this);this.initBindable();this.renderConfigs&&this.flushRenderConfigs();cls&&this.addCls(cls);floating&&(this.addCls(this.fixed?this._fixedLayerCls:this._layerCls),(cls=floating.cls)&&this.addCls(cls));this.frame=this.frame||this.alwaysFramed;layout.initialized||layout.initLayout();this.initOverflow();this.setUI(this.ui)},doApplyRenderTpl:function(out,values){var me=values.$comp;me.rendered||(me=me.initRenderTpl(),
me.applyOut(values.renderData,out))},getElConfig:function(){var autoEl=this.autoEl,frameInfo=this.getFrameInfo(),config={tag:'div',tpl:frameInfo?this.initFramingTpl(frameInfo.table):this.initRenderTpl()},layoutTargetCls=this.layoutTargetCls,protoEl=this.protoEl,ariaRole=this.ariaRole;this.initStyles(protoEl);layoutTargetCls&&!frameInfo&&protoEl.addCls(layoutTargetCls);protoEl.writeTo(config);protoEl.flush();autoEl&&(Ext.isString(autoEl)?config.tag=autoEl:Ext.apply(config,autoEl));ariaRole&&this.ariaUsesMainElement&&
(config.role=ariaRole,this.ariaStaticRoles[ariaRole]||(config['aria-hidden']=!!this.hidden,config['aria-disabled']=!!this.disabled,this.ariaLabel&&!this.ariaLabelledBy&&(config['aria-label']=this.ariaLabel),this.collapsible&&(config['aria-expanded']=!this.collapsed),this.ariaRenderAttributes&&Ext.apply(config,this.ariaRenderAttributes),this.config.ariaAttributes&&Ext.apply(config,this.getAriaAttributes())));config.id=this.id;config.tpl&&(frameInfo?(config.tplData=autoEl=this.getFrameRenderData(),
autoEl.renderData=this.initRenderData()):config.tplData=this.initRenderData());this.ariaRenderAttributes=null;return config},getInsertPosition:function(position){void 0!==position&&(position=Ext.isNumber(position)?this.container.dom.childNodes[position]:Ext.getDom(position));return position},getRenderTree:function(){var ret=null;this.hasListeners.beforerender&&!1===this.fireEvent('beforerender',this)||(this._renderState=1,this.beforeRender(),this.rendering=!0,this._renderState=2,ret=this.getElConfig(),
this.el&&(ret.id=this.$pid=Ext.id(null,this.el.identifiablePrefix)));return ret},initRenderData:function(){var ariaRole=this.ariaRole;var data=Ext.apply({$comp:this,id:this.id,ui:this.ui,uiCls:this.uiCls,baseCls:this.baseCls,componentCls:this.componentCls,frame:this.frame,hasTabGuard:!!this.tabGuard,scrollerCls:this.scrollerCls,childElCls:'',ariaEl:this.ariaEl},this.renderData);if(ariaRole&&!this.ariaUsesMainElement){var ariaAttr={role:ariaRole};this.ariaStaticRoles[ariaRole]||(ariaAttr['aria-hidden']=
!!this.hidden,ariaAttr['aria-disabled']=!!this.disabled,this.ariaLabel&&!this.ariaLabelledBy&&(ariaAttr['aria-label']=this.ariaLabel),this.collapsible&&(ariaAttr['aria-expanded']=!this.collapsed),this.ariaRenderAttributes&&Ext.apply(ariaAttr,this.ariaRenderAttributes),this.config.ariaAttributes&&Ext.apply(ariaAttr,this.getAriaAttributes()));data.ariaAttributes=ariaAttr}return data},onRender:function(parentNode,containerIdx){var x=this.x,y=this.y;parentNode=null;containerIdx=this.el;var scroller=this.scrollable;
this.applyRenderSelectors();scroller&&scroller.isScroller&&(scroller.setElement(this.getOverflowEl()),Ext.isIE&&(this.showListenerIE=Ext.on('show',this.onGlobalShow,this,{destroyable:!0})));this.rendering=null;this.rendered=!0;this._renderState=3;this.renderConfigs&&this.flushRenderConfigs();null!=x&&(parentNode={x});null!=y&&((parentNode=parentNode||{}).y=y);this.getFrameInfo()||(x=this.width,y=this.height,'number'===typeof x&&(parentNode=parentNode||{},parentNode.width=x),'number'===typeof y&&(parentNode=
parentNode||{},parentNode.height=y));this.lastBox=containerIdx.lastBox=parentNode},render:function(container,position){var el=this.el,ownerLayout=this.ownerLayout;el&&!el.isElement&&(this.wrapPrimaryEl(el),el=this.el);this.skipLayout||Ext.suspendLayouts();container=this.initContainer(container);var nextSibling=this.getInsertPosition(position);if(el)if(this.hasListeners.beforerender&&!1===this.fireEvent('beforerender',this))var vetoed=!0;else this.beforeRender(),this.needsRenderTpl=this.rendering=
!0,this._renderState=2,this.initStyles(el),!1!==this.allowDomMove&&(nextSibling?container.dom.insertBefore(el.dom,nextSibling):container.dom.appendChild(el.dom));else{var tree=this.getRenderTree();ownerLayout&&ownerLayout.transformItemRenderTree&&(tree=ownerLayout.transformItemRenderTree(tree));tree&&(el=nextSibling?Ext.DomHelper.insertBefore(nextSibling,tree):Ext.DomHelper.append(container,tree),this.wrapPrimaryEl(el),this.cacheRefEls(el))}el&&!vetoed&&this.finishRender(position);this.skipLayout||
Ext.resumeLayouts(!this.hidden&&!container.isDetachedBody)},ensureAttachedToBody:function(runLayout){for(var comp=this,body;comp.ownerCt;)comp=comp.ownerCt;comp.container.isDetachedBody&&(comp.container=body=Ext.getBody(),body.appendChild(comp.el.dom),runLayout&&comp.updateLayout(),'number'!==typeof comp.x&&'number'!==typeof comp.y||comp.setPosition(comp.x,comp.y))},privates:{applyRenderSelectors:function(){var selectors=this.renderSelectors,el=this.el,query,selector;this.attachChildEls(el);'string'===
typeof this.focusEl&&(this.focusEl=this[this.focusEl]);this.ariaEl=this[this.ariaEl]||this.el;if(selectors)for(selector in selectors)(query=selectors[selector])&&(this[selector]=el.selectNode(query,!1))},cacheRefEls:function(el){el=el||this.el;var cache=Ext.cache,El=Ext.dom.Element;el=(el.isElement?el.dom:el).querySelectorAll('[data-ref]');var len=el.length,i;for(i=0;i<len;i++){var ref=el[i];cache[ref.id]||new El(ref)}},doAutoRender:function(){this.rendered||(this.floating?this.render(this.renderTo||
document.body):this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender))},doRenderContent:function(out,renderData){renderData=renderData.$comp;var data=renderData.data;renderData.html&&(Ext.DomHelper.generateMarkup(renderData.html,out),delete renderData.html);renderData.tpl&&(renderData.tpl.isTemplate||(renderData.tpl=new Ext.XTemplate(renderData.tpl)),data&&(renderData.data=data=data.isEntity?data.getData(!0):data,renderData.tpl.applyOut(data,out)))},doRenderFramingTabGuard:function(out,
renderData,position){var layout=renderData.$comp.layout;renderData.renderData.$skipTabGuards=!0;layout&&layout.doRenderTabGuard&&layout.doRenderTabGuard.call(this,out,renderData,position)},flushRenderConfigs:function(){var configs=this.renderConfigs,state=this._renderState,bucket,i,name,newConfigs;if(configs){for(i=0;i<=state;++i)if(bucket=configs[i])for(name in configs[i]=null,bucket){var value=bucket[name];(newConfigs||(newConfigs={}))[name]=this[name];this[name]=value}newConfigs&&this.setConfig(newConfigs)}},
finishRender:function(containerIdx){var cache=Ext.cache;if(!this.el||this.$pid){if(this.container)var dom=(cache=cache[this.id])?cache.dom:this.container.getById(this.id,!0);else{var proxy=this.$pid||this.id;dom=(cache=cache[proxy])?cache.dom:Ext.getDom(proxy)}if(this.el){delete this.$pid;this.el.dom||this.wrapPrimaryEl(this.el);dom.parentNode.insertBefore(this.el.dom,dom);proxy=dom;dom=this.el.dom;for(cache=dom.firstChild;proxy.firstChild;)dom.insertBefore(proxy.firstChild,cache);this.el.addCls(proxy.className);
Ext.removeNode(proxy)}else this.wrapPrimaryEl(dom)}else if(this.needsRenderTpl){if(proxy=this.initRenderTpl())cache=this.initRenderData(),proxy.insertFirst(this.getTargetEl(),cache);this.cacheRefEls()}this.el.component=this;this.container||(this.container=Ext.get(this.el.dom.parentNode));this.ctCls&&this.container.addCls(this.ctCls);this.onRender(this.container,containerIdx);this.overflowInited||this.initOverflow();this.el.setVisibilityMode(Ext.Element[this.hideMode.toUpperCase()]);this.overCls&&
this.el.hover(this.addOverCls,this.removeOverCls,this);this.hasListeners.render&&this.fireEvent('render',this);this.afterRender();this.hasListeners.afterrender&&this.fireEvent('afterrender',this);this.initEvents();this.hidden&&this.el.hide()},finishRenderChildren:function(){this.getComponentLayout().finishRender()},getFrameRenderData:function(){var frameInfo=this.frameSize,mcStyle='';this._syncFrameHeight&&this.height&&(mcStyle='height:'+(this.height-frameInfo.height)+'px');return{$comp:this,id:this.id,
fgid:this.id+'-frame',ui:this.ui,uiCls:this.uiCls,frameCls:this.frameCls,frameBodyCls:this.layoutTargetCls||'',baseCls:this.baseCls,hasTabGuard:this.tabGuard,top:!!frameInfo.top,left:!!frameInfo.left,right:!!frameInfo.right,bottom:!!frameInfo.bottom,mcStyle,frameElCls:''}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var frameInfoCache=this.frameInfoCache,cls=this.getFramingInfoCls()+'-frameInfo',frameInfo=frameInfoCache[cls];if(null==frameInfo){frameInfo=Ext.fly(this.getStyleProxy(cls),
'frame-style-el');if((frameInfo=(frameInfo=frameInfo.getStyle('font-family'))&&frameInfo.split('-'))&&5<=frameInfo.length){var frameTop=parseInt(frameInfo[1],10);var frameRight=parseInt(frameInfo[2],10);var frameBottom=parseInt(frameInfo[3],10);var frameLeft=parseInt(frameInfo[4],10);var borderTopWidth=parseInt(frameInfo[5],10)||0;var borderRightWidth=parseInt(frameInfo[6],10)||0;var borderBottomWidth=parseInt(frameInfo[7],10)||0;var borderLeftWidth=parseInt(frameInfo[8],10)||0;var paddingTop=parseInt(frameInfo[9],
10)||0;var paddingRight=parseInt(frameInfo[10],10)||0;var paddingBottom=parseInt(frameInfo[11],10)||0;var paddingLeft=parseInt(frameInfo[12],10)||0;frameInfo={table:'t'===frameInfo[0].charAt(0),vertical:'v'===frameInfo[0].charAt(1),top:frameTop,right:frameRight,bottom:frameBottom,left:frameLeft,width:frameLeft+frameRight,height:frameTop+frameBottom,border:{top:borderTopWidth,right:borderRightWidth,bottom:borderBottomWidth,left:borderLeftWidth,width:borderLeftWidth+borderRightWidth,height:borderTopWidth+
borderBottomWidth},padding:{top:paddingTop,right:paddingRight,bottom:paddingBottom,left:paddingLeft,width:paddingLeft+paddingRight,height:paddingTop+paddingBottom}}}else frameInfo=!1;frameInfoCache[cls]=frameInfo}this.frame=!!frameInfo;return this.frameSize=frameInfo},getFramingInfoCls:function(){return this.baseCls+'-'+this.ui},getStyleProxy:function(cls){var result=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({role:'presentation',style:{position:'absolute',
top:'-10000px'}},null,!0));result.className=cls;return result},getFrameTpl:function(table){return this.lookupTpl(table?'frameTableTpl':'frameTpl')},initContainer:function(container){!container&&this.el&&(container=this.el.dom.parentNode,this.allowDomMove=!1);return this.container=container.dom?container:Ext.get(container)},initOverflow:function(){var overflowStyle=this.getOverflowStyle(),scrollFlags=this.scrollFlags,overflowEl=this.getOverflowEl();(scrollFlags.y||scrollFlags.x)&&overflowEl&&overflowEl.isElement&&
(this.overflowInited=!0,overflowEl.setStyle(overflowStyle))},initFramingTpl:function(table){(table=this.getFrameTpl(table))&&!table.applyRenderTpl&&this.setupFramingTpl(table);return table},initRenderTpl:function(){var tpl=this.lookupTpl('renderTpl');tpl&&!tpl.renderContent&&this.setupRenderTpl(tpl);return tpl},setupFramingTpl:function(frameTpl){frameTpl.applyRenderTpl=this.doApplyRenderTpl;frameTpl.renderTabGuard=this.doRenderFramingTabGuard},setupRenderTpl:function(renderTpl){renderTpl.renderBody=
renderTpl.renderContent=this.doRenderContent},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var dom=this.el.dom,frameTable=this.frameTable,oldFrameBody=this.frameBody,oldFrameBodyDom=oldFrameBody.dom,frameInfo=this.getFrameInfo();var div=document.createElement('div');var first=this.getFrameRenderData();first.hasTabGuard=!1;this.getFrameTpl(frameInfo.table).insertFirst(div,first);frameInfo=div.querySelectorAll('[data-ref]');var newBody=div.querySelector('[data-ref\x3d"frameBody"]');
for(first=oldFrameBodyDom;first.parentNode!==dom;)first=first.parentNode;for(;div.firstChild;)dom.insertBefore(div.firstChild,first);newBody.parentNode.replaceChild(oldFrameBodyDom,newBody);oldFrameBodyDom.className=newBody.className;oldFrameBody.setSize();dom=this.getChildEls();frameTable&&(frameTable.destroy(),this.frameTable=null);for(childElName in dom)dom[childElName].frame&&(frameTable=this[childElName])&&frameTable!==oldFrameBody&&(frameTable.destroy(),this[childElName]=null);for(frameTable=
frameInfo.length;frameTable--;){var childElName=(oldFrameBody=frameInfo[frameTable]).getAttribute('data-ref');'frameBody'!==childElName&&(this[childElName]=new Ext.dom.Element(oldFrameBody))}}},frameInfoCache:{}}},0,0,0,0,0,0,[Ext.util,'Renderable'],0);
Ext.cmd.derive('Ext.state.Provider',Ext.Base,{prefix:'ext-',constructor:function(config){Ext.apply(this,config);this.state={};this.mixins.observable.constructor.call(this)},get:function(name,defaultValue){name=this.state[name];return void 0===name?defaultValue:name},clear:function(name){delete this.state[name];this.fireEvent('statechange',this,name,null)},set:function(name,value){this.state[name]=value;this.fireEvent('statechange',this,name,value)},decodeValue:function(value){value=/^(a|n|d|b|s|o|e):(.*)$/.exec(unescape(value));
var v;if(value&&value[1]){var all=value[1];value=value[2];switch(all){case 'e':return null;case 'n':return parseFloat(value);case 'd':return new Date(Date.parse(value));case 'b':return'1'===value;case 'a':all=[];if(value){var values=value.split('^');var vLen=values.length;for(v=0;v<vLen;v++)value=values[v],all.push(this.decodeValue(value))}return all;case 'o':all={};if(value)for(values=value.split('^'),vLen=values.length,v=0;v<vLen;v++)value=values[v],value=value.split('\x3d'),all[value[0]]=this.decodeValue(value[1]);
return all;default:return value}}},encodeValue:function(value){var flat='',i=0,len;if(null==value)return'e:1';if('number'===typeof value)value='n:'+value;else if('boolean'===typeof value)value='b:'+(value?'1':'0');else if(Ext.isDate(value))value='d:'+value.toUTCString();else if(Ext.isArray(value)){for(len=value.length;i<len;i++)flat+=this.encodeValue(value[i]),i!==len-1&&(flat+='^');value='a:'+flat}else if('object'===typeof value){for(len in value)'function'!==typeof value[len]&&void 0!==value[len]&&
(flat+=len+'\x3d'+this.encodeValue(value[len])+'^');value='o:'+flat.substring(0,flat.length-1)}else value='s:'+value;return escape(value)}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.state,'Provider'],0);
Ext.cmd.derive('Ext.state.Manager',Ext.Base,{singleton:!0,constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(stateProvider){this.provider=stateProvider},get:function(key,defaultValue){return this.provider.get(key,defaultValue)},set:function(key,value){this.provider.set(key,value)},clear:function(key){this.provider.clear(key)},getProvider:function(){return this.provider}},1,0,0,0,0,0,[Ext.state,'Manager'],0);
Ext.cmd.derive('Ext.state.Stateful',Ext.Base,{mixinId:'state',config:{stateful:null},saveDelay:100,constructor:function(){this.stateEvents||(this.stateEvents=[]);this.stateful&&(this.addStateEvents(this.stateEvents),this.initState())},addStateEvents:function(events){var i,event;if(this.stateful&&this.getStateId()){var eventArray='string'===typeof events?arguments:events;var stateEventsByName=this.stateEventsByName||(this.stateEventsByName={});for(i=eventArray.length;i--;)(event=eventArray[i])&&!stateEventsByName[event]&&
(stateEventsByName[event]=1,this.on(event,this.onStateChange,this))}},onStateChange:function(){var delay=this.saveDelay;if(this.stateful)if(delay){if(!this.stateTask){var statics=Ext.state.Stateful;statics=statics.runner||(statics.runner=new Ext.util.TaskRunner);this.stateTask=statics.newTask({run:this.saveState,scope:this,interval:delay,repeat:1,fireIdleEvent:!1})}this.stateTask.start()}else this.saveState()},saveState:function(){var stateful=this.getStateful(),id=stateful&&this.getStateId(),hasListeners=
this.hasListeners,pluginState;if(id){var state=this.getState()||{};if(Ext.isObject(stateful)){var configs=this.self.getConfigurator();configs=configs.configs;for(i in stateful)if(stateful[i]){if(!(i in state)){var cfg=configs[i];state[i]=cfg?this[cfg.get]():this[i]}}else delete state[i]}stateful=this.getPlugins()||[];var i=0;for(configs=stateful.length;i<configs;i++)(cfg=stateful[i])&&cfg.getState&&(pluginState=cfg.getState(state))&&!state[cfg.ptype]&&(state[cfg.ptype]=pluginState);hasListeners.beforestatesave&&
!1===this.fireEvent('beforestatesave',this,state)||(Ext.state.Manager.set(id,state),hasListeners.statesave&&this.fireEvent('statesave',this,state))}},getState:function(){return null},applyState:function(state){state&&Ext.apply(this,state)},getStateId:function(){return this.stateId||(this.autoGenId?null:this.id)},initState:function(){var id=this.stateful&&this.getStateId(),hasListeners=this.hasListeners,combinedState,len,plugin;if(id&&(combinedState=Ext.state.Manager.get(id))&&(id=Ext.apply({},combinedState),
!hasListeners.beforestaterestore||!1!==this.fireEvent('beforestaterestore',this,combinedState))){var plugins=this.getPlugins()||[];var i=0;for(len=plugins.length;i<len;i++)if(plugin=plugins[i]){var pluginType=plugin.ptype;plugin.applyState&&plugin.applyState(id[pluginType],combinedState);delete id[pluginType]}this.applyState(id);hasListeners.staterestore&&this.fireEvent('staterestore',this,combinedState)}},savePropToState:function(propName,state,stateName){var value=this[propName],config=this.initialConfig;
return!this.hasOwnProperty(propName)||config&&config[propName]===value?!1:(state&&(state[stateName||propName]=value),!0)},savePropsToState:function(propNames,state){var n;if('string'===typeof propNames)this.savePropToState(propNames,state);else{var i=0;for(n=propNames.length;i<n;++i)this.savePropToState(propNames[i],state)}return state},destroy:function(){var task=this.stateTask;task&&(task.destroy(),this.stateTask=null)}},1,0,0,0,0,0,[Ext.state,'Stateful'],0);
Ext.cmd.derive('Ext.Component',Ext.Base,{alternateClassName:'Ext.AbstractComponent',statics:{AUTO_ID:1E3,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:'top',DIRECTION_RIGHT:'right',DIRECTION_BOTTOM:'bottom',DIRECTION_LEFT:'left',VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[.,\s]/g,ariaHighContrastModeCls:'x-aria-highcontrast',cancelLayout:function(comp,isDestroying){var context=this.runningLayoutContext||this.pendingLayouts;context&&context.cancelComponent(comp,!1,isDestroying)},
from:function(el,limit,selector){return Ext.ComponentManager.from(el,limit,selector)},fromElement:function(el,limit,selector){return Ext.ComponentManager.from(el,limit,selector)},flushLayouts:function(){var me=this,context=me.pendingLayouts;context&&context.invalidQueue.length&&(me.pendingLayouts=null,me.runningLayoutContext=context,Ext.override(context,{runComplete:function(){var Scroller=Ext.scroll.Scroller,GlobalEvents=Ext.GlobalEvents;me.runningLayoutContext=null;Scroller.viewport&&Scroller.viewport.restoreState();
Scroller=this.callParent();GlobalEvents.hasListeners.afterlayout&&GlobalEvents.fireEvent('afterlayout');return Scroller}}),context.run())},resumeLayouts:function(flush){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(flush&&this.flushLayouts(),Ext.GlobalEvents.hasListeners.resumelayouts&&Ext.GlobalEvents.fireEvent('resumelayouts'))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(comp,defer){var running=this.runningLayoutContext;running?running.queueInvalidate(comp):
(running=this.pendingLayouts||(this.pendingLayouts=new Ext.layout.Context),running.queueInvalidate(comp),defer||this.layoutSuspendCount||comp.isLayoutSuspended()||this.flushLayouts())}},$configPrefixed:!1,$configStrict:!1,clearPropertiesOnDestroy:'async',manageLayoutScroll:!0,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,scrollable:null},renderConfig:{touchAction:null},defaultBindProperty:'html',alignTarget:null,autoRender:!1,autoShow:!1,baseCls:'x-component',childEls:{frameTable:{frame:!0},
frameTL:{frame:'tl'},frameTC:{frame:'tc'},frameTR:{frame:'tr'},frameML:{frame:'ml'},frameBody:{frame:'mc'},frameMR:{frame:'mr'},frameBL:{frame:'bl'},frameBC:{frame:'bc'},frameBR:{frame:'br'}},componentLayout:'autocomponent',defaultAlign:'c-c',disabled:!1,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:function(){var re='input select textarea optgroup option table'.split(' ');!Ext.isIE9m||Ext.isIE9&&!Ext.isIEQuirks||re.push('p');return new RegExp('^(?:'+re.join('|')+
')$','i')}(),disabledCls:'x-item-disabled',draggable:!1,floating:!1,hidden:!1,hideMode:'display',maskElement:null,renderTpl:'{%this.renderContent(out,values)%}',resizeHandles:'all',shrinkWrap:2,toFrontOnShow:!0,synthetic:!1,tplWriteMode:'overwrite',ui:'default',uiCls:[],userCls:null,weight:null,allowDomMove:!0,autoGenId:!1,borderBoxCls:'x-border-box',componentLayoutCounter:0,contentPaddingProperty:'padding',deferLayouts:!1,frameSize:null,horizontalPosProp:'left',isComponent:!0,_isLayoutRoot:!1,layoutSuspendCount:0,
liquidLayout:!1,maskOnDisable:!0,rendered:!1,rootCls:'x-body',scrollerCls:'x-scroll-scroller',_scrollFlags:{auto:{auto:{overflowX:'auto',overflowY:'auto',x:!0,y:!0,both:!0},'false':{overflowX:'auto',overflowY:'hidden',x:!0,y:!1,both:!1},scroll:{overflowX:'auto',overflowY:'scroll',x:!0,y:!0,both:!0}},'false':{auto:{overflowX:'hidden',overflowY:'auto',x:!1,y:!0,both:!1},'false':{overflowX:'hidden',overflowY:'hidden',x:!1,y:!1,both:!1},scroll:{overflowX:'hidden',overflowY:'scroll',x:!1,y:!0,both:!1}},
scroll:{auto:{overflowX:'scroll',overflowY:'auto',x:!0,y:!0,both:!0},'false':{overflowX:'scroll',overflowY:'hidden',x:!0,y:!1,both:!1},scroll:{overflowX:'scroll',overflowY:'scroll',x:!0,y:!0,both:!0}},none:{overflowX:'',overflowY:'',x:!1,y:!1,both:!1}},_scrollableCfg:{x:{x:!0,y:!1},y:{x:!1,y:!0},horizontal:{x:!0,y:!1},vertical:{x:!1,y:!0},both:{x:!0,y:!0},'true':{x:!0,y:!0}},validIdRe:Ext.validIdRe,constructor:function(config){config=config||{};if(config.initialConfig)config.isAction&&(this.baseAction=
config),config=config.initialConfig;else if(config.tagName||config.dom||Ext.isString(config))config={applyTo:config,id:config.id||config};this.initialConfig=config;this.$iid=++Ext.$nextIid;if(config&&config.controller||this.config.controller)this.referenceHolder=!0;this.getId();this.protoEl=new Ext.util.ProtoElement;this.initConfig(config);if(null==this.scrollable){if(config=this.autoScroll)var i=!!config;else{config=this.overflowX;var overflowY=this.overflowY;if(config||overflowY)i={x:config&&'hidden'!==
config?config:!1,y:overflowY&&'hidden'!==overflowY?overflowY:!1}}i&&this.setScrollable(i)}if(i=this.xhooks)delete this.xhooks,Ext.override(this,i);this.mixins.elementCt.constructor.call(this);this.setupProtoEl();this.cls&&(this.initialCls=this.cls,this.protoEl.addCls(this.cls));this.style&&(this.initialStyle=this.style,this.protoEl.setStyle(this.style));this.renderData=this.renderData||{};this.initComponent();this.preventRegister||Ext.ComponentManager.register(this);this.mixins.state.constructor.call(this);
this.addStateEvents('resize');(i=this.getController())&&i.init(this);if(this.plugins)for(i=0,config=this.plugins.length;i<config;i++)this.plugins[i]=this.initPlugin(this.plugins[i]);this.loader=this.getLoader();this.disabled&&(this.disabled=!1,this.disable(!0));this.renderTo&&this.render(this.renderTo);this.autoShow&&!this.$initParent&&this.show();this.baseAction&&this.baseAction.addComponent(this)},beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(cls){var el=
this.rendered?this.el:this.protoEl;el.addCls.apply(el,arguments);return this},addClsWithUI:function(classes,skip){var clsArray=[],i=0,uiCls=this.uiCls=Ext.Array.clone(this.uiCls),activeUI=this.activeUI,length,cls;'string'===typeof classes&&(classes=0>classes.indexOf(' ')?[classes]:Ext.String.splitWords(classes));for(length=classes.length;i<length;i++)(cls=classes[i])&&!this.hasUICls(cls)&&(uiCls.push(cls),activeUI&&(clsArray=clsArray.concat(this.addUIClsToElement(cls))));!0!==skip&&activeUI&&this.addCls(clsArray);
return clsArray},afterComponentLayout:function(width,height,oldWidth,oldHeight){var scroller=this.scrollable;1===++this.componentLayoutCounter?this.afterFirstLayout(width,height):this.manageLayoutScroll&&scroller&&scroller.restoreState();if(width!==oldWidth||height!==oldHeight)this.onResize(width,height,oldWidth,oldHeight);if(this.floating)this.onAfterFloatLayout()},addPlugin:function(plugin){plugin=this.constructPlugin(plugin);this.plugins?this.plugins.push(plugin):this.plugins=[plugin];this.pluginsInitialized&&
this.initPlugin(plugin);return plugin},addPropertyToState:function(state,propName,value){var len=arguments.length;if(3===len||this.hasOwnProperty(propName))3>len&&(value=this[propName]),value!==this.initialConfig[propName]&&((state||(state={}))[propName]=value);return state},addUIClsToElement:function(uiCls){var baseClsUI=this.baseCls+'-'+this.ui+'-'+uiCls;uiCls=['x-'+uiCls,this.baseCls+'-'+uiCls,baseClsUI];var childElName,el,suffix;if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius){baseClsUI+=
'-';var childEls=this.getChildEls();for(childElName in childEls)(suffix=childEls[childElName].frame)&&!0!==suffix&&(el=this[childElName])&&el.addCls(baseClsUI+suffix)}return uiCls},removeUIClsFromElement:function(uiCls){var baseClsUI=this.baseCls+'-'+this.ui+'-'+uiCls;uiCls=['x-'+uiCls,this.baseCls+'-'+uiCls,baseClsUI];var childElName,el,suffix;if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius){baseClsUI+='-';var childEls=this.getChildEls();for(childElName in childEls)(suffix=childEls[childElName].frame)&&
!0!==suffix&&(el=this[childElName])&&el.removeCls(baseClsUI+suffix)}return uiCls},adjustPosition:function(x,y){if(this.isContainedFloater()){var floatParentBox=this.floatParent.getTargetEl().getViewRegion();x+=floatParentBox.left;y+=floatParentBox.top}return{x,y}},afterHide:function(callback,scope){var container=this.ownerFocusableContainer;delete this.getInherited().topmostFocusEvent;this.hiddenByLayout=null;this.ownerLayout&&this.updateLayout({isRoot:!1});if(container&&!container.onFocusableChildHide.$nullFn)container.onFocusableChildHide(this);
this.fireHierarchyEvent('hide');this.fireEvent('hide',this);Ext.callback(callback,scope||this)},afterSetPosition:function(x,y){this.onPosition(x,y);this.hasListeners.move&&this.fireEvent('move',this,x,y)},afterShow:function(animateTarget,callback,scope){var me=this,myEl=me.el,zim=me.zIndexManager;animateTarget=me.getAnimateTarget(animateTarget);zim&&zim.suspendReflow();me.ghost||(animateTarget=null);if(animateTarget){myEl={x:myEl.getX(),y:myEl.getY(),width:myEl.dom.offsetWidth,height:myEl.dom.offsetHeight};
animateTarget={x:animateTarget.getX(),y:animateTarget.getY(),width:animateTarget.dom.offsetWidth,height:animateTarget.dom.offsetHeight};me.fireHierarchyEvent('show');var ghostPanel=me.ghost();ghostPanel.el.stopAnimation();ghostPanel.setX(-1E4);me.ghostBox=myEl;ghostPanel.el.animate({from:animateTarget,to:myEl,listeners:{beforeanimate:function(){me.modal&&ghostPanel.toFront()},afteranimate:function(){me.destroying||(ghostPanel.componentLayout.lastComponentSize=null,me.unghost(),me.ghostBox=null,me.onShowComplete(callback,
scope))}}})}else me.onShowComplete(callback,scope),me.fireHierarchyEvent('show');zim&&zim.resumeReflow(!0)},animate:function(animObj){var me=this,hasToWidth,hasToHeight,toHeight,toWidth,curWidth,curHeight;animObj=animObj||{};var to=animObj.to||{};if(Ext.fx.Manager.hasFxBlock(me.id))return me;(hasToWidth=Ext.isDefined(to.width))&&(toWidth=Ext.Number.constrain(to.width,me.minWidth,me.maxWidth));(hasToHeight=Ext.isDefined(to.height))&&(toHeight=Ext.Number.constrain(to.height,me.minHeight,me.maxHeight));
if(!animObj.dynamic&&(hasToWidth||hasToHeight)){var w=curWidth=(animObj.from?animObj.from.width:void 0)||me.getWidth();var h=curHeight=(animObj.from?animObj.from.height:void 0)||me.getHeight();var clearWidth=!1;hasToHeight&&toHeight>curHeight&&(h=toHeight,clearWidth=!0);hasToWidth&&toWidth>curWidth&&(w=toWidth,clearWidth=!0);if(hasToHeight||hasToWidth){var oldOverflow=me.el.getStyle('overflow');'hidden'!==oldOverflow&&me.el.setStyle('overflow','hidden')}if(clearWidth){clearWidth=!Ext.isNumber(me.width);
var clearHeight=!Ext.isNumber(me.height);me.setSize(w,h);me.el.setSize(curWidth,curHeight);clearWidth&&delete me.width;clearHeight&&delete me.height}hasToWidth&&(to.width=toWidth);hasToHeight&&(to.height=toHeight)}var wasConstrained=me.constrain;var wasConstrainedHeader=me.constrainHeader;if(wasConstrained||wasConstrainedHeader){me.constrain=me.constrainHeader=!1;var passedCallback=animObj.callback;animObj.callback=function(){me.constrain=wasConstrained;me.constrainHeader=wasConstrainedHeader;passedCallback&&
passedCallback.call(animObj.scope||me,arguments);'hidden'!==oldOverflow&&me.el.setStyle('overflow',oldOverflow)}}return me.mixins.animate.animate.apply(me,arguments)},applyScrollable:function(scrollable,oldScrollable){var rendered=this.rendered;if(scrollable){if(!0===scrollable||'string'===typeof scrollable)scrollable=this._scrollableCfg[scrollable];oldScrollable?(oldScrollable.setConfig(scrollable),scrollable=oldScrollable):(scrollable=Ext.Object.chain(scrollable),rendered&&(scrollable.element=this.getOverflowEl()),
scrollable=Ext.scroll.Scroller.create(scrollable,this.scrollableType),scrollable.component=this)}else oldScrollable&&(scrollable=oldScrollable,oldScrollable.setConfig({x:!1,y:!1}));!this.rendered||this.destroying||this.destroyed||(scrollable?this.getOverflowStyle():this.scrollFlags=this._scrollFlags.none,this.updateLayout());return scrollable},getScrollableClientRegion:function(){return this.getScrollable().getElement().getClientRegion()},applyTouchAction:function(touchAction,oldTouchAction){null!=
oldTouchAction&&(touchAction=Ext.merge({},oldTouchAction,touchAction));return touchAction},beforeDestroy:Ext.emptyFn,beforeLayout:function(){if(this.floating)this.onBeforeFloatLayout()},beforeSetPosition:function(x,y,animate){var pos=null,x0;x&&(Ext.isNumber(x0=x[0])?(animate=y,y=x[1],x=x0):void 0!==(x0=x.x)&&(animate=y,y=x.y,x=x0));if(this.constrain||this.constrainHeader)if(pos=this.calculateConstrainedPosition(null,[x,y],!0))x=pos[0],y=pos[1];x0=void 0!==x;var hasY=void 0!==y;if(x0||hasY)this.x=
x,this.y=y,x=this.adjustPosition(x,y),pos={x:x.x,y:x.y,anim:animate,hasX:x0,hasY};return pos},beforeShow:Ext.emptyFn,bubble:function(fn,scope,args){for(var p=this;p&&!1!==fn.apply(scope||p,args||[p]);)p=p.getBubbleTarget();return this},clearListeners:function(){this.mixins.observable.clearListeners.call(this);this.mixins.componentDelegation.clearDelegatedListeners.call(this)},cloneConfig:function(overrides){overrides=overrides||{};var id=overrides.id||Ext.id();overrides=Ext.applyIf(overrides,this.initialConfig);
overrides.id=id;return new (Ext.getClass(this))(overrides)},destroy:function(){this.hasListeners.beforedestroy&&!1===this.fireEvent('beforedestroy',this)||(this.isDestroying=this.destroying=!0,this.doDestroy(),this.clearListeners(),this.isDestroying=this.destroying=!1,this.callParent(),this.mixins.componentDelegation.destroyComponentDelegation.call(this),this.mixins.observable.destroyObservable.call(this,!0))},doDestroy:function(){var focusableContainer=this.ownerFocusableContainer,container=this.container,
selectors=this.renderSelectors,selector;var ownerCt=this.floatParent||this.ownerCt;this.floating&&(delete this.floatParent,this.zIndexManager&&!this.zIndexManager.destroyed&&this.zIndexManager.unregister(this),this.floating=!0);this.removeBindings();this.beforeDestroy.$emptyFn||this.beforeDestroy();this.destroyBindable();ownerCt&&ownerCt.remove&&ownerCt.remove(this,{destroy:!1});this.stopAnimation();this.rendered&&Ext.destroy(this.loadMask,this.dd,this.resizer,this.proxy,this.proxyWrap,this.resizerComponent,
this.scrollable,this.contentEl);if(focusableContainer&&!focusableContainer.onFocusableChildDestroy.$nullFn)focusableContainer.onFocusableChildDestroy(this);this.focusable&&this.destroyFocusable();Ext.destroy(this.componentLayout,this.loadMask,this.floatingDescendants);if(!this.onDestroy.$emptyFn)this.onDestroy();Ext.destroy(this.plugins);this.rendered&&Ext.Component.cancelLayout(this,!0);this.componentLayout=null;this.hasListeners.destroy&&this.fireEvent('destroy',this);this.preventRegister||Ext.ComponentManager.unregister(this);
this.mixins.state.destroy.call(this);if(this.floating)this.onFloatDestroy();if(this.rendered){this.showListenerIE&&(this.showListenerIE.destroy(),this.showListenerIE=null);this.preserveElOnDestroy||this.el.destroy();this.collectContainerElement&&container&&(container.destroyed||container.collect(),this.container=null);this.el.component=null;this.mixins.elementCt.destroy.call(this);if(selectors)for(selector in selectors)selectors.hasOwnProperty(selector)&&(focusableContainer=this[selector])&&(delete this[selector],
focusableContainer.destroy());this.rendered=!1}},disable:function(silent,fromParent){var container=this.ownerFocusableContainer,inherited=this.getInherited();fromParent||(this.savedDisabled=inherited.disabled=!0);this.maskOnDisable&&(inherited.disableMask=!0);if(!this.disabled){container&&!container.beforeFocusableChildDisable.$nullFn&&container.beforeFocusableChildDisable(this);this.addCls(this.disabledCls);this.disabled=!0;if(this.rendered)this.onDisable();else this.disableOnRender=!0;!0!==silent&&
this.fireEvent('disable',this);if(container&&!container.onFocusableChildDisable.$nullFn)container.onFocusableChildDisable(this)}return this},doFireEvent:function(eventName,args,bubbles){bubbles=this.mixins.observable.doFireEvent.call(this,eventName,args,bubbles);!1===bubbles||this.destroyed||(bubbles=this.mixins.componentDelegation.doFireDelegatedEvent.call(this,eventName,args));return bubbles},enable:function(silent,fromParent){var container=this.ownerFocusableContainer,inherited=this.getInherited();
fromParent||(delete this.getInherited().disabled,this.savedDisabled=!1);this.maskOnDisable&&delete inherited.disableMask;if(this.disabled&&(!fromParent||!inherited.hasOwnProperty('disabled'))){container&&!container.beforeFocusableChildEnable.$nullFn&&container.beforeFocusableChildEnable(this);this.disableOnRender=!1;this.removeCls(this.disabledCls);this.disabled=!1;if(this.rendered)this.onEnable();!0!==silent&&this.fireEvent('enable',this);if(container&&!container.onFocusableChildEnable.$nullFn)container.onFocusableChildEnable(this)}return this},
findParentBy:function(fn){var p;for(p=this.getRefOwner();p&&!fn(p,this);p=p.getRefOwner());return p||null},findParentByType:function(xtype){return Ext.isFunction(xtype)?this.findParentBy(function(p){return p.self===xtype||p.constructor===xtype}):this.up(xtype)},findPlugin:function(ptype){var i,plugins=this.plugins,ln=plugins&&plugins.length;for(i=0;i<ln;i++)if(plugins[i].ptype===ptype)return plugins[i]},getAnimateTarget:function(target){(target=target||this.animateTarget)&&(target=target.isComponent?
target.getEl():Ext.get(target));return target||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){this.componentLayout&&this.componentLayout.isLayout||this.setComponentLayout(Ext.layout.Layout.create(this.componentLayout,'autocomponent'));return this.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(inheritedState){var layout=this.componentLayout;this.hidden&&(inheritedState.hidden=
!0);this.collapseImmune&&(inheritedState.collapseImmune=!0);void 0!==this.modelValidation&&(inheritedState.modelValidation=this.modelValidation);this.savedDisabled&&(inheritedState.disabled=!0);this.mixins.bindable.initInheritedState.call(this,inheritedState);layout&&layout.initInheritedState&&layout.initInheritedState(inheritedState)},getId:function(){if(!this.id&&!(this.id=this.initialConfig.id)){var xtype=(xtype=this.getXType())?xtype.replace(Ext.Component.INVALID_ID_CHARS_Re,'-'):Ext.name.toLowerCase()+
'-comp';this.id=xtype+'-'+this.getAutoId()}return this.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var loader=this.loader;return loader?(loader.isLoader?loader.setTarget(this):this.loader=new Ext.ComponentLoader(Ext.apply({target:this},loader)),this.loader):null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(id){var i,plugins=this.plugins,ln=plugins&&plugins.length;for(i=0;i<ln;i++){var plugin=plugins[i];if(plugin.id===
id||plugin.pluginId===id)return plugin}return null},getPosition:function(local){var isContainedFloater=this.isContainedFloater();if(!0===local&&!isContainedFloater)return[this.getLocalX(),this.getLocalY()];var xy=this.getXY();!0===local&&isContainedFloater&&(local=this.floatParent.getTargetEl().getViewRegion(),xy[0]-=local.left,xy[1]-=local.top);return xy},getScrollX:function(){var scroller=this.getScrollable();return scroller?scroller.getPosition().x:0},getScrollY:function(){var scroller=this.getScrollable();
return scroller?scroller.getPosition().y:0},getSize:function(contentSize){return this.el.getSize(contentSize)},getSizeModel:function(ownerCtSizeModel){var models=Ext.layout.SizeModel,ownerContext=this.componentLayout.ownerContext,width=this.width,height=this.height,typeofWidth,typeofHeight,ownerLayout,topLevel,isFloating=this.floating||this.floated;if(ownerContext){var widthModel=ownerContext.widthModel;var heightModel=ownerContext.heightModel}if(!widthModel||!heightModel){var hasPixelWidth='number'===
(typeofWidth=typeof width);var hasPixelHeight='number'===(typeofHeight=typeof height);if(topLevel=isFloating||!(ownerLayout=this.ownerLayout)){var policy=Ext.layout.Layout.prototype.autoSizePolicy;ownerLayout=isFloating?3:this.shrinkWrap;hasPixelWidth&&(widthModel=models.configured);hasPixelHeight&&(heightModel=models.configured)}else policy=ownerLayout.getItemSizePolicy(this,ownerCtSizeModel),ownerLayout=ownerLayout.isItemShrinkWrap(this);ownerContext&&(ownerContext.ownerSizePolicy=policy);ownerLayout=
!0===ownerLayout?3:ownerLayout||0;if(topLevel&&ownerLayout){if(width&&'string'===typeofWidth){ownerLayout&=2;var hasWidthStyle=!0}if(height&&'string'===typeofHeight){ownerLayout&=1;var hasHeightStyle=!0}}3!==ownerLayout&&(ownerCtSizeModel||(ownerCtSizeModel=this.ownerCt&&this.ownerCt.getSizeModel()),ownerCtSizeModel&&(ownerLayout|=(ownerCtSizeModel.width.shrinkWrap?1:0)|(ownerCtSizeModel.height.shrinkWrap?2:0)));widthModel||(widthModel=policy.setsWidth||this.frame&&hasWidthStyle?policy.readsWidth?
hasPixelWidth?models.calculatedFromConfigured:ownerLayout&1?models.calculatedFromShrinkWrap:models.calculatedFromNatural:models.calculated:hasPixelWidth?models.configured:ownerLayout&1?models.shrinkWrap:models.natural);heightModel||(heightModel=policy.setsHeight||this.frame&&hasHeightStyle?policy.readsHeight?hasPixelHeight?models.calculatedFromConfigured:ownerLayout&2?models.calculatedFromShrinkWrap:models.calculatedFromNatural:models.calculated:hasPixelHeight?models.configured:ownerLayout&2?models.shrinkWrap:
models.natural)}return widthModel.pairsByHeightOrdinal[heightModel.ordinal]},getState:function(){var state=null,sizeModel=this.getSizeModel();sizeModel.width.configured&&(state=this.addPropertyToState(state,'width'));sizeModel.height.configured&&(state=this.addPropertyToState(state,'height'));return state},getUserCls:function(){return this.userCls},setUserCls:function(cls){var was=this.userCls;cls!==was&&(this.userCls=cls,this.rendered&&this.el.replaceCls(was,cls));return was},getWidth:function(){return this.el.getWidth()},
getXType:function(){return this.self.xtype},getXTypes:function(){var self=this.self,parentPrototype;if(!self.xtypes){var xtypes=[];for(parentPrototype=this;parentPrototype;){var parentXtypes=parentPrototype.xtypes;void 0!==parentXtypes&&xtypes.unshift.apply(xtypes,parentXtypes);parentPrototype=parentPrototype.superclass}self.xtypeChain=xtypes;self.xtypes=xtypes.join('/')}return self.xtypes},hasCls:function(className){var el=this.rendered?this.el:this.protoEl;return el.hasCls.apply(el,arguments)},
hasUICls:function(cls){return Ext.Array.contains(this.uiCls||[],cls)},hide:function(animateTarget,callback,scope){var container=this.ownerFocusableContainer;this.pendingShow&&(this.pendingShow=!1);if(!this.rendered||this.isVisible())if(!this.hasListeners.beforehide||!1!==this.fireEvent('beforehide',this)||this.hierarchicallyHidden)this.getInherited().hidden=this.hidden=!0,container&&!container.beforeFocusableChildHide.$nullFn&&container.beforeFocusableChildHide(this),this.fireHierarchyEvent('beforehide'),
this.rendered&&this.onHide.apply(this,arguments);return this},initComponent:function(){var width=this.width,height=this.height;this.plugins&&!this.plugins.processed&&this.constructPlugins();this.pluginsInitialized=!0;null==width&&null==height||this.setSize(width,height);this.listeners&&(this.on(this.listeners),this.listeners=null);this.focusable&&this.initFocusable()},initEvents:function(){var afterRenderEvents=this.afterRenderEvents,el,property,len;if(afterRenderEvents)for(property in afterRenderEvents)if((el=
this[property])&&el.on){var afterRenderEvent=afterRenderEvents[property];var index=0;for(len=afterRenderEvent.length;index<len;++index)this.mon(el,afterRenderEvent[index])}this.focusable&&this.initFocusableEvents();this.initKeyMap()},is:function(selector){return Ext.ComponentQuery.is(this,selector)},isDisabled:function(){return this.disabled},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},
getHidden:function(){return this.hidden},isHierarchicallyHidden:function(){for(var child=this,hidden=!1,parent,parentInheritedState;parent=child.ownerCt||child.floatParent;child=parent){parentInheritedState=parent.getInherited();if(parentInheritedState.hidden){hidden=!0;break}if(child.getInherited().collapseImmune){if(parent.collapsed&&!child.collapseImmune){hidden=!0;break}}else{hidden=!!parentInheritedState.collapsed;break}}return hidden},isLayoutChild:function(ownerCandidate){return!this.floating&&
!!this.up(ownerCandidate)},isLayoutRoot:function(){var ownerLayout=this.ownerLayout;return!ownerLayout||this._isLayoutRoot||this.floating?!0:ownerLayout.isItemLayoutRoot(this)},isLayoutSuspended:function(){for(var comp=this;comp;){if(comp.layoutSuspendCount||comp.suspendLayout)return!0;comp=comp.ownerLayout;if(!comp)break;comp=comp.owner}return!1},isVisible:function(deep){var hidden;this.hidden||!this.rendered||this.destroyed?hidden=!0:deep&&(hidden=this.isHierarchicallyHidden());return!hidden},isXType:function(xtype,
shallow){return shallow?-1!==Ext.Array.indexOf(this.xtypes,xtype):!!this.xtypesMap[xtype]},isMasked:function(deep){return!!(this.masked||this.loadMask&&this.loadMask.isVisible()||deep&&this.getInherited().masked)},lookupTpl:function(name){return Ext.XTemplate.getTpl(this,name)},setMasked:function(isMasked){var container=this.ownerFocusableContainer;isMasked?(this.masked=!0,this.getInherited().masked=isMasked):(this.masked=!1,delete this.getInherited().masked);if(container&&!container.onFocusableChildMasked.$nullFn)container.onFocusableChildMasked(this,
isMasked);return this},mask:function(msg,msgCls,elHeight){var box=this.lastBox,target=this.getMaskTarget()||this.el;box&&(elHeight=box.height);target.mask(msg,msgCls,elHeight);this.setMasked(!0)},nextNode:function(selector,includeSelf){var ownerCt=this.ownerCt,len;if(includeSelf&&this.is(selector))return this;if(ownerCt){includeSelf=ownerCt.items.items;var i=Ext.Array.indexOf(includeSelf,this)+1;for(len=includeSelf.length;i<len;i++){var result=includeSelf[i];if(result.is(selector)||result.down&&(result=
result.down(selector)))return result}return ownerCt.nextNode(selector)}return null},nextSibling:function(selector){var o=this.ownerCt,last,idx,c;if(o&&(o=o.items,idx=o.indexOf(this)+1))if(selector)for(last=o.getCount();idx<last;idx++){if((c=o.getAt(idx)).is(selector))return c}else if(idx<o.getCount())return o.getAt(idx);return null},onAdded:function(container,pos,instanced){this.ownerCt=container;this.onInheritedAdd(this,instanced);this.hasListeners&&this.hasListeners.added&&this.fireEvent('added',
this,container,pos);Ext.GlobalEvents.hasListeners.added&&this.fireHierarchyEvent('added')},onRemoved:function(destroying){var focusTarget,floatParent=this.up('[floating]');!this.isLayoutMoving&&this.el&&this.el.contains(Ext.Element.getActiveElement())&&(focusTarget=this.findFocusTarget())&&focusTarget.focus();Ext.GlobalEvents.hasListeners.removed&&this.fireHierarchyEvent('removed');this.hasListeners.removed&&this.fireEvent('removed',this,this.ownerCt);this.onInheritedRemove(destroying);this.ownerCt=
this.ownerLayout=null;floatParent&&!destroying&&floatParent.moveFloatingDescendants(this)},onBoxReady:function(width,height){var label;if(this.ariaLabelledBy||this.ariaDescribedBy)this.ariaLabelledBy&&(label=this.getAriaLabelEl(this.ariaLabelledBy))&&this.ariaEl.dom.setAttribute('aria-labelledby',label),this.ariaDescribedBy&&(label=this.getAriaLabelEl(this.ariaDescribedBy))&&this.ariaEl.dom.setAttribute('aria-describedby',label);this.resizable&&this.initResizable(this.resizable);this.draggable&&this.initDraggable();
this.hasListeners.boxready&&this.fireEvent('boxready',this,width,height)},onDestroy:Ext.emptyFn,onDisable:function(){this.focusable&&this.disableFocusable();this.ariaStaticRoles[this.ariaRole]||this.ariaEl.dom.setAttribute('aria-disabled',!0);if(this.maskOnDisable&&!this.getInheritedConfig('disableMask',!0)){var dom=this.el.dom;var nodeName=dom.nodeName;this.disabledRe.test(nodeName)&&(dom.disabled=!0);this.nonMaskableRe.test(nodeName)||this.mask()}},onEnable:function(){this.focusable&&this.enableFocusable();
this.ariaStaticRoles[this.ariaRole]||this.ariaEl.dom.setAttribute('aria-disabled',!1);if(this.maskOnDisable&&this.getInherited().hasOwnProperty('masked')){var dom=this.el.dom;var nodeName=dom.nodeName;this.disabledRe.test(nodeName)&&(dom.disabled=!1);this.nonMaskableRe.test(nodeName)||this.unmask()}},onGlobalShow:function(c){this.up(c)&&this.getScrollable().restoreState()},onHide:function(animateTarget,callback,scope){var me=this;me.ariaStaticRoles[me.ariaRole]||me.destroying||me.destroyed||me.ariaEl.dom.setAttribute('aria-hidden',
!0);me.revertFocus();animateTarget=me.getAnimateTarget(animateTarget);me.ghost||(animateTarget=null);if(animateTarget){var toBox={x:animateTarget.getX(),y:animateTarget.getY(),width:animateTarget.dom.offsetWidth,height:animateTarget.dom.offsetHeight};var ghostPanel=me.ghost();ghostPanel.el.stopAnimation();var fromSize=me.getSize();ghostPanel.el.animate({to:toBox,listeners:{afteranimate:function(){me.destroying||(ghostPanel.componentLayout.lastComponentSize=null,me.unghost(!1),ghostPanel.el.setSize(fromSize),
me.afterHide(callback,scope))}}})}else me.el.hide();animateTarget||me.afterHide(callback,scope)},onPosition:Ext.emptyFn,onResize:function(width,height,oldWidth,oldHeight){this.floating&&this.constrain&&this.doConstrain();this.hasListeners.resize&&this.fireEvent('resize',this,width,height,oldWidth,oldHeight)},onShow:function(){this.ariaStaticRoles[this.ariaRole]||this.ariaEl.dom.setAttribute('aria-hidden',!1);this.el.show();this.updateLayout({isRoot:!1,context:this._showContext});this.floating&&(this.maximized?
this.fitContainer():this.constrain&&this.doConstrain())},_showContext:{show:!0},onShowComplete:function(callback,scope){var container=this.ownerFocusableContainer;if(this.floating)this.onFloatShow();Ext.callback(callback,scope||this);this.fireEvent('show',this);if(container&&!container.onFocusableChildShow.$nullFn)container.onFocusableChildShow(this);delete this.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(selector,includeSelf){var ownerCt=this.ownerCt,i;if(includeSelf&&this.is(selector))return this;
if(ownerCt){var it=ownerCt.items.items;for(i=Ext.Array.indexOf(it,this)-1;-1<i;i--){var sib=it[i];if(sib.query&&(includeSelf=sib.query(selector),includeSelf=includeSelf[includeSelf.length-1]))return includeSelf;if(sib.is(selector))return sib}return ownerCt.previousNode(selector,!0)}return null},previousSibling:function(selector){var o=this.ownerCt,c;if(o){o=o.items;var idx=o.indexOf(this);if(-1!==idx)if(selector)for(--idx;0<=idx;idx--){if((c=o.getAt(idx)).is(selector))return c}else if(idx)return o.getAt(--idx)}return null},
registerFloatingItem:function(cmp){this.floatingDescendants||(this.floatingDescendants=new Ext.ZIndexManager(this));this.floatingDescendants.register(cmp)},removeCls:function(cls){var el=this.rendered?this.el:this.protoEl;el.removeCls.apply(el,arguments);return this},removeClsWithUI:function(classes,skip){var clsArray=[];var i=Ext.Array;var remove=i.remove,uiCls=this.uiCls=i.clone(this.uiCls),activeUI=this.activeUI,cls;'string'===typeof classes&&(classes=0>classes.indexOf(' ')?[classes]:Ext.String.splitWords(classes));
var length=classes.length;for(i=0;i<length;i++)(cls=classes[i])&&this.hasUICls(cls)&&(remove(uiCls,cls),activeUI&&(clsArray=clsArray.concat(this.removeUIClsFromElement(cls))));!0!==skip&&activeUI&&this.removeCls(clsArray);return clsArray},resumeLayouts:function(flushOptions){this.rendered&&this.layoutSuspendCount&&!--this.layoutSuspendCount&&(this.suspendLayout=!1,flushOptions&&!this.isLayoutSuspended()&&this.updateLayout(flushOptions))},scrollBy:function(deltaX,deltaY,animate){var scroller=this.getScrollable();
scroller&&scroller.scrollBy(deltaX,deltaY,animate)},scrollTo:function(x,y,animate){var scroller=this.getScrollable();scroller&&scroller.scrollTo(x,y,animate)},setAutoScroll:function(scroll){this.setScrollable(!!scroll);return this},setBorder:function(border,targetEl){var initial=!!targetEl;if(this.rendered||initial)initial||(targetEl=this.el),border=border?!0===border?'1px':this.unitizeBox(border):0,targetEl.setStyle('border-width',border),initial||this.updateLayout();this.border=border},setDock:function(dock){var ownerCt=
this.ownerCt;dock!==this.dock&&(ownerCt&&ownerCt.moveDocked?ownerCt.moveDocked(this,dock):this.dock=dock);return this},setDisabled:function(disabled){return this[disabled?'disable':'enable']()},setFlex:function(flex){this.flex=flex},setHeight:function(height){return this.setSize(void 0,height)},setLoading:function(load,targetEl){var config={target:this};this.rendered&&(!1!==load?(Ext.isString(load)?config.msg=load:Ext.apply(config,load,this.maskDefaults),this.loadMask&&this.loadMask.isLoadMask?Ext.apply(this.loadMask,
config):(targetEl&&null==config.useTargetEl&&(config.useTargetEl=!0),this.loadMask=new Ext.LoadMask(config)),this.loadMask.isVisible()?this.loadMask.syncMaskState():this.loadMask.show()):this.loadMask&&this.loadMask.isLoadMask&&this.loadMask.hide());return this.loadMask},setMargin:function(margin,preventLayout){this.rendered?(margin||0===margin?(!0===margin&&(margin=5),margin=this.unitizeBox(margin)):margin='',this.margin=margin,this.margin$=null,this.getEl().setStyle('margin',margin),preventLayout||
this.updateLayout(this._notAsLayoutRoot)):this.margin=margin},setOverflowXY:function(overflowX,overflowY){this.setScrollable({x:overflowX&&'hidden'!==overflowX?overflowX:!1,y:overflowY&&'hidden'!==overflowY?overflowY:!1});return this},setPagePosition:function(x,y,animate){Ext.isArray(x)&&(y=x[1],x=x[0]);this.pageX=x;this.pageY=y;if(this.floating){if(this.isContainedFloater()){var floatParentBox=this.floatParent.getTargetEl().getViewRegion();Ext.isNumber(x)&&Ext.isNumber(floatParentBox.left)&&(x-=
floatParentBox.left);Ext.isNumber(y)&&Ext.isNumber(floatParentBox.top)&&(y-=floatParentBox.top)}else y=this.el.translateXY(x,y),x=y.x,y=y.y;this.setPosition(x,y,animate)}else y=this.el.translateXY(x,y),this.setPosition(y.x,y.y,animate);return this},setPosition:function(x,y,animate){var pos=this.beforeSetPosition.apply(this,arguments);if(pos&&this.rendered)if(x=pos.x,y=pos.y,animate){if(x!==this.getLocalX()||y!==this.getLocalY())this.stopAnimation(),this.animate(Ext.apply({duration:1E3,listeners:{afteranimate:Ext.Function.bind(this.afterSetPosition,
this,[x,y])},to:{left:x,top:y}},animate))}else this.setLocalXY(x,y),this.afterSetPosition(x,y);return this},setScrollX:function(x,animate){var scroller=this.getScrollable();scroller&&scroller.scrollTo(x,null,animate)},setScrollY:function(y,animate){var scroller=this.getScrollable();scroller&&scroller.scrollTo(null,y,animate)},setSize:function(width,height){var oldWidth=this.width,oldHeight=this.height;width&&'object'===typeof width&&(height=width.height,width=width.width);if('number'===typeof width)this.width=
Ext.Number.constrain(width,this.minWidth,this.maxWidth);else if(null===width)delete this.width;else if('string'===typeof width){var widthIsString=!0;this.width=width}if('number'===typeof height)this.height=Ext.Number.constrain(height,this.minHeight,this.maxHeight);else if(null===height)delete this.height;else if('string'===typeof height){var heightIsString=!0;this.height=height}this.rendered&&this.isVisible()&&(oldWidth!==this.width||oldHeight!==this.height)&&((this.liquidLayout||widthIsString||heightIsString)&&
this.el.setSize(this.width,this.height),this.updateLayout(this._notAsLayoutRoot));return this},setStyle:function(property,value){(this.el||this.protoEl).setStyle(property,value);return this},setUI:function(ui){var uiCls=this.uiCls,activeUI=this.activeUI;ui!==activeUI&&(activeUI?(activeUI=this.removeClsWithUI(uiCls,!0),activeUI.length&&this.removeCls(activeUI),this.removeUIFromElement()):this.uiCls=[],this.activeUI=this.ui=ui,this.addUIToElement(),activeUI=this.addClsWithUI(uiCls,!0),activeUI.length&&
this.addCls(activeUI),this.rendered&&this.updateLayout())},setVisible:function(visible){return this[visible?'show':'hide']()},setHidden:function(hidden){return this.setVisible(!hidden)},setWidth:function(width){return this.setSize(width)},show:function(animateTarget,callback,scope){var rendered=this.rendered,container=this.ownerFocusableContainer;if(this.hierarchicallyHidden||this.floating&&!rendered&&this.isHierarchicallyHidden())rendered||this.initHierarchyEvents(),1<arguments.length?(arguments[0]=
null,this.pendingShow=arguments):this.pendingShow=!0;else if(rendered&&this.isVisible())this.floating&&(this.onFloatShow(),this.toFrontOnShow&&this.toFront());else if(!1!==this.fireEvent('beforeshow',this))this.hidden=!1,delete this.getInherited().hidden,container&&!container.beforeFocusableChildShow.$nullFn&&container.beforeFocusableChildShow(this),Ext.suspendLayouts(),rendered||!this.autoRender&&!this.floating||(this.doAutoRender(),rendered=this.rendered),rendered?(this.beforeShow(),Ext.resumeLayouts(),
this.onShow.apply(this,arguments),this.afterShow.apply(this,arguments)):Ext.resumeLayouts(!0);else this.onShowVeto();return this},showAt:function(x,y,animate){if(!this.rendered&&(this.autoRender||this.floating))return this.x=x,this.y=y,this.show();this.floating?this.setPosition(x,y,animate):this.setPagePosition(x,y,animate);return this.show()},showBy:function(component,position,offset){this.floating&&component&&(this._lastAlignTarget=component,this._lastAlignToPos=position||this.defaultAlign,this.alignOffset&&
this.alignOffset===offset||(this.alignOffset=offset),this._lastAlignToOffsets=offset||this.alignOffset,this.show());return this},suspendLayouts:function(){this.rendered&&1===++this.layoutSuspendCount&&(this.suspendLayout=!0)},toggleCls:function(className,state){void 0===state&&(state=!this.hasCls(className));return this[state?'addCls':'removeCls'](className)},unitizeBox:function(box){return Ext.Element.unitizeBox(box)},unmask:function(){(this.getMaskTarget()||this.el).unmask();this.setMasked(!1)},
unregisterFloatingItem:function(cmp){this.floatingDescendants&&this.floatingDescendants.unregister(cmp)},up:function(selector,limit){var result=this.getRefOwner(),limitSelector='string'===typeof limit,limitCount='number'===typeof limit,limitComponent=limit&&limit.isComponent,steps=0;if(selector)for(;result;result=result.getRefOwner()){if(result.destroyed)return null;steps++;if(selector.isComponent){if(result===selector)break}else if(Ext.ComponentQuery.is(result,selector))break;if(limitSelector&&result.is(limit)||
limitCount&&steps===limit||limitComponent&&result===limit)return}return result},update:function(htmlOrData,loadScripts,callback,scriptScope){var isData=this.tpl&&!Ext.isString(htmlOrData),container=this.ownerFocusableContainer;isData?this.data=htmlOrData&&htmlOrData.isEntity?htmlOrData.getData(!0):htmlOrData:this.html=Ext.isObject(htmlOrData)?Ext.DomHelper.markup(htmlOrData):htmlOrData;if(this.rendered){htmlOrData=this.getSizeModel();htmlOrData=htmlOrData.width.shrinkWrap||htmlOrData.height.shrinkWrap;
if(this.isContainer){var el=this.layout.getRenderTarget();htmlOrData=htmlOrData||0<this.items.items.length}else el=this.getTargetEl();if(isData)this.tpl[this.tplWriteMode](el,this.data||{});else el.setHtml(this.html,loadScripts,callback,scriptScope||this);htmlOrData&&this.updateLayout();if(container&&!container.onFocusableChildUpdate.$nullFn)container.onFocusableChildUpdate(this)}},setHtml:function(html,loadScripts,callback,scriptScope){this.update(html,loadScripts,null,scriptScope)},applyData:function(data){this.update(data)},
updateBox:function(box){this.setSize(box.width,box.height);this.setPagePosition(box.x,box.y);return this},_asLayoutRoot:{isRoot:!0},_notAsLayoutRoot:{isRoot:!1},updateLayout:function(options){var lastBox=this.lastBox,isRoot=options&&options.isRoot,context=options&&options.context;lastBox&&(lastBox.invalid=!0);!this.rendered||this.isDetached||this.layoutSuspendCount||this.suspendLayout||(this.hidden?Ext.Component.cancelLayout(this):'boolean'!==typeof isRoot&&(isRoot=this.isLayoutRoot()),!isRoot&&this.ownerLayout&&
this.ownerLayout.onContentChange(this,context)||this.isLayoutSuspended()||(options=options&&options.hasOwnProperty('defer')?options.defer:this.deferLayouts,Ext.Component.updateLayout(this,options)))},updateMaxHeight:function(maxHeight,oldMaxHeight){this.changeConstraint(maxHeight,oldMaxHeight,'min','max-height','height')},updateMaxWidth:function(maxWidth,oldMaxWidth){this.changeConstraint(maxWidth,oldMaxWidth,'min','max-width','width')},updateMinHeight:function(minHeight,oldMinHeight){this.changeConstraint(minHeight,
oldMinHeight,'max','min-height','height')},updateMinWidth:function(minWidth,oldMinWidth){this.changeConstraint(minWidth,oldMinWidth,'max','min-width','width')},updateTouchAction:function(touchAction){var name,hasRootActions;for(name in touchAction){var childEl=this[name];var value=touchAction[name];childEl&&childEl.isElement?childEl.setTouchAction(value):hasRootActions=!0}hasRootActions&&this.el.setTouchAction(touchAction)},getAnchorToXY:function(el,anchor,local,mySize){return el.getAnchorXY(anchor,
local,mySize)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(x){this.el.setLocalX(x)},setLocalXY:function(x,y){this.el.setLocalXY(x,y)},setLocalY:function(y){this.el.setLocalY(y)},setX:function(x,animate){this.el.setX(x,
animate)},setXY:function(xy,animate){this.el.setXY(xy,animate)},setY:function(y,animate){this.el.setY(y,animate)},privates:{addOverCls:function(){this.disabled||this.el.addCls(this.overCls)},addUIToElement:function(){var baseClsUI=this.baseCls+'-'+this.ui,childElName,el,suffix;this.addCls(baseClsUI);if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius){baseClsUI+='-';var childEls=this.getChildEls();for(childElName in childEls)(suffix=childEls[childElName].frame)&&!0!==suffix&&(el=this[childElName])&&
el.addCls(baseClsUI+suffix)}},changeConstraint:function(newValue,oldValue,constrainMethod,styleName,sizeName){var size=this[sizeName];null!=newValue&&'number'===typeof size&&(this[sizeName]=Math[constrainMethod](size,newValue));this.liquidLayout&&(null!=newValue?this.setStyle(styleName,newValue+'px'):oldValue&&this.setStyle(styleName,''));this.rendered&&this.updateLayout()},constructPlugin:function(plugin){var PM=Ext.plugin.Manager;return plugin='string'===typeof plugin?PM.create({},plugin,this):
PM.create(plugin,null,this)},constructPlugins:function(){var plugins=this.plugins,result,len;if(plugins)for(this.plugins=result=Ext.plugin.Abstract.decode(plugins,'ptype'),result.processed=!0,plugins=0,len=result.length;plugins<len;plugins++)result[plugins]=this.constructPlugin(result[plugins]);this.pluginsInitialized=!0;return result},detachFromBody:function(){this.isDetached||(Ext.getDetachedBody().appendChild(this.el,!0),Ext.Component.cancelLayout(this),this.isDetached=!0)},doAddListener:function(ename,
fn,scope,options,order,caller,manager){var option;if(Ext.isObject(fn)||options&&options.element){if(options.element)for(option in caller=options.element,order={},order[ename]=fn,scope&&(order.scope=scope),ename=this.$elementEventOptions,options)ename[option]&&(order[option]=options[option]);else order=fn,caller=ename;(options=this[caller])&&options.isObservable?this.mon(options,order):(this.afterRenderEvents=this.afterRenderEvents||{},this.afterRenderEvents[caller]||(this.afterRenderEvents[caller]=
[]),this.afterRenderEvents[caller].push(order))}else{if(options&&(option=options.delegate)){this.mixins.componentDelegation.addDelegatedListener.call(this,ename,fn,scope,options,order,caller,manager);return}this.mixins.observable.doAddListener.call(this,ename,fn,scope,options,order,caller,manager)}},doRemoveListener:function(eventName,fn,scope){this.mixins.observable.doRemoveListener.call(this,eventName,fn,scope);this.mixins.componentDelegation.removeDelegatedListener.call(this,eventName,fn,scope)},
fireHierarchyEvent:function(eventName){var globalEvents=Ext.GlobalEvents;globalEvents.hasListeners[eventName]&&globalEvents.fireEvent(eventName,this)},getActionEl:function(){return this.el},getAutoId:function(){this.autoGenId=!0;return++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var scroller=this.getScrollable(),flags=this._scrollFlags;if(scroller){var x=scroller.getX();
!0===x&&(x='auto');scroller=scroller.getY();!0===scroller&&(scroller='auto');flags=flags[x][scroller]}else flags=flags.none;this.scrollFlags=flags;return{overflowX:flags.overflowX,overflowY:flags.overflowY}},getPlugins:function(){var plugins=this.plugins;return(plugins=plugins&&plugins.processed?plugins:this.constructPlugins())||null},getProxy:function(){if(!this.proxy){var target=Ext.getBody();this.proxy=this.el.createProxy('x-proxy-el',target,!0)}return this.proxy},getTargetEl:function(){return this.frameBody||
this.el},getTdCls:function(){return'x-'+this.getTdType()+'-'+this.ui+'-cell'},getTdType:function(){return this.xtype},getTpl:function(name){return this.lookupTpl(name)},initCls:function(){var cls=[this.baseCls],targetCls=this.getComponentLayout().targetCls;targetCls&&cls.push(targetCls);this.componentCls?cls.push(this.componentCls):this.componentCls=this.baseCls;return cls},initDraggable:function(){var dragTarget=this.resizer&&this.resizer.el!==this.el?this.resizerComponent=new Ext.Component({el:this.resizer.el,
rendered:!0,container:this.container}):this;var ddConfig=Ext.applyIf({el:dragTarget.getDragEl(),constrainTo:this.constrain||this.draggable.constrain?this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():this.container):void 0},this.draggable);if(this.constrain||this.constrainDelegate)ddConfig.constrain=this.constrain,ddConfig.constrainDelegate=this.constrainDelegate;this.dd=new Ext.util.ComponentDragger(dragTarget,ddConfig)},initPadding:function(targetEl){var padding=this.padding;null!=
padding&&(this.layout&&this.layout.managePadding&&'padding'===this.contentPaddingProperty?targetEl.setStyle('padding',0):targetEl.setStyle('padding',this.unitizeBox(!0===padding?5:padding)))},initPlugin:function(plugin){plugin.init(this);return plugin},initResizable:function(resizable){resizable=Ext.apply({target:this,dynamic:!1,constrainTo:this.constrain||resizable&&resizable.constrain?this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():this.container):void 0,handles:this.resizeHandles},
resizable);resizable.target=this;this.resizer=new Ext.resizer.Resizer(resizable)},initStyles:function(targetEl){var margin=this.margin,border=this.border,cls=this.cls,style=this.style,x=this.x,y=this.y,liquidLayout=this.liquidLayout;this.initPadding(targetEl);null!=margin&&targetEl.setStyle('margin',this.unitizeBox(!0===margin?5:margin));null!=border&&this.setBorder(border,targetEl);cls&&cls!==this.initialCls&&(targetEl.addCls(cls),this.cls=this.initialCls=null);style&&style!==this.initialStyle&&
(targetEl.setStyle(style),this.style=this.initialStyle=null);null!=x&&targetEl.setStyle(this.horizontalPosProp,'number'===typeof x?x+'px':x);null!=y&&targetEl.setStyle('top','number'===typeof y?y+'px':y);if(!this.ownerCt||this.floating)Ext.scopeCss&&targetEl.addCls(this.rootCls),targetEl.addCls(this.borderBoxCls);if(liquidLayout||!this.getFrameInfo())margin=this.width,border=this.height,null!=margin&&('number'===typeof margin?targetEl.setStyle('width',margin+'px'):targetEl.setStyle('width',margin)),
null!=border&&('number'===typeof border?targetEl.setStyle('height',border+'px'):targetEl.setStyle('height',border))},isContainedFloater:function(){return this.floating&&this.floatParent},isDescendant:function(ancestor){var c;if(ancestor.isContainer)for(c=this.ownerCt;c;c=c.ownerCt)if(c===ancestor)return!0;return!1},owns:function(element){var result=!1;element.isEvent?element=element.target:element.isElement&&(element=element.dom);(element=Ext.Component.fromElement(element))&&(result=element===this||
!!element.up(this));return result},parseBox:function(box){return Ext.Element.parseBox(box)},reattachToBody:function(){this.isDetached=!1},removeManagedListenerItem:function(isClear,managedListener,item,ename,fn,scope){var element=managedListener.options?managedListener.options.element:null;if(element)(element=this[element])&&element.un&&(isClear||!(managedListener.item!==item||managedListener.ename!==ename||fn&&managedListener.fn!==fn||scope&&managedListener.scope!==scope))&&(element.un(managedListener.ename,
managedListener.fn,managedListener.scope),isClear||Ext.Array.remove(this.managedListeners,managedListener));else return this.mixins.observable.removeManagedListenerItem.apply(this,arguments)},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(plugin){Ext.Array.remove(this.plugins,plugin);plugin.destroy()},removeUIFromElement:function(){var baseClsUI=this.baseCls+'-'+this.ui,childElName,el,suffix;this.removeCls(baseClsUI);if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius){baseClsUI+=
'-';var childEls=this.getChildEls();for(childElName in childEls)(suffix=childEls[childElName].frame)&&!0!==suffix&&(el=this[childElName])&&el.removeCls(baseClsUI+suffix)}},setComponentLayout:function(layout){var currentLayout=this.componentLayout;currentLayout&&currentLayout.isLayout&&currentLayout!==layout&&currentLayout.setOwner(null);this.componentLayout=layout;layout.setOwner(this)},setHiddenState:function(hidden){var inheritedState=this.getInherited(),zIndexManager=this.zIndexManager;(this.hidden=
hidden)?inheritedState.hidden=!0:delete inheritedState.hidden;if(zIndexManager)zIndexManager.onComponentShowHide(this)},setupProtoEl:function(){var cls=this.initCls();this.protoEl.addCls(cls)},wrapPrimaryEl:function(dom){var el=this.el;el&&el.isElement||(this.el=Ext.get(dom));this.floating&&this.mixins.floating.constructor.call(this)}},deprecated:{5:{methods:{addClass:'addCls',doComponentLayout:function(){this.updateLayout();return this},removeClass:'removeCls',forceComponentLayout:'updateLayout',
setDocked:'setDock'}}}},1,['box','component'],['component','box'],{component:!0,box:!0},['widget.box','widget.component'],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.util.Floating.prototype.mixinId||Ext.util.Floating.$className,Ext.util.Floating],[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.ComponentDelegation.prototype.mixinId||
Ext.mixin.ComponentDelegation.$className,Ext.mixin.ComponentDelegation],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.util.Animate.prototype.mixinId||Ext.util.Animate.$className,Ext.util.Animate],[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer],[Ext.util.Renderable.prototype.mixinId||Ext.util.Renderable.$className,Ext.util.Renderable],[Ext.state.Stateful.prototype.mixinId||Ext.state.Stateful.$className,
Ext.state.Stateful],[Ext.mixin.Focusable.prototype.mixinId||Ext.mixin.Focusable.$className,Ext.mixin.Focusable],[Ext.mixin.Accessible.prototype.mixinId||Ext.mixin.Accessible.$className,Ext.mixin.Accessible],[Ext.mixin.Keyboard.prototype.mixinId||Ext.mixin.Keyboard.$className,Ext.mixin.Keyboard]],[Ext,'Component',Ext,'AbstractComponent'],function(Component){var prototype=Component.prototype;(prototype.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(prototype.$eventOptions=
Ext.Object.chain(prototype.$eventOptions)).delegate=1;Component.createAlias({on:'addListener',prev:'previousSibling',next:'nextSibling',setUi:'setUI'});Ext.resumeLayouts=function(flush){Component.resumeLayouts(flush)};Ext.suspendLayouts=function(){Component.suspendLayouts()};Ext.batchLayouts=function(fn,scope){Component.suspendLayouts();try{fn.call(scope)}finally{Component.resumeLayouts(!0)}};Ext.setGlyphFontFamily=function(fontFamily){Ext._glyphFontFamily=fontFamily};Component.hierarchyEventSource=
prototype.hierarchyEventSource=Ext.GlobalEvents;Ext.onReady(function(){Ext.supports.HighContrastMode&&Ext.getBody().addCls(Component.ariaHighContrastModeCls)})});
Ext.define('Ext.overrides.mixin.Focusable',{override:'Ext.Component',focusCls:'focus',focus:function(selectText,delay,callback,scope){if(!this.focusable&&!this.isContainer||this.destroyed||this.destroying)return this;if(delay)return this.getFocusTask().delay(Ext.isNumber(delay)?delay:10,this.focus,this,[selectText,!1,callback,scope]),this;this.cancelFocus();if(this.floating&&this.container&&this.container.dom)var containerScrollTop=this.container.dom.scrollTop;!1!==this.mixins.focusable.focus.apply(this,
arguments)&&(callback&&Ext.callback(callback,scope),this.floating&&void 0!==containerScrollTop&&(this.container.dom.scrollTop=containerScrollTop));return this},cancelFocus:function(){var task=this.getFocusTask();task&&task.cancel()},beforeBlur:Ext.emptyFn,postBlur:Ext.emptyFn,beforeFocus:Ext.emptyFn,postFocus:Ext.emptyFn,onFocusEnter:function(e){this.destroying||this.destroyed||(this.floating&&this!==this.zIndexManager.getActive()&&this.toFront(!0),arguments.callee.$previous.call(this,e))},destroyFocusable:function(){this.focusTask&&
this.focusTask.stop(this.focus,this);arguments.callee.$previous.call(this)},privates:{addFocusCls:function(e){var focusCls=this.focusCls;focusCls&&(e=this.getFocusClsEl(e))&&e.addCls(this.addClsWithUI(focusCls,!0))},removeFocusCls:function(e){var focusCls=this.focusCls;focusCls&&(e=this.getFocusClsEl(e))&&e.removeCls(this.removeClsWithUI(focusCls,!0))},getFocusTask:function(){this.focusTask||(this.focusTask=Ext.focusTask);return this.focusTask},updateMaskState:function(state,mask){var ariaEl=this.ariaEl.dom,
skipMask=this.getInherited().disabled&&this.getInherited().disableMask;if(state){if(this.disableTabbing(),skipMask||this.setMasked(!0),ariaEl){ariaEl.setAttribute('aria-busy','true');if(state=ariaEl.getAttribute('aria-describedby'))this._savedAriaDescribedBy=state;ariaEl.setAttribute('aria-describedby',mask.ariaEl.id)}}else this.enableTabbing(),skipMask||this.setMasked(!1),ariaEl&&(ariaEl.removeAttribute('aria-busy'),state=ariaEl.getAttribute('aria-describedby'),ariaEl.removeAttribute('aria-describedby'),
state===mask.ariaEl.id&&this._savedAriaDescribedBy&&(ariaEl.setAttribute('aria-describedby',this._savedAriaDescribedBy),delete this._savedAriaDescribedBy))}}},function(){Ext.focusTask||(Ext.focusTask=new Ext.util.DelayedTask)});Ext.define('Ext.Responsive',{override:'Ext.Component',mixins:[Ext.mixin.Responsive]});
Ext.define('Ext.layout.container.border.Region',{override:'Ext.Component',initBorderRegion:function(){var me=this;me._borderRegionInited||(me._borderRegionInited=!0,me.addStateEvents(['changeregion','changeweight']),Ext.override(me,{getState:function(){var state=me.callParent();state=me.addPropertyToState(state,'region');return state=me.addPropertyToState(state,'weight')}}))},getOwningBorderContainer:function(){var layout=this.getOwningBorderLayout();return layout&&layout.owner},getOwningBorderLayout:function(){var layout=
this.ownerLayout;return layout&&layout.isBorderLayout?layout:null},setRegion:function(region){var borderLayout,old=this.region;if(region!==old)if(borderLayout=this.getOwningBorderLayout()){var regionFlags=borderLayout.regionFlags[region],placeholder=this.placeholder,splitter=this.splitter,owner=borderLayout.owner,regionMeta=borderLayout.regionMeta;borderLayout=this.collapsed||this.floated;if(!1===this.fireEventArgs('beforechangeregion',[this,region]))return old;Ext.suspendLayouts();this.region=region;
Ext.apply(this,regionFlags);this.updateCollapseTool&&this.updateCollapseTool();if(splitter){Ext.apply(splitter,regionFlags);splitter.updateOrientation();regionFlags=owner.items;var index=regionFlags.indexOf(this);0<=index&&(region=regionMeta[region].splitterDelta,regionFlags.getAt(index+region)!==splitter&&(regionFlags.remove(splitter),index=regionFlags.indexOf(this),0<region&&++index,regionFlags.insert(index,splitter)))}placeholder&&(borderLayout&&this.expand(!1),owner.remove(placeholder),this.placeholder=
null,borderLayout&&this.collapse(null,!1));owner.updateLayout();Ext.resumeLayouts(!0);this.fireEventArgs('changeregion',[this,old])}else this.region=region;return old},setWeight:function(weight){var ownerCt=this.getOwningBorderContainer(),placeholder=this.placeholder,old=this.weight;weight!==old&&!1!==this.fireEventArgs('beforechangeweight',[this,weight])&&(this.weight=weight,placeholder&&(placeholder.weight=weight),ownerCt&&ownerCt.updateLayout(),this.fireEventArgs('changeweight',[this,old]));return old}},
function(Component){Component=Component.prototype;Component.setBorderRegion=Component.setRegion;Component.setRegionWeight=Component.setWeight});
Ext.define('Ext.theme.neptune.Component',{override:'Ext.Component',initComponent:function(){arguments.callee.$previous.call(this);this.dock&&void 0===this.border&&(this.border=!1)},privates:{initStyles:function(){var hasOwnBorder=this.hasOwnProperty('border'),border=this.border;this.dock&&(this.border=null);arguments.callee.$previous.apply(this,arguments);hasOwnBorder?this.border=border:delete this.border}}},function(){Ext.namespace('Ext.theme.is').Neptune=!0;Ext.theme.name='Neptune'});
Ext.define('Ext.theme.triton.Component',{override:'Ext.Component'},function(){Ext.namespace('Ext.theme.is').Triton=!0;Ext.theme.name='Triton'});
Ext.define('Ext.theme.material.Component',{override:'Ext.Component',config:{ripple:null,labelAlign:'top'},initComponent:function(){var me=this;arguments.callee.$previous.call(this);if(me.ripple)me.on('afterrender',function(){me.updateRipple(me.getRipple())},me)},updateRipple:function(ripple){var el=this.el;Ext.isIE9m?Ext.log({level:'warn'},'Ripple effect is not supported in IE9 and below!'):el&&(el.un('touchstart','onRippleStart',this),el.un('touchend','onRippleStart',this),el.destroyAllRipples(),
el.on(ripple.release?'touchend':'touchstart','onRippleStart',this))},shouldRipple:function(e){var disabled=this.getDisabled&&this.getDisabled(),el=this.el;(disabled=!disabled&&this.getRipple())&&e&&(e=e.getTarget(this.noRippleSelector))&&(el.dom===e||el.contains(e))&&(disabled=null);return disabled},onRippleStart:function(e){var ripple=this.shouldRipple(e);0===e.button&&ripple&&this.el.ripple(e,ripple)},privates:{noRippleSelector:'.x-no-ripple',whenVisible:function(fn,args){args=args||Ext.emptyArray;
var listener=this.visibleListener;var pending=this.pendingVisible;var visible=this.isVisible(!0);visible||listener||(this.visibleListener=Ext.on({scope:this,show:'handleGlobalShow',destroyable:!0}));visible?pending?(pending[fn]=args,this.runWhenVisible()):this[fn].apply(this,args):(pending||(this.pendingVisible=pending={}),pending[fn]=args);return visible},clearWhenVisible:function(fn){var pending=this.pendingVisible;pending&&(delete pending[fn],Ext.Object.isEmpty(pending)&&(this.pendingVisible=null,
this.visibleListener=Ext.destroy(this.visibleListener)))},runWhenVisible:function(){var pending=this.pendingVisible,key;this.pendingVisible=null;this.visibleListener=Ext.destroy(this.visibleListener);for(key in pending)this[key].apply(this,pending[key])},handleGlobalShow:function(c){this.isVisible(!0)&&(c===this||this.isDescendantOf(c))&&this.runWhenVisible()}}},function(){Ext.namespace('Ext.theme.is').Material=!0;Ext.theme.name='Material'});
Ext.define('Ext.overrides.app.domain.Component',{override:'Ext.app.domain.Component'},function(ComponentDomain){ComponentDomain.monitor(Ext.Component)});
Ext.cmd.derive('Ext.app.EventBus',Ext.Base,{singleton:!0,constructor:function(){var domains=Ext.app.EventDomain.instances;this.callParent();this.domains=domains;this.bus=domains.component.bus},control:function(selectors,controller){return this.domains.component.listen(selectors,controller)},listen:function(to,controller){var domains=this.domains,domain;for(domain in to)to.hasOwnProperty(domain)&&domains[domain].listen(to[domain],controller)},unlisten:function(controllerId){var domains=Ext.app.EventDomain.instances,
domain;for(domain in domains)domains[domain].unlisten(controllerId)}},1,0,0,0,0,0,[Ext.app,'EventBus'],0);Ext.cmd.derive('Ext.app.domain.Global',Ext.app.EventDomain,{singleton:!0,type:'global',constructor:function(){this.callParent();this.monitor(Ext.GlobalEvents)},listen:function(listeners,controller){this.callParent([{global:listeners},controller])},match:Ext.returnTrue},1,0,0,0,0,0,[Ext.app.domain,'Global'],0);
Ext.cmd.derive('Ext.route.Handler',Ext.Base,{lazy:!1,statics:{fromRouteConfig:function(config,scope){return new this({action:config.action,before:config.before,lazy:config.lazy,exit:config.exit,scope,single:config.single})}},constructor:function(config){Ext.apply(this,config)}},1,0,0,0,0,0,[Ext.route,'Handler'],0);
Ext.cmd.derive('Ext.route.Action',Ext.Base,{config:{actions:null,befores:null,urlParams:[]},started:!1,stopped:!1,constructor:function(config){this.deferred=new Ext.Deferred;this.resume=this.resume.bind(this);this.stop=this.stop.bind(this);this.initConfig(config);this.callParent([config])},applyActions:function(actions){actions&&(actions=Ext.Array.from(actions));return actions},applyBefores:function(befores){befores&&(befores=Ext.Array.from(befores));return befores},destroy:function(){this.deferred=
null;this.setBefores(null).setActions(null).setUrlParams(null);this.callParent()},resume:function(){return this.next()},stop:function(){this.stopped=!0;return this.done()},next:function(){var me=this,actions=me.getActions(),befores=me.getBefores(),urlParams=me.getUrlParams();urlParams=Ext.isArray(urlParams)?urlParams.slice():[urlParams];me.stopped||(befores?!befores.length:1)&&(actions?!actions.length:1)?me.done():befores&&befores.length?(actions=befores.shift(),urlParams.push(me),(actions=Ext.callback(actions.fn,
actions.scope,urlParams))&&actions.then&&actions.then(function(arg){me.resume(arg)},function(arg){me.stop(arg)})):(actions&&actions.length&&(actions=actions.shift(),Ext.callback(actions.fn,actions.scope,urlParams)),me.next());return me},run:function(){var deferred=this.deferred;this.started||(this.next(),this.started=!0);return deferred.promise},done:function(){var deferred=this.deferred;this.stopped?deferred.reject():deferred.resolve();this.destroy();return this},before:function(first,fn,scope){Ext.isBoolean(first)||
(scope=fn,fn=first,first=!1);var befores=this.getBefores();fn={fn,scope};befores?first?befores.unshift(fn):befores.push(fn):this.setBefores(fn);return this},action:function(first,fn,scope){Ext.isBoolean(first)||(scope=fn,fn=first,first=!1);var actions=this.getActions();fn={fn,scope};actions?first?actions.unshift(fn):actions.push(fn):this.setActions(fn);return this},then:function(resolve,reject){return this.deferred.then(resolve,reject)}},1,0,0,0,0,0,[Ext.route,'Action'],0);
Ext.cmd.derive('Ext.route.Route',Ext.Base,{config:{name:null,url:null,allowInactive:!1,conditions:{},caseInsensitive:!1,handlers:[],types:{cached:!0,$value:{alpha:{re:'([a-zA-Z]+)'},alphanum:{re:'([a-zA-Z0-9]+|[0-9]+(?:\\.[0-9]+)?|[0-9]*(?:\\.[0-9]+){1})',parse:function(value){if(value&&this.numRe.test(value)){var test=parseFloat(value);isNaN(test)||(value=test)}return value}},num:{re:'([0-9]+(?:\\.[0-9]+)?|[0-9]*(?:\\.[0-9]+){1})',parse:function(value){value&&(value=parseFloat(value));return value}},
'...':{re:'(.+)?',split:'/',parse:function(values){var i;if(values){var length=values.length;for(i=0;i<length;i++){var value=parseFloat(values[i]);isNaN(value)||(values[i]=value)}}return values}}}}},defaultMatcher:'([%a-zA-Z0-9\\-\\_\\s,]+)',numRe:/^[0-9]*(?:\.[0-9]*)?$/,typeParamRegex:/:{([0-9A-Za-z_]+)(?::?([0-9A-Za-z_]+|.{3})?)}/g,optionalGroupRegex:/\((.+?)\)/g,paramMatchingRegex:/:([0-9A-Za-z_]+)/g,isRoute:!0,constructor:function(config){this.initConfig(config);config=this.getUrl().replace(this.optionalGroupRegex,
function(match,middle){return'(?:'+middle+')?'});config.match(this.typeParamRegex)?this.handleNamedPattern(config):this.handlePositionalPattern(config)},handlePositionalPattern:function(url){this.paramsInMatchString=url.match(this.paramMatchingRegex)||[];this.matcherRegex=this.createMatcherRegex(url);this.mode='positional'},handleNamedPattern:function(url){var typeParamRegex=this.typeParamRegex,conditions=this.getConditions(),types=this.getTypes(),defaultMatcher=this.defaultMatcher,params={};url=
url.replace(typeParamRegex,function(match,param,typeMatch){match=typeMatch&&types[typeMatch];match=conditions[param]||match||defaultMatcher;Ext.isObject(match)&&(match=match.re);params[param]={matcher:match,type:typeMatch};return match});this.paramsInMatchString=params;this.matcherRegex=new RegExp('^'+url+'$',this.getCaseInsensitive()?'i':'');this.mode='named'},recognize:function(url){var i;if(this.recognizes(url)){var handlers=this.getHandlers();var length=handlers.length;for(i=0;i<length;i++){var handler=
handlers[i];if(handler.lastToken!==url){var hasHandler=!0;break}}if(!hasHandler&&url===this.lastToken)return!0;handlers=this.matchesFor(url);length=this.getUrlParams(url);return Ext.applyIf(handlers,{historyUrl:url,urlParams:length})}return!1},getUrlParams:function(url){return'named'===this.mode?this.getNamedUrlParams(url):this.getPositionalUrlParams(url)},getPositionalUrlParams:function(url){var params=[],conditions=this.getConditions(),keys=this.paramsInMatchString;url=url.match(this.matcherRegex);
var length=keys.length,i;url.shift();for(i=0;i<length;i++){var key=keys[i];var value=url[i];if(conditions[key])var type=conditions[key];else':'===key[0]&&(key=key.substr(1),conditions[key]&&(type=conditions[key]));value=this.parseValue(value,type);Ext.isDefined(value)&&''!==value&&(Ext.isArray(value)?params.push.apply(params,value):params.push(value))}return params},getNamedUrlParams:function(url){var conditions=this.getConditions(),types=this.getTypes(),params={},keys=this.paramsInMatchString;url=
url.match(this.matcherRegex);var name;url.shift();for(name in keys){var obj=keys[name];var value=url.shift();var condition=conditions[name];var type=types[obj.type];if(condition||type)type=Ext.merge({},condition,types[obj.type]);params[name]=this.parseValue(value,type)}return params},parseValue:function(value,type){type&&(value&&type.split&&(value=value.split(type.split),value[0]||value.shift(),value[value.length-1]||value.pop()),type.parse&&(value=type.parse.call(this,value)));!value&&Ext.isString(value)&&
(value=void 0);return value},recognizes:function(url){return this.matcherRegex.test(url)},execute:function(token,argConfig){var me=this,allowInactive=me.getAllowInactive(),handlers=me.getHandlers(),queue=Ext.route.Router.getQueueRoutes(),length=handlers.length,urlParams=argConfig&&argConfig.urlParams||[],i,handler,scope,action,promises,single,remover;me.lastToken=token;queue||(promises=[]);return new Ext.Promise(function(resolve,reject){if(!1===argConfig)reject();else{queue&&(action=new Ext.route.Action({urlParams}));
for(i=0;i<length;i++)if(handler=handlers[i],null==token||handler.lastToken!==token)if(scope=handler.scope,handler.lastToken=token,allowInactive||!scope.isActive||scope.isActive())queue||(action=new Ext.route.Action({urlParams})),single=handler.single,handler.before&&action.before(handler.before,scope),handler.action&&action.action(handler.action,scope),single&&(remover=Ext.bind(me.removeHandler,me,[null,handler]),!0===single?handler.action?action.action(remover,me):action.before(function(){remover();
return Ext.Promise.resolve()},me):action.before('before'===single,function(){remover();return Ext.Promise.resolve()},me)),queue||(!1===Ext.fireEvent('beforeroute',action,me)?action.destroy():promises.push(action.run()));queue?!1===Ext.fireEvent('beforeroute',action,me)?(action.destroy(),reject()):action.run().then(resolve,reject):Ext.Promise.all(promises).then(resolve,reject)}})},matchesFor:function(url){var params={},keys='named'===this.mode?Ext.Object.getKeys(this.paramsInMatchString):this.paramsInMatchString;
url=url.match(this.matcherRegex);var length=keys.length,i;url.shift();for(i=0;i<length;i++)params[keys[i].replace(':','')]=url[i];return params},createMatcherRegex:function(url){var paramsInMatchString=this.paramsInMatchString,conditions=this.getConditions(),defaultMatcher=this.defaultMatcher,length=paramsInMatchString.length,modifiers=this.getCaseInsensitive()?'i':'',i;if('*'===url)url=url.replace('*','\\*');else for(i=0;i<length;i++){var param=paramsInMatchString[i];var matcher=conditions[param]?
conditions[param]:':'===param[0]&&conditions[param.substr(1)]?conditions[param.substr(1)]:defaultMatcher;Ext.isObject(matcher)&&(matcher=matcher.re);url=url.replace(new RegExp(param),matcher||defaultMatcher)}return new RegExp('^'+url+'$',modifiers)},addHandler:function(handler){var handlers=this.getHandlers();handler.isInstance||(handler=new Ext.route.Handler(handler));handlers.push(handler);return handler.route=this},removeHandler:function(scope,handler){var handlers=this.getHandlers(),length=handlers.length,
newHandlers=[],i;for(i=0;i<length;i++){var item=handlers[i];handler?item!==handler&&newHandlers.push(item):item.scope!==scope&&newHandlers.push(item)}this.setHandlers(newHandlers);return this},clearLastTokens:function(){var handlers=this.getHandlers(),length=handlers.length,i;for(i=0;i<length;i++)handlers[i].lastToken=null;this.lastToken=null},onExit:function(){var handlers=this.getHandlers(),allowInactive=this.getAllowInactive(),length=handlers.length,action=new Ext.route.Action({urlParams:[this.lastToken]}),
i;this.clearLastTokens();for(i=0;i<length;i++){var handler=handlers[i];if(handler.exit){var scope=handler.scope;(allowInactive||!scope.isActive||scope.isActive())&&action.action(handler.exit,scope)}}!1===Ext.fireEvent('beforerouteexit',action,this)?action.destroy():action.run()}},1,0,0,0,0,0,[Ext.route,'Route'],0);
Ext.cmd.derive('Ext.util.History',Ext.Base,{singleton:!0,alternateClassName:'Ext.History',useTopWindow:!1,hashRe:/^(#?!?)/,constructor:function(){this.ready=!1;this.currentToken=null;this.mixins.observable.constructor.call(this)},getHash:function(){return(this.win.location.hash||'').replace(this.hashRe,'')},setHash:function(hash,replace){var hashRe=this.hashRe,loc=this.win.location;hash=hash.replace(hashRe,this.hashbang?'#!':'#');try{replace?loc.replace(hash):loc.hash=hash,this.currentToken=hash.replace(hashRe,
'')}catch(e){}},handleStateChange:function(token){token=token.replace(this.hashRe,'');this.fireEvent('change',this.currentToken=token)},startUp:function(){this.currentToken=this.getHash();Ext.get(this.win).on('hashchange',this.onHashChange,this);this.ready=!0;this.fireEvent('ready',this)},onHashChange:function(){var newHash=this.getHash();newHash!==this.hash&&(this.hash=newHash,this.handleStateChange(newHash))},init:function(onReady,scope){var me=this;if(me.ready)Ext.callback(onReady,scope,[me]);
else if(Ext.isReady){me.win=me.useTopWindow?window.top:window;me.hash=me.getHash();if(onReady)me.on('ready',onReady,scope,{single:!0});me.startUp()}else Ext.onInternalReady(function(){me.init(onReady,scope)})},add:function(token,preventDuplicates){var set=!1;if(!1===preventDuplicates||this.getToken()!==token)this.setHash(token),set=!0;return set},replace:function(token,preventDuplicates){var set=!1;if(!1===preventDuplicates||this.getToken()!==token)this.setHash(token,!0),set=!0;return set},back:function(){this.win.history.go(-1)},
forward:function(){this.win.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.util,'History',Ext,'History'],0);
Ext.cmd.derive('Ext.route.Router',Ext.Base,{singleton:!0,config:{hashbang:null,multipleToken:'|',queueRoutes:!0},constructor:function(){var History=Ext.util.History;History.ready||History.init();History.on('change',this.onStateChange,this);this.initConfig();this.clear()},updateHashbang:function(hashbang){Ext.util.History.hashbang=hashbang},onStateChange:function(token){var tokens=token.split(this.getMultipleToken());if(this.isSuspended){var queue=this.suspendedQueue;var i=0;var length=tokens.length;
if(queue)for(;i<length;i++)token=tokens[i],Ext.Array.contains(queue,token)||queue.push(token)}else this.handleBefore(tokens)},handleBefore:function(tokens){var action=new Ext.route.Action;!1===Ext.fireEvent('beforeroutes',action,tokens)?action.destroy():action.run().then(this.handleBeforeRoute.bind(this,tokens),Ext.emptyFn)},handleBeforeRoute:function(tokens){var beforeRoute=this.getByName('*');beforeRoute?beforeRoute.execute().then(this.doRun.bind(this,tokens),Ext.emptyFn):this.doRun(tokens)},doRun:function(tokens){for(var app=
this.application,routes=this.routes,i=0,length=tokens.length,matched={},unmatched=[],token,found,name,route,recognize;i<length;i++){token=tokens[i];found=!1;for(name in routes)route=routes[name],(recognize=route.recognize(token))?(found=!0,!0!==recognize&&route.execute(token,recognize).then(null,Ext.bind(this.onRouteRejection,this,[route],0)),Ext.Array.remove(unmatched,route),matched[name]||(matched[name]=1)):matched[name]||unmatched.push(route);found||(app&&app.fireEvent('unmatchedroute',token),
Ext.fireEvent('unmatchedroute',token))}i=0;for(length=unmatched.length;i<length;i++)unmatched[i].onExit()},onRouteRejection:function(route,error){Ext.fireEvent('routereject',route,error);error&&Ext.raise(error)},connect:function(url,config,instance){var routes=this.routes,delimiter=this.getMultipleToken(),name=config.name||url;'!'===url[0]&&(url=url.substr(1),this.setHashbang(!0));Ext.isString(config)&&(config={action:config});instance=Ext.route.Handler.fromRouteConfig(config,instance);var route=
routes[name];route||(config.name=name,config.url=url,route=routes[name]=new Ext.route.Route(config));route.addHandler(instance);if(instance.lazy){url=Ext.util.History.getToken().split(delimiter);config=url.length;routes=[];for(name=0;name<config;name++){var token=url[name];-1===Ext.Array.indexOf(routes,token)&&route.recognize(token)&&routes.push(token)}this.onStateChange(routes.join(delimiter))}return instance},disconnect:function(instance,config){var routes=this.routes,route,name;if(config)(route=
config.route||this.getByName(config.name||config.url))&&route.removeHandler(instance,config);else for(name in routes)route=routes[name],route.removeHandler(instance)},recognize:function(url){var routes=this.routes,matches=[],name,arr,i,length,urlParams;for(name in routes)if(length=(arr=routes[name])&&arr.length)for(i=0;i<length;i++){var route=arr[i];(urlParams=route.recognize(url))&&matches.push({route,urlParams})}return matches.length?matches:!1},draw:function(fn){fn.call(this,this)},clear:function(){this.routes=
{}},clearLastTokens:function(token){var routes=this.routes,name;for(name in routes){var route=routes[name];token&&!route.recognize(token)||route.clearLastTokens()}},getByName:function(name){var routes=this.routes;if(routes)return routes[name]},suspend:function(trackTokens){this.isSuspended=!0;this.suspendedQueue||!1===trackTokens||(this.suspendedQueue=[])},resume:function(discardQueue){var queue=this.suspendedQueue;this.isSuspended&&(this.isSuspended=!1,this.suspendedQueue=null,!discardQueue&&queue&&
(discardQueue=queue.join(this.getMultipleToken()),this.onStateChange(discardQueue)))}},1,0,0,0,0,0,[Ext.route,'Router'],0);
Ext.cmd.derive('Ext.route.Mixin',Ext.Mixin,{mixinConfig:{id:'routerable',before:{destroy:'destroyRouterable'}},config:{routes:null},destroyRouterable:function(){Ext.route.Router.disconnect(this)},applyRoutes:function(routes,oldRoutes){var Router=Ext.route.Router,url;if(routes)for(url in routes)routes[url]=Router.connect(url,routes[url],this);if(oldRoutes)for(url in oldRoutes)Router.disconnect(this,oldRoutes[url]);return routes},redirectTo:function(hash,opt){var currentHash=Ext.util.History.getToken(),
Router=Ext.route.Router,delimiter=Router.getMultipleToken(),tokens=currentHash?currentHash.split(delimiter):[],length=tokens.length,i,name,route;if(-1===hash)return Ext.util.History.back();if(1===hash)return Ext.util.History.forward();if(hash.isModel)hash=hash.toUrl();else if(Ext.isObject(hash)){for(name in hash){var obj=hash[name];Ext.isObject(obj)||(obj={token:obj});if(length){if(route=Router.getByName(name)){var match=!1;for(i=0;i<length;i++){var token=tokens[i];route.matcherRegex.test(token)&&
(match=!0,obj.token?obj.fn&&!1===obj.fn.call(this,token,tokens,obj)||(tokens[i]=obj.token,obj.force&&(route.lastToken=null)):(tokens.splice(i,1),i--,length--,route.lastToken=null))}obj&&obj.token&&!match&&tokens.push(obj.token)}}else obj&&obj.token&&tokens.push(obj.token)}hash=tokens.join(delimiter)}if(!0===opt){var force=opt;opt=null}else opt&&(force=opt.force);length=tokens.length;if(force&&length)for(i=0;i<length;i++)token=tokens[i],Router.clearLastTokens(token);if(currentHash===hash){if(force)Router.onStateChange(hash);
return!1}opt&&opt.replace?Ext.util.History.replace(hash):Ext.util.History.add(hash);return!0},privates:{afterClassMixedIn:function(targetClass){var proto=targetClass.prototype,routes=proto.routes;routes&&(delete proto.routes,targetClass.getConfigurator().add({routes}))}}},0,0,0,0,0,0,[Ext.route,'Mixin'],0);
Ext.cmd.derive('Ext.app.BaseController',Ext.Base,{isController:!0,config:{id:void 0,control:null,listen:null},constructor:function(config){Ext.apply(this,config);delete this.control;delete this.listen;this.eventbus=Ext.app.EventBus;this.mixins.observable.constructor.call(this,config)},updateId:function(id){this.id=id},applyListen:function(listen){Ext.isObject(listen)&&(listen=Ext.clone(listen));return listen},applyControl:function(control){Ext.isObject(control)&&(control=Ext.clone(control));return control},
updateControl:function(control){this.getId();control&&this.control(control)},updateListen:function(listen){this.getId();listen&&this.listen(listen)},isActive:function(){return!0},control:function(selectors,listeners,controller){if(Ext.isString(selectors)){var obj={};obj[selectors]=listeners}else obj=selectors,controller=listeners;this.eventbus.control(obj,controller||this)},listen:function(to,controller){this.eventbus.listen(to,controller||this)},destroy:function(){var bus=this.eventbus;bus&&(bus.unlisten(this),
this.eventbus=null);this.callParent()}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.route.Mixin.prototype.mixinId||Ext.route.Mixin.$className,Ext.route.Mixin]],[Ext.app,'BaseController'],0);
Ext.cmd.derive('Ext.app.Util',Ext.Base,{},0,0,0,0,0,0,[Ext.app,'Util'],function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(namespace){var namespaces=Ext.app.namespaces,l;Ext.isArray(namespace)||(namespace=[namespace]);var i=0;for(l=namespace.length;i<l;i++)namespaces[namespace[i]]=!0},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(className){var namespaces=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),deepestPrefix='',prefix;for(prefix in namespaces)namespaces.hasOwnProperty(prefix)&&
prefix.length>deepestPrefix.length&&prefix+'.'===className.substring(0,prefix.length+1)&&(deepestPrefix=prefix);return''===deepestPrefix?void 0:deepestPrefix},setupPaths:function(appName,appFolder,paths){var manifestPaths=Ext.manifest,ns;appName&&null!==appFolder&&((manifestPaths=manifestPaths&&manifestPaths.paths)&&void 0===appFolder||Ext.Loader.setPath(appName,void 0===appFolder?'app':appFolder));if(paths)for(ns in paths)paths.hasOwnProperty(ns)&&Ext.Loader.setPath(ns,paths[ns])}});Ext.getNamespace=
Ext.app.getNamespace});
Ext.cmd.derive('Ext.util.CollectionKey',Ext.Base,{isCollectionKey:!0,observerPriority:-200,config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:!0},generation:0,map:null,mapRebuilds:0,constructor:function(config){this.initConfig(config)},get:function(key){return(this.map||this.getMap())[key]||null},clear:function(){this.map=null},getRootProperty:function(){var root=(arguments.callee.$previous||Ext.Base.prototype.getRootProperty).call(this);return null!==root?root:this.getCollection().getRootProperty()},
indexOf:function(key,startAt){key=(this.map||this.getMap())[key];var collection=this.getCollection(),length=collection.length,n;if(!key)return-1;void 0===startAt&&(startAt=-1);if(key instanceof Array){var index=length;for(n=key.length;0<n--;){var i=collection.indexOf(key[n]);i<index&&i>startAt&&(index=i)}if(index===length)return-1}else index=collection.indexOf(key);return index>startAt?index:-1},updateKey:function(item,oldKey){var map=this.map;if(map){var bucket=map[oldKey];if(bucket instanceof Array){var index=
Ext.Array.indexOf(bucket,item);0<=index&&(2<bucket.length?bucket.splice(index,1):map[oldKey]=bucket[1-index])}else bucket&&delete map[oldKey];this.add([item])}},onCollectionAdd:function(collection,add){this.map&&this.add(add.items)},onCollectionItemChange:function(collection,details){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(collection,remove){var map=this.map;remove=remove.items;var length=remove.length;if(map)if(this.getUnique()&&length<collection.length/
2)for(collection=0;collection<length;++collection){var key=this.getKey(remove[collection]);delete map[key]}else this.map=null},add:function(items){var map=this.map,bucket,i,item;var length=items.length;var unique=this.getUnique();for(i=0;i<length;++i){var key=this.getKey(item=items[i]);!unique&&key in map?((bucket=map[key])instanceof Array||(map[key]=bucket=[bucket]),bucket.push(item)):map[key]=item}},applyKeyFn:function(keyFn){Ext.isString(keyFn)?this.getKey=function(item){return item[keyFn]()}:
this.getKey=keyFn},updateProperty:function(property){var root=this.getRootProperty();this.getKey=function(item){return(root?item[root]:item)[property]}},getMap:function(){var map=this.map;map||(this.map=map={},this.keysByItemKey={},++this.mapRebuilds,this.add(this.getCollection().items));return map},updateCollection:function(collection,oldCollection){collection&&collection.addObserver(this);oldCollection&&oldCollection.removeObserver(this)},clone:function(){return new Ext.util.CollectionKey(this.getCurrentConfig())},
destroy:function(){this.clear();this.getCollection().removeObserver(this);this.destroyed=!0}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.util,'CollectionKey'],0);
Ext.cmd.derive('Ext.util.Grouper',Ext.util.Sorter,{isGrouper:!0,config:{groupFn:null,sortProperty:null,formatter:!1,blankValue:''},_eventToMethodMap:{propertychange:'onGrouperPropertyChange',directionchange:'onGrouperDirectionChange'},constructor:function(config){Ext.util.Sorter.prototype.constructor.apply(this,arguments)},getGroupString:function(item){return item.$collapsedGroupPlaceholder?item.$groupKey:this.getGroupValue(item).toString()},getGroupValue:function(item){item=item.$collapsedGroupPlaceholder?
item.$groupValue:this._groupFn(item);return null!=item&&''!==item?item:this.getBlankValue()},sortFn:function(item1,item2){var lhs=this.getGroupValue(item1),rhs=this.getGroupValue(item2),property=this._sortProperty,root=this._root,sorterFn=this._sorterFn,transform=this._transform;if(lhs===rhs||Ext.Date.isEqual(lhs,rhs))return 0;if(property||sorterFn){if(sorterFn)return sorterFn.call(this,item1,item2);root&&(item1=item1[root],item2=item2[root]);lhs=item1[property];rhs=item2[property];transform&&(lhs=
transform(lhs),rhs=transform(rhs))}return lhs>rhs?1:lhs<rhs?-1:0},standardGroupFn:function(item){var root=this._root,formatter=this._formatter;item=(root?item[root]:item)[this._property];formatter&&(item=formatter(item,this));return item},updateSorterFn:function(){},updateProperty:function(data,oldData){this.getGroupFn()||this.setGroupFn(this.standardGroupFn);this.notify('propertychange',[data,oldData])},updateDirection:function(data,oldData){Ext.util.Sorter.prototype.updateDirection.call(this,data,
oldData);this.notify('directionchange',[data,oldData])},applyFormatter:function(value){if(!value)return null;value=Ext.app.bind.Parser.fly(value);var format=value.compileFormat();value.release();return function(v,scope){return format(v,scope)}},addObserver:function(observer){var observers=this.observers;observers||(this.observers=observers=[]);Ext.Array.contains(observers,observer)||(this.notifying&&(this.observers=observers=observers.slice(0)),observers[observers.length]=observer);this.dirtyObservers=
!0},prioritySortFn:function(o1,o2){o1=+o1.observerPriority;o2=+o2.observerPriority;isNaN(o1)&&(o1=0);isNaN(o2)&&(o2=0);return o1-o2},removeObserver:function(observer){var observers=this.observers;observers&&(Ext.Array.remove(observers,observer),this.dirtyObservers=!0)},clearObservers:function(){this.observers=null},notify:function(eventName,args){var observers=this.observers;eventName=this._eventToMethodMap[eventName];var added=0,length,method,observer;args=args||[];if(observers&&eventName){this.notifying=
!0;this.dirtyObservers&&1<observers.length&&(Ext.Array.sort(observers,this.prioritySortFn),this.dirtyObservers=!1);var index=0;for(length=observers.length;index<length;++index)if(method=(observer=observers[index])[eventName])added++||args.unshift(this),method.apply(observer,args);this.notifying=!1}}},1,0,0,0,0,0,[Ext.util,'Grouper'],0);
Ext.cmd.derive('Ext.util.Collection',Ext.Base,{isCollection:!0,config:{autoFilter:!0,autoSort:!0,autoGroup:!0,decoder:null,extraKeys:null,filters:null,grouper:null,groupers:null,groups:null,groupConfig:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:'ASC',source:null,trackGroups:!0},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:!1,sorted:!1,filtered:!1,$endUpdatePriority:1001,manageSorters:!0,constructor:function(config){this.items=[];this.map={};this.length=
0;config&&config.keyFn&&(this.getKey=config.keyFn);this.mixins.observable.constructor.call(this,config)},destroy:function(){var filters=this._filters,sorters=this._sorters,groupers=this._groupers,monitored=this.lastMonitoredGroupers;filters&&(filters.destroy(),this._filters=null);sorters&&(this.grouped=this.sorted=!1,this.setSorters(null),this.manageSorters&&sorters.destroy());monitored&&monitored.removeGroupersObserver(this);groupers&&(groupers.destroy(),this._groupers=null);this.setGroups(null);
this.setSource(null);this.observers=this.items=this.map=null;this.callParent()},add:function(item){var items=this.decodeItems(arguments,0),ret=items;items.length&&(this.splice(this.length,0,items),ret=1===items.length?items[0]:items);return ret},replaceAll:function(){var items;var ret=items=this.decodeItems(arguments,0);items.length?(this.splice(0,this.length,items),ret=1===items.length?items[0]:items):this.removeAll();return ret},aggregate:function(property,operation,begin,end,scope){var args=Ext.Array.slice(arguments);
args.unshift(this.items);return this.aggregateItems.apply(this,args)},aggregateByGroup:function(property,operation,scope){var groups=this.getGroups();return this.aggregateGroups(groups,property,operation,scope)},aggregateItems:function(items,property,operation,begin,end,scope){var range=Ext.Number.clipIndices(items.length,[begin,end]),subsetRequested=0!==begin&&end!==items.length,j,value;begin=range[0];end=range[1];if(!Ext.isFunction(operation))return operation=this._aggregators[operation],operation.call(this,
items,begin,end,property,this.getRootProperty());range=this.getRootProperty();var values=Array(void 0);var valueItems=subsetRequested?Array(void 0):items;for(j=0;begin<end;++begin,j++)subsetRequested&&(valueItems[j]=value=items[begin]),values[j]=(range?value[range]:value)[property];return operation.call(scope||this,items,values,0)},aggregateGroups:function(groups,property,operation,scope){groups=groups.items;var len=groups.length,callDirect=!Ext.isFunction(operation),out={},i;for(i=0;i<len;++i){var group=
groups[i];var result=callDirect?group[operation](property):this.aggregateItems(group.items,property,operation,null,null,scope);out[group.getGroupKey()]=result}return out},beginUpdate:function(){this.updating++||this.notify('beginupdate')},clear:function(){var generation=this.generation,ret=generation?this.items:[],indexName;if(generation&&(this.items.length=this.length=0,this.map={},this.indices={},this.generation++,generation=this.getExtraKeys()))for(indexName in generation)generation[indexName].clear();
return ret},clone:function(){var copy=new this.self(this.initialConfig);copy.add(this.items);return copy},collect:function(property,root,allowNull){var items=this.items,length=items.length,map={},ret=[],i;for(i=0;i<length;++i){var value=items[i];value=(root?value[root]:value)[property];var strValue=String(value);!allowNull&&Ext.isEmpty(value)||map[strValue]||(map[strValue]=1,ret.push(value))}return ret},contains:function(item){var ret=!1;null!=item&&(ret=this.getKey(item),ret=this.map[ret]===item);
return ret},containsAll:function(items){var all=Ext.isArray(items)?items:arguments,i;for(i=all.length;0<i--;)if(!this.contains(all[i]))return!1;return!0},containsKey:function(key){return key in this.map},createFiltered:function(property,value,anyMatch,caseSensitive,exactMatch){var ret=new this.self(Ext.applyIf({source:null},this.initialConfig)),root=this.getRootProperty(),items=this.items;if(Ext.isFunction(property)){root=property;var scope=value}else{if(Ext.isString(property))var filters=[new Ext.util.Filter({property,
value,root,anyMatch,caseSensitive,exactMatch})];else if(property instanceof Ext.util.Filter)filters=[property],property.setRoot(root);else if(Ext.isArray(property))for(filters=property.slice(0),property=0,value=filters.length;property<value;++property)filters[property].setRoot(root);root=Ext.util.Filter.createFilterFn(filters)}scope=scope||this;property=0;for(value=items.length;property<value;property++)root.call(scope,items[property])&&ret.add(items[property]);return ret},filterBy:function(fn,scope){return this.createFiltered(fn,
scope)},each:function(fn,scope){var items=this.items,len=items.length,i;if(len)for(scope=scope||this,items=items.slice(0),i=0;i<len;i++){var ret=fn.call(scope,items[i],i,len);if(!1===ret)break}return ret},eachKey:function(fn,scope){var items=this.items,len=items.length,i,item;if(len)for(scope=scope||this,items=items.slice(0),i=0;i<len;i++){var key=this.getKey(item=items[i]);item=fn.call(scope,key,item,i,len);if(!1===item)break}return item},endUpdate:function(){--this.updating||this.notify('endupdate')},
find:function(property,value,start,startsWith,endsWith,ignoreCase){if(Ext.isEmpty(value,!1))return null;var regex=Ext.String.createRegex(value,startsWith,endsWith,ignoreCase);var root=this.getRootProperty();return this.findBy(function(item){return item&&regex.test((root?item[root]:item)[property])},null,start)},findBy:function(fn,scope,start){var items=this.items,len=items.length,item;scope=scope||this;for(start=start||0;start<len;start++){var key=this.getKey(item=items[start]);if(fn.call(scope,item,
key))return items[start]}return null},findIndex:function(property,value,start,startsWith,endsWith,ignoreCase){return(property=this.find(property,value,start,startsWith,endsWith,ignoreCase))?this.indexOf(property):-1},findIndexBy:function(fn,scope,start){return(fn=this.findBy(fn,scope,start))?this.indexOf(fn):-1},first:function(grouped){return(grouped=grouped?this.getGroups():void 0)?this.aggregateGroups(grouped,null,'first'):this.items[0]},last:function(grouped){return(grouped=grouped?this.getGroups():
void 0)?this.aggregateGroups(grouped,null,'last'):this.items[this.length-1]},get:function(key){return this.map[key]},getAt:function(index){return this.items[index]},getByKey:function(key){return this.map[key]},getCount:function(){return this.length},getKey:function(item){var id=item.id;return 0===id||id?id:0===(id=item._id)||id?id:item.getId()},getRange:function(begin,end){var items=this.items,length=items.length;length?(begin=Ext.Number.clipIndices(length,[begin,end]),begin=items.slice(begin[0],
begin[1])):begin=[];return begin},getValues:function(property,root,start,end){var items=this.items;end=Ext.Number.clipIndices(items.length,[start,end]);start=[];var i=end[0];for(end=end[1];i<end;++i){var value=items[i];value=(root?value[root]:value)[property];start.push(value)}return start},indexOf:function(item){if(!item)return-1;item=this.getKey(item);return this.indexOfKey(item)},indexOfKey:function(key){var indices=this.indices;return key in this.map?(indices||(indices=this.getIndices()),indices[key]):
-1},insert:function(index,item){var items=this.decodeItems(arguments,1),ret=items;items.length&&(this.splice(index,0,items),ret=1===items.length?items[0]:items);return ret},itemChanged:function(item,modified,oldKey,meta){var keyChanged=void 0!==oldKey,filtered=this.filtered&&this.getAutoFilter(),filterChanged=!1,itemMovement=0,items=this.items,last=this.length-1,sorted=this.sorted&&0<last&&this.getAutoSort(),source=this.getSource(),toRemove=0,itemFiltered=!1,wasFiltered=!1;if(source&&!source.updating)this.sourceUpdating=
!0,source.itemChanged(item,modified,oldKey,meta),this.sourceUpdating=!1;else{source=this.getKey(item);if(filtered){var index=this.indexOfKey(keyChanged?oldKey:source);wasFiltered=0>index;itemFiltered=this.isItemFiltered(item);filterChanged=wasFiltered!==itemFiltered}if(filterChanged)if(itemFiltered){toRemove=[item];var newIndex=-1}else{var toAdd=[item];newIndex=this.length}else sorted&&!itemFiltered&&(filtered||(index=this.indexOfKey(keyChanged?oldKey:source)),filtered=this.getSortFn(),-1!==index&&
(index&&0<filtered(items[index-1],items[index])?(itemMovement=-1,newIndex=Ext.Array.binarySearch(items,item,0,index,filtered)):index<last&&0<filtered(items[index],items[index+1])&&(itemMovement=1,newIndex=Ext.Array.binarySearch(items,item,index+1,filtered)),itemMovement&&(toAdd=[item])));meta={item,key:source,index:newIndex,filterChanged,keyChanged,indexChanged:!!itemMovement,filtered:itemFiltered,oldIndex:index,newIndex,wasFiltered,meta};keyChanged&&(meta.oldKey=oldKey);modified&&(meta.modified=
modified);++this.generation;this.beginUpdate();this.notify('beforeitemchange',[meta]);keyChanged&&this.updateKey(item,oldKey,meta);(toAdd||toRemove)&&this.splice(newIndex,toRemove,toAdd);0<itemMovement?meta.newIndex--:0>itemMovement&&meta.oldIndex++;this.notify(itemFiltered?'filtereditemchange':'itemchange',[meta]);this.endUpdate()}},remove:function(item){var items=this.decodeRemoveItems(arguments,0),length=this.length;this.splice(0,items);return length-this.length},removeAll:function(){var length=
this.length;this.generation&&length&&this.splice(0,length);return this},removeAt:function(index,count){var length=this.length,Num=Ext.Number;count=Num.clipIndices(length,[index,void 0===count?1:count],Num.Clip.COUNT);index=count[0];Num=count[1]-index;count=1===Num&&this.getAt(index);this.splice(index,Num);length=this.length-length;return count&&length?count:length},removeByKey:function(key){return(key=this.getByKey(key))&&this.remove(key)?key:!1},replace:function(item){var index=this.indexOf(item);
-1===index?this.add(item):this.insert(index,item)},splice:function(index,toRemove,toAdd){var autoSort=this.sorted&&this.getAutoSort(),map=this.map,items=this.items,length=this.length,removeItems=toRemove instanceof Array?this.decodeRemoveItems(toRemove):null,isRemoveCount=!removeItems,Num=Ext.Number,range=Num.clipIndices(length,[index,isRemoveCount?toRemove:0],Num.Clip.COUNT);Num=range[0];var end=range[1];range=end-Num;var newItems=this.decodeItems(arguments,2),newCount=newItems?newItems.length:0,
insertAt=Num,indices=this.indices||(newCount||removeItems?this.getIndices():null);var newItemsMap=null;var removes=range?[Num]:null,newKeys=null,source=this.getSource(),chunkItems,chunks,item;if(source&&!source.updating){if(isRemoveCount)for(removeItems=[],isRemoveCount=0;isRemoveCount<range;++isRemoveCount)removeItems.push(items[Num+isRemoveCount]);isRemoveCount=Num<length?source.indexOf(items[Num]):source.length;this.requestedIndex=index;source.splice(isRemoveCount,removeItems,newItems);delete this.requestedIndex;
return this}if(newCount){var addItems=newItems;newKeys=[];newItemsMap={};if(autoSort){var sorters=this.getSorters();1<newCount&&(addItems.$cloned||(newItems=addItems=addItems.slice(0)),this.sortData(addItems))}for(isRemoveCount=0;isRemoveCount<newCount;++isRemoveCount){source=this.getKey(newItems[isRemoveCount]);if(void 0!==(item=newItemsMap[source]))(chunks||(chunks={}))[item]=1;else{var itemIndex=indices[source];(itemIndex<Num||end<=itemIndex)&&(removes||(removes=[])).push(itemIndex)}newItemsMap[source]=
isRemoveCount;newKeys.push(source)}if(chunks){var keys=newKeys;addItems=[];newKeys=[];addItems.$cloned=!0;for(isRemoveCount=0;isRemoveCount<newCount;++isRemoveCount)chunks[isRemoveCount]||(item=newItems[isRemoveCount],addItems.push(item),newKeys.push(keys[isRemoveCount]));newCount=addItems.length}newItemsMap={items:addItems,keys:newKeys}}for(isRemoveCount=removeItems?removeItems.length:0;0<isRemoveCount--;)source=this.getKey(removeItems[isRemoveCount]),void 0!==(itemIndex=indices[source])&&(removes||
(removes=[])).push(itemIndex);if(!newItemsMap&&!removes)return this;this.beginUpdate();if(removes){removeItems=null;chunks=[];end={};1<removes.length&&removes.sort(Ext.Array.numericSortFn);isRemoveCount=0;for(newItems=removes.length;isRemoveCount<newItems;++isRemoveCount)if(source=this.getKey(item=items[itemIndex=removes[isRemoveCount]]),source in map){delete map[source];if(!removeItems||itemIndex>removeItems.at+chunkItems.length)chunks.push(removeItems={at:itemIndex,items:chunkItems=[],keys:keys=
[],map:end,next:removeItems,replacement:newItemsMap}),newItemsMap&&(newItemsMap.replaced=removeItems);chunkItems.push(end[source]=item);keys.push(source);itemIndex<insertAt&&--insertAt;1<range&&itemIndex===Num&&(--range,removes[isRemoveCount--]=++Num)}newItemsMap&&(newItemsMap.at=insertAt);for(item=chunks.length;0<item--;){removeItems=chunks[item];isRemoveCount=removeItems.at;newItems=removeItems.items.length;isRemoveCount+newItems<length&&(this.indices=indices=null);this.length=length-=newItems;
items.splice(isRemoveCount,newItems);if(indices)for(keys=removeItems.keys,isRemoveCount=0;isRemoveCount<newItems;++isRemoveCount)delete indices[keys[isRemoveCount]];++this.generation;this.notify('remove',[removeItems])}}if(newItemsMap)if(autoSort&&1<newCount&&length)this.spliceMerge(addItems,newKeys);else{autoSort&&(1<newCount?(insertAt=0,this.indices=null):insertAt=sorters.findInsertionIndex(newItemsMap.items[0],items,this.getSortFn(),index));if(insertAt===length){end=insertAt;for(isRemoveCount=
addItems.length-1;0<=isRemoveCount;--isRemoveCount)items[end+isRemoveCount]=addItems[isRemoveCount];if(indices=this.indices)for(isRemoveCount=0;isRemoveCount<newCount;++isRemoveCount)indices[newKeys[isRemoveCount]]=insertAt+isRemoveCount}else this.indices=null,Ext.Array.insert(items,insertAt,addItems);for(isRemoveCount=0;isRemoveCount<newCount;++isRemoveCount)map[newKeys[isRemoveCount]]=addItems[isRemoveCount];this.length+=newCount;newItemsMap.at=insertAt;newItemsMap.atItem=0===insertAt?null:items[insertAt-
1];++this.generation;this.notify('add',[newItemsMap])}this.endUpdate();return this},update:function(fn,scope){this.beginUpdate();try{return fn.call(scope||this,this)}catch(e){throw e;}finally{this.endUpdate()}},updateKey:function(item,oldKey,details){var map=this.map,indices=this.indices,source=this.getSource(),newKey;source&&!source.updating?source.updateKey(item,oldKey):(newKey=this.getKey(item))===oldKey||map[oldKey]!==item||newKey in map||(delete map[oldKey],this.updating++,this.generation++,
map[newKey]=item,indices&&(indices[newKey]=indices[oldKey],delete indices[oldKey]),this.notify('updatekey',[Ext.apply({item,newKey,oldKey},details)]),this.updating--)},findInsertIndex:function(item,defaultIndex){var source=this.getSource(),sourceItems=source.items;for(item=source.indexOf(item)-1;-1<item;){source=sourceItems[item];source=this.indexOf(source);if(-1<source)return source+1;--item}return defaultIndex},onCollectionAdd:function(source,details){var atItem=details.atItem,items=this.transformItems(details.items),
requestedIndex=this.requestedIndex,filtered,copy;void 0!==requestedIndex?source=requestedIndex:(source=(requestedIndex=atItem||source.items[1])?this.indexOf(requestedIndex):-1,-1<source?atItem&&++source:this.sorted||(source=this.findInsertIndex(items[0],details.at?this.length:0)));if(this.getAutoFilter()&&this.filtered)for(details=0,atItem=items.length;details<atItem;++details)requestedIndex=items[details],this.isItemFiltered(requestedIndex)?(copy||(copy=items.slice(0,details)),filtered||(filtered=
[]),filtered.push(requestedIndex)):copy&&copy.push(requestedIndex);this.splice(0>source?this.length:source,0,copy||items);filtered&&this.notify('filteradd',[filtered])},onCollectionBeforeItemChange:function(source,details){this.onCollectionUpdateKey=null;this.sourceUpdating||this.notify('beforeitemchange',[details])},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(source,details){delete this.onCollectionUpdateKey;
this.itemChanged(details.item,details.modified,details.oldKey,details.meta)},onCollectionFilteredItemChange:function(){delete this.onCollectionUpdateKey},onCollectionRefresh:function(source){var map={},indices={},items=this.items,sourceItems=this.transformItems(source.items),filterFn=this.getFilterFn(),length;if(this.filtered&&this.getAutoFilter()){var newLength=source=0;for(length=sourceItems.length;source<length;source++)filterFn(sourceItems[source])&&(items[newLength++]=sourceItems[source]);items.length=
newLength}else items.length=0,items.push.apply(items,sourceItems);this.sorted&&this.sortData(items);this.length=length=items.length;this.map=map;this.indices=indices;for(source=0;source<length;++source)filterFn=this.getKey(sourceItems=items[source]),map[filterFn]=sourceItems,indices[filterFn]=source;++this.generation;this.notify('refresh')},onCollectionRemove:function(source,details){this.splice(0,details.items)},onCollectionUpdateKey:function(source,details){this.updateKey(details.item,details.oldKey,
details)},_aggregators:{average:function(items,begin,end,property,root){var n=end-begin;return n&&this._aggregators.sum.call(this,items,begin,end,property,root)/n},bounds:function(items,begin,end,property,root){var max,min,i;for(i=begin;i<end;++i)begin=items[i],begin=(root?begin[root]:begin)[property],begin<max||(max=begin),begin>min||(min=begin);return[min,max]},count:function(items){return items.length},extremes:function(items,begin,end,property,root){for(var most=null,least=null,item,max,min,value;begin<
end;++begin)item=items[begin],value=(root?item[root]:item)[property],value<max||(max=value,most=item),value>min||(min=value,least=item);return[least,most]},max:function(items,begin,end,property,root){return this._aggregators.bounds.call(this,items,begin,end,property,root)[1]},maxItem:function(items,begin,end,property,root){return this._aggregators.extremes.call(this,items,begin,end,property,root)[1]},min:function(items,begin,end,property,root){return this._aggregators.bounds.call(this,items,begin,
end,property,root)[0]},minItem:function(items,begin,end,property,root){return this._aggregators.extremes.call(this,items,begin,end,property,root)[0]},sum:function(items,begin,end,property,root){var i;var sum=0;for(i=begin;i<end;++i)begin=items[i],begin=(root?begin[root]:begin)[property],sum+=begin;return sum}},_eventToMethodMap:{add:'onCollectionAdd',beforeitemchange:'onCollectionBeforeItemChange',beginupdate:'onCollectionBeginUpdate',endupdate:'onCollectionEndUpdate',itemchange:'onCollectionItemChange',
filtereditemchange:'onCollectionFilteredItemChange',refresh:'onCollectionRefresh',remove:'onCollectionRemove',beforesort:'beforeCollectionSort',sort:'onCollectionSort',beforegroup:'onCollectionBeforeGroup',group:'onCollectionGroup',filter:'onCollectionFilter',filteradd:'onCollectionFilterAdd',updatekey:'onCollectionUpdateKey'},addObserver:function(observer){var observers=this.observers;observers||(this.observers=observers=[]);this.notifying&&(this.observers=observers=observers.slice(0));observers.push(observer);
1<observers.length&&Ext.Array.sort(observers,this.prioritySortFn)},prioritySortFn:function(o1,o2){return(o1.observerPriority||0)-(o2.observerPriority||0)},applyExtraKeys:function(extraKeys,oldExtraKeys){oldExtraKeys=oldExtraKeys||{};var name;for(name in extraKeys){var value=extraKeys[name];if(value.isCollectionKey)value.setCollection(this);else{var config={collection:this};Ext.isString(value)?config.property=value:config=Ext.apply(config,value);value=new Ext.util.CollectionKey(config)}oldExtraKeys[name]=
this[name]=value;value.name=name}return oldExtraKeys},applyGrouper:function(grouper){grouper&&!grouper.isGrouper&&(grouper=this.getGroupers(!0).decodeGrouper(grouper));return grouper},decodeItems:function(args,index){var ret=void 0===index?args:args[index],cloned;if(!ret||!ret.$cloned){if(cloned=args.length>index+1||!Ext.isIterable(ret))ret=Ext.Array.slice(args,index),1===ret.length&&void 0===ret[0]&&(ret.length=0);if(args=this.getDecoder())for(cloned||(ret=ret.slice(0),cloned=!0),index=ret.length;0<
index--;)!1===(ret[index]=args.call(this,ret[index]))&&ret.splice(index,1);cloned&&(ret.$cloned=!0)}return ret},getIndices:function(){var indices=this.indices,items=this.items,n=items.length,i;if(!indices)for(this.indices=indices={},++this.indexRebuilds,i=0;i<n;++i){var key=this.getKey(items[i]);indices[key]=i}return indices},notify:function(eventName,args){var observers=this.observers,methodName=this._eventToMethodMap[eventName],added=0,length,method,observer;args=args||[];if(observers&&methodName){this.notifying=
!0;var index=0;for(length=observers.length;index<length;++index)if(method=(observer=observers[index])[methodName])added++||args.unshift(this),method.apply(observer,args);this.notifying=!1}this.hasListeners&&this.hasListeners[eventName]&&(added||args.unshift(this),this.fireEventArgs(eventName,args))},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(autoCreate){var ret=this._filters;ret||!1===autoCreate||(ret=new Ext.util.FilterCollection,this.setFilters(ret));return ret},
isItemFiltered:function(item){return!this.getFilters().filterFn(item)},onFilterChange:function(filters){filters=this.getSource();var key;if(filters){if(filters.destroyed)return;if(filters.length||this.length)this.onCollectionRefresh(filters)}else{if(filters=this.getExtraKeys()){var newKeys={};for(key in filters)newKeys[key]=filters[key].clone(this)}filters=new Ext.util.Collection({keyFn:this.getKey,extraKeys:newKeys,rootProperty:this.getRootProperty()});this.length&&filters.add(this.items);this.setSource(filters);
this.autoSource=filters}this.notify('filter')},applyFilters:function(filters,collection){if(!filters||filters.isFilterCollection)return filters;filters&&(collection||(collection=this.getFilters()),collection.splice(0,collection.length,filters));return collection},updateFilters:function(newFilters,oldFilters){oldFilters&&oldFilters.un('endupdate','onEndUpdateFilters',this);newFilters&&(newFilters.on({endupdate:'onEndUpdateFilters',scope:this,priority:this.$endUpdatePriority}),newFilters.$filterable=
this);this.onEndUpdateFilters(newFilters)},onEndUpdateFilters:function(filters){var was=this.filtered,is=!!filters&&0<filters.getFilterCount();if(was||is)this.filtered=is,this.onFilterChange(filters)},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(autoCreate){var ret=this._sorters;ret||!1===autoCreate||(ret=new Ext.util.SorterCollection,this.setSorters(ret));return ret},onSortChange:function(){this.sorted&&this.sortItems()},sort:function(property,direction,mode){var sorters=
this.getSorters();sorters.addSort.apply(sorters,arguments);return this},sortData:function(data){Ext.Array.sort(data,this.getSortFn());return data},sortItems:function(sortFn){this.sorted&&(sortFn=this.getSortFn());this.indices=null;this.notify('beforesort',[this.getSorters(!1)]);this.length&&Ext.Array.sort(this.items,sortFn);this.notify('sort')},sortBy:function(sortFn){return this.sortItems(sortFn)},findInsertionIndex:function(item,items,comparatorFn,index){return Ext.Array.findInsertionIndex(item,
items||this.items,comparatorFn||this.getSortFn(),index)},applySorters:function(sorters,collection){if(!sorters||sorters.isSorterCollection)return sorters;sorters&&(collection||(collection=this.getSorters()),collection.splice(0,collection.length,sorters));return collection},createSortFn:function(){var groupers=this.getGroupers(!1),sorters=this.getSorters(!1),sorterFn=sorters?sorters.getSortFn():null,groupSorterFn=groupers?groupers.getSortFn():null;return groupers?function(lhs,rhs){var ret=groupSorterFn(lhs,
rhs);!ret&&sorterFn&&(ret=sorterFn(lhs,rhs));return ret}:sorterFn},getGrouper:function(){var groupers=this.getGroupers(!1);return groupers&&groupers.length?groupers.getAt(0):null},updateGrouper:function(grouper){var groupers=this.getGroupers(!1);grouper?(groupers||(groupers=this.getGroupers(!0)),groupers.clear(),groupers.add(grouper)):this.setGroupers(null)},updateSorters:function(newSorters,oldSorters){oldSorters&&!oldSorters.destroyed&&oldSorters.un('endupdate','onEndUpdateSorters',this);newSorters&&
(newSorters.on({endupdate:'onEndUpdateSorters',scope:this,priority:this.$endUpdatePriority}),this.manageSorters&&(newSorters.$sortable=this));this.onSorterChange();this.onEndUpdateSorters(newSorters)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(sorters){var was=this.sorted,is=this.grouped&&this.getAutoGroup()||sorters&&0<sorters.length;if(was||is)this.sorted=!!is,this.onSortChange(sorters)},getGroupers:function(autoCreate){var ret=this._groupers;ret||!1===autoCreate||
(ret=new Ext.util.GrouperCollection({rootProperty:this.getRootProperty()}),this.setGroupers(ret));return ret},applyGroupers:function(groupers,collection){if(null==groupers||groupers&&groupers.isGrouperCollection)return groupers;groupers&&(collection||(collection=this.getGroupers()),collection.splice(0,collection.length,groupers));return collection},updateGroupers:function(newGroupers,oldGroupers){var groups=this.getGroups(),sorters=this.getSorters();oldGroupers&&oldGroupers.un('endupdate','onEndUpdateGroupers',
this);if(newGroupers){if(this.getTrackGroups()){groups||(groups=new Ext.util.GroupCollection({itemRoot:this.getRootProperty(),autoGroup:this.getAutoGroup(),autoSort:this.getAutoSort(),groupConfig:this.getGroupConfig()}),this.setGroups(groups));var populate=!0}newGroupers.on('endupdate','onEndUpdateGroupers',this,{prepend:!0})}else this.setGroups(null);this.onEndUpdateGroupers(newGroupers);if(!sorters.updating)this.onEndUpdateSorters(sorters);if(populate)groups.onCollectionRefresh(this)},onEndUpdateGroupers:function(groupers){var was=
this.grouped,sorters=this.getSorters(),is=groupers&&0<groupers.length;this.lastMonitoredGroupers&&(this.lastMonitoredGroupers.removeGroupersObserver(this),this.lastMonitoredGroupers=null);if(was||is){this.grouped=!!is;this.onSorterChange();if(sorters&&!sorters.updating)this.onEndUpdateSorters(groupers);this.onGroupChange(groupers);groupers&&(this.lastMonitoredGroupers=groupers,groupers.addGroupersObserver(this))}},onGrouperDirectionChange:function(){this.onEndUpdateSorters(this.getSorters());this.notify('group',
[this.getGroupers(!1)])},onGroupChange:function(groupers){var groups=this.getGroups();groups?(groups.onCollectionGroupersChanged(this),this.groupItems()):this.notify('group',[groupers])},groupItems:function(){var groupers=this.getGroupers(!1),groups=this.getGroups();this.notify('beforegroup',[groupers]);if(this.length&&groups)groups.onCollectionRefresh(this);this.notify('group',[groupers])},removeObserver:function(observer){var observers=this.observers;observers&&Ext.Array.remove(observers,observer)},
spliceMerge:function(newItems,newKeys){var map=this.map,newLength=newItems.length,oldIndex=0,oldItems=this.items,oldLength=oldItems.length,adds=[],count=0,items=[],sortFn=this.getSortFn(),addItems,end,newItem,oldItem;this.items=items;for(end=0;end<newLength;){for(newItem=newItems[end];oldIndex<oldLength&&!(0>sortFn(newItem,oldItem=oldItems[oldIndex]));++oldIndex)items.push(oldItem);if(oldIndex===oldLength){adds[count++]={at:items.length,itemAt:items[items.length-1],items:addItems=[]};1<count&&(adds[count-
2].next=adds[count-1]);for(;end<newLength;++end)addItems.push(newItem=newItems[end]),items.push(newItem);break}adds[count++]={at:items.length,itemAt:items[items.length-1],items:addItems=[newItem]};1<count&&(adds[count-2].next=adds[count-1]);items.push(newItem);for(end+=1;end<newLength&&!(0<=sortFn(newItem=newItems[end],oldItem));++end)items.push(newItem),addItems.push(newItem)}for(;oldIndex<oldLength;++oldIndex)items.push(oldItems[oldIndex]);for(oldIndex=0;oldIndex<newLength;++oldIndex)map[newKeys[oldIndex]]=
newItems[oldIndex];this.length=items.length;++this.generation;this.indices=null;for(oldIndex=0;oldIndex<count;++oldIndex)this.notify('add',[adds[oldIndex]])},transformItems:Ext.identityFn,getGroups:function(){return(arguments.callee.$previous||Ext.Base.prototype.getGroups).call(this)||null},updateAutoGroup:function(autoGroup){var groups=this.getGroups();groups&&groups.setAutoGroup(autoGroup);this.onEndUpdateSorters(this._sorters)},updateGroups:function(newGroups,oldGroups){oldGroups&&(this.removeObserver(oldGroups),
oldGroups.destroy());newGroups&&this.addObserver(newGroups)},updateSource:function(newSource,oldSource){var auto=this.autoSource;oldSource&&(oldSource.destroyed||oldSource.removeObserver(this),oldSource===auto&&(auto.destroy(),this.autoSource=null));if(newSource&&(newSource.addObserver(this),newSource.length||this.length))this.onCollectionRefresh(newSource)}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,'Collection'],function(){var prototype=
this.prototype;prototype.removeAtKey=prototype.removeByKey;prototype.decodeRemoveItems=prototype.decodeItems;Ext.Object.each(prototype._aggregators,function(name){prototype[name]=function(property,begin,end){return this.aggregate(property,name,begin,end)};prototype[name+'ByGroup']=function(property){return this.aggregateByGroup(property,name)}})});
Ext.cmd.derive('Ext.data.Range',Ext.Base,{isDataRange:!0,begin:0,buffer:0,end:0,length:0,store:null,waitTimeout:1E4,activeWait:null,constructor:function(config){var activeRanges;Ext.apply(this,config);var store=this.store;(activeRanges=store.activeRanges)||(store.activeRanges=activeRanges=[]);activeRanges.push(this);this.refresh();'begin'in config&&(this.begin=this.end=0,this['goto'](config.begin,config.end)['catch'](function(){}))},destroy:function(){var store=this.store;store=store&&store.activeRanges;
Ext.destroy(this.storeListeners);store&&Ext.Array.remove(store,this);this.cancelActiveWait();this.callParent()},'goto':function(begin,end){var buffer=this.buffer,task=this.task;this.begin=begin;this.end=end;this.length=end-begin;this.cancelActiveWait();this.activeWait=this.setupWait(begin,end);begin=this.activeWait.promise;this.resolveWaitIfSatisfied();0<buffer?(task||(this.task=task=new Ext.util.DelayedTask(this.doGoto,this)),task.delay(buffer)):this.doGoto();return begin},privates:{lastBegin:0,
lastEnd:0,cancelActiveWait:function(){this.resolveWait(null)},doGoto:Ext.privateFn,refresh:function(){this.records=this.store.getData().items},resolveWait:function(value){var wait=this.activeWait;wait&&(wait.deferred.resolve(value),this.activeWait=null);return value},resolveWaitIfSatisfied:function(){this.resolveWait(this)},setupWait:function(begin,end){var me=this;begin=me.waitTimeout;end=new Ext.Deferred;var promise=end.promise;begin&&(promise=Ext.Deferred.timeout(promise,begin)['catch'](function(){return me.resolveWait(null)}));
return{deferred:end,promise}}}},1,0,0,0,0,0,[Ext.data,'Range'],0);
Ext.cmd.derive('Ext.util.ObjectTemplate',Ext.Base,{isObjectTemplate:!0,excludeProperties:{},valueRe:/^[{][a-z.]+[}]$/i,statics:{create:function(template,options){return template.isObjectTemplate?template:new Ext.util.ObjectTemplate(template,options)}},constructor:function(template,options){Ext.apply(this,options);this.template=template},apply:function(context){delete this.apply;this.apply=this.compile(this.template);return this.apply(context)},privates:{compile:function(template){var exclude=this.excludeProperties,
len;if(Ext.isString(template))if(0>template.indexOf('{'))var i$jscomp$0=function(){return template};else this.valueRe.test(template)?(template=template.substring(1,template.length-1).split('.'),i$jscomp$0=function(context){var i;for(i=0;context&&i<template.length;++i)context=context[template[i]];return context}):(template=new Ext.XTemplate(template),i$jscomp$0=function(context){return template.apply(context)});else if(!template||Ext.isPrimitive(template)||Ext.isFunction(template))i$jscomp$0=function(){return template};
else if(template instanceof Array){var compiled=[];i$jscomp$0=0;for(len=template.length;i$jscomp$0<len;++i$jscomp$0)compiled[i$jscomp$0]=this.compile(template[i$jscomp$0]);i$jscomp$0=function(context){var ret=[],i;for(i=0;i<len;++i)ret[i]=compiled[i](context);return ret}}else{compiled={};for(i$jscomp$0 in template)exclude[i$jscomp$0]||(compiled[i$jscomp$0]=this.compile(template[i$jscomp$0]));i$jscomp$0=function(context){var ret={},i;for(i in template){var v=exclude[i]?template[i]:compiled[i](context);
void 0!==v&&(ret[i]=v)}return ret}}return i$jscomp$0}}},1,0,0,0,0,0,[Ext.util,'ObjectTemplate'],0);
Ext.cmd.derive('Ext.data.schema.Role',Ext.Base,{isRole:!0,left:!0,owner:!1,side:'left',isMany:!1,defaultReaderType:'json',_internalReadOptions:{recordsOnly:!0,asRoot:!0},constructor:function(association,config){var extra=config.extra;Ext.apply(this,config);extra&&(extra=Ext.apply({},extra),delete extra.type,Ext.apply(this,extra),delete this.extra);this.association=association;association.owner===this.side&&(association.owner=this,this.owner=!0)},processUpdate:function(){Ext.raise('Only the "many" for an association may be processed. "'+
this.role+'" is not valid.')},processLoad:function(store,associatedEntity,records,session){return records},checkMembership:Ext.emptyFn,adoptAssociated:function(record,session){(record=this.getAssociatedItem(record))&&session.adopt(record)},$roleFilterId:'$associationRoleFilter',createAssociationStore:function(session,from,records,isComplete){var association=this.association,foreignKeyName=association.getFieldName();association=association.isManyToMany;var storeConfig=this.storeConfig,id=from.getId();
from={asynchronousLoad:!1,model:this.cls,role:this,session,associatedEntity:from,disableMetaChangeEvent:!0,pageSize:null,remoteFilter:!0,trackRemoved:!session};association?from.filters=[{id:this.$roleFilterId,property:this.inverse.field,value:id,exactMatch:!0}]:foreignKeyName&&(from.filters=[{id:this.$roleFilterId,property:foreignKeyName,value:id,exactMatch:!0}],from.foreignKeyName=foreignKeyName);storeConfig&&Ext.apply(from,storeConfig);foreignKeyName=Ext.Factory.store(from);this.onStoreCreate(foreignKeyName,
session,id);if(!association||session)foreignKeyName.on({scope:this,add:'onAddToMany',remove:'onRemoveFromMany',clear:'onRemoveFromMany'});records&&foreignKeyName.loadData(records);foreignKeyName.complete=!!isComplete;return foreignKeyName},onStoreCreate:Ext.emptyFn,getAssociatedStore:function(inverseRecord,options,scope,records$jscomp$0,allowInfer){var storeName=this.getStoreName(),store$jscomp$0=inverseRecord[storeName],hadStore=store$jscomp$0,session=inverseRecord.session,load=options&&options.reload,
source=inverseRecord.$source,isComplete=!1,phantom=!1,sourceStore;if(!store$jscomp$0){if(session){source&&(phantom=source.phantom);if(!records$jscomp$0&&source&&(sourceStore=source[storeName])&&!sourceStore.isLoading()){records$jscomp$0=[];isComplete=sourceStore.getData().items;store$jscomp$0=0;for(source=isComplete.length;store$jscomp$0<source;++store$jscomp$0){var hadSourceStore=isComplete[store$jscomp$0];records$jscomp$0.push(session.getRecord(hadSourceStore.self,hadSourceStore.id))}isComplete=
!!sourceStore.complete;hadSourceStore=!0}hadSourceStore||(store$jscomp$0=!!records$jscomp$0,records$jscomp$0=this.findRecords(session,inverseRecord,records$jscomp$0,allowInfer),store$jscomp$0||records$jscomp$0&&records$jscomp$0.length||(records$jscomp$0=null),isComplete=phantom||store$jscomp$0)}else isComplete=!!records$jscomp$0;store$jscomp$0=this.createAssociationStore(session,inverseRecord,records$jscomp$0,isComplete||inverseRecord.phantom);store$jscomp$0.$source=sourceStore;records$jscomp$0||
!this.autoLoad&&!options||(load=!0);inverseRecord[storeName]=store$jscomp$0}if(options)if(load||store$jscomp$0.isLoading())store$jscomp$0.on('load',function(store,records,success,operation){args=[store,operation];scope=scope||options.scope||inverseRecord;success?Ext.callback(options.success,scope,args):Ext.callback(options.failure,scope,args);args.push(success);Ext.callback(options,scope,args);Ext.callback(options.callback,scope,args)},null,{single:!0});else{var args=[store$jscomp$0,null];scope=scope||
options.scope||inverseRecord;Ext.callback(options.success,scope,args);args.push(!0);Ext.callback(options,scope,args);Ext.callback(options.callback,scope,args)}allowInfer=store$jscomp$0.isLoading();load?allowInfer||store$jscomp$0.load():hadStore&&records$jscomp$0&&!allowInfer&&store$jscomp$0.loadData(records$jscomp$0);return store$jscomp$0},getAssociatedItem:function(rec){var key=this.isMany?this.getStoreName():this.getInstanceName();return rec[key]||null},onDrop:Ext.emptyFn,onIdChanged:Ext.emptyFn,
getReaderRoot:function(){return this.associationKey||(this.associationKey=this.association.schema.getNamer().readerRoot(this.role))},getReader:function(){var reader=this.reader,Model=this.cls,useSimpleAccessors=!this.associationKey,root=this.getReaderRoot();reader&&!reader.isReader&&(Ext.isString(reader)&&(reader={type:reader}),Ext.applyIf(reader,{model:Model,rootProperty:root,useSimpleAccessors,type:this.defaultReaderType}),reader=this.reader=Ext.createByAlias('reader.'+reader.type,reader));return reader},
getInstanceName:function(){return this.instanceName||(this.instanceName=this.association.schema.getNamer().instanceName(this.role))},getOldInstanceName:function(){return this.oldInstanceName||(this.oldInstanceName='$old'+this.getInstanceName())},getStoreName:function(){return this.storeName||(this.storeName=this.association.schema.getNamer().storeName(this.role))},constructReader:function(fromReader){var reader=this.getReader(),Model=this.cls,useSimpleAccessors=!this.associationKey,root=this.getReaderRoot();
reader||((reader=Model.getProxy())?(fromReader=reader.getReader(),reader=new fromReader.self,reader.copyFrom(fromReader),reader.setRootProperty(root)):reader=new fromReader.self({model:Model,useSimpleAccessors,rootProperty:root}),this.reader=reader);return reader},read:function(record,data$jscomp$0,fromReader,readOptions){fromReader=this.constructReader(fromReader);data$jscomp$0=fromReader.getRoot(data$jscomp$0);var inverse=this.inverse,inverseName=inverse&&!inverse.isMany&&inverse.getInstanceName(),
recordCreator=readOptions&&readOptions.recordCreator||fromReader.defaultRecordCreator;inverseName&&(readOptions=Ext.applyIf({recordCreator:function(data,Model){data.$parentRecordRef||(data.$parentRecordRef=[inverseName,record]);return recordCreator(data,Model)}},readOptions));if(data$jscomp$0)return fromReader.readRecords(data$jscomp$0,readOptions,this._internalReadOptions)},getCallbackOptions:function(options,scope,defaultScope){'function'===typeof options?options={callback:options,scope:scope||
defaultScope}:options&&(options=Ext.apply({},options),options.scope=scope||options.scope||defaultScope);return options},doGetFK:function(leftRecord,options,scope){var cls=this.cls,foreignKey=this.association.getFieldName(),instanceName=this.getInstanceName(),rightRecord=leftRecord[instanceName],reload=options&&options.reload,done=void 0!==rightRecord&&!reload,session=leftRecord.session;done?rightRecord&&(done=!rightRecord.isLoading()):session?(foreignKey=leftRecord.get(foreignKey))||0===foreignKey?
(done=session.peekRecord(cls,foreignKey,!0)&&!reload,rightRecord=session.getRecord(cls,foreignKey,!1)):(done=!0,leftRecord[instanceName]=rightRecord=null):foreignKey?(foreignKey=leftRecord.get(foreignKey))||0===foreignKey?rightRecord||(rightRecord=cls.createWithId(foreignKey)):(done=!0,leftRecord[instanceName]=rightRecord=null):(done=!0,rightRecord=null);done?options&&(cls=[rightRecord,null],scope=scope||options.scope||leftRecord,Ext.callback(options.success,scope,cls),cls.push(!0),Ext.callback(options,
scope,cls),Ext.callback(options.callback,scope,cls)):(leftRecord[instanceName]=rightRecord,options=this.getCallbackOptions(options,scope,leftRecord),rightRecord.load(options));return rightRecord},doSetFK:function(leftRecord,rightRecord,options,scope){var foreignKey=this.association.getFieldName(),instanceName=this.getInstanceName(),current=leftRecord[instanceName],inverse=this.inverse,inverseSetter=inverse.setterName;if(rightRecord&&rightRecord.isEntity){if(current!==rightRecord){var oldInstanceName=
this.getOldInstanceName();leftRecord[oldInstanceName]=current;leftRecord[instanceName]=rightRecord;current&&current.isEntity&&(current[inverse.getInstanceName()]=void 0);foreignKey&&leftRecord.set(foreignKey,rightRecord.getId());delete leftRecord[oldInstanceName];leftRecord.onAssociatedRecordSet(rightRecord,this);if(inverseSetter)rightRecord[inverseSetter](leftRecord)}}else(foreignKey=leftRecord.changingKey&&!inverse.isMany||leftRecord.set(foreignKey,rightRecord))&&current&&current.isEntity&&!current.isEqual(current.getId(),
rightRecord)&&(leftRecord[instanceName]=void 0,inverse.isMany||(current[inverse.getInstanceName()]=void 0));if(options)return Ext.isFunction(options)&&(options={callback:options,scope:scope||leftRecord}),leftRecord.save(options)}},1,0,0,0,0,0,[Ext.data.schema,'Role'],0);
Ext.cmd.derive('Ext.data.schema.Association',Ext.Base,{isOneToOne:!1,isManyToOne:!1,isManyToMany:!1,owner:null,field:null,constructor:function(config){var right;Ext.apply(this,config);this.left=config=new this.Left(this,this.left);this.right=right=new this.Right(this,this.right);config.inverse=right;right.inverse=config},hasField:function(){return!!this.field},getFieldName:function(){var field=this.field;return field?field.name:''}},1,0,0,0,0,0,[Ext.data.schema,'Association'],0);
Ext.cmd.derive('Ext.data.schema.OneToOne',Ext.data.schema.Association,{isOneToOne:!0,isToOne:!0,kind:'one-to-one',Left:Ext.define(null,{extend:'Ext.data.schema.Role',onDrop:function(rightRecord,session){session=this.getAssociatedItem(rightRecord);rightRecord[this.getInstanceName()]=null;session&&(session[this.inverse.getInstanceName()]=null)},onIdChanged:function(rightRecord,oldId,newId){oldId=this.getAssociatedItem(rightRecord);var fieldName=this.association.getFieldName();!rightRecord.session&&
oldId&&fieldName&&oldId.set(fieldName,newId)},createGetter:function(){var me=this;return function(){return me.doGet(this)}},createSetter:function(){var me=this;return function(value){return me.doSet(this,value)}},doGet:function(rightRecord){var instanceName=this.getInstanceName();return rightRecord[instanceName]||null},doSet:function(rightRecord,leftRecord){var instanceName=this.getInstanceName(),ret=rightRecord[instanceName],inverseSetter=this.inverse.setterName;if(ret!==leftRecord){rightRecord[instanceName]=
leftRecord;if(inverseSetter)leftRecord[inverseSetter](rightRecord);rightRecord.onAssociatedRecordSet(leftRecord,this)}return ret},read:function(rightRecord,node,fromReader,readOptions){if(node=this.callParent([rightRecord,node,fromReader,readOptions]))if(node=node[0])node[this.inverse.getInstanceName()]=rightRecord,rightRecord[this.getInstanceName()]=node,delete rightRecord.data[this.role]}}),Right:Ext.define(null,{extend:'Ext.data.schema.Role',left:!1,side:'right',createGetter:function(){var me=
this;return function(options,scope){return me.doGetFK(this,options,scope)}},createSetter:function(){var me=this;return function(value,options,scope){return me.doSetFK(this,value,options,scope)}},onDrop:function(leftRecord,session){var field=this.association.field,rightRecord=this.getAssociatedItem(leftRecord),id;this.inverse.owner&&(session&&field?((id=leftRecord.get(field.name))||0===id)&&(rightRecord=session.getEntry(this.cls,id).record)&&rightRecord.drop():rightRecord&&rightRecord.drop());field&&
leftRecord.set(field.name,null);leftRecord[this.getInstanceName()]=null;rightRecord&&(rightRecord[this.inverse.getInstanceName()]=null)},onValueChange:function(leftRecord,session,newValue){var rightRecord=leftRecord[this.getOldInstanceName()]||this.getAssociatedItem(leftRecord),hasNewValue=newValue||0===newValue,instanceName=this.getInstanceName(),cls=this.cls;leftRecord.changingKey=!0;this.doSetFK(leftRecord,newValue);hasNewValue?session&&cls&&(leftRecord[instanceName]=session.peekRecord(cls,newValue)||
void 0):leftRecord[instanceName]=null;this.inverse.owner&&rightRecord&&this.association.schema.queueKeyCheck(rightRecord,this);leftRecord.changingKey=!1},checkKeyForDrop:function(rightRecord){this.inverse.getAssociatedItem(rightRecord)||rightRecord.drop()},read:function(leftRecord,node,fromReader,readOptions){node=this.callParent([leftRecord,node,fromReader,readOptions]);if(node){node=node[0];if(fromReader=this.association.field)var fieldName=fromReader.name;readOptions=leftRecord.session;var data=
leftRecord.data;if(node){var refs=readOptions?(refs=readOptions.getRefs(node,this.inverse,!0))&&refs[leftRecord.id]||void 0===data[fieldName]:!0;if(refs){if(fromReader){var oldId=data[fieldName];refs=node.id;oldId!==refs&&(data[fieldName]=refs,readOptions&&readOptions.updateReference(leftRecord,fromReader,refs,oldId))}node[this.inverse.getInstanceName()]=leftRecord;leftRecord[this.getInstanceName()]=node}delete data[this.role]}}}})},0,0,0,0,0,0,[Ext.data.schema,'OneToOne'],0);
Ext.cmd.derive('Ext.data.schema.ManyToOne',Ext.data.schema.Association,{isManyToOne:!0,isToOne:!0,kind:'many-to-one',Left:Ext.define(null,{extend:'Ext.data.schema.Role',isMany:!0,onDrop:function(rightRecord,session){var store=this.getAssociatedItem(rightRecord),len;if(store){if((session=store.removeAll())&&this.inverse.owner){var i=0;for(len=session.length;i<len;++i)session[i].drop()}store.destroy();rightRecord[this.getStoreName()]=null}else if(session&&(session=session.getRefs(rightRecord,this)))for(len in session)session[len].drop()},
onIdChanged:function(rightRecord,oldId,newId){oldId=this.association.getFieldName();var store=this.getAssociatedItem(rightRecord),len;if(store&&((len=store.getFilters().get(this.$roleFilterId))&&len.setValue(newId),!rightRecord.session&&oldId))for(rightRecord=store.getDataSource().items,store=0,len=rightRecord.length;store<len;++store)rightRecord[store].set(oldId,newId)},processUpdate:function(session,associationData){var entityType=this.inverse.cls;associationData=associationData.R;var id,rightRecord,
store;if(associationData)for(id in associationData)if(rightRecord=session.peekRecord(entityType,id)){var leftRecords=session.getEntityList(this.cls,associationData[id]);if(store=this.getAssociatedItem(rightRecord))store.loadData(leftRecords),store.complete=!0;else rightRecord[this.getterName](null,null,leftRecords)}else session.onInvalidAssociationEntity(entityType,id)},findRecords:function(session,rightRecord,leftRecords,allowInfer){var ret=leftRecords,refs=session.getRefs(rightRecord,this,!0),field=
this.association.field,len;if(field&&(refs||allowInfer)){var fieldName=field.name;ret=[];if(leftRecords){var seen={};var i=0;for(len=leftRecords.length;i<len;++i){var leftRecord=leftRecords[i];var id=leftRecord.id;refs&&refs[id]?ret.push(leftRecord):allowInfer&&void 0===leftRecord.data[fieldName]&&(ret.push(leftRecord),leftRecord.data[fieldName]=rightRecord.id,session.updateReference(leftRecord,field,rightRecord.id,void 0));seen[id]=!0}}if(refs)for(id in refs)seen&&seen[id]||ret.push(refs[id])}return ret},
processLoad:function(store,rightRecord,leftRecords,session){store=leftRecords;session&&(store=this.findRecords(session,rightRecord,leftRecords,!0));this.onLoadMany(rightRecord,store,session);return store},adoptAssociated:function(rightRecord,session){rightRecord=this.getAssociatedItem(rightRecord);var len;if(rightRecord){rightRecord.setSession(session);rightRecord=rightRecord.getData().items;var i=0;for(len=rightRecord.length;i<len;++i)session.adopt(rightRecord[i])}},createGetter:function(){var me=
this;return function(options,scope,leftRecords){return me.getAssociatedStore(this,options,scope,leftRecords,!0)}},createSetter:null,onAddToMany:function(store,leftRecords){store=store.getAssociatedEntity();this.association.field?this.syncFK(leftRecords,store,!1):this.setInstances(store,leftRecords)},onLoadMany:function(rightRecord,leftRecords,session){this.setInstances(rightRecord,leftRecords,session)},onRemoveFromMany:function(store,leftRecords){this.association.field?this.syncFK(leftRecords,store.getAssociatedEntity(),
!0):this.setInstances(null,leftRecords)},read:function(rightRecord,node,fromReader,readOptions){var instanceName=this.inverse.getInstanceName();if(node=this.callParent([rightRecord,node,fromReader,readOptions]))for(node=rightRecord[this.getterName](null,null,node),delete rightRecord.data[this.role],node=node.getData().items,readOptions=0,fromReader=node.length;readOptions<fromReader;++readOptions)node[readOptions][instanceName]=rightRecord},setInstances:function(rightRecord,leftRecords,session){var instanceName=
this.inverse.getInstanceName(),id=rightRecord?rightRecord.getId():null,field=this.association.field,len=leftRecords.length,i;for(i=0;i<len;++i){var leftRecord=leftRecords[i];leftRecord[instanceName]=rightRecord;if(field){var name=field.name;var data=leftRecord.data;var oldId=data[name];oldId!==id&&(data[name]=id,session&&session.updateReference(leftRecord,field,id,oldId))}}},syncFK:function(leftRecords,rightRecord,clearing){var foreignKeyName=this.association.getFieldName(),inverse=this.inverse,setter=
inverse.setterName;inverse=inverse.getInstanceName();for(var i=leftRecords.length,id=rightRecord.getId(),different,leftRecord,val;0<i--;)leftRecord=leftRecords[i],different=!leftRecord.isEqual(id,leftRecord.get(foreignKeyName)),val=clearing?null:rightRecord,different!==clearing?(leftRecord.changingKey=!0,leftRecord[setter](val),leftRecord.changingKey=!1):leftRecord[inverse]=val}}),Right:Ext.define(null,{extend:'Ext.data.schema.Role',left:!1,side:'right',onDrop:function(leftRecord,session){(session=
this.association.field)&&leftRecord.set(session.name,null);leftRecord[this.getInstanceName()]=null},createGetter:function(){var me=this;return function(options,scope){return me.doGetFK(this,options,scope)}},createSetter:function(){var me=this;return function(rightRecord,options,scope){return me.doSetFK(this,rightRecord,options,scope)}},checkMembership:function(session,leftRecord){var field=this.association.field;field&&(session=this.getSessionStore(session,leftRecord.get(field.name)))&&!session.contains(leftRecord)&&
session.add(leftRecord)},onValueChange:function(leftRecord,session,newValue,oldValue){var instanceName=this.getInstanceName(),cls=this.cls,hasNewValue,store,rightRecord;if(!leftRecord.changingKey)if((hasNewValue=newValue||0===newValue)||(leftRecord[instanceName]=null),session)(store=this.getSessionStore(session,oldValue))&&store.remove(leftRecord),hasNewValue&&((store=this.getSessionStore(session,newValue))&&!store.isLoading()&&store.add(leftRecord),cls&&(rightRecord=session.peekRecord(cls,newValue)),
leftRecord[instanceName]=rightRecord||void 0);else if(session=leftRecord.joined)for(instanceName=session.length-1;0<=instanceName;instanceName--)store=session[instanceName],store.isStore&&(cls=store.getAssociatedEntity())&&cls.self===this.cls&&cls.getId()===oldValue&&store.remove(leftRecord);this.owner&&null===newValue&&this.association.schema.queueKeyCheck(leftRecord,this)},checkKeyForDrop:function(leftRecord){null===leftRecord.get(this.association.field.name)&&leftRecord.drop()},getSessionStore:function(session,
value){var cls=this.cls;if(cls&&(session=session.peekRecord(cls,value)))return this.inverse.getAssociatedItem(session)},read:function(leftRecord,node,fromReader,readOptions){if(node=this.callParent([leftRecord,node,fromReader,readOptions]))if(node=node[0])leftRecord[this.getInstanceName()]=node,delete leftRecord.data[this.role]}})},0,0,0,0,0,0,[Ext.data.schema,'ManyToOne'],0);
Ext.cmd.derive('Ext.data.schema.ManyToMany',Ext.data.schema.Association,{isManyToMany:!0,isToMany:!0,kind:'many-to-many',Left:Ext.define(null,{extend:'Ext.data.schema.Role',isMany:!0,digitRe:/^\d+$/,findRecords:function(session,rightRecord,leftRecords){rightRecord=session.getMatrixSlice(this.inverse,rightRecord.id).members;var ret=[],cls=this.cls,len,member;if(leftRecords){var seen={};var i=0;for(len=leftRecords.length;i<len;++i){var leftRecord=leftRecords[i];var id=leftRecord.id;(member=rightRecord[id])&&
-1===member[2]||ret.push(leftRecord);seen[id]=!0}}for(id in rightRecord)member=rightRecord[id],(!seen||!seen[id]&&member&&-1!==member[2])&&(leftRecord=session.peekRecord(cls,id))&&ret.push(leftRecord);return ret},onIdChanged:function(rightRecord,oldId,newId){(rightRecord=this.getAssociatedItem(rightRecord))&&rightRecord.getFilters().get(this.$roleFilterId).setValue(newId)},processLoad:function(store,rightRecord,leftRecords,session){var ret=leftRecords;session&&(ret=this.findRecords(session,rightRecord,
leftRecords),this.onAddToMany(store,ret,!0));return ret},processUpdate:function(session,associationData){var entityType=this.inverse.cls,items=associationData.R,id,rightRecord,store;if(items)for(id in items)if(rightRecord=session.peekRecord(entityType,id)){var leftRecords=session.getEntityList(this.cls,items[id]);if(store=this.getAssociatedItem(rightRecord))store.loadData(leftRecords),store.complete=!0;else rightRecord[this.getterName](null,null,leftRecords)}else session.onInvalidAssociationEntity(entityType,
id);this.processMatrixBlock(session,associationData.C,1);this.processMatrixBlock(session,associationData.D,-1)},checkMembership:function(session,rightRecord){var matrix=session.getMatrix(this.association,!0),id;if(matrix){var side=this.left?matrix.right:matrix.left;matrix=side.inverse.role.cls;var inverse=this.inverse;if(side=side.slices)if(side=side[rightRecord.id])for(id in side=side.members,side){var member=side[id];-1!==member[2]&&(member=session.peekRecord(matrix,id))&&(member=inverse.getAssociatedItem(member))&&
(member.matrixUpdate=1,member.add(rightRecord),member.matrixUpdate=0)}}},onStoreCreate:function(store,session,id){session&&(session=session.getMatrixSlice(this.inverse,id),session.attach(store),session.notify=this.onMatrixUpdate,session.scope=this)},processMatrixBlock:function(session,leftKeys,state){var inverse=this.inverse,digitRe=this.digitRe,id;if(leftKeys)for(id in leftKeys){digitRe.test(id)&&(id=parseInt(id,10));var slice=session.getMatrixSlice(inverse,id);slice.update(leftKeys[id],state)}},
createGetter:function(){var me=this;return function(options,scope,leftRecords){return me.getAssociatedStore(this,options,scope,leftRecords,!1)}},onAddToMany:function(store,leftRecords,load){store.matrixUpdate||(store.matrixUpdate=1,store.matrix.update(leftRecords,!0===load?0:1),store.matrixUpdate=0)},onRemoveFromMany:function(store,records){store.matrixUpdate||(store.matrixUpdate=1,store.matrix.update(records,-1),store.matrixUpdate=0)},read:function(rightRecord,node,fromReader,readOptions){if(node=
this.callParent([rightRecord,node,fromReader,readOptions]))rightRecord[this.getterName](null,null,node),delete rightRecord.data[this.role]},onMatrixUpdate:function(matrixSlice,id,state){matrixSlice=matrixSlice.store;if(matrixSlice&&!matrixSlice.loading&&!matrixSlice.matrixUpdate){matrixSlice.matrixUpdate=1;var index=matrixSlice.indexOfId(id);0>state?0<=index&&matrixSlice.remove([index]):0>index&&(id=(id=matrixSlice.getSession().getEntry(this.type,id))&&id.record)&&matrixSlice.add(id);matrixSlice.matrixUpdate=
0}},adoptAssociated:function(record,session){var store=this.getAssociatedItem(record),len;if(store)for(store.setSession(session),this.onStoreCreate(store,session,record.getId()),record=store.getData().items,store=0,len=record.length;store<len;++store)session.adopt(record[store])}},function(){var Left=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:Left,left:!1,side:'right'})},null,'Ext.data.schema.ManyToMany')})},0,0,0,0,0,0,[Ext.data.schema,
'ManyToMany'],0);
Ext.cmd.derive('Ext.util.Inflector',Ext.Base,{singleton:!0,plurals:[[/(quiz)$/i,'$1zes'],[/^(ox)$/i,'$1en'],[/([m|l])ouse$/i,'$1ice'],[/(matr|vert|ind)ix|ex$/i,'$1ices'],[/(x|ch|ss|sh)$/i,'$1es'],[/([^aeiouy]|qu)y$/i,'$1ies'],[/(hive)$/i,'$1s'],[/(?:([^f])fe|([lr])f)$/i,'$1$2ves'],[/sis$/i,'ses'],[/([ti])um$/i,'$1a'],[/(buffal|tomat|potat)o$/i,'$1oes'],[/(bu)s$/i,'$1ses'],[/(alias|status|sex)$/i,'$1es'],[/(octop|vir)us$/i,'$1i'],[/(ax|test)is$/i,'$1es'],[/^(p)erson$/i,'$1eople'],[/^(m)an$/i,'$1en'],
[/(.*)(child)(ren)?$/i,'$1$2ren'],[/s$/i,'s'],[/$/,'s']],singulars:[[/(address)$/i,'$1'],[/(quiz)zes$/i,'$1'],[/(matr)ices$/i,'$1ix'],[/(vert|ind)ices$/i,'$1ex'],[/^(ox)en/i,'$1'],[/(alias|status)es$/i,'$1'],[/(octop|vir)i$/i,'$1us'],[/(cris|ax|test)es$/i,'$1is'],[/(shoe)s$/i,'$1'],[/(o)es$/i,'$1'],[/(bus)es$/i,'$1'],[/([m|l])ice$/i,'$1ouse'],[/(x|ch|ss|sh)es$/i,'$1'],[/(m)ovies$/i,'$1ovie'],[/(s)eries$/i,'$1eries'],[/([^aeiouy]|qu)ies$/i,'$1y'],[/([lr])ves$/i,'$1f'],[/(tive)s$/i,'$1'],[/(hive)s$/i,
'$1'],[/([^f])ves$/i,'$1fe'],[/(^analy)ses$/i,'$1sis'],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,'$1$2sis'],[/([ti])a$/i,'$1um'],[/(n)ews$/i,'$1ews'],[/(p)eople$/i,'$1erson'],[/s$/i,'']],uncountable:'sheep fish series species money rice information equipment grass mud offspring deer means'.split(' '),singular:function(matcher,replacer){this.singulars.unshift([matcher,replacer])},plural:function(matcher,replacer){this.plurals.unshift([matcher,replacer])},clearSingulars:function(){this.singulars=
[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(word){return-1!==Ext.Array.indexOf(this.uncountable,word)},pluralize:function(word){if(this.isTransnumeral(word))return word;var plurals=this.plurals,length=plurals.length,i;for(i=0;i<length;i++){var tuple=plurals[i];var regex=tuple[0];if(regex==word||regex.test&&regex.test(word))return word.replace(regex,tuple[1])}return word},singularize:function(word){if(this.isTransnumeral(word))return word;var singulars=this.singulars,length=
singulars.length,i;for(i=0;i<length;i++){var tuple=singulars[i];var regex=tuple[0];if(regex==word||regex.test&&regex.test(word))return word.replace(regex,tuple[1])}return word},classify:function(word){return Ext.String.capitalize(this.singularize(word))},ordinalize:function(number){var parsed=parseInt(number,10),mod100=parsed%100;if(11<=mod100&&13>=mod100)return number+'th';switch(parsed%10){case 1:return number+'st';case 2:return number+'nd';case 3:return number+'rd';default:return number+'th'}}},
0,0,0,0,0,0,[Ext.util,'Inflector'],function(){var singular,irregulars={alumnus:'alumni',cactus:'cacti',focus:'foci',nucleus:'nuclei',radius:'radii',stimulus:'stimuli',ellipsis:'ellipses',paralysis:'paralyses',oasis:'oases',appendix:'appendices',index:'indexes',beau:'beaux',bureau:'bureaux',tableau:'tableaux',woman:'women',child:'children',man:'men',corpus:'corpora',criterion:'criteria',curriculum:'curricula',genus:'genera',memorandum:'memoranda',phenomenon:'phenomena',foot:'feet',goose:'geese',tooth:'teeth',
antenna:'antennae',formula:'formulae',nebula:'nebulae',vertebra:'vertebrae',vita:'vitae'};for(singular in irregulars)irregulars.hasOwnProperty(singular)&&(this.plural(singular,irregulars[singular]),this.singular(irregulars[singular],singular))});
Ext.cmd.derive('Ext.data.schema.Namer',Ext.Base,{isNamer:!0,capitalize:function(name){return Ext.String.capitalize(name)},fieldRole:function(name){var match=name.match(this.endsWithIdRe,'');match&&(name=name.substr(0,name.length-(match[1]||match[2]).length));return this.apply('uncapitalize',name)},idField:function(name){return this.apply('uncapitalize,singularize',name)+'Id'},instanceName:function(roleName){return this.apply('underscore',roleName)},multiRole:function(name){return this.apply('undotted,uncapitalize,pluralize',
name)},pluralize:function(name){return Ext.util.Inflector.pluralize(name)},readerRoot:function(roleName){return this.apply('uncapitalize',roleName)},singularize:function(name){return Ext.util.Inflector.singularize(name)},storeName:function(roleName){return this.apply('underscore',roleName)},uncapitalize:function(name){return Ext.String.uncapitalize(name)},underscore:function(name){return'_'+name},uniRole:function(name){return this.apply('undotted,uncapitalize,singularize',name)},undotted:function(name){var index;
if(0>name.indexOf('.'))return name;name=name.split('.');for(index=name.length;1<index--;)name[index]=this.apply('capitalize',name[index]);return name.join('')},getterName:function(role){var name=role.role;return role&&role.isMany?name:'get'+this.apply('capitalize',name)},inverseFieldRole:function(leftType,unique,rightRole,rightType){leftType=this.apply(unique?'uniRole':'multiRole',leftType);unique=this.apply('pluralize',rightRole);rightType=this.apply('undotted,pluralize',rightType);unique.toLowerCase()!==
rightType.toLowerCase()&&(leftType=rightRole+this.apply('capitalize',leftType));return leftType},manyToMany:function(relation,leftType,rightType){leftType=this.apply('undotted,capitalize,singularize',leftType)+this.apply('undotted,capitalize,pluralize',rightType);relation&&(leftType=this.apply('capitalize',relation+leftType));return leftType},manyToOne:function(leftType,leftRole,rightType,rightRole){return this.apply('capitalize,singularize',rightType)+this.apply('capitalize',leftRole)},matrixRole:function(relation,
entityType){entityType=this.apply(relation?'multiRole,capitalize':'multiRole',entityType);return relation?relation+entityType:entityType},oneToOne:function(leftType,leftRole,rightType,rightRole){return this.apply('undotted,capitalize,singularize',rightType)+this.apply('capitalize',leftRole)},setterName:function(role){return'set'+this.apply('capitalize',role.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(operation,name){var cache=this.cache;cache=cache[name]||(cache[name]={});
var ret=cache[operation],operations;if(!ret){if(0>operation.indexOf(','))ret=this[operation](name);else{var length=(operations=operation.split(',')).length;ret=name;for(name=0;name<length;++name)ret=this.apply(operations[name],ret)}cache[operation]=ret}return ret}},0,0,0,0,['namer.default'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,'Namer'],0);
Ext.cmd.derive('Ext.data.schema.Schema',Ext.Base,{aliasPrefix:'schema.',isSchema:!0,type:'default',statics:{instances:{},get:function(config){var cache=this.instances,id='default',isString=config&&Ext.isString(config),instance;if(config){if(config.isSchema)return config;id=isString?config:config.id||id}(instance=cache[id])?config&&!isString&&(cache=Ext.merge({},instance.config),Ext.merge(cache,config),instance.setConfig(cache),instance.config=cache):(cache[id]=instance=this.create(config),instance.id=
id);return instance},lookupEntity:function(entity){var ret=null,instances=this.instances,name;if(entity)if(entity.isEntity)ret=entity.self;else if(Ext.isFunction(entity))ret=entity;else if(Ext.isString(entity)){ret=Ext.ClassManager.get(entity);!ret||ret.prototype&&ret.prototype.isEntity||(ret=null);if(!ret)for(name in instances){var match=instances[name];if(match=match.getEntity(entity))ret&&Ext.raise('Ambiguous entity name "'+entity+'". Defined by schema "'+ret.schema.type+'" and "'+name+'"'),ret=
match}ret||Ext.raise('No such Entity "'+entity+'".')}return ret}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:'default',namespace:null,proxy:{type:'ajax',url:'{prefix}/{entityName}'},urlPrefix:''},onClassExtended:function(cls,data){var alias=data.alias;alias&&!data.type&&(Ext.isString(alias)||(alias=alias[0]),cls.prototype.type=alias.substring(this.prototype.aliasPrefix.length))},constructor:function(config){this.initConfig(config);this.clear()},applyDefaultIdentifier:function(identifier){return identifier&&
Ext.Factory.dataIdentifier(identifier)},applyNamer:function(namer){namer=Ext.data.schema.Namer.create(namer);namer.schema=this;return namer},applyNamespace:function(namespace){if(namespace){var end=namespace.length-1;'.'!==namespace.charAt(end)&&(namespace+='.')}return namespace},applyProxy:function(proxy){return Ext.util.ObjectTemplate.create(proxy)},eachAssociation:function(fn,scope){var associations=this.associations,name;for(name in associations)if(associations.hasOwnProperty(name)&&!1===fn.call(scope,
name,associations[name]))break},eachEntity:function(fn,scope){var entities=this.entities,name;for(name in entities)if(entities.hasOwnProperty(name)&&!1===fn.call(scope,name,entities[name].cls))break},getAssociation:function(name){return this.associations[name]||null},getEntity:function(name){return(name=this.entityClasses[name]||this.entities[name])&&name.cls||null},getEntityName:function(cls){var ns=this.getNamespace();if(cls='string'===typeof cls?cls:cls.$className||null){if(ns){var index=ns.length;
if(cls.substring(0,index)!==ns)return cls}index&&(cls=cls.substring(index))}return cls},hasAssociations:function(name){name=name.entityName||name;return!!this.associationEntityMap[name]},hasEntity:function(entity){entity=this.getEntityName(entity);return!(!this.entities[entity]&&!this.entityClasses[entity])},addMatrix:function(entityType,matrixName,relation,left,right){var namer=this.getNamer(),associations=this.associations,entities=this.entities,leftType=left.type,rightType=right.type,leftField=
left.field||namer.apply('idField',leftType),rightField=right.field||namer.apply('idField',rightType),leftRole=left.role||namer.matrixRole(relation,leftType);namer=right.role||namer.matrixRole(relation,rightType);relation=entities[leftType]||(entities[leftType]={cls:null,name:leftType,associations:{}});entities=entities[rightType]||(entities[rightType]={cls:null,name:rightType,associations:{}});++this.assocCount;associations[matrixName]=entityType=new Ext.data.schema.ManyToMany({name:matrixName,schema:this,
definedBy:entityType,left:{cls:relation.cls,type:leftType,role:leftRole,field:leftField,associationKey:left.associationKey},right:{cls:entities.cls,type:rightType,role:namer,field:rightField,associationKey:right.associationKey}});relation.associations[entityType.right.role]=entityType.right;entities.associations[entityType.left.role]=entityType.left;relation.cls&&(this.associationEntityMap[relation.cls.entityName]=!0);entities.cls&&(this.associationEntityMap[entities.cls.entityName]=!0);this.decorateModel(entityType)},
addReference:function(entityType,referenceField,descr,unique,dupeCheck){var namer=this.getNamer(),entities=this.entities,associations=this.associations,entityName=entityType.entityName,association=descr.association,child=descr.child,parent=descr.parent,rightRole=descr.role,rightType=descr.type||parent||child,leftVal=descr.inverse,leftRole=(leftVal=Ext.isString(leftVal)?{role:leftVal}:leftVal)&&leftVal.role;rightRole||(rightRole=!referenceField||descr.legacy?namer.apply('uncapitalize',rightType):namer.apply('fieldRole',
referenceField.name));leftRole||(leftRole=namer.inverseFieldRole(entityName,unique,rightRole,rightType));association||(association=unique?namer.oneToOne(entityType,leftRole,rightType,rightRole):namer.manyToOne(entityType,leftRole,rightType,rightRole));dupeCheck&&association in associations&&!1!==dupeCheck(associations[association],association,leftRole,rightRole)||(dupeCheck=entities[rightType]||(entities[rightType]={cls:null,name:rightType,associations:{}}),association=new (unique?Ext.data.schema.OneToOne:
Ext.data.schema.ManyToOne)({name:association,owner:child?'left':parent?'right':null,definedBy:entityType,schema:this,field:referenceField,nullable:referenceField?!!referenceField.allowBlank:!0,left:{cls:entityType,type:entityName,role:leftRole,extra:leftVal},right:{cls:dupeCheck.cls,type:rightType,role:rightRole,extra:descr},meta:descr}),entityType.associations[rightRole]=association.right,dupeCheck.associations[leftRole]=association.left,referenceField&&(referenceField.reference=association.right,
entityType.references.push(referenceField)),++this.assocCount,this.associationEntityMap[entityName]=!0,dupeCheck.cls&&(this.associationEntityMap[dupeCheck.cls.entityName]=!0),associations[association.name]=association,association.right.cls&&this.decorateModel(association))},privates:{addEntity:function(entityType){var entities=this.entities,entityName=entityType.entityName,entry=entities[entityName],fields=entityType.fields,length;if(entry)for(length in entities=entry.associations,entities)entities[length].inverse.cls=
entityType,this.associationEntityMap[entityName]=!0,this.decorateModel(entities[length].association);else entities[entityName]=entry={name:entityName,associations:{}};entry.cls=entityType;entityType.prototype.associations=entityType.associations=entry.associations;this.entityClasses[entityType.$className]=entry;++this.entityCount;entry=0;for(length=fields.length;entry<length;++entry)entityName=fields[entry],entityName.reference&&this.addReferenceDescr(entityType,entityName)},addMatrices:function(entityType,
matrices){var length;if(Ext.isString(matrices))this.addMatrixDescr(entityType,null,matrices);else if(matrices[0]){var i=0;for(length=matrices.length;i<length;++i)this.addMatrixDescr(entityType,null,matrices[i])}else for(i in matrices)this.addMatrixDescr(entityType,i,matrices[i])},addMatrixDescr:function(entityType,matrixName,matrixDef){var entityName=entityType.entityName,associations=this.associations,namer=this.getNamer(),left=matrixDef.left,right=matrixDef.right;if(Ext.isString(matrixDef))'#'===
matrixDef.charAt(0)?(left={type:entityName},right={type:matrixDef.substring(1)}):'#'===matrixDef.charAt(left=matrixDef.length-1)?(left={type:matrixDef.substring(0,left)},right={type:entityName}):namer.apply('multiRole',entityName)<namer.apply('multiRole',matrixDef)?(left={type:entityName},right={type:matrixDef}):(left={type:matrixDef},right={type:entityName});else{var relation=matrixDef.relation;left||!right&&namer.apply('multiRole',entityName)<namer.apply('multiRole',matrixDef.type)?(left=left&&
!0!==left?Ext.apply({type:entityName},left):{type:entityName},right=matrixDef):(right=right&&!0!==right?Ext.apply({type:entityName},right):{type:entityName},left=matrixDef)}matrixName||(matrixName=namer.manyToMany(relation,left.type,right.type));matrixName in associations||this.addMatrix(entityType,matrixName,relation,left,right)},addReferenceDescr:function(entityType,referenceField){var descr=referenceField.$reference;descr=Ext.isString(descr)?{type:descr}:Ext.apply({},descr);this.addReference(entityType,
referenceField,descr,referenceField.unique)},addBelongsTo:function(entityType,assoc){this.addKeylessSingle(entityType,assoc,!1)},addHasOne:function(entityType,assoc){this.addKeylessSingle(entityType,assoc,!0)},addKeylessSingle:function(entityType,assoc,unique){assoc=Ext.apply({},this.checkLegacyAssociation(entityType,assoc));assoc.type=this.getEntityName(assoc.child||assoc.parent||assoc.type);var foreignKey=assoc.foreignKey||assoc.type.toLowerCase()+'_id';foreignKey=entityType.getField(foreignKey);
assoc.fromSingle=!0;foreignKey&&(foreignKey.$reference=assoc,foreignKey.unique=!0,assoc.legacy=!0);this.addReference(entityType,foreignKey,assoc,unique)},addHasMany:function(entityType,assoc){var entities=this.entities,pending=this.pending;assoc=Ext.apply({},this.checkLegacyAssociation(entityType,assoc));assoc.type=this.getEntityName(assoc.child||assoc.parent||assoc.type);var name=assoc.type;if(entities=(entities=entities[name])&&entities.cls){name=entityType.entityName;entityType=assoc.foreignKey||
name.toLowerCase()+'_id';delete assoc.foreignKey;var child=Ext.apply({},assoc.inverse);delete assoc.inverse;pending=Ext.apply({},assoc);delete pending.type;assoc=Ext.apply({type:name,inverse:pending},child);if(child=pending.child)delete pending.child,assoc.parent=name;if(name=entities.getField(entityType))name.$reference=assoc,assoc.legacy=!0;this.addReference(entities,name,assoc,!1)}else pending[name]||(pending[name]=[]),pending[name].push([entityType,assoc])},checkLegacyAssociation:function(entityType,
assoc){assoc=Ext.isString(assoc)?{type:assoc}:Ext.apply({},assoc);assoc.model&&(assoc.type=assoc.model,delete assoc.model);if(entityType=assoc.associatedName||assoc.name)delete assoc.associatedName,delete assoc.name,assoc.role=entityType;return assoc},afterKeylessAssociations:function(cls){var pending=this.pending;cls=cls.entityName;var mine=pending[cls],len;if(mine){var i=0;for(len=mine.length;i<len;++i)this.addHasMany.apply(this,mine[i]);delete pending[cls]}},clear:function(clearNamespace){var timer=
this.timer;delete this.setConfig;timer&&(window.clearTimeout(timer),this.timer=null);this.associations={};this.associationEntityMap={};this.entities={};this.entityClasses={};this.pending={};this.assocCount=this.entityCount=0;clearNamespace&&this.setNamespace(null)},constructProxy:function(Model){Model=Ext.Object.chain(Model);var proxy=this.getProxy();Model.schema=this;Model.prefix=this.getUrlPrefix();return proxy.apply(Model)},applyDecoration:function(role){var cls=role.inverse.cls,namer=this.getNamer(),
getterName;cls&&!role.decorated&&(role.decorated=!0,cls=cls.prototype,(getterName=role.getterName)||(role.getterName=getterName=namer.getterName(role)),cls[getterName]=role.createGetter(),role.createSetter&&((getterName=role.setterName)||(role.setterName=getterName=namer.setterName(role)),cls[getterName]=role.createSetter()))},decorateModel:function(association){this.applyDecoration(association.left);this.applyDecoration(association.right)},processKeyChecks:function(processAll){var keyCheckQueue=
this.keyCheckQueue,timer=this.timer;timer&&(window.clearTimeout(timer),this.timer=null);if(keyCheckQueue){do{keyCheckQueue=this.keyCheckQueue;this.keyCheckQueue=[];var i=0;for(timer=keyCheckQueue.length;i<timer;++i){var item=keyCheckQueue[i];item.role.checkKeyForDrop(item.record)}}while(processAll&&this.keyCheckQueue.length)}},queueKeyCheck:function(record,role){var keyCheckQueue=this.keyCheckQueue,timer=this.timer;keyCheckQueue||(this.keyCheckQueue=keyCheckQueue=[]);keyCheckQueue.push({record,role});
timer||(this.timer=Ext.defer(this.processKeyChecks,this.getKeyCheckDelay(),this))},rankEntities:function(){var entities=this.entities,entityNames=Ext.Object.getKeys(entities),length=entityNames.length,i;this.nextRank=1;entityNames.sort();for(i=0;i<length;++i){var entityType=entities[entityNames[i]].cls;entityType.rank||this.rankEntity(entityType)}},rankEntity:function(entityType){var associations=entityType.associations,roleName;for(roleName in associations){var associatedType=associations[roleName];
!associatedType.left&&associatedType.association.field&&(associatedType=associatedType.cls,associatedType.rank||this.rankEntity(associatedType))}entityType.rank=this.nextRank++}}},1,0,0,0,['schema.default'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,'Schema'],0);
Ext.cmd.derive('Ext.data.AbstractStore',Ext.Base,{factoryConfig:{defaultType:'store',type:'store'},$configPrefixed:!1,$configStrict:!1,config:{filters:null,autoDestroy:void 0,storeId:null,statefulFilters:!1,sorters:null,remoteSort:{lazy:!0,$value:!1},remoteFilter:{lazy:!0,$value:!1},remoteSummary:{lazy:!0,$value:!1},groupField:void 0,groupDir:'ASC',grouper:null,groupers:void 0,pageSize:25,autoSort:null,reloadOnClearSorters:!1,autoLoadOnFilterEnd:void 0},currentPage:1,loading:!1,isStore:!0,updating:0,
observerPriority:0,constructor:function(config){this.isInitializing=!0;this.mixins.observable.constructor.call(this,config);this.isInitializing=!1;var storeId=this.getStoreId();!storeId&&config&&config.id&&this.setStoreId(storeId=config.id);storeId&&Ext.data.StoreManager.register(this)},createActiveRange:function(config){config=Ext.apply({store:this},config);return new Ext.data.Range(config)},syncActiveRanges:function(){var activeRanges=this.activeRanges,len=activeRanges&&activeRanges.length,i;for(i=
0;i<len;i++)activeRanges[i].refresh()},getCount:function(){var data=this.getData();return data?data.getCount():0},rangeCached:function(start,end){return this.getData().getCount()>=Math.max(start,end)},find:function(property,value,startIndex,anyMatch,caseSensitive,exactMatch){anyMatch=!anyMatch;exactMatch=!(!anyMatch||!exactMatch);return this.getData().findIndex(property,value,startIndex,anyMatch,exactMatch,!caseSensitive)},findRecord:function(){var index=this.find.apply(this,arguments);return-1!==
index?this.getAt(index):null},findExact:function(fieldName,value,startIndex){return this.getData().findIndexBy(function(rec){return rec.isEqual(rec.get(fieldName),value)},this,startIndex)},findBy:function(fn,scope,start){return this.getData().findIndexBy(fn,scope,start)},getAt:function(index){return this.getData().getAt(index)||null},getRange:function(start,end,options){var result=this.getData().getRange(start,Ext.isNumber(end)?end+1:end);options&&options.callback&&options.callback.call(options.scope||
this,result,start,end,options);return result},getFilters:function(autoCreate){var result=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this);result||!1===autoCreate||(this.setFilters([]),result=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this));return result},applyFilters:function(filters,filtersCollection){var created=!filtersCollection;created&&(filtersCollection=this.createFiltersCollection());if(filters!==filtersCollection&&(filters&&filters.isCollection&&
(filters=filters.items.slice()),filtersCollection.add(filters),created))this.onRemoteFilterSet(filtersCollection,this.getRemoteFilter());return filtersCollection},getSorters:function(autoCreate){var result=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this);result||!1===autoCreate||(this.setSorters([]),result=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this));return result},applySorters:function(sorters,sortersCollection){if(!sortersCollection){sortersCollection=
this.createSortersCollection();var created=!0}sortersCollection.add(sorters);if(created)this.onRemoteSortSet(sortersCollection,this.getRemoteSort());return sortersCollection},filter:function(filters,value,suppressEvent){Ext.isString(filters)&&(filters={property:filters,value});this.suppressNextFilter=!!suppressEvent;this.getFilters().add(filters);this.suppressNextFilter=!1},removeFilter:function(toRemove,suppressEvent){var filters=this.getFilters();this.suppressNextFilter=!!suppressEvent;toRemove instanceof
Ext.util.Filter?filters.remove(toRemove):filters.removeByKey(toRemove);this.suppressNextFilter=!1},updateAutoSort:function(autoSort){this.getData().setAutoSort(autoSort)},updateRemoteSort:function(remoteSort){this.onRemoteSortSet(this.getSorters(!1),remoteSort)},updateRemoteFilter:function(remoteFilter){this.onRemoteFilterSet(this.getFilters(!1),remoteFilter)},addFilter:function(filters,suppressEvent){this.suppressNextFilter=!!suppressEvent;this.getFilters().add(filters);this.suppressNextFilter=!1},
filterBy:function(fn,scope){this.getFilters().add({filterFn:fn,scope:scope||this})},clearFilter:function(suppressEvent){var filters=this.getFilters(!1);filters&&0!==filters.getCount()&&(this.suppressNextFilter=!!suppressEvent,filters.removeAll(),this.suppressNextFilter=!1)},isFiltered:function(){return 0<this.getFilters().getCount()},isSorted:function(){var sorters=this.getSorters(!1);return!!(sorters&&0<sorters.length)||this.isGrouped()},addFieldTransform:function(sorter){if(!sorter.getTransform()){var fieldName=
sorter.getProperty(),Model=this.getModel();if(Model)var sortType=(fieldName=Model.getField(fieldName))?fieldName.getSortType():null;sortType&&sortType!==Ext.identityFn&&sorter.setTransform(sortType)}},beginUpdate:function(){!this.updating++&&this.hasListeners.beginupdate&&this.fireEvent('beginupdate')},endUpdate:function(){this.updating&&!--this.updating&&(this.hasListeners.endupdate&&this.fireEvent('endupdate'),this.onEndUpdate())},getState:function(){var sorters=[],filters=this.getFilters(),grouper=
this.getGrouper(),groupers=[],storeGroupers=this.getGroupers(!1);this.getSorters().each(function(s){sorters[sorters.length]=s.getState();hasState=!0});if(this.statefulFilters&&this.saveStatefulFilters){var hasState=!0;var filterState=[];filters.each(function(f){filterState[filterState.length]=f.getState()})}grouper?hasState=!0:storeGroupers&&storeGroupers.each(function(g){groupers[groupers.length]=g.getState();hasState=!0});if(hasState){var result={};sorters.length&&(result.sorters=sorters);filterState&&
(result.filters=filterState);grouper?result.grouper=grouper.getState():groupers.length&&(result.groupers=groupers)}return result},applyState:function(state){var stateSorters=state.sorters,stateFilters=state.filters,stateGrouper=state.grouper;state=state.groupers;stateSorters&&this.getSorters().replaceAll(stateSorters);stateFilters&&(this.saveStatefulFilters=!0,this.getFilters().replaceAll(stateFilters));stateGrouper?this.setGrouper(stateGrouper):state&&this.setGroupers(state)},hasPendingLoad:Ext.emptyFn,
isLoaded:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){this.hasListeners.beforedestroy&&this.fireEvent('beforedestroy',this);this.destroying=!0;this.getStoreId()&&Ext.data.StoreManager.unregister(this);this.doDestroy();this.hasListeners.destroy&&this.fireEvent('destroy',this);this.callParent()},doDestroy:Ext.emptyFn,sort:function(field,direction,mode){0===arguments.length?this.getRemoteSort()?this.load():this.forceLocalSort():this.getSorters().addSort(field,direction,mode)},onBeforeCollectionSort:function(store,
sorters){sorters&&this.fireEvent('beforesort',this,sorters.getRange())},onSorterEndUpdate:function(){var me=this,fireSort=!0,sorters=me.getSorters(!1);if(!me.settingGroups&&sorters){sorters=sorters.getRange();var sorterCount=sorters.length;me.getRemoteSort()?(me.isLoaded()||me.getAutoLoad())&&(sorters.length||me.getReloadOnClearSorters())&&(fireSort=!1,me.load({callback:function(){me.fireEvent('sort',me,sorters)}})):sorterCount&&(me.fireEvent('datachanged',me),me.fireEvent('refresh',me));fireSort&&
me.fireEvent('sort',me,sorters)}},onFilterEndUpdate:function(){var suppressNext=this.suppressNextFilter;this.getFilters(!1)&&(this.getRemoteFilter()?(this.currentPage=1,!suppressNext&&(this.isLoaded()||this.getAutoLoad()||this.getAutoLoadOnFilterEnd())&&this.load()):suppressNext||(this.fireEvent('datachanged',this),this.fireEvent('refresh',this)),this.trackStateChanges&&(this.saveStatefulFilters=!0),this.fireEvent('filterchange',this,this.getFilters().getRange()))},updateGroupField:function(field){field?
this.setGrouper({property:field,direction:this.getGroupDir()}):this.setGrouper(null)},getGrouper:function(){return this.getData().getGrouper()},setGrouper:function(grouper){if(!this.isConfiguring||this.isConfiguring&&grouper)this.usesGroupers=!1,this.group(grouper)},getGroupers:function(autoCreate){var data=this.getData();return data&&data.isCollection?data.getGroupers(autoCreate):null},setGroupers:function(groupers){if(!this.isConfiguring||this.isConfiguring&&groupers)this.usesGroupers=!0,this.group(groupers)},
group:function(groupers,direction){var data=this.getData();this.usesGroupers&&this.fireEvent('beforegroupschange',this);this.settingGroups=!0;var colGroupers=data.getGroupers();if(groupers){if(Ext.isArray(groupers))var newGroupers=groupers;else Ext.isObject(groupers)?newGroupers=[groupers]:Ext.isString(groupers)&&((data=colGroupers.get(groupers))?void 0===direction?data.toggle():data.setDirection(direction):(data={property:groupers,direction:direction||this.getGroupDir()},newGroupers=[data]));newGroupers&&
newGroupers.length&&colGroupers.replaceAll(newGroupers)}else data.setGrouper(null),data.setGroupers(null);delete this.settingGroups},fireGroupChange:function(grouper){this.isConfiguring||this.destroying||this.destroyed||(this.usesGroupers?this.fireEvent('groupschange',this,this.getGroupers(!1)):this.fireGroupChangeEvent(grouper||this.getGrouper()))},fireGroupChangeEvent:function(grouper){this.fireEvent('groupchange',this,grouper)},clearGrouping:function(){this.group(null)},getGroupField:function(){var groupers=
this.getGroupers(!1),group='';groupers&&groupers.length&&(group=groupers.getAt(0).getProperty());return group},isGrouped:function(){var groupers=this.getGroupers(!1);return!!(groupers&&0<groupers.length)},getGroups:function(){return this.getData().getGroups()},onGroupersEndUpdate:function(){var me=this,groupers=me.getData().getGroupers(!1),sorters=me.getSorters(!1);groupers&&groupers.addGroupersObserver(me);groupers&&groupers.length||sorters&&sorters.length?me.getRemoteSort()?me.isInitializing||me.load({scope:me,
callback:function(){me.fireGroupChange()}}):(me.fireEvent('datachanged',me),me.fireEvent('refresh',me),me.fireGroupChange()):me.fireGroupChange()},onGrouperDirectionChange:function(){var me=this;me.fireEvent('beforegroupschange',me);me.getRemoteSort()?me.isInitializing||me.load({scope:me,callback:function(){me.fireGroupChange()}}):Ext.asap(me.delayedDirectionChange,me)},delayedDirectionChange:function(){this.destroyed||this.fireGroupChange()},onEndUpdate:Ext.emptyFn,privates:{_metaProperties:{count:'getCount',
first:'first',last:'last',loading:'hasPendingLoad',totalCount:'getTotalCount'},interpret:function(name){return(name=this._metaProperties[name])&&this[name]()},loadsSynchronously:Ext.privateFn,onRemoteFilterSet:function(filters,remoteFilter){if(filters)filters[remoteFilter?'on':'un']('endupdate','onFilterEndUpdate',this)},onRemoteSortSet:function(sorters,remoteSort){if(sorters&&(sorters[remoteSort?'on':'un']('endupdate','onSorterEndUpdate',this),sorters=this.getData()))sorters[remoteSort?'un':'on']('beforesort',
'onBeforeCollectionSort',this)}},deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data,'AbstractStore'],0);
Ext.cmd.derive('Ext.data.Error',Ext.Base,{isError:!0,$configPrefixed:!1,config:{field:null,message:''},constructor:function(config){this.initConfig(config);this.msg=this.message}},1,0,0,0,0,0,[Ext.data,'Error'],0);
Ext.cmd.derive('Ext.data.ErrorCollection',Ext.util.MixedCollection,{alternateClassName:'Ext.data.Errors',init:function(record){var fields=record.fields,data=record.data,len;var i=0;for(len=fields.length;i<len;++i){var field=fields[i];var name=field.name;var val=data[name];if(field.validate&&!field.validate.$nullFn){var before=this.length;field=field.validate(val,null,this,record);before===this.length&&!0!==field&&this.add(name,field)}}return this},add:function(key,value){var defaultMessage=Ext.data.field.Field.defaultInvalidMessage,
obj=key;Ext.isString(key)?obj=new Ext.data.Error({field:key,message:value||defaultMessage}):(obj.isError||(obj=new Ext.data.Error({field:obj.field||obj.name,message:obj.error||obj.message||obj.msg||defaultMessage})),key=obj.field);if(value=this.get(key)){if(Ext.isArray(value))return value.push(obj),value;this.removeAtKey(key);obj=[value,obj];obj.field=key;obj=[obj]}return Ext.util.MixedCollection.prototype.add.call(this,obj)},getKey:function(item){return item.field},isValid:function(){return 0===
this.length},getByField:function(fieldName){(fieldName=this.get(fieldName))&&!Ext.isArray(fieldName)&&(fieldName=[fieldName]);return fieldName||[]}},0,0,0,0,0,0,[Ext.data,'ErrorCollection',Ext.data,'Errors'],0);
Ext.cmd.derive('Ext.data.operation.Operation',Ext.Base,{alternateClassName:'Ext.data.Operation',isOperation:!0,config:{synchronous:!1,url:'',params:void 0,callback:void 0,scope:void 0,resultSet:null,response:null,request:null,records:null,id:void 0,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,idPrefix:'ext-operation-',constructor:function(config){var scope=
config&&config.scope;this.initConfig(config);config&&(config.scope=scope);scope&&(this.setScope(scope),this.initialConfig.scope=scope);this._internalId=Ext.id(this,this.idPrefix)},getAction:function(){return this.action},execute:function(){var request;delete this.error;delete this.success;this.complete=this.exception=!1;this.setStarted();(this.request=request=this.doExecute())&&request.setOperation(this);return request},doExecute:Ext.emptyFn,abort:function(){var request=this.request,proxy;this.aborted=
!0;this.running&&request&&((proxy=this.getProxy())&&!proxy.destroyed&&proxy.abort(request),this.request=null);this.running=!1},process:function(resultSet,request,response,autoComplete){autoComplete=!1!==autoComplete;this.setResponse(response);this.setResultSet(resultSet);resultSet.getSuccess()?(this.doProcess(resultSet,request,response),this.setSuccessful(autoComplete)):autoComplete&&this.setException(resultSet.getMessage())},_commitSetOptions:{convert:!0,commit:!0},doProcess:function(resultSet,request,
response){request=this._commitSetOptions;var clientRecords=this.getRecords(),clientLen=clientRecords.length;response=clientRecords[0].clientIdProperty;var serverLen=(resultSet=resultSet.getRecords())?resultSet.length:0,clientRecord,i;if(serverLen&&response){clientRecords=Ext.Array.toValueMap(clientRecords,'id');for(i=0;i<serverLen;++i){var serverRecord=resultSet[i];if(clientRecord=clientRecords[serverRecord[response]])delete clientRecords[clientRecord.id],delete serverRecord[response],clientRecord.set(serverRecord,
request)}for(i in clientRecords)clientRecords[i].commit()}else for(i=0;i<clientLen;++i)clientRecord=clientRecords[i],0!==serverLen&&(serverRecord=resultSet[i])?clientRecord.set(serverRecord,request):clientRecord.commit()},setStarted:function(){this.started=this.running=!0},setCompleted:function(){var proxy;this.complete=!0;this.running=!1;this.destroying||this.triggerCallbacks();this.destroyed||(proxy=this.getProxy())&&!proxy.destroyed&&proxy.completeOperation(this)},setSuccessful:function(complete){this.success=
!0;complete&&this.setCompleted()},setException:function(error){this.exception=!0;this.success=this.running=!1;this.error=error;this.setCompleted()},triggerCallbacks:function(){var callback=this.getInternalCallback();if(callback){callback.call(this.getInternalScope()||this,this);if(this.destroyed)return;this.setInternalCallback(null);this.setInternalScope(null)}if(callback=this.getCallback())callback.call(this.getScope()||this,this.getRecords(),this,this.wasSuccessful()),this.destroyed||(this.setCallback(null),
this.setScope(null))},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var resultSet;return this._records||((resultSet=this.getResultSet())?resultSet.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&!0===this.success},allowWrite:function(){return!0},destroy:function(){this.destroying=!0;this.running&&
this.abort();this._recordCreator=this._internalCallback=this._internalScope=this.request=this._request=this._records=this._proxy=this._batch=this._params=this._callback=this._scope=this._resultSet=this._response=null;this.callParent()}},1,0,0,0,0,0,[Ext.data.operation,'Operation',Ext.data,'Operation'],0);
Ext.cmd.derive('Ext.data.operation.Create',Ext.data.operation.Operation,{action:'create',isCreateOperation:!0,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}},0,0,0,0,['data.operation.create'],0,[Ext.data.operation,'Create'],0);
Ext.cmd.derive('Ext.data.operation.Destroy',Ext.data.operation.Operation,{action:'destroy',isDestroyOperation:!0,order:30,foreignKeyDirection:-1,doProcess:function(){var clientRecords=this.getRecords(),clientLen=clientRecords.length,i;for(i=0;i<clientLen;++i)clientRecords[i].setErased()},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(record,operation){operation={};var idField=record.idField,nameProperty=this.getNameProperty()||'name';operation[idField[nameProperty]]=
record.id;return operation}},0,0,0,0,['data.operation.destroy'],0,[Ext.data.operation,'Destroy'],0);
Ext.cmd.derive('Ext.data.operation.Read',Ext.data.operation.Operation,{action:'read',isReadOperation:!0,config:{filters:void 0,sorters:void 0,groupers:void 0,summaries:void 0,grouper:void 0,start:void 0,limit:void 0,page:void 0,addRecords:!1},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return!1}},0,0,0,0,['data.operation.read'],0,[Ext.data.operation,'Read'],0);
Ext.cmd.derive('Ext.data.operation.Update',Ext.data.operation.Operation,{action:'update',isUpdateOperation:!0,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}},0,0,0,0,['data.operation.update'],0,[Ext.data.operation,'Update'],0);
Ext.cmd.derive('Ext.data.SortTypes',Ext.Base,function(){var me;return{singleton:!0,constructor:function(){me=this},none:Ext.identityFn,stripCommasRe:/,/g,stripTagsRE:/<\/?[^>]+>/gi,asText:function(s){return null!=s?String(s).replace(me.stripTagsRE,''):'\x00'},asUCText:function(s){return null!=s?String(s).toUpperCase().replace(me.stripTagsRE,''):'\x00'},asUCString:function(s){return null!=s?String(s).toUpperCase():'\x00'},asDate:function(s){return s?Ext.isDate(s)?s.getTime():Date.parse(String(s)):
0},asFloat:function(s){s=parseFloat(String(s).replace(me.stripCommasRe,''));return isNaN(s)?0:s},asInt:function(s){s=parseInt(String(s).replace(me.stripCommasRe,''),10);return isNaN(s)?0:s}}},1,0,0,0,0,0,[Ext.data,'SortTypes'],0);
Ext.cmd.derive('Ext.data.validator.Validator',Ext.Base,{isValidator:!0,factoryConfig:{cacheable:!0},type:'base',constructor:function(config){'function'===typeof config?(this.fnOnly=!0,this.validate=config):this.initConfig(config)},validate:function(){return!0},clone:function(){return this.fnOnly?new Ext.data.validator.Validator(this.validate):new this.self(this.getCurrentConfig())}},1,0,0,0,['data.validator.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],
[Ext.data.validator,'Validator'],function(Validator){Ext.Factory.validator=Ext.Factory.dataValidator});
Ext.cmd.derive('Ext.data.summary.Base',Ext.Base,{isAggregator:!0,factoryConfig:{defaultType:'base',cacheable:!0},text:'Custom',constructor:function(config){var calculate=config&&config.calculate;calculate&&(config=Ext.apply({},config),delete config.calculate,this.calculate=calculate);this.initConfig(config)},extractValue:function(record,property,root){if(record){root&&(record=record[root]);var ret=record[property]}return ret}},1,0,0,0,['data.summary.base'],[[Ext.mixin.Factoryable.prototype.mixinId||
Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.summary,'Base'],function(){Ext.Factory.on('dataSummary',function(factory,config){if('function'===typeof config)return factory({calculate:config})})});
Ext.cmd.derive('Ext.data.field.Field',Ext.Base,{alternateClassName:'Ext.data.Field',aliasPrefix:'data.field.',type:'auto',factoryConfig:{defaultProperty:'name'},isDataField:!0,isField:!0,allowBlank:!0,allowNull:!1,critical:!1,defaultInvalidMessage:'This field is invalid',defaultValue:void 0,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:void 0,persist:null,reference:null,summary:null,summaryField:'',unique:!1,rank:null,stripRe:/[$,%]/g,calculated:!1,evil:!1,identifier:!1,
onClassExtended:function(cls,data){var sortType=data.sortType;cls=cls.prototype;var superValidators=cls.validators,validators=data.validators,alias=data.alias;alias&&('string'!==typeof alias&&(alias=alias[0]),alias&&(cls.type=alias.substr(alias.lastIndexOf('.')+1)));sortType&&Ext.isString(sortType)&&(cls.sortType=Ext.data.SortTypes[sortType]);validators&&(Ext.isArray(validators)||(validators=[validators]),delete data.validators,superValidators&&(validators=superValidators.concat(validators)),cls.validators=
validators)},argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,calculateRe:/[^.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(config){var calculateRe=this.calculateRe,calculate,calculated,match,dataProp;if(config)if(Ext.isString(config))this.name=config;else{if(calculate=config.validators)delete config.validators,this.instanceValidators=calculate;Ext.apply(this,config)}this.allowNull||(this.allowNull=!!this.reference);calculate=this.calculate;config=this.depends;if(calculate&&
(this.convert=this.doCalculate,!config)){if(!(config=calculate.$depends)){var map={};var str=Ext.Function.toCode(calculate);calculate.$depends=config=[];for(dataProp=(match=this.argumentNamesRe.exec(str))?match[1]:'data';match=calculateRe.exec(str);)dataProp!==match[1]||map[calculated=match[2]]||(map[calculated]=1,config.push(calculated))}this.depends=config}calculateRe=this.defaultValue;this.convert&&(this.evil=(this.calculated=calculated=1<this.convert.length)&&!config);null===this.persist&&(this.persist=
!calculate);calculate=this.sortType;this.sortType?Ext.isString(calculate)&&(this.sortType=Ext.data.SortTypes[calculate]):this.sortType=Ext.data.SortTypes.none;config&&'string'===typeof config&&(this.depends=[config]);this.cloneDefaultValue=void 0!==calculateRe&&(Ext.isDate(calculateRe)||Ext.isArray(calculateRe)||Ext.isObject(calculateRe))},setModelValidators:function(modelValidators){this._validators=null;this.modelValidators=modelValidators},constructValidators:function(validators){var length,presence;
if(validators){validators instanceof Array||(validators=[validators]);var all=this._validators;var i=0;for(length=validators.length;i<length;++i){var item=validators[i];item.fn&&(item=item.fn);item=Ext.Factory.dataValidator(item);item.isPresence?presence=item:all.push(item)}presence&&(this.presence=[presence])}},collate:function(value1,value2){this.sortType&&(value1=this.sortType(value1),value2=this.sortType(value2));return value1===value2?0:value1<value2?-1:1},compare:function(value1,value2){return value1===
value2?0:value1<value2?-1:1},isEqual:function(value1,value2){return 0===this.compare(value1,value2)},convert:null,serialize:null,validate:function(value,separator,errors,record){var validators=this.getValidators(),result;return!(result=this.presence)||null!=value&&''!==value||(result=this.validateGroup(result,value,separator,errors,record),!0===result)?this.validateGroup(validators,value,separator,errors,record):result},validateGroup:function(validators,value,separator,errors,record){var ret='',length;
var i=0;for(length=validators.length;i<length;++i){var validator=validators[i];validator=validator.validate(value,record);if(!0!==validator)if(validator=validator||this.defaultInvalidMessage,errors)errors.isMixedCollection?errors.add(this.name,validator):errors.isCollection?errors.add(validator):errors.push(validator),ret=ret||validator;else if(separator)ret&&(ret+=separator),ret+=validator;else{ret=validator;break}}return ret||!0},doCalculate:function(v,rec){return rec?this.calculate(rec.data):v},
getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var map=this.mapping;return!(!map&&0!==map)},getPersist:function(){return this.persist},getSortType:function(){return this.sortType},getSummary:function(){var summary=
this.summary;this.doneSummary||(this.doneSummary=!0,summary&&(this.summary=summary=Ext.Factory.dataSummary(summary)));return summary||null},getType:function(){return'auto'},privates:{getValidators:function(){var validators=this._validators;validators||(this._validators=validators=[],this.constructValidators(this.validators),this.constructValidators(this.modelValidators),this.constructValidators(this.instanceValidators));return validators}},deprecated:{'5.1':{methods:{getSortDir:function(){return this.sortDir}}}}},
1,0,0,0,['data.field.auto'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.field,'Field',Ext.data,'Field'],0);
Ext.cmd.derive('Ext.data.field.Array',Ext.data.field.Field,{isArrayField:!0,itemType:{type:'auto'},getType:function(){return'array'},collate:function(v1,v2){return this.collateOrCompare(v1,v2,'collate')},compare:function(v1,v2){return this.collateOrCompare(v1,v2,'compare')},convert:function(v){return this.doForEach(!v&&0!==v||Ext.isArray(v)?v:[v],'convert')},serialize:function(value){return this.doForEach(value,'serialize')},getItemField:function(){var t=this.itemType;this.itemField||('string'===
typeof t?t={type:t}:t&&t.isDataField||(t=Ext.apply({type:'auto'},t)),this.itemField=Ext.data.field.Field.create(t));return this.itemField},doForEach:function(v,fn){if(!v)return this.allowNull?null:[];var len=v.length,ret=Array(len),field=this.getItemField(),i;for(i=0;i<len;++i)ret[i]=field[fn]?field[fn](v[i]):v[i];return ret},collateOrCompare:function(v1,v2,fn){var field=this.getItemField(),i;if(!v1&&!v2||v1===v2)return 0;if(!v1||!v2)return v1?1:-1;var len1=v1.length;var len2=v2.length;var len=Math.min(len1,
len2);for(i=0;i<len;++i){var result=field[fn](v1[i],v2[i]);if(0!==result)return result}return len1===len2?0:len1<len2?-1:1}},0,0,0,0,['data.field.array'],0,[Ext.data.field,'Array'],0);
Ext.cmd.derive('Ext.data.field.Boolean',Ext.data.field.Field,{isBooleanField:!0,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(v){return'boolean'===typeof v?v:!this.allowNull||void 0!==v&&null!==v&&''!==v?this.trueRe.test(String(v)):null},getType:function(){return'bool'}},0,0,0,0,['data.field.bool','data.field.boolean'],0,[Ext.data.field,'Boolean'],0);
Ext.cmd.derive('Ext.data.field.Date',Ext.data.field.Field,{sortType:'asDate',isDateField:!0,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(lhs,rhs){var lhsIsDate=lhs instanceof Date,rhsIsDate=rhs instanceof Date;rhsIsDate&&lhsIsDate?(lhs=lhs.getTime()-rhs.getTime(),lhs=0===lhs?0:0>lhs?-1:1):lhs=lhsIsDate===rhsIsDate?0:lhsIsDate?1:-1;return lhs},convert:function(v){if(!v)return null;if(v instanceof Date)return v;var dateFormat=this.dateReadFormat||this.dateFormat;return dateFormat?
Ext.Date.parse(v,dateFormat,this.useStrict):(v=Date.parse(v))?new Date(v):null},serialize:function(value){var result=null;Ext.isDate(value)&&(result=(result=this.getDateWriteFormat())?Ext.Date.format(value,result):value);return result},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){return this.hasOwnProperty('dateWriteFormat')?this.dateWriteFormat:this.hasOwnProperty('dateFormat')?this.dateFormat:this.dateWriteFormat||
this.dateFormat||'timestamp'},getType:function(){return'date'}},0,0,0,0,['data.field.date'],0,[Ext.data.field,'Date'],0);
Ext.cmd.derive('Ext.data.field.Integer',Ext.data.field.Field,{isNumeric:!0,isIntegerField:!0,numericType:'int',convert:function(v){if('number'===typeof v)return this.getNumber(v);var allowNull=this.allowNull;null==v||''===v?v=allowNull?null:0:(v=this.parse(v),allowNull&&isNaN(v)&&(v=null));return v},getNumber:function(v){return parseInt(v,10)},getType:function(){return this.numericType},parse:function(v){return parseInt(String(v).replace(this.stripRe,''),10)},sortType:function(s){null==s&&(s=Infinity);
return s}},0,0,0,0,['data.field.int','data.field.integer'],0,[Ext.data.field,'Integer'],0);Ext.cmd.derive('Ext.data.field.Number',Ext.data.field.Integer,{isIntegerField:!1,isNumberField:!0,numericType:'float',getNumber:Ext.identityFn,parse:function(v){return parseFloat(String(v).replace(this.stripRe,''))}},0,0,0,0,['data.field.float','data.field.number'],0,[Ext.data.field,'Number'],0);
Ext.cmd.derive('Ext.data.field.String',Ext.data.field.Field,{sortType:'asUCString',isStringField:!0,convert:function(v){var defaultValue=this.allowNull?null:'';return void 0===v||null===v?defaultValue:String(v)},getType:function(){return'string'}},0,0,0,0,['data.field.string'],0,[Ext.data.field,'String'],0);
Ext.cmd.derive('Ext.data.identifier.Generator',Ext.Base,{'abstract':!0,factoryConfig:{defaultType:'sequential'},isGenerator:!0,config:{id:null},constructor:function(config){this.initConfig(config);(config=this.getId())&&(Ext.data.identifier.Generator.all[config]=this)},privates:{clone:function(config){var cfg=this.getInitialConfig();cfg=config?Ext.apply({},config,cfg):cfg;return new this.self(cfg)},statics:{all:{}}}},1,0,0,0,['data.identifier.default'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,
Ext.mixin.Factoryable]],[Ext.data.identifier,'Generator'],function(){var Generator=this,Factory=Ext.Factory,factory=Factory.dataIdentifier;Factory.dataIdentifier=function(config){var id=Ext.isString(config)?config:config&&config.id;return id&&Generator.all[id]||factory(config)}});
Ext.cmd.derive('Ext.data.identifier.Sequential',Ext.data.identifier.Generator,{config:{increment:1,prefix:null,seed:1},generate:function(){var seed=this._seed,prefix=this._prefix;this._seed+=this._increment;return null!==prefix?prefix+seed:seed}},0,0,0,0,['data.identifier.sequential'],0,[Ext.data.identifier,'Sequential'],0);
Ext.cmd.derive('Ext.data.Model',Ext.Base,{alternateClassName:'Ext.data.Record',isEntity:!0,isModel:!0,validIdRe:null,erasing:!1,loadOperation:null,loadCount:0,observableType:'record',crudState:'R',crudStateWas:null,constructor:function(data,session,skipStoreAddition){var cls=this.self,identifier=cls.identifier,Model=Ext.data.Model,modelIdentifier=Model.identifier,idProperty=this.idField.name,id,internalId,i;this.data=data||(data={});this.internalId=internalId=modelIdentifier.generate();if(data.$parentRecordRef){var array=
data.$parentRecordRef;delete data.$parentRecordRef;this[array[0]]=array[1]}if((array=data)instanceof Array){this.data=data={};var fields=this.getFields();var len=Math.min(fields.length,array.length);for(i=0;i<len;++i)data[fields[i].name]=array[i]}(array=cls.initializeFn)||(cls.initializeFn=array=Model.makeInitializeFn(cls));array.$nullFn||cls.initializeFn(this);this.isSummaryModel||((this.id=id=data[idProperty])||0===id||(session?(identifier=session.getIdentifier(cls),id=identifier.generate()):id=
modelIdentifier===identifier?internalId:identifier.generate(),data[idProperty]=this.id=id,this.phantom=!0,this.crudState='C'),session&&!skipStoreAddition&&session.add(this),this.phantom&&(this.crudStateWas='C'));this.init&&Ext.isFunction(this.init)&&this.init()},editing:!1,dirty:!1,session:null,dropped:!1,erased:!1,clientIdProperty:null,evented:!1,phantom:!1,idProperty:'id',manyToMany:null,identifier:null,previousValues:void 0,proxy:void 0,schema:'default',summary:null,versionProperty:null,generation:1,
validationSeparator:null,convertOnSet:!0,beginEdit:function(){var modified=this.modified,previousValues=this.previousValues;this.editing||(this.editing=!0,this.editMemento={dirty:this.dirty,data:Ext.apply({},this.data),generation:this.generation,modified:modified&&Ext.apply({},modified),previousValues:previousValues&&Ext.apply({},previousValues)})},calculateSummary:function(records){var fields=this.getFields(),len=fields.length,recLen=records.length,i;for(i=0;i<len;++i){var prop=fields[i];var summary=
prop.getSummary();var result=result||{};var name=prop.name;prop=prop.summaryField||name;'id'!==name&&(result[name]=summary?summary.calculate(records,prop,'data',0,recLen):void 0)}result&&this.set(result,this._commitOptions)},cancelEdit:function(){var editMemento=this.editMemento,validation=this.validation;editMemento&&(this.editing=!1,Ext.apply(this,editMemento),this.editMemento=null,validation&&validation.syncGeneration!==this.generation&&(validation.syncGeneration=0))},endEdit:function(silent,modifiedFieldNames){var editMemento=
this.editMemento;editMemento&&(this.editing=!1,this.editMemento=null,this.previousValues=editMemento.previousValues,silent||(modifiedFieldNames||(modifiedFieldNames=this.getModifiedFieldNames(editMemento.data)),(this.dirty||modifiedFieldNames&&modifiedFieldNames.length)&&this.callJoined('afterEdit',[modifiedFieldNames])))},getField:function(name){return this.self.getField(name)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},
getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(id,options){this.set(this.idProperty,id,options)},getPrevious:function(fieldName){var previousValues=this.previousValues;return previousValues&&previousValues[fieldName]},isModified:function(fieldName){var modified=this.modified;return!(!modified||!modified.hasOwnProperty(fieldName))},getModified:function(fieldName){var out;this.isModified(fieldName)&&(out=this.modified[fieldName]);return out},get:function(fieldName){return this.data[fieldName]},
_singleProp:{},_rejectOptions:{convert:!1,silent:!0},set:function(fieldName,newValue,options){var cls=this.self,data=this.data,modified=this.modified,prevVals=this.previousValues,session=this.session,single=Ext.isString(fieldName),opt=single?options:newValue;options=opt?!1!==opt.convert:this.convertOnSet;var fieldsMap=this.fieldsMap,silent=opt&&opt.silent,commit=opt&&opt.commit,updateRefs=!(opt&&!1===opt.refs)&&session;opt=!(opt&&!1===opt.dirty&&!commit);var modifiedFieldNames=null,dirtyRank=0,associations=
this.associations,field,key,name,dependents,i,roleName;if(single){var values=this._singleProp;values[fieldName]=newValue}else values=fieldName;(newValue=cls.rankedFields)||(newValue=cls.rankFields());var numFields=newValue.length;do{for(name in values){var value=values[name];cls=data[name];var comparator=this;if(field=fieldsMap[name]){options&&field.convert&&(value=field.convert(value,this));comparator=field;var dep=field.reference}else dep=null;if(!comparator.isEqual(cls,value)){data[name]=value;
(modifiedFieldNames||(modifiedFieldNames=[])).push(name);(prevVals||(this.previousValues=prevVals={}))[name]=cls;dep&&dep.cls&&(updateRefs&&session.updateReference(this,field,value,cls),dep.onValueChange(this,session,value,cls));for(i=(dependents=field&&field.dependents)&&dependents.length;0<i--;)(dep=dependents[i]).dirty=!0,dirtyRank=dirtyRank?Math.min(dirtyRank,dep.rank):dep.rank;if(!field||field.persist)if(modified&&modified.hasOwnProperty(name)){if(!opt||comparator.isEqual(modified[name],value))delete modified[name],
this.dirty=-1}else opt&&(modified||(this.modified=modified={}),this.dirty=!0,modified[name]=cls);if(name===this.idField.name){var idChanged=!0;var oldId=cls;var newId=value}}}if(!dirtyRank)break;field=newValue[dirtyRank-1];field.dirty=!1;single?delete values[fieldName]:(values=this._singleProp,single=!0);fieldName=field.name;values[fieldName]=data[fieldName];for(options=!0;dirtyRank<numFields&&!newValue[dirtyRank].dirty;++dirtyRank);dirtyRank<numFields?++dirtyRank:dirtyRank=0}while(1);if(0>this.dirty)for(key in this.dirty=
!1,modified)if(modified.hasOwnProperty(key)){this.dirty=!0;break}single&&delete values[fieldName];++this.generation;if(idChanged&&(this.id=newId,this.onIdChanged(newId,oldId),this.callJoined('onIdChanged',[oldId,newId]),associations))for(roleName in associations)associations[roleName].onIdChanged(this,oldId,newId);commit?this.commit(silent,modifiedFieldNames):silent||this.editing||!modifiedFieldNames||this.callJoined('afterEdit',[modifiedFieldNames]);return modifiedFieldNames},reject:function(silent){var modified=
this.modified;modified&&this.set(modified,this._rejectOptions);this.dropped=!1;this.clearState();silent||this.callJoined('afterReject')},commit:function(silent,modifiedFieldNames){var versionProperty=this.versionProperty,data=this.data,erased;this.clearState();!versionProperty||this.phantom||isNaN(data[versionProperty])||++data[versionProperty];this.phantom=!1;this.dropped&&(this.erased=erased=!0);silent||(erased?this.callJoined('afterErase'):this.callJoined('afterCommit',[modifiedFieldNames]))},
clearState:function(){this.dirty=this.editing=!1;this.editMemento=this.modified=null},drop:function(cascade){var associations=this.associations,session=this.session,roleName;if(!this.erased&&!this.dropped){this.dropped=!0;if(associations&&!1!==cascade)for(roleName in associations)associations[roleName].onDrop(this,session);this.callJoined('afterDrop');this.phantom&&this.setErased()}},join:function(owner){var joined=this.joined;joined?joined.length?Ext.Array.include(joined,owner):joined[0]=owner:this.joined=
[owner];owner.isStore&&!this.store&&(this.store=owner)},unjoin:function(owner){var joined=this.joined,len=joined&&joined.length,store=this.store;if(owner===this.session)this.session=null;else if(1===len&&joined[0]===owner?joined.length=0:len&&Ext.Array.remove(joined,owner),store===owner){store=null;if(joined){var i=0;for(len=joined.length;i<len;++i)if(owner=joined[i],owner.isStore){store=owner;break}}this.store=store}},clone:function(session){var modified=this.modified;session=this.copy(this.id,session);
modified&&(session.modified=Ext.apply({},modified));session.dirty=this.dirty;session.dropped=this.dropped;session.phantom=this.phantom;return session},copy:function(newId,session){var data=Ext.apply({},this.data),idProperty=this.idProperty,T=this.self;newId||0===newId?data[idProperty]=newId:null===newId&&delete data[idProperty];return new T(data,session)},getProxy:function(){return this.self.getProxy()},getValidation:function(refresh){var ret=this.validation;ret||(this.validation=ret=new Ext.data.Validation,
ret.attach(this));(!0===refresh||!1!==refresh&&ret.syncGeneration!==this.generation)&&ret.refresh(refresh);return ret},validate:function(){return(new Ext.data.ErrorCollection).init(this)},isValid:function(){return this.getValidation().isValid()},toUrl:function(){var pieces=this.$className.split('.');return pieces[pieces.length-1].toLowerCase()+'/'+this.getId()},erase:function(options){this.erasing=!0;this.drop();this.erasing=!1;return this.save(options)},setErased:function(){this.erased=!0;this.callJoined('afterErase')},
getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var cls=this.self,ret=cls.criticalFields;ret||(cls.rankFields(),ret=cls.criticalFields);return ret},getAssociatedData:function(result,options){var associations=this.associations,item,roleName;result=result||{};this.$gathering=1;options&&(options=Ext.apply({},options));for(roleName in associations){var i=associations[roleName];if((item=i.getAssociatedItem(this))&&!item.$gathering){if(item.isStore){item.$gathering=
1;var items=item.getData().items;var length=items.length;var itemData=[];for(i=0;i<length;++i){var record=items[i];var deep=!record.$gathering;record.$gathering=1;if(options){var associated=options.associated;if(void 0===associated){options.associated=deep;var clear=!0}else deep||(options.associated=!1,clear=!0);deep=options}else deep=deep?this._getAssociatedOptions:this._getNotAssociatedOptions;itemData.push(record.getData(deep));clear&&(options.associated=associated,clear=!1);delete record.$gathering}delete item.$gathering}else deep=
options||this._getAssociatedOptions,options&&void 0===options.associated&&(deep.associated=!0),itemData=item.getData(deep);result[roleName]=itemData}}delete this.$gathering;return result},getData:function(options){var ret={};options=!0===options?this._getAssociatedOptions:options||ret;var data=this.data,associated=options.associated,changes=options.changes,critical=changes&&options.critical,content=changes?this.modified:data,fieldsMap=this.fieldsMap,persist=options.persist;changes=options.serialize;
if(content)for(name in content){var value=data[name];if(content=fieldsMap[name]){if(persist&&!content.persist)continue;changes&&content.serialize&&(value=content.serialize(value,this))}ret[name]=value}if(critical)for(critical=this.self.criticalFields||this.getCriticalFields(),fieldsMap=critical.length;0<fieldsMap--;){var name=(content=critical[fieldsMap]).name;name in ret||(value=data[name],changes&&content.serialize&&(value=content.serialize(value,this)),ret[name]=value)}associated&&('object'===
typeof associated?this.getNestedData(options,ret):this.getAssociatedData(ret,options));return ret},getNestedData:function(options,result){var associations=this.associations,graph=options.associated,roleName;result=result||{};for(roleName in graph){var i=associations[roleName];var items=graph[roleName];!0===items?delete options.associated:options.associated=items;if(i=i.getAssociatedItem(this)){if(i.isStore){items=i.getData().items;var length=items.length;var itemData=[];for(i=0;i<length;++i){var record=
items[i];itemData.push(record.getData(options))}}else itemData=i.getData(options);result[roleName]=itemData}}options.associated=graph;return result},getTransientFields:function(){var cls=this.self,ret=cls.transientFields;ret||(cls.rankFields(),ret=cls.transientFields);return ret},isLoading:function(){return!!this.loadOperation},abort:function(){var operation=this.loadOperation;operation&&operation.abort()},load:function(options){options=Ext.apply({},options);var me=this,scope=options.scope||me,proxy=
me.getProxy(),callback=options.callback,operation$jscomp$0=me.loadOperation,id=me.getId();if(operation$jscomp$0)return proxy=operation$jscomp$0.extraCalls,proxy||(proxy=operation$jscomp$0.extraCalls=[]),proxy.push(options),operation$jscomp$0;options.id=id;options.recordCreator=function(data,type,readOptions){type=me.session;readOptions&&(readOptions.recordCreator=type?type.recordCreator:null);me.set(data,me._commitOptions);return me};options.internalCallback=function(operation){var success=operation.wasSuccessful()&&
0<operation.getRecords().length,extras=me.loadOperation.extraCalls,successFailArgs=[me,operation];operation=[me,operation,success];var len;me.loadOperation=null;++me.loadCount;success?Ext.callback(options.success,scope,successFailArgs):Ext.callback(options.failure,scope,successFailArgs);Ext.callback(callback,scope,operation);if(extras){var i=0;for(len=extras.length;i<len;++i)options=extras[i],success?Ext.callback(options.success,scope,successFailArgs):Ext.callback(options.failure,scope,successFailArgs),
Ext.callback(options.callback,scope,operation)}me.callJoined('afterLoad')};delete options.callback;me.loadOperation=operation$jscomp$0=proxy.createOperation('read',options);operation$jscomp$0.execute();return operation$jscomp$0},mergeData:function(data){this.dirty||this.set(data,this._commitOptions)},save:function(options){options=Ext.apply({},options);var me=this,phantom=me.phantom,dropped=me.dropped,action=dropped?'destroy':phantom?'create':'update',scope=options.scope||me,callback=options.callback,
proxy=me.getProxy();options.records=[me];options.internalCallback=function(operation){var args=[me,operation];(operation=operation.wasSuccessful())?Ext.callback(options.success,scope,args):Ext.callback(options.failure,scope,args);args.push(operation);Ext.callback(callback,scope,args)};delete options.callback;action=proxy.createOperation(action,options);dropped&&phantom?(action.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet),me.setErased(),action.setSuccessful(!0)):action.execute();return action},
statics:{defaultProxy:'memory'},inheritableStatics:{_associatedReadOptions:{recordsOnly:!0,asRoot:!0},loadData:function(data,session){return data?this.getProxy().getReader().readRecords([data],session?{recordCreator:session.recordCreator}:void 0,this._associatedReadOptions)[0]:new this(data,session)},getSummaryModel:function(){var proto=this.prototype,summaryModel=this.summaryModel;summaryModel||(summaryModel=Ext.define(null,{extend:this,fields:proto.summaryFields||[],isSummaryModel:!0}),summaryModel.isSummaryModel=
!0,this.summaryModel=summaryModel);return summaryModel||null},setSummaryField:function(name,summary){var field=this.getField(name);field?field.doneSummary&&summary&&summary.isAggregator?field.summary=summary:(field.summary=summary,field.doneSummary=!1):this.addFields([{name,type:'auto',summary,doneSummary:summary&&summary.isAggregator}])},addFields:function(newFields){this.replaceFields(newFields)},replaceFields:function(newFields,removeFields){var proto=this.prototype,Field=Ext.data.field.Field,
fields=this.fields,fieldsMap=this.fieldsMap,ordinals=this.fieldOrdinals,i,len,ordinal;if(!0===removeFields){fields.length=0;this.fieldsMap=fieldsMap={};this.fieldOrdinals=ordinals={};var cleared=!0}else if(removeFields){for(i=removeFields.length;0<i--;){var name=removeFields[i];name in ordinals&&(delete ordinals[name],delete fieldsMap[name])}i=0;for(len=fields.length;i<len;++i)name=fields[i].name,name in ordinals?ordinals[name]=i:(fields.splice(i,1),--i,--len)}i=0;for(len=newFields?newFields.length:
0;i<len;i++)name=(removeFields=newFields[i]).name,name in ordinals||(ordinals[name]=ordinal=fields.length,fields.push(removeFields=Field.create(removeFields)),fieldsMap[name]=removeFields,removeFields.ordinal=ordinal,removeFields.definedBy=removeFields.owner=this);if(!cleared)for(i=0,len=fields.length;i<len;++i)fields[i].rank=null;if(this.idField=proto.idField=newFields=fieldsMap[proto.idProperty])newFields.allowNull=newFields.critical=newFields.identifier=!0,newFields.defaultValue=null;this.initializeFn=
this.rankedFields=this.transientFields=this.criticalFields=null},removeFields:function(removeFields){this.replaceFields(null,removeFields)},getIdFromData:function(data){var idField=this.idField;return idField.calculated?(new this(data)).id:data[idField.name]},createWithId:function(id,data,session){var d=data;if(id||0===id)d={},data&&Ext.apply(d,data),d[this.idField.name]=id;return new this(d,session)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(name){return this.fieldsMap[name]||
null},getProxy:function(){var proxy=this.proxy,defaultProxy=this.defaultProxy;proxy||(proxy=this.proxyConfig,!proxy&&defaultProxy&&(proxy=defaultProxy),proxy&&proxy.isProxy||('string'===typeof proxy&&(proxy={type:proxy}),defaultProxy=Ext.merge(this.schema.constructProxy(this),proxy),proxy=proxy&&proxy.type?!1===proxy.schema?proxy:defaultProxy:defaultProxy),proxy=this.setProxy(proxy));return proxy},setProxy:function(proxy){var model;proxy&&(proxy.isProxy?(model=proxy.getModel())&&model!==this&&(proxy=
proxy.clone()):proxy=Ext.Factory.proxy(proxy),proxy.setModel(this));return this.prototype.proxy=this.proxy=proxy},load:function(id,options,session){var data={},rec;session&&(rec=session.peekRecord(this,id));rec||(data[this.prototype.idProperty]=id,rec=new this(data,session));rec.load(options);return rec}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(callback,scope){var stores=this.stores,len=stores.length,i;for(i=0;i<len;++i)callback.call(scope,stores[i])},join:function(item){var stores=
this.stores,joined=this.joined;joined?joined.push(item):this.joined=[item];item.isStore&&(this.store=this.store||item,stores||(stores=this.stores=[]),stores.push(item))},unjoin:function(item){var stores=this.stores,joined=this.joined;1===joined.length?joined.length=0:Ext.Array.remove(joined,item);item.isStore&&(Ext.Array.remove(stores,item),this.store=stores[0]||null)}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:!0},_getChangesOptions:{changes:!0},
_getAssociatedOptions:{associated:!0},_getNotAssociatedOptions:{associated:!1},_metaProperties:{dirty:'isDirty',phantom:'isPhantom',valid:'isValid'},copyFrom:function(sourceRecord){var fields=this.fields,fieldCount=fields.length,modifiedFieldNames=[],idProperty=this.idProperty,i=0,sourceData;if(sourceRecord){var myData=this.data;for(sourceData=sourceRecord.data;i<fieldCount;i++){var field=fields[i];field=field.name;if(field!==idProperty){var value=sourceData[field];void 0===value||this.isEqual(myData[field],
value)||(myData[field]=value,modifiedFieldNames.push(field))}}this.phantom&&!sourceRecord.phantom&&(this.beginEdit(),this.setId(sourceRecord.getId()),this.endEdit(!0),this.commit(!0))}return modifiedFieldNames},callJoined:function(funcName,args){var joined=this.joined,session=this.session,state=this.dropped?'D':this.phantom?'C':this.dirty?'U':'R',len,fn,item;this.crudState=state;if(joined||session)if(args?args.unshift(this):args=[this],(fn=session&&session[funcName])&&fn.apply(session,args),joined)for(session=
0,len=joined.length;session<len;++session)(item=joined[session])&&(fn=item[funcName])&&fn.apply(item,args);this.crudStateWas=state},hasPendingLoad:function(){return this.isLoading()},interpret:function(name){var accessor=this._metaProperties[name];accessor||(accessor=(accessor=this.associations)&&accessor[name]&&accessor[name].getterName);return accessor?this[accessor]():this.data[name]},isDirty:function(){return this.dirty},isPhantom:function(){return this.phantom},onAssociatedRecordSet:function(record,
role){this.callJoined('afterAssociatedRecordSet',[record,role])},onIdChanged:Ext.privateFn,setSession:function(session){(this.session=session)&&session.add(this)},getModifiedFieldNames:function(old){var data=this.data,modified=[];old=old||this.editMemento.data;for(var key in data)data.hasOwnProperty(key)&&(this.isEqual(data[key],old[key],key)||modified.push(key));return modified},isEqual:function(lhs,rhs,field){return field&&(field=field.isField?field:this.fieldsMap[field])?field.isEqual(lhs,rhs):
lhs instanceof Date&&rhs instanceof Date?lhs.getTime()===rhs.getTime():lhs===rhs},statics:{EDIT:'edit',REJECT:'reject',COMMIT:'commit',rankFields:function(){var prototype=this.prototype,fields=this.fields,length=fields.length,rankedFields=[],criticalFields=[],transientFields=[],evilFields;this.rankedFields=prototype.rankedFields=rankedFields;this.criticalFields=prototype.criticalFields=criticalFields;this.transientFields=prototype.transientFields=transientFields;for(prototype=0;prototype<length;++prototype){var field=
fields[prototype];field.critical&&criticalFields.push(field);field.persist||transientFields.push(field);field.evil?(evilFields||(evilFields=[])).push(field):field.depends||(rankedFields.push(field),field.rank=rankedFields.length)}for(prototype=0;prototype<length;++prototype)(field=fields[prototype]).rank||field.evil||this.topoAdd(field);if(evilFields)for(prototype=0,length=evilFields.length;prototype<length;++prototype)rankedFields.push(field=evilFields[prototype]),field.rank=rankedFields.length;
return rankedFields},topoAdd:function(field){var dep=field.depends,dependsLength=dep?dep.length:0,rankedFields=this.rankedFields,i;for(i=0;i<dependsLength;++i){var targetField=this.fieldsMap[dep[i]];(targetField.dependents||(targetField.dependents=[])).push(field);targetField.rank||this.topoAdd(targetField)}rankedFields.push(field);field.rank=rankedFields.length},initFields:function(data,cls,proto){var Field=Ext.data.field.Field,fieldDefs=data.fields,fields=[],fieldOrdinals={},fieldsMap={},superFields=
proto.fields,versionProperty=data.versionProperty||proto.versionProperty,idProperty=cls.idProperty,field,length,name,superIdDeclared,idDeclared;cls.fields=proto.fields=fields;cls.fieldOrdinals=proto.fieldOrdinals=fieldOrdinals;cls.fieldsMap=proto.fieldsMap=fieldsMap;cls.references=proto.references=[];if(superFields){var i=0;for(length=superFields.length;i<length;++i)if(fields[i]=field=Ext.Object.chain(superFields[i]),field.dependents=null,field.owner=cls,fieldOrdinals[name=field.name]=i,fieldsMap[name]=
field,field.rank=null,field.generated){var superIdField=field;var superIdFieldName=field.name}}delete data.fields;if(fieldDefs)for(i=0,length=fieldDefs.length;i<length;++i)field=fieldDefs[i],(name=field.reference)&&'string'!==typeof name&&(name=Ext.merge({},name)),field.$reference=name,field=Field.create(fieldDefs[i]),name=field.name,data=fieldOrdinals[name],void 0===data&&(fieldOrdinals[name]=data=fields.length),fieldsMap[name]=field,fields[data]=field,field.definedBy=field.owner=cls,field.ordinal=
data,name===idProperty&&(idDeclared=field),name===superIdFieldName&&(superIdDeclared=!0);fieldDefs=fieldsMap[idProperty];if(!fieldDefs)data=superIdField&&superIdField.generated?superIdField.ordinal:fields.length,delete fieldsMap[superIdFieldName],delete fieldOrdinals[superIdFieldName],fieldDefs=new Field(idProperty),fields[data]=fieldDefs,fieldOrdinals[idProperty]=data,fieldsMap[idProperty]=fieldDefs,fieldDefs.definedBy=cls,fieldDefs.ordinal=data,fieldDefs.generated=!0;else if(idDeclared&&!superIdDeclared&&
superIdField&&superIdField.generated)for(Ext.Array.remove(fields,superIdField),delete fieldsMap[superIdFieldName],delete fieldOrdinals[superIdFieldName],fieldsMap[idProperty]=idDeclared,i=0,length=fields.length;i<length;++i)field=fields[i],fields.ordinal=i,fieldOrdinals[field.name]=i;fieldDefs.allowNull=fieldDefs.critical=fieldDefs.identifier=!0;fieldDefs.defaultValue=null;cls.idField=proto.idField=fieldDefs;versionProperty&&(field=fieldsMap[versionProperty],field||(data=fields.length,field=new Field({name:versionProperty,
type:'int'}),fields[data]=field,fieldOrdinals[versionProperty]=data,fieldsMap[versionProperty]=field,field.definedBy=cls,field.ordinal=data,field.generated=!0),field.defaultValue=1,field.critical=!0)},initSummaries:function(data,cls,proto){var summaryDefs=data.summary,fields=proto.fields,superSummaryFields=proto.summaryFields,len,name;if(superSummaryFields){var summaryFields=[];var summaryFieldMap={};var i=0;for(len=superSummaryFields.length;i<len;++i){var summaryField=superSummaryFields[i];summaryFields.push(summaryField);
summaryFieldMap[summaryField.name]=i}}i=0;for(len=fields.length;i<len;++i)if(superSummaryFields=fields[i],superSummaryFields.summary&&superSummaryFields.definedBy===cls){var inlineDefs=inlineDefs||{};inlineDefs[superSummaryFields.name]=superSummaryFields.summary}inlineDefs&&(summaryDefs=Ext.apply(inlineDefs,summaryDefs));if(summaryDefs)for(name in delete data.summary,summaryFields=summaryFields||[],summaryFieldMap=summaryFieldMap||{},summaryDefs){data=typeof(summaryField=summaryDefs[name]);if('function'===
data||'string'===data)summaryField={summary:summaryField};data=summaryFieldMap[name];summaryField=Ext.apply({name},summaryField);if(superSummaryFields=summaryField.field)delete summaryField.field,summaryField.summaryField=superSummaryFields;cls=summaryField.summaryField;(superSummaryFields=proto.fieldsMap[cls||name])&&!summaryField.type&&(summaryField.type=superSummaryFields.type);void 0===data&&(data=summaryFields.length,summaryFieldMap[name]=data);summaryFields[data]=summaryField}summaryFields&&
(proto.summaryFields=summaryFields)},initValidators:function(data,cls,proto){var superValidators=proto.validators,length;if(superValidators){var validators={};for(field in superValidators)validators[field]=Ext.Array.clone(superValidators[field])}if(superValidators=data.validators||data.validations){delete data.validators;validators=validators||{};if(Ext.isArray(superValidators)){data={};var field=0;for(length=superValidators.length;field<length;++field){var item=superValidators[field];var name=item.field;
data[name]||(data[name]=[]);item=item.fn||item;data[name].push(item)}superValidators=data}for(name in superValidators)data=superValidators[name],Ext.isArray(data)||(data=[data]),(field=validators[name])?Ext.Array.push(field,data):validators[name]=data}if(validators)for(name in validators)(field=cls.getField(name))&&field.setModelValidators(validators[name]);cls.validators=proto.validators=validators},initAssociations:function(schema,data,cls){var associations=data.associations,belongsTo=data.belongsTo,
hasMany=data.hasMany,hasOne=data.hasOne,matrices=data.manyToMany;delete data.associations;delete data.belongsTo;delete data.hasMany;delete data.hasOne;delete data.manyToMany;matrices&&schema.addMatrices(cls,matrices);if(associations)for(associations=Ext.isArray(associations)?associations:[associations],data=0,matrices=associations.length;data<matrices;++data){var assoc=associations[data];var o=Ext.apply({},assoc);delete o.type;switch(assoc.type){case 'belongsTo':schema.addBelongsTo(cls,o);break;case 'hasMany':schema.addHasMany(cls,
o);break;case 'hasOne':schema.addHasOne(cls,o)}}if(belongsTo)for(belongsTo=Ext.isArray(belongsTo)?belongsTo:[belongsTo],data=0,matrices=belongsTo.length;data<matrices;++data)schema.addBelongsTo(cls,belongsTo[data]);if(hasMany)for(hasMany=Ext.isArray(hasMany)?hasMany:[hasMany],data=0,matrices=hasMany.length;data<matrices;++data)schema.addHasMany(cls,hasMany[data]);if(hasOne)for(hasOne=Ext.isArray(hasOne)?hasOne:[hasOne],data=0,matrices=hasOne.length;data<matrices;++data)schema.addHasOne(cls,hasOne[data]);
schema.afterKeylessAssociations(cls)},initIdentifier:function(data,cls,proto){var identifier=data.identifier||data.idgen,superIdent=proto.identifier||cls.schema._defaultIdentifier;identifier?(delete data.identifier,delete data.idgen,identifier=Ext.Factory.dataIdentifier(identifier)):superIdent&&(identifier=superIdent.clone&&!superIdent.getId()?superIdent.clone():superIdent.isGenerator?superIdent:Ext.Factory.dataIdentifier(superIdent));cls.identifier=proto.identifier=identifier;identifier||((data=
cls.entityName)||(data=Ext.id(null,'extModel')),cls.identifier=Ext.Factory.dataIdentifier({type:'sequential',prefix:data+'-'}))},findValidator:function(validators,name,cfg){cfg=cfg.type||cfg;validators=validators[name];if(validators){var i=0;for(name=validators.length;i<name;++i){var item=validators[i];if(item.type===cfg)return item}}return null},makeInitializeFn:function(cls){var code=['var '],body=['\nreturn function (e) {\n    var data \x3d e.data, v;\n'],work=0,ec,fields,hasDefValue,length;(fields=
cls.rankedFields)||(fields=cls.rankFields());var i=0;for(length=fields.length;i<length;++i){var field=fields[i];var fs='f'+i;var convert=field.convert;i&&code.push(',  \n    ');code.push(fs,' \x3d $fields['+i+']');if((hasDefValue=void 0!==field.defaultValue)||convert){var expr='data["'+field.name+'"]';++work;cls=ec='';field.cloneDefaultValue&&(cls='Ext.clone(',ec=')');body.push('\n');convert&&hasDefValue?body.push('    v \x3d ',expr,';\n    if (v !\x3d\x3d undefined) {\n        v \x3d ',fs,'.convert(v, e);\n    }\n    if (v \x3d\x3d\x3d undefined) {\n        v \x3d ',
cls,fs,'.defaultValue',ec,';\n    }\n    ',expr,' \x3d v;'):convert?body.push('    v \x3d ',fs,'.convert(',expr,',e);\n    if (v !\x3d\x3d undefined) {\n        ',expr,' \x3d v;\n    }\n'):hasDefValue&&body.push('    if (',expr,' \x3d\x3d\x3d undefined) {\n        ',expr,' \x3d ',cls,fs,'.defaultValue',ec,';\n    }\n')}}if(!work)return Ext.emptyFn;code.push(';\n');code.push.apply(code,body);code.push('}');code=code.join('');return(new Function('$fields','Ext',code))(fields,Ext)}}}},1,0,0,0,0,0,[Ext.data,
'Model',Ext.data,'Record'],function(){var Model=this,proto$jscomp$0=Model.prototype,Schema=Ext.data.schema.Schema,defaultSchema;Model.proxyConfig=proto$jscomp$0.proxy;delete proto$jscomp$0.proxy;Model.fields=[];Model.fieldsMap=proto$jscomp$0.fieldsMap={};Model.schema=proto$jscomp$0.schema=Schema.get(proto$jscomp$0.schema);proto$jscomp$0.idField=new Ext.data.field.Field(proto$jscomp$0.idProperty);Model.identifier=new Ext.data.identifier.Sequential;Model.onExtended(function(cls,data){var proto=cls.prototype,
schemaName=data.schema,superCls=proto.superclass.self,entityName;cls.idProperty=data.idProperty||proto.idProperty;schemaName?(delete data.schema,schemaName=Schema.get(schemaName)):(schemaName=proto.schema)||(schemaName=defaultSchema||(defaultSchema=Schema.get('default')));cls.rankFields=Model.rankFields;cls.topoAdd=Model.topoAdd;proto.schema=cls.schema=schemaName;(entityName=data.entityName)||(proto.entityName=entityName=schemaName.getEntityName(cls));cls.entityName=entityName;cls.fieldExtractors=
{};Model.initIdentifier(data,cls,proto);Model.initFields(data,cls,proto);Model.initValidators(data,cls,proto);data.isSummaryModel||Model.initSummaries(data,cls,proto);cls.fields.items=cls.fields;entityName&&(schemaName.addEntity(cls),Model.initAssociations(schemaName,data,cls));(proto=data.proxy)?delete data.proxy:superCls!==Model&&(proto=superCls.proxyConfig||superCls.proxy);cls.proxyConfig=proto})});
Ext.cmd.derive('Ext.data.ResultSet',Ext.Base,{isResultSet:!0,$configPrefixed:!1,config:{loaded:!0,count:null,total:null,remoteTotal:null,success:!1,records:null,message:null,metadata:null,groupData:null,summaryData:null},constructor:function(config){this.initConfig(config)},getCount:function(){var count=(arguments.callee.$previous||Ext.Base.prototype.getCount).call(this),records;!count&&(records=this.getRecords())&&(count=records.length);return count}},1,0,0,0,0,0,[Ext.data,'ResultSet'],0);
Ext.cmd.derive('Ext.data.reader.Reader',Ext.Base,{alternateClassName:['Ext.data.Reader','Ext.data.DataReader'],factoryConfig:{defaultType:null},config:{groupRootProperty:'',implicitIncludes:!0,keepRawData:null,messageProperty:'',model:null,proxy:null,readRecordsOnFailure:!0,rootProperty:'',successProperty:'success',summaryRootProperty:'',totalProperty:'total',transform:null,typeProperty:''},isReader:!0,constructor:function(config){config&&config.hasOwnProperty('root')&&(config=Ext.apply({},config),
config.rootProperty=config.root,delete config.root);this.duringInit=1;this.mixins.observable.constructor.call(this,config);--this.duringInit;this.buildExtractors()},forceBuildExtractors:function(){this.duringInit||this.buildExtractors(!0)},updateGroupRootProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},applyModel:function(model){return Ext.data.schema.Schema.lookupEntity(model)},updateSuccessProperty:function(){this.forceBuildExtractors()},
updateSummaryRootProperty:function(){this.forceBuildExtractors()},updateTotalProperty:function(){this.forceBuildExtractors()},applyTransform:function(transform){return transform?(Ext.isFunction(transform)?transform={fn:transform}:transform.charAt&&(transform={fn:this[transform]}),transform.fn.bind(transform.scope||this)):transform},read:function(response,readOptions){if(response){var responseText=response.responseText;if(response.responseType||responseText){if((response=this.getResponseData(response))&&
response.__$isError)return new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:response.msg});var data=this.readRecords(response,readOptions)}else''!==responseText&&(data=this.readRecords(response,readOptions))}return data||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(msg){return{__$isError:!0,msg}},readRecords:function(data,readOptions,internalReadOptions){var recordsOnly=internalReadOptions&&internalReadOptions.recordsOnly,
asRoot=internalReadOptions&&internalReadOptions.asRoot,summaryData=internalReadOptions=null,success,remoteTotal,message,meta;if(meta=this.getMeta?this.getMeta(data):data.metaData)this.onMetaChange(meta);(success=this.getTransform())&&(data=success(data));this.buildExtractors();this.getKeepRawData()&&(this.rawData=data);this.hasListeners.rawdata&&this.fireEventArgs('rawdata',[data]);data=this.getData(data);success=!0;var recordCount=0;var records=[];if(this.getSuccessProperty()){var value=this.getSuccess(data);
if(!1===value||'false'===value)success=!1}this.getMessageProperty()&&(message=this.getMessage(data));if(success||this.getReadRecordsOnFailure()){if(asRoot=asRoot||Ext.isArray(data)?data:this.getRoot(data))var total=asRoot.length;this.getTotalProperty()&&(value=parseInt(this.getTotal(data),10),isNaN(value)||(remoteTotal=total=value));asRoot&&(records=this.extractData(asRoot,readOptions),recordCount=records.length);if(this.getGroupRootProperty()&&(asRoot=this.getGroupRoot(data))){var summaryOptions=
{includes:!1,model:this.getModel().getSummaryModel()};internalReadOptions=this.extractData(asRoot,summaryOptions)||null}this.getSummaryRootProperty()&&(asRoot=this.getSummaryRoot(data))&&(summaryOptions=summaryOptions||{includes:!1,model:this.getModel().getSummaryModel()},(summaryData=this.extractData(asRoot,summaryOptions)||null)&&(summaryData=summaryData[0]))}return recordsOnly?records:new Ext.data.ResultSet({total:total||recordCount,remoteTotal,metadata:meta,count:recordCount,records,success,message,
groupData:internalReadOptions,summaryData})},extractData:function(root,readOptions){var entityType=readOptions&&readOptions.model?Ext.data.schema.Schema.lookupEntity(readOptions.model):this.getModel(),schema=entityType.schema,includes=readOptions&&'includes'in readOptions?readOptions.includes:schema.hasAssociations(entityType)&&this.getImplicitIncludes(),fieldExtractorInfo=this.getFieldExtractorInfo(entityType),length=root.length,records=Array(length),typeProperty=this.getTypeProperty(),nodeType,
i;!length&&Ext.isObject(root)&&(root=[root],length=1);for(i=0;i<length;i++){var reader=root[i];if(!reader.isModel){var node=reader;typeProperty&&(nodeType=this.getChildType(schema,node,typeProperty))?(reader=nodeType.getProxy().getReader(),reader=reader.extractRecord(node,readOptions,nodeType,schema.hasAssociations(nodeType)&&reader.getImplicitIncludes(),reader.getFieldExtractorInfo(nodeType))):reader=this.extractRecord(node,readOptions,entityType,includes,fieldExtractorInfo);reader.isModel&&reader.isNode&&
(reader.raw=node)}if(reader.onLoad)reader.onLoad();records[i]=reader}return records},getChildType:function(schema,rawNode,typeProperty){switch(typeof typeProperty){case 'string':return schema.getEntity(rawNode[typeProperty]);case 'object':var namespace=typeProperty.namespace;return schema.getEntity((namespace?namespace+'.':'')+rawNode[typeProperty.name]);case 'function':return schema.getEntity(typeProperty(rawNode))}},extractRecordData:function(node,readOptions){var entityType=readOptions&&readOptions.model?
Ext.data.schema.Schema.lookupEntity(readOptions.model):this.getModel(),fieldExtractorInfo=this.getFieldExtractorInfo(entityType);return this.extractRecord(node,readOptions,entityType,!1,fieldExtractorInfo)},extractRecord:function(node,readOptions,entityType,includes,fieldExtractorInfo){var creatorFn=readOptions&&readOptions.recordCreator||this.defaultRecordCreator;fieldExtractorInfo=this.extractModelData(node,fieldExtractorInfo);entityType=creatorFn.call(this,fieldExtractorInfo,entityType||this.getModel(),
readOptions);includes&&entityType.isModel&&this.readAssociated(entityType,node,readOptions);return entityType},getFieldExtractorInfo:function(entityType){var extractors=entityType.fieldExtractors;if(extractors){var type=this.$className;var extractor=extractors[type];void 0===extractor&&(extractors[type]=extractor=this.buildFieldExtractors(entityType));return extractor}},buildFieldExtractors:function(entityType){entityType=entityType.getFields();var len=entityType.length,buffer=[],extractors=[],out=
null,cnt=0,i,extractor;for(i=0;i<len;++i){var field=entityType[i];if(extractor=this.createFieldAccessor(field))field=field.name,buffer.push('val \x3d extractors['+cnt+"](raw, self); if (val !\x3d\x3d undefined) { data['"+field+"'] \x3d val; }"),extractors.push(extractor),++cnt}buffer.length&&(out={extractors,fn:new Function('raw','data','extractors','self','var val;'+buffer.join('\n'))});return out},defaultRecordCreator:function(data,Model){return new Model(data)},defaultRecordCreatorFromServer:function(data,
Model){data=new Model(data);data.phantom=!1;return data},getModelData:function(raw){return{}},extractModelData:function(raw,fieldExtractorInfo){var data=this.getModelData(raw);if(fieldExtractorInfo){var fn=fieldExtractorInfo.fn;fn(raw,data,fieldExtractorInfo.extractors,this)}return data},readAssociated:function(record,data,readOptions){var roles=record.associations,key;for(key in roles)if(roles.hasOwnProperty(key)){var role=roles[key];record.phantom||!readOptions||readOptions.recordCreator||Ext.apply(readOptions,
{recordCreator:this.defaultRecordCreatorFromServer});role.cls&&role.read(record,data,this,readOptions)}},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(response){},onMetaChange:function(meta){var fields=meta.fields;this.metaData=meta;meta.root&&this.setRootProperty(meta.root);meta.totalProperty&&this.setTotalProperty(meta.totalProperty);meta.successProperty&&this.setSuccessProperty(meta.successProperty);meta.messageProperty&&this.setMessageProperty(meta.messageProperty);meta=
meta.clientIdProperty;fields?(fields=Ext.define(null,{extend:'Ext.data.Model',fields,clientIdProperty:meta}),this.setModel(fields),(meta=this.getProxy())&&meta.setModel(fields)):meta&&(fields=this.getModel())&&(fields.self.prototype.clientIdProperty=meta)},buildExtractors:function(force){if(force||!this.hasExtractors){force=this.getTotalProperty();var successProp=this.getSuccessProperty();var messageProp=this.getMessageProperty();force&&(this.getTotal=this.getAccessor(force));successProp&&(this.getSuccess=
this.getAccessor(successProp));messageProp&&(this.getMessage=this.getAccessor(messageProp));return this.hasExtractors=!0}},getAccessor:function(prop){var cache=this.extractorCache,ret,key;'string'===typeof prop?((key=this.getAccessorKey(prop))&&(ret=cache.get(key)),ret||(ret=this.createAccessor(prop),key&&cache.add(key,ret))):ret=this.createAccessor(prop);return ret},getAccessorKey:function(prop){var className=this.$className;return className?className+prop:''},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,
destroy:function(){this.transform=this.onMetaChange=this.model=this.getTotal=this.getSuccess=this.getMessage=this.rawData=null;this.callParent()},privates:{copyFrom:function(reader){reader.buildExtractors();this.getTotal=reader.getTotal;this.getSuccess=reader.getSuccess;this.getMessage=reader.getMessage;++this.duringInit;this.setConfig(reader.getConfig());--this.duringInit;this.hasExtractors=!0}}},1,0,0,0,['reader.base'],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],
[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.reader,'Reader',Ext.data,'Reader',Ext.data,'DataReader'],function(Cls){Cls=Cls.prototype;Ext.apply(Cls,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:''})});Cls.extractorCache=new Ext.util.LruCache});
Ext.cmd.derive('Ext.data.writer.Writer',Ext.Base,{alternateClassName:['Ext.data.DataWriter','Ext.data.Writer'],factoryConfig:{defaultType:null},isWriter:!0,config:{clientIdProperty:null,allDataOptions:{persist:!0},partialDataOptions:{changes:!0,critical:!0},writeAllFields:!1,dateFormat:null,nameProperty:'name',writeRecordId:!0,transform:null},constructor:function(config){this.initConfig(config)},applyTransform:function(transform){return transform?(Ext.isFunction(transform)&&(transform={fn:transform}),
transform.fn.bind(transform.scope||this)):transform},write:function(request){var operation=request.getOperation(),records=operation.getRecords()||[],len=records.length,data=[],i;for(i=0;i<len;i++)data.push(this.getRecordData(records[i],operation));return this.writeRecords(request,data)},writeRecords:Ext.emptyFn,getRecordData:function(record,operation){var nameProperty=this.getNameProperty(),mapping='name'!==nameProperty,idField=record.self.idField,key=idField?idField[nameProperty]||idField.name:'id',
value=record.id,writeAll=this.getWriteAllFields(),phantom;idField&&idField.serialize&&(value=idField.serialize(value));if(!writeAll&&operation&&operation.isDestroyOperation)idField={},idField[key]=value;else{operation=this.getDateFormat();idField=(phantom=record.phantom)||writeAll?this.getAllDataOptions():this.getPartialDataOptions();phantom=phantom&&this.getClientIdProperty();writeAll=record.getFieldsMap();idField.serialize=!1;var data=record.getData(idField);idField=mapping?{}:data;phantom?(idField[phantom]=
value,delete data[key]):this.getWriteRecordId()||delete data[key];for(key in data)value=data[key],(phantom=writeAll[key])?(phantom.isDateField&&operation&&Ext.isDate(value)?value=Ext.Date.format(value,operation):phantom.serialize&&(value=phantom.serialize(value,record)),mapping&&(key=phantom[nameProperty]||key),idField[key]=value):mapping&&(idField[key]=value)}return idField}},1,0,0,0,['writer.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],
[Ext.data.writer,'Writer',Ext.data,'DataWriter',Ext.data,'Writer'],0);
Ext.cmd.derive('Ext.data.proxy.Proxy',Ext.Base,{$configPrefixed:!1,alternateClassName:['Ext.data.DataProxy','Ext.data.Proxy'],config:{batchOrder:'create,update,destroy',batchActions:!0,model:void 0,reader:{type:'json'},writer:{type:'json'}},isProxy:!0,isSynchronous:!1,constructor:function(config){this.mixins.observable.constructor.call(this,config);this.pendingOperations={}},applyModel:function(model){return Ext.data.schema.Schema.lookupEntity(model)},updateModel:function(model){var reader;model&&
(reader=this.getReader())&&!reader.getModel()&&reader.setModel(model)},applyReader:function(reader){this.isSynchronous&&(reader=reader||{},reader.keepRawData=!0);return Ext.Factory.reader(reader)},updateReader:function(reader){var model;reader&&((model=this.getModel())?reader.setModel(model):(model=reader.getModel())&&this.setModel(model),null!=reader.responseType&&(this.responseType=reader.responseType))},applyWriter:function(writer){var reader=this.getReader();writer=Ext.Factory.writer(writer);
writer.getRecord&&!writer.getRecord()&&reader&&reader.getRecord&&(reader=reader.getRecord())&&writer.setRecord(reader);return writer},abort:Ext.emptyFn,onMetaChange:function(meta){this.fireEvent('metachange',this,meta)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(options,listeners){var useBatch=this.getBatchActions(),batch,a,r;void 0===options.operations&&(options={operations:options,listeners});options.batch?Ext.isDefined(options.batch.runOperation)&&(batch=
Ext.applyIf(options.batch,{proxy:this,listeners:{}})):options.batch={proxy:this,listeners:options.listeners||{}};batch||(batch=new Ext.data.Batch(options.batch));batch.on('complete',Ext.bind(this.onBatchComplete,this,[options],0),null,{single:!0,priority:1E3});batch.$destroyOwner=options.$destroyOwner;var actions=this.getBatchOrder().split(',');var aLen=actions.length;for(a=0;a<aLen;a++){var action=actions[a];if(listeners=options.operations[action])if(useBatch)batch.add(this.createOperation(action,
{records:listeners,params:options.params}));else{var rLen=listeners.length;for(r=0;r<rLen;r++){var record=listeners[r];batch.add(this.createOperation(action,{records:[record],params:options.params}))}}}batch.start();return batch},onBatchComplete:function(batchOptions,batch){var scope=batchOptions.scope||this;batch.hasException()?Ext.isFunction(batchOptions.failure)&&Ext.callback(batchOptions.failure,scope,[batch,batchOptions]):Ext.isFunction(batchOptions.success)&&Ext.callback(batchOptions.success,
scope,[batch,batchOptions]);Ext.isFunction(batchOptions.callback)&&Ext.callback(batchOptions.callback,scope,[batch,batchOptions]);batch.$destroyOwner||batch.destroy()},createOperation:function(action,config){action=Ext.createByAlias('data.operation.'+action,config);action.setProxy(this);return this.pendingOperations[action._internalId]=action},completeOperation:function(operation){delete this.pendingOperations[operation._internalId]},clone:function(){return new this.self(this.getInitialConfig())},
destroy:function(){var ops=this.pendingOperations,opId,op;for(opId in ops)(op=ops[opId])&&op.isRunning()&&op.abort(),op.destroy();this.pendingOperations=null;this.callParent()}},1,0,0,0,['proxy.proxy'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.data.proxy,'Proxy',Ext.data,'DataProxy',Ext.data,'Proxy'],0);
Ext.cmd.derive('Ext.data.proxy.Client',Ext.data.proxy.Proxy,{alternateClassName:'Ext.data.ClientProxy',isSynchronous:!0,clear:function(){}},0,0,0,0,0,0,[Ext.data.proxy,'Client',Ext.data,'ClientProxy'],0);
Ext.cmd.derive('Ext.data.proxy.Memory',Ext.data.proxy.Client,{alternateClassName:'Ext.data.MemoryProxy',isMemoryProxy:!0,config:{enablePaging:null,data:{$value:null,merge:function(newValue,currentValue,target,mixinClass){return newValue?Ext.clone(newValue):newValue}},clearOnRead:null},finishOperation:function(operation){var recs=operation.getRecords(),len=recs.length,i;for(i=0;i<len;i++)recs[i].dropped=!!operation.isDestroyOperation,recs[i].commit();operation.setSuccessful(!0)},create:function(operation){this.finishOperation(operation)},
update:function(operation){this.finishOperation(operation)},erase:function(operation){this.finishOperation(operation)},read:function(operation){var reader=this.getReader();reader=reader.read(this.getData(),{recordCreator:reader.defaultRecordCreatorFromServer});var records=reader.getRecords(),sorters=operation.getSorters(),groupers=operation.getGroupers(),grouper=operation.getGrouper(),filters=operation.getFilters(),start=operation.getStart(),limit=operation.getLimit();if(!1!==operation.process(reader,
null,null,!1)&&(operation.success&&this.getClearOnRead()&&this.setData(null),filters&&filters.length&&(reader.setRecords(records=Ext.Array.filter(records,Ext.util.Filter.createFilterFn(filters))),reader.setTotal(records.length)),groupers&&groupers.length?sorters=sorters?groupers.concat(sorters):groupers:grouper&&(sorters=sorters?sorters.concat(grouper):sorters),sorters&&sorters.length&&reader.setRecords(records=Ext.Array.sort(records,Ext.util.Sortable.createComparator(sorters))),this.getEnablePaging()&&
void 0!==start&&void 0!==limit&&(start>=reader.getTotal()?reader.setConfig({success:!1,records:[],total:0}):reader.setRecords(Ext.Array.slice(records,start,start+limit))),operation.setCompleted(),operation=reader.getMetadata()))this.onMetaChange(operation)},clear:Ext.emptyFn},0,0,0,0,['proxy.memory'],0,[Ext.data.proxy,'Memory',Ext.data,'MemoryProxy'],0);
Ext.cmd.derive('Ext.data.ProxyStore',Ext.data.AbstractStore,{config:{model:void 0,fields:null,proxy:void 0,autoLoad:void 0,autoSync:!1,batchUpdateMode:'operation',sortOnLoad:!0,trackRemoved:!0,asynchronousLoad:void 0},onClassExtended:function(cls,data,hooks){var model=data.model;if('string'===typeof model){var onBeforeClassCreated=hooks.onBeforeCreated;hooks.onBeforeCreated=function(){var me=this,args=arguments;Ext.require(model,function(){onBeforeClassCreated.apply(me,args)})}}},implicitModel:'Ext.data.Model',
autoSyncSuspended:0,removed:null,constructor:function(config){Ext.data.AbstractStore.prototype.constructor.apply(this,arguments);!1===this.getAsynchronousLoad()&&this.flushLoad()},doDestroy:function(){var proxy=this.getProxy();this.clearLoadTask();Ext.destroy(this.getData());this.data=null;this.setProxy(null);proxy.autoCreated&&proxy.destroy();this.setModel(null);Ext.data.AbstractStore.prototype.doDestroy.call(this)},applyAsynchronousLoad:function(asynchronousLoad){null==asynchronousLoad&&(asynchronousLoad=
!this.loadsSynchronously());return asynchronousLoad},updateAutoLoad:function(autoLoad){this.getData();autoLoad&&this.load(Ext.isObject(autoLoad)?autoLoad:void 0)},getTotalCount:function(){return this.totalCount||0},applyFields:function(fields){fields&&this.createImplicitModel(fields)},applyModel:function(model){model?model=Ext.data.schema.Schema.lookupEntity(model):this.destroying||(this.getFields(),model=this.getModel()||this.createImplicitModel());return model},applyProxy:function(proxy){var model=
this.getModel();null!==proxy&&(proxy?proxy.isProxy?proxy.setModel(model):(Ext.isString(proxy)?proxy={type:proxy,model}:proxy.model||(proxy=Ext.apply({model},proxy)),proxy=Ext.createByAlias('proxy.'+proxy.type,proxy),proxy.autoCreated=!0):model&&(proxy=model.getProxy(),this.useModelProxy=!0),proxy||(proxy=Ext.createByAlias('proxy.memory'),proxy.autoCreated=!0));return proxy},applyState:function(state){Ext.data.AbstractStore.prototype.applyState.call(this,state);(this.getAutoLoad()||this.isLoaded())&&
(this.getRemoteSort()||this.getRemoteFilter())&&this.load()},updateProxy:function(proxy,oldProxy){this.proxyListeners=Ext.destroy(this.proxyListeners)},updateTrackRemoved:function(track){this.cleanRemoved();this.removed=track?[]:null},onMetaChange:function(proxy,meta){this.fireEvent('metachange',this,meta)},create:function(data,options){data=new (this.getModel())(data);options=Ext.apply({},options);options.records||(options.records=[data]);options.internalScope=this;options.internalCallback=this.onProxyWrite;
return this.createOperation('create',options).execute()},read:function(){return this.load.apply(this,arguments)},update:function(options){options=Ext.apply({},options);options.records||(options.records=this.getUpdatedRecords());options.internalScope=this;options.internalCallback=this.onProxyWrite;return this.createOperation('update',options).execute()},onProxyWrite:function(operation){var success=operation.wasSuccessful(),records=operation.getRecords();switch(operation.getAction()){case 'create':this.onCreateRecords(records,
operation,success);break;case 'update':this.onUpdateRecords(records,operation,success);break;case 'destroy':this.onDestroyRecords(records,operation,success)}success&&(this.fireEvent('write',this,operation),this.fireEvent('datachanged',this))},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(records,operation,success){success&&this.cleanRemoved()},erase:function(options){options=Ext.apply({},options);options.records||(options.records=this.getRemovedRecords());options.internalScope=
this;options.internalCallback=this.onProxyWrite;return this.createOperation('destroy',options).execute()},onBatchOperationComplete:function(batch,operation){return this.onProxyWrite(operation)},onBatchComplete:function(batch,operation){operation=batch.operations;var length=operation.length,i;if('operation'!==this.batchUpdateMode){this.suspendEvents();for(i=0;i<length;i++)this.onProxyWrite(operation[i]);this.resumeEvents()}this.isSyncing=!1;batch.$destroyOwner===this&&batch.destroy();this.fireEvent('datachanged',
this)},onBatchException:function(batch,operation){},filterNew:function(item){return item.phantom&&item.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(item){return item.dirty&&!item.phantom&&item.isValid()},getRemovedRecords:function(){var removed=this.getRawRemovedRecords();return removed?Ext.Array.clone(removed):[]},sync:function(options){var operations=
{},toCreate=this.getNewRecords(),toUpdate=this.getUpdatedRecords(),toDestroy=this.getRemovedRecords(),needsSync=!1;this.needsSync=!1;0<toCreate.length&&(operations.create=toCreate,needsSync=!0);0<toUpdate.length&&(operations.update=toUpdate,needsSync=!0);0<toDestroy.length&&(operations.destroy=toDestroy,needsSync=!0);needsSync&&!1!==this.fireEvent('beforesync',operations)&&(this.isSyncing=!0,options=options||{},this.proxy.batch(Ext.apply(options,{operations,listeners:this.getBatchListeners(),$destroyOwner:this})));
return this},getBatchListeners:function(){var listeners={scope:this,exception:this.onBatchException,complete:this.onBatchComplete};'operation'===this.batchUpdateMode&&(listeners.operationcomplete=this.onBatchOperationComplete);return listeners},save:function(){return this.sync.apply(this,arguments)},load:function(options){this.pendingLoadOptions=options='function'===typeof options?{callback:options}:options?Ext.Object.chain(options):{};this.getAsynchronousLoad()?this.loadTimer||(this.loadTimer=Ext.asap(this.flushLoad,
this)):this.flushLoad();return this},flushLoad:function(){var options=this.pendingLoadOptions;this.destroying||this.destroyed||(this.clearLoadTask(),options&&(this.setLoadOptions(options),this.getRemoteSort()&&options.sorters&&this.fireEvent('beforesort',this,options.sorters),this.lastOptions=options=Ext.apply({internalScope:this,internalCallback:this.onProxyLoad,scope:this},options),options=this.createOperation('read',options),!1!==this.fireEvent('beforeload',this,options)?(this.onBeforeLoad(options),
this.loading=!0,this.hasListeners.beginload&&this.fireEvent('beginload',this,options),options.execute()):(this.getAsynchronousLoad()&&options.abort(),options.setCompleted())))},reload:function(options){return this.load(Ext.apply({},options,this.lastOptions))},onEndUpdate:function(){this.needsSync&&this.autoSync&&!this.autoSyncSuspended&&this.sync()},afterReject:function(record){this.contains(record)&&(this.onUpdate(record,Ext.data.Model.REJECT,null),this.fireEvent('update',this,record,Ext.data.Model.REJECT,
null),this.fireEvent('datachanged',this))},afterCommit:function(record,modifiedFieldNames){modifiedFieldNames||(modifiedFieldNames=null);this.contains(record)&&(this.onUpdate(record,Ext.data.Model.COMMIT,modifiedFieldNames),this.fireEvent('update',this,record,Ext.data.Model.COMMIT,modifiedFieldNames),this.fireEvent('datachanged',this))},afterErase:function(record){this.onErase(record)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,hasPendingLoad:function(){return!!this.pendingLoadOptions||this.isLoading()},
isLoading:function(){return!!this.loading},isLoaded:function(){return 0<this.loadCount},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(syncNow){this.autoSyncSuspended&&!--this.autoSyncSuspended&&syncNow&&this.sync()},removeAll:Ext.emptyFn,clearData:Ext.emptyFn,privates:{getRawRemovedRecords:function(){return this.removed},onExtraParamsChanged:function(){},clearLoadTask:function(){this.pendingLoadOptions=this.loadTimer=Ext.unasap(this.loadTimer)},cleanRemoved:function(){var removed=
this.getRawRemovedRecords(),len;if(removed){var i=0;for(len=removed.length;i<len;++i)removed[i].unjoin(this);removed.length=0}},createOperation:function(type,options){var proxy=this.getProxy();if(!this.proxyListeners){var listeners={scope:this,destroyable:!0,beginprocessresponse:this.beginUpdate,endprocessresponse:this.endUpdate};this.disableMetaChangeEvent||(listeners.metachange=this.onMetaChange);this.proxyListeners=proxy.on(listeners)}return proxy.createOperation(type,options)},createImplicitModel:function(fields){var modelCfg=
{extend:this.implicitModel,statics:{defaultProxy:'memory'}};fields&&(modelCfg.fields=fields);modelCfg=Ext.define(null,modelCfg);this.setModel(modelCfg);(fields=this.getProxy())?modelCfg.setProxy(fields):this.setProxy(modelCfg.getProxy())},loadsSynchronously:function(){return this.getProxy().isSynchronous},onBeforeLoad:Ext.privateFn,removeFromRemoved:function(record){var removed=this.getRawRemovedRecords();removed&&(Ext.Array.remove(removed,record),record.unjoin(this))},setLoadOptions:function(options){var filters;
this.getRemoteFilter()&&(filters=this.getFilters(!1))&&filters.getCount()&&(options.filters=filters.getRange());this.getRemoteSort()&&(filters=this.getSorters(!1))&&filters.getCount()&&(options.sorters=filters.getRange())}}},1,0,0,0,0,0,[Ext.data,'ProxyStore'],0);
Ext.cmd.derive('Ext.util.Group',Ext.util.Collection,{isGroup:!0,config:{level:1,path:null,data:null,grouper:null,label:null,groupKey:null,groupValue:null,parent:null},pathSeparator:'\x3c||\x3e',$endUpdatePriority:2001,manageSorters:!1,constructor:function(config){Ext.util.Collection.prototype.constructor.call(this,config);this.on('remove','onGroupItemsRemove',this)},destroy:function(){var parent=this.getParent(),groups;parent&&(parent.isGroup?groups=parent.getGroups():parent.isGroupCollection&&(groups=
parent),groups&&groups.remove(this));Ext.util.Collection.prototype.destroy.call(this)},clear:function(){var groups=this.getGroups(),i;var ret=Ext.util.Collection.prototype.clear.call(this);if(groups){var length=groups.length;for(i=0;i<length;i++)groups.items[i].clear();groups.clear()}return ret},getData:function(){var data=this._data;data||(data={},this.setData(data));return data},setCustomData:function(property,value){this.getData()[property]=value},getCustomData:function(property){return this.getData()[property]},
updateLabel:function(label){var grouper=this.getGrouper();grouper?this.setCustomData(grouper.getProperty(),label):this.setData({});this.setGroupValue(label)},getGrouper:function(){return this._grouper},updateGrouper:Ext.emptyFn,updateSorters:function(sorters,oldSorters){var children=this.getGroups(),i;Ext.util.Collection.prototype.updateSorters.call(this,sorters,oldSorters);if(children&&!this.ejectTime)for(oldSorters=children.length,i=0;i<oldSorters;i++)children.items[i].setSorters(sorters)},updateGroupKey:function(){this.refreshPath()},
updateParent:function(){this.refreshPath()},refreshPath:function(){var level=1;if(!this.refreshingPath){this.refreshingPath=!0;var parent=this.getParent();var path=this.getGroupKey();parent&&parent.isGroup&&(level+=parent.getLevel(),path=parent.getPath()+this.pathSeparator+path);this.setLevel(level);this.setPath(path);this.refreshingPath=!1}},isFirst:function(){var parent=this.getParent();parent=parent?parent.isGroup?parent.getGroups():parent:null;var first=!1;parent&&(first=0===parent.indexOf(this));
return first},isLast:function(){var parent=this.getParent();parent=parent?parent.isGroup?parent.getGroups():parent:null;var last=!1;parent&&(last=parent.indexOf(this)===parent.length-1);return last},groupItems:function(){if(!this.ejectTime)return Ext.util.Collection.prototype.groupItems.call(this)},sortItems:function(){if(!this.ejectTime)return Ext.util.Collection.prototype.sortItems.call(this)},eject:function(){this.ejectTime=Ext.now();this.setConfig({sorters:null,groupers:null,parent:null,grouper:null,
groups:null})},privates:{canOwnItem:function(item){return this.getGroupKey()===this.getGrouper().getGroupString(item)},removeItems:function(items){var groups=this.getGroups(),len=groups?groups.length:0,removeGroups=[],i;for(i=0;i<len;++i){var group=groups.items[i];group.remove(items);group.length||removeGroups.push(group)}removeGroups.length&&groups.remove(removeGroups)},onGroupItemsRemove:function(collection,info){this.removeItems(info.items)}}},1,0,0,0,0,0,[Ext.util,'Group'],0);
Ext.cmd.derive('Ext.data.Group',Ext.util.Group,{isDataGroup:!0,store:null,isCollapsed:!1,updateParent:function(parent,oldParent){!this.isCollapsed&&parent&&parent.isGroup&&(this.isCollapsed=parent.isCollapsed);Ext.util.Group.prototype.updateParent.call(this,parent,oldParent)},expand:function(includeChildren){this.doExpandCollapse(!0,includeChildren)},collapse:function(includeChildren){this.doExpandCollapse(!1,includeChildren)},doExpandCollapse:function(expanded,includeChildren){var groups=this.getGroups(),
i;this.isCollapsed=!expanded;if(includeChildren&&groups){var len=groups.length;for(i=0;i<len;i++)groups.items[i].doExpandCollapse(expanded,includeChildren)}},toggleCollapsed:function(){this.doExpandCollapse(this.isCollapsed)},getGroupRecord:function(){var record=this.getNewSummaryRecord('groupRecord',!0);record.isGroup=!0;return record},getSummaryRecord:function(){var record=this.getNewSummaryRecord('summaryRecord',!0);record.isSummary=!0;return record},getNewSummaryRecord:function(property,calculate){var summaryRecord=
this[property],store=this.store,generation=store.getData().generation;if(!summaryRecord){var M=store.getModel();summaryRecord=M.getSummaryModel();this[property]=summaryRecord=new summaryRecord;property=M.idField.name;summaryRecord.data[property]=summaryRecord.id=M.identifier.generate();summaryRecord.group=this;summaryRecord.commit()}store.getRemoteSummary()||summaryRecord.isRemote||summaryRecord.summaryGeneration===generation||!0!==calculate?store.getRemoteSummary()&&summaryRecord.isRemote&&this.fixRemoteSummary(summaryRecord):
(summaryRecord.calculateSummary(this.items),summaryRecord.summaryGeneration=generation);summaryRecord.isNonData=!0;return summaryRecord},fixRemoteSummary:function(summaryRecord){var fields=summaryRecord.getFields(),len=fields.length,i;for(i=0;i<len;++i){var name=fields[i];var summary=name.getSummary();var result=result||{};name=name.name;'id'===name||summary||(result[name]=null)}result&&summaryRecord.set(result,summaryRecord._commitOptions)},recalculateSummaries:function(){var items=this.items;this.getGroupRecord().calculateSummary(items);
this.getSummaryRecord().calculateSummary(items)},eject:function(){Ext.util.Group.prototype.eject.call(this);this.groupRecord&&(this.groupRecord.summaryGeneration=0);this.summaryRecord&&(this.summaryRecord.summaryGeneration=0)}},0,0,0,0,0,0,[Ext.data,'Group'],0);
Ext.cmd.derive('Ext.data.LocalStore',Ext.Mixin,{mixinConfig:{id:'localstore',after:{fireGroupChangeEvent:'onGrouperChange'}},config:{extraKeys:null},applyExtraKeys:function(extraKeys){var indexName,data=this.getData();data.setExtraKeys(extraKeys);extraKeys=data.getExtraKeys();for(indexName in extraKeys)this[indexName]=extraKeys[indexName]},add:function(record){return this.insert(this.getCount(),1===arguments.length?record:arguments)},constructDataCollection:function(){var result=new Ext.util.Collection({rootProperty:'data',
groupConfig:{xclass:'Ext.data.Group',store:this}});result.addObserver(this);return result},createModel:function(record){var session=this.getSession();if(!record.isModel){var Model=this.getModel();record=new Model(record,session)}return record},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){var sorters=this.getData().getSorters();sorters.setSorterConfigure(this.addFieldTransform,this);return sorters},getSummaryRecord:function(){var summaryRecord=
this.summaryRecord,data=this.getData(),generation=data.generation;if(!summaryRecord){var M=this.getModel();summaryRecord=M.getSummaryModel();this.summaryRecord=summaryRecord=new summaryRecord;var idProperty=M.idField.name;summaryRecord.data[idProperty]=summaryRecord.id=M.identifier.generate();summaryRecord.commit();summaryRecord.isNonData=!0}summaryRecord.isRemote||summaryRecord.summaryGeneration===generation||(summaryRecord.calculateSummary(data.items),summaryRecord.summaryGeneration=generation);
return summaryRecord},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},onCollectionGroup:function(){this.onGroupersEndUpdate()},onGrouperChange:function(grouper){this.callObservers('GrouperChange',[grouper])},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){var sorters=this.getSorters();sorters.beginUpdate();
sorters.endUpdate()},contains:function(record){return-1<this.indexOf(record)},each:function(fn,scope,includeOptions){var data=this.getData(),bypassFilters=includeOptions,i;'object'===typeof includeOptions&&(bypassFilters=includeOptions.filtered);bypassFilters&&data.filtered&&(data=data.getSource());data=data.items.slice(0);includeOptions=data.length;for(i=0;i<includeOptions&&(bypassFilters=data[i],!1!==fn.call(scope||bypassFilters,bypassFilters,i,includeOptions));++i);},collect:function(property,
includeOptions,filtered){var allowNull=includeOptions,data=this.getData();'object'===typeof includeOptions&&(filtered=includeOptions.filtered,allowNull=includeOptions.allowNull);filtered&&data.filtered&&(data=data.getSource());return data.collect(property,'data',allowNull)},getById:function(id){var data=this.getData();data.filtered&&(data=data.getSource());return data.get(id)||null},getByInternalId:function(internalId){var data=this.getData();if(data.filtered){if(!data.$hasExtraKeys){var keyCfg=this.makeInternalKeyCfg();
data.setExtraKeys(keyCfg);data.$hasExtraKeys=!0}data=data.getSource()}data.$hasExtraKeys||(data.setExtraKeys(keyCfg||this.makeInternalKeyCfg()),data.$hasExtraKeys=!0);return data.byInternalId.get(internalId)||null},getDataSource:function(){var data=this.getData();return data.getSource()||data},indexOf:function(record){return this.getData().indexOf(record)},indexOfId:function(id){return this.indexOf(this.getById(id))},insert:function(index,records){var i;if(records){records=Ext.isIterable(records)?
Ext.Array.clone(records):[records];var len=records.length}if(!len)return[];for(i=0;i<len;++i)records[i]=this.createModel(records[i]);this.getData().insert(index,records);return records},queryBy:function(fn,scope){var data=this.getData();return(data.getSource()||data).createFiltered(fn,scope)},query:function(property,value,anyMatch,caseSensitive,exactMatch){var data=this.getData();return(data.getSource()||data).createFiltered(property,value,anyMatch,caseSensitive,exactMatch)},first:function(grouped){return this.getData().first(grouped)||
null},last:function(grouped){return this.getData().last(grouped)||null},sum:function(field,grouped){var data=this.getData();return grouped&&this.isGrouped()?data.sumByGroup(field):data.sum(field)},count:function(grouped){var data=this.getData();return grouped&&this.isGrouped()?data.countByGroup():data.count()},min:function(field,grouped){var data=this.getData();return grouped&&this.isGrouped()?data.minByGroup(field):data.min(field)},max:function(field,grouped){var data=this.getData();return grouped&&
this.isGrouped()?data.maxByGroup(field):data.max(field)},average:function(field,grouped){var data=this.getData();return grouped&&this.isGrouped()?data.averageByGroup(field):data.average(field)},aggregate:function(fn,scope,grouped,field){var i;if(grouped&&this.isGrouped()){grouped=this.getGroups().items;var len=grouped.length;var out={};for(i=0;i<len;++i){var group=grouped[i];out[group.getGroupKey()]=this.getAggregate(fn,scope||this,group.items,field)}return out}return this.getAggregate(fn,scope,this.getData().items,
field)},getAggregate:function(fn,scope,records,field){var values=[],len=records.length,i;for(i=0;i<len;++i)values[i]=records[i].get(field);return fn.call(scope||this,records,values)},addObserver:function(observer){var observers=this.observers;observers||(this.observers=observers=new Ext.util.Collection);observers.add(observer)},removeObserver:function(observer){var observers=this.observers;observers&&observers.remove(observer)},callObservers:function(action,args){var observers=this.observers;if(observers){var items=
observers.items;args?args.unshift(this):args=[this];var i=0;for(observers=items.length;i<observers;++i){var item=items[i];var methodName='onSource'+action;item[methodName]&&item[methodName].apply(item,args)}}},queryRecordsBy:function(fn,scope){var data=this.getData(),matches=[],len;data=(data.getSource()||data).items;scope=scope||this;var i=0;for(len=data.length;i<len;++i){var record=data[i];!0===fn.call(scope,record)&&matches.push(record)}return matches},queryRecords:function(field,value){var data=
this.getData(),matches=[],len;data=(data.getSource()||data).items;var i=0;for(len=data.length;i<len;++i){var record=data[i];record.get(field)===value&&matches.push(record)}return matches},privates:{isLast:function(record){return record===this.last()},makeInternalKeyCfg:function(){return{byInternalId:{property:'internalId',rootProperty:''}}}}},0,0,0,0,0,0,[Ext.data,'LocalStore'],0);
Ext.cmd.derive('Ext.data.proxy.Server',Ext.data.proxy.Proxy,{alternateClassName:'Ext.data.ServerProxy',isRemote:!0,config:{url:'',pageParam:'page',startParam:'start',limitParam:'limit',groupParam:'group',summaryParam:'summary',groupDirectionParam:'groupDir',sortParam:'sort',filterParam:'filter',directionParam:'dir',idParam:'id',simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:'_dc',timeout:3E4,api:{create:void 0,read:void 0,update:void 0,destroy:void 0},extraParams:{}},create:function(){return this.doRequest.apply(this,
arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(name,value){var extraParams=this.getExtraParams();extraParams[name]=value;this.fireEvent('extraparamschanged',extraParams)},updateExtraParams:function(newExtraParams,oldExtraParams){this.fireEvent('extraparamschanged',newExtraParams)},buildRequest:function(operation){var initialParams=
Ext.apply({},operation.getParams());initialParams=Ext.applyIf(initialParams,this.getExtraParams()||{});Ext.applyIf(initialParams,this.getParams(operation));var operationId=operation.getId();var idParam=this.getIdParam();void 0!==operationId&&void 0===initialParams[idParam]&&(initialParams[idParam]=operationId);initialParams=new Ext.data.Request({params:initialParams,action:operation.getAction(),records:operation.getRecords(),url:operation.getUrl(),operation,proxy:this});initialParams.setUrl(this.buildUrl(initialParams));
operation.setRequest(initialParams);return initialParams},processResponse:function(success,operation,request,response){if(!this.destroying&&!this.destroyed){this.fireEvent('beginprocessresponse',this,response,operation);if(!0===success){var exception=this.getReader();var resultSet=204===response.status?exception.getNullResultSet():exception.read(this.extractResponseData(response),{recordCreator:operation.getRecordCreator()||exception.defaultRecordCreatorFromServer});if(!operation.$destroyOwner){operation.$destroyOwner=
this;var destroyOp=!0}operation.process(resultSet,request,response);exception=!operation.wasSuccessful()}else this.setException(operation,response),exception=!0;if(!this.destroyed){if(exception)this.fireEvent('exception',this,response,operation);else if(exception=resultSet.getMetadata())this.onMetaChange(exception);this.destroyed||(this.afterRequest(request,success),this.fireEvent('endprocessresponse',this,response,operation))}!operation.destroyed&&destroyOp&&operation.$destroyOwner===this&&operation.destroy()}},
setException:function(operation,response){operation.setException({status:response.status,statusText:response.statusText,response})},extractResponseData:Ext.identityFn,applyEncoding:function(value){return this.getParamsAsJson&&this.getParamsAsJson()?value:Ext.encode(value)},encodeSorters:function(sorters,preventArray){var out=[],length=sorters.length,i;for(i=0;i<length;i++)out[i]=sorters[i].serialize();return this.applyEncoding(preventArray?out[0]:out)},encodeFilters:function(filters){var out=[],length=
filters.length,encode,i;for(i=0;i<length;i++)encode|=filters[i].serializeTo(out);return encode?this.applyEncoding(out):out},getParams:function(operation){if(!operation.isReadOperation)return{};var params={},groupers=operation.getGroupers(),grouper=operation.getGrouper(),sorters=operation.getSorters(),filters=operation.getFilters(),page=operation.getPage(),start=operation.getStart(),limit=operation.getLimit(),simpleSortMode=this.getSimpleSortMode(),simpleGroupMode=this.getSimpleGroupMode(),pageParam=
this.getPageParam(),startParam=this.getStartParam(),limitParam=this.getLimitParam(),groupParam=this.getGroupParam(),groupDirectionParam=this.getGroupDirectionParam(),sortParam=this.getSortParam(),filterParam=this.getFilterParam(),directionParam=this.getDirectionParam();operation=operation.getSummaries();var summaryParam=this.getSummaryParam();pageParam&&page&&(params[pageParam]=page);startParam&&(start||0===start)&&(params[startParam]=start);limitParam&&limit&&(params[limitParam]=limit);summaryParam&&
operation&&0<operation.length&&(params[summaryParam]=this.encodeFields(operation));page=groupParam&&grouper;start=groupParam&&groupers&&groupers.length;if(page||start)if(simpleGroupMode)if(page)params[groupParam]=grouper.getProperty(),groupDirectionParam===groupParam?params[groupParam]+=' '+grouper.getDirection():params[groupDirectionParam]=grouper.getDirection();else for(grouper=0;grouper<groupers.length;grouper++)groupDirectionParam===groupParam?params[groupParam]=Ext.Array.push(params[groupParam]||
[],groupers[grouper].getProperty()+' '+groupers[grouper].getDirection()):(params[groupParam]=Ext.Array.push(params[groupParam]||[],groupers[grouper].getProperty()),params[groupDirectionParam]=Ext.Array.push(params[groupDirectionParam]||[],groupers[grouper].getDirection()));else params[groupParam]=page?this.encodeSorters([grouper],!0):this.encodeSorters(groupers);if(sortParam&&sorters&&0<sorters.length)if(simpleSortMode)for(grouper=0;grouper<sorters.length;grouper++)directionParam===sortParam?params[sortParam]=
Ext.Array.push(params[sortParam]||[],sorters[grouper].getProperty()+' '+sorters[grouper].getDirection()):(params[sortParam]=Ext.Array.push(params[sortParam]||[],sorters[grouper].getProperty()),params[directionParam]=Ext.Array.push(params[directionParam]||[],sorters[grouper].getDirection()));else params[sortParam]=this.encodeSorters(sorters);filterParam&&filters&&0<filters.length&&(params[filterParam]=this.encodeFilters(filters));return params},encodeFields:function(fields){var out=[],length=fields.length,
i;for(i=0;i<length;i++){var field=fields[i];var encodedField={name:field.getName()};(field=field.getSummary())&&field.isAggregator&&(encodedField.summary=field.type,out.push(encodedField))}return this.applyEncoding(out)},buildUrl:function(request){request=this.getUrl(request);this.getNoCache()&&(request=Ext.urlAppend(request,Ext.String.format('{0}\x3d{1}',this.getCacheString(),Ext.Date.now())));return request},getUrl:function(request){var url;request&&(url=request.getUrl()||this.getApi()[request.getAction()]);
return url?url:(arguments.callee.$previous||Ext.data.proxy.Proxy.prototype.getUrl).call(this)},doRequest:function(operation,callback,scope){},afterRequest:Ext.emptyFn,destroy:function(){this.destroying=!0;this.reader=this.writer=Ext.destroy(this.reader,this.writer);Ext.data.proxy.Proxy.prototype.destroy.call(this);this.destroyed=!0}},0,0,0,0,['proxy.server'],0,[Ext.data.proxy,'Server',Ext.data,'ServerProxy'],0);
Ext.cmd.derive('Ext.data.proxy.Ajax',Ext.data.proxy.Server,{alternateClassName:['Ext.data.HttpProxy','Ext.data.AjaxProxy'],isAjaxProxy:!0,defaultActionMethods:{create:'POST',read:'GET',update:'POST',destroy:'POST'},config:{binary:!1,headers:void 0,paramsAsJson:!1,withCredentials:!1,useDefaultXhrHeader:!0,username:null,password:null,actionMethods:{create:'POST',read:'GET',update:'POST',destroy:'POST'}},doRequest:function(operation){var writer=this.getWriter(),request=this.buildRequest(operation),method=
this.getMethod(request);writer&&operation.allowWrite()&&(request=writer.write(request));request.setConfig({binary:this.getBinary(),headers:this.getHeaders(),timeout:this.getTimeout(),scope:this,callback:this.createRequestCallback(request,operation),method,useDefaultXhrHeader:this.getUseDefaultXhrHeader(),disableCaching:!1});null!=this.responseType&&Ext.supports.XHR2&&request.setResponseType(this.responseType);'GET'!==method.toUpperCase()&&this.getParamsAsJson()&&(writer=request.getParams())&&(operation=
(operation=request.getJsonData())?Ext.Object.merge({},operation,writer):writer,request.setJsonData(operation),request.setParams(void 0));this.getWithCredentials()&&(request.setWithCredentials(!0),request.setUsername(this.getUsername()),request.setPassword(this.getPassword()));return this.sendRequest(request)},sendRequest:function(request){request.setRawRequest(Ext.Ajax.request(request.getCurrentConfig()));return this.lastRequest=request},abort:function(request){(request=request||this.lastRequest)&&
Ext.Ajax.abort(request.getRawRequest())},getMethod:function(request){var actions=this.getActionMethods();request=request.getAction();var method;actions&&(method=actions[request]);return method||this.defaultActionMethods[request]},createRequestCallback:function(request,operation){return function(options,success,response){request===this.lastRequest&&(this.lastRequest=null);this.destroying||this.destroyed||this.processResponse(success,operation,request,response)}},destroy:function(){this.lastRequest=
null;Ext.data.proxy.Server.prototype.destroy.call(this)}},0,0,0,0,['proxy.ajax'],0,[Ext.data.proxy,'Ajax',Ext.data,'HttpProxy',Ext.data,'AjaxProxy'],0);
Ext.cmd.derive('Ext.data.reader.Json',Ext.data.reader.Reader,{alternateClassName:'Ext.data.JsonReader',config:{record:null,metaProperty:'metaData',useSimpleAccessors:!1,preserveRawData:!1},responseType:'json',updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},getResponseData:function(response){if('object'===typeof response.responseJson)return response.responseJson;try{return Ext.decode(response.responseText)}catch(ex){var error=this.createReadError(ex.message);
Ext.Logger.warn('Unable to parse the JSON returned by the server');this.fireEvent('exception',this,response,error);return error}},buildExtractors:function(force){var emptyFn=Ext.emptyFn;Ext.data.reader.Reader.prototype.buildExtractors.call(this,force)&&(this.getRoot=this.setupExtractor(this.getRootProperty(),Ext.identityFn),this.getGroupRoot=this.setupExtractor(this.getGroupRootProperty(),emptyFn),this.getSummaryRoot=this.setupExtractor(this.getSummaryRootProperty(),emptyFn),this.getMeta=this.setupExtractor(this.getMetaProperty(),
emptyFn))},extractData:function(root,readOptions){var recordName=this.getRecord(),data=[],i;if(recordName){var length=root.length;!length&&Ext.isObject(root)&&(length=1,root=[root]);for(i=0;i<length;i++)data[i]=root[i][recordName]}else data=root;return Ext.data.reader.Reader.prototype.extractData.call(this,data,readOptions)},getModelData:function(raw){return this.getPreserveRawData()?Ext.apply({},raw):raw},createAccessor:function(){var re=/[\[\.]/;return function(expr){var simple=this.getUseSimpleAccessors(),
operatorIndex,i;if(expr||0===expr){if('function'===typeof expr)return expr;simple||(operatorIndex=String(expr).search(re));if(!0===simple||0>operatorIndex)simple=function(raw){return null==raw?null:raw[expr]};else{simple='raw';operatorIndex=[];var part='';var inExpr=0;var len=expr.length;for(i=0;i<=len;++i){var c=expr[i];var isDot='.'===c;var isLeft='['===c;var isRight=']'===c;isDot=isDot||isLeft||isRight||!c;!isDot||1<inExpr||inExpr&&!isRight?part+=c:isDot&&(c=!1,isLeft?++inExpr:isRight&&(--inExpr,
c=!0),part&&(part=c?'['+part+']':'.'+part,simple+=part,operatorIndex.push(''+simple),part=''))}simple=operatorIndex.join(' \x26\x26 ');simple=Ext.functionFactory('raw','return '+simple)}return simple}}}(),createFieldAccessor:function(field){var mapping=field.mapping,hasMap=mapping||0===mapping;mapping=hasMap?mapping:field.name;if(hasMap)return'function'===typeof mapping?function(raw,self){return field.mapping(raw,self)}:this.createAccessor(mapping)},getAccessorKey:function(prop){var simple=this.getUseSimpleAccessors()?
'simple':'';return Ext.data.reader.Reader.prototype.getAccessorKey.call(this,simple+prop)},privates:{copyFrom:function(reader){Ext.data.reader.Reader.prototype.copyFrom.call(this,reader);this.getRoot=reader.getRoot},getGroupRoot:function(data){this.buildExtractors();return this.getGroupRoot(data)},getSummaryRoot:function(data){this.buildExtractors();return this.getSummaryRoot(data)},setupExtractor:function(prop,defaultFn){return prop?this.getAccessor(prop):defaultFn}}},0,0,0,0,['reader.json'],0,[Ext.data.reader,
'Json',Ext.data,'JsonReader'],0);
Ext.cmd.derive('Ext.data.writer.Json',Ext.data.writer.Writer,{alternateClassName:'Ext.data.JsonWriter',config:{rootProperty:void 0,encode:!1,allowSingle:!0,expandData:!1},getExpandedData:function(data){var dataLength=data.length,i=0,prop,tempObj,toObject;for(toObject=function(name,value){var o={};o[name]=value;return o};i<dataLength;i++){var item=data[i];for(prop in item)if(item.hasOwnProperty(prop)){var nameParts=prop.split('.');var j=nameParts.length-1;if(0<j){for(tempObj=item[prop];0<j;j--)tempObj=
toObject(nameParts[j],tempObj);item[nameParts[0]]=item[nameParts[0]]||{};Ext.Object.merge(item[nameParts[0]],tempObj);delete item[prop]}}}return data},writeRecords:function(request,data){var root=this.getRootProperty(),transform;this.getExpandData()&&(data=this.getExpandedData(data));if(this.getAllowSingle()&&1===data.length){data=data[0];var json=!0}(transform=this.getTransform())&&(data=transform(data,request));if(this.getEncode())root&&request.setParam(root,Ext.encode(data));else if(json||data&&
data.length)json=request.getJsonData()||{},root?json[root]=data:json=data,request.setJsonData(json);return request}},0,0,0,0,['writer.json'],0,[Ext.data.writer,'Json',Ext.data,'JsonWriter'],0);
Ext.cmd.derive('Ext.util.SorterCollection',Ext.util.Collection,{isSorterCollection:!0,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(config){this.sortFn=Ext.util.Sorter.createComparator(this);Ext.util.Collection.prototype.constructor.call(this,config);this.setDecoder(this.decodeSorter)},addSort:function(property,direction,mode){var sorter;if(property){var options=this.getOptions();if(property instanceof Array){var sorters=property;mode=direction;
direction=null}else Ext.isString(property)?sorters=(sorter=this.get(property))?[sorter]:[{property,direction:direction||options.getDefaultSortDirection()}]:Ext.isFunction(property)?sorters=[{sorterFn:property,direction:direction||options.getDefaultSortDirection()}]:(sorters=[property],mode=direction,direction=null);mode=this._sortModes[mode||'replace'];var primary=this.getAt(0);property=this.length;var index=mode.append?property:0;this.beginUpdate();this.splice(index,mode.replace?property:0,sorters);
mode.multi&&(property=this.length,mode=options.getMultiSortLimit(),property>mode&&this.removeAt(mode,property));sorter&&direction?sorter.setDirection(direction):0===index&&primary&&primary===this.getAt(0)&&primary.toggle()}else this.beginUpdate();this.endUpdate()},clear:function(){this.beginUpdate();Ext.util.Collection.prototype.clear.call(this);this.endUpdate(this.items)},getSortFn:function(){return this.sortFn},getByProperty:function(prop){var items=this.items,len=items.length,i;for(i=0;i<len;++i){var item=
items[i];if(item.getProperty()===prop)return item}return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(sorter,xclass){var options=this.getOptions(),root=options.getRootProperty(),sorterOptionsFn=this.getSorterOptionsFn();if(sorter.isSorter)sorter.getRoot()||sorter.setRoot(root);else{options={direction:options.getDefaultSortDirection(),root};root=typeof sorter;if('string'===root){if(root=this.get(sorter))return root;options.property=
sorter}else'function'===root?options.sorterFn=sorter:(options=Ext.apply(options,sorter),options.fn&&(options.sorterFn=options.fn,delete options.fn));sorter=Ext.create(xclass||Ext.util.Sorter,options)}sorterOptionsFn&&sorterOptionsFn.call(this.getSorterOptionsScope()||this,sorter);return sorter},setSorterConfigure:function(fn,scope){this.setSorterOptionsFn(fn);this.setSorterOptionsScope(scope)},decodeRemoveItems:function(args,index){var ret=void 0===index?args:args[index];if(!ret||!ret.$cloned){if(args.length>
index+1||!Ext.isIterable(ret))ret=Ext.Array.slice(args,index);args=this.items;index=ret.length;var remove=[],i,n,sorter;for(i=0;i<index;i++)if((sorter=ret[i])&&sorter.isSorter)remove.push(sorter);else{var item=typeof sorter;if('string'===item)(sorter=this.get(sorter))&&remove.push(sorter);else if('function'===item)for(n=args.length;0<n--;)item=args[n],item.getSorterFn()===sorter&&remove.push(item)}ret=remove;ret.$cloned=!0}return ret},getOptions:function(){return this.$sortable||this}},1,0,0,0,0,
0,[Ext.util,'SorterCollection'],0);
Ext.cmd.derive('Ext.util.FilterCollection',Ext.util.Collection,{isFilterCollection:!0,$filterable:null,filterFn:null,constructor:function(config){this.filterFn=Ext.util.Filter.createFilterFn(this);Ext.util.Collection.prototype.constructor.call(this,config);this.setDecoder(this.decodeFilter)},filterData:function(data){return this.filtered?Ext.Array.filter(data,this.filterFn):data},getFilterFn:function(){return this.filterFn},isItemFiltered:function(item){return!this.filterFn(item)},getFilterCount:function(){var filters=
this.items,len=filters.length,i;for(i=len-1;0<=i;i--)filters[i].getDisabled()&&len--;return len},decodeFilter:function(filter){var filterRoot=this.getOptions().getRootProperty();if(filter.isFilter)filter.setRoot&&!filter.getRoot()&&filter.setRoot(filterRoot);else{filterRoot={root:filterRoot};if(Ext.isFunction(filter))filterRoot.filterFn=filter;else if(filterRoot=Ext.apply(filterRoot,filter),filterRoot.fn&&(filterRoot.filterFn=filterRoot.fn,delete filterRoot.fn),Ext.util.Filter.isInvalid(filterRoot))return!1;
filter=new Ext.util.Filter(filterRoot)}return filter},decodeRemoveItems:function(args,index){var ret=void 0===index?args:args[index];if(!ret.$cloned){if(args.length>index+1||!Ext.isIterable(ret))ret=Ext.Array.slice(args,index);args=this.items;index=ret.length;var remove=[],filter,i,n;for(i=0;i<index;i++)if((filter=ret[i])&&filter.isFilter)remove.push(filter);else{var isString=typeof filter;var isFunction='function'===isString;var isProp=void 0!==filter.property&&void 0!==filter.value;isString='string'===
isString;for(n=args.length;0<n--;){var item=args[n];var match=!1;isString?match=item.getProperty()===filter:isFunction?match=item.getFilterFn()===filter:isProp&&(match=item.getProperty()===filter.property&&item.getValue()===filter.value);match&&remove.push(item)}}ret=remove;ret.$cloned=!0}return ret},getOptions:function(){return this.$filterable||this}},1,0,0,0,0,0,[Ext.util,'FilterCollection'],0);
Ext.cmd.derive('Ext.util.GrouperCollection',Ext.util.SorterCollection,{isGrouperCollection:!0,constructor:function(config){Ext.util.SorterCollection.prototype.constructor.call(this,config);this.setDecoder(this.decodeGrouper)},decodeGrouper:function(grouper){var cfg=grouper;'function'===typeof grouper&&(cfg={groupFn:grouper});return this.decodeSorter(cfg,'Ext.util.Grouper')},addGroupersObserver:function(observer){var items=this.items,length=items.length,i;for(i=0;i<length;i++)items[i].addObserver(observer)},
removeGroupersObserver:function(observer){var items=this.items,length=items.length,i;for(i=0;i<length;i++)items[i].removeObserver(observer)}},1,0,0,0,0,0,[Ext.util,'GrouperCollection'],0);
Ext.cmd.derive('Ext.util.GroupCollection',Ext.util.Collection,{isGroupCollection:!0,config:{grouper:null,groupConfig:null,itemRoot:null},observerPriority:-100,emptyGroupRetainTime:3E5,rootProperty:'_data',constructor:function(config){this.emptyGroups={};Ext.util.Collection.prototype.constructor.call(this,config);this.on('remove','onGroupRemove',this)},getItemGroup:function(item){var grouper=this.lastMonitoredGrouper;!grouper&&this.items.length&&(grouper=this.items[0].getGrouper());if(grouper){item=
grouper.getGroupString(item);var group=this.get(item)}return group},getByPath:function(path){var paths=path?String(path).split(Ext.util.Group.prototype.pathSeparator):[],len=paths.length,items=this,group=!1;len||(group=items.get(path));for(path=0;path<len&&items&&0!==items.length;path++)(group=items.get(paths[path]))&&(items=group.getGroups());return group||!1},getGroupsByItem:function(item){var groups=[],length=this.items.length,i;if(item)for(i=0;i<length;i++){var group=this.items[i];if(0<=group.indexOf(item)&&
(groups.push(group),group=group.getGroups()))return Ext.Array.insert(groups,groups.length,group.getGroupsByItem(item))}return groups},onCollectionAdd:function(source,details){this.isConfiguring||this.addItemsToGroups(source,details.items,details.at)},onCollectionBeforeItemChange:function(source,details){this.changeDetails=details},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(source,details){details.indexChanged||
this.syncItemGrouping(source,details);this.changeDetails=null},onCollectionRefresh:function(source){if(source.generation){var itemGroupKeys=this.itemGroupKeys={},groupKey,len,j;this.groupersChanged=!0;var groupData=this.createEntries(source,source.items);var entries=groupData.entries;var i=0;for(len=entries.length;i<len;++i){var entry=entries[i];entry.group.splice(0,1E99,entry.items);for(j=0;j<entry.items.length;j++)itemGroupKeys[source.getKey(entry.items[j])]=entry.group}entries=null;for(groupKey in this.map)groupKey in
groupData.groups||(entries||(entries=[])).push(this.map[groupKey]);entries&&this.remove(entries);this.sortItems();this.groupersChanged=!1}},onCollectionRemove:function(source,details){var groupers=source.getGroupers(),changeDetails=this.changeDetails,itemGroupKeys=this.itemGroupKeys||(this.itemGroupKeys={}),n,j,removeGroups;if(groupers&&groupers.length){if(source.getCount()){changeDetails?(changeDetails=changeDetails.item||changeDetails.items[0],groupers=this.createEntries(source,[changeDetails],
!1).entries,groupers[0].group=itemGroupKeys['oldKey'in details?details.oldKey:source.getKey(changeDetails)]):groupers=this.createEntries(source,details.items,!1).entries;var i=0;for(n=groupers.length;i<n;++i){(changeDetails=(details=groupers[i]).group)&&changeDetails.remove(details.items);for(j=0;j<details.items.length;j++)delete itemGroupKeys[source.getKey(details.items[j])];changeDetails&&!changeDetails.length&&(removeGroups||(removeGroups=[])).push(changeDetails)}}else for(this.itemGroupKeys={},
removeGroups=this.items,i=0,n=removeGroups.length;i<n;++i)removeGroups[i].clear();removeGroups&&this.remove(removeGroups)}},onCollectionSort:function(source){source=source.getSorters(!1);var i;if(source){var items=this.items;var length=this.length;for(i=0;i<length;++i){var group=items[i];group.getSorters()===source?group.sortItems():group.setSorters(source)}}},onCollectionUpdateKey:function(source,details){details.indexChanged||(details.oldIndex=source.indexOf(details.item),this.syncItemGrouping(source,
details))},onCollectionGroupersChanged:function(source){source=source.getGroupers();0<source.length?(source=source.items[0],this.changeSorterFn(source),this.lastMonitoredGrouper&&this.lastMonitoredGrouper.removeObserver(this),this.lastMonitoredGrouper=source,source.addObserver(this)):this.removeAll()},onGrouperDirectionChange:function(grouper){this.changeSorterFn(grouper);this.onEndUpdateSorters(this.getSorters())},onEndUpdateSorters:function(sorters){var was=this.sorted,is=this.grouped&&this.getAutoGroup()||
this.getAutoSort()&&sorters&&0<sorters.length;if(was||is)this.sorted=!!is,this.onSortChange(sorters)},changeSorterFn:function(grouper){var sorters=this.getSorters(),sorter={root:this.getRootProperty()};sorter.direction=grouper.getDirection();grouper&&(sorter.id=grouper.getProperty(),grouper.initialConfig.sorterFn?sorter.sorterFn=grouper.initialConfig.sorterFn:sorter.property=grouper.getSortProperty()||grouper.getProperty());sorter.property||sorter.sorterFn?0===sorters.length?sorters.add(sorter):sorters.items[0].setConfig(sorter):
sorters.clear()},addItemsToGroups:function(source,items,at,oldIndex){var itemGroupKeys=this.itemGroupKeys||(this.itemGroupKeys={}),entries=this.createEntries(source,items).entries,index=-1,len;var i=0;for(len=entries.length;i<len;++i){var entry=entries[i];var j=entry.group;if(oldIndex||0===oldIndex)entry=items[0],0<j.getCount()&&0===source.getSorters().getCount()&&(index=source.indexOf(j.items[0]),index=oldIndex<index?0:oldIndex-index),-1===index?j.add(entry):j.insert(index,entry);else{if(1<this.length&&
at){var sourceStartIndex=source.indexOf(entries[0].group.getAt(0));at=Math.max(at-sourceStartIndex,0)}entry.group.insert(null!=at?at:j.items.length,entry.items);for(j=0;j<entry.items.length;j++)itemGroupKeys[source.getKey(entry.items[j])]=entry.group}}this.sortItems()},createEntries:function(source,items,createGroups){var groups={},entries=[],groupers=source.getGroupers().getRange(),entry,item,len;if(groupers.length){var grouper=groupers.shift();groupers=groupers.length?Ext.clone(groupers):null;var i=
0;for(len=items.length;i<len;++i){var groupKey=grouper.getGroupString(item=items[i]);(entry=groups[groupKey])||(entry=this.getGroup(source,item,grouper,groupers,createGroups),entries.push(groups[groupKey]=entry={group:entry,items:[]}));entry.items.push(item)}}return{groups,entries}},syncItemGrouping:function(source,details){var itemGroupKeys=this.itemGroupKeys||(this.itemGroupKeys={}),item=details.item,groupers=source.getGroupers().getRange();if(groupers.length){var grouper=groupers.shift();groupers=
groupers.length?Ext.clone(groupers):null;var itemKey=source.getKey(item);var oldKey='oldKey'in details?details.oldKey:itemKey;var oldGroup=itemGroupKeys[oldKey];groupers=this.getGroup(source,item,grouper,groupers);details.group=groupers;details.oldGroup=oldGroup;details.groupChanged=groupers!==oldGroup;groupers===oldGroup?oldGroup.itemChanged(item,details.modified,details.oldKey,details):(oldGroup&&(oldGroup.updateKey(item,oldKey,itemKey),oldGroup.remove(item),oldGroup.length||this.remove(oldGroup)),
this.addItemsToGroups(source,[item],null,details.oldIndex));delete itemGroupKeys[oldKey];itemGroupKeys[itemKey]=groupers}},getGroup:function(source,item,grouper,groupers,createGroups){var key=grouper.getGroupString(item),prop=grouper.getSortProperty(),root=grouper.getRoot(),group=this.get(key),autoSort=this.getAutoSort();group?(group.setSorters(source.getSorters()),this.groupersChanged&&(item=group.getLabel(),group.setLabel(null),group.setGroupers(groupers),group.setGrouper(grouper),group.setParent(source.isGroup?
source:this),group.setLabel(item))):!1!==createGroups&&((group=this.emptyGroups[key])&&group.destroyed&&(delete this.emptyGroups[key],group=null),group?group.setLabel(null):group=Ext.create(Ext.apply({xclass:'Ext.util.Group',groupConfig:this.getGroupConfig()},this.getGroupConfig())),this.setAutoSort(!1),group.setConfig({groupKey:key,grouper,groupers,label:key,rootProperty:this.getItemRoot(),sorters:source.getSorters(),autoSort,autoGroup:this.getAutoGroup(),parent:source.isGroup?source:this}),group.ejectTime=
null,this.add(group),this.setAutoSort(autoSort),prop&&group.setCustomData(prop,(root?item[root]:item)[prop]));return group},getKey:function(item){return item.getGroupKey()},createSortFn:function(){return this.getSorters().getSortFn()},getGrouper:function(){return this.lastMonitoredGrouper},updateGrouper:Ext.emptyFn,updateAutoGroup:function(autoGroup){var len=this.length,i;this.setAutoSort(autoGroup);for(i=0;i<len;i++)this.items[i].setAutoGroup(autoGroup);this.onEndUpdateSorters(this._sorters)},destroy:function(){var grouper=
this.lastMonitoredGrouper;grouper&&grouper.removeObserver(this);this.$groupable=null;this.destroyGroups(this.items);Ext.undefer(this.checkRemoveQueueTimer);Ext.util.Collection.prototype.destroy.call(this)},privates:{destroyGroups:function(groups){var i;for(i=groups.length-1;0<=i;i--)groups[i].destroy()},onGroupRemove:function(collection,info){collection=info.items;info=this.emptyGroups;var len;collection=Ext.Array.from(collection);var i=0;for(len=collection.length;i<len;i++){var group=collection[i];
group.eject();info[group.getGroupKey()]=group}this.checkRemoveQueue()},checkRemoveQueue:function(){var emptyGroups=this.emptyGroups,groupKey;for(groupKey in emptyGroups){var group=emptyGroups[groupKey];if(!group||group.destroyed)delete emptyGroups[groupKey];else if(!group.length&&Ext.now()-group.ejectTime>this.emptyGroupRetainTime)Ext.destroy(group),delete emptyGroups[groupKey];else var reschedule=!0}reschedule&&(Ext.undefer(this.checkRemoveQueueTimer),this.checkRemoveQueueTimer=Ext.defer(this.checkRemoveQueue,
this.emptyGroupRetainTime,this))}}},1,0,0,0,0,0,[Ext.util,'GroupCollection'],0);
Ext.cmd.derive('Ext.data.Store',Ext.data.ProxyStore,{config:{data:void 0,clearRemovedOnLoad:!0,clearOnPageLoad:!0,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:!0},loadCount:0,complete:!1,moveMapCount:0,constructor:function(config){if(config&&config.buffered)return new Ext.data.BufferedStore(config);Ext.data.ProxyStore.prototype.constructor.call(this,config);if(config=this.inlineData)delete this.inlineData,this.loadInlineData(config)},applyData:function(data,dataCollection){this.getFields();
this.getModel();data&&data.isCollection?(data.setRootProperty('data'),dataCollection=data,dataCollection.addObserver(this),data.getCount()&&(this.afterLoadRecords(data.items),this.hasListeners.load&&this.fireEvent('load',this,data.items,!0))):(dataCollection||(dataCollection=this.constructDataCollection()),data&&(this.isInitializing?this.inlineData=data:this.loadData(data)));return dataCollection},loadInlineData:function(data){var proxy=this.getProxy();proxy&&proxy.isMemoryProxy?(proxy.setData(data),
this.suspendEvents(),this.read()):(this.removeAll(!0),this.suspendEvents(),this.loadData(data));this.resumeEvents()},onCollectionAdd:function(collection,info){this.loadCount=this.loadCount||1;this.onCollectionAddItems(collection,info.items,info)},onCollectionFilterAdd:function(collection,items){this.onCollectionAddItems(collection,items)},onCollectionAddItems:function(collection,records,info){collection=records.length;var lastChunk=info?!info.next:!1,removed=this.removed,ignoreAdd=this.ignoreCollectionAdd,
session=this.getSession(),replaced=info&&info.replaced,i;this.activeRanges&&this.syncActiveRanges();for(i=0;i<collection;++i){var record=records[i];session&&session.adopt(record);if(!ignoreAdd){record.join(this);removed&&removed.length&&Ext.Array.remove(removed,record);var sync=sync||record.phantom||record.dirty}}if(!ignoreAdd){if(replaced){var replacedItems=[];do Ext.Array.push(replacedItems,replaced.items),replaced=replaced.next;while(replaced);this.setMoving(replacedItems,!0)}info&&(info.replaced?
lastChunk&&(this.fireEvent('datachanged',this),this.fireEvent('refresh',this)):(this.fireEvent('add',this,records,info.at),lastChunk&&this.fireEvent('datachanged',this)));replacedItems&&this.setMoving(replacedItems,!1);this.needsSync=this.needsSync||sync}},onCollectionBeforeItemChange:function(collection,info){this.fireEvent('beforeupdate',this,info.item,info.meta,info.modified||null,info)},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(collection,
info){collection=info.item;var modifiedFieldNames=info.modified||null,type=info.meta;this.fireChangeEvent(collection)&&(this.onUpdate(collection,type,modifiedFieldNames,info),this.fireEvent('update',this,collection,type,modifiedFieldNames,info),this.fireEvent('datachanged',this))},afterChange:function(record,modifiedFieldNames,type){this.getData().itemChanged(record,modifiedFieldNames||null,void 0,type)},afterCommit:function(record,modifiedFieldNames){this.afterChange(record,modifiedFieldNames,Ext.data.Model.COMMIT)},
afterEdit:function(record,modifiedFieldNames){this.needsSync=this.needsSync||record.dirty;this.afterChange(record,modifiedFieldNames,Ext.data.Model.EDIT)},afterReject:function(record){this.afterChange(record,null,Ext.data.Model.REJECT)},afterDrop:function(record){this.getData().remove(record)},afterErase:function(record){this.removeFromRemoved(record)},addSorted:function(record){var remote=this.getRemoteSort(),data=this.getData();remote&&data.setSorters(this.getSorters());var index=data.findInsertionIndex(record);
remote&&data.setSorters(null);return this.insert(index,record)},remove:function(records,isMove,silent){var data=this.getDataSource(),record;if(records)if(records.isModel)if(-1<data.indexOf(records)){var toRemove=[records];var len=1}else len=0;else{toRemove=[];var i=0;for(len=records.length;i<len;++i){if((record=records[i])&&record.isEntity){if(!data.contains(record))continue}else if(!(record=data.getAt(record)))continue;toRemove.push(record)}len=toRemove.length}if(!len)return[];this.removeIsMove=
!0===isMove;this.removeIsSilent=silent;data.remove(toRemove);this.removeIsSilent=!1;return toRemove},onCollectionRemove:function(collection,info){collection=this.removed;var records=info.items,len=records.length,index=info.at,replacement=info.replacement,isMove=this.removeIsMove||replacement&&Ext.Array.equals(records,replacement.items),silent=this.removeIsSilent;info=!info.next;var data=this.getDataSource();if(!this.ignoreCollectionRemove){replacement&&this.setMoving(replacement.items,!0);for(--len;0<=
len;len--){var record=records[len];data.contains(record)||(!collection||isMove||record.phantom||record.erasing?record.unjoin(this):(record.removedFrom=index+len,collection.push(record),this.needsSync=!0))}silent||replacement&&replacement.items.length||(this.fireEvent('remove',this,records,index,isMove),info&&this.fireEvent('datachanged',this));replacement&&this.setMoving(replacement.items,!1)}},onFilterEndUpdate:function(){this.destroying||this.destroyed||(this.activeRanges&&this.syncActiveRanges(),
Ext.data.ProxyStore.prototype.onFilterEndUpdate.apply(this,arguments),this.callObservers('Filter'))},removeAt:function(index,count){var data=this.getData();index=Math.max(index,0);if(index<data.length){if(1===arguments.length)count=1;else if(!count)return;data.removeAt(index,count)}},removeAll:function(silent){var data=this.getData(),records=data.getRange();data.length&&(this.removeIsSilent=!0,this.callObservers('BeforeRemoveAll'),data.removeAll(),this.removeIsSilent=!1,silent||(this.fireEvent('clear',
this,records),this.fireEvent('datachanged',this)),this.callObservers('AfterRemoveAll',[!!silent]));return records},setRecords:function(records){var count=this.getCount();++this.loadCount;count?this.getData().splice(0,count,records):this.add(records)},splice:function(index,toRemove,toAdd){return this.getData().splice(index,toRemove,toAdd)},onProxyLoad:function(operation){var resultSet=operation.getResultSet(),records=operation.getRecords(),successful=operation.wasSuccessful();this.destroyed||(resultSet&&
(this.totalCount=resultSet.getTotal()),successful?(records=this.processAssociation(records),this.loadRecords(records,operation.getAddRecords()?{addRecords:!0}:void 0),this.attachSummaryRecord(resultSet)):this.loading=!1,this.hasListeners.load&&this.fireEvent('load',this,records,successful,operation),this.callObservers('AfterLoad',[records,successful,operation]))},onProxyWrite:function(operation){operation.wasSuccessful()&&this.attachSummaryRecord(operation.getResultSet());Ext.data.ProxyStore.prototype.onProxyWrite.call(this,
operation)},filterDataSource:function(fn){var source=this.getDataSource(),items=source.items,len=items.length,ret=[],i;for(i=0;i<len;i++)fn.call(source,items[i])&&ret.push(items[i]);return ret},getNewRecords:function(){return this.filterDataSource(this.filterNew)},getRejectRecords:function(){return this.filterDataSource(this.filterRejects)},getUpdatedRecords:function(){return this.filterDataSource(this.filterUpdated)},loadData:function(data,append){var length=data.length,newData=[],i;for(i=0;i<length;i++)newData.push(this.createModel(data[i]));
newData=this.processAssociation(newData);this.loadRecords(newData,append?this.addRecordsOptions:void 0)},loadRawData:function(data,append){var session=this.getSession(),success;data=this.getProxy().getReader().read(data,session?{recordCreator:session.recordCreator}:void 0);session=data.getRecords();if(success=data.getSuccess())this.totalCount=data.getTotal(),this.loadRecords(session,append?this.addRecordsOptions:void 0);return success},loadRecords:function(records,options){var data=this.getData();
if(options)var addRecords=options.addRecords;if(!this.getRemoteSort()&&!this.getSortOnLoad()){var skipSort=!0;data.setAutoSort(!1)}addRecords||this.clearData(!0);this.loading=!1;this.ignoreCollectionAdd=!0;this.callObservers('BeforePopulate');data.add(records);this.ignoreCollectionAdd=!1;skipSort&&data.setAutoSort(!0);this.afterLoadRecords(records)},afterLoadRecords:function(records){var length=records.length,i;for(i=0;i<length;i++)records[i].join(this);this.isEmptyStore||(++this.loadCount,this.complete=
!0);this.hasListeners.datachanged&&this.fireEvent('datachanged',this);this.hasListeners.refresh&&this.fireEvent('refresh',this);this.callObservers('AfterPopulate')},loadPage:function(page,options){var size=this.getPageSize();this.currentPage=page;options=Ext.apply({page,start:(page-1)*size,limit:size,addRecords:!this.getClearOnPageLoad()},options);this.read(options)},nextPage:function(options){this.loadPage(this.currentPage+1,options)},previousPage:function(options){this.loadPage(this.currentPage-
1,options)},clearData:function(isLoad){var removed=this.removed,data=this.getDataSource(),clearRemovedOnLoad=this.getClearRemovedOnLoad(),needsUnjoinCheck=removed&&isLoad&&!clearRemovedOnLoad,len;if(data){var records=data.items;var i=0;for(len=records.length;i<len;++i){var record=records[i];needsUnjoinCheck&&Ext.Array.contains(removed,record)||record.unjoin(this)}this.ignoreCollectionRemove=!0;this.callObservers('BeforeClear');data.removeAll();this.ignoreCollectionRemove=!1;this.callObservers('AfterClear')}!removed||
isLoad&&!clearRemovedOnLoad||(removed.length=0)},onIdChanged:function(rec,oldId,newId){this.getData().updateKey(rec,oldId);this.fireEvent('idchanged',this,rec,oldId,newId)},commitChanges:function(){var recs=this.getModifiedRecords(),len=recs.length,i=0;Ext.suspendLayouts();for(this.beginUpdate();i<len;i++)recs[i].commit();this.cleanRemoved();this.endUpdate();Ext.resumeLayouts(!0);this.fireEvent('commit',this)},filterNewOnly:function(item){return!0===item.phantom},filterRejects:function(item){return item.phantom||
item.dirty},rejectChanges:function(){var recs=this.getRejectRecords(),len=recs.length,i;Ext.suspendLayouts();this.beginUpdate();for(i=0;i<len;i++){var rec=recs[i];if(rec.phantom){var toRemove=toRemove||[];toRemove.push(rec)}else rec.reject()}if(toRemove)for(this.remove(toRemove),i=0,len=toRemove.length;i<len;++i)toRemove[i].reject();if(recs=this.getRawRemovedRecords()){len=recs.length;if(toRemove=!this.getRemoteSort()&&this.isSorted()){var data=this.getData();var currentAutoSort=data.getAutoSort();
data.setAutoSort(!1)}for(i=len-1;0<=i;i--)rec=recs[i],rec.reject(),toRemove||this.insert(rec.removedFrom||0,rec);toRemove&&(data.setAutoSort(currentAutoSort),this.add(recs));recs.length=0}this.endUpdate();Ext.resumeLayouts(!0);this.fireEvent('reject',this)},doDestroy:function(){var task=this.loadTask,source=this.getData().getSource();this.clearData();this.setSession(null);this.observers=null;task&&(task.cancel(),this.loadTask=null);source&&source.destroy();Ext.data.ProxyStore.prototype.doDestroy.call(this)},
setFieldsSummaries:function(values){var model=this.model.getSummaryModel(),key;if(model&&!this.isDestroyed){for(key in values)model.setSummaryField(key,values[key]);this.getRemoteSummary()?this.reload():(this.getSummaryRecord().calculateSummary(this.getData().items),this.recalculateSummaries(this.getGroups()),this.fireEvent('summarieschanged',this),this.fireEvent('datachanged',this))}},setFieldSummary:function(field,summary){var model=this.model.getSummaryModel();model&&!this.isDestroyed&&(model.setSummaryField(field,
summary),this.getRemoteSummary()?this.reload():(this.getSummaryRecord().calculateSummary(this.getData().items),this.recalculateSummaries(this.getGroups()),this.fireEvent('summarieschanged',this),this.fireEvent('datachanged',this)))},recalculateSummaries:function(groups){var groupCount=groups?groups.length:0,i;for(i=0;i<groupCount;i++){var group=groups.items[i];group.recalculateSummaries();this.recalculateSummaries(group.getGroups())}},privates:{commitOptions:{commit:!0},attachSummaryRecord:function(resultSet){if(resultSet){var summary=
resultSet.getSummaryData(),groupers=this.getGroupers(),current=this.summaryRecord,commitOptions=this.commitOptions,changed=!1,group;summary&&(changed=!0,current?(current.data={},current.set(summary.data,commitOptions)):(this.summaryRecord=summary,summary.isRemote=!0));if(groupers&&groupers.length&&(changed=!0,summary=resultSet.getGroupData())){resultSet=this.getGroups();var i=0;for(groupers=summary.length;i<groupers;++i){var rec=summary[i];if(group=resultSet.getItemGroup(rec)){for(current=group.getGroups();current;)(current=
current.getItemGroup(rec))?Ext.isDefined(rec.data[current.getGrouper().getProperty()])?(group=current,current=group.getGroups()):current=null:current=null;delete rec.data.id;current=group.getGroupRecord();current.set(rec.data,commitOptions);current.isRemote=!0;current=group.getSummaryRecord();current.set(rec.data,commitOptions);current.isRemote=!0}}}changed&&this.hasListeners.remotesummarieschanged&&this.fireEvent('remotesummarieschanged',this)}},fetch:function(options){options=Ext.apply({},options);
this.setLoadOptions(options);options=Ext.apply({internalScope:this,internalCallback:this.onFetch,scope:this},options);options=this.createOperation('read',options);options.execute()},onFetch:function(operation){var records=operation.getRecords(),successful=operation.wasSuccessful();this.destroyed||this.hasListeners.load&&this.fireEvent('load',this,records,successful,operation)},fireChangeEvent:function(record){return this.getDataSource().contains(record)},onBeforeLoad:function(operation){this.callObservers('BeforeLoad',
[operation])},onRemoteFilterSet:function(filters,remoteFilter){filters&&this.getData().setFilters(remoteFilter?null:filters);Ext.data.ProxyStore.prototype.onRemoteFilterSet.call(this,filters,remoteFilter)},onRemoteSortSet:function(sorters,remoteSort){var data=this.getData();sorters&&data.setSorters(remoteSort?null:sorters);data.setAutoGroup(!remoteSort);Ext.data.ProxyStore.prototype.onRemoteSortSet.call(this,sorters,remoteSort)},isMoving:function(records,getMap){var map=this.moveMap,moving=0;if(map)if(records)if(Ext.isArray(records)){var i=
0;for(getMap=records.length;i<getMap;++i)moving+=map[records[i].id]?1:0}else map[records.id]&&++moving;else moving=getMap?map:this.moveMapCount;return moving},setLoadOptions:function(options){var pageSize=this.getPageSize(),summaries=[],groupers=this.getGroupers(!1),grouper,i;if(this.getRemoteSort()||this.getRemoteSummary())if(options.grouper)!options.groupers&&groupers&&groupers.length&&(options.groupers=groupers.getRange());else if(grouper=this.getGrouper())options.grouper=grouper;if(this.getRemoteSummary()){grouper=
this.getModel().getSummaryModel();grouper=grouper.getFields();var len=grouper.length;for(i=0;i<len;i++){var field=grouper[i];groupers&&!groupers.get(field.name)&&summaries.push(field)}options.summaries=summaries}if(pageSize||'start'in options||'limit'in options||'page'in options)options.page=null!=options.page?options.page:this.currentPage,options.start=void 0!==options.start?options.start:(options.page-1)*pageSize,options.limit=null!=options.limit?options.limit:pageSize,this.currentPage=options.page;
options.addRecords=options.addRecords||!1;!options.recordCreator&&(pageSize=this.getSession())&&(options.recordCreator=pageSize.recordCreator);Ext.data.ProxyStore.prototype.setLoadOptions.call(this,options)},setMoving:function(records,isMoving){var map=this.moveMap||(this.moveMap={}),len=records.length,i;for(i=0;i<len;++i){var id=records[i].id;isMoving?map[id]?++map[id]:(map[id]=1,++this.moveMapCount):0===--map[id]&&(delete map[id],--this.moveMapCount)}0===this.moveMapCount&&(this.moveMap=null)},
processAssociation:function(records){var associatedEntity=this.getAssociatedEntity();associatedEntity&&(records=this.getRole().processLoad(this,associatedEntity,records,this.getSession()));return records}}},1,0,0,0,['store.store'],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,'Store'],0);
Ext.cmd.derive('Ext.data.reader.Array',Ext.data.reader.Json,{alternateClassName:'Ext.data.ArrayReader',config:{totalProperty:void 0,successProperty:void 0},createFieldAccessor:function(field){var oldMap=field.mapping,index=field.hasMapping()?oldMap:field.ordinal;field.mapping=index;index=Ext.data.reader.Json.prototype.createFieldAccessor.apply(this,arguments);field.mapping=oldMap;return index},getModelData:function(raw){return{}}},0,0,0,0,['reader.array'],0,[Ext.data.reader,'Array',Ext.data,'ArrayReader'],
0);Ext.cmd.derive('Ext.data.ArrayStore',Ext.data.Store,{alternateClassName:['Ext.data.SimpleStore'],config:{proxy:{type:'memory',reader:'array'}},loadData:function(data,append){if(this.expandData){for(var r=[],i=0,ln=data.length;i<ln;i++)r[r.length]=[data[i]];data=r}Ext.data.Store.prototype.loadData.call(this,data,append)}},0,0,0,0,['store.array'],0,[Ext.data,'ArrayStore',Ext.data,'SimpleStore'],0);
Ext.cmd.derive('Ext.data.StoreManager',Ext.util.MixedCollection,{alternateClassName:['Ext.StoreMgr','Ext.data.StoreMgr','Ext.StoreManager'],singleton:!0,register:function(){var i,s;for(i=0;s=arguments[i];i++)this.add(s)},unregister:function(){var i,s;for(i=0;s=arguments[i];i++)this.remove(this.lookup(s))},lookup:function(store,defaultType){if(Ext.isArray(store)){var first=store[0];var data=store;if(Ext.isObject(first))store={data};else{defaultType=Ext.isArray(first);var fields=['field1'];if(defaultType){var i=
2;for(first=first.length;i<=first;++i)fields.push('field'+i)}else for(data=[],i=0,first=store.length;i<first;++i)data.push([store[i]]);return new Ext.data.ArrayStore({data,fields,autoDestroy:!0,autoCreated:!0,expanded:!defaultType})}}return Ext.isString(store)?this.get(store):Ext.Factory.store(store,defaultType)},getKey:function(o){return o.storeId},addEmptyStore:function(){var emptyStore=this.$emptyStore,destoryable={destroy:Ext.emptyFn};emptyStore||(emptyStore=this.$emptyStore=Ext.regStore('ext-empty-store',
{proxy:'memory',useModelWarning:!1}),emptyStore.isEmptyStore=!0,emptyStore.on=emptyStore.addListener=function(){return destoryable},emptyStore.un=emptyStore.removeListener=Ext.emptyFn);this.add(emptyStore)},clear:function(){this.callParent();this.addEmptyStore()}},0,0,0,0,0,0,[Ext.data,'StoreManager',Ext,'StoreMgr',Ext.data,'StoreMgr',Ext,'StoreManager'],function(){Ext.regStore=function(id,config){if(Ext.isObject(id))config=id;else{if(Ext.data.StoreManager.containsKey(id))return Ext.data.StoreManager.lookup(id);
config.storeId=id}id=config instanceof Ext.data.Store?config:new Ext.data.Store(config);Ext.data.StoreManager.register(id);return id};Ext.getStore=function(name){return Ext.data.StoreManager.lookup(name)};Ext.data.StoreManager.addEmptyStore()});
Ext.cmd.derive('Ext.app.domain.Store',Ext.app.EventDomain,{singleton:!0,type:'store',prefix:'store.',idMatchRe:/^#/,constructor:function(){this.callParent();this.monitor(Ext.data.AbstractStore)},match:function(target,selector){var result=!1,alias=target.alias;'*'===selector?result=!0:this.idMatchRe.test(selector)?result=target.getStoreId()===selector.substring(1):alias&&(result=-1<Ext.Array.indexOf(alias,this.prefix+selector));return result}},1,0,0,0,0,0,[Ext.app.domain,'Store'],0);
Ext.cmd.derive('Ext.app.Controller',Ext.app.BaseController,{statics:{strings:{model:{getter:'getModel',upper:'Model'},view:{getter:'getView',upper:'View'},controller:{getter:'getController',upper:'Controller'},store:{getter:'getStore',upper:'Store'},profile:{getter:'getProfile',upper:'Profiles'}},controllerRegex:/^(.*)\.controller\./,profileRegex:/^(.*)\.profile\./,createGetter:function(baseGetter,name){return function(){return this[baseGetter](name)}},getGetterName:function(name,kindUpper){var fn=
'get';name=name.split('.');var numParts=name.length,index;for(index=0;index<numParts;index++)fn+=Ext.String.capitalize(name[index]);return fn+kindUpper},resolveNamespace:function(cls,data){var Controller=Ext.app.Controller,match;Controller=cls.prototype.isProfile?Controller.profileRegex:Controller.controllerRegex;cls=Ext.getClassName(cls);return data.$namespace||data.namespace||Ext.app.getNamespace(cls)||(match=Controller.exec(cls))&&match[1]},processDependencies:function(cls,requires,namespace,kind,
names,profileName){if(names&&names.length){var strings=this.strings[kind],absoluteName,subLn,getter;Ext.isArray(names)||(names=[names]);var j=0;for(subLn=names.length;j<subLn;j++){var name=names[j];var o=this.getFullName(name,kind,namespace,profileName);names[j]=absoluteName=o.absoluteName;o=o.shortName;requires.push(absoluteName);absoluteName=this.getGetterName(o,strings.upper);cls[absoluteName]||(cls[absoluteName]=getter=this.createGetter(strings.getter,name));getter&&'controller'!==kind&&(getter['Ext.app.getter']=
!0)}}},getFullName:function(name,kind,namespace,profileName){var shortName=name,sep;0<(sep=name.indexOf('@'))?(shortName=name.substring(0,sep),profileName=name.substring(sep+1)+'.'+shortName):0<name.indexOf('.')&&(Ext.ClassManager.isCreated(name)||this.hasRegisteredPrefix(name))?(profileName=name,shortName=name.replace(namespace+'.'+kind+'.','')):namespace?(profileName=namespace+'.'+kind+'.'+(profileName?profileName+'.'+name:name),shortName=name):profileName=name;return{absoluteName:profileName,shortName}},
hasRegisteredPrefix:function(className){var prefix=Ext.ClassManager.getPrefix(className);return prefix&&prefix!==className}},models:null,views:null,stores:null,controllers:null,config:{application:null,refs:null,active:!0,moduleClassName:null},onClassExtended:function(cls$jscomp$0,data$jscomp$0,hooks){var onBeforeClassCreated=hooks.onBeforeCreated;hooks.onBeforeCreated=function(cls,data){var Controller=Ext.app.Controller,requires=[],namespace;var proto=cls.prototype;if(namespace=Controller.resolveNamespace(cls,
data))proto.$namespace=namespace;Controller.processDependencies(proto,requires,namespace,'model',data.models);Controller.processDependencies(proto,requires,namespace,'view',data.views);Controller.processDependencies(proto,requires,namespace,'store',data.stores);Controller.processDependencies(proto,requires,namespace,'controller',data.controllers);Ext.require(requires,Ext.Function.pass(onBeforeClassCreated,arguments,this))}},constructor:function(config){this.initAutoGetters();Ext.app.BaseController.prototype.constructor.call(this,
config)},normalizeRefs:function(refs){var newRefs=[];refs&&(Ext.isObject(refs)?Ext.Object.each(refs,function(key,value){Ext.isString(value)&&(value={selector:value});value.ref=key;newRefs.push(value)}):Ext.isArray(refs)&&(newRefs=Ext.Array.merge(newRefs,refs)));if(refs=this.refs)this.refs=null,(refs=this.normalizeRefs(refs))&&(newRefs=Ext.Array.merge(newRefs,refs));return newRefs},getRefMap:function(){var refMap=this._refMap,ln;if(!refMap){var refs=this.getRefs();refMap=this._refMap={};if(refs){var i=
0;for(ln=refs.length;i<ln;i++){var ref=refs[i];refMap[ref.ref]=ref.selector}}}return refMap},applyId:function(id){return id||Ext.app.Controller.getFullName(this.$className,'controller',this.$namespace).shortName},applyRefs:function(refs){return this.normalizeRefs(Ext.clone(refs))},updateRefs:function(refs){refs&&this.ref(refs)},initAutoGetters:function(){var proto=this.self.prototype,prop,fn;for(prop in proto)(fn=proto[prop])&&fn['Ext.app.getter']&&fn.call(this)},doInit:function(app){this._initialized||
(this.init(app),this._initialized=!0)},finishInit:function(app){var controllers=this.controllers,l;if(this._initialized&&controllers&&controllers.length){var i=0;for(l=controllers.length;i<l;i++){var controller=this.getController(controllers[i]);controller.finishInit(app)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(!0)},deactivate:function(){this.setActive(!1)},isActive:function(){return this.getActive()},ref:function(refs){var i=0,length=refs.length;refs=Ext.Array.from(refs);
for(this.references=this.references||[];i<length;i++){var info=refs[i];var ref=info.ref;var fn='get'+Ext.String.capitalize(ref);this[fn]||(this[fn]=Ext.Function.pass(this.getRef,[ref,info],this));this.references.push(ref.toLowerCase())}},addRef:function(refs){this.ref(refs)},getRef:function(ref,info,config){var refCache=this.refCache||(this.refCache={}),cached=refCache[ref];info=info||{};config=config||{};Ext.apply(info,config);if(info.forceCreate)return Ext.ComponentManager.create(info,'component');
if(!cached&&(info.selector&&(refCache[ref]=cached=Ext.ComponentQuery.query(info.selector)[0]),!cached&&info.autoCreate&&(refCache[ref]=cached=Ext.ComponentManager.create(info,'component')),cached))cached.on('destroy',function(){refCache[ref]=null});return cached},hasRef:function(ref){var references=this.references;return references&&-1!==Ext.Array.indexOf(references,ref.toLowerCase())},getController:function(id){var app=this.getApplication();return id===this.getId()?this:app&&app.getController(id)},
getStore:function(name){var storeId=-1===name.indexOf('@')?name:name.split('@')[0];var store=Ext.StoreManager.get(storeId);store||(name=Ext.app.Controller.getFullName(name,'store',this.$namespace))&&(store=Ext.create(name.absoluteName,{id:storeId}));return store},getModel:function(modelName){var name=Ext.app.Controller.getFullName(modelName,'model',this.$namespace);(name=Ext.ClassManager.get(name.absoluteName))||(name=Ext.data.schema.Schema.lookupEntity(modelName));return name},getProfile:function(name){return name=
Ext.app.Controller.getFullName(name,'profile',this.$namespace)},getView:function(view){return(view=Ext.app.Controller.getFullName(view,'view',this.$namespace))&&Ext.ClassManager.get(view.absoluteName)},destroy:function(destroyRefs,fromApp){var app=this.application,ref;!fromApp&&app&&app.unregister(this);this.application=null;if(destroyRefs)for(ref in destroyRefs=this.refCache,destroyRefs)destroyRefs.hasOwnProperty(ref)&&Ext.destroy(destroyRefs[ref]);Ext.app.BaseController.prototype.destroy.call(this)}},
1,0,0,0,0,0,[Ext.app,'Controller'],0);
Ext.cmd.derive('Ext.app.Application',Ext.app.Controller,{isApplication:!0,scope:void 0,namespaces:[],paths:null,config:{name:'',appProperty:'app',profiles:[],currentProfile:null,mainView:{$value:null,lazy:!0},defaultToken:null,glyphFontFamily:null,quickTips:!0,router:null},onClassExtended:function(cls$jscomp$0,data$jscomp$0,hooks){var Controller=Ext.app.Controller,proto=cls$jscomp$0.prototype,requires=[],namespace;if(namespace=data$jscomp$0.name||cls$jscomp$0.superclass.name)data$jscomp$0.$namespace=namespace,
Ext.app.addNamespaces(namespace);data$jscomp$0.namespaces&&Ext.app.addNamespaces(data$jscomp$0.namespaces);data$jscomp$0['paths processed']?delete data$jscomp$0['paths processed']:Ext.app.setupPaths(namespace,'appFolder'in data$jscomp$0?data$jscomp$0.appFolder:cls$jscomp$0.superclass.appFolder,data$jscomp$0.paths);Controller.processDependencies(proto,requires,namespace,'profile',data$jscomp$0.profiles);proto.getDependencies(cls$jscomp$0,data$jscomp$0,requires);if(requires.length){var onBeforeClassCreated=
hooks.onBeforeCreated;hooks.onBeforeCreated=function(cls,data){var args=Ext.Array.clone(arguments);Ext.require(requires,function(){return onBeforeClassCreated.apply(this,args)})}}},getDependencies:Ext.emptyFn,constructor:function(config){var App=Ext.app.Application;Ext.route.Router.application=this;App.instance||(App.instance=this);Ext.app.Controller.prototype.constructor.call(this,config);this.doInit(this);Ext.on('appupdate',this.onAppUpdate,this,{single:!0});this.onProfilesReady()},applyId:function(id){return id||
this.$className},updateRouter:function(cfg){cfg&&Ext.route.Router.setConfig(cfg)},onAppUpdate:Ext.emptyFn,onProfilesReady:function(){var profiles=this.getProfiles(),length=profiles.length,i;for(i=0;i<length;i++){var instance=Ext.create(profiles[i],{application:this});if(instance.isActive()&&!current){var current=instance;this.setCurrentProfile(current)}}current&&current.init();this.initControllers();this.onBeforeLaunch();this.finishInitControllers();Ext.fireEvent('applaunch',this)},doInit:function(app){this.initNamespace(app);
Ext.app.Controller.prototype.doInit.call(this,app)},initNamespace:function(me){var appProperty=me.getAppProperty(),ns=Ext.namespace(me.getName());ns&&(ns.getApplication=function(){return me},appProperty&&(ns[appProperty]||(ns[appProperty]=me)))},initControllers:function(){var controllers=Ext.Array.from(this.controllers),profile=this.getCurrentProfile(),ln;this.controllers=new Ext.util.MixedCollection;var i=0;for(ln=controllers.length;i<ln;i++)this.getController(controllers[i]);if(profile)for(controllers=
profile.getControllers(),i=0,ln=controllers.length;i<ln;i++)this.getController(controllers[i])},finishInitControllers:function(){var l;var controllers=this.controllers.getRange();var i=0;for(l=controllers.length;i<l;i++)controllers[i].finishInit(this)},launch:Ext.emptyFn,onBeforeLaunch:function(){var History=Ext.util.History,defaultToken=this.getDefaultToken(),currentProfile=this.getCurrentProfile(),c;this.initMainView();currentProfile&&currentProfile.launch();this.launch.call(this.scope||this);this.launched=
!0;this.fireEvent('launch',this);currentProfile=this.controllers.items;var cLen=currentProfile.length;for(c=0;c<cLen;c++){var controller=currentProfile[c];controller.onLaunch(this)}History.ready||History.init();if((currentProfile=History.getToken())||currentProfile===defaultToken)Ext.route.Router.onStateChange(currentProfile);else defaultToken&&History.replace(defaultToken);Ext.Microloader&&Ext.Microloader.appUpdate&&Ext.Microloader.appUpdate.updated&&Ext.Microloader.fireAppUpdate();this.cnsTimer||
(this.cnsTimer=Ext.defer(Ext.ClassManager.clearNamespaceCache,2E3,Ext.ClassManager))},getModuleClassName:function(name,kind){return Ext.app.Controller.getFullName(name,kind,this.getName()).absoluteName},initMainView:function(){var currentProfile=this.getCurrentProfile(),mainView;currentProfile&&(mainView=currentProfile.getMainView());mainView?this.setMainView(mainView):this.getMainView()},applyMainView:function(value){return this.getView(value).create({$initParent:this.viewport})},createController:function(name){return this.getController(name)},
destroyController:function(controller){'string'===typeof controller&&(controller=this.getController(controller,!0));Ext.destroy(controller)},getController:function(name,preventCreate){var controllers=this.controllers,className,len;var controller=controllers.get(name);if(!controller){var all=controllers.items;var i=0;for(len=all.length;i<len;++i){var c=all[i];if((className=c.getModuleClassName())&&className===name){controller=c;break}}}controller||preventCreate||(className=this.getModuleClassName(name,
'controller'),controller=Ext.create(className,{application:this,moduleClassName:className}),controllers.add(controller),this._initialized&&controller.doInit(this));return controller},unregister:function(controller){this.controllers.remove(controller)},getApplication:function(){return this},destroy:function(destroyRefs){var controllers=this.controllers,ns=Ext.namespace(this.getName()),appProp=this.getAppProperty();Ext.undefer(this.cnsTimer);Ext.un('appupdate',this.onAppUpdate,this);Ext.destroy(this.viewport);
controllers&&controllers.each(function(controller){controller.destroy(destroyRefs,!0)});this.controllers=null;Ext.app.Controller.prototype.destroy.call(this,destroyRefs,!0);ns&&ns[appProp]===this&&delete ns[appProp];Ext.route.Router.application===this&&(Ext.route.Router.application=null);Ext.app.Application.instance===this&&(Ext.app.Application.instance=null)},updateGlyphFontFamily:function(fontFamily){Ext.setGlyphFontFamily(fontFamily)},applyProfiles:function(profiles){var me=this;return Ext.Array.map(profiles,
function(profile){return me.getModuleClassName(profile,'profile')})}},1,0,0,0,0,0,[Ext.app,'Application'],function(){Ext.getApplication=function(){return Ext.app.Application.instance}});
Ext.application=function(config){var createApp=function(App){Ext.onReady(function(){var Viewport=Ext.viewport;(Viewport=Viewport&&Viewport.Viewport)&&Viewport.setup&&Viewport.setup(App.prototype.config.viewport);Ext.app.Application.instance=new App})};'string'===typeof config?Ext.require(config,function(){createApp(Ext.ClassManager.get(config))}):(config=Ext.apply({extend:'Ext.app.Application'},config),Ext.app.setupPaths(config.name,config.appFolder,config.paths),config['paths processed']=!0,Ext.define(config.name+
'.$application',config,function(){createApp(this)}))};
Ext.define('Ext.overrides.app.Application',{override:'Ext.app.Application',autoCreateViewport:!1,config:{enableQuickTips:null},quickTips:!0,updateEnableQuickTips:function(enableQuickTips){this.setQuickTips(enableQuickTips)},applyMainView:function(mainView){if('string'===typeof mainView){mainView=this.getView(mainView);var config={}}else config=mainView,mainView=Ext.ClassManager.getByConfig(mainView);var proto=mainView.prototype;if(!proto.isViewport){proto=Ext.Array.from(proto.plugins);var configPlugins=
Ext.Array.from(config.plugins);config=Ext.apply({},config);config.plugins=['viewport'].concat(proto,configPlugins)}return mainView.create(config)},getDependencies:function(cls,data,requires){var Controller=Ext.app.Controller;cls=cls.prototype;var namespace=data.$namespace;if(data=data.autoCreateViewport)!0===data?data='Viewport':requires.push('Ext.plugin.Viewport'),Controller.processDependencies(cls,requires,namespace,'view',data)},onBeforeLaunch:function(){var autoCreateViewport=this.autoCreateViewport;
this.getQuickTips()&&this.initQuickTips();autoCreateViewport&&this.initViewport();arguments.callee.$previous.apply(this,arguments)},getViewportName:function(){var name=null,autoCreate=this.autoCreateViewport;autoCreate&&(name=!0===autoCreate?'Viewport':autoCreate);return name},initViewport:function(){this.setMainView(this.getViewportName())},initQuickTips:function(){Ext.tip.QuickTipManager.init()}});
Ext.cmd.derive('Ext.app.domain.View',Ext.app.EventDomain,{isInstance:!0,constructor:function(controller){Ext.app.EventDomain.prototype.constructor.call(this,controller);this.controller=controller;this.monitoredClasses=[Ext.Widget]},match:function(target,selector,controller){return'#'===selector?controller===target.getController():target.is(selector)},destroy:function(){this.controller=null;Ext.app.EventDomain.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app.domain,'View'],0);
Ext.define('Ext.overrides.app.domain.View',{override:'Ext.app.domain.View',constructor:function(controller){(arguments.callee.$previous||Ext.app.EventDomain.prototype.constructor).call(this,controller);this.monitoredClasses.push(Ext.Component)}});
Ext.cmd.derive('Ext.app.ViewController',Ext.app.BaseController,{isViewController:!0,factoryConfig:{type:'controller'},config:{bindings:{$value:null,lazy:!0},closeViewAction:'destroy'},view:null,constructor:function(config){this.compDomain=new Ext.app.domain.View(this);Ext.app.BaseController.prototype.constructor.call(this,config)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var domain=this.compDomain,b,key;if(this.$hasBinds){var bind=this.getBindings();for(key in bind)(b=
bind[key])&&b.destroy()}domain&&(domain.unlisten(this),domain.destroy());this.compDomain=this.view=null;Ext.app.BaseController.prototype.destroy.call(this)},closeView:function(){var view=this.getView();if(view){var action=this.getCloseViewAction();view[action]()}},control:function(selectors,listeners){var obj=selectors;Ext.isString(selectors)&&(obj={},obj[selectors]=listeners);this.compDomain.listen(obj,this)},listen:function(to,controller){var component=to.component;component&&(to=Ext.apply({},to),
delete to.component,this.control(component));this.callParent([to,controller])},applyId:function(id){id||(id=Ext.id(null,'controller-'));return id},getReferences:function(){var view=this.view;return view&&view.getReferences()},getView:function(){return this.view},lookup:function(key){var view=this.view;return view&&view.lookup(key)},lookupReference:function(key){return this.lookup(key)},getSession:function(){var view=this.view;return view&&view.lookupSession()},getViewModel:function(){var view=this.view;
return view&&view.lookupViewModel()},getStore:function(name){var viewModel=this.getViewModel();return viewModel?viewModel.getStore(name):null},fireViewEvent:function(eventName,args){var view=this.view,result=!1,a=arguments;view&&(view!==args&&(a=Ext.Array.slice(a),a.splice(1,0,view)),result=view.fireEvent.apply(view,a));return result},applyBindings:function(bindings){if(!bindings)return null;var viewModel=this.getViewModel(),getBindTemplateScope=this.getBindTemplateScope(),fn;this.$hasBinds=!0;for(fn in bindings){var descriptor=
bindings[fn];var b=null;descriptor&&(b=viewModel.bind(descriptor,fn,this),b.getTemplateScope=getBindTemplateScope);bindings[fn]=b}return bindings},privates:{view:null,attachReference:function(component){var view=this.view;view&&view.attachReference(component)},getBindTemplateScope:function(){return this.scope},initBindings:function(){this.getBindings()},setView:function(view){this.view=view;this.beforeInit.$nullFn||this.beforeInit(view)}}},1,0,0,0,['controller.controller'],[[Ext.mixin.Factoryable.prototype.mixinId||
Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.app,'ViewController'],0);
Ext.cmd.derive('Ext.util.Bag',Ext.Base,{isBag:!0,constructor:function(){this.items=[];this.map={}},generation:0,length:0,beginUpdate:Ext.emptyFn,endUpdate:Ext.emptyFn,add:function(item){var items=this.items,map=this.map,n=1,i,it,ret;if(Ext.isArray(item)){var old=ret=[];n=item.length}for(i=0;i<n;i++){var id=this.getKey(it=old?item[i]:item);var idx=map[id];void 0===idx?(items.push(it),map[id]=this.length++,old?old.push(it):ret=it):(id=items[idx],old?old.push(id):ret=id,items[idx]=it)}++this.generation;
return ret},clear:function(){var needsClear=this.generation||this.length,ret=needsClear?this.items:[];needsClear&&(this.items=[],this.length=0,this.map={},++this.generation);return ret},clone:function(){var ret=new this.self;this.length&&(Ext.apply(ret.map,this.map),ret.items=this.items.slice(),ret.length=this.length);return ret},contains:function(item){var ret=!1,map=this.map;if(null!=item){var key=this.getKey(item);key in map&&(ret=this.items[map[key]]===item)}return ret},containsKey:function(key){return key in
this.map},destroy:function(){this.items=this.map=null;this.callParent()},each:function(fn,scope){var items=this.items,len=items.length,i;if(len)for(scope=scope||this,items=items.slice(0),i=0;i<len;i++){var ret=fn.call(scope,items[i],i,len);if(!1===ret)break}return ret},getAt:function(index){var out=null;index<this.length&&(out=this.items[index]);return out},get:function(key){return this.getByKey(key)},getByKey:function(key){var map=this.map;return key in map?this.items[map[key]]:null},indexOfKey:function(key){var map=
this.map;return key in map?map[key]:-1},last:function(){return this.items[this.length-1]},updateKey:function(item,oldKey){var map=this.map,newKey;!item||!oldKey||(newKey=this.getKey(item))===oldKey||this.getAt(map[oldKey])!==item||newKey in map||(this.generation++,map[newKey]=map[oldKey],delete map[oldKey])},getCount:function(){return this.length},getKey:function(item){return item.id||item.getId()},getRange:function(begin,end){var items=this.items,length=items.length;length?(begin=Ext.Number.clipIndices(length,
[begin,end]),begin=items.slice(begin[0],begin[1])):begin=[];return begin},remove:function(item){var map=this.map,items=this.items,ret=null,n=1,i,id;if(Ext.isArray(item)){n=item.length;var old=ret=[]}if(this.length){for(i=0;i<n;i++){var idx=map[id=this.getKey(old?item[i]:item)];if(void 0!==idx){delete map[id];var changed=items[idx];old?old.push(changed):ret=changed;changed=items.pop();idx<--this.length&&(items[idx]=changed,map[this.getKey(changed)]=idx);changed=!0}}changed&&++this.generation}return ret},
removeByKey:function(key){(key=this.getByKey(key))&&this.remove(key);return key||null},replace:function(item){this.add(item);return item},sort:function(fn){var items=this.items,n=items.length;if(n){Ext.Array.sort(items,fn);for(this.map={};0<n--;)fn=items[n],this.map[this.getKey(fn)]=n;++this.generation}}},1,0,0,0,0,0,[Ext.util,'Bag'],0);
Ext.cmd.derive('Ext.util.Scheduler',Ext.Base,{busyCounter:0,lastBusyCounter:0,destroyed:!1,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},suspendOnNotify:!0,constructor:function(config){this.mixins.observable.constructor.call(this,config);this.items=new Ext.util.Bag},destroy:function(){var timer=this.timer;timer&&(window.clearTimeout(timer),this.timer=null);this.items.destroy();this.items=this.orderedItems=
null;this.callParent()},add:function(item){var items=this.items;items===this.firing&&(this.items=items=items.clone());item.id=item.id||++this.nextId;item.scheduler=this;items.add(item);this.sortMap||(this.orderedItems=null)},remove:function(item){var items=this.items;this.destroyed||(items===this.firing&&(this.items=items=items.clone()),item.scheduled&&(this.unscheduleItem(item),item.scheduled=!1),items.remove(item),this.orderedItems=null)},sort:function(){var items=this.items,sortMap={},preSort=
this.getPreSort();this.orderedItems=[];this.sortMap=sortMap;preSort&&items.sort(preSort);items=items.items;for(preSort=0;preSort<items.length;++preSort){var item=items[preSort];sortMap[item.id]||this.sortItem(item)}this.sortMap=null},sortItem:function(item){var sortMap=this.sortMap,orderedItems=this.orderedItems;item.scheduler||this.add(item);var itemId=item.id;itemId in sortMap||(sortMap[itemId]=0,item.sort.$nullFn||item.sort(),sortMap[itemId]=1,item.order=this.orderedItems.length,orderedItems.push(item));
return this},sortItems:function(items){var sortItem=this.sortItem;items&&(items instanceof Array?Ext.each(items,sortItem,this):Ext.Object.eachValue(items,sortItem,this));return this},applyPreSort:function(preSort){if('function'===typeof preSort)return preSort;var parts=preSort.split(','),direction=[],length=parts.length,c;for(preSort=0;preSort<length;++preSort){direction[preSort]=1;var s=parts[preSort];'-'===(c=s.charAt(0))?direction[preSort]=-1:'+'!==c&&(c=0);c&&(parts[preSort]=s.substring(1))}return function(lhs,
rhs){var ret=0,i;for(i=0;!ret&&i<length;++i){var prop=parts[i];ret=lhs[prop];prop=rhs[prop];ret=direction[i]*(ret<prop?-1:prop<ret?1:0)}return ret}},notify:function(){var timer=this.timer,cyclesLeft=this.getCycleLimit(),globalEvents=Ext.GlobalEvents,suspend=this.suspendOnNotify,len,queue;timer&&(window.clearTimeout(timer),this.timer=null);if(!this.firing&&this.scheduledCount){for(suspend&&Ext.suspendLayouts();this.scheduledCount;){if(cyclesLeft)--cyclesLeft;else{this.firing=null;break}if(!firedEvent){var firedEvent=
!0;globalEvents.hasListeners.beforebindnotify&&globalEvents.fireEvent('beforebindnotify',this)}++this.passes;(queue=this.orderedItems)||(this.sort(),queue=this.orderedItems);if(len=queue.length)for(this.firing=this.items,timer=0;timer<len;++timer){var item=queue[timer];if(item.scheduled&&(item.scheduled=!1,--this.scheduledCount,this.notifyIndex=timer,item.react(),!this.scheduledCount))break}}this.firing=null;this.notifyIndex=-1;suspend&&Ext.resumeLayouts(!0)}(cyclesLeft=this.busyCounter)!==this.lastBusyCounter&&
((this.lastBusyCounter=cyclesLeft)||this.fireEvent('idle',this))},onTick:function(){this.timer=null;this.notify()},scheduleItem:function(item){++this.scheduledCount;this.timer||this.firing||this.scheduleTick()},scheduleTick:function(){this.destroyed||this.timer||(this.timer=Ext.defer(this.onTick,this.getTickDelay(),this))},unscheduleItem:function(item){this.scheduledCount&&--this.scheduledCount},adjustBusy:function(adjustment){(this.busyCounter=adjustment=this.busyCounter+adjustment)?this.lastBusyCounter||
(this.lastBusyCounter=adjustment,this.fireEvent('busy',this)):this.lastBusyCounter&&!this.timer&&this.scheduleTick()},isBusy:function(){return!this.isIdle()},isIdle:function(){return!(this.busyCounter+this.lastBusyCounter)}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,'Scheduler'],0);
Ext.cmd.derive('Ext.data.Batch',Ext.Base,{config:{pauseOnException:!1},current:-1,total:0,running:!1,complete:!1,exception:!1,constructor:function(config){this.mixins.observable.constructor.call(this,config);this.operations=[];this.exceptions=[]},add:function(operation){var len;if(Ext.isArray(operation)){var i=0;for(len=operation.length;i<len;++i)this.add(operation[i])}else this.total++,operation.setBatch(this),this.operations.push(operation);return this},sort:function(){this.operations.sort(this.sortFn)},
sortFn:function(operation1,operation2){var ret=operation1.order-operation2.order;if(ret)return ret;ret=operation1.entityType;operation2=operation2.entityType;var rank;if(!ret||!operation2)return 0;(rank=ret.rank)||(ret.schema.rankEntities(),rank=ret.rank);return(rank-operation2.rank)*operation1.foreignKeyDirection},start:function(index){if(this.destroyed||!this.operations.length||this.running)return this;this.exceptions.length=0;this.exception=!1;this.running=!0;return this.runOperation(Ext.isDefined(index)?
index:this.current+1)},abort:function(){if(this.running){var op=this.getCurrent();op.destroyed||op.abort()}this.running=!1;this.aborted=!0;this.current=void 0},retry:function(){return this.start(this.current)},runNextOperation:function(){this.running&&this.runOperation(this.current+1);return this},pause:function(){this.running=!1;return this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var out=null,current=this.current;-1===
current||this.complete||(out=this.operations[current]);return out},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(index){var operations=this.operations,operation=operations[index];void 0===operation?(this.running=!1,this.complete=!0,this.fireEvent('complete',this,operations[operations.length-1])):(this.current=index,operation.setInternalCallback(this.onOperationComplete),
operation.setInternalScope(this),operation.execute());return this},onOperationComplete:function(operation){var exception=operation.hasException();exception&&(this.exception=!0,this.exceptions.push(operation),this.fireEvent('exception',this,operation));exception&&this.getPauseOnException()?this.pause():(this.fireEvent('operationcomplete',this,operation),this.runNextOperation())},destroy:function(){var operations=this.operations,op,len;this.running&&this.abort();var i=0;for(len=this.operations.length;i<
len;i++)if(op=operations[i])op.destroyed||op.$destroyOwner||op.destroy(),op[i]=null;this.operations=this.exceptions=null;this.callParent()}},1,0,0,0,0,[['observable',Ext.mixin.Observable]],[Ext.data,'Batch'],0);
Ext.cmd.derive('Ext.data.matrix.Slice',Ext.Base,{constructor:function(side,id){this.id=id;this.side=side;this.members={}},attach:function(store){this.store=store;store.matrix=this;store.on('load',this.onStoreLoad,this,{single:!0})},commit:function(){var members=this.members,id;for(id in members)members[id][2]=0},onStoreLoad:function(store){this.update(store.getData().items,0)},update:function(recordsOrIds,state){var MatrixSlice=Ext.data.matrix.Slice,side=this.side,assocIndex=side.index,length=recordsOrIds.length,
id=this.id,members=this.members;side=side.inverse;var otherSlices=side.slices,i,otherSlice;for(i=0;i<length;++i){var call=null;var assoc=recordsOrIds[i];var otherId=assoc.isEntity?assoc.id:assoc;assoc=members[otherId];0>state&&assoc&&1===assoc[2]?(delete members[otherId],(otherSlice=otherSlices[otherId])&&delete otherSlice.members[id],call=1):assoc?state===assoc[2]||0===state||1===state&&0===assoc[2]||(assoc[2]=state,otherSlice=otherSlices[otherId],call=1):(assoc=[otherId,otherId,state],assoc[assocIndex]=
id,members[otherId]=assoc,(otherSlice=otherSlices[otherId])||(otherSlices[otherId]=otherSlice=new MatrixSlice(side,otherId)),otherSlice.members[id]=assoc,call=1);call&&(this.notify&&this.notify.call(this.scope,this,otherId,state),otherSlice&&otherSlice.notify&&otherSlice.notify.call(otherSlice.scope,otherSlice,id,state))}},updateId:function(newId){var oldId=this.id,side=this.side,slices=side.slices,slice=slices[oldId],members=slice.members,index=side.index;side=side.inverse.slices;var otherId;this.id=
newId;slices[newId]=slice;delete slices[oldId];for(otherId in members)slices=members[otherId],slices[index]=newId,slices=side[otherId].members,slices[newId]=slices[oldId],delete slices[oldId]},destroy:function(){var store=this.store;store&&(store.matrix=null,store.un('load',this.onStoreLoad,this));this.notify=this.scope=this.store=this.side=this.members=null;this.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,'Slice'],0);
Ext.cmd.derive('Ext.data.matrix.Side',Ext.Base,{constructor:function(matrix,index,role){this.matrix=matrix;this.index=index;this.role=role;this.slices={}},commit:function(){var slices=this.slices,id;for(id in slices)slices[id].commit()},get:function(id1,id2){var slices=this.slices;id1=slices[id1]||(slices[id1]=new Ext.data.matrix.Slice(this,id1));return id2||0===id2?id1.members[id2]:id1},update:function(id1,id2,state){return this.get(id1).update(id2,state)},updateId:function(oldId,newId){(oldId=this.get(oldId))&&
oldId.updateId(newId)},destroy:function(){var slices=this.slices,id;for(id in slices)slices[id].destroy();this.inverse=this.matrix=this.role=this.slices=null;this.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,'Side'],0);
Ext.cmd.derive('Ext.data.matrix.Matrix',Ext.Base,{constructor:function(session,matrix){matrix=matrix.isManyToMany?matrix:session.getSchema().getAssociation(matrix);var Side=Ext.data.matrix.Side,left=new Side(this,0,matrix.left);Side=new Side(this,1,matrix.right);this.association=matrix;this.session=session;this.left=left;this.right=Side;left.inverse=Side;Side.inverse=left},commit:function(){this.left.commit();this.right.commit()},update:function(id1,id2,state){return this.left.update(id1,id2,state)},
updateId:function(record,oldId,newId){record=record.self;var left=this.left,right=this.right,matchSide;record===left.role.cls&&(matchSide=left);record===right.role.cls&&(matchSide=right);matchSide&&matchSide.updateId(oldId,newId)},destroy:function(){this.left.destroy();this.right.destroy();this.association=this.session=this.left=this.right=null;this.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,'Matrix'],0);
Ext.cmd.derive('Ext.data.session.ChangesVisitor',Ext.Base,{constructor:function(session){this.session=session;session=session.getCrudProperties();this.result=null;this.writerOptions={};this.createKey=session.create;this.readKey=session.read;this.updateKey=session.update;this.dropKey=session.drop},onDirtyRecord:function(record){var crud=record.phantom;var dropped=record.dropped,type=record.$className,prop=crud||dropped?'allDataOptions':'partialDataOptions',writerOptions=this.writerOptions,name=record.entityName;
if(crud&&dropped)return!1;crud=crud?this.createKey:dropped?this.dropKey:this.updateKey;writerOptions=writerOptions[type]||(writerOptions[type]={});if(dropped&&((dropped=writerOptions.drop)||(writerOptions.drop=dropped={all:record.getProxy().getWriter().getWriteAllFields()}),!dropped.all))var entry=record.id;entry||((dropped=writerOptions[prop])||(dropped=record.getProxy().getWriter().getConfig(prop),writerOptions[prop]=dropped=Ext.Object.chain(dropped),this.setupOptions(dropped)),entry=record.getData(dropped));
record=this.result||(this.result={});name=record[name]||(record[name]={});name=name[crud]||(name[crud]=[]);name.push(entry)},setupOptions:function(options){options.serialize=!0},onMatrixChange:function(association,id1,id2,state){var name=association.left.type;association=association.right.role;state=0>state?this.dropKey:this.createKey;var result=this.result||(this.result={});name=result[name]||(result[name]={});name=name[association]||(name[association]={});name=name[state]||(name[state]={});name=
name[id1]||(name[id1]=[]);name.push(id2)}},1,0,0,0,0,0,[Ext.data.session,'ChangesVisitor'],0);
Ext.cmd.derive('Ext.data.session.ChildChangesVisitor',Ext.data.session.ChangesVisitor,{constructor:function(){this.seen={};Ext.data.session.ChangesVisitor.prototype.constructor.apply(this,arguments)},setupOptions:function(options){Ext.data.session.ChangesVisitor.prototype.setupOptions.call(this,options);options.serialize=!1},onDirtyRecord:function(record){!1!==Ext.data.session.ChangesVisitor.prototype.onDirtyRecord.apply(this,arguments)&&(record.$source||!record.dropped&&record.phantom||this.readEntity(record))},
readEntity:function(record){var readKey=this.readKey,name=record.entityName,seen=this.seen,seenKey=name+record.id;seen[seenKey]||(seen[seenKey]=!0,seen=this.result||(this.result={}),name=seen[name]||(seen[name]={}),name=name[readKey]||(name[readKey]=[]),name.push(Ext.apply({},record.modified,record.data)))}},1,0,0,0,0,0,[Ext.data.session,'ChildChangesVisitor'],0);
Ext.cmd.derive('Ext.data.session.BatchVisitor',Ext.Base,{map:null,constructor:function(batch){this.batch=batch},getBatch:function(sort){var map=this.map,batch=this.batch,name,operationType,len;if(map)for(name in batch||(batch=new Ext.data.Batch),map){var bucket=map[name];var entity=bucket.entity;var proxy=entity.getProxy();var batchActions=proxy.getBatchActions();delete bucket.entity;for(operationType in bucket)if(batchActions){var operation=proxy.createOperation(operationType,{records:bucket[operationType]});
operation.entityType=entity;batch.add(operation)}else{var records=bucket[operationType];var i=0;for(len=records.length;i<len;++i)operation=proxy.createOperation(operationType,{records:[records[i]]}),operation.entityType=entity,batch.add(operation)}}batch&&!1!==sort&&batch.sort();return batch},onDirtyRecord:function(record){var operation=record.phantom?'create':record.dropped?'destroy':'update',name=record.$className,map=this.map||(this.map={});name=map[name]||(map[name]={entity:record.self});name=
name[operation]||(name[operation]=[]);name.push(record)}},1,0,0,0,0,0,[Ext.data.session,'BatchVisitor'],0);
Ext.define('conjoon.overrides.Ext.data.session.BatchVisitor',{override:'Ext.data.session.BatchVisitor',getBatch:function(sort){var map=this.map,batch=this.batch,name,operationType,len;if(map)for(name in batch||(batch=new Ext.data.Batch),map){var bucket=map[name];var entity=bucket.entity;var proxy=entity.getProxy();var batchActions=proxy.getBatchActions();delete bucket.entity;for(operationType in bucket)if(batchActions){var operation=proxy.createOperation(operationType,{records:bucket[operationType]});
operation.entityType=entity;batch.add(operation)}else{var records=bucket[operationType];var i=0;for(len=records.length;i<len;++i)operation=proxy.createOperation(operationType,{records:[records[i]]}),operation.entityType=entity,batch.add(operation)}}batch&&!1!==sort&&batch.sort();return batch}});
Ext.cmd.derive('Ext.mixin.Dirty',Ext.Base,{mixinId:'dirty',config:{dirty:{$value:!1,lazy:!0}},dirty:!1,_dirtyRecordCount:0,ignoreDirty:!1,recordStateIsDirtyState:!0,isDirty:function(){return this.getDirty()},applyDirty:function(dirty){return this.ignoreDirty?!1:dirty},updateDirty:function(dirty){this.dirty=dirty;this.fireEvent&&!this.isDirtyInitializing&&this.fireDirtyChange()},clearRecordStates:function(){var counters=this._crudCounters;counters&&(counters.C=counters.U=counters.D=0);this._dirtyRecordCount=
0;this.recordStateIsDirtyState&&this.setDirty(!1)},fireDirtyChange:function(){!this.ignoreDirty&&this.hasListeners.dirtychange&&this.fireEvent('dirtychange',this,this.dirty)},trackRecordState:function(record,initial){var counters=this._crudCounters||(this._crudCounters={C:0,R:0,U:0,D:0}),dirtyRecordCountWas=this._dirtyRecordCount,state=record.crudState,stateWas=record.crudStateWas,changed;if(initial||state!==stateWas)!initial&&stateWas&&--counters[stateWas],record.phantom&&'D'===state||++counters[state],
this._dirtyRecordCount=record=counters.C+counters.U+counters.D,(changed=!record!==!dirtyRecordCountWas)&&this.recordStateIsDirtyState&&this.setDirty(0<record);return changed},untrackRecordState:function(record){var counters=this._crudCounters,dirtyRecordCountWas=this._dirtyRecordCount,state=record.crudState,changed;counters&&'D'!==state&&!record.erased&&(--counters[state],this._dirtyRecordCount=record=counters.C+counters.U+counters.D,(changed=!record!==!dirtyRecordCountWas)&&this.recordStateIsDirtyState&&
this.setDirty(0<record));return changed}},0,0,0,0,0,0,[Ext.mixin,'Dirty'],0);
Ext.cmd.derive('Ext.data.Session',Ext.Base,{isSession:!0,config:{schema:'default',parent:null,autoDestroy:!0,crudProperties:{create:'C',read:'R',update:'U',drop:'D'}},crudOperations:[{type:'R',entityMethod:'readEntities'},{type:'C',entityMethod:'createEntities'},{type:'U',entityMethod:'updateEntities'},{type:'D',entityMethod:'dropEntities'}],crudKeys:{C:1,R:1,U:1,D:1},statics:{nextId:1},constructor:function(config){this.data={};this.matrices={};this.id=Ext.data.Session.nextId++;this.identifierCache=
{};this.recordCreator=this.recordCreator.bind(this);this.mixins.observable.constructor.call(this,config)},destroy:function(){var matrices=this.matrices,data=this.data,entityName,record,id;for(id in matrices)matrices[id].destroy();for(entityName in data)for(id in matrices=data[entityName],matrices)if(record=matrices[id].record)record.$source=null,record.unjoin(this);this.identifierCache=this.recordCreator=this.matrices=this.data=null;this.setSchema(null);this.callParent()},adopt:function(record){var associations=
record.associations,roleName;if(record.session!==this&&(this.add(record),associations))for(roleName in associations)associations[roleName].adoptAssociated(record,this)},commit:function(){var data=this.data,matrices=this.matrices,dirtyWas=this.getDirty(),entityName,id,record;this.suspendEvent('dirtychange');for(entityName in data){var entities=data[entityName];for(id in entities)(record=entities[id].record)&&record.commit()}for(id in matrices)matrices[id].commit();this.clearRecordStates();this.resumeEvent('dirtychange');
this.getDirty()!==dirtyWas&&this.fireDirtyChange()},createRecord:function(type,data,preventAdd){type=type.$isClass?type:this.getSchema().getEntity(type);var parent=this.getParent();if(data&&parent){var id=type.getIdFromData(data);parent.peekRecord(type,id)&&Ext.raise('A parent session already contains an entry for '+type.entityName+': '+id)}return new type(data,preventAdd?null:this)},getChanges:function(){var visitor=new Ext.data.session.ChangesVisitor(this);this.visitData(visitor);return visitor.result},
getChangesForParent:function(){var visitor=new Ext.data.session.ChildChangesVisitor(this);this.visitData(visitor);return visitor.result},getRecord:function(type,id,autoLoad){var wasInstance=type.isModel,parent,parentRec;wasInstance&&(wasInstance=type,id=type.id,type=type.self);var record=this.peekRecord(type,id);record||(type=type.$isClass?type:this.getSchema().getEntity(type),(parent=this.getParent())&&(parentRec=parent.peekRecord(type,id)),parentRec&&(parentRec.isLoading()?wasInstance=!1:(record=
parentRec.copy(void 0,this),record.$source=parentRec)),record||(wasInstance?(record=wasInstance,this.adopt(record)):(record=type.createWithId(id,null,this),!1!==autoLoad&&record.load(Ext.isObject(autoLoad)?autoLoad:void 0))));return record},getSaveBatch:function(sort){var visitor=new Ext.data.session.BatchVisitor;this.visitData(visitor);return visitor.getBatch(sort)},onInvalidAssociationEntity:function(entityType,id){Ext.raise('Unable to read association entity: '+this.getModelIdentifier(entityType,
id))},onInvalidEntityCreate:function(entityType,id){Ext.raise('Cannot create, record already not exists: '+this.getModelIdentifier(entityType,id))},onInvalidEntityDrop:function(entityType,id){Ext.raise('Cannot drop, record does not exist: '+this.getModelIdentifier(entityType,id))},onInvalidEntityRead:function(entityType,id){Ext.raise('Cannot read, record already not exists: '+this.getModelIdentifier(entityType,id))},onInvalidEntityUpdate:function(entityType,id,dropped){dropped?Ext.raise('Cannot update, record dropped: '+
this.getModelIdentifier(entityType,id)):Ext.raise('Cannot update, record does not exist: '+this.getModelIdentifier(entityType,id))},peekRecord:function(type,id,deep){var entityName=(type.$isClass?type:this.getSchema().getEntity(type)).entityName;entityName=(entityName=(entityName=this.data[entityName])&&entityName[id])&&entityName.record;!entityName&&deep&&(entityName=(entityName=this.getParent())&&entityName.peekRecord(type,id,deep));return entityName||null},save:function(){var parent=this.getParent();
if(parent){var visitor=new Ext.data.session.ChildChangesVisitor(this);this.visitData(visitor);parent.update(visitor.result);this.commit()}},spawn:function(){return new this.self({schema:this.getSchema(),parent:this})},update:function(data){var schema=this.getSchema(),crudOperations=this.crudOperations,len=crudOperations.length,crudKeys=this.crudKeys,dirtyWas=this.getDirty(),entityName,i,item,key;this.suspendEvent('dirtychange');this.getSchema().processKeyChecks(!0);for(entityName in data){var entityType=
schema.getEntity(entityName);var entityInfo=data[entityName];for(i=0;i<len;++i){var operation=crudOperations[i];if(item=entityInfo[operation.type])this[operation.entityMethod](entityType,item)}}for(entityName in data)for(key in entityType=schema.getEntity(entityName),crudOperations=entityType.associations,entityInfo=data[entityName],entityInfo)crudKeys[key]||(len=crudOperations[key],entityType=entityInfo[len.role],len.processUpdate(this,entityType));this.resumeEvent('dirtychange');this.getDirty()!==
dirtyWas&&this.fireDirtyChange()},afterCommit:function(record){this.trackRecordState(record)},afterDrop:function(record){this.trackRecordState(record)},afterEdit:function(record){this.trackRecordState(record)},afterErase:function(record){this.evict(record)},afterReject:function(record){this.trackRecordState(record)},privates:{add:function(record){var entry=this.getEntry(record.self,record.id),roleName;record.session=this;entry.record=record;this.trackRecordState(record,!0);this.registerReferences(record);
entry=record.associations;for(roleName in entry)entry[roleName].checkMembership(this,record)},applySchema:function(schema){return Ext.data.schema.Schema.get(schema)},createEntities:function(entityType,items){var len=items.length,i,rec;for(i=0;i<len;++i){var data=items[i];var id=entityType.getIdFromData(data);if(rec=this.peekRecord(entityType,id))this.onInvalidEntityCreate(entityType,id);else rec=this.createRecord(entityType,data,!0),rec.phantom=!0,rec.crudState='C',this.add(rec),rec.crudStateWas=
'C'}},dropEntities:function(entityType,ids){var len=ids.length,i,rec,extractId;len&&(extractId=Ext.isObject(ids[0]));for(i=0;i<len;++i){var id=ids[i];extractId&&(id=entityType.getIdFromData(id));if(rec=this.peekRecord(entityType,id))rec.drop();else this.onInvalidEntityDrop(entityType,id)}},evict:function(record){var entities=this.data[record.entityName],id=record.id;entities&&entities[id]&&(this.untrackRecordState(record),record.unjoin(this),delete entities[id])},getEntityList:function(entityType,
ids){var len=ids.length,i,rec;for(i=0;i<len;++i){var id=ids[i];if(rec=this.peekRecord(entityType,id))ids[i]=rec;else{var invalid=!0;ids[i]=null;this.onInvalidAssociationEntity(entityType,id)}}invalid&&(ids=Ext.Array.clean(ids));return ids},getEntry:function(type,id){type.isModel&&(id=type.getId(),type=type.self);type=(type.$isClass?type:this.getSchema().getEntity(type)).entityName;var data=this.data;type=data[type]||(data[type]={});return type=type[id]||(type[id]={})},getRefs:function(record,role,
includeParent){var entry=this.getEntry(record),refs=entry&&entry.refs&&entry.refs[role.role];includeParent=includeParent&&this.getParent();var id;if(includeParent&&(record=includeParent.getRefs(record,role))){for(id in record)includeParent=record[id],refs&&refs[id]||this.getRecord(includeParent.self,includeParent.id);refs=entry&&entry.refs&&entry.refs[role.role]}return refs||null},getIdentifier:function(entityType){var parent=this.getParent();if(parent)var ret=parent.getIdentifier(entityType);else{parent=
this.identifierCache;var identifier=entityType.identifier;entityType=identifier.getId()||entityType.entityName;ret=parent[entityType];ret||(ret=identifier.clone?identifier.clone({id:null}):identifier,parent[entityType]=ret)}return ret},getMatrix:function(matrix,preventCreate){var name=matrix.isManyToMany?matrix.name:matrix,matrices=this.matrices,ret;(ret=matrices[name])||preventCreate||(ret=matrices[name]=new Ext.data.matrix.Matrix(this,matrix));return ret||null},getMatrixSlice:function(role,id){return this.getMatrix(role.association)[role.side].get(id)},
getModelIdentifier:function(entityType,id){return id+'@'+entityType.entityName},onIdChanged:function(record,oldId,newId){var matrices=this.matrices,id=record.id,bucket=this.data[record.entityName],entry=bucket[oldId],associations=record.associations,refs=entry.refs,setNoRefs=this._setNoRefs,refId,roleName,key;delete bucket[oldId];bucket[newId]=entry;for(key in matrices)matrices[key].updateId(record,oldId,newId);if(refs)for(roleName in refs)if(newId=refs[roleName],matrices=associations[roleName],matrices=
matrices.association,!matrices.isManyToMany)for(refId in matrices=matrices.field.name,newId)newId[refId].set(matrices,id,setNoRefs);this.registerReferences(record,oldId)},processManyBlock:function(entityType,role,items,processor){var id,record;if(items)for(id in items)if(record=this.peekRecord(entityType,id)){var records=this.getEntityList(role.cls,items[id]);var store=role.getAssociatedItem(record);this[processor](role,store,record,records)}else this.onInvalidAssociationEntity(entityType,id)},processManyCreate:function(role,
store,record,records){if(store)store.add(records);else record[role.getterName](null,null,records)},processManyDrop:function(role,store,record,records){store&&store.remove(records)},processManyRead:function(role,store,record,records){if(store)store.setRecords(records);else record[role.getterName](null,null,records)},readEntities:function(entityType,items){var len=items.length,i,rec;for(i=0;i<len;++i){var data=items[i];var id=entityType.getIdFromData(data);if(rec=this.peekRecord(entityType,id))this.onInvalidEntityRead(entityType,
id);else rec=this.createRecord(entityType,data,!0);rec.phantom=!1;this.add(rec)}},recordCreator:function(data,Model){var id=Model.getIdFromData(data),record=this.peekRecord(Model,id,!0);record?(record=this.getRecord(Model,id),record.mergeData(data)):record=new Model(data,this);return record},registerReferences:function(record,oldId){var id=record.id,recordData=record.data,remove=oldId||0===oldId,entry,i,references;var len=(references=record.references).length;for(i=0;i<len;++i){var reference=references[i];
if((entry=recordData[reference.name])||0===entry){reference=reference.reference;var roleName=reference.inverse.role;entry=this.getEntry(reference.cls,entry);entry=entry.refs||(entry.refs={});entry=entry[roleName]||(entry[roleName]={});entry[id]=record;remove&&delete entry[oldId]}}},updateEntities:function(entityType,items){var len=items.length,i,rec;if(Ext.isArray(items))for(i=0;i<len;++i){var data=items[i];var id=entityType.getIdFromData(data);if(rec=this.peekRecord(entityType,id))rec.set(data);
else this.onInvalidEntityUpdate(entityType,id)}else for(id in items)if(data=items[id],(rec=this.peekRecord(entityType,id))&&!rec.dropped)rec.set(data);else this.onInvalidEntityUpdate(entityType,id,!!rec)},updateReference:function(record,field,newValue,oldValue){var reference=field.reference;field=reference.type;reference=reference.inverse.role;var id=record.id;if(oldValue||0===oldValue)oldValue=this.getEntry(field,oldValue).refs[reference],delete oldValue[id];if(newValue||0===newValue)newValue=this.getEntry(field,
newValue),oldValue=newValue.refs||(newValue.refs={}),oldValue=oldValue[reference]||(oldValue[reference]={}),oldValue[id]=record},visitData:function(visitor){var data=this.data,matrices=this.matrices,id,id2,matrix,name,state;this.getSchema().processKeyChecks(!0);for(name in data){var all=data[name];for(id in all)if(matrix=all[id].record)if(matrix.phantom||matrix.dirty||matrix.dropped){if(visitor.onDirtyRecord)visitor.onDirtyRecord(matrix)}else if(visitor.onCleanRecord)visitor.onCleanRecord(matrix)}if(visitor.onMatrixChange)for(name in matrices)for(id in matrix=
matrices[name].left,data=matrix.slices,all=matrix.role.association,data){matrix=data[id];var members=matrix.members;for(id2 in members)if(state=(matrix=members[id2])[2])visitor.onMatrixChange(all,matrix[0],matrix[1],state)}return visitor},_setNoRefs:{refs:!1}}},1,0,0,0,0,[[Ext.mixin.Dirty.prototype.mixinId||Ext.mixin.Dirty.$className,Ext.mixin.Dirty],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.data,'Session'],0);
Ext.cmd.derive('Ext.util.Schedulable',Ext.Base,{'abstract':!0,isSchedulable:!0,scheduled:!1,constructor:function(){this.getScheduler().add(this)},destroy:function(){var scheduler=this.getScheduler();scheduler&&!scheduler.destroyed&&scheduler.remove(this);this.scheduler=null;this.schedule=this.react=Ext.emptyFn;this.callParent()},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var scheduler;if(!this.scheduled&&(scheduler=
this.getScheduler())){this.scheduled=!0;if(this.onSchedule)this.onSchedule();scheduler.scheduleItem(this)}},unschedule:function(){var scheduler;this.scheduled&&((scheduler=this.getScheduler())&&!scheduler.destroyed&&scheduler.unscheduleItem(this),this.scheduled=!1)},sort:function(){}}},1,0,0,0,0,0,[Ext.util,'Schedulable'],0);
Ext.cmd.derive('Ext.app.bind.BaseBinding',Ext.util.Schedulable,{isBinding:!0,calls:0,kind:20,defaultOptions:{},lastValue:void 0,constructor:function(owner,callback,scope,options){this.options=options;this.owner=owner;this.scope=scope;this.callback=callback;this.lateBound=Ext.isString(callback);options&&options.deep&&(this.deep=!0);Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var owner=this.owner;if(owner)owner.onBindDestroy(this);Ext.util.Schedulable.prototype.destroy.call(this);
this.scope=this.callback=this.owner=null},isReadOnly:function(){return!0},privates:{getScheduler:function(){var owner=this.owner;return owner&&owner.getScheduler()},getSession:function(){var owner=this.owner;return owner.isSession?owner:owner.getSession()},notify:function(value){var options=this.options||this.defaultOptions,previous=this.lastValue;if(!this.calls||this.deep||this.valueChanged(value,previous)){++this.calls;this.lastValue=value;if(this.lateBound)this.scope[this.callback](value,previous,
this);else this.callback.call(this.scope,value,previous,this);options.single&&this.destroy()}},valueChanged:function(value,previous){var ret=!0;previous!==value?value&&previous&&value instanceof Date&&previous instanceof Date&&(ret=value.getTime()!==previous.getTime()):ret=Ext.isArray(value);return ret}}},1,0,0,0,0,0,[Ext.app.bind,'BaseBinding'],0);
Ext.cmd.derive('Ext.app.bind.Binding',Ext.app.bind.BaseBinding,{constructor:function(stub,callback,scope,options){Ext.app.bind.BaseBinding.prototype.constructor.call(this,stub.owner,callback,scope,options);this.stub=stub;this.depth=stub.depth;stub.isAvailable()&&!stub.scheduled&&this.schedule()},destroy:function(fromParent){var stub=this.stub;stub&&!fromParent&&(stub.unbind(this),this.stub=null);Ext.app.bind.BaseBinding.prototype.destroy.call(this)},bindValidation:function(callback,scope){var stub=
this.stub;return stub&&stub.bindValidation(callback,scope)},bindValidationField:function(callback,scope){var stub=this.stub;return stub&&stub.bindValidationField(callback,scope)},getFullName:function(){return this.fullName||(this.fullName='@('+this.stub.getFullName()+')')},getValue:function(){var stub=this.stub;return stub&&stub.getValue()},isAvailable:function(){var stub=this.stub;return stub&&stub.isAvailable()},isLoading:function(){var stub=this.stub;return stub&&stub.isLoading()},isReadOnly:function(){var stub=
this.stub,options=this.options,ret=!0;options&&!1===options.twoWay||stub&&(ret=stub.isReadOnly());return ret},refresh:function(){},setValue:function(value){this.stub.set(value)},privates:{getDataObject:function(){var stub=this.stub;return stub&&stub.getDataObject()},getRawValue:function(){var stub=this.stub;return stub&&stub.getRawValue()},isDescendantOf:function(item){var stub=this.stub;return stub?item===stub||stub.isDescendantOf(item):!1},react:function(){this.notify(this.getValue())},schedule:function(){this.stub.scheduled||
Ext.app.bind.BaseBinding.prototype.schedule.call(this)},sort:function(){var stub=this.stub;stub.scheduler.sortItem(stub)}}},1,0,0,0,0,0,[Ext.app.bind,'Binding'],0);
Ext.cmd.derive('Ext.app.bind.AbstractStub',Ext.util.Schedulable,{children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(owner,name){this.owner=owner;this.name=name;Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var children=this.children,bindings=this.bindings,len,key;if(bindings){var i=0;for(len=bindings.length;i<len;++i)bindings[i].destroy(!0)}for(key in children)children[key].destroy();this.scheduled&&this.unschedule();Ext.util.Schedulable.prototype.destroy.call(this)},
add:function(child){(this.children||(this.children={}))[child.name]=child;child.depth=this.depth+1;child.parent=this},getChild:function(path){return(path=Ext.isString(path)?path.split('.'):path)&&path.length?this.descend(path,0):this},getFullName:function(){var name=this.fullName,parent=this.parent,s;name||(name=this.name||this.id,parent&&(s=parent.getFullName())&&(name=(':'!==s.charAt(s.length-1)?s+'.':s)+name),this.fullName=name);return name},getSession:function(){var owner=this.owner;return owner.isSession?
owner:owner.getSession()},bind:function(callback,scope,options){callback=new Ext.app.bind.Binding(this,callback,scope,options);scope=this.bindings||(this.bindings=[]);callback.depth=this.depth;scope.push(callback);return callback},getValue:function(){return this.isAvailable()?this.getRawValue():null},graft:function(replacement){var bindings=this.bindings,name=this.name;this.parent=this.bindings=null;this.destroy();replacement.depth=this.depth;replacement.bindings=bindings;replacement.generation=this.generation+
1;replacement.name=name;replacement.id=this.id;replacement.path=this.path;if(bindings)for(name=bindings.length;0<name--;)bindings[name].stub=replacement;return replacement},isDescendantOf:function(item){var parent;for(parent=this;parent=parent.parent;)if(parent===item)return!0;return!1},isAvailable:function(){return!0},isLoading:function(){return!1},onSchedule:function(){var len,bindings,p;for(p=this.parent;p;p=p.parent)if(bindings=p.bindings){var i=0;for(len=bindings.length;i<len;++i){var binding=
bindings[i];binding.deep&&!binding.scheduled&&binding.schedule()}}},react:function(){var bindings=this.bindings,len;if(bindings){var i=0;for(len=bindings.length;i<len;++i){var binding=bindings[i];binding.scheduled||binding.schedule()}}},unbind:function(binding){var bindings=this.bindings;bindings&&bindings.length&&Ext.Array.remove(bindings,binding)},privates:{collect:function(){var children=this.children,bindings=this.bindings,totalCount=0,key;if(children)for(key in children){var child=children[key];
var count=child.collect();0===count&&(child.destroy(),delete children[key]);totalCount+=count}bindings&&(totalCount+=bindings.length);return totalCount},getScheduler:function(){var owner=this.owner;return owner&&owner.getScheduler()},sort:function(){var parent=this.parent;parent&&this.scheduler.sortItem(parent)}}},1,0,0,0,0,0,[Ext.app.bind,'AbstractStub'],0);
Ext.cmd.derive('Ext.app.bind.Stub',Ext.app.bind.AbstractStub,{isStub:!0,dirty:!0,formula:null,validationKey:'validation',constructor:function(owner,name,parent){var path=name;Ext.app.bind.AbstractStub.prototype.constructor.call(this,owner,name);this.boundValue=null;parent&&(parent.add(this),parent.isRootStub||(path=parent.path+'.'+name),this.checkHadValue());this.path=path},destroy:function(){var formula=this.formula,storeBinding=this.storeBinding;formula&&formula.destroy();storeBinding&&storeBinding.destroy();
this.detachBound();Ext.app.bind.AbstractStub.prototype.destroy.call(this)},bindValidation:function(callback,scope){var parent=this.parent;return parent&&parent.descend([this.validationKey,this.name]).bind(callback,scope)},bindValidationField:function(callback,scope){var parent=this.parent,name=this.name,lateBound='string'===typeof callback,ret;parent&&(ret=parent.bind(function(value){var field=null;value&&value.isModel&&(field=value.getField(name));if(lateBound)scope[callback](field,value,this);else callback.call(scope,
field,value,this)}));return ret||null},descend:function(path,index){var children=this.children||(this.children={});index=index||0;var name=path[index++];(children=children[name])||(children=new Ext.app.bind.Stub(this.owner,name,this));index<path.length&&(children=children.descend(path,index));return children},getChildValue:function(parentData){var name=this.name,bindMappings=this.bindMappings,storeMappings=bindMappings.store;bindMappings=bindMappings.model;if(parentData||Ext.isString(parentData)){var ret=
this.inspectValue(parentData);ret||(parentData.isEntity?ret=bindMappings[name]?parentData[bindMappings[name]]():parentData.data[name]:parentData.isStore&&storeMappings[name]?ret=parentData[storeMappings[name]]():(ret=parentData[name],void 0===ret&&this.hadValue&&(ret=null)))}else ret=this.hadValue?null:void 0;return ret},getDataObject:function(){var parentData=this.parent.getDataObject(),name=this.name,ret=parentData?parentData[name]:null,storeMappings=this.bindMappings.store;ret?parentData.isStore&&
name in storeMappings&&(ret=parentData[storeMappings[name]]()):parentData&&parentData.isEntity&&(storeMappings=parentData.associations)&&name in storeMappings&&(ret=parentData[storeMappings[name].getterName]());ret&&(ret.$className||Ext.isObject(ret))||(parentData[name]=ret={},this.hadValue=!0,this.invalidate(!0,!0));return ret},getRawValue:function(){return this.getChildValue(this.getParentValue())},graft:function(replacement){var parent=this.parent,children=this.children,name=this.name,i;replacement.parent=
parent;replacement.children=children;parent&&(parent.children[name]=replacement);if(children)for(i in children)children[i].parent=replacement;this.children=null;replacement.checkHadValue();replacement=Ext.app.bind.AbstractStub.prototype.graft.call(this,replacement);replacement.invalidate(!0,!0);return replacement},isAvailable:function(){return this.checkAvailability()},isLoading:function(){return!this.checkAvailability(!0)},invalidate:function(deep,dirtyOnly){var children=this.children,name;this.dirty=
!0;this.checkHadValue();!dirtyOnly&&this.isAvailable()&&(this.scheduled||this.schedule());if(deep&&children)for(name in children)children[name].invalidate(deep,dirtyOnly)},isReadOnly:function(){var formula=this.formula;return!(!formula||formula.set)},set:function(value,preventClimb){var parent=this.parent,name=this.name,formula=this.formula;if(formula&&!formula.settingValue&&formula.set)formula.setValue(value);else{if(this.isLinkStub&&(formula=(formula=this.getLinkFormulaStub())?formula.formula:null)){formula.setValue(value);
return}parent=parent.getDataObject();if(parent.isEntity)if((preventClimb=parent.associations)&&name in preventClimb){name=preventClimb[name];if(name=name.setterName)parent[name](value);this.invalidate(!0)}else parent.set(name,value);else if(value&&value.constructor===Object||value!==parent[name]||!parent.hasOwnProperty(name))if(preventClimb||!this.setByLink(value))void 0===value?delete parent[name]:parent[name]=value,this.inspectValue(parent),this.invalidate(!0)}},onStoreDataChanged:function(){this.invalidate(!0)},
afterLoad:function(record){this.invalidate(!0)},afterCommit:function(record){this.afterEdit(record,null)},afterEdit:function(record,modifiedFieldNames){var children=this.children,len=modifiedFieldNames&&modifiedFieldNames.length,associations=record.associations,bindMappings=this.bindMappings.model,key;if(children){if(len)for(associations=0;associations<len;++associations){var name=modifiedFieldNames[associations];var child=children[name];child||(child=(child=(child=record.fieldsMap[name])&&child.reference)&&
children[child.role]);child&&child.invalidate(!0)}else for(key in children)associations&&key in associations||children[key].invalidate(!0);for(key in bindMappings)(child=children[key])&&child.invalidate()}this.invalidate()},afterReject:function(record){this.afterEdit(record,null)},afterAssociatedRecordSet:function(record,associated,role){record=this.children;role=role.role;record&&role in record&&record[role].invalidate(!0)},setByLink:function(value){var n=0,ret=!1,stub;for(stub=this;stub;stub=stub.parent){if(stub.isLinkStub){var link=
stub;if(n){var path=[];var i=0;for(stub=this;stub!==link;stub=stub.parent)++i,path[n-i]=stub.name}break}++n}stub=null;link&&(n=link.parent,i=link.name,stub=n.shouldClimb(i)?link.getTargetStub():n.insertChild(i));stub&&(path&&(stub=stub.descend(path)),stub.set(value),ret=!0);return ret},setFormula:function(formula){var oldFormula=this.formula;oldFormula&&oldFormula.destroy();this.formula=new Ext.app.bind.Formula(this,formula)},react:function(){var bound=this.boundValue,children=this.children;if(bound)if(bound.isValidation){bound.refresh();
bound=bound.generation;if(this.lastValidationGeneration===bound)return;this.lastValidationGeneration=bound}else bound.isModel&&children&&children[this.validationKey]&&bound.isValid();Ext.app.bind.AbstractStub.prototype.react.call(this)},privates:{bindMappings:{store:{count:'getCount',first:'first',last:'last',loading:'hasPendingLoad',totalCount:'getTotalCount'},model:{dirty:'isDirty',phantom:'isPhantom',valid:'isValid'}},checkAvailability:function(isLoading){var parent=this.parent,bindMappings=this.bindMappings,
name=this.name,available=!(!parent||!parent.checkAvailability(isLoading)),value;if(available){var parentValue=this.getParentValue();if(value=this.inspectValue(parentValue))available=isLoading?!value.hasPendingLoad():value.isStore?!0:!value.isLoading()||0<value.loadCount;else{if(parentValue)if(parentValue.isModel)if(bindMappings.model[name]){available=!parent.isLoading();var availableSet=!0}else isLoading=parentValue.associations,isLoading&&name in isLoading||(availableSet=available=!0);else parentValue.isStore&&
bindMappings.store[name]&&'loading'!==name&&(available=!parent.isLoading(),availableSet=!0);availableSet||(available=this.hadValue||void 0!==this.getRawValue())}}return available},checkHadValue:function(){this.hadValue||(this.hadValue=void 0!==this.getRawValue())},collect:function(){return Ext.app.bind.AbstractStub.prototype.collect.call(this)+(this.storeBinding?1:0)+(this.formula?1:0)},getLinkFormulaStub:function(){for(var stub=this;stub.isLinkStub;)stub=stub.binding.stub;return stub.formula?stub:
null},getParentValue:function(){this.dirty&&(this.parentValue=this.parent.getValue(),this.dirty=!1);return this.parentValue},setStore:function(storeBinding){this.storeBinding=storeBinding},inspectValue:function(parentData){var name=this.name,current=this.boundValue,boundValue=null,associations;parentData&&parentData.isEntity?(associations=parentData.associations)&&name in associations?boundValue=parentData[associations[name].getterName]():name===this.validationKey&&(boundValue=parentData.getValidation(),
this.lastValidationGeneration=null):parentData&&(parentData=parentData[name])&&(parentData.isModel||parentData.isStore)&&(boundValue=parentData);current!==boundValue&&(current&&this.detachBound(),boundValue&&(boundValue.isModel?boundValue.join(this):(current=boundValue.associatedEntity,!current||!1===boundValue.autoLoad||boundValue.complete||boundValue.hasPendingLoad()||boundValue.load(),boundValue.on({scope:this,beginload:'onStoreDataChanged',load:'onStoreDataChanged',datachanged:'onStoreDataChanged',
destroy:'onDestroyBound'}))),this.boundValue=boundValue);return boundValue},detachBound:function(){var current=this.boundValue;current&&!current.destroyed&&(current.isModel?current.unjoin(this):current.un({scope:this,beginload:'onStoreDataChanged',load:'onStoreDataChanged',datachanged:'onStoreDataChanged',destroy:'onDestroyBound'}))},onDestroyBound:function(){this.owner.destroying||this.set(null)},sort:function(){var formula=this.formula,scheduler=this.scheduler,storeBinding=this.storeBinding;Ext.app.bind.AbstractStub.prototype.sort.call(this);
storeBinding&&scheduler.sortItem(storeBinding);formula&&scheduler.sortItem(formula)}}},1,0,0,0,0,0,[Ext.app.bind,'Stub'],0);
Ext.cmd.derive('Ext.app.bind.LinkStub',Ext.app.bind.Stub,{isLinkStub:!0,binding:null,destroy:function(){var binding=this.binding,owner=this.owner;binding&&(this.binding=null,binding.destroy(),owner&&delete owner.linkData[this.name]);this.target=null;Ext.app.bind.Stub.prototype.destroy.call(this)},getFullName:function(){return this.fullName||(this.fullName='('+Ext.app.bind.Stub.prototype.getFullName.call(this)+' -\x3e '+this.binding.getFullName()+')')},getDataObject:function(){var binding=this.binding,
root=this.parent,name=this.name,ret;root.isRootStub&&!root.shouldClimb(name)?(binding=root.owner.getData(),binding.hasOwnProperty(name)||(binding[name]=ret={})):ret=binding&&binding.getDataObject();return ret},getRawValue:function(){var binding=this.binding;return binding&&binding.getRawValue()},getValue:function(){var binding=this.binding;return binding&&binding.getValue()},getTargetStub:function(){var binding=this.binding;return binding&&binding.stub},isAvailable:function(){var binding=this.binding;
return binding?binding.isAvailable():!1},isLoading:function(){var binding=this.binding;return binding?binding.isLoading():!1},link:function(bindDescriptor,target){var binding=this.binding;binding&&binding.destroy();target=this.target=target||this.owner;this.linkDescriptor=bindDescriptor;this.binding=target.bind(bindDescriptor,this.onChange,this);this.binding.deep=!0},onChange:function(){this.invalidate(!0)},react:function(){this.owner.linkData[this.name]=this.getValue();Ext.app.bind.Stub.prototype.react.call(this)},
privates:{collect:function(){return Ext.app.bind.Stub.prototype.collect.call(this)+(this.binding?1:0)},sort:function(){var binding=this.binding;binding&&this.scheduler.sortItem(binding)}}},0,0,0,0,0,0,[Ext.app.bind,'LinkStub'],0);
Ext.cmd.derive('Ext.app.bind.RootStub',Ext.app.bind.AbstractStub,{isRootStub:!0,depth:0,createRootChild:function(name,direct){var owner=this.owner,ownerData=owner.getData(),children=this.children,parentStub=(children=children&&children[name])?null:this,parentVM;direct||ownerData.hasOwnProperty(name)||!(parentVM=owner.getParent())?direct=new Ext.app.bind.Stub(owner,name,parentStub):(direct=new Ext.app.bind.LinkStub(owner,name,parentStub),direct.link('{'+name+'}',parentVM));children&&children.graft(direct);
return direct},createStubChild:function(name){return this.createRootChild(name,!0)},descend:function(path,index){var children=this.children;index=index||0;var name=path[index++];children=children&&children[name]||this.createRootChild(name);index<path.length&&(children=children.descend(path,index));return children},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+':')},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},
isDescendantOf:function(){return!1},set:function(value,preventClimb){var children=this.children||(this.children={}),owner=this.owner,data=owner.data,parentVM=owner.getParent(),key;for(key in value){var v=value[key];if(void 0!==v){var stub=children[key];var setSelf=preventClimb||!this.shouldClimb(key);if(stub)setSelf&&stub.isLinkStub&&!stub.getLinkFormulaStub()&&(stub=this.insertChild(key));else{stub=this.createRootChild(key,setSelf);var created=!0}created&&data.hasOwnProperty(value)||owner.invalidateChildLinks(key);
stub.set(v,setSelf)}else data.hasOwnProperty(key)&&(delete data[key],stub=children[key])&&(!stub.isLinkStub&&parentVM&&(stub=this.createRootChild(key)),owner.invalidateChildLinks(key,!0),stub.invalidate(!0))}},schedule:Ext.emptyFn,unschedule:Ext.emptyFn,privates:{checkAvailability:function(){return!0},insertChild:function(name){return this.createRootChild(name,!0)},invalidateChildLink:function(name,clear){var children=this.children;(children=children&&children[name])&&children.isLinkStub&&!children.getLinkFormulaStub()&&
(children=this.createRootChild(name),clear&&children.invalidate(!0),this.owner.invalidateChildLinks(name,clear))},shouldClimb:function(name){for(var parent=this.owner.getParent();parent;){if(parent.getData().hasOwnProperty(name))return!0;parent=parent.getParent()}return!1}}},0,0,0,0,0,0,[Ext.app.bind,'RootStub'],0);
Ext.cmd.derive('Ext.app.bind.Multi',Ext.app.bind.BaseBinding,{isMultiBinding:!0,missing:1,deep:!0,constructor:function(descriptor,owner,callback,scope,options){var trackStatics=options&&options.trackStatics;Ext.app.bind.BaseBinding.prototype.constructor.call(this,owner,callback,scope,options);this.bindings=[];this.literal=descriptor.$literal;descriptor.constructor===Object?(trackStatics&&(this.staticKeys=[]),this.addObject(descriptor,this.lastValue={},this.staticKeys)):this.addArray(descriptor,this.lastValue=
[]);--this.missing||this.scheduled||this.schedule()},destroy:function(){this.bindings=Ext.destroy(this.bindings);Ext.app.bind.BaseBinding.prototype.destroy.call(this)},add:function(descriptor,data,property){var me=this,owner=me.owner,bindings=me.bindings,method=me.literal?descriptor.reference?'bindEntity':'bindExpression':'bind';++me.missing;var binding=owner[method](descriptor,function(value){data[property]=value;1===binding.calls&&--me.missing;me.missing||me.scheduled||me.schedule()},me,null);descriptor=
binding.depth;if(!bindings.length||descriptor<me.depth)me.depth=descriptor;bindings.push(binding);return!this.isBindingStatic(binding)},addArray:function(multiBindDescr,array){var n=multiBindDescr.length,hasDynamic=!1,dynamic,i;for(i=0;i<n;++i)(dynamic=multiBindDescr[i])&&(dynamic.reference||Ext.isString(dynamic))?dynamic=this.add(dynamic,array,i):Ext.isArray(dynamic)?dynamic=this.addArray(dynamic,array[i]=[]):dynamic&&dynamic.constructor===Object?dynamic=this.addObject(dynamic,array[i]={}):(array[i]=
dynamic,dynamic=!1),hasDynamic=hasDynamic||dynamic;return hasDynamic},addObject:function(multiBindDescr,object,staticKeys){var hasDynamic=!1,dynamic,name;for(name in multiBindDescr)(dynamic=multiBindDescr[name])&&(dynamic.reference||Ext.isString(dynamic))?dynamic=this.add(dynamic,object,name):Ext.isArray(dynamic)?dynamic=this.addArray(dynamic,object[name]=[]):dynamic&&dynamic.constructor===Object?dynamic=this.addObject(dynamic,object[name]={}):(object[name]=dynamic,dynamic=!1),staticKeys&&!dynamic&&
staticKeys.push(name),hasDynamic=hasDynamic||dynamic;return hasDynamic},getFullName:function(){var fullName=this.fullName,bindings=this.bindings,length=bindings.length,i;if(!fullName){fullName='@[';for(i=0;i<length;++i)i&&(fullName+=','),fullName+=bindings[i].getFullName();this.fullName=fullName+=']'}return fullName},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return!1},isLoading:function(){for(var bindings=this.bindings,n=bindings.length;0<n--;)if(bindings[n].isLoading())return!0;
return!1},isAvailable:function(){for(var bindings=this.bindings,n=bindings.length;0<n--;)if(bindings[n].isAvailable())return!0;return!1},isBindingStatic:function(binding){return binding.isTemplateBinding&&binding.isStatic},isStatic:function(){var bindings=this.bindings,len=bindings.length,i;for(i=0;i<len;++i){var binding=bindings[i];if(!this.isBindingStatic(binding))return!1}return!0},pruneStaticKeys:function(){var value=Ext.apply({},this.lastValue),keys=this.staticKeys,len=keys.length,i;for(i=0;i<
len;++i)delete value[keys[i]];return value},react:function(){this.notify(this.lastValue)},refresh:function(){},privates:{sort:function(){this.scheduler.sortItems(this.bindings)}}},1,0,0,0,0,0,[Ext.app.bind,'Multi'],0);
Ext.cmd.derive('Ext.app.bind.Formula',Ext.util.Schedulable,{statics:{getFormulaParser:function(name){var cache=this.formulaCache;cache||(cache=this.formulaCache=new Ext.util.LruCache({maxSize:20}));var parser=cache.get(name);parser||(parser='[^\\.a-z0-9_]'+Ext.String.escapeRegex(name)+'\\(\\s*([\'"])(.*?)\\1\\s*\\)',parser=new RegExp(parser,'gi'),cache.add(name,parser));return parser}},isFormula:!0,calculation:null,explicit:!1,set:null,single:!1,fnKeywordArgumentNamesRe:/^function\s*[^\(]*\(\s*([^,\)\s]+)/,
fnKeywordRe:/^\s*function/,replaceParenRe:/[\(\)]/g,constructor:function(stub,formula){var owner=stub.owner;this.owner=owner;this.stub=stub;Ext.util.Schedulable.prototype.constructor.call(this);if(formula instanceof Function)this.get=stub=formula;else{this.get=stub=formula.get;this.set=formula.set;var expressions=formula.bind;formula.single&&(this.single=formula.single);if(expressions&&(formula=expressions.bindTo)){var options=Ext.apply({},expressions);delete options.bindTo;expressions=formula}}expressions?
this.explicit=!0:expressions=stub.$expressions||this.parseFormula(stub);this.binding=owner.bind(expressions,this.onChange,this,options)},destroy:function(){var binding=this.binding,stub=this.stub;binding&&(binding.destroy(),this.binding=null);stub&&(stub.formula=null);Ext.util.Schedulable.prototype.destroy.call(this);this.getterFn=this.owner=null},getFullName:function(){return this.fullName||(this.fullName=this.stub.getFullName()+'\x3d'+Ext.util.Schedulable.prototype.getFullName.call(this)+')')},
getRawValue:function(){return this.calculation},onChange:function(){this.scheduled||this.schedule()},parseFormula:function(formula){var str=Ext.Function.toCode(formula),expressions={$literal:!0},match,getterProp;if(this.fnKeywordRe.test(str))(match=this.fnKeywordArgumentNamesRe.exec(str))&&(getterProp=match[1]);else if(match=str.split('\x3d\x3e')[0])match=Ext.String.trim(match.replace(this.replaceParenRe,'')).split(','),getterProp=match[0];for(getterProp=Ext.app.bind.Formula.getFormulaParser(getterProp||
'get');match=getterProp.exec(str);)match=match[2],expressions[match]=match;expressions.$literal=!0;return formula.$expressions=expressions},react:function(){var owner=this.owner,data=this.binding.lastValue;data=this.explicit?data:owner.getFormulaFn(data);this.settingValue=!0;this.stub.set(this.calculation=this.get.call(owner,data));this.settingValue=!1;this.single&&this.destroy()},setValue:function(value){this.set.call(this.stub.owner,value)},privates:{getScheduler:function(){var owner=this.owner;
return owner&&owner.getScheduler()},sort:function(){var binding=this.binding;binding.destroyed||this.scheduler.sortItem(binding)}}},1,0,0,0,0,0,[Ext.app.bind,'Formula'],0);
Ext.cmd.derive('Ext.util.Fly',Ext.Base,{inheritableStatics:{flyPoolSize:2,fly:function(){var flyweights=this.flyweights||(this.flyweights=[]);flyweights=flyweights.length?flyweights.pop():new this;flyweights.reset.apply(flyweights,arguments);return flyweights}},release:function(){var T=this.self,flyweights=T.flyweights||(T.flyweights=[]);this.reset();flyweights.length<T.flyPoolSize&&flyweights.push(this)},reset:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,'Fly'],0);
Ext.cmd.derive('Ext.parse.Tokenizer',Ext.util.Fly,function(Tokenizer){var flyweights=Tokenizer.flyweights=[],BOOLEAN={literal:!0,'boolean':!0,type:'boolean'},ERROR={error:!0},IDENT={ident:!0},NULL={literal:!0,nil:!0},NUMBER={literal:!0,number:!0,type:'number'},STRING={literal:!0,string:!0,type:'string'};return{isTokenizer:!0,statics:{BOOLEAN,ERROR,IDENT,LITERAL:{literal:!0},NULL,NUMBER,STRING},config:{keywords:{'null':{type:'literal',is:NULL,value:null},'false':{type:'literal',is:BOOLEAN,value:!1},
'true':{type:'literal',is:BOOLEAN,value:!0}},operators:{'+':'plus','-':'minus','*':'multiply','/':'divide','!':'not',',':'comma',':':'colon','[':'arrayOpen',']':'arrayClose','{':'curlyOpen','}':'curlyClose','(':'parenOpen',')':'parenClose'},patterns:null},error:null,index:-1,constructor:function(config){this.operators={};this.patterns=[];this.initConfig(config)},next:function(){var token=this.peek();this.head=void 0;return token},peek:function(){var error=this.error,token=this.head;if(error)return error;
void 0===token&&(this.head=token=this.advance());return token},release:function(){this.reset();flyweights.length<Tokenizer.flyPoolSize&&flyweights.push(this)},reset:function(text,pos,end){this.error=null;this.head=void 0;this.index=-1;this.text=text||null;this.pos=pos||0;this.end=text&&null==end?text.length:end;return this},privates:{digitRe:/[0-9]/,identFirstRe:/[a-z_$]/i,identRe:/[0-9a-z_$]/i,spaceRe:/[ \t]/,end:0,head:void 0,pos:0,text:null,applyOperators:function(ops){var operators=this.operators,
i,op;for(op in ops){var block=operators;var name=ops[op];var len=op.length;for(i=0;i<len;++i){var c=op.charAt(i);block=block[c]||(block[c]={})}name?(block.token=block={type:'operator',name,value:op,is:{operator:!0}},block.is[name]=!0):block.token=null}},applyPatterns:function(pat){var patterns=this.patterns,name;for(name in pat){var def=pat[name];var extract=def.extract;var re=def.re;delete def.extract;delete def.re;patterns.push({name,re,extract,token:def})}},advance:function(){for(var spaceRe=this.spaceRe,
text=this.text,length=this.end,c;this.pos<length;)if(c=text.charAt(this.pos),spaceRe.test(c))++this.pos;else return this.index=this.pos,this.parse(c);return null},parse:function(c){var digitRe=this.digitRe,text=this.text,length=this.end,patterns=this.patterns,match,ret;'.'===c&&this.pos+1<length&&digitRe.test(text.charAt(this.pos+1))&&(ret=this.parseNumber());if(!ret)for(length=0;length<patterns.length;++length){var pat=patterns[length];pat.re.lastIndex=this.pos;if((match=pat.re.exec(text))&&match.index===
this.pos){ret=Ext.apply({value:pat.extract?pat.extract(match):match[0]},pat.token);this.pos+=match[0].length;break}}!ret&&this.operators[c]&&(ret=this.parseOperator(c));ret||(ret='"'===c||"'"===c?this.parseString():digitRe.test(c)?this.parseNumber():this.identFirstRe.test(c)?this.parseIdent():this.syntaxError('Unexpected character'));return ret},parseIdent:function(){for(var identRe=this.identRe,keywords=this.getKeywords(),includeDots=!this.operators['.'],text=this.text,start=this.pos,end=start,length=
this.end,prev=0,c;end<length;){c=text.charAt(end);if(includeDots&&'.'===c){if('.'===prev)return this.syntaxError(end,'Unexpected dot operator');++end}else if(identRe.test(c))++end;else break;prev=c}if('.'===prev)return this.syntaxError(end-1,'Unexpected dot operator');identRe=text.substring(start,this.pos=end);return keywords&&keywords[identRe]||{type:'ident',is:IDENT,value:identRe}},parseNumber:function(){for(var digitRe=this.digitRe,text=this.text,start=this.pos,length=this.end,c,decimal,exp;this.pos<
length;)if(c=text.charAt(this.pos),'-'===c||'+'===c){if(this.pos!==start)break;++this.pos}else if('.'===c){if(decimal)break;decimal=!0;++this.pos}else if('e'===c||'E'===c){if(exp)break;decimal=exp=!0;c=text.charAt(++this.pos);'-'!==c&&'+'!==c||++this.pos}else if(digitRe.test(c))++this.pos;else break;digitRe={type:'literal',is:NUMBER,value:+text.substring(start,this.pos)};isFinite(digitRe.value)||(digitRe=this.syntaxError(start,'Invalid number'));return digitRe},parseOperator:function(c){for(var block=
this.operators,text=this.text,length=this.end,end=this.pos,match,matchEnd;block[c];)if(block=block[c],c=block.token,++end,c&&(match=c,matchEnd=end),end<length)c=text.charAt(end);else break;match&&(this.pos=matchEnd);return match},parseString:function(){var text=this.text,pos=this.pos,start=pos,length=this.end,str='',quote;for(quote=text.charAt(pos++);pos<length;){var c=text.charAt(pos++);if(c===quote){var closed=!0;break}'\\'===c&&pos<length&&(c=text.charAt(pos++));str+=c}this.pos=pos;return closed?
{type:'literal',is:STRING,value:str}:this.syntaxError(start,'Unterminated string')},syntaxError:function(at,message){'string'===typeof at&&(message=at,at=this.pos);var suffix=null==at?'':' (at index '+at+')';message=Error(message+suffix);message.type='error';message.is=ERROR;suffix&&(message.at=at);return this.error=message}}}},1,0,0,0,0,0,[Ext.parse,'Tokenizer'],0);
Ext.cmd.derive('Ext.parse.Symbol',Ext.Base,{priority:0,constructor:function(id,config){var defaultProperty=this.defaultProperty;config&&'object'===typeof config?Ext.apply(this,config):void 0!==config&&defaultProperty&&(this[defaultProperty]=config);this.id=id},led:function(){this.parser.syntaxError(this.at,'Missing operator')},nud:function(){this.parser.syntaxError(this.at,'Undefined')},update:function(config){if(config&&'object'===typeof config){var priority=config.priority,led=config.led;config=
config.nud;this.priority<=priority&&(this.priority=priority);led&&(this.led=led);config&&(this.nud=config)}}},1,0,0,0,0,0,[Ext.parse,'Symbol'],0);
Ext.cmd.derive('Ext.parse.symbol.Constant',Ext.parse.Symbol,{arity:'literal',isLiteral:!0,defaultProperty:'value',constructor:function(id,config){Ext.parse.Symbol.prototype.constructor.call(this,id,config);this._value=this.value},nud:function(){this.value=this._value;this.arity='literal';this.isLiteral=!0;return this}},1,0,0,0,0,0,[Ext.parse.symbol,'Constant'],0);
Ext.cmd.derive('Ext.parse.symbol.Infix',Ext.parse.Symbol,{arity:'binary',isBinary:!0,defaultProperty:'priority',led:function(left){this.lhs=left;this.rhs=this.parser.parseExpression(this.priority);this.arity='binary';this.isBinary=!0;return this}},0,0,0,0,0,0,[Ext.parse.symbol,'Infix'],0);
Ext.cmd.derive('Ext.parse.symbol.InfixRight',Ext.parse.symbol.Infix,{led:function(left){this.lhs=left;this.rhs=this.parser.parseExpression(this.priority-1);this.arity='binary';this.isBinary=!0;return this}},0,0,0,0,0,0,[Ext.parse.symbol,'InfixRight'],0);
Ext.cmd.derive('Ext.parse.symbol.Paren',Ext.parse.Symbol,{arity:'binary',isBinary:!0,priority:80,led:function(left){var args=[],parser=this.parser,id=left.id,type=left.arity;'.'!==id&&'['!==id&&('unary'===type&&'function'===id||'ident'===type||'('===id||'\x26\x26'===id||'||'===id||'?'===id||parser.syntaxError(left.at,'Expected a variable name.'));this.arity='invoke';this.isInvoke=!0;this.operand=left;for(this.args=args;')'!==parser.token.id;)args.length&&parser.advance(','),args.push(parser.parseExpression());
parser.advance(')');return this},nud:function(){var parser=this.parser,ret=parser.parseExpression();parser.advance(')');return ret}},0,0,0,0,0,0,[Ext.parse.symbol,'Paren'],0);Ext.cmd.derive('Ext.parse.symbol.Prefix',Ext.parse.Symbol,{arity:'unary',isUnary:!0,priority:70,nud:function(){this.operand=this.parser.parseExpression(this.priority);this.arity='unary';this.isUnary=!0;return this}},0,0,0,0,0,0,[Ext.parse.symbol,'Prefix'],0);
Ext.cmd.derive('Ext.parse.Parser',Ext.util.Fly,function(){var ITSELF=function(){return this};return{isParser:!0,config:{constants:{'null':null,'false':!1,'true':!0},infix:{'\x3d\x3d\x3d':40,'!\x3d\x3d':40,'\x3d\x3d':40,'!\x3d':40,'\x3c':40,'\x3c\x3d':40,'\x3e':40,'\x3e\x3d':40,'+':50,'-':50,'*':60,'/':60},infixRight:{'\x26\x26':30,'||':30},prefix:{'!':0,'-':0,'+':0},symbols:{':':0,',':0,')':0,'[':0,']':0,'{':0,'}':0,'(end)':0,'(ident)':{arity:'ident',isIdent:!0,nud:ITSELF},'(literal)':{arity:'literal',
isLiteral:!0,nud:ITSELF},'(':{xclass:'Ext.parse.symbol.Paren'}},tokenizer:{keywords:null}},token:null,constructor:function(config){this.symbols={};this.initConfig(config)},advance:function(expected){var tokenizer=this.tokenizer,token=tokenizer.peek(),symbols=this.symbols,index=tokenizer.index;if(this.error)throw this.error;expected&&this.expect(expected);if(!token)return this.token=symbols['(end)'];tokenizer.next();expected=token.is;tokenizer=token.value;if(expected.ident)var symbol=symbols[tokenizer]||
symbols['(ident)'];else if(expected.operator){(symbol=symbols[tokenizer])||this.syntaxError(token.at,'Unknown operator "'+tokenizer+'"');var name=token.name}else expected.literal?symbol=symbols['(literal)']:this.syntaxError(token.at,'Unexpected token');this.token=symbol=Ext.Object.chain(symbol);symbol.at=index;symbol.is=expected;symbol.value=tokenizer;symbol.arity||(symbol.arity=token.type);name&&(symbol.name=name);return symbol},expect:function(expected){var token=this.token;expected!==token.id&&
this.syntaxError(token.at,'Expected "'+expected+'"');return this},parseExpression:function(rightPriority){var token=this.token,left;rightPriority=rightPriority||0;this.advance();for(left=token.nud();rightPriority<(token=this.token).priority;)this.advance(),left=token.led(left);return left},reset:function(text,pos,end){this.error=this.token=null;this.tokenizer.reset(text,pos,end);this.advance();return this},syntaxError:function(at,message){'string'===typeof at&&(message=at,at=this.pos);var suffix=
null==at?'':' (at index '+at+')';message=Error(message+suffix);message.type='error';suffix&&(message.at=at);throw this.error=message;},privates:{error:null,addSymbol:function(id,config,type,update){var symbols=this.symbols,symbol=symbols[id];if(symbol){if('object'===typeof config)id=config;else if(update&&type)for(update=Ext.Array.from(update),config=update.length,id={},symbols=0;symbols<config;symbols++)id[update[symbols]]=type.prototype[update[symbols]];else return symbol;symbol.update(id)}else type=
config&&config.xclass?Ext.ClassManager.get(config.xclass):type||Ext.parse.Symbol,symbols[id]=symbol=new type(id,config),symbol.parser=this;return symbol},addSymbols:function(symbols,type,update){for(var id in symbols)this.addSymbol(id,symbols[id],type,update)},applyConstants:function(constants){this.addSymbols(constants,Ext.parse.symbol.Constant,'nud')},applyInfix:function(operators){this.addSymbols(operators,Ext.parse.symbol.Infix,'led')},applyInfixRight:function(operators){this.addSymbols(operators,
Ext.parse.symbol.InfixRight,'led')},applyPrefix:function(operators){this.addSymbols(operators,Ext.parse.symbol.Prefix,'nud')},applySymbols:function(symbols){this.addSymbols(symbols)},applyTokenizer:function(config){var ret=config;config&&!config.isTokenizer&&(ret=new Ext.parse.Tokenizer(config));this.tokenizer=ret}}}},1,0,0,0,0,0,[Ext.parse,'Parser'],0);
Ext.cmd.derive('Ext.app.bind.Parser',Ext.parse.Parser,{infix:{':':{priority:70,led:function(left){this.arity='formatter';this.operand=left;this.fmt=this.parser.parseFmt();return this}},'?':{priority:20,led:function(left){var parser=this.parser,symbol=parser.symbols[':'];this.condition=left;left=symbol.priority;symbol.priority=0;this.tv=parser.parseExpression(0);this.parser.advance(':');symbol.priority=left;this.fv=parser.parseExpression(0);this.arity='ternary';return this}}},symbols:{'(':{nud:function(){var parser=
this.parser,symbol=parser.symbols[':'];var temp=symbol.priority;symbol.priority=70;var ret=parser.parseExpression();parser.advance(')');symbol.priority=temp;return ret}}},prefix:{'@':0},tokenizer:{operators:{'@':'at','?':'qmark','\x3d\x3d\x3d':'feq','!\x3d\x3d':'fneq','\x3d\x3d':'eq','!\x3d':'neq','\x3c':'lt','\x3c\x3d':'lte','\x3e':'gt','\x3e\x3d':'gte','\x26\x26':'and','||':'or'}},compileExpression:function(tokens,tokensMaps){this.tokens=tokens;this.tokensMap=tokensMaps;tokens=this.parseSlot(this.parseExpression(),
void 0);this.tokens=this.tokensMap=null;return tokens},compileFormat:function(){var fn=this.parseSlot({arity:'formatter',fmt:this.parseFmt(),operand:{arity:'ident',value:'dummy'}});this.expect('(end)');return fn},privates:{useEval:Ext.isGecko,escapeRe:/(["'\\])/g,parseFmt:function(){var fmt=[],priority=this.symbols[':'].priority;do{fmt.length&&this.advance();var expr=this.parseExpression(priority);expr.isIdent||expr.isInvoke?fmt.push(expr):this.syntaxError(expr.at,'Expected formatter name')}while(':'===
this.token.id);return fmt},parseSlot:function(expr,debug){debug=[];var body=[],tokens=this.tokens||[];this.definitions=debug;this.body=body;body.push('return '+this.compile(expr)+';');var length=tokens.length;expr='var fm \x3d Ext.util.Format,\nme,';var temp='var a \x3d Ext.Array.from(values);\nme \x3d scope;\n';if(tokens.length)for(tokens=0;tokens<length;tokens++)expr+='v'+tokens+(tokens===length-1?';':','),temp+='v'+tokens+' \x3d a['+tokens+']; ';else expr+='v0;',temp+='v0 \x3d a[0];';debug=Ext.Array.insert(debug,
0,[expr]);body=Ext.Array.insert(body,0,[temp]);body=body.join('\n');debug.push((this.useEval?'$\x3d':'return')+' function (values, scope) {',body,'}');expr=debug.join('\n');debug=this.useEval?this.evalFn(expr):(new Function('Ext',expr))(Ext);this.definitions=this.body=null;return debug},compile:function(expr){switch(expr.arity){case 'ident':return this.addToken(expr.value);case 'literal':return expr=expr.value,'string'===typeof expr?'"'+String(expr).replace(this.escapeRe,'\\$1')+'"':expr;case 'unary':return this.compileUnary(expr);
case 'binary':return this.compileBinary(expr);case 'ternary':return this.compileTernary(expr);case 'formatter':return this.compileFormatter(expr)}return this.syntaxError(expr.at,'Compile error! Unknown symbol')},compileUnary:function(expr){var v=expr.value,op=expr.operand;return'!'===v||'-'===v||'+'===v?v+'('+this.compile(op)+')':'@'===v?op.isIdent?op.value:this.syntaxError(expr.at,'Compile error! Unexpected symbol'):''},compileBinary:function(expr){return'('+this.compile(expr.lhs)+' '+expr.value+
' '+this.compile(expr.rhs)+')'},compileTernary:function(expr){return'('+this.compile(expr.condition)+' ? '+this.compile(expr.tv)+' : '+this.compile(expr.fv)+')'},compileFormatter:function(expr){var fmt=expr.fmt,length=fmt.length,body=['var ret;'];if(fmt.length)for(body.push('ret \x3d '+this.compileFormatFn(fmt[0],this.compile(expr.operand))+';'),expr=1;expr<length;expr++)body.push('ret \x3d '+this.compileFormatFn(fmt[expr],'ret')+';');body.push('return ret;');return this.addFn(body.join('\n'))},compileFormatFn:function(expr,
value){var args=[],code='';if(expr.isIdent)var fmt=expr.value;else expr.isInvoke&&(fmt=expr.operand.value,args=expr.args);if('this.'===fmt.substring(0,5))fmt='me.'+fmt.substring(5);else{if(!(fmt in Ext.util.Format))return this.syntaxError(expr.at,'Compile error! Invalid format specified "'+fmt+'"');fmt='fm.'+fmt}code+=value;expr=args.length;for(value=0;value<expr;value++)code+=', '+this.compile(args[value]);return fmt+'('+code+')'},addFn:function(body){var defs=this.definitions,name='f'+defs.length;
defs.push('function '+name+'() {',body,'}');return name+'()'},evalFn:function($){eval($);return $},addToken:function(token){var tokensMap=this.tokensMap,tokens=this.tokens,pos=0;tokensMap&&tokens&&(token in tokensMap?pos=tokensMap[token]:(tokensMap[token]=pos=tokens.length,tokens.push(token)));return'v'+pos}}},0,0,0,0,0,0,[Ext.app.bind,'Parser'],0);
Ext.cmd.derive('Ext.app.bind.Template',Ext.Base,{escapes:!1,buffer:null,slots:null,tokens:null,constructor:function(text){var initters=this._initters,name;this.text=text;for(name in initters)this[name]=initters[name]},_initters:{apply:function(values,scope){return this.parse().apply(values,scope)},getTokens:function(){return this.parse().getTokens()}},apply:function(values,scope){var slots=this.slots,buffer=this.buffer,length=slots.length,i,slot;for(i=0;i<length;++i)(slot=slots[i])&&(buffer[i]=slot(values,
scope));return slot&&this.single?buffer[0]:buffer.join('')},getText:function(){return this.buffer.join('')},getTokens:function(){return this.tokens},isStatic:function(){var tokens=this.getTokens(),slots=this.slots;return 0===tokens.length&&0===slots.length},privates:{literalChar:'~',escapeChar:'\\',parse:function(){var text=this.text,parser=Ext.app.bind.Parser.fly(),buffer=this.buffer=[],slots=this.slots=[],length=text.length,pos=0,escapes=this.escapes,current='',i=0,esc=this.escapeChar,lit=this.literalChar,
escaped;for(lastEscaped in this._initters)delete this[lastEscaped];this.tokens=[];for(this.tokensMap={};i<length;){var c=text[i];var lastEscaped=escaped;if(escaped=escapes&&c===esc)c=text[i+1],++i;else if(c===lit&&prev===lit&&!lastEscaped){current=current.slice(0,-1);current+=text.substring(i+1);break}else if('{'===c){current&&(buffer[pos++]=current,current='');parser.reset(text,i+1);i=this.parseExpression(parser,pos);++pos;continue}current+=c;++i;var prev=c}current&&(buffer[pos]=current);parser.release();
this.single=0===buffer.length&&1===slots.length;return this},parseExpression:function(parser,pos){this.slots[pos]=parser.compileExpression(this.tokens,this.tokensMap);pos=parser.token.at+1;parser.expect('}');return pos}}},1,0,0,0,0,0,[Ext.app.bind,'Template'],0);
Ext.cmd.derive('Ext.app.bind.TemplateBinding',Ext.app.bind.BaseBinding,{isTemplateBinding:!0,lastValue:void 0,value:void 0,constructor:function(template,owner,callback,scope,options){template=new Ext.app.bind.Template(template);var tokens=template.getTokens();Ext.app.bind.BaseBinding.prototype.constructor.call(this,owner,callback,scope,options);this.tpl=template;this.tokens=tokens;tokens.$literal=!0;template.isStatic()?(this.isStatic=!0,this.onData(template.getText())):this.multiBinding=new Ext.app.bind.Multi(tokens,
owner,this.onBindData,this)},destroy:function(){Ext.destroy(this.multiBinding);this.tpl=this.multiBinding=null;Ext.app.bind.BaseBinding.prototype.destroy.call(this)},getFullName:function(){var multi=this.multiBinding;return this.fullName||(this.fullName='$'+(multi?multi.getFullName():Ext.app.bind.BaseBinding.prototype.getFullName.call(this)))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isAvailable:function(){var multi=this.multiBinding;return multi?multi.isAvailable():
!1},isDescendantOf:function(){return!1},isLoading:function(){var multi=this.multiBinding;return multi?multi.isLoading():!1},onBindData:function(data){this.onData(this.tpl.apply(data,this.getTemplateScope()))},onData:function(value){var lastValue=this.value;lastValue!==(this.value=value)&&(this.lastValue=lastValue,this.schedule())},react:function(){this.notify(this.value)},refresh:function(){var multi=this.multiBinding;multi&&multi.refresh()},privates:{sort:function(){var multi=this.multiBinding;multi&&
this.scheduler.sortItem(multi)}}},1,0,0,0,0,0,[Ext.app.bind,'TemplateBinding'],0);
Ext.cmd.derive('Ext.data.ChainedStore',Ext.data.AbstractStore,{isChainedStore:!0,config:{source:null,remoteFilter:!1,remoteSort:!1},syncSourceGrouping:!1,remove:function(){var source=this.getSource();return source.remove.apply(source,arguments)},removeAll:function(){return this.getSource().removeAll()},getData:function(){var data=this.data;data||(this.data=data=this.constructDataCollection());return data},getTotalCount:function(){return this.getCount()},getSession:function(){return this.getSourceValue('getSession',
null)},applySource:function(source){source&&(source=Ext.data.StoreManager.lookup(source));return source},updateSource:function(source,oldSource){oldSource&&!oldSource.destroyed&&oldSource.removeObserver(this);source&&(oldSource=this.getData(),oldSource.setSource(source.getData()),this.syncSourceGrouping&&this.setGrouper(source.getGrouper()),this.isInitializing||(this.fireEvent('refresh',this),this.fireEvent('datachanged',this)),source.addObserver(this))},getModel:function(){return this.getSourceValue('getModel',
null)},getProxy:function(){return null},onCollectionAdd:function(collection,info){collection=info.items;var lastChunk=!info.next;this.activeRanges&&this.syncActiveRanges();this.ignoreCollectionAdd||(this.fireEvent('add',this,collection,info.at),lastChunk&&this.fireEvent('datachanged',this))},onCollectionItemChange:function(collection,info){collection=info.item;var modifiedFieldNames=info.modified||null,type=info.meta;this.activeRanges&&info.newIndex!==info.oldIndex&&this.syncActiveRanges();this.onUpdate(collection,
type,modifiedFieldNames,info);this.fireEvent('update',this,collection,type,modifiedFieldNames,info);this.fireEvent('datachanged',this)},onCollectionUpdateKey:function(source,details){this.fireEvent('idchanged',this,details.item,details.oldKey,details.newKey)},onUpdate:Ext.emptyFn,lastCollectionRefesh:null,onCollectionRefresh:function(collection){collection=collection.generation;this.isConfiguring||this.lastCollectionRefesh===collection||(this.lastCollectionRefesh=collection,this.fireEvent('datachanged',
this),this.fireEvent('refresh',this))},onCollectionRemove:function(collection,info){collection=!info.next;this.ignoreCollectionRemove||(this.fireEvent('remove',this,info.items,info.at,!1),collection&&this.fireEvent('datachanged',this))},onSourceBeforeLoad:function(source,operation){this.fireEvent('beforeload',this,operation);this.callObservers('BeforeLoad',[operation])},onSourceAfterLoad:function(source,records,successful,operation){this.fireEvent('load',this,records,successful,operation);this.callObservers('AfterLoad',
[records,successful,operation])},onFilterEndUpdate:function(){this.getData().generation!==this.lastCollectionRefesh||this.getRemoteFilter()||(this.suppressNextFilter=!0);Ext.data.AbstractStore.prototype.onFilterEndUpdate.apply(this,arguments);this.callObservers('Filter')},onSourceBeforePopulate:function(){this.ignoreCollectionAdd=!0;this.callObservers('BeforePopulate')},onSourceAfterPopulate:function(){this.ignoreCollectionAdd=!1;this.fireEvent('datachanged',this);this.fireEvent('refresh',this);this.callObservers('AfterPopulate')},
onSourceBeforeClear:function(){this.ignoreCollectionRemove=!0;this.callObservers('BeforeClear')},onSourceAfterClear:function(){this.ignoreCollectionRemove=!1;this.callObservers('AfterClear')},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=!0;this.callObservers('BeforeRemoveAll')},onSourceAfterRemoveAll:function(source,silent){this.ignoreCollectionRemove=!1;silent||(this.fireEvent('clear',this),this.fireEvent('datachanged',this));this.callObservers('AfterRemoveAll',[silent])},onSourceFilter:function(){var gen=
this.getData().generation;this.lastCollectionRefesh!==gen&&(this.lastCollectionRefesh=gen,this.fireEvent('refresh',this),this.fireEvent('datachanged',this))},onSourceGrouperChange:function(source,grouper){this.syncSourceGrouping&&this.setGrouper(grouper)},hasPendingLoad:function(){return this.getSourceValue('hasPendingLoad',!1)},isLoaded:function(){return this.getSourceValue('isLoaded',!1)},isLoading:function(){return this.getSourceValue('isLoading',!1)},doDestroy:function(){this.observers=null;this.setSource(null);
this.getData().destroy(!0);this.data=null;Ext.data.AbstractStore.prototype.doDestroy.call(this)},privates:{getSourceValue:function(method,defaultValue){var source=this.getSource();source&&!source.destroyed&&(defaultValue=source[method]());return defaultValue},isMoving:function(){var source=this.getSource();return source.isMoving?source.isMoving.apply(source,arguments):!1},loadsSynchronously:function(){return this.getSource().loadsSynchronously()}}},0,0,0,0,['store.chained'],[[Ext.data.LocalStore.prototype.mixinId||
Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,'ChainedStore'],0);
Ext.cmd.derive('Ext.app.ViewModel',Ext.Base,{isViewModel:!0,factoryConfig:{name:'viewModel'},collectTimeout:100,expressionRe:/^(?:\{(?:(\d+)|([a-z_][\w.]*))\})$/i,statics:{escape:function(value){var ret=value,key;if('string'===typeof value)ret='~~'+value;else if(value&&value.constructor===Object)for(key in ret={},value)ret[key]=this.escape(value[key]);return ret}},$configStrict:!1,config:{data:!0,formulas:{$value:null,merge:function(newValue,currentValue,target,mixinClass){return this.mergeNew(newValue,
currentValue,target,mixinClass)}},links:null,parent:null,root:!0,scheduler:null,schema:'default',session:null,stores:null,view:null},constructor:function(config){this.bindings={};this.initConfig(config)},destroy:function(){var scheduler=this._scheduler,stores=this.storeInfo,parent=this.getParent(),task=this.collectTask,children=this.children,bindings=this.bindings,key;this.destroying=!0;task&&(task.cancel(),this.collectTask=null);if(children)for(key in children)children[key].destroy();if(stores)for(key in stores){task=
stores[key];var storeBinding=task.$binding;((children=task.autoDestroy)||!task.$wasInstance&&!1!==children)&&task.destroy();Ext.destroy(storeBinding)}parent&&parent.unregisterChild(this);this.getRoot().destroy();for(key in bindings)bindings[key].destroy();scheduler&&scheduler.$owner===this&&(scheduler.$owner=null,scheduler.destroy());this.children=this.storeInfo=this._session=this._view=this._scheduler=this.bindings=this._root=this._parent=this.formulaFn=this.$formulaData=null;this.callParent()},
bind:function(descriptor,callback,scope,options){var track=!0;scope=scope||this;options||void 0===descriptor.bindTo||Ext.isString(descriptor)||(options=descriptor,descriptor=options.bindTo);Ext.isString(descriptor)?this.expressionRe.test(descriptor)?(descriptor=descriptor.substring(1,descriptor.length-1),descriptor=this.bindExpression(descriptor,callback,scope,options),track=!1):descriptor=new Ext.app.bind.TemplateBinding(descriptor,this,callback,scope,options):descriptor=new Ext.app.bind.Multi(descriptor,
this,callback,scope,options);track&&(this.bindings[descriptor.id]=descriptor);return descriptor},getSession:function(){var session=this._session,parent;!session&&(parent=this.getParent())&&this.setSession(session=parent.getSession());return session||null},getStore:function(key){var storeInfo=this.storeInfo,store;storeInfo&&(store=storeInfo[key]);return store||null},linkTo:function(key,reference){reference.isModel&&(reference={type:reference.entityName,id:reference.id});var modelType=reference.type||
reference.reference;var create=reference.create;modelType?(reference=reference.id,create&&(reference=void 0),reference=this.getRecord(modelType,reference),Ext.isObject(create)&&(reference.set(create),reference.commit(),reference.phantom=!0),key=this.getRoot().createStubChild(key),key.set(reference)):(key=this.getStub(key),key.isLinkStub||(create=new Ext.app.bind.LinkStub(this,key.name),key.graft(create),key=create),key.link(reference))},notify:function(){var scheduler=this.getScheduler();scheduler.firing||
scheduler.notify()},get:function(path){return this.getStub(path).getValue()},set:function(path,value){this.getData();if(void 0===value&&path&&path.constructor===Object){var obj=this.getRoot();value=path}else path&&0>path.indexOf('.')?(obj={},obj[path]=value,value=obj,obj=this.getRoot()):obj=this.getStub(path);obj.set(value)},privates:{registerChild:function(child){var children=this.children;children||(this.children=children={});children[child.getId()]=child},unregisterChild:function(child){var children=
this.children;!this.destroying&&children&&delete children[child.getId()]},getRecord:function(type,id){var session=this.getSession(),Model=type,hasId=void 0!==id;session?type=hasId?session.getRecord(type,id):session.createRecord(type):(Model.$isClass||(Model=this.getSchema().getEntity(Model)),hasId?(type=Model.createWithId(id),type.load()):type=new Model);return type},bindExpression:function(descriptor,callback,scope,options){return this.getStub(descriptor).bind(callback,scope,options)},applyScheduler:function(scheduler){scheduler&&
!scheduler.isInstance&&(!0===scheduler&&(scheduler={}),'preSort'in scheduler||(scheduler=Ext.apply({preSort:'kind,-depth'},scheduler)),scheduler=new Ext.util.Scheduler(scheduler),scheduler.$owner=this);return scheduler},getScheduler:function(){var scheduler=this._scheduler;scheduler||((scheduler=this.getParent())?scheduler=scheduler.getScheduler():(scheduler=new Ext.util.Scheduler({preSort:'kind,-depth'}),scheduler.$owner=this),this.setScheduler(scheduler));return scheduler},getStub:function(bindDescr){var root=
this.getRoot();return bindDescr?root.getChild(bindDescr):root},collect:function(){var parent=this.getParent(),task=this.collectTask;parent?parent.collect():(task||(task=this.collectTask=new Ext.util.DelayedTask(this.doCollect,this)),0===this.collectTimeout?this.doCollect():task.delay(this.collectTimeout))},doCollect:function(){var children=this.children,key;if(children)for(key in children)children[key].doCollect();this.getRoot().collect()},invalidateChildLinks:function(name,clear){var children=this.children,
key;if(children)for(key in children)children[key].getRoot().invalidateChildLink(name,clear)},onBindDestroy:function(binding,fromChild){if(!this.destroying)if(fromChild||delete this.bindings[binding.id],fromChild=this.getParent())fromChild.onBindDestroy(binding,!0);else this.collect()},applyData:function(newData,data){this.getSession();data||(this.linkData=data=(data=this.getParent())?Ext.Object.chain(data.getData()):{},this.data=this._data=Ext.Object.chain(data));newData&&newData.constructor===Object&&
this.getRoot().set(newData,!0)},applyParent:function(parent){parent&&parent.registerChild(this);return parent},applyStores:function(stores){var me=this,root=me.getRoot(),key;me.storeInfo={};me.listenerScopeFn=function(){return me.getView().getInheritedConfig('defaultListenerScope')};for(key in stores){var cfg=stores[key];if(cfg.isStore)cfg.$wasInstance=!0,me.setupStore(cfg,key);else{cfg=Ext.isString(cfg)?{source:cfg}:Ext.apply({},cfg);var listeners=cfg.listeners;delete cfg.listeners;var storeBind=
me.bind(cfg,me.onStoreBind,me,{trackStatics:!0});storeBind.isStatic()?(storeBind.destroy(),me.createStore(key,cfg,listeners)):(storeBind.$storeKey=key,storeBind.$listeners=listeners,cfg=root.createStubChild(key),cfg.setStore(storeBind))}}},onStoreBind:function(cfg,oldValue,binding){var key=binding.$storeKey;(oldValue=this.storeInfo[key])?(cfg=Ext.merge({},binding.pruneStaticKeys()),binding=cfg.proxy,delete cfg.type,delete cfg.model,delete cfg.fields,delete cfg.proxy,delete cfg.listeners,binding&&
(delete binding.reader,delete binding.writer,oldValue.getProxy().setConfig(binding)),oldValue.setConfig(cfg)):this.createStore(key,cfg,binding.$listeners,binding)},createStore:function(key,cfg,listeners,binding){var session=this.getSession();cfg=Ext.apply({},cfg);cfg.session&&(cfg.session=session);cfg.source&&(cfg.type=cfg.type||'chained');cfg.listeners=listeners;cfg.resolveListenerScope=this.listenerScopeFn;cfg=Ext.Factory.store(cfg);cfg.$binding=binding;this.setupStore(cfg,key)},setupStore:function(store,
key){var obj={};this.getData();store.resolveListenerScope=this.listenerScopeFn;this.storeInfo[key]=store;obj[key]=store;this.setData(obj)},applyFormulas:function(formulas){var root=this.getRoot(),name;this.getData();for(name in formulas){root.createStubChild(name);var stub=this.getStub(name);stub.setFormula(formulas[name])}return formulas},applyLinks:function(links){for(var link in links)this.linkTo(link,links[link]);return links},applySchema:function(schema){return Ext.data.schema.Schema.get(schema)},
applyRoot:function(){var root=new Ext.app.bind.RootStub(this),parent=this.getParent();parent&&(root.depth=parent.getRoot().depth-1E3);return root},getFormulaFn:function(data){var me=this,fn=me.formulaFn;fn||(fn=me.formulaFn=function(name){return me.$formulaData[name]});me.$formulaData=data;return fn}}},1,0,0,0,['viewmodel.default'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,
Ext.mixin.Identifiable]],[Ext.app,'ViewModel'],0);
Ext.cmd.derive('Ext.app.domain.Controller',Ext.app.EventDomain,{singleton:!0,type:'controller',prefix:'controller.',idMatchRe:/^#/,constructor:function(){this.callParent();this.monitor(Ext.app.BaseController)},match:function(target,selector){var result=!1,alias=target.alias;'*'===selector?result=!0:'#'===selector?result=!!target.isApplication:this.idMatchRe.test(selector)?result=target.getId()===selector.substring(1):alias&&(result=-1<Ext.Array.indexOf(alias,this.prefix+selector));return result}},
1,0,0,0,0,0,[Ext.app.domain,'Controller'],0);
Ext.cmd.derive('Ext.data.PageMap',Ext.util.LruCache,{config:{store:null,pageSize:0,rootProperty:''},clear:function(initial){this.pageMapGeneration=(this.pageMapGeneration||0)+1;this.indexMap={};Ext.util.LruCache.prototype.clear.call(this,initial)},forEach:function(fn,scope){var pageNumbers=Ext.Object.getKeys(this.map),pageCount=pageNumbers.length,pageSize=this.getPageSize(),i,j;for(i=0;i<pageCount;i++)pageNumbers[i]=+pageNumbers[i];Ext.Array.sort(pageNumbers,Ext.Array.numericSortFn);scope=scope||
this;for(i=0;i<pageCount;i++){var pageNumber=pageNumbers[i];var page=this.getPage(pageNumber);var len=page.length;for(j=0;j<len;j++)if(!1===fn.call(scope,page[j],(pageNumber-1)*pageSize+j))return}},findBy:function(fn,scope){var result=null;scope=scope||this;this.forEach(function(rec,index){if(fn.call(scope,rec,index))return result=rec,!1});return result},findIndexBy:function(fn,scope){var result=-1;scope=scope||this;this.forEach(function(rec,index){if(fn.call(scope,rec))return result=index,!1});return result},
find:function(property,value,start,startsWith,endsWith,ignoreCase){if(Ext.isEmpty(value,!1))return null;var regex=Ext.String.createRegex(value,startsWith,endsWith,ignoreCase),root=this.getRootProperty();return this.findBy(function(item){return item&&regex.test((root?item[root]:item)[property])},null,start)},findIndex:function(property,value,start,startsWith,endsWith,ignoreCase){if(Ext.isEmpty(value,!1))return null;var regex=Ext.String.createRegex(value,startsWith,endsWith,ignoreCase),root=this.getRootProperty();
return this.findIndexBy(function(item){return item&&regex.test((root?item[root]:item)[property])},null,start)},getPageFromRecordIndex:function(index){return Math.floor(index/this.getPageSize())+1},addAll:function(records){this.addPage(1,records)},addPage:function(pageNumber,records){var pageSize=this.getPageSize(),lastPage=pageNumber+Math.floor((records.length-1)/pageSize),storeIndex=(pageNumber-1)*pageSize,indexMap=this.indexMap,len,startIdx;for(startIdx=0;pageNumber<=lastPage;pageNumber++,startIdx+=
pageSize){var page=Ext.Array.slice(records,startIdx,startIdx+pageSize);var i=0;for(len=page.length;i<len;i++)indexMap[page[i].internalId]=storeIndex++;this.add(pageNumber,page);this.fireEvent('pageadd',this,pageNumber,page)}},getCount:function(){var result=Ext.util.LruCache.prototype.getCount.call(this);result&&(result=(result-1)*this.getPageSize()+this.last.value.length);return result},getByInternalId:function(internalId){internalId=this.indexMap[internalId];if(null!=internalId)return this.getAt(internalId)},
indexOf:function(record){var result=-1;record&&(result=this.indexMap[record.internalId],null==result&&(result=-1));return result},insert:function(){},remove:function(){},removeAt:function(){},removeAtKey:function(page){var thePage=this.getPage(page),result;if(thePage&&!1!==this.fireEvent('beforepageremove',this,page,thePage)){var len=thePage.length;for(result=0;result<len;result++)delete this.indexMap[thePage[result].internalId];result=Ext.util.LruCache.prototype.removeAtKey.apply(this,arguments);
this.fireEvent('pageremove',this,page,thePage);thePage.length=0}return result},getPage:function(pageNumber){return this.get(pageNumber)},hasRange:function(start,end){start=this.getPageFromRecordIndex(start);for(var endPageNumber=this.getPageFromRecordIndex(end);start<=endPageNumber;start++)if(!this.hasPage(start))return!1;return(endPageNumber-1)*this._pageSize+this.getPage(endPageNumber).length>end},hasPage:function(pageNumber){return!!this.get(pageNumber)},peekPage:function(pageNumber){return this.map[pageNumber]},
getAt:function(index){return this.getRange(index,index+1)[0]},getRange:function(start,end){end&&end--;this.hasRange(start,end)||Ext.raise('PageMap asked for range which it does not have');for(var Array=Ext.Array,pageSize=this.getPageSize(),startPageNumber=this.getPageFromRecordIndex(start),endPageNumber=this.getPageFromRecordIndex(end),dataStart=(startPageNumber-1)*pageSize,dataEnd=endPageNumber*pageSize-1,pageNumber=startPageNumber,result=[],sliceBegin,sliceEnd,doSlice;pageNumber<=endPageNumber;pageNumber++)pageNumber===
startPageNumber?(sliceBegin=start-dataStart,doSlice=0<sliceBegin):(sliceBegin=0,doSlice=!1),pageNumber===endPageNumber&&(sliceEnd=pageSize-(dataEnd-end),doSlice=doSlice||sliceEnd<pageSize),doSlice?Array.push(result,Array.slice(this.getPage(pageNumber),sliceBegin,sliceEnd)):Array.push(result,this.getPage(pageNumber));return result}},0,0,0,0,0,0,[Ext.data,'PageMap'],0);
Ext.cmd.derive('Ext.data.BufferedStore',Ext.data.ProxyStore,{isBufferedStore:!0,buffered:!0,config:{data:0,pageSize:25,remoteSort:!0,remoteFilter:!0,sortOnLoad:!1,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0,trackRemoved:!1},applyData:function(data){return this.data||(this.data=this.createDataCollection())},applyProxy:function(proxy){(proxy=Ext.data.ProxyStore.prototype.applyProxy.call(this,proxy))&&proxy.setEnablePaging&&proxy.setEnablePaging(!0);return proxy},
applyAutoSort:function(){},createFiltersCollection:function(){return new Ext.util.FilterCollection},createSortersCollection:function(){return new Ext.util.SorterCollection},updateGroupField:function(field){this.group(field)},getGrouper:function(){return this.grouper},isGrouped:function(){return!!this.grouper},createDataCollection:function(){var result=new Ext.data.PageMap({store:this,rootProperty:'data',pageSize:this.getPageSize(),maxSize:this.getPurgePageCount(),listeners:{clear:this.onPageMapClear,
scope:this}});this.relayEvents(result,['beforepageremove','pageadd','pageremove']);this.pageRequests={};return result},removeAll:function(silent){var data=this.getData();data&&(silent&&this.suspendEvent('clear'),data.clear(),silent&&this.resumeEvent('clear'))},flushLoad:function(){var options=this.pendingLoadOptions;this.clearLoadTask();if(options)return options.preserveOnFlush||(this.getData().clear(),options.page=1,options.start=0,options.limit=this.getViewSize()||this.getDefaultViewSize()),options.loadCallback=
options.callback,options.callback=null,this.loadToPrefetch(options)},reload:function(options){var me=this,data=me.getData(),lastTotal=Number.MAX_VALUE,records;options||(options={});if(!me.loading&&!1!==me.fireEvent('beforeload',me,options)){var waitForReload=function(){var newCount=me.totalCount,oldRequestSize=endIdx-startIdx;endIdx>=newCount&&(endIdx=newCount-1,startIdx=Math.max(endIdx-oldRequestSize,0));me.rangeCached(startIdx,endIdx,!1)&&(me.loadCount=(me.loadCount||0)+1,me.loading=!1,data.un('pageadd',
waitForReload),records=data.getRange(startIdx,endIdx),me.fireEvent('refresh',me),me.fireEvent('load',me,records,!0))};var startPage=Math.ceil((me.getLeadingBufferZone()+me.getTrailingBufferZone())/2);if(me.lastRequestStart&&me.preserveScrollOnReload){var startIdx=me.lastRequestStart;var endIdx=me.lastRequestEnd;lastTotal=me.getTotalCount()}else startIdx=options.start||0,endIdx=startIdx+(options.count||me.getPageSize())-1;data.clear(!0);delete me.totalCount;startIdx=Math.max(startIdx-startPage,0);
endIdx=Math.min(endIdx+startPage,lastTotal);startIdx=0===startIdx?0:startIdx-1;endIdx=endIdx===lastTotal?endIdx:endIdx+1;startPage=me.getPageFromRecordIndex(startIdx);lastTotal=me.getPageFromRecordIndex(endIdx);me.loading=!0;options.waitForReload=waitForReload;for(data.on('pageadd',waitForReload);startPage<=lastTotal;startPage++)me.prefetchPage(startPage,options)}},filter:function(){Ext.data.ProxyStore.prototype.filter.apply(this,arguments)},filterBy:function(fn,scope){},loadData:function(data,append){},
loadPage:function(page,options){options=options||{};options.page=this.currentPage=page;options.start=(page-1)*this.getPageSize();options.limit=this.getViewSize()||this.getDefaultViewSize();options.loadCallback=options.callback;options.callback=null;options.preserveOnFlush=!0;return this.load(options)},clearData:function(isLoad){(isLoad=this.getData())&&isLoad.clear()},getCount:function(){return this.totalCount||0},getRange:function(start,end,options){var me=this,maxIndex=me.totalCount-1,lastRequestStart=
me.lastRequestStart,result=[],data=me.getData();options=Ext.apply({prefetchStart:start,prefetchEnd:end},options);end=end>=me.totalCount?maxIndex:end;if(!1!==options.forRender){var requiredStart=0===start?0:start-1;maxIndex=end===maxIndex?end:end+1}else requiredStart=start,maxIndex=end;me.lastRequestStart=start;me.lastRequestEnd=end;if(me.rangeCached(start,end,options.forRender))me.onRangeAvailable(options),result=data.getRange(start,end+1);else{me.fireEvent('cachemiss',me,start,end);var requiredStartPage=
me.getPageFromRecordIndex(requiredStart);var requiredEndPage=me.getPageFromRecordIndex(maxIndex);var pageAddHandler=function(pageMap,page,records){page>=requiredStartPage&&page<=requiredEndPage&&me.rangeCached(start,end)&&(me.fireEvent('cachefilled',me,start,end),data.un('pageadd',pageAddHandler),me.onRangeAvailable(options))};data.on('pageadd',pageAddHandler);me.prefetchRange(start,end)}me.primeCache(start,end,start<lastRequestStart?-1:1);return result},getById:function(id){return this.data.findBy(function(record){return record.getId()===
id})},getAt:function(index){var data=this.getData();if(data.hasRange(index,index))return data.getAt(index)},getByInternalId:function(internalId){return this.data.getByInternalId(internalId)},contains:function(record){return-1<this.indexOf(record)},indexOf:function(record){return this.getData().indexOf(record)},indexOfId:function(id){return this.indexOf(this.getById(id))},group:function(grouper,direction){var me=this,oldGrouper;grouper&&'string'===typeof grouper?(oldGrouper=me.grouper)&&void 0!==direction?
oldGrouper.setDirection(direction):me.grouper=new Ext.util.Grouper({property:grouper,direction:direction||'ASC',root:'data'}):me.grouper=grouper?me.getSorters().decodeSorter(grouper,Ext.util.Grouper):null;me.getData().clear();me.loadPage(1,{callback:function(){me.fireEvent('groupchange',me,me.getGrouper())}})},getPageFromRecordIndex:function(index){return Math.floor(index/this.getPageSize())+1},calculatePageCacheSize:function(rangeSizeRequested){var purgePageCount=this.getPurgePageCount();return purgePageCount?
Math.max(this.getData().getMaxSize()||0,2*Math.ceil((rangeSizeRequested+this.getTrailingBufferZone()+this.getLeadingBufferZone())/this.getPageSize())+purgePageCount):0},loadToPrefetch:function(options){var me=this,prefetchOptions=options,i,records$jscomp$0,dataSetSize,startIdx=options.start,endIdx=options.start+options.limit-1,rangeSizeRequested=me.getViewSize()||options.limit,loadEndIdx=Math.min(endIdx,options.start+rangeSizeRequested-1),startPage=me.getPageFromRecordIndex(Math.max(startIdx-me.getTrailingBufferZone(),
0)),endPage=me.getPageFromRecordIndex(endIdx+me.getLeadingBufferZone()),data=me.getData(),callbackFn=function(){records$jscomp$0=records$jscomp$0||[];options.loadCallback&&options.loadCallback.call(options.scope||me,records$jscomp$0,operation,!0);options.callback&&options.callback.call(options.scope||me,records$jscomp$0,startIdx||0,endIdx||0,options)},fireEventsFn=function(){me.loadCount=(me.loadCount||0)+1;me.fireEvent('datachanged',me);me.fireEvent('refresh',me);me.fireEvent('load',me,records$jscomp$0,
!0)},waitForRequestedRange=function(){me.rangeCached(startIdx,loadEndIdx)&&(me.loading=!1,records$jscomp$0=data.getRange(startIdx,loadEndIdx+1),data.un('pageadd',waitForRequestedRange),me.hasListeners.guaranteedrange&&me.guaranteeRange(startIdx,loadEndIdx,options.callback,options.scope),callbackFn(),fireEventsFn())},operation;data.setMaxSize(me.calculatePageCacheSize(rangeSizeRequested));!1!==me.fireEvent('beforeload',me,options)&&(delete me.totalCount,me.loading=!0,options.callback&&(prefetchOptions=
Ext.apply({},options),delete prefetchOptions.callback),me.on('prefetch',function(store,records,successful,op){operation=op;if(successful)if(dataSetSize=me.getTotalCount())for(data.on('pageadd',waitForRequestedRange),loadEndIdx=Math.min(loadEndIdx,dataSetSize-1),endPage=me.getPageFromRecordIndex(Math.min(loadEndIdx+me.getLeadingBufferZone(),dataSetSize-1)),i=startPage+1;i<=endPage;++i)me.prefetchPage(i,prefetchOptions);else callbackFn(),fireEventsFn();else me.loading=!1,callbackFn(),me.fireEvent('load',
me,records,!1)},null,{single:!0}),me.prefetchPage(startPage,prefetchOptions))},prefetch:function(options){var pageSize=this.getPageSize(),data=this.getData();pageSize?(this.lastPageSize&&pageSize!==this.lastPageSize&&Ext.raise('pageSize cannot be dynamically altered'),data.getPageSize()||data.setPageSize(pageSize)):this.pageSize=data.setPageSize(pageSize=options.limit);this.lastPageSize=pageSize;options.page||(options.page=this.getPageFromRecordIndex(options.start),options.start=(options.page-1)*
pageSize,options.limit=Math.ceil(options.limit/pageSize)*pageSize);pageSize=this.pageRequests[options.page];pageSize&&pageSize.getOperation().pageMapGeneration===data.pageMapGeneration||(options=Ext.apply({action:'read',filters:this.getFilters().items,sorters:this.getSorters().items,grouper:this.getGrouper(),internalCallback:this.onProxyPrefetch,internalScope:this},options),pageSize=this.createOperation('read',options),pageSize.pageMapGeneration=data.pageMapGeneration,!1!==this.fireEvent('beforeprefetch',
this,pageSize)&&(this.pageRequests[options.page]=pageSize.execute(),this.getProxy().isSynchronous&&delete this.pageRequests[options.page]));return this},onPageMapClear:function(){var loadingFlag=this.wasLoading,reqs=this.pageRequests,data=this.getData(),page;data.clearListeners();data.on('clear',this.onPageMapClear,this);this.relayEvents(data,['beforepageremove','pageadd','pageremove']);this.loading=!0;this.totalCount=0;for(page in reqs)reqs.hasOwnProperty(page)&&reqs[page].getOperation().abort();
this.fireEvent('clear',this);this.loading=loadingFlag},prefetchPage:function(page,options){var pageSize=this.getPageSize(),start=(page-1)*pageSize,total=this.totalCount;void 0!==total&&this.data.getCount()===total||this.prefetch(Ext.applyIf({page,start,limit:pageSize},options))},onProxyPrefetch:function(operation){if(!this.destroying&&!this.destroyed){var resultSet=operation.getResultSet(),records=operation.getRecords(),successful=operation.wasSuccessful(),page=operation.getPage(),waitForReload=operation.waitForReload,
oldTotal=this.totalCount,requests=this.pageRequests,key;if(operation.pageMapGeneration===this.getData().pageMapGeneration){resultSet&&(this.totalCount=resultSet.getTotal(),this.totalCount!==oldTotal&&this.fireEvent('totalcountchange',this.totalCount));void 0!==page&&delete this.pageRequests[page];this.loading=!1;this.fireEvent('prefetch',this,records,successful,operation);if(successful)if(0===this.totalCount){if(waitForReload){for(key in requests)resultSet=requests[key].getOperation(),resultSet.waitForReload===
waitForReload&&delete resultSet.waitForReload;this.getData().un('pageadd',waitForReload);this.fireEvent('refresh',this);this.fireEvent('load',this,[],!0)}}else this.cachePage(records,operation.getPage());Ext.callback(operation.getCallback(),operation.getScope()||this,[records,operation,successful])}}},cachePage:function(records,page){var len=records.length,i;Ext.isDefined(this.totalCount)||(this.totalCount=records.length,this.fireEvent('totalcountchange',this.totalCount));for(i=0;i<len;i++)records[i].join(this);
this.getData().addPage(page,records)},rangeCached:function(start,end,forRender){var requiredStart=start,requiredEnd=end;!1!==forRender&&(requiredStart=0===start?0:start-1,requiredEnd=end===this.totalCount-1?end:end+1);return this.getData().hasRange(requiredStart,requiredEnd)},pageCached:function(page){return this.getData().hasPage(page)},pagePending:function(page){return!!this.pageRequests[page]},rangeSatisfied:function(start,end){return this.rangeCached(start,end)},onRangeAvailable:function(options){var totalCount=
this.getTotalCount(),start=options.prefetchStart;totalCount=options.prefetchEnd>totalCount-1?totalCount-1:options.prefetchEnd;totalCount=Math.max(0,totalCount);var range=this.getData().getRange(start,totalCount+1);!1!==options.fireEvent&&this.fireEvent('guaranteedrange',range,start,totalCount,options);options.callback&&options.callback.call(options.scope||this,range,start,totalCount,options)},guaranteeRange:function(start,end,callback,scope,options){options=Ext.apply({callback,scope},options);this.getRange(start,
end+1,options)},prefetchRange:function(start,end){var data=this.getData();if(!this.rangeCached(start,end)){var startPage=this.getPageFromRecordIndex(start);var endPage=this.getPageFromRecordIndex(end);data.setMaxSize(this.calculatePageCacheSize(end-start+1));for(start=startPage;start<=endPage;start++)this.pageCached(start)||this.prefetchPage(start)}},primeCache:function(start,end,direction){var leadingBufferZone=this.getLeadingBufferZone(),trailingBufferZone=this.getTrailingBufferZone(),pageSize=
this.getPageSize(),totalCount=this.totalCount;-1===direction?(start=Math.max(start-leadingBufferZone,0),end=Math.min(end+trailingBufferZone,totalCount-1)):1===direction?(start=Math.max(Math.min(start-trailingBufferZone,totalCount-pageSize),0),end=Math.min(end+leadingBufferZone,totalCount-1)):(start=Math.min(Math.max(Math.floor(start-(leadingBufferZone+trailingBufferZone)/2),0),totalCount-this.pageSize),end=Math.min(Math.max(Math.ceil(end+(leadingBufferZone+trailingBufferZone)/2),0),totalCount-1));
this.prefetchRange(start,end)},sort:function(field,direction,mode){0===arguments.length?this.clearAndLoad():this.getSorters().addSort(field,direction,mode)},onSorterEndUpdate:function(){var me=this,sorters=me.getSorters().getRange();sorters.length?(me.fireEvent('beforesort',me,sorters),me.clearAndLoad({callback:function(){me.fireEvent('sort',me,sorters)}})):me.fireEvent('sort',me,sorters)},clearAndLoad:function(options){this.clearing=!0;this.getData().clear();this.clearing=!1;this.loadPage(1,options)},
privates:{isLast:function(record){return this.indexOf(record)===this.getTotalCount()-1},isMoving:function(){return!1}}},0,0,0,0,['store.buffered'],0,[Ext.data,'BufferedStore'],0);
Ext.cmd.derive('Ext.data.JsonP',Ext.Base,{singleton:!0,requestCount:0,requests:{},timeout:3E4,disableCaching:!0,disableCachingParam:'_dc',callbackKey:'callback',request:function(options){options=Ext.apply({},options);var disableCaching=Ext.isDefined(options.disableCaching)?options.disableCaching:this.disableCaching,cacheParam=options.disableCachingParam||this.disableCachingParam,id=++this.requestCount,callbackName=options.callbackName||'callback'+id,callbackKey=options.callbackKey||this.callbackKey,
timeout=Ext.isDefined(options.timeout)?options.timeout:this.timeout,params=Ext.apply({},options.params),url=options.url,name=Ext.name;disableCaching&&!params[cacheParam]&&(params[cacheParam]=Ext.Date.now());options.params=params;params[callbackKey]=name+'.data.JsonP.'+callbackName;disableCaching=this.createScript(url,params,options);this.requests[id]=options={url,params,script:disableCaching,id,scope:options.scope,success:options.success,failure:options.failure,callback:options.callback,callbackKey,
callbackName};0<timeout&&(options.timeout=Ext.defer(this.handleTimeout,timeout,this,[options]));this.setupErrorHandling(options);this[callbackName]=this.bindResponse(options);this.loadScript(options);return options},bindResponse:function(request){var me=this;return function(result){Ext.elevate(function(){me.handleResponse(result,request)})}},abort:function(request){var requests=this.requests,key;if(request)request.id||(request=requests[request]),this.handleAbort(request);else for(key in requests)requests.hasOwnProperty(key)&&
this.abort(requests[key])},setupErrorHandling:function(request){request.script.onerror=Ext.bind(this.handleError,this,[request])},handleAbort:function(request){request.errorType='abort';this.handleResponse(null,request)},handleError:function(request){request.errorType='error';this.handleResponse(null,request)},cleanupErrorHandling:function(request){request.script.onerror=null},handleTimeout:function(request){request.errorType='timeout';this.handleResponse(null,request)},handleResponse:function(result,
request){var success=!0;Ext.undefer(request.timeout);delete this[request.callbackName];delete this.requests[request.id];this.cleanupErrorHandling(request);Ext.fly(request.script).destroy();request.errorType?(success=!1,Ext.callback(request.failure,request.scope,[request.errorType])):Ext.callback(request.success,request.scope,[result]);Ext.callback(request.callback,request.scope,[success,result,request.errorType])},createScript:function(url,params,options){options=document.createElement('script');
options.setAttribute('src',Ext.urlAppend(url,Ext.Object.toQueryString(params)));options.setAttribute('async',!0);options.setAttribute('type','text/javascript');return options},loadScript:function(request){Ext.getHead().appendChild(request.script)}},0,0,0,0,0,0,[Ext.data,'JsonP'],0);
Ext.cmd.derive('Ext.data.NodeInterface',Ext.Base,{statics:{decorate:function(modelClass){modelClass=Ext.data.schema.Schema.lookupEntity(modelClass);var proto=modelClass.prototype;modelClass.prototype.isObservable||modelClass.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable);if(!proto.isNode){proto=modelClass.getField(proto.idProperty);var idType=proto.type;modelClass.override(this.getPrototypeBody());modelClass.addFields([{name:'parentId',type:idType,defaultValue:null,allowNull:proto.allowNull},
{name:'index',type:'int',defaultValue:-1,persist:!1,convert:null},{name:'depth',type:'int',defaultValue:0,persist:!1,convert:null},{name:'expanded',type:'bool',defaultValue:!1,persist:!1,convert:null},{name:'expandable',type:'bool',defaultValue:!0,persist:!1,convert:null},{name:'checked',type:'auto',defaultValue:null,persist:!1,convert:null},{name:'leaf',type:'bool',defaultValue:!1},{name:'cls',type:'string',defaultValue:'',persist:!1,convert:null},{name:'iconCls',type:'string',defaultValue:'',persist:!1,
convert:null},{name:'icon',type:'string',defaultValue:'',persist:!1,convert:null},{name:'glyph',type:'string',defaultValue:'',persist:!1,convert:null},{name:'root',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'isLast',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'isFirst',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'allowDrop',type:'boolean',defaultValue:!0,persist:!1,convert:null},{name:'allowDrag',type:'boolean',defaultValue:!0,persist:!1,convert:null},
{name:'loaded',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'loading',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'href',type:'string',defaultValue:'',persist:!1,convert:null},{name:'hrefTarget',type:'string',defaultValue:'',persist:!1,convert:null},{name:'qtip',type:'string',defaultValue:'',persist:!1,convert:null},{name:'qtitle',type:'string',defaultValue:'',persist:!1,convert:null},{name:'qshowDelay',type:'int',defaultValue:0,persist:!1,convert:null},{name:'children',
type:'auto',defaultValue:null,persist:!1,convert:null},{name:'visible',type:'boolean',defaultValue:!0,persist:!1},{name:'text',type:'string',persist:!1}])}},getPrototypeBody:function(){var bubbledEvents={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0},silently={silent:!0};return{isNode:!0,firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,
constructor:function(){this.mixins.observable.constructor.call(this);this.callParent(arguments);this.childNodes=[];return this},createNode:function(node){var childType=this.childType,T=this.self;if(!node.isModel){if(childType)T=this.schema.getEntity(childType);else{childType=(childType=this.getTreeStore())&&childType.getProxy().getReader();var nodeProxy=(nodeProxy=this.getProxy())?nodeProxy.getReader():null;(childType=!childType||nodeProxy&&nodeProxy.initialConfig.typeProperty?nodeProxy:childType)&&
(nodeProxy=childType.getTypeProperty())&&(T=childType.getChildType(this.schema,node,nodeProxy))}node=new T(node)}node.childNodes||(node.firstChild=node.lastChild=node.parentNode=node.previousSibling=node.nextSibling=null,node.childNodes=[]);return node},isLeaf:function(){return!0===this.get('leaf')},setFirstChild:function(node){this.firstChild=node},setLastChild:function(node){this.lastChild=node},updateInfo:function(commit,info){var phantom=this.phantom,i;commit={silent:!0,commit};if(null!=info.depth&&
info.depth!==this.data.depth){var childInfo={depth:info.depth+1};var children=this.childNodes;var childCount=children.length;for(i=0;i<childCount;i++)children[i].updateInfo(commit,childInfo)}commit=this.set(info,commit);this.phantom=phantom;return commit},isLast:function(){return this.get('isLast')},isFirst:function(){return this.get('isFirst')},hasChildNodes:function(){return!this.isLeaf()&&0<this.childNodes.length},isExpandable:function(){return this.get('expandable')?!(this.isLeaf()||this.isLoaded()&&
!this.phantom&&!this.hasChildNodes()):!1},triggerUIUpdate:function(){this.callJoined('afterEdit',[])},appendChild:function(node,suppressEvents,commit){var treeStore=this.getTreeStore(),bulkUpdate=treeStore&&treeStore.bulkUpdate,childInfo={isLast:!0,parentId:this.getId(),depth:(this.data.depth||0)+1},previousSibling;Ext.suspendLayouts();if(Ext.isArray(node)){var oldParent=node.length;bulkUpdate=Array(oldParent);this.callTreeStore('beginFill');for(treeStore=0;treeStore<oldParent;treeStore++)bulkUpdate[treeStore]=
this.appendChild(node[treeStore],suppressEvents,commit);this.callTreeStore('endFill',[bulkUpdate])}else{node=this.createNode(node);if(!0!==suppressEvents&&!1===this.fireBubbledEvent('beforeappend',[this,node]))return Ext.resumeLayouts(!0),!1;var index=this.childNodes.length;if(oldParent=node.parentNode)if(!0!==suppressEvents&&!1===node.fireBubbledEvent('beforemove',[node,oldParent,this,index])||!1===oldParent.removeChild(node,!1,suppressEvents,oldParent.getTreeStore()===treeStore))return Ext.resumeLayouts(!0),
!1;treeStore&&treeStore.beginUpdate();index=this.childNodes.length;0===index&&this.setFirstChild(node);this.childNodes[index]=node;node.parentNode=this;node.nextSibling=null;this.setLastChild(node);(previousSibling=this.childNodes[index-1])?(node.previousSibling=previousSibling,previousSibling.nextSibling=node,previousSibling.updateInfo(commit,{isLast:!1}),bulkUpdate||previousSibling.triggerUIUpdate()):node.previousSibling=null;childInfo.isFirst=0===index;childInfo.index=index;commit=node.updateInfo(commit,
childInfo);this.isLeaf()&&this.set('leaf',!1);this.isLoaded()?1!==this.childNodes.length||bulkUpdate||this.triggerUIUpdate():bulkUpdate?this.data.loaded=!0:this.set('loaded',!0);index&&this.childNodes[index-1].isExpanded()&&!bulkUpdate&&this.childNodes[index-1].cascade(this.triggerUIUpdate);treeStore&&(treeStore.registerNode(this,!bulkUpdate),bulkUpdate&&treeStore.registerNode(node));!0!==suppressEvents&&(this.fireBubbledEvent('append',[this,node,index]),oldParent&&node.fireBubbledEvent('move',[node,
oldParent,this,index]));this.callTreeStore('onNodeAppend',[node,index]);commit&&node.callJoined('afterEdit',[commit]);bulkUpdate=node;treeStore&&treeStore.endUpdate()}Ext.resumeLayouts(!0);return bulkUpdate},getOwnerTree:function(){var store=this.getTreeStore();return store&&store.ownerTree},getTreeStore:function(){for(var root=this;root&&!root.treeStore;)root=root.parentNode;return root&&root.treeStore},removeChild:function(node,erase,suppressEvents,isMove){var index=this.indexOf(node),childCount,
treeStore=this.getTreeStore(),bulkUpdate=treeStore&&treeStore.bulkUpdate,removeRange=[];if(-1===index||!0!==suppressEvents&&!1===this.fireBubbledEvent('beforeremove',[this,node,!!isMove]))return!1;Ext.suspendLayouts();treeStore&&treeStore.beginUpdate();Ext.Array.erase(this.childNodes,index,1);this.firstChild===node&&this.setFirstChild(node.nextSibling);this.lastChild===node&&this.setLastChild(node.previousSibling);if(childCount=node.previousSibling)node.previousSibling.nextSibling=node.nextSibling;
if(node.nextSibling)for(node.nextSibling.previousSibling=node.previousSibling,0===index&&node.nextSibling.updateInfo(!1,{isFirst:!0}),childCount=this.childNodes.length;index<childCount;index++)this.childNodes[index].updateInfo(!1,{index});else childCount&&(childCount.updateInfo(!1,{isLast:!0}),bulkUpdate||(childCount.isExpanded()?childCount.cascade(this.triggerUIUpdate):childCount.triggerUIUpdate()));this.childNodes.length||bulkUpdate||this.triggerUIUpdate();Ext.resumeLayouts(!0);!0!==suppressEvents&&
(suppressEvents={parentNode:node.parentNode,previousSibling:node.previousSibling,nextSibling:node.nextSibling},this.callTreeStore('beforeNodeRemove',[[node],!!isMove,removeRange]),node.previousSibling=node.nextSibling=node.parentNode=null,this.fireBubbledEvent('remove',[this,node,!!isMove,suppressEvents]),this.callTreeStore('onNodeRemove',[[node],!!isMove,removeRange]));erase?node.erase(!0):node.clear();isMove||node.set({parentId:null,lastParentId:this.getId()},silently);treeStore&&treeStore.endUpdate();
return node},copy:function(newId,session,deep){var result=[newId];var len=this.childNodes?this.childNodes.length:0,i;session&&session.isSession?result.push(session):3>arguments.length&&(deep=session);result=this.callParent(result);if(deep)for(i=0;i<len;i++)result.appendChild(this.childNodes[i].copy(void 0,!0));return result},clear:function(erase,resetChildren){this.parentNode=this.previousSibling=this.nextSibling=null;erase&&(this.firstChild=this.lastChild=this.childNodes=null);resetChildren&&(this.firstChild=
this.lastChild=null,this.childNodes.length=0,this.data&&(this.data.children=null))},drop:function(){var childNodes=this.childNodes,parentNode=this.parentNode,treeStore=this.getTreeStore(),len;this.callParent();parentNode?parentNode.removeChild(this):this.get('root')&&treeStore.setRoot(null);treeStore&&treeStore.beginUpdate();var i=0;for(len=childNodes?childNodes.length:0;i<len;i++)parentNode=childNodes[i],parentNode.clear(),parentNode.drop();treeStore&&treeStore.endUpdate()},erase:function(options){var childNodes=
this.childNodes,len=childNodes&&childNodes.length,i;this.remove();this.clear(!0);this.callParent([options]);for(i=0;i<len;i++){var node=childNodes[i];node.parentNode=null;node.erase(options)}},insertBefore:function(node,refNode,suppressEvents){var index=this.indexOf(refNode),oldParent=node.parentNode,refIndex=index,treeStore=this.getTreeStore(),bulkUpdate=treeStore&&treeStore.bulkUpdate,siblingModifiedFields;if(!refNode)return this.appendChild(node);if(node===refNode)return!1;node=this.createNode(node);
if(!0!==suppressEvents&&!1===this.fireBubbledEvent('beforeinsert',[this,node,refNode]))return!1;oldParent===this&&this.indexOf(node)<index&&refIndex--;if(oldParent&&(!0!==suppressEvents&&!1===node.fireBubbledEvent('beforemove',[node,oldParent,this,index,refNode])||!1===oldParent.removeChild(node,!1,suppressEvents,oldParent.getTreeStore()===treeStore)))return!1;treeStore&&treeStore.beginUpdate();0===refIndex&&this.setFirstChild(node);Ext.Array.splice(this.childNodes,refIndex,0,node);node.parentNode=
this;node.nextSibling=refNode;refNode.previousSibling=node;(index=this.childNodes[refIndex-1])?(node.previousSibling=index,index.nextSibling=node):node.previousSibling=null;var modifiedFields=node.updateInfo(!1,{parentId:this.getId(),index:refIndex,isFirst:0===refIndex,isLast:!1,depth:(this.data.depth||0)+1});var i=refIndex+1;for(index=this.childNodes.length;i<index;i++){var sibling=this.childNodes[i];(siblingModifiedFields=sibling.updateInfo(!1,{index:i}))&&sibling.callJoined('afterEdit',[siblingModifiedFields])}this.isLoaded()?
1!==this.childNodes.length||bulkUpdate||this.triggerUIUpdate():bulkUpdate?this.data.loaded=!0:this.set('loaded',!0);treeStore&&treeStore.registerNode(this,!bulkUpdate);!0!==suppressEvents&&(this.fireBubbledEvent('insert',[this,node,refNode]),oldParent&&node.fireBubbledEvent('move',[node,oldParent,this,refIndex,refNode]));this.callTreeStore('onNodeInsert',[node,refIndex]);modifiedFields&&node.callJoined('afterEdit',[modifiedFields]);treeStore&&treeStore.endUpdate();return node},insertChild:function(index,
node){return(index=this.childNodes[index])?this.insertBefore(node,index):this.appendChild(node)},isLastVisible:function(){var result=this.data.isLast,next=this.nextSibling;if(!result&&this.getTreeStore().isFiltered()){for(;next;){if(next.data.visible)return!1;next=next.nextSibling}return!0}return result},remove:function(erase,suppressEvents){var parentNode=this.parentNode;parentNode?parentNode.removeChild(this,erase,suppressEvents):erase&&this.erase(!0);return this},removeAll:function(erase,suppressEvents,
fromParent){var childNodes=this.childNodes,len=childNodes.length,treeStore,i,removeRange=[];if(!len)return this;!fromParent&&(treeStore=this.getTreeStore())&&(treeStore.beginUpdate(),treeStore.suspendEvent('remove'),this.callTreeStore('beforeNodeRemove',[childNodes,!1,removeRange]));for(i=0;i<len;++i){var node=childNodes[i];node.previousSibling=node.nextSibling=node.parentNode=null;this.fireBubbledEvent('remove',[this,node,!1]);erase?node.erase(!0):node.removeAll(!1,suppressEvents,!0)}!fromParent&&
treeStore&&(treeStore.resumeEvent('remove'),this.callTreeStore('onNodeRemove',[childNodes,!1,removeRange]),treeStore.endUpdate());this.firstChild=this.lastChild=null;childNodes.length=0;fromParent||this.triggerUIUpdate();return this},getChildAt:function(index){return this.childNodes[index]},replaceChild:function(newChild,oldChild,suppressEvents){var s=oldChild?oldChild.nextSibling:null;this.removeChild(oldChild,!1,suppressEvents);this.insertBefore(newChild,s,suppressEvents);return oldChild},indexOf:function(child){return Ext.Array.indexOf(this.childNodes,
child)},indexOfId:function(id){for(var childNodes=this.childNodes,len=childNodes.length,i=0;i<len;++i)if(childNodes[i].getId()===id)return i;return-1},getPath:function(field,separator){field=field||this.idProperty;separator=separator||'/';for(var path=[this.get(field)],parent=this.parentNode;parent;)path.unshift(parent.get(field)),parent=parent.parentNode;return separator+path.join(separator)},getDepth:function(){return this.get('depth')},bubble:function(fn,scope,args){for(var p=this;p&&!1!==fn.apply(scope||
p,args||[p]);)p=p.parentNode},cascade:function(spec,scope,args,after){var before=spec,length;1!==arguments.length||Ext.isFunction(spec)||(after=spec.after,scope=spec.scope,args=spec.args,before=spec.before);if(!before||!1!==before.apply(scope||this,args||[this])){var childNodes=this.childNodes;var i=0;for(length=childNodes.length;i<length;i++)childNodes[i].cascade.call(childNodes[i],before,scope,args,after);after&&after.apply(scope||this,args||[this])}},cascadeBy:function(){return this.cascade.apply(this,
arguments)},eachChild:function(fn,scope,args){var childNodes=this.childNodes,length=childNodes.length,i;for(i=0;i<length&&!1!==fn.apply(scope||this,args||[childNodes[i]]);i++);},findChild:function(attribute,value,deep){return this.findChildBy(function(){return this.get(attribute)==value},null,deep)},findChildBy:function(fn,scope,deep){var cs=this.childNodes,len;var i=0;for(len=cs.length;i<len;i++){var n=cs[i];if(!0===fn.call(scope||n,n)||deep&&(n=n.findChildBy(fn,scope,deep),null!==n))return n}return null},
contains:function(node){return node.isAncestor(this)},isAncestor:function(node){for(var p=this.parentNode;p;){if(p===node)return!0;p=p.parentNode}return!1},sort:function(sortFn,recursive,suppressEvent){var childNodes=this.childNodes,ln=childNodes.length,info={isFirst:!0},i;if(0<ln){sortFn||(sortFn=this.getTreeStore().getSortFn());Ext.Array.sort(childNodes,sortFn);this.setFirstChild(childNodes[0]);this.setLastChild(childNodes[ln-1]);for(i=0;i<ln;i++){var n=childNodes[i];n.previousSibling=childNodes[i-
1];n.nextSibling=childNodes[i+1];info.isLast=i===ln-1;info.index=i;n.updateInfo(!1,info);info.isFirst=!1;recursive&&!n.isLeaf()&&n.sort(sortFn,!0,!0)}!0!==suppressEvent&&(this.fireBubbledEvent('sort',[this,childNodes]),this.callTreeStore('onNodeSort',[childNodes]))}},isExpanded:function(){return this.get('expanded')},isLoaded:function(){return this.get('loaded')},isBranchLoaded:function(){var isBranchLoaded=!this.isLeaf()&&this.isLoaded();isBranchLoaded&&this.cascade(function(node){node.isLeaf()||
(isBranchLoaded=isBranchLoaded||node.isBranchLoaded());return isBranchLoaded});return isBranchLoaded},isLoading:function(){return this.get('loading')},isRoot:function(){return!this.parentNode},isVisible:function(){for(var parent=this.parentNode;parent;){if(!parent.isExpanded())return!1;parent=parent.parentNode}return!0},expand:function(recursive,callback,scope){var me=this;if(me.isLeaf())Ext.callback(callback,scope||me);else if(me.isLoading())me.on('expand',function(){me.expand(recursive,callback,
scope)},me,{single:!0});else if(me.isExpanded())recursive?me.expandChildren(!0,callback,scope):Ext.callback(callback,scope||me,[me.childNodes]);else if(!1!==me.fireBubbledEvent('beforeexpand',[me])){if(recursive)if(me.parentNode&&me.parentNode.isSynchronousRecursiveExpand)me.isSynchronousRecursiveExpand=!0;else{var treeStore=me.getTreeStore();if(treeStore.getProxy().isSynchronous||me.isBranchLoaded()){me.isSynchronousRecursiveExpand=!0;treeStore.suspendEvent('add','datachanged');var resumeAddEvent=
!0}}me.callTreeStore('onBeforeNodeExpand',[me.onChildNodesAvailable,me,[recursive,callback,scope]]);resumeAddEvent&&(treeStore.resumeEvent('add','datachanged'),treeStore.fireEvent('datachanged',treeStore),treeStore.fireEvent('refresh',treeStore));me.isSynchronousRecursiveExpand=!1}},onChildNodesAvailable:function(records,recursive,callback,scope){var treeStore=this.getTreeStore(),bulkUpdate=treeStore&&treeStore.bulkUpdate,ancestor,collapsedAncestors,i;Ext.suspendLayouts();for(ancestor=this.parentNode;ancestor;ancestor=
ancestor.parentNode)ancestor.isExpanded()||(collapsedAncestors||(collapsedAncestors=[])).unshift(ancestor);bulkUpdate||!treeStore.isVisible(this)?this.data.expanded=!0:this.set('expanded',!0);if(collapsedAncestors){for(i=1;i<collapsedAncestors.length;i++)ancestor=collapsedAncestors[i],bulkUpdate||!treeStore.isVisible(ancestor)?ancestor.data.expanded=!0:ancestor.set('expanded',!0);collapsedAncestors[0].expand();for(i=1;i<collapsedAncestors.length;i++)ancestor=collapsedAncestors[i],ancestor.fireBubbledEvent('expand',
[ancestor,ancestor.childNodes])}else this.callTreeStore('onNodeExpand',[records,!1]);this.fireBubbledEvent('expand',[this,records]);recursive?this.expandChildren(!0,callback,scope):Ext.callback(callback,scope||this,[this.childNodes]);Ext.resumeLayouts(!0)},expandChildren:function(recursive,callback,scope,singleExpand){if(Ext.isBoolean(callback)){var origCallback=callback;callback=scope;scope=singleExpand;singleExpand=origCallback}void 0===singleExpand&&(singleExpand=(origCallback=this.getTreeStore())&&
origCallback.singleExpand);origCallback=this.childNodes;var expandNodes=[];var ln=singleExpand?Math.min(origCallback.length,1):origCallback.length;for(singleExpand=0;singleExpand<ln;++singleExpand){var node=origCallback[singleExpand];node.isLeaf()||(expandNodes[expandNodes.length]=node)}ln=expandNodes.length;for(singleExpand=0;singleExpand<ln;++singleExpand)expandNodes[singleExpand].expand(recursive);callback&&Ext.callback(callback,scope||this,[this.childNodes])},collapse:function(recursive,callback,
scope){var me=this,expanded=me.isExpanded(),treeStore=me.getTreeStore(),bulkUpdate=treeStore&&treeStore.bulkUpdate,len=me.childNodes.length,i;if(!me.isLeaf()&&(!expanded&&recursive||!1!==me.fireBubbledEvent('beforecollapse',[me]))){Ext.suspendLayouts();if(me.isExpanded())recursive?(recursive=function(){for(i=0;i<len;i++)me.childNodes[i].setCollapsed(!0)},callback=callback?Ext.Function.createSequence(recursive,Ext.Function.bind(callback,scope,[me.childNodes])):recursive):callback&&(callback=Ext.Function.bind(callback,
scope,[me.childNodes])),bulkUpdate||!treeStore.contains(me)?me.data.expanded=!1:me.set('expanded',!1),me.callTreeStore('onNodeCollapse',[me.childNodes,callback,scope]),me.fireBubbledEvent('collapse',[me,me.childNodes]),callback=null;else if(recursive)for(i=0;i<len;i++)me.childNodes[i].setCollapsed(!0);Ext.resumeLayouts(!0)}Ext.callback(callback,scope||me,[me.childNodes])},setCollapsed:function(recursive){var len=this.childNodes.length;if(!this.isLeaf()&&!1!==this.fireBubbledEvent('beforecollapse',
[this])&&(this.data.expanded=!1,this.fireBubbledEvent('collapse',[this,this.childNodes]),recursive))for(recursive=0;recursive<len;recursive++)this.childNodes[recursive].setCollapsed(!0)},collapseChildren:function(recursive,callback,scope){var allNodes=this.childNodes,ln=allNodes.length,collapseNodes=[],i;for(i=0;i<ln;++i){var node=allNodes[i];!node.isLeaf()&&node.isLoaded()&&node.isExpanded()&&collapseNodes.push(node)}if(ln=collapseNodes.length)for(i=0;i<ln;++i)node=collapseNodes[i],i===ln-1?node.collapse(recursive,
callback,scope):node.collapse(recursive);else Ext.callback(callback,scope)},fireEvent:function(eventName){return this.fireBubbledEvent(eventName,Ext.Array.slice(arguments,1))},fireBubbledEvent:function(eventName,args){var eventSource,topNode;if(bubbledEvents[eventName]){for(eventSource=this;!1!==result&&eventSource;eventSource=(topNode=eventSource).parentNode)var result=eventSource.fireEventArgs.call(eventSource,eventName,args);!1!==result&&(eventSource=topNode.getTreeStore())&&eventSource.hasListeners&&
eventSource.hasListeners[eventName='node'+eventName]&&(result=eventSource.fireEventArgs(eventName,args));return result}return this.fireEventArgs.apply(this,arguments)},serialize:function(writerParam){writerParam=writerParam||new Ext.data.writer.Json({writeAllFields:!0});var result=writerParam.getRecordData(this),childNodes=this.childNodes,len=childNodes.length,children,i;if(0<len)for(result.children=children=[],i=0;i<len;i++)children.push(childNodes[i].serialize(writerParam));return result},callTreeStore:function(funcName,
args){var target=this.getTreeStore();funcName=target&&target[funcName];target&&funcName&&(args=args||[],args[0]!==this&&args.unshift(this),funcName.apply(target,args))},addCls:function(cls){this.replaceCls(null,cls)},removeCls:function(cls){this.replaceCls(cls)},replaceCls:function(oldCls,newCls){var pieces=this._parseCls(this.data.cls);oldCls=this._parseCls(oldCls);oldCls.length&&(pieces=Ext.Array.difference(pieces,oldCls));oldCls=this._parseCls(newCls);oldCls.length&&(pieces=Ext.Array.unique(pieces.concat(oldCls)));
this.set('cls',pieces.join(' '))},toggleCls:function(cls,state){var len;if(void 0===state){state=this._parseCls(this.data.cls);cls=this._parseCls(cls);var i=0;for(len=cls.length;i<len;++i){var p=cls[i];Ext.Array.contains(state,p)?Ext.Array.remove(state,p):state.push(p)}this.set('cls',state.join(' '))}else state?this.addCls(cls):this.removeCls(cls)},privates:{_noCls:[],spacesRe:/\s+/,join:function(store){store.isTreeStore?this.isRoot()&&(this.treeStore=this.store=store):this.callParent([store])},callJoined:function(funcName,
args){this.callParent([funcName,args]);this.callTreeStore(funcName,args)},_parseCls:function(cls){return cls?'string'===typeof cls?cls.split(this.spacesRe):cls:this._noCls}}}}}},0,0,0,0,0,0,[Ext.data,'NodeInterface'],0);
Ext.cmd.derive('Ext.mixin.Queryable',Ext.Base,{mixinId:'queryable',isQueryable:!0,query:function(selector){return Ext.ComponentQuery.query(selector||'*',this.getQueryRoot())},queryBy:function(fn,scope){for(var out=[],items=this.getQueryRoot().getRefItems(!0),i=0,len=items.length,item;i<len;++i)item=items[i],!1!==fn.call(scope||item,item)&&out.push(item);return out},queryById:function(id){return this.down(Ext.makeIdSelector(id))},child:function(selector){var children=this.getQueryRoot().getRefItems();
if(selector&&selector.isComponent)return this.matchById(children,selector.getItemId());selector&&(children=Ext.ComponentQuery.query(selector,children));return children.length?children[0]:null},down:function(selector){return selector&&selector.isComponent?this.matchById(this.getRefItems(!0),selector.getItemId()):this.query(selector||'')[0]||null},visitPreOrder:function(selector,fn,scope,extraArgs){Ext.ComponentQuery._visit(!0,selector,this.getQueryRoot(),fn,scope,extraArgs)},visitPostOrder:function(selector,
fn,scope,extraArgs){Ext.ComponentQuery._visit(!1,selector,this.getQueryRoot(),fn,scope,extraArgs)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(items,id){var len=items.length,i;for(i=0;i<len;++i){var item=items[i];if(item.getItemId()===id)return item}return null}}},0,0,0,0,0,0,[Ext.mixin,'Queryable'],0);
Ext.cmd.derive('Ext.data.TreeModel',Ext.data.Model,{getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode},statics:{defaultProxy:'memory'}},0,0,0,0,0,[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.data,'TreeModel'],function(){Ext.data.NodeInterface.decorate(this)});
Ext.cmd.derive('Ext.data.Request',Ext.Base,{isDataRequest:!0,config:{action:void 0,params:void 0,method:'GET',url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,rawRequest:null,jsonData:void 0,xmlData:void 0,withCredentials:!1,username:null,password:null,binary:!1,callback:null,scope:null,timeout:3E4,records:null,directFn:null,args:null,useDefaultXhrHeader:null,responseType:null},constructor:function(config){this.initConfig(config)},getParam:function(key){var params=
this.getParams();if(params)return params[key]},setParam:function(key,value){var params=this.getParams()||{};params[key]=value;this.setParams(params)}},1,0,0,0,0,0,[Ext.data,'Request'],0);
Ext.cmd.derive('Ext.data.TreeStore',Ext.data.Store,{isTreeStore:!0,config:{root:null,rootVisible:!1,defaultRootProperty:'children',parentIdProperty:null,clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:'node',defaultRootId:'root',defaultRootText:'Root',folderSort:!1,pageSize:null},filterer:'topdown',lazyFill:!1,fillCount:0,bulkUpdate:0,nodesToUnregister:0,_silentOptions:{silent:!0},implicitModel:'Ext.data.TreeModel',groupField:null,groupDir:null,grouper:null,constructor:function(config){this.byIdMap=
{};Ext.data.Store.prototype.constructor.call(this,config)},applyFields:function(fields,oldFields){fields&&this.defaultRootProperty!==this.self.prototype.config.defaultRootProperty&&(fields=fields.concat({name:this.defaultRootProperty,type:'auto',defaultValue:null,persist:!1}));Ext.data.Store.prototype.applyFields.call(this,fields,oldFields)},applyGroupField:function(field){return null},applyGroupDir:function(dir){return null},setGrouper:function(grouper){return null},group:Ext.emptyFn,onSorterEndUpdate:function(){var me=
this,sorters=me.getSorters().getRange(),rootNode=me.getRoot(),folderSort=me.getFolderSort();me.fireEvent('beforesort',me,sorters);rootNode&&(folderSort||sorters.length)?me.getRemoteSort()?sorters.length&&me.load({callback:function(){me.fireEvent('sort',me,sorters)}}):(rootNode.sort(this.getSortFn(),!0),me.fireEvent('datachanged',me),me.fireEvent('refresh',me),me.fireEvent('sort',me,sorters)):me.fireEvent('sort',me,sorters)},updateFolderSort:function(folderSort){this.needsFolderSort=folderSort;this.onSorterEndUpdate()},
getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var me=this,sortersSortFn=this.sorters.getSortFn();return function(node1,node2){var node1FolderOrder=0;if(me.needsFolderSort){node1FolderOrder=node1.data.leaf?1:0;var node2FolderOrder=node2.data.leaf?1:0;node1FolderOrder-=node2FolderOrder}me.needsIndexSort&&0===node1FolderOrder&&(node1FolderOrder=node1.data.index-node2.data.index);return node1FolderOrder||sortersSortFn(node1,node2)}},getTotalCount:function(){return this.getCount()},
afterEdit:function(node,modifiedFieldNames){var parentNode=node.parentNode,rootVisible=this.getRootVisible();rootVisible=!parentNode&&!rootVisible;var isVisible=node.get('visible');if(!rootVisible&&isVisible!==this.contains(node))if(isVisible){if(!parentNode||this.isVisible(node))rootVisible=[node],node.isExpanded()&&this.handleNodeExpand(node,node.childNodes,rootVisible),parentNode=node.previousSibling?this.indexOfPreviousVisibleNode(node.previousSibling):parentNode?this.indexOf(parentNode):-1,this.insert(parentNode+
1,rootVisible)}else parentNode=this.indexOf(node),this.removeAt(parentNode,this.indexOfNextVisibleNode(node)-parentNode);else if(this.getRoot()&&this.needsLocalFilter())this.onFilterEndUpdate(this.getFilters());Ext.data.Store.prototype.afterEdit.call(this,node,modifiedFieldNames)},afterReject:function(record){this.contains(record)&&(this.onUpdate(record,Ext.data.Model.REJECT,null),this.fireEvent('update',this,record,Ext.data.Model.REJECT,null))},afterCommit:function(record,modifiedFieldNames){modifiedFieldNames||
(modifiedFieldNames=null);this.contains(record)&&(this.onUpdate(record,Ext.data.Model.COMMIT,modifiedFieldNames),this.fireEvent('update',this,record,Ext.data.Model.COMMIT,modifiedFieldNames))},updateRootVisible:function(rootVisible){var rootNode=this.getRoot();if(rootNode){var data=this.getData();rootVisible?data.insert(0,rootNode):data.remove(rootNode)}},updateTrackRemoved:function(trackRemoved){Ext.data.Store.prototype.updateTrackRemoved.apply(this,arguments);this.removedNodes=this.removed;this.removed=
null},onDestroyRecords:function(records,operation,success){success&&(this.removedNodes.length=0)},updateProxy:function(proxy){proxy&&(proxy.setIdParam&&proxy.setIdParam(this.getNodeParam()),proxy=proxy.getReader(),Ext.isEmpty(proxy.getRootProperty())&&proxy.setRootProperty(this.getDefaultRootProperty()))},setProxy:function(proxy){this.changingProxy=!0;(arguments.callee.$previous||Ext.data.Store.prototype.setProxy).call(this,proxy);this.changingProxy=!1},updateModel:function(model){if(model){var isNode=
model.prototype.isNode;Ext.data.NodeInterface.decorate(model);isNode||this.changingProxy||this.getProxy().getReader().buildExtractors(!0)}},onCollectionFilter:Ext.emptyFn,onFilterEndUpdate:function(filters){var me=this,length=filters.length,root=me.getRoot();if(me.getRemoteFilter())Ext.data.Store.prototype.onFilterEndUpdate.call(this,filters);else{length?me.doFilter(root):root.cascade({after:function(node){node.set('visible',!0,me._silentOptions)}});if(length){var filteredNodes=[];var childNodes=
root.childNodes;var i=0;for(length=childNodes.length;i<length;i++){var childNode=childNodes[i];childNode.get('visible')&&filteredNodes.push(childNode)}}else filteredNodes=root.childNodes;me.onNodeFilter(root,filteredNodes);root.fireEvent('filterchange',root,filteredNodes);me.suppressNextFilter=!0;Ext.data.Store.prototype.onFilterEndUpdate.call(this,filters);me.suppressNextFilter=!1}},onNodeFilter:function(root,childNodes){var data=this.getData(),toAdd=[];this.getRootVisible()&&root.get('visible')&&
toAdd.push(root);this.handleNodeExpand(root,childNodes,toAdd);this.suspendEvents();data.splice(0,data.getCount(),toAdd);this.resumeEvents();this.suppressNextFilter||(this.fireEvent('datachanged',this),this.fireEvent('refresh',this))},onBeforeNodeExpand:function(node,callback,scope,args){var me=this,nodeProxy;if(node.isLoaded()){var callbackArgs=[node.childNodes];args&&callbackArgs.push.apply(callbackArgs,args);Ext.callback(callback,scope||node,callbackArgs)}else if(node.isLoading())me.on('load',function(){callbackArgs=
[node.childNodes];args&&callbackArgs.push.apply(callbackArgs,args);Ext.callback(callback,scope||node,callbackArgs)},me,{single:!0,priority:1001});else{var storeReader=me.getProxy().getReader();storeReader=(nodeProxy=(nodeProxy=node.getProxy())?nodeProxy.getReader():null)&&nodeProxy.initialConfig.rootProperty?nodeProxy:storeReader;(nodeProxy=storeReader.getRoot(node.raw||node.data))||node.phantom&&!node.isRoot()?(me.fillNode(node,storeReader.extractData(nodeProxy||[],{model:node.childType,recordCreator:me.recordCreator})),
callbackArgs=[node.childNodes],args&&callbackArgs.push.apply(callbackArgs,args),Ext.callback(callback,scope||node,callbackArgs)):(me.read({node,onChildNodesAvailable:function(){delete me.lastOptions.onChildNodesAvailable;callbackArgs=[node.childNodes];args&&callbackArgs.push.apply(callbackArgs,args);Ext.callback(callback,scope||node,callbackArgs)}}),me.flushLoad())}},onNodeExpand:function(parent,records){var insertIndex=this.indexOf(parent)+1,toAdd=[];this.handleNodeExpand(parent,records,toAdd);this.refreshCounter||
!parent.isRoot()||parent.get('visible')?(++this.loadCount,this.insert(insertIndex,toAdd)):this.loadRecords(toAdd)},handleNodeExpand:function(parent,records,toAdd){var ln=records?records.length:0;if((parent===this.getRoot()||this.isVisible(parent))&&ln)for(parent=0;parent<ln;parent++){var record=records[parent];record.get('visible')&&(toAdd.push(record),record.isExpanded()&&(record.isLoaded()?this.handleNodeExpand(record,record.childNodes,toAdd):(record.set('expanded',!1,{silent:!0}),record.expand())))}},
onNodeCollapse:function(parent,records,callback,scope){var collapseIndex=this.indexOf(parent)+1;this.needsLocalFilter()&&(records=Ext.Array.filter(records,this.filterVisible));records.length&&this.isVisible(parent)&&(parent=this.indexOfNextVisibleNode(parent),this.removeAt(collapseIndex,parent-collapseIndex));Ext.callback(callback,scope)},indexOfNextVisibleNode:function(node){for(var result;node.parentNode;){for(result=node.nextSibling;result&&!result.get('visible');result=result.nextSibling);if(result)return this.indexOf(result);
node=node.parentNode}return this.getCount()},indexOfPreviousVisibleNode:function(node){var result;for(result=node;result&&!result.get('visible');result=result.previousSibling);if(result){if(result.isExpanded()&&result.lastChild)return this.indexOfPreviousVisibleNode(result.lastChild)}else result=node.parentNode;return this.indexOf(result)},filterNew:function(item){return!item.get('root')&&Ext.data.Store.prototype.filterNew.call(this,item)},filterRejects:function(item){return!item.get('root')&&Ext.data.Store.prototype.filterRejects.call(this,
item)},getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew,this)},getRejectRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterRejects,this)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(parentNode,childNodes,isMove,removeRange){Ext.isArray(childNodes)||(childNodes=[childNodes]);var me=this;parentNode=childNodes.length;var removed=
me.removedNodes,startNode,i;for(i=0;!startNode&&i<parentNode;i++)childNodes[i].get('visible')&&(startNode=childNodes[i]);startNode?(removeRange[0]=me.indexOf(childNodes[0]),removeRange[1]=me.indexOfNextVisibleNode(childNodes[childNodes.length-1])-removeRange[0]):(removeRange[0]=-1,removeRange[1]=0);for(i=0;i<parentNode;i++)childNodes[i].cascade(function(node){me.unregisterNode(node,!0);!removed||isMove||node.phantom||node.erasing||me.loading||(node.removedFrom=me.indexOf(node),removed.push(node),
me.needsSync=!0)})},afterDrop:Ext.emptyFn,onNodeRemove:function(parentNode,childNodes,isMove,removeRange){this.suspendAutoSync();-1!==removeRange[0]&&(this.removeIsMove=isMove,this.removeAt.apply(this,removeRange),this.removeIsMove=!1);this.resumeAutoSync()},onNodeAppend:function(parent,node,index){this.onNodeInsert(parent,node,index)},onNodeInsert:function(parent,node,index){var data=node.raw||node.data,removed=this.removedNodes;parent&&this.needsLocalFilter()&&this.doFilter(parent);this.beginUpdate();
if(this.isVisible(node)&&(parent=0!==index&&node.previousSibling?this.indexOfPreviousVisibleNode(node.previousSibling):this.indexOf(parent),this.insert(parent+1,node),!node.isLeaf()&&node.isExpanded()))if(node.isLoaded())this.onNodeExpand(node,node.childNodes);else this.fillCount||(node.set('expanded',!1),node.expand());Ext.Array.remove(removed,node);this.needsSync=this.needsSync||node.phantom||node.dirty;node.isLeaf()||node.isLoaded()||this.lazyFill||(removed=this.getProxy().getReader(),removed=
(parent=(parent=node.getProxy())?parent.getReader():null)&&parent.initialConfig.rootProperty?parent:removed,(data=removed.getRoot(data))&&this.fillNode(node,removed.extractData(data,{model:node.childType,recordCreator:this.recordCreator})));this.endUpdate()},registerNode:function(node,includeChildren){var was=this.byIdMap[node.id];this.byIdMap[node.id]=node;if(node.onRegisterTreeNode&&node!==was)node.onRegisterTreeNode(this);node.onUnregisterTreeNode&&this.nodesToUnregister++;if(!0===includeChildren)for(node=
node.childNodes,includeChildren=node.length,was=0;was<includeChildren;was++)this.registerNode(node[was],!0)},unregisterNode:function(node,includeChildren){var was=this.byIdMap[node.id],i;delete this.byIdMap[node.id];if(!0===includeChildren){includeChildren=node.childNodes;var length=includeChildren.length;for(i=0;i<length;i++)this.unregisterNode(includeChildren[i],!0)}node.onUnregisterTreeNode&&node===was&&(node.onUnregisterTreeNode(this),this.nodesToUnregister--)},onNodeSort:function(node,childNodes){this.suspendAutoSync();
if(-1!==this.indexOf(node)&&node.isExpanded()||node===this.getRoot()&&!this.getRootVisible())Ext.suspendLayouts(),this.onNodeCollapse(node,childNodes),this.onNodeExpand(node,childNodes),Ext.resumeLayouts(!0);this.resumeAutoSync(this.autoSync)},applyRoot:function(newRoot){var Model=this.getModel(),idProperty=Model.prototype.idProperty,defaultRootId=this.getDefaultRootId();newRoot&&!newRoot.isNode&&(newRoot=Ext.apply({text:this.getDefaultRootText(),root:!0,isFirst:!0,isLast:!0,depth:0,index:0,parentId:null,
allowDrag:!1},newRoot),defaultRootId&&void 0===newRoot[idProperty]&&(newRoot[idProperty]=defaultRootId),newRoot=new Model(newRoot));return newRoot},updateRoot:function(newRoot,oldRoot){var removeRange=[],initial=this.isConfiguring;this.getTrackRemoved();this.suspendEvent('add','remove');initial&&this.suspendEvent('refresh','datachanged');if(oldRoot&&oldRoot.isModel){var toRemove=this.getRootVisible()?[oldRoot]:oldRoot.childNodes;this.beforeNodeRemove(null,toRemove,!1,removeRange);oldRoot.set('root',
!1);this.onNodeRemove(null,toRemove,!1,removeRange);oldRoot.fireEvent('remove',null,oldRoot,!1);oldRoot.fireEvent('rootchange',null);oldRoot.clearListeners();oldRoot.store=oldRoot.treeStore=null;this.unregisterNode(oldRoot)}this.getData().clear();if(newRoot)if(!1===newRoot.fireEventArgs('beforeappend',[null,newRoot]))newRoot=null;else{if(removeRange=newRoot.parentNode){if(!removeRange.removeChild(newRoot,!1,!1,removeRange.getTreeStore()===this))return}else(removeRange=newRoot.getTreeStore())&&removeRange!==
this&&newRoot===removeRange.getRoot()&&removeRange.setRoot(null);newRoot.store=newRoot.treeStore=this;newRoot.set('root',!0);newRoot.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null});this.registerNode(newRoot,!0);newRoot.fireEvent('append',null,newRoot,!1);newRoot.fireEvent('rootchange',newRoot);this.onNodeAppend(null,newRoot,0);newRoot.phantom=!0}initial||this.fireEvent('rootchange',newRoot,oldRoot);newRoot&&(this.getAutoLoad()||newRoot.isExpanded())?newRoot.isLoaded()?(this.onNodeExpand(newRoot,
newRoot.childNodes),initial||(this.fireEvent('datachanged',this),this.fireEvent('refresh',this))):(newRoot.data.expanded=!1,newRoot.expand(!1),!newRoot.isLoaded||this.getProxy().isSynchronous||initial||(this.fireEvent('datachanged',this),this.fireEvent('refresh',this))):initial||(this.fireEvent('datachanged',this),this.fireEvent('refresh',this));this.resumeEvent('add','remove');initial&&this.resumeEvent('refresh','datachanged')},doDestroy:function(){var me=this,root=me.getRoot();root&&me.nodesToUnregister&&
root.cascade(function(node){if(node.onUnregisterTreeNode)node.onUnregisterTreeNode(me)});Ext.data.Store.prototype.doDestroy.call(this)},each:function(fn,scope,includeOptions){var i=0,filtered=includeOptions;if(includeOptions&&'object'===typeof includeOptions){var includeCollapsed=includeOptions.collapsed;filtered=includeOptions.filtered}if(includeCollapsed)this.getRoot().cascade(function(node){if(!0===filtered||node.get('visible'))return fn.call(scope||node,node,i++)});else return Ext.data.Store.prototype.each.call(this,
fn,scope,filtered)},collect:function(dataIndex,options,filtered){var map={},result=[],allowNull=options,strValue,value;if(options&&'object'===typeof options){var includeCollapsed=options.collapsed;filtered=options.filtered;allowNull=options.allowNull}includeCollapsed||filtered?this.getRoot().cascade(function(node){if(!0===filtered||node.get('visible'))value=node.get(dataIndex),strValue=String(value),!allowNull&&Ext.isEmpty(value)||map[strValue]||(map[strValue]=1,result.push(value));if(!includeCollapsed&&
!node.isExpanded())return!1}):result=Ext.data.Store.prototype.collect.call(this,dataIndex,allowNull,filtered);return result},getNodeById:function(id){return this.byIdMap[id]||null},findNode:function(fieldName,value,startsWith,endsWith,ignoreCase){var result=null;if(Ext.isEmpty(value,!1))return result;if(fieldName===this.model.idProperty&&3>arguments.length)return this.byIdMap[value];var regex=Ext.String.createRegex(value,startsWith,endsWith,ignoreCase);Ext.Object.eachValue(this.byIdMap,function(node){if(node&&
regex.test(node.get(fieldName)))return result=node,!1});return result},load:function(options){var node=options&&options.node;if(!node&&!(node=this.getRoot()))this.setRoot({expanded:!0,autoRoot:!0});else if(!node.isLoading())return Ext.data.Store.prototype.load.call(this,options)},reload:function(options){options=Ext.apply({},options,this.lastOptions);options.node=this.getRoot();return this.load(options)},flushLoad:function(){var options=this.pendingLoadOptions,clearOnLoad=this.getClearOnLoad(),node;
this.clearLoadTask();if(options){var isRootLoad=(node=options.node||this.getRoot())&&node.isRoot();var callback=options.callback;var scope=options.scope;options.params=options.params||{};node.data.expanded&&!isRootLoad&&(node.data.loaded=!1,clearOnLoad&&(node.data.expanded=!1),options.callback=function(loadedNodes,operation,success){clearOnLoad||node.collapse();node.expand();Ext.callback(callback,scope,[loadedNodes,operation,success])});options.id=node.getId();this.setLoadOptions(options);this.getRemoteSort()&&
options.sorters&&this.fireEvent('beforesort',this,options.sorters);options=Ext.apply({node:options.node||node,internalScope:this,internalCallback:this.onProxyLoad},options);this.lastOptions=Ext.apply({},options);options.isRootLoad=isRootLoad;options=this.createOperation('read',options);if(!1!==this.fireEvent('beforeload',this,options)){this.loading=!0;if(isRootLoad){if(this.getClearRemovedOnLoad()&&(this.removedNodes.length=0),clearOnLoad){this.unregisterNode(node,!0);node.clear(!1,!0);this.registerNode(node);
var doClear=!0}}else this.loading&&(node.data.loaded=!1),this.getTrackRemoved()&&this.getClearRemovedOnLoad()&&this.clearRemoved(node),clearOnLoad&&node.removeAll(!1);this.loading&&node&&node.set('loading',!0,{silent:!(this.contains(node)||node===this.getRoot())});doClear&&(this.clearData(!0),this.getRootVisible()&&(this.suspendEvents(),this.add(node),this.resumeEvents()));options.execute()}return this}},onProxyLoad:function(operation){var options=operation.initialConfig,successful=operation.wasSuccessful(),
records=operation.getRecords(),node=options.node,isRootLoad=options.isRootLoad,scope=operation.getScope()||this,args=[records,operation,successful];this.destroyed||(this.loading=!1,node.set('loading',!1),successful&&(++this.loadCount,this.getClearOnLoad()||(records=this.cleanRecords(node,records)),this.getParentIdProperty()&&(records=this.treeify(node,records)),isRootLoad&&this.suspendEvent('add','update'),records=this.fillNode(node,records)),Ext.callback(options.onChildNodesAvailable,scope,args),
isRootLoad&&(this.resumeEvent('add','update'),this.callObservers('BeforePopulate'),this.fireEvent('datachanged',this),this.fireEvent('refresh',this),this.callObservers('AfterPopulate')),this.fireEvent('load',this,records,successful,operation,node))},clearRemoved:function(node){var removed=this.removedNodes,id=node.getId(),removedLength=removed.length,i=removedLength,recordsToClear={},newRemoved=[],removedHash={},targetNode;if(node===this.getRoot())this.removedNodes.length=0;else{for(;i--;)node=removed[i],
removedHash[node.getId()]=node;for(i=removedLength;i--;){for(targetNode=node=removed[i];targetNode&&targetNode.getId()!==id;){var targetId=targetNode.get('parentId')||targetNode.get('lastParentId');targetNode=targetNode.parentNode||this.getNodeById(targetId)||removedHash[targetId]}targetNode&&(recordsToClear[node.getId()]=node)}for(i=0;i<removedLength;i++)node=removed[i],recordsToClear[node.getId()]||newRemoved.push(node);this.removedNodes=newRemoved}},fillNode:function(node,newNodes){var newNodeCount=
newNodes?newNodes.length:0;1===++this.bulkUpdate&&this.suspendEvent('datachanged');newNodeCount?(this.setupNodes(newNodes),node.appendChild(newNodes,void 0,!0)):1===this.bulkUpdate?node.set('loaded',!0):node.data.loaded=!0;--this.bulkUpdate||this.resumeEvent('datachanged');return newNodes},setupNodes:function(newNodes){var sorters=this.getSorters(),needsIndexSort=!1,newNodeCount=newNodes.length;sorters=this.sortOnLoad&&1<newNodeCount&&!this.getRemoteSort()&&this.getFolderSort()||sorters.length;var performLocalFilter=
this.needsLocalFilter(),i;performLocalFilter&&this.doFilter(newNodes[0]);for(i=1;i<newNodeCount;i++){needsIndexSort=newNodes[i];var node2=newNodes[i-1];performLocalFilter&&this.doFilter(needsIndexSort);needsIndexSort=needsIndexSort.data.index!==node2.data.index}sorters?(this.needsIndexSort=!0,Ext.Array.sort(newNodes,this.getSortFn()),this.needsIndexSort=!1):needsIndexSort&&Ext.Array.sort(newNodes,this.sortByIndex)},beginFill:function(){this.fillCount++||(this.beginUpdate(),this.suspendEvent('add',
'update'),this.suspendAutoSync(),this.fillArray=[])},endFill:function(parent,nodes){parent=this.fillArray;var len;parent.push(nodes);if(!--this.fillCount){this.resumeAutoSync();this.resumeEvent('add','update');nodes=0;for(len=parent.length;nodes<len;nodes++){var index=this.indexOf(parent[nodes][0]);-1!==index&&this.fireEvent('add',this,parent[nodes],index)}this.fillArray=null;this.endUpdate()}},sortByIndex:function(node1,node2){return node1.data.index-node2.data.index},onIdChanged:function(node,oldId,
newId){var childNodes=node.childNodes,len=childNodes&&childNodes.length,i;Ext.data.Store.prototype.onIdChanged.apply(this,arguments);delete this.byIdMap[oldId];this.byIdMap[newId]=node;for(i=0;i<len;i++)childNodes[i].set('parentId',newId)},treeify:function(parentNode,records){var loadParentNodeId=parentNode.getId(),parentIdProperty=this.getParentIdProperty(),len=records.length;parentNode=[];var nodeMap={},i,id;for(i=0;i<len;i++){var node=records[i];node.data.depth=1;nodeMap[node.id]=node}for(i=0;i<
len;i++){node=records[i];var parentId=node.data[parentIdProperty];!parentId&&0!==parentId||parentId===loadParentNodeId?parentNode.push(node):(parentId=nodeMap[parentId],parentId.$children=parentId.$children||[],parentId.$children.push(node),node.data.depth=parentId.data.depth+1)}for(id in nodeMap){node=nodeMap[id];if(records=node.$children)delete node.$children,this.setupNodes(records),node.appendChild(records);this.registerNode(node)}this.setupNodes(parentNode);return parentNode},cleanRecords:function(node,
records){var nodeHash={},childNodes=node.childNodes;node=0;for(var len=childNodes.length,out=[];node<len;++node)nodeHash[childNodes[node].getId()]=!0;node=0;for(len=records.length;node<len;++node)childNodes=records[node],nodeHash[childNodes.getId()]||out.push(childNodes);return out},removeAll:function(){var root=this.getRoot(),ln=this.getData().length;this.suspendEvents();this.setRoot(null);this.resumeEvents();Ext.data.Store.prototype.removeAll.call(this);ln&&(this.fireEvent('clear',this),this.fireEvent('rootchange',
root,null))},doSort:function(sorterFn){this.getRemoteSort()?this.load():(this.tree.sort(sorterFn,!0),this.fireEvent('datachanged',this),this.fireEvent('refresh',this));this.fireEvent('sort',this,this.sorters.getRange())},filterVisible:function(node){return node.get('visible')},isVisible:function(node){for(var parentNode=node.parentNode,visible=node.data.visible,root=this.getRoot();visible&&parentNode;)visible=parentNode.data.expanded&&parentNode.data.visible,parentNode=parentNode.parentNode;return visible&&
!(node===root&&!this.getRootVisible())},commitChanges:function(){var removed=this.removedNodes;removed&&(removed.length=0);Ext.data.Store.prototype.commitChanges.call(this)},getRootNode:function(){return this.getRoot()},setRootNode:function(root){this.setRoot(root);return this.getRoot()},privates:{fireChangeEvent:function(record){return!!this.byIdMap[record.id]},getRawRemovedRecords:function(){return this.removedNodes},createOperation:function(type,options){var node=options.node,proxy;this.useModelProxy&&
node&&node!==this.getRootNode()&&(proxy=node.getProxy());return proxy&&proxy!==this.getProxy()?proxy.createOperation(type,options):Ext.data.Store.prototype.createOperation.call(this,type,options)},recordCreator:function(data,Model){return new Model(data)},doFilter:function(node){this.filterNodes(node,this.getFilters().getFilterFn(),!0)},filterNodes:function(node,filterFn,parentVisible){var bottomUpFiltering='bottomup'===this.filterer;parentVisible=filterFn(node)&&parentVisible||node.isRoot()&&!this.getRootVisible();
var childNodes=node.childNodes,len=childNodes&&childNodes.length,i;if(len){for(i=0;i<len;++i)var matchingChildren=this.filterNodes(childNodes[i],filterFn,parentVisible||bottomUpFiltering)||matchingChildren;bottomUpFiltering&&(parentVisible=matchingChildren||parentVisible)}node.set('visible',parentVisible,this._silentOptions);return parentVisible},needsLocalFilter:function(){return!this.getRemoteFilter()&&this.getFilters().length},onRemoteFilterSet:function(filters,remoteFilter){this.getData().setFilters(null);
if(filters)filters.on('endupdate',this.onFilterEndUpdate,this)},onRemoteSortSet:function(sorters,remoteSort){this.getData().setSorters(null);if(sorters)sorters.on('endupdate',this.onSorterEndUpdate,this)}},deprecated:{5:{properties:{tree:null}}}},1,0,0,0,['store.tree'],0,[Ext.data,'TreeStore'],0);
Ext.cmd.derive('Ext.data.Validation',Ext.data.Model,{isValidation:!0,syncGeneration:0,attach:function(record){this.record=record;this.isBase=record.self===Ext.data.Model;delete this.data.id},getValidation:function(){return null},isValid:function(){this.syncGeneration!==this.record.generation&&this.refresh();return!this.dirty},refresh:function(force){if(!this.isBase){var data=this.data,record=this.record,fields=record.fields,generation=record.generation,recordData=record.data,sep=record.validationSeparator,
values=null,currentValue,len;if(force||this.syncGeneration!==generation){this.syncGeneration=generation;var i=0;for(len=fields.length;i<len;++i){var field=fields[i];var name=field.name;var val=recordData[name];force=field.defaultInvalidMessage;generation=0;name in data?currentValue=data[name]:data[name]=currentValue=!0;field.validate!==Ext.emptyFn&&(field=field.validate(val,sep,null,record),!0!==field&&(generation=field||force));generation||(generation=!0);generation!==currentValue&&((values||(values=
{}))[name]=generation)}values&&this.set(values)}}}},0,0,0,0,0,0,[Ext.data,'Validation'],0);
Ext.cmd.derive('Ext.dom.Helper',Ext.Base,function(){var bbValues=['BeforeBegin','previousSibling'],aeValues=['AfterEnd','nextSibling'],bb_ae_PositionHash={beforebegin:bbValues,afterend:aeValues},fullPositionHash={beforebegin:bbValues,afterend:aeValues,afterbegin:['AfterBegin','firstChild'],beforeend:['BeforeEnd','lastChild']};return{singleton:!0,alternateClassName:['Ext.DomHelper','Ext.core.DomHelper'],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,
endRe:/end/i,attributeTransform:{cls:'class',htmlFor:'for'},closeTags:{},detachedDiv:document.createElement('div'),decamelizeName:function(){function decamel(match,p1,p2){return p1+'-'+p2.toLowerCase()}var camelCaseRe=/([a-z])([A-Z])/g,cache={};return function(s){return cache[s]||(cache[s]=s.replace(camelCaseRe,decamel))}}(),generateMarkup:function(spec,buffer){var specType=typeof spec,attr;if('string'===specType||'number'===specType)buffer.push(spec);else if(Ext.isArray(spec))for(attr=0;attr<spec.length;attr++)spec[attr]&&
this.generateMarkup(spec[attr],buffer);else{specType=spec.tag||'div';buffer.push('\x3c',specType);for(attr in spec)if(spec.hasOwnProperty(attr)){var val=spec[attr];void 0===val||this.confRe.test(attr)||(val&&val.join&&(val=val.join(' ')),'object'===typeof val?(buffer.push(' ',attr,'\x3d"'),this.generateStyles(val,buffer,!0).push('"')):buffer.push(' ',this.attributeTransform[attr]||attr,'\x3d"',val,'"'))}this.emptyTags.test(specType)?buffer.push('/\x3e'):(buffer.push('\x3e'),(val=spec.tpl)&&val.applyOut(spec.tplData,
buffer),(val=spec.html)&&buffer.push(val),(val=spec.cn||spec.children)&&this.generateMarkup(val,buffer),spec=this.closeTags,buffer.push(spec[specType]||(spec[specType]='\x3c/'+specType+'\x3e')))}return buffer},generateStyles:function(styles,buffer,encode){var a=buffer||[];for(name in styles)if(styles.hasOwnProperty(name)){var val=styles[name];var name=this.decamelizeName(name);encode&&Ext.String.hasHtmlCharacters(val)&&(val=Ext.String.htmlEncode(val));a.push(name,':',val,';')}return buffer||a.join('')},
markup:function(spec){return'string'===typeof spec?spec:this.generateMarkup(spec,[]).join('')},applyStyles:function(el,styles){Ext.fly(el).applyStyles(styles)},createContextualFragment:function(html){var div=this.detachedDiv,fragment=document.createDocumentFragment();div.innerHTML=html;div=div.childNodes;for(html=div.length;html--;)fragment.appendChild(div[0]);return fragment},createDom:function(o){o=this.markup(o);var div=this.detachedDiv;div.innerHTML=o;o=div.firstChild;return Ext.supports.ChildContentClearedWhenSettingInnerHTML?
o.cloneNode(!0):o},insertHtml:function(where,el,html){var frag;where=where.toLowerCase();if(el.insertAdjacentHTML){if(this.ieInsertHtml&&(frag=this.ieInsertHtml(where,el,html)))return frag;if(where=fullPositionHash[where])return el.insertAdjacentHTML(where[0],html),el[where[1]]}else{3===el.nodeType&&(where='afterbegin'===where?'beforebegin':where,where='beforeend'===where?'afterend':where);var range=Ext.supports.CreateContextualFragment?el.ownerDocument.createRange():void 0;var setStart='setStart'+
(this.endRe.test(where)?'After':'Before');if(bb_ae_PositionHash[where])return range?(range[setStart](el),frag=range.createContextualFragment(html)):frag=this.createContextualFragment(html),el.parentNode.insertBefore(frag,'beforebegin'===where?el:el.nextSibling),el[('beforebegin'===where?'previous':'next')+'Sibling'];var rangeEl=('afterbegin'===where?'first':'last')+'Child';if(el.firstChild){if(range)try{range[setStart](el[rangeEl]),frag=range.createContextualFragment(html)}catch(e){frag=this.createContextualFragment(html)}else frag=
this.createContextualFragment(html);'afterbegin'===where?el.insertBefore(frag,el.firstChild):el.appendChild(frag)}else el.innerHTML=html;return el[rangeEl]}},insertBefore:function(el,o,returnElement){return this.doInsert(el,o,returnElement,'beforebegin')},insertAfter:function(el,o,returnElement){return this.doInsert(el,o,returnElement,'afterend')},insertFirst:function(el,o,returnElement){return this.doInsert(el,o,returnElement,'afterbegin')},append:function(el,o,returnElement){return this.doInsert(el,
o,returnElement,'beforeend')},overwrite:function(el,html,returnElement){var newNode;el=Ext.getDom(el);html=this.markup(html);this.ieOverwrite&&(newNode=this.ieOverwrite(el,html));newNode||(el.innerHTML=html,newNode=el.firstChild);return returnElement?Ext.get(newNode):newNode},doInsert:function(el,o,returnElement,where){el=el.dom||Ext.getDom(el);'innerHTML'in el?o=this.insertHtml(where,el,this.markup(o)):(o=this.createDom(o,null),3===el.nodeType&&(where='afterbegin'===where?'beforebegin':where,where=
'beforeend'===where?'afterend':where),bb_ae_PositionHash[where]?el.parentNode.insertBefore(o,'beforebegin'===where?el:el.nextSibling):el.firstChild&&'afterbegin'===where?el.insertBefore(o,el.firstChild):el.appendChild(o));return returnElement?Ext.get(o):o},createTemplate:function(o){o=this.markup(o);return new Ext.Template(o)},createHtml:function(spec){return this.markup(spec)}}},0,0,0,0,0,0,[Ext.dom,'Helper',Ext,'DomHelper',Ext.core,'DomHelper'],0);
Ext.define('Ext.overrides.dom.Helper',function(){var tableRe=/^(?:table|thead|tbody|tr|td)$/i,tableElRe=/td|tr|tbody|thead/i;return{override:'Ext.dom.Helper',ieInsertHtml:function(where,el,html){var frag=null;Ext.isIE9m&&tableRe.test(el.tagName)&&(frag=this.insertIntoTable(el.tagName.toLowerCase(),where,el,html));return frag},ieOverwrite:function(el,html){if(Ext.isIE9m&&tableRe.test(el.tagName)){for(;el.firstChild;)el.removeChild(el.firstChild);if(html)return this.insertHtml('afterbegin',el,html)}},
ieTable:function(depth,openingTags,htmlContent,closingTags){var i=-1,el=this.detachedDiv;for(el.innerHTML=[openingTags,htmlContent,closingTags].join('');++i<depth;)el=el.firstChild;if(depth=el.nextSibling)for(depth=el,el=document.createDocumentFragment();depth;)openingTags=depth.nextSibling,el.appendChild(depth),depth=openingTags;return el},insertIntoTable:function(tag,where,destinationEl,html){var bb='beforebegin'===where,ab='afterbegin'===where,be='beforeend'===where,ae='afterend'===where;if('td'===
tag&&(ab||be)||!tableElRe.test(tag)&&(bb||ae))return null;where=bb?destinationEl:ae?destinationEl.nextSibling:ab?destinationEl.firstChild:null;if(bb||ae)destinationEl=destinationEl.parentNode;tag='td'===tag||'tr'===tag&&(be||ab)?this.ieTable(4,'\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e',html,'\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e'):('tbody'===tag||'thead'===tag)&&(be||ab)||'tr'===tag&&(bb||ae)?this.ieTable(3,'\x3ctable\x3e\x3ctbody\x3e',html,'\x3c/tbody\x3e\x3c/table\x3e'):this.ieTable(2,'\x3ctable\x3e',
html,'\x3c/table\x3e');destinationEl.insertBefore(tag,where);return tag}}}());
Ext.cmd.derive('Ext.data.proxy.Rest',Ext.data.proxy.Ajax,{alternateClassName:'Ext.data.RestProxy',defaultActionMethods:{create:'POST',read:'GET',update:'PUT',destroy:'DELETE'},slashRe:/\/$/,periodRe:/\.$/,config:{appendId:!0,format:null,batchActions:!1,actionMethods:{create:'POST',read:'GET',update:'PUT',destroy:'DELETE'}},buildUrl:function(request){var operation=request.getOperation(),records=operation.getRecords(),record=records?records[0]:null;records=this.getFormat();var url=this.getUrl(request);
operation=record&&!record.phantom?record.getId():operation.getId();this.getAppendId()&&this.isValidId(operation)&&(url.match(this.slashRe)||(url+='/'),url+=encodeURIComponent(operation),(operation=request.getParams())&&delete operation[this.getIdParam()]);records&&(url.match(this.periodRe)||(url+='.'),url+=records);request.setUrl(url);return Ext.data.proxy.Ajax.prototype.buildUrl.call(this,request)},isValidId:function(id){return id||0===id}},0,0,0,0,['proxy.rest'],0,[Ext.data.proxy,'Rest',Ext.data,
'RestProxy'],0);
Ext.cmd.derive('Ext.dom.GarbageCollector',Ext.Base,{singleton:!0,interval:3E4,constructor:function(){this.lastTime=Ext.now();this.onTick=this.onTick.bind(this);this.resume()},collect:function(){var cache=Ext.cache,eid;for(eid in cache)if(cache.hasOwnProperty(eid)){var el=cache[eid];if(!el.skipGarbageCollection){var dom=el.dom;try{var isGarbage=Ext.isGarbage(dom)}catch(e){delete cache[eid];continue}isGarbage&&(isGarbage=!1,el&&el.dom&&el.collect())}}if(Ext.isIE9m){dom={};for(eid in cache)cache.hasOwnProperty(eid)&&(dom[eid]=
cache[eid]);Ext.cache=Ext.dom.Element.cache=dom}this.lastTime=Ext.now()},onTick:function(){this.timerId=null;Ext.enableGarbageCollector&&this.collect();this.resume()},pause:function(){var timerId=this.timerId;timerId&&(this.timerId=null,Ext.undefer(timerId))},resume:function(){var lastTime=this.lastTime;Ext.enableGarbageCollector&&Ext.now()-lastTime>this.interval&&this.collect();this.timerId||(this.timerId=Ext.defer(this.onTick,this.interval))}},1,0,0,0,0,0,[Ext.dom,'GarbageCollector'],0);
Ext.cmd.derive('Ext.dom.TouchAction',Ext.Base,{singleton:!0,lastTouchStartTime:0,minMoveDistance:8,spaceRe:/\s+/,preventSingle:null,preventMulti:null,disabledOverflowDom:null,panXCls:'x-touch-action-pan-x',panYCls:'x-touch-action-pan-y',cssValues:'none;pan-x;pan-y;pan-x pan-y;pinch-zoom;pan-x pinch-zoom;pan-y pinch-zoom;pan-x pan-y pinch-zoom;double-tap-zoom;pan-x double-tap-zoom;pan-y double-tap-zoom;pan-x pan-y double-tap-zoom;pinch-zoom double-tap-zoom;pan-x pinch-zoom double-tap-zoom;pan-y pinch-zoom double-tap-zoom;'.split(';'),
objectValues:[{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!1},{panX:!0,panY:!1,pinchZoom:!1,doubleTapZoom:!1},{panX:!1,panY:!0,pinchZoom:!1,doubleTapZoom:!1},{panX:!0,panY:!0,pinchZoom:!1,doubleTapZoom:!1},{panX:!1,panY:!1,pinchZoom:!0,doubleTapZoom:!1},{panX:!0,panY:!1,pinchZoom:!0,doubleTapZoom:!1},{panX:!1,panY:!0,pinchZoom:!0,doubleTapZoom:!1},{panX:!0,panY:!0,pinchZoom:!0,doubleTapZoom:!1},{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!0},{panX:!0,panY:!1,pinchZoom:!1,doubleTapZoom:!0},{panX:!1,
panY:!0,pinchZoom:!1,doubleTapZoom:!0},{panX:!0,panY:!0,pinchZoom:!1,doubleTapZoom:!0},{panX:!1,panY:!1,pinchZoom:!0,doubleTapZoom:!0},{panX:!0,panY:!1,pinchZoom:!0,doubleTapZoom:!0},{panX:!1,panY:!0,pinchZoom:!0,doubleTapZoom:!0},{panX:!0,panY:!0,pinchZoom:!0,doubleTapZoom:!0}],attributeName:'data-extTouchAction',constructor:function(){var supports=Ext.supports;supports.TouchAction?this.cssProp='touch-action':supports.MSPointerEvents&&(this.cssProp='-ms-touch-action');supports.TouchEvents&&(Ext.getWin().on({touchstart:'onTouchStart',
touchmove:'onTouchMove',touchend:'onTouchEnd',scope:this,delegated:!1,translate:!1,capture:!0,priority:5E3}),Ext.on({scroll:'onScroll',scope:this,destroyable:!0}))},containsTargets:function(dom,e){var contains=!0,event=e.browserEvent;e='touchend'===e.type?event.changedTouches:event.touches;var ln;event=0;for(ln=e.length;event<ln;event++)if(!dom.contains(e[event].target)){contains=!1;break}return contains},disableOverflow:function(dom,vertical){var overflowName=vertical?'overflow-y':'overflow-x',cls;
if(!this.disabledOverflowDom&&!Ext.isiOS&&!Ext.scrollbar.width())for(this.disabledOverflowDom=dom,cls=vertical?this.panXCls:this.panYCls;dom;)vertical=Ext.fly(dom).getStyle(overflowName),'auto'!==vertical&&'scroll'!==vertical||Ext.fly(dom).addCls(cls),dom=dom.parentNode},get:function(dom){dom=dom.getAttribute(this.attributeName);var ret=null;null!=dom&&(ret=this.objectValues[dom]);return ret},getFlags:function(touchAction){if('number'===typeof touchAction)var flags=touchAction;else flags=0,!1!==touchAction.panX&&
(flags|=1),!1!==touchAction.panY&&(flags|=2),!1!==touchAction.pinchZoom&&(flags|=4),!1!==touchAction.doubleTapZoom&&(flags|=8);return flags},isScrollable:function(el,vertical,forward){var overflowStyle=Ext.fly(el).getStyle(vertical?'overflow-y':'overflow-x');(overflowStyle='auto'===overflowStyle||'scroll'===overflowStyle)&&(overflowStyle=vertical?forward?el.scrollTop+el.clientHeight<el.scrollHeight:0<el.scrollTop:forward?el.scrollLeft+el.clientWidth<el.scrollWidth:0<el.scrollLeft);return overflowStyle},
lookupFlags:function(dom){return parseInt(dom.getAttribute&&dom.getAttribute(this.attributeName)||15,10)},onScroll:function(){this.scrollOccurred=!0;this.isDoubleTap=!1},onTouchEnd:function(e){var dom=e.target;if(0===e.browserEvent.touches.length){if(this.isDoubleTap)for(;dom;){var flags=this.lookupFlags(dom);null!=flags&&((flags&=8)||e.preventDefault());dom=dom.parentNode}this.isDoubleTap=!1;this.preventMulti=this.preventSingle=null;this.resetOverflow()}},onTouchMove:function(e){var prevent=null,
dom=e.target;var panX=this.preventSingle;var flags=this.preventMulti;var touchCount=e.browserEvent.touches.length;if((1!==touchCount||!1!==panX)&&!1!==flags){if(1<touchCount&&!0===flags||1===touchCount&&!0===panX)prevent=!0;else{if(1===touchCount){var point=e.getPoint();var startPoint=this.startPoint;var scale=Ext.Element.getViewportScale();scale*=point.getDistanceTo(this.startPoint);var deltaX=point.x-startPoint.x;startPoint=point.y-startPoint.y;point=Math.abs(startPoint)>=Math.abs(deltaX)}for(;dom&&
1===dom.nodeType;){flags=this.lookupFlags(dom);if(flags&0)prevent=!0;else if(1===touchCount){if(panX=!!(flags&1),flags=!!(flags&2),panX&&flags?prevent=!1:panX||flags?scale>=this.minMoveDistance&&(prevent=!!(panX&&point||flags&&!point)):prevent=!0,!prevent&&this.isScrollable(dom,point,0>(point?startPoint:deltaX)))break}else prevent=this.containsTargets(dom,e)?!(flags&4):!1;if(prevent)break;dom=dom.parentNode}}1===touchCount?this.preventSingle=prevent:1<touchCount&&(this.preventMulti=prevent);prevent&&
e.preventDefault()}},onTouchStart:function(e){if(1===e.browserEvent.touches.length){var time=e.time;!this.scrollOccurred&&500>=time-this.lastTouchStartTime&&(this.isDoubleTap=!0);this.lastTouchStartTime=time;this.scrollOccurred=!1;this.startPoint=e.getPoint();for(e=e.target;e;){var flags=this.lookupFlags(e);if(null!=flags&&(time=!!(flags&1),flags=!!(flags&2),time!==flags)){this.disableOverflow(e,time);break}e=e.parentNode}}else this.isDoubleTap=!1},resetOverflow:function(){for(var dom=this.disabledOverflowDom;dom;)Ext.fly(dom).removeCls([this.panXCls,
this.panYCls]),dom=dom.parentNode;this.disabledOverflowDom=null},set:function(dom,value){var cssProp=this.cssProp;value=this.getFlags(value);var supportedFlags=value&Ext.supports.TouchAction,attributeName=this.attributeName;cssProp&&Ext.fly(dom).setStyle(cssProp,this.cssValues[supportedFlags]);15===value?dom.removeAttribute(attributeName):dom.setAttribute(attributeName,value)}},1,0,0,0,0,0,[Ext.dom,'TouchAction'],0);
Ext.cmd.derive('Ext.event.gesture.Recognizer',Ext.Base,{priority:0,handledEvents:[],isStarted:!1,config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(config){this.initConfig(config);Ext.event.publisher.Gesture.instance.registerRecognizer(this)},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:function(){return this.reset()},onTouchCancel:function(e){return this.cancel(e)},fire:function(eventName,e,info,isCancel){this.getOnRecognized().call(this.getCallbackScope(),
this,eventName,e,info,isCancel)},cancel:function(e){if(this.isStarted)this.onCancel(e);return this.reset()},onCancel:Ext.emptyFn,reset:function(){return this.isStarted=!1}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.event.gesture,'Recognizer'],0);
Ext.cmd.derive('Ext.event.gesture.SingleTouch',Ext.event.gesture.Recognizer,{isSingleTouch:!0,onTouchStart:function(e){if(1<e.touches.length)return this.cancel(e)}},0,0,0,0,0,0,[Ext.event.gesture,'SingleTouch'],0);
Ext.cmd.derive('Ext.event.gesture.DoubleTap',Ext.event.gesture.SingleTouch,{priority:300,config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:['singletap','doubletap'],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(e){var ret=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,e);if(!1!==ret){this.isStarted=!0;var lastStartPoint=this.lastStartPoint=e.changedTouches[0].point;this.startPoint=this.startPoint||lastStartPoint;this.startTime=e.time;Ext.undefer(this.singleTapTimer)}return ret},
onTouchMove:function(e){var point=e.changedTouches[0].point,scale=Ext.Element.getViewportScale();if(Math.round(Math.abs(point.getDistanceTo(this.lastStartPoint)*scale))>=this.getMoveDistance())return this.cancel(e)},onTouchEnd:function(e){var maxDuration=this.getMaxDuration(),time=e.time,target=e.target,lastTapTime=this.lastTapTime,lastTarget=this.lastTarget,point=e.changedTouches[0].point;this.lastTapTime=time;this.lastTarget=target;if(lastTapTime&&(lastTapTime=time-lastTapTime,lastTapTime<=maxDuration)){var scale=
Ext.Element.getViewportScale();point=Math.round(Math.abs(point.getDistanceTo(this.startPoint)*scale));if(point<=this.getTapDistance()){if(target!==lastTarget)return this.cancel(e);this.lastTarget=null;this.lastTapTime=0;this.fire('doubletap',e,{touch:e.changedTouches[0],duration:lastTapTime});return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,e)}}time-this.startTime>maxDuration?(this.fire('singletap',e),this.reset()):this.setSingleTapTimer(e)},setSingleTapTimer:function(e){var me=
this;me.singleTapTimer=Ext.defer(function(){me.fire('singletap',e);me.reset()},me.getMaxDuration())},reset:function(){Ext.undefer(this.singleTapTimer);this.startTime=this.lastTapTime=0;this.lastStartPoint=this.startPoint=this.singleTapTimer=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'DoubleTap'],function(DoubleTap){var gestures=Ext.manifest.gestures;DoubleTap.instance=new DoubleTap(gestures&&gestures.doubleTap)});
Ext.cmd.derive('Ext.event.gesture.Drag',Ext.event.gesture.SingleTouch,{priority:100,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:['dragstart','drag','dragend','dragcancel'],config:{minDistance:8},constructor:function(){Ext.event.gesture.SingleTouch.prototype.constructor.apply(this,arguments);this.initInfo()},initInfo:function(){this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,
y:0},longpress:!1}},onTouchStart:function(e){var ret=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,e);!1!==ret&&(this.startTime=e.time,this.startPoint=e.changedTouches[0].point);return ret},tryDragStart:function(e){var point=e.changedTouches[0].point,minDistance=this.getMinDistance(),scale=Ext.Element.getViewportScale();Math.round(Math.abs(point.getDistanceTo(this.startPoint)*scale))>=minDistance&&this.doDragStart(e)},doDragStart:function(e,isLongPress){var touch=e.changedTouches[0],
point=touch.point,info=this.info;isLongPress?(this.startTime=isLongPress=Ext.now(),this.startPoint=point,info.longpress=!0):isLongPress=e.time;this.isStarted=!0;this.previousPoint=this.lastPoint=point;this.resetInfo('x',e,touch);this.resetInfo('y',e,touch);info.time=isLongPress;this.fire('dragstart',e,info)},onTouchMove:function(e){if(this.startPoint&&(this.isStarted||this.tryDragStart(e),this.isStarted)){var touch=e.changedTouches[0];var point=touch.point;this.lastPoint&&(this.previousPoint=this.lastPoint);
this.lastPoint=point;this.lastMoveEvent=e;this.updateInfo('x',e,touch);this.updateInfo('y',e,touch);this.info.time=e.time;this.fire('drag',e,this.info)}},onAxisDragEnd:function(axis,info){var duration=info.time-info.previousTime[axis];0<duration&&(info.flick.velocity[axis]=(info[axis]-info.previous[axis])/duration)},resetInfo:function(axis,e,touch){e=this.lastPoint[axis];var startValue=this.startPoint[axis],delta=e-startValue,capAxis=axis.toUpperCase(),info=this.info;info.touch=touch;info.delta[axis]=
delta;info.absDelta[axis]=Math.abs(delta);info.previousTime[axis]=this.startTime;info.previous[axis]=startValue;info[axis]=e;info.direction[axis]=0;info['start'+capAxis]=this.startPoint[axis];info['previous'+capAxis]=info.previous[axis];info['page'+capAxis]=info[axis];info['delta'+capAxis]=info.delta[axis];info['absDelta'+capAxis]=info.absDelta[axis];info['previousDelta'+capAxis]=0;info.startTime=this.startTime},updateInfo:function(axis,e,touch){e=this.lastPoint[axis];var previousValue=this.previousPoint[axis],
startValue=this.startPoint[axis],delta=e-startValue,info=this.info,direction=info.direction,capAxis=axis.toUpperCase(),previousFlick=info.previous[axis];info.touch=touch;info.delta[axis]=delta;info.absDelta[axis]=Math.abs(delta);e!==previousFlick&&e!==info[axis]&&(info.previous[axis]=info[axis],info.previousTime[axis]=info.time);info[axis]=e;e>previousValue?direction[axis]=1:e<previousValue&&(direction[axis]=-1);info['start'+capAxis]=startValue;info['previous'+capAxis]=info.previous[axis];info['page'+
capAxis]=info[axis];info['delta'+capAxis]=info.delta[axis];info['absDelta'+capAxis]=info.absDelta[axis];info['previousDelta'+capAxis]=info.previous[axis]-startValue;info.startTime=this.startTime},onTouchEnd:function(e){if(this.isStarted){var touch=e.changedTouches[0];var point=touch.point;var info=this.info;this.lastPoint=point;this.updateInfo('x',e,touch);this.updateInfo('y',e,touch);info.time=e.time;this.onAxisDragEnd('x',info);this.onAxisDragEnd('y',info);this.fire('dragend',e,info)}return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,
e)},onCancel:function(e){var touch=e.changedTouches[0],info=this.info;e.touches.length||(this.lastPoint=touch.point);this.updateInfo('x',e,touch);this.updateInfo('y',e,touch);info.time=e.time;this.fire('dragcancel',e,info,!0)},reset:function(){this.lastPoint=this.startPoint=this.previousPoint=this.lastMoveEvent=null;this.initInfo();return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},1,0,0,0,0,0,[Ext.event.gesture,'Drag'],function(Drag){var gestures=Ext.manifest.gestures;Drag.instance=
new Drag(gestures&&gestures.drag)});
Ext.cmd.derive('Ext.event.gesture.Swipe',Ext.event.gesture.SingleTouch,{priority:600,handledEvents:['swipestart','swipe','swipecancel'],config:{minDistance:80,maxOffset:35,maxDuration:1E3},onTouchStart:function(e){var ret=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,e);if(!1!==ret){var touch=e.changedTouches[0];this.startTime=e.time;this.isVertical=this.isHorizontal=!0;this.startX=touch.pageX;this.startY=touch.pageY}return ret},onTouchMove:function(e){var touch=e.changedTouches[0],
x=touch.pageX,y=touch.pageY,deltaX=x-this.startX,deltaY=y-this.startY;x=Math.abs(x-this.startX);y=Math.abs(y-this.startY);var duration=e.time-this.startTime;if(0===x&&0===y||duration>this.getMaxDuration())return this.cancel(e);this.isHorizontal&&y>this.getMaxOffset()&&(this.isHorizontal=!1);this.isVertical&&x>this.getMaxOffset()&&(this.isVertical=!1);if(!this.isVertical||!this.isHorizontal){var minDistance=this.getMinDistance();if(this.isHorizontal&&x<minDistance){var direction=0>deltaX?'left':'right';
var distance=x}else this.isVertical&&y<minDistance&&(direction=0>deltaY?'up':'down',distance=y)}if(!this.isHorizontal&&!this.isVertical)return this.cancel(e);direction&&!this.isStarted&&(this.isStarted=!0,this.fire('swipestart',e,{touch,direction,distance,duration}))},onTouchEnd:function(e){if(!1!==this.onTouchMove(e)){var touch=e.changedTouches[0];var x=touch.pageX;var y=touch.pageY;x-=this.startX;y-=this.startY;var absDeltaX=Math.abs(x);var absDeltaY=Math.abs(y);var minDistance=this.getMinDistance();
var duration=e.time-this.startTime;this.isVertical&&absDeltaY<minDistance&&(this.isVertical=!1);this.isHorizontal&&absDeltaX<minDistance&&(this.isHorizontal=!1);if(this.isHorizontal){var direction=0>x?'left':'right';var distance=absDeltaX}else this.isVertical&&(direction=0>y?'up':'down',distance=absDeltaY);this.fire('swipe',e,{touch,direction,distance,duration})}return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,e)},onCancel:function(e){this.fire('swipecancel',e,null,!0)},reset:function(){this.startTime=
this.isHorizontal=this.isVertical=this.startX=this.startY=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'Swipe'],function(Swipe){var gestures=Ext.manifest.gestures;Swipe.instance=new Swipe(gestures&&gestures.swipe)});
Ext.cmd.derive('Ext.event.gesture.EdgeSwipe',Ext.event.gesture.Swipe,{priority:500,handledEvents:['edgeswipe','edgeswipestart','edgeswipeend','edgeswipecancel'],config:{minDistance:60},onTouchStart:function(e){var ret=Ext.event.gesture.Swipe.prototype.onTouchStart.call(this,e);!1!==ret&&(e=e.changedTouches[0],this.direction=null,this.isVertical=this.isHorizontal=!0,this.startX=e.pageX,this.startY=e.pageY);return ret},onTouchMove:function(e){var touch=e.changedTouches[0],x=touch.pageX,y=touch.pageY,
deltaX=x-this.startX,deltaY=y-this.startY;y=Math.abs(y-this.startY);x=Math.abs(x-this.startX);var minDistance=this.getMinDistance(),maxOffset=this.getMaxOffset(),duration=e.time-this.startTime,elementWidth=Ext.Viewport&&Ext.Element.getViewportWidth(),elementHeight=Ext.Viewport&&Ext.Element.getViewportHeight();this.isVertical&&x>maxOffset&&(this.isVertical=!1);this.isHorizontal&&y>maxOffset&&(this.isHorizontal=!1);this.isVertical&&this.isHorizontal&&(y>x?this.isHorizontal=!1:this.isVertical=!1);if(this.isHorizontal){var direction=
0>deltaX?'left':'right';var distance=deltaX}else this.isVertical&&(direction=0>deltaY?'up':'down',distance=deltaY);direction=this.direction||(this.direction=direction);'up'===direction?distance=-1*deltaY:'left'===direction&&(distance=-1*deltaX);this.distance=distance;if(!distance)return this.cancel(e);if(this.isStarted)this.fire('edgeswipe',e,{touch,direction,distance,duration});else{if('right'===direction&&this.startX>minDistance||'down'===direction&&this.startY>minDistance||'left'===direction&&
elementWidth-this.startX>minDistance||'up'===direction&&elementHeight-this.startY>minDistance)return this.cancel(e);this.isStarted=!0;this.startTime=e.time;this.fire('edgeswipestart',e,{touch,direction,distance,duration})}},onTouchEnd:function(e){if(!1!==this.onTouchMove(e)){var duration=e.time-this.startTime;this.fire('edgeswipeend',e,{touch:e.changedTouches[0],direction:this.direction,distance:this.distance,duration})}return this.reset()},onCancel:function(e){this.fire('edgeswipecancel',e,{touch:e.changedTouches[0]},
!0)},reset:function(){this.direction=this.isHorizontal=this.isVertical=this.startX=this.startY=this.startTime=this.distance=null;return Ext.event.gesture.Swipe.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'EdgeSwipe'],function(EdgeSwipe){var gestures=Ext.manifest.gestures;EdgeSwipe.instance=new EdgeSwipe(gestures&&gestures.edgeSwipe)});
Ext.cmd.derive('Ext.event.gesture.LongPress',Ext.event.gesture.SingleTouch,{priority:400,config:{moveDistance:8,minDuration:1E3},handledEvents:['longpress','taphold'],onTouchStart:function(e){var ret=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,e);!1!==ret&&(this.startPoint=e.changedTouches[0].point,this.setLongPressTimer(e));return ret},setLongPressTimer:function(e){Ext.undefer(this.timer);this.timer=Ext.defer(this.fireLongPress,this.getMinDuration(),this,[e])},onTouchMove:function(e){var point=
e.changedTouches[0].point,scale=Ext.Element.getViewportScale();if(Math.round(Math.abs(point.getDistanceTo(this.startPoint)*scale))>=this.getMoveDistance())return this.cancel(e)},reset:function(){this.timer=this.startPoint=Ext.undefer(this.timer);return Ext.event.gesture.SingleTouch.prototype.reset.call(this)},fireLongPress:function(e){var info={touch:e.changedTouches[0],duration:this.getMinDuration(),startDrag:this.startDrag};this.fire('taphold',e,info);this.fire('longpress',e,info);this.reset()},
startDrag:function(){var dragRecognizer=Ext.event.gesture.Drag.instance,touchStartEvent=this.parentEvent;dragRecognizer.doDragStart(touchStartEvent,!0);Ext.event.publisher.Gesture.instance.claimRecognizer(dragRecognizer,touchStartEvent)}},0,0,0,0,0,0,[Ext.event.gesture,'LongPress'],function(LongPress){var gestures=Ext.manifest.gestures;LongPress.instance=new LongPress(gestures&&gestures.longPress)});
Ext.cmd.derive('Ext.event.gesture.MultiTouch',Ext.event.gesture.Recognizer,{requiredTouchesCount:2,isTracking:!1,isMultiTouch:!0,onTouchStart:function(e){var requiredTouchesCount=this.requiredTouchesCount,touchesCount=e.touches.length;if(touchesCount===requiredTouchesCount)this.isTracking=!0;else if(touchesCount>requiredTouchesCount)return this.cancel(e)},reset:function(){this.isTracking=!1;return Ext.event.gesture.Recognizer.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'MultiTouch'],
0);
Ext.cmd.derive('Ext.event.gesture.Pinch',Ext.event.gesture.MultiTouch,{priority:700,handledEvents:['pinchstart','pinch','pinchend','pinchcancel'],startDistance:0,lastTouches:null,onTouchMove:function(e){if(this.isTracking){var touches=e.touches;var firstPoint=touches[0].point;var secondPoint=touches[1].point;firstPoint=firstPoint.getDistanceTo(secondPoint);0!==firstPoint&&(this.isStarted?this.fire('pinch',e,{touches,distance:firstPoint,scale:firstPoint/this.startDistance}):(this.isStarted=!0,this.startDistance=firstPoint,
this.fire('pinchstart',e,{touches,distance:firstPoint,scale:1})))}},onTouchEnd:function(e){this.isStarted&&this.fire('pinchend',e);return Ext.event.gesture.MultiTouch.prototype.onTouchEnd.call(this,e)},onCancel:function(e){this.fire('pinchcancel',e,null,!0)},reset:function(){this.lastTouches=null;this.startDistance=0;return Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'Pinch'],function(Pinch){var gestures=Ext.manifest.gestures;Pinch.instance=new Pinch(gestures&&
gestures.pinch)});
Ext.cmd.derive('Ext.event.gesture.Rotate',Ext.event.gesture.MultiTouch,{priority:800,handledEvents:['rotatestart','rotate','rotateend','rotatecancel'],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(e){if(this.isTracking){var touches=e.touches;var lastAngle=this.lastAngle;var firstPoint=touches[0].point;var secondPoint=touches[1].point;firstPoint=firstPoint.getAngleTo(secondPoint);if(null!==lastAngle){var diff=Math.abs(lastAngle-firstPoint);secondPoint=firstPoint+360;var previousAngle=
firstPoint-360;Math.abs(secondPoint-lastAngle)<diff?firstPoint=secondPoint:Math.abs(previousAngle-lastAngle)<diff&&(firstPoint=previousAngle)}this.lastAngle=firstPoint;this.isStarted?this.fire('rotate',e,{touches,angle:firstPoint,rotation:firstPoint-this.startAngle}):(this.isStarted=!0,this.startAngle=firstPoint,this.fire('rotatestart',e,{touches,angle:firstPoint,rotation:0}));this.lastTouches=Ext.Array.clone(touches)}},onTouchEnd:function(e){this.isStarted&&this.fire('rotateend',e);return Ext.event.gesture.MultiTouch.prototype.onTouchEnd.call(this,
e)},onCancel:function(e){this.fire('rotatecancel',e,null,!0)},reset:function(){this.lastTouches=this.lastAngle=this.startAngle=null;return Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'Rotate'],function(Rotate){var gestures=Ext.manifest.gestures;Rotate.instance=new Rotate(gestures&&gestures.rotate)});
Ext.cmd.derive('Ext.event.gesture.Tap',Ext.event.gesture.SingleTouch,{priority:200,handledEvents:['tap','tapcancel'],config:{moveDistance:8},onTouchStart:function(e){var ret=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,e);!1!==ret&&(this.isStarted=!0,this.startPoint=e.changedTouches[0].point);return ret},onTouchMove:function(e){var point=e.changedTouches[0].point,scale=Ext.Element.getViewportScale();if(Math.round(Math.abs(point.getDistanceTo(this.startPoint)*scale))>=this.getMoveDistance())return this.cancel(e)},
onTouchEnd:function(e){this.fire('tap',e,{touch:e.changedTouches[0]});return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,e)},onCancel:function(e){this.fire('tapcancel',e,{touch:e.changedTouches[0]},!0)},reset:function(){this.startPoint=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'Tap'],function(Tap){var gestures=Ext.manifest.gestures;Tap.instance=new Tap(gestures&&gestures.tap)});
Ext.cmd.derive('Ext.event.publisher.Focus',Ext.event.publisher.Dom,{type:'focus',handledEvents:['focusenter','focusleave','focusmove'],handledDomEvents:['focusin','focusout'],publishDelegatedDomEvent:function(e){var relatedTarget=e.relatedTarget;'focusout'===e.type?null==relatedTarget&&this.processFocusIn(e,e.target,document.body):(null!=relatedTarget&&relatedTarget.tagName||(relatedTarget=document.body),this.processFocusIn(e,relatedTarget,e.target))},processFocusIn:function(e,fromElement,toElement){var focusFly=
this.focusFly,targets=[],backwards;if(!(fromElement&&focusFly.attach(fromElement).isFocusSuspended()||toElement&&focusFly.attach(toElement).isFocusSuspended())){toElement.compareDocumentPosition&&(backwards=!!(toElement.compareDocumentPosition(fromElement)&4));var node=fromElement;for(focusFly=Ext.dom.Element.getCommonAncestor(toElement,fromElement,!0);node&&node!==focusFly;node=node.parentNode)targets.push(node);if(targets.length&&(node=this.createSyntheticEvent('focusleave',e,fromElement,toElement,
fromElement,toElement,backwards),this.publish(node,targets),node.stopped))return;targets.length=0;for(node=toElement;node&&node!==focusFly;node=node.parentNode)targets.push(node);var focusEnterEvent=this.createSyntheticEvent('focusenter',e,toElement,fromElement,fromElement,toElement,backwards);if(targets.length&&(this.publish(focusEnterEvent,targets),focusEnterEvent.stopped))return;targets=this.getPropagatingTargets(focusFly);if(targets.length&&(node=this.createSyntheticEvent('focusmove',e,toElement,
fromElement,fromElement,toElement,backwards),this.publish(node,targets),node.stopped))return;Ext.GlobalEvents.hasListeners.focus&&Ext.GlobalEvents.fireEvent('focus',{event:focusEnterEvent,toElement,fromElement,backwards})}},createSyntheticEvent:function(eventName,browserEvent,target,relatedTarget,fromElement,toElement,backwards){browserEvent=new Ext.event.Event(browserEvent);browserEvent.type=eventName;browserEvent.relatedTarget=relatedTarget;browserEvent.target=target;browserEvent.fromElement=fromElement;
browserEvent.toElement=toElement;browserEvent.backwards=backwards;return browserEvent}},0,0,0,0,0,0,[Ext.event.publisher,'Focus'],function(Focus){var focusTimeout;Focus.prototype.focusFly=new Ext.dom.Fly;Focus.instance=new Focus;Ext.supports.FocusinFocusoutEvents||(this.override({handledDomEvents:['focus','blur'],publishDelegatedDomEvent:function(e){var me=this;me.callSuper([e]);var targetIsElement=e.target!==window&&e.target!==document;'blur'===e.type?(targetIsElement?(focusTimeout=Ext.defer(function(){focusTimeout=
0;me.processFocusIn(e,e.target,document.body);Focus.previousActiveElement=null},1),targetIsElement&&Ext.cache[e.target.id]&&(Ext.cache[e.target.id].focusinTimeout=focusTimeout)):e.explicitOriginalTarget===Focus.previousActiveElement&&e.target===window&&(Ext.undefer(focusTimeout),focusTimeout=0,me.processFocusIn(e,Focus.previousActiveElement,document.body),Focus.previousActiveElement=null),Focus.previousActiveElement=targetIsElement?e.target:null):(Ext.undefer(focusTimeout),focusTimeout=0,me.processFocusIn(e,
Focus.previousActiveElement||document.body,targetIsElement?e.target:document.body))}}),Ext.define(null,{override:'Ext.dom.Element',destroy:function(){this.focusinTimeout&&(Ext.undefer(this.focusinTimeout),this.focusinTimeout=null);this.callParent()}}))});
Ext.cmd.derive('Ext.fx.State',Ext.Base,{isAnimatable:{'background-color':!0,'background-image':!0,'background-position':!0,'border-bottom-color':!0,'border-bottom-width':!0,'border-color':!0,'border-left-color':!0,'border-left-width':!0,'border-right-color':!0,'border-right-width':!0,'border-spacing':!0,'border-top-color':!0,'border-top-width':!0,'border-width':!0,bottom:!0,color:!0,crop:!0,'font-size':!0,'font-weight':!0,height:!0,left:!0,'letter-spacing':!0,'line-height':!0,'margin-bottom':!0,'margin-left':!0,
'margin-right':!0,'margin-top':!0,'max-height':!0,'max-width':!0,'min-height':!0,'min-width':!0,opacity:!0,'outline-color':!0,'outline-offset':!0,'outline-width':!0,'padding-bottom':!0,'padding-left':!0,'padding-right':!0,'padding-top':!0,right:!0,'text-indent':!0,'text-shadow':!0,top:!0,'vertical-align':!0,visibility:!0,width:!0,'word-spacing':!0,'z-index':!0,zoom:!0,transform:!0},constructor:function(data){this.data={};this.set(data)},setConfig:function(data){this.set(data);return this},setRaw:function(data){this.data=
data;return this},clear:function(){return this.setRaw({})},setTransform:function(name,value){var data=this.data,isArray=Ext.isArray(value),transform=data.transform,key;transform||(transform=data.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0});if('string'===typeof name)switch(name){case 'translate':isArray?(name=value.length,0!==name&&(transform.translateX=value[0],1!==name&&(transform.translateY=value[1],2!==name&&
(transform.translateZ=value[2])))):transform.translateX=value;break;case 'rotate':isArray?(name=value.length,0!==name&&(transform.rotateX=value[0],1!==name&&(transform.rotateY=value[1],2!==name&&(transform.rotateZ=value[2])))):transform.rotate=value;break;case 'scale':isArray?(name=value.length,0!==name&&(transform.scaleX=value[0],1!==name&&(transform.scaleY=value[1],2!==name&&(transform.scaleZ=value[2])))):(transform.scaleX=value,transform.scaleY=value);break;case 'skew':isArray?(name=value.length,
0!==name&&(transform.skewX=value[0],1!==name&&(transform.skewY=value[1]))):transform.skewX=value;break;default:transform[name]=value}else for(key in name)name.hasOwnProperty(key)&&(value=name[key],this.setTransform(key,value))},set:function(name,value){var data=this.data,key;if('string'!==typeof name)for(key in name)value=name[key],'transform'===key?this.setTransform(value):data[key]=value;else'transform'===name?this.setTransform(value):data[name]=value;return this},unset:function(name){var data=
this.data;data.hasOwnProperty(name)&&delete data[name];return this},getData:function(){return this.data}},1,0,0,0,0,0,[Ext.fx,'State'],0);
Ext.cmd.derive('Ext.fx.animation.Abstract',Ext.Evented,{factoryConfig:{type:'animation'},isAnimation:!0,config:{name:'',element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:'linear',iteration:1,direction:'normal',delay:0,onBeforeStart:null,callback:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:!1,replacePrevious:!0},STATE_FROM:'0%',STATE_TO:'100%',DIRECTION_UP:'up',DIRECTION_TOP:'top',DIRECTION_DOWN:'down',DIRECTION_BOTTOM:'bottom',DIRECTION_LEFT:'left',
DIRECTION_RIGHT:'right',stateNameRegex:/^(?:[\d.]+)%$/,constructor:function(){this.states={};Ext.Evented.prototype.constructor.apply(this,arguments);return this},applyElement:function(element){return Ext.get(element)},applyBefore:function(before,current){if(before)return Ext.factory(before,Ext.fx.State,current)},applyAfter:function(after,current){if(after)return Ext.factory(after,Ext.fx.State,current)},setFrom:function(from){return this.setState(this.STATE_FROM,from)},setTo:function(to){return this.setState(this.STATE_TO,
to)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(states){var validNameRegex=this.stateNameRegex,name;for(name in states)validNameRegex.test(name)&&this.setState(name,states[name]);return this},getStates:function(){return this.states},updateCallback:function(callback){callback&&this.setOnEnd(callback)},end:function(){this.stop()},stop:function(){this.fireEvent('stop',this)},destroy:function(){this.destroying=!0;
this.stop();Ext.Evented.prototype.destroy.call(this);this.destroying=!1;this.destroyed=!0},setState:function(name,state){var states=this.getStates();(state=Ext.factory(state,Ext.fx.State,states[name]))&&(states[name]=state);return this},getState:function(name){return this.getStates()[name]},getData:function(){var states=this.getStates(),statesData={},before=this.getBefore(),after=this.getAfter(),to=states[this.STATE_TO],fromData=states[this.STATE_FROM].getData();to=to.getData();var name;for(name in states)if(states.hasOwnProperty(name)){var data=
states[name];data=data.getData();statesData[name]=data}return{before:before?before.getData():{},after:after?after.getData():{},states:statesData,from:fromData,to,duration:this.getDuration(),iteration:this.getIteration(),direction:this.getDirection(),easing:this.getEasing(),delay:this.getDelay(),onEnd:this.getOnEnd(),onBeforeEnd:this.getOnBeforeEnd(),onBeforeStart:this.getOnBeforeStart(),scope:this.getScope(),preserveEndState:this.getPreserveEndState(),replacePrevious:this.getReplacePrevious()}}},
1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.fx.animation,'Abstract'],0);
Ext.cmd.derive('Ext.fx.animation.Slide',Ext.fx.animation.Abstract,{alternateClassName:'Ext.fx.animation.SlideIn',config:{direction:'left',out:!1,offset:0,easing:'auto',containerBox:'auto',elementBox:'auto',isElementBoxFit:!0,useCssTransform:!0},reverseDirectionMap:{up:'down',top:'down',down:'up',bottom:'up',left:'right',right:'left'},applyEasing:function(easing){return'auto'===easing?'ease-'+(this.getOut()?'in':'out'):easing},getContainerBox:function(){var box=this._containerBox;'auto'===box&&(box=
this.getElement().getParent().getBox());return box},getElementBox:function(){var box=this._elementBox;if(this.getIsElementBoxFit())return this.getContainerBox();'auto'===box&&(box=this.getElement().getBox());return box},getData:function(){var elementBox=this.getElementBox(),containerBox=this.getContainerBox(),box=elementBox?elementBox:containerBox,from=this.getFrom();elementBox=this.getTo();var out=this.getOut(),offset=this.getOffset(),direction=this.getDirection(),useCssTransform=this.getUseCssTransform(),
reverse=this.getReverse(),translateX=0,translateY=0;if('string'===typeof offset){var offsetPct=!0;offset=parseFloat(offset)}reverse&&(direction=this.reverseDirectionMap[direction]);switch(direction){case this.DIRECTION_UP:case this.DIRECTION_TOP:offsetPct&&(offset=box.height*offset/100);translateY=out?containerBox.top-box.top-box.height-offset:containerBox.bottom-box.bottom+box.height+offset;break;case this.DIRECTION_DOWN:case this.DIRECTION_BOTTOM:offsetPct&&(offset=box.height*offset/100);translateY=
out?containerBox.bottom-box.bottom+box.height+offset:containerBox.top-box.height-box.top-offset;break;case this.DIRECTION_RIGHT:offsetPct&&(offset=box.width*offset/100);translateX=out?containerBox.right-box.right+box.width+offset:containerBox.left-box.left-box.width-offset;break;case this.DIRECTION_LEFT:offsetPct&&(offset=box.width*offset/100),translateX=out?containerBox.left-box.left-box.width-offset:containerBox.right-box.right+box.width+offset}containerBox=out?0:translateX;offsetPct=out?0:translateY;
useCssTransform?from.setTransform({translateX:containerBox,translateY:offsetPct}):(from.set('left',containerBox),from.set('top',offsetPct));from=out?translateX:0;out=out?translateY:0;useCssTransform?elementBox.setTransform({translateX:from,translateY:out}):(elementBox.set('left',from),elementBox.set('top',out));return Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,['animation.slide','animation.slideIn'],0,[Ext.fx.animation,'Slide',Ext.fx.animation,'SlideIn'],0);
Ext.cmd.derive('Ext.fx.animation.SlideOut',Ext.fx.animation.Slide,{config:{out:!0}},0,0,0,0,['animation.slideOut'],0,[Ext.fx.animation,'SlideOut'],0);
Ext.cmd.derive('Ext.fx.animation.Fade',Ext.fx.animation.Abstract,{alternateClassName:'Ext.fx.animation.FadeIn',config:{out:!1,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(newOut){var to=this.getTo(),from=this.getFrom();newOut?(from.set('opacity',1),to.set('opacity',0)):(from.set('opacity',0),to.set('opacity',1))}},0,0,0,0,['animation.fade','animation.fadeIn'],0,[Ext.fx.animation,'Fade',Ext.fx.animation,'FadeIn'],0);
Ext.cmd.derive('Ext.fx.animation.FadeOut',Ext.fx.animation.Fade,{config:{out:!0,before:{}}},0,0,0,0,['animation.fadeOut'],0,[Ext.fx.animation,'FadeOut'],0);
Ext.cmd.derive('Ext.fx.animation.Flip',Ext.fx.animation.Abstract,{config:{easing:'ease-in',direction:'right',half:!1,out:null},getData:function(){var from=this.getFrom(),to=this.getTo(),direction=this.getDirection(),out=this.getOut(),rotate=this.getHalf()?90:180,fromScale=1,toScale=1,fromRotateX=0,fromRotateY=0,toRotateX=0,toRotateY=0;out?toScale=.8:fromScale=.8;switch(direction){case this.DIRECTION_UP:case this.DIRECTION_TOP:out?toRotateX=rotate:fromRotateX=-rotate;break;case this.DIRECTION_DOWN:case this.DIRECTION_BOTTOM:out?
toRotateX=-rotate:fromRotateX=rotate;break;case this.DIRECTION_RIGHT:out?toRotateY=rotate:fromRotateY=-rotate;break;case this.DIRECTION_LEFT:out?toRotateY=-rotate:fromRotateY=rotate}from.setTransform({rotateX:fromRotateX,rotateY:fromRotateY,scale:fromScale});to.setTransform({rotateX:toRotateX,rotateY:toRotateY,scale:toScale});return Ext.fx.animation.Abstract.prototype.getData.call(this)}},0,0,0,0,['animation.flip'],0,[Ext.fx.animation,'Flip'],0);
Ext.cmd.derive('Ext.fx.animation.Pop',Ext.fx.animation.Abstract,{alternateClassName:'Ext.fx.animation.PopIn',config:{out:!1,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var to=this.getTo(),from=this.getFrom();this.getOut()?(from.set('opacity',1),from.setTransform({scale:1}),to.set('opacity',0),to.setTransform({scale:0})):(from.set('opacity',0),from.setTransform({scale:0}),to.set('opacity',1),to.setTransform({scale:1}));return Ext.fx.animation.Abstract.prototype.getData.apply(this,
arguments)}},0,0,0,0,['animation.pop','animation.popIn'],0,[Ext.fx.animation,'Pop',Ext.fx.animation,'PopIn'],0);Ext.cmd.derive('Ext.fx.animation.PopOut',Ext.fx.animation.Pop,{config:{out:!0,before:{}}},0,0,0,0,['animation.popOut'],0,[Ext.fx.animation,'PopOut'],0);
Ext.cmd.derive('Ext.fx.Animation',Ext.Base,{constructor:function(config){var defaultClass=Ext.fx.animation.Abstract;if('string'===typeof config){var type=config;config={}}else config&&config.type&&(type=config.type);type&&(defaultClass=Ext.ClassManager.getByAlias('animation.'+type));return Ext.factory(config,defaultClass)}},1,0,0,0,0,0,[Ext.fx,'Animation'],0);
Ext.cmd.derive('Ext.fx.runner.Css',Ext.Evented,{prefixedProperties:{transform:!0,'transform-origin':!0,perspective:!0,'transform-style':!0,transition:!0,'transition-property':!0,'transition-duration':!0,'transition-timing-function':!0,'transition-delay':!0,animation:!0,'animation-name':!0,'animation-duration':!0,'animation-iteration-count':!0,'animation-direction':!0,'animation-timing-function':!0,'animation-delay':!0},lengthProperties:{top:!0,right:!0,bottom:!0,left:!0,width:!0,height:!0,'max-height':!0,
'max-width':!0,'min-height':!0,'min-width':!0,'margin-bottom':!0,'margin-left':!0,'margin-right':!0,'margin-top':!0,'padding-bottom':!0,'padding-left':!0,'padding-right':!0,'padding-top':!0,'border-bottom-width':!0,'border-left-width':!0,'border-right-width':!0,'border-spacing':!0,'border-top-width':!0,'border-width':!0,'outline-width':!0,'letter-spacing':!0,'line-height':!0,'text-indent':!0,'word-spacing':!0,'font-size':!0,translate:!0,translateX:!0,translateY:!0,translateZ:!0,translate3d:!0,x:!0,
y:!0},durationProperties:{'transition-duration':!0,'transition-delay':!0,'animation-duration':!0,'animation-delay':!0},angleProperties:{rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,skew:!0,skewX:!0,skewY:!0},DEFAULT_UNIT_LENGTH:'px',DEFAULT_UNIT_ANGLE:'deg',DEFAULT_UNIT_DURATION:'ms',customProperties:{x:!0,y:!0},formattedNameCache:{x:'left',y:'top'},transformMethods3d:'translateX translateY translateZ rotate rotateX rotateY rotateZ skewX skewY scaleX scaleY scaleZ'.split(' '),transformMethodsNo3d:'translateX translateY rotate skewX skewY scaleX scaleY'.split(' '),
constructor:function(){this.transformMethods=Ext.feature.has.Css3dTransforms?this.transformMethods3d:this.transformMethodsNo3d;this.vendorPrefix=Ext.browser.getStyleDashPrefix();this.ruleStylesCache={};Ext.Evented.prototype.constructor.call(this)},getStyleSheet:function(){var styleSheet=this.styleSheet;styleSheet||(styleSheet=document.createElement('style'),styleSheet.type='text/css',(document.head||document.getElementsByTagName('head')[0]).appendChild(styleSheet),styleSheet=document.styleSheets,
this.styleSheet=styleSheet=styleSheet[styleSheet.length-1]);return styleSheet},applyRules:function(selectors){var styleSheet=this.getStyleSheet(),ruleStylesCache=this.ruleStylesCache,rules=styleSheet.cssRules,selector;for(selector in selectors){var properties=selectors[selector];var ruleStyle=ruleStylesCache[selector];void 0===ruleStyle&&(ruleStyle=rules.length,styleSheet.insertRule(selector+'{}',ruleStyle),ruleStyle=ruleStylesCache[selector]=rules.item(ruleStyle).style);var ruleStyleCache=ruleStyle.$cache;
ruleStyleCache||(ruleStyleCache=ruleStyle.$cache={});for(name in properties){var value=this.formatValue(properties[name],name);var name=this.formatName(name);ruleStyleCache[name]!==value&&(ruleStyleCache[name]=value,null===value?ruleStyle.removeProperty(name):ruleStyle.setProperty(name,value))}}return this},applyStyles:function(styles){var id,element;for(id in styles)if(styles.hasOwnProperty(id)&&(this.activeElement=element=document.getElementById(id))){element=element.style;var properties=styles[id];
for(name in properties)if(properties.hasOwnProperty(name)){var value=this.formatValue(properties[name],name);var name=this.formatName(name);null===value?element.removeProperty(name):element.setProperty(name,value)}}this.activeElement=null;return this},formatName:function(name){var cache=this.formattedNameCache,formattedName=cache[name];formattedName||(formattedName=!Ext.os.is.Tizen&&Ext.feature.has.CssTransformNoPrefix||!this.prefixedProperties[name]?name:this.vendorPrefix+name,cache[name]=formattedName);
return formattedName},formatValue:function(value,name){var type=typeof value,defaultLengthUnit=this.DEFAULT_UNIT_LENGTH,isCustom=this.customProperties[name];if(null===value)return'';if('string'===type)this.lengthProperties[name]&&!Ext.dom.Element.hasUnit(value)&&(value+=defaultLengthUnit,isCustom&&(value=this.getCustomValue(value,name)));else if('number'===type){if(0===value)return'0';if(this.lengthProperties[name])return value+=defaultLengthUnit,isCustom&&(value=this.getCustomValue(value,name)),
value;if(this.angleProperties[name])return value+this.DEFAULT_UNIT_ANGLE;if(this.durationProperties[name])return value+this.DEFAULT_UNIT_DURATION}else{if('transform'===name){name=this.transformMethods;var transformValues=[];type=0;for(defaultLengthUnit=name.length;type<defaultLengthUnit;type++)isCustom=name[type],transformValues.push(isCustom+'('+this.formatValue(value[isCustom],isCustom)+')');return transformValues.join(' ')}if(Ext.isArray(value)){isCustom=[];type=0;for(defaultLengthUnit=value.length;type<
defaultLengthUnit;type++)isCustom.push(this.formatValue(value[type],name));return 0<isCustom.length?isCustom.join(', '):'none'}}return value},getCustomValue:function(value,name){var el=Ext.fly(this.activeElement);'x'===name?value=el.translateXY(parseInt(value,10)).x:'y'===name&&(value=el.translateXY(null,parseInt(value,10)).y);return value+this.DEFAULT_UNIT_LENGTH}},1,0,0,0,0,0,[Ext.fx.runner,'Css'],0);
Ext.cmd.derive('Ext.fx.runner.CssTransition',Ext.fx.runner.Css,{alternateClassName:'Ext.Animator',singleton:!0,listenersAttached:!1,constructor:function(){this.runningAnimationsData={};this.transitionQueue={toData:{},transitionData:{}};return this.callParent(arguments)},attachListeners:function(){var target=top===window?Ext.getWin():Ext.getBody();this.listenersAttached=!0;target.on('transitionend','onTransitionEnd',this)},onTransitionEnd:function(e){var target=e.target,id=target.id;id&&this.runningAnimationsData.hasOwnProperty(id)&&
this.refreshRunningAnimationsData(Ext.get(target),[e.browserEvent.propertyName])},getElementId:function(element){return element.getId?element.getId():element.id},onAnimationEnd:function(element,data,animation,isInterrupted,isReplaced){var id=this.getElementId(element),runningData=this.runningAnimationsData[id],endRules={},endData={};animation.un('stop','onAnimationStop',this);if(runningData)var runningNameMap=runningData.nameMap;endRules[id]=endData;data.onBeforeEnd&&data.onBeforeEnd.call(data.scope||
this,element,isInterrupted);animation.fireEvent('animationbeforeend',animation,element,isInterrupted);this.fireEvent('animationbeforeend',this,animation,element,isInterrupted);if(isReplaced||!isInterrupted&&!data.preserveEndState)for(isReplaced=data.toPropertyNames,id=0,runningData=isReplaced.length;id<runningData;id++){var name=isReplaced[id];runningNameMap&&!runningNameMap.hasOwnProperty(name)&&(endData[name]=null)}data.after&&Ext.merge(endData,data.after);this.applyStyles(endRules);data.onEnd&&
data.onEnd.call(data.scope||this,element,isInterrupted);animation.fireEvent('animationend',animation,element,isInterrupted);this.fireEvent('animationend',this,animation,element,isInterrupted);Ext.AnimationQueue.stop(Ext.emptyFn,animation)},onAllAnimationsEnd:function(element){var id=this.getElementId(element),transitionQueue=this.transitionQueue,endRules={};delete this.runningAnimationsData[id];endRules[id]={'transition-property':null,'transition-duration':null,'transition-timing-function':null,'transition-delay':null};
delete transitionQueue.toData[id];delete transitionQueue.transitionData[id];this.applyStyles(endRules);this.fireEvent('animationallend',this,element)},hasRunningAnimations:function(element){element=this.getElementId(element);var runningAnimationsData=this.runningAnimationsData;return runningAnimationsData.hasOwnProperty(element)&&0<runningAnimationsData[element].sessions.length},refreshRunningAnimationsData:function(element,propertyNames,interrupt,replace){var id=this.getElementId(element),runningData=
this.runningAnimationsData[id];id=!1;var i,subLn;if(runningData){var nameMap=runningData.nameMap;var nameList=runningData.nameList;var sessions=runningData.sessions;interrupt=!!interrupt;replace=!!replace;if(!sessions)return this;var ln=sessions.length;if(0===ln)return this;if(replace){runningData.nameMap={};for(i=nameList.length=0;i<ln;i++){var session=sessions[i];this.onAnimationEnd(element,session.data,session.animation,interrupt,replace)}sessions.length=0}else for(i=0;i<ln;i++){session=sessions[i];
var map=session.map;var list=session.list;var j=0;for(subLn=propertyNames.length;j<subLn;j++)runningData=propertyNames[j],map[runningData]&&(delete map[runningData],Ext.Array.remove(list,runningData),session.length--,0===--nameMap[runningData]&&(delete nameMap[runningData],Ext.Array.remove(nameList,runningData)));0===session.length&&(sessions.splice(i,1),i--,ln--,id=!0,this.onAnimationEnd(element,session.data,session.animation,interrupt))}if(!replace&&!interrupt&&0===sessions.length&&id)this.onAllAnimationsEnd(element)}},
getRunningData:function(id){var runningAnimationsData=this.runningAnimationsData;runningAnimationsData.hasOwnProperty(id)||(runningAnimationsData[id]={nameMap:{},nameList:[],sessions:[]});return runningAnimationsData[id]},getTestElement:function(){var testElement=this.testElement,iframe=this.iframe;testElement?testElement.ownerDocument.defaultView!==iframe.contentWindow&&(iframe=iframe.contentDocument,iframe.body.appendChild(testElement),this.testElementComputedStyle=iframe.defaultView.getComputedStyle(testElement)):
(iframe=this.iframe=document.createElement('iframe'),iframe.setAttribute('tabIndex',-1),testElement=iframe.style,testElement.setProperty('visibility','hidden','important'),testElement.setProperty('width','0px','important'),testElement.setProperty('height','0px','important'),testElement.setProperty('position','absolute','important'),testElement.setProperty('border','0px','important'),testElement.setProperty('zIndex','-1000','important'),document.body.appendChild(iframe),iframe=iframe.contentDocument,
iframe.open(),iframe.writeln('\x3c/body\x3e'),iframe.close(),this.testElement=testElement=iframe.createElement('div'),testElement.style.setProperty('position','absolute','important'),iframe.body.appendChild(testElement),this.testElementComputedStyle=iframe.defaultView.getComputedStyle(testElement));return testElement},getCssStyleValue:function(name,value){var testElement=this.getTestElement(),computedStyle=this.testElementComputedStyle,style=testElement.style;style.setProperty(name,value);Ext.browser.is.Firefox&&
testElement.offsetHeight;value=computedStyle.getPropertyValue(name);style.removeProperty(name);return value},run:function(animations){var me=this,ret=[],isLengthPropertyMap=me.lengthProperties,fromData={},toData=me.transitionQueue.toData,data={},transitionData=me.transitionQueue.transitionData,element,from,fromPropertyNames,toPropertyNames,j,ln,propertiesLength,computedValue;me.listenersAttached||me.attachListeners();animations=Ext.Array.from(animations);var i=0;for(ln=animations.length;i<ln;i++){var animation=
animations[i];animation=Ext.factory(animation,Ext.fx.Animation);ret.push(animation);me.activeElement=element=animation.getElement();Ext.AnimationQueue.start(Ext.emptyFn,animation);var runningData=window.getComputedStyle(element.dom);var elementId=me.getElementId(element);data[elementId]=data=Ext.merge({},animation.getData());(from=animation.getOnBeforeStart())&&from.call(animation.scope||me,element);animation.fireEvent('animationstart',animation,data);me.fireEvent('animationstart',me,animation,data);
var before=data.before;from=data.from;var to=data.to;data.fromPropertyNames=fromPropertyNames=[];data.toPropertyNames=toPropertyNames=[];for(name in to)if(to.hasOwnProperty(name)){to[name]=propertiesLength=me.formatValue(to[name],name);var formattedName=me.formatName(name);(j=isLengthPropertyMap.hasOwnProperty(name))||(propertiesLength=me.getCssStyleValue(formattedName,propertiesLength));from.hasOwnProperty(name)?(from[name]=computedValue=me.formatValue(from[name],name),j||(computedValue=me.getCssStyleValue(formattedName,
computedValue)),propertiesLength!==computedValue&&(fromPropertyNames.push(formattedName),toPropertyNames.push(formattedName))):(computedValue=runningData.getPropertyValue(formattedName),propertiesLength!==computedValue&&toPropertyNames.push(formattedName))}propertiesLength=toPropertyNames.length;if(0===propertiesLength)me.onAnimationEnd(element,data,animation);else{runningData=me.getRunningData(elementId);formattedName=runningData.sessions;0<formattedName.length&&me.refreshRunningAnimationsData(element,
Ext.Array.merge(fromPropertyNames,toPropertyNames),!0,data.replacePrevious);computedValue=runningData.nameMap;runningData=runningData.nameList;var sessionNameMap={};for(j=0;j<propertiesLength;j++){var name=toPropertyNames[j];sessionNameMap[name]=!0;computedValue.hasOwnProperty(name)?computedValue[name]++:(computedValue[name]=1,runningData.push(name))}element={element,map:sessionNameMap,list:toPropertyNames.slice(),length:propertiesLength,data,animation};formattedName.push(element);animation.on('stop',
'onAnimationStop',me);element=Ext.apply({},before);Ext.apply(element,from);0<runningData.length&&(fromPropertyNames=Ext.Array.difference(runningData,fromPropertyNames),toPropertyNames=Ext.Array.merge(fromPropertyNames,toPropertyNames),element['transition-property']=fromPropertyNames);fromData[elementId]=element;toData[elementId]=Ext.apply({},to);transitionData[elementId]={'transition-property':toPropertyNames,'transition-duration':data.duration,'transition-timing-function':data.easing,'transition-delay':data.delay};
animation.startTime=Date.now()}}me.activeElement=null;var message=me.$className;me.applyStyles(fromData);var doApplyTo=function(e){e.data===message&&e.source===window&&(window.removeEventListener('message',doApplyTo,!1),me.applyStyles(me.transitionQueue.toData))};me.messageTimerId||(me.messageTimerId=Ext.raf(function(){me.messageTimerId=null;Ext.isIE?(me.applyStyles(me.transitionQueue.transitionData),me.messageFollowupId||(me.messageFollowupId=Ext.raf(function(){me.messageFollowupId=null;window.addEventListener('message',
doApplyTo,!1);window.postMessage(message,'*')}))):(Ext.merge(me.transitionQueue.toData,me.transitionQueue.transitionData),window.addEventListener('message',doApplyTo,!1),window.postMessage(message,'*'))}));return ret},onAnimationStop:function(animation){var runningAnimationsData=this.runningAnimationsData,activeAnimations=0,stoppedAnimations=0,id,ln;for(id in runningAnimationsData)if(runningAnimationsData.hasOwnProperty(id)){var runningData=runningAnimationsData[id];runningData=runningData.sessions;
activeAnimations++;var i=0;for(ln=runningData.length;i<ln;i++){var session=runningData[i];session.animation===animation&&(this.refreshRunningAnimationsData(session.element,session.list.slice(),!1),animation.destroying&&stoppedAnimations++)}}activeAnimations===stoppedAnimations&&(this.messageFollowupId&&(Ext.unraf(this.messageFollowupId),this.messageFollowupId=null),this.messageTimerId&&(Ext.unraf(this.messageTimerId),this.messageTimerId=null),Ext.apply(this.transitionQueue,{toData:{},transitionData:{}}))}},
1,0,0,0,0,0,[Ext.fx.runner,'CssTransition',Ext,'Animator'],0);
Ext.cmd.derive('Ext.list.AbstractTreeItem',Ext.Widget,{isTreeListItem:!0,cachedConfig:{expandable:!1,expanded:!1,iconCls:'',leaf:!0,loading:!1,selected:!1,selectedParent:!1},config:{iconClsProperty:'iconCls',indent:null,owner:null,node:null,over:null,parentItem:null,text:{lazy:!0,$value:''},textProperty:'text'},updateNode:function(node){if(node){var map=this.itemMap,len;this.element.dom.setAttribute('data-recordId',node.internalId);if(!map){var childNodes=node.childNodes;var owner=this.getOwner();
this.itemMap=map={};var i=0;for(len=childNodes.length;i<len;++i){var child=childNodes[i];if(child.data.visible){var item=owner.createItem(child,this);map[child.internalId]=item;this.insertItem(item,null)}}}this.setExpanded(node.isExpanded());this.doNodeUpdate(node)}},updateSelected:function(selected){var parent;if(!this.isConfiguring)for(parent=this.getParentItem();parent&&!parent.isRootListItem;)parent.setSelectedParent(selected),parent=parent.getParentItem()},collapse:function(){this.getNode().collapse()},
expand:function(){this.getNode().expand()},getToolElement:Ext.emptyFn,insertItem:Ext.emptyFn,isExpanded:function(){return this.getExpanded()},isSelectionEvent:Ext.emptyFn,isToggleEvent:Ext.emptyFn,nodeCollapse:function(node,collapsingForExpand){node=this.getOwner();node=this.preventAnimation?null:node.getAnimation();this.nodeCollapseBegin(node,collapsingForExpand);node||this.nodeCollapseEnd(collapsingForExpand)},nodeCollapseBegin:function(animation,collapsingForExpand){animation=this.getOwner();this.setExpanded(!1);
animation.fireEvent('itemcollapse',animation,this)},nodeCollapseEnd:function(collapsingForExpand){collapsingForExpand||this.destroying||this.getOwner().updateLayout()},nodeExpand:function(node){node=this.getOwner();node=!this.getFloated()&&node.getAnimation();this.nodeExpandBegin(node);node||this.nodeExpandEnd()},nodeExpandBegin:function(animation){animation=this.getOwner();this.setExpanded(!0);animation.fireEvent('itemexpand',animation,this)},nodeExpandEnd:function(){this.destroying||this.getOwner().updateLayout()},
nodeInsert:function(node,refNode){var owner=this.getOwner(),map=this.itemMap,id=node.internalId,item=owner.getItem(node),refItem=null;item?(node=item.getParentItem(),node.removeItem(item),node!==this&&(node.doUpdateExpandable(),item.setParentItem(this))):item=this.getOwner().createItem(node,this);map[id]=item;refNode&&(refItem=map[refNode.internalId]);this.insertItem(item,refItem);this.doUpdateExpandable();owner.fireEvent('iteminsert',owner,this,item,refItem);owner.updateLayout()},nodeRemove:function(node){var map=
this.itemMap,owner=this.getOwner();node=node.internalId;var item=map[node];item&&(delete map[node],this.removeItem(item),item.destroy(),this.doUpdateExpandable(),owner.fireEvent('itemremove',owner,this,item),owner.updateLayout())},nodeUpdate:function(node,modifiedFieldNames){this.doNodeUpdate(node)},onClick:function(e){var owner=this.getOwner(),node=this.getNode();node={event:e,item:this,node,tree:owner,select:!1!==node.get('selectable')&&this.isSelectionEvent(e),toggle:this.isToggleEvent(e)};!1!==
owner.fireEvent('itemclick',owner,node)&&(node.toggle&&(this.toggleExpanded(),e.preventDefault()),node.select&&owner.setSelection(this.getNode()))},removeItem:Ext.emptyFn,destroy:function(){var map=this.itemMap,owner=this.getOwner(),key;if(map){for(key in map)map[key].destroy();this.itemMap=null}owner&&owner.removeItem(this.getNode());this.setNode(null);this.setParentItem(null);this.setOwner(null);Ext.Widget.prototype.destroy.call(this)},privates:{doNodeUpdate:function(node,modifiedFieldNames){modifiedFieldNames=
this.getTextProperty();var iconClsProperty=this.getIconClsProperty();modifiedFieldNames&&this.setText(node.data[modifiedFieldNames]);iconClsProperty&&this.setIconCls(node.data[iconClsProperty]);this.setLoading(node.isLoading());this.setLeaf(node.isLeaf());this.doUpdateExpandable()},doUpdateExpandable:function(){var node=this.getNode();this.setExpandable(node.isExpandable())},toggleExpanded:function(){this.isExpanded()?this.collapse():this.expand()},updateIndent:function(value){var items=this.itemMap,
id;for(id in items)items[id].setIndent(value)},updateOwner:function(owner){this.parent=owner}}},0,0,['widget'],{widget:!0},0,0,[Ext.list,'AbstractTreeItem'],0);Ext.define('Ext.overrides.list.AbstractTreeItem',{override:'Ext.list.AbstractTreeItem',config:{floated:null}});
Ext.cmd.derive('Ext.list.RootTreeItem',Ext.list.AbstractTreeItem,{isRootListItem:!0,element:{reference:'element',tag:'ul',cls:'x-treelist-root-container'},insertItem:function(item,refItem){refItem?item.element.insertBefore(refItem.element):this.element.appendChild(item.element)},isToggleEvent:function(e){return!1}},0,0,['widget'],{widget:!0},0,0,[Ext.list,'RootTreeItem'],0);
Ext.cmd.derive('Ext.mixin.ItemRippler',Ext.Base,{mixinId:'itemrippler',config:{itemRipple:null},shouldRippleItem:function(item,e){var itemRipple;if(e.getTarget(this.noItemRippleSelector,this.element))return!1;(itemRipple=item&&this.getItemRipple())&&item.isWidget&&(item=item.shouldRipple(e))&&(itemRipple=Ext.apply({},itemRipple,item));return itemRipple},rippleItem:function(item,e){if(item){var start=e.type.match(this.rippleStateRe),itemRipple=this.shouldRippleItem(item,e),release=itemRipple&&itemRipple.release,
isRelease=!0===release;item=item.isWidget?item.el:item;itemRipple&&start&&isRelease&&(this.$rippleStart=e.getXY());itemRipple&&item&&(!start&&isRelease||start&&!0!==release)&&(start=this.$rippledItems||(this.$rippledItems=[]),(isRelease=this.$rippleStart)?(release=e.getXY(),release=Math.sqrt(Math.pow(release[0]-isRelease[0],2)+Math.pow(release[1]-isRelease[1],2)),8>=release&&(item.ripple(e,itemRipple),start.push(item))):(item.ripple(e,itemRipple),start.push(item)),this.$rippleStart=null)}},destroyAllRipples:function(){var items;
for(items=this.$rippledItems;items&&items.length;)items.pop().destroyAllRipples()},privates:{noItemRippleSelector:'.x-item-no-ripple, .x-item-no-tap',rippleStateRe:/start|down/}},0,0,0,0,0,0,[Ext.mixin,'ItemRippler'],0);
Ext.cmd.derive('Ext.list.TreeItem',Ext.list.AbstractTreeItem,{collapsedCls:'x-treelist-item-collapsed',expandedCls:'x-treelist-item-expanded',floatedToolCls:'x-treelist-item-tool-floated',leafCls:'x-treelist-item-leaf',expandableCls:'x-treelist-item-expandable',hideIconCls:'x-treelist-item-hide-icon',loadingCls:'x-treelist-item-loading',selectedCls:'x-treelist-item-selected',selectedParentCls:'x-treelist-item-selected-parent',withIconCls:'x-treelist-item-with-icon',hoverCls:'x-treelist-item-over',
rowHoverCls:'x-treelist-row-over',isTreeListItem:!0,config:{rowCls:null},rowClsProperty:'rowCls',element:{reference:'element',tag:'li',cls:'x-treelist-item',children:[{reference:'rowElement',cls:'x-treelist-row',children:[{reference:'wrapElement',cls:'x-treelist-item-wrap',children:[{reference:'iconElement',cls:'x-treelist-item-icon'},{reference:'textElement',cls:'x-treelist-item-text'},{reference:'expanderElement',cls:'x-treelist-item-expander'}]}]},{reference:'itemContainer',tag:'ul',cls:'x-treelist-container'},
{reference:'toolElement',cls:'x-treelist-item-tool'}]},constructor:function(config){Ext.list.AbstractTreeItem.prototype.constructor.call(this,config);config=this.toolElement.dom;config.parentNode.removeChild(config)},getToolElement:function(){return this.toolElement},insertItem:function(item,refItem){refItem?item.element.insertBefore(refItem.element):this.itemContainer.appendChild(item.element)},isSelectionEvent:function(e){var owner=this.getOwner();return!this.isToggleEvent(e)||!owner.getExpanderOnly()||
owner.getSelectOnExpander()},isToggleEvent:function(e){return this.getOwner().getExpanderOnly()?e.target===this.expanderElement.dom:!this.itemContainer.contains(e.target)},nodeCollapseBegin:function(animation,collapsingForExpand){var itemContainer=this.itemContainer;this.expanding&&this.stopAnimation(this.expanding);var height=animation&&itemContainer.getHeight();Ext.list.AbstractTreeItem.prototype.nodeCollapseBegin.call(this,animation,collapsingForExpand);animation&&(itemContainer.dom.style.display=
'block',this.collapsingForExpand=collapsingForExpand,this.collapsing=this.runAnimation(Ext.merge({from:{height},to:{height:0},callback:this.nodeCollapseDone,scope:this},animation)))},nodeCollapseDone:function(animation){animation=this.itemContainer;this.destroying||this.destroyed||(this.collapsing=null,animation.dom.style.display='',animation.setHeight(null),this.nodeCollapseEnd(this.collapsingForExpand))},nodeExpandBegin:function(animation){var itemContainer=this.itemContainer;this.collapsing&&this.stopAnimation(this.collapsing);
Ext.list.AbstractTreeItem.prototype.nodeExpandBegin.call(this,animation);if(animation){var height=itemContainer.getHeight();itemContainer.setHeight(0);this.expanding=this.runAnimation(Ext.merge({to:{height},callback:this.nodeExpandDone,scope:this},animation))}},nodeExpandDone:function(){this.expanding=null;this.itemContainer.setHeight(null);this.nodeExpandEnd()},removeItem:function(item){this.itemContainer.removeChild(item.element)},updateNode:function(node,oldNode){this.syncIndent();Ext.list.AbstractTreeItem.prototype.updateNode.call(this,
node,oldNode)},updateExpandable:function(expandable){this.updateExpandCls()},updateExpanded:function(expanded){var node=this.getNode();this.updateExpandCls();node&&node.set('expanded',expanded)},updateIconCls:function(iconCls,oldIconCls){var el=this.element;this.doIconCls(this.iconElement,iconCls,oldIconCls);this.doIconCls(this.toolElement,iconCls,oldIconCls);el.toggleCls(this.withIconCls,!!iconCls);el.toggleCls(this.hideIconCls,null===iconCls)},updateLeaf:function(leaf){this.element.toggleCls(this.leafCls,
leaf)},updateLoading:function(loading){this.element.toggleCls(this.loadingCls,loading)},updateOver:function(over){this.element.toggleCls(this.hoverCls,!!over);this.rowElement.toggleCls(this.rowHoverCls,1<over)},updateRowCls:function(value,oldValue){this.rowElement.replaceCls(oldValue,value)},updateSelected:function(selected,oldSelected){var cls=this.selectedCls,tool=this.getToolElement();Ext.list.AbstractTreeItem.prototype.updateSelected.call(this,selected,oldSelected);this.element.toggleCls(cls,
selected);tool&&tool.toggleCls(cls,selected)},updateSelectedParent:function(selectedParent){var tool;this.element.toggleCls(this.selectedParentCls,selectedParent);(tool=this.getToolElement())&&tool.toggleCls(this.selectedCls,selectedParent)},updateText:function(text){this.textElement.update(text)},privates:{doNodeUpdate:function(node){Ext.list.AbstractTreeItem.prototype.doNodeUpdate.call(this,node);this.setRowCls(node&&node.data[this.rowClsProperty])},doIconCls:function(element,iconCls,oldIconCls){oldIconCls&&
element.removeCls(oldIconCls);iconCls&&element.addCls(iconCls)},syncIndent:function(){var indent=this.getIndent(),node=this.getNode();node&&(node=node.data.depth-1,this.wrapElement.dom.style.marginLeft=node*indent+'px')},updateExpandCls:function(){if(!this.updatingExpandCls){var expandable=this.getExpandable(),element=this.element,expanded=this.getExpanded(),expandedCls=this.expandedCls,collapsedCls=this.collapsedCls;this.updatingExpandCls=!0;element.toggleCls(this.expandableCls,expandable);expandable?
(element.toggleCls(expandedCls,expanded),element.toggleCls(collapsedCls,!expanded)):element.removeCls([expandedCls,collapsedCls]);this.updatingExpandCls=!1}},updateIndent:function(value,oldValue){this.syncIndent();Ext.list.AbstractTreeItem.prototype.updateIndent.call(this,value,oldValue)}}},1,['treelistitem'],['widget','treelistitem'],{widget:!0,treelistitem:!0},['widget.treelistitem'],0,[Ext.list,'TreeItem'],function(TreeItem){TreeItem.prototype.floatedCls=[Ext.Widget.prototype.floatedCls,'x-treelist-item-floated']});
Ext.define('Ext.overrides.list.TreeItem',{override:'Ext.list.TreeItem',setFloated:function(floated){var el=this.element,placeholder=this.placeholder;if(this.treeItemFloated!==floated){if(floated)placeholder=el.clone(!1,!0),placeholder.id+='-placeholder',this.placeholder=Ext.get(placeholder),this.wasExpanded=this.getExpanded(),this.setExpanded(!0),el.addCls(this.floatedCls),el.dom.parentNode.insertBefore(placeholder,el.dom),this.floater=this.createFloater();else if(placeholder){var wasExpanded=this.wasExpanded;
var node=this.getNode();this.setExpanded(wasExpanded);!wasExpanded&&node.isExpanded()&&(this.preventAnimation=!0,node.collapse(),this.preventAnimation=!1);this.floater.remove(this,!1);el.removeCls(this.floatedCls);placeholder.dom.parentNode.insertBefore(el.dom,placeholder.dom);placeholder.destroy();this.floater.destroy();this.placeholder=this.floater=null}this.treeItemFloated=floated}},getFloated:function(){return this.treeItemFloated},runAnimation:function(animation){return this.itemContainer.addAnimation(animation)},
stopAnimation:function(animation){animation.jumpToEnd()},privates:{createFloater:function(){var owner=this.getOwner(),ownerTree=this.up('treelist'),toolElement=this.getToolElement(),expandedWidth=ownerTree.expandedWidth,defaultListWidth=ownerTree.defaultListWidth;null===expandedWidth&&(expandedWidth=defaultListWidth);this.floater=ownerTree=new Ext.container.Container({cls:ownerTree.self.prototype.element.cls+' '+ownerTree.uiPrefix+ownerTree.getUi()+' x-treelist-floater',floating:!0,width:Ext.isIE8?
defaultListWidth:expandedWidth-toolElement.getWidth(),shadow:!1,hidden:!0,renderTo:Ext.getBody(),listeners:{element:'el',click:function(e){return owner.onClick(e)}}});ownerTree.add(this);ownerTree.show();ownerTree.el.alignTo(toolElement,'tr?');return ownerTree}}});Ext.define('Ext.theme.triton.list.TreeItem',{override:'Ext.list.TreeItem',compatibility:Ext.isIE8,setFloated:function(floated,wasFloated){arguments.callee.$previous.call(this,floated,wasFloated);this.toolElement.syncRepaint()}});
Ext.cmd.derive('Ext.list.Tree',Ext.Gadget,{expanderFirstCls:'x-treelist-expander-first',expanderOnlyCls:'x-treelist-expander-only',highlightPathCls:'x-treelist-highlight-path',microCls:'x-treelist-micro',uiPrefix:'x-treelist-',element:{reference:'element',cls:'x-treelist x-unselectable',listeners:{click:'onClick',touchstart:'onTouchStart',touchend:'onTouchEnd',mouseenter:'onMouseEnter',mouseleave:'onMouseLeave',mouseover:'onMouseOver'},children:[{reference:'toolsElement',cls:'x-treelist-toolstrip',
listeners:{click:'onToolStripClick',mouseover:'onToolStripMouseOver'}}]},cachedConfig:{animation:{duration:500,easing:'ease'},expanderFirst:!0,expanderOnly:!0},config:{floatLeafItems:!1,defaults:{xtype:'treelistitem'},highlightPath:null,iconSize:null,indent:null,micro:!1,overItem:null,selection:null,selectOnExpander:!1,singleExpand:null,store:null,ui:null},twoWayBindable:{selection:1},publishes:{selection:1},defaultBindProperty:'store',constructor:function(config){Ext.Widget.prototype.constructor.call(this,
config);this.publishState('selection',this.getSelection())},focusable:!0,tabIndex:0,keyMap:{scope:'this',UP:'onKeyUp',DOWN:'onKeyDown',LEFT:'onKeyLeft',RIGHT:'onKeyRight'},onKeyUp:function(keyEvent,treeList){var previousSibling=(keyEvent=treeList.getSelection())?keyEvent.previousSibling:null;if(keyEvent){if(previousSibling)for(keyEvent=previousSibling;treeList.getItem(keyEvent).getExpanded()&&keyEvent.lastChild;)keyEvent=keyEvent.lastChild;else keyEvent.parentNode.isRoot()||(keyEvent=keyEvent.parentNode);
treeList.setSelection(keyEvent)}},onKeyDown:function(keyEvent,treeList){var currentModel;keyEvent=!1;var selectedModel=treeList.getSelection();if(currentModel=treeList.getItem(selectedModel)){if(currentModel.getExpanded()&&selectedModel.firstChild)selectedModel=selectedModel.firstChild;else if(selectedModel.nextSibling)selectedModel=selectedModel.nextSibling;else{for(currentModel=treeList.getSelection();!selectedModel.parentNode.nextSibling;){if(selectedModel.parentNode.isRoot()){selectedModel=currentModel;
keyEvent=!0;break}selectedModel=selectedModel.parentNode}keyEvent||(selectedModel=selectedModel.parentNode.nextSibling)}treeList.setSelection(selectedModel)}},onKeyLeft:function(keyEvent,treeList){keyEvent=treeList.getSelection();(treeList=treeList.getItem(keyEvent))&&treeList.collapse()},onKeyRight:function(keyEvent,treeList){keyEvent=treeList.getSelection();(treeList=treeList.getItem(keyEvent))&&treeList.expand()},destroy:function(){this.unfloatAll();this.activeFloater=null;this.setSelection(null);
this.setStore(null);Ext.Widget.prototype.destroy.call(this)},updateOverItem:function(over,wasOver){for(var map={},state=2,node;over;over=this.getItem(node.parentNode))node=over.getNode(),map[node.internalId]=!0,over.setOver(state),state=1;if(wasOver&&!wasOver.destroyed)for(over=wasOver;over;over=this.getItem(node.parentNode)){node=over.getNode();if(map[node.internalId])break;over.setOver(0)}},applyMicro:function(micro){return!!micro},applySelection:function(selection,oldSelection){var store=this.getStore();
store||(selection=null);!store||null===selection||selection instanceof Ext.data.Model||(selection=store.getNodeById(selection));selection&&!1===selection.get('selectable')&&(selection=oldSelection);return selection},updateSelection:function(selection,oldSelection){if(!this.destroying){(oldSelection=this.getItem(oldSelection))&&oldSelection.setSelected(!1);if(oldSelection=this.getItem(selection))for(oldSelection.setSelected(!0);oldSelection=oldSelection.getParentItem();)oldSelection.setExpanded(!0);
this.fireEvent('selectionchange',this,selection)}},applyStore:function(store){return store&&Ext.StoreManager.lookup(store,'tree')},updateStore:function(store,oldStore){oldStore&&(oldStore.destroyed||(oldStore.getAutoDestroy()?oldStore.destroy():this.storeListeners.destroy()),this.removeRoot(),this.storeListeners=null);store&&(this.storeListeners=store.on({destroyable:!0,scope:this,nodeappend:'onNodeAppend',nodecollapse:'onNodeCollapse',nodeexpand:'onNodeExpand',nodeinsert:'onNodeInsert',noderemove:'onNodeRemove',
rootchange:'onRootChange',update:'onNodeUpdate',refresh:'onRefresh'}),(store=store.getRoot())&&this.createRootItem(store));this.destroying||this.updateLayout()},updateExpanderFirst:function(expanderFirst){this.element.toggleCls(this.expanderFirstCls,expanderFirst)},updateExpanderOnly:function(value){this.element.toggleCls(this.expanderOnlyCls,!value)},updateHighlightPath:function(updatePath){this.element.toggleCls(this.highlightPathCls,updatePath)},updateMicro:function(micro){micro||(this.unfloatAll(),
this.activeFloater=null);this.element.toggleCls(this.microCls,micro)},updateUi:function(ui,oldValue){var el=this.element,uiPrefix=this.uiPrefix;oldValue&&el.removeCls(uiPrefix+oldValue);ui&&el.addCls(uiPrefix+ui);delete this.iconSize;this.syncIconSize()},getItem:function(node){var map=this.itemMap,ret;node&&map&&(ret=map[node.internalId]);return ret||null},getItemConfig:function(node,parent){return Ext.apply({parentItem:parent.isRootListItem?null:parent,owner:this,node,indent:this.getIndent()},this.getDefaults())},
privates:{checkForOutsideClick:function(e){this.activeFloater.element.contains(e.target)||this.unfloatAll()},collapsingForExpand:!1,createItem:function(node,parent){var item=Ext.create(this.getItemConfig(node,parent)),toolsElement=this.toolsElement,previousSibling;parent.isRootListItem&&(parent=item.getToolElement())&&((previousSibling=this.findVisiblePreviousSibling(node))?(previousSibling=this.getItem(previousSibling),parent.insertAfter(previousSibling.getToolElement())):toolsElement.insertFirst(parent),
parent.dom.setAttribute('data-recordId',node.internalId),parent.isTool=!0);return this.itemMap[node.internalId]=item},createRootItem:function(root){var item;this.itemMap={};this.rootItem=item=new Ext.list.RootTreeItem({indent:this.getIndent(),node:root,owner:this});this.element.appendChild(item.element);this.itemMap[root.internalId]=item},findVisiblePreviousSibling:function(node){for(node=node.previousSibling;node;){if(node.data.visible)return node;node=node.previousSibling}return null},floatItem:function(item,
byHover){if(!item.getFloated()&&(this.toolMouseListeners&&(this.toolMouseListeners.destroy(),this.floaterMouseListeners.destroy(),this.floaterMouseListeners=this.toolMouseListeners=null),this.unfloatAll(),byHover||this.getFloatLeafItems()||!item.getNode().isLeaf()))if(this.activeFloater=item,this.floatedByHover=byHover,item.setFloated(!0),byHover)this.toolMouseListeners=item.getToolElement().monitorMouseLeave(300,this.checkForMouseLeave,this),this.floaterMouseListeners=(item.floater||item).el.monitorMouseLeave(300,
this.checkForMouseLeave,this),item.element.on('mouseover','onMouseOver',this);else Ext.on('mousedown','checkForOutsideClick',this)},shouldRippleItem:function(item,e){return item&&item.getSelected()?!1:this.mixins.itemrippler.shouldRippleItem.call(this,item,e)},onTouchStart:function(e){this.doItemRipple(e)},onTouchEnd:function(e){this.doItemRipple(e)},doItemRipple:function(e){var item=e.getTarget('[data-recordId]');item&&(item=item.getAttribute('data-recordId'),(item=this.itemMap[item])&&this.shouldRippleItem(item,
e)&&this.rippleItem(item,e))},onClick:function(e){var item=e.getTarget('[data-recordId]');if(item&&(item=item.getAttribute('data-recordId'),item=this.itemMap[item]))item.onClick(e)},onMouseEnter:function(e){this.onMouseOver(e)},onMouseLeave:function(){this.setOverItem(null)},onMouseOver:function(e){e=Ext.Component.from(e);this.setOverItem(e&&e.isTreeListItem&&e)},checkForMouseLeave:function(e){var floater=this.activeFloater;e=e.getRelatedTarget();floater&&(e===floater.getToolElement().dom||floater.element.contains(e)||
this.unfloatAll())},onNodeAppend:function(parentNode,node){parentNode&&(parentNode=this.itemMap[parentNode.internalId])&&parentNode.nodeInsert(node,null)},onNodeCollapse:function(node){var item=this.itemMap[node.internalId];item&&item.nodeCollapse(node,this.collapsingForExpand)},onNodeExpand:function(node){var item=this.itemMap[node.internalId],len;if(item){if(!item.isRootItem&&this.getSingleExpand()){this.collapsingForExpand=!0;var childNodes=(item.getParentItem()||this.rootItem).getNode();childNodes=
childNodes.childNodes;var i=0;for(len=childNodes.length;i<len;++i){var child=childNodes[i];child!==node&&child.collapse()}this.collapsing=!1}item.nodeExpand(node)}},onNodeInsert:function(parentNode,node,refNode){(parentNode=this.itemMap[parentNode.internalId])&&parentNode.nodeInsert(node,refNode)},onNodeRemove:function(parentNode,node,isMove){parentNode&&!isMove&&(parentNode=this.itemMap[parentNode.internalId])&&parentNode.nodeRemove(node)},onNodeUpdate:function(store,node,type,modifiedFieldNames){(store=
this.itemMap[node.internalId])&&store.nodeUpdate(node,modifiedFieldNames)},onRefresh:function(store){this.onRootChange(store.getRoot())},onRootChange:function(root){this.removeRoot();root&&this.createRootItem(root);this.updateLayout();this.fireEvent('refresh',this)},removeItem:function(node){var map=this.itemMap;node=node.internalId;if(map){var item=map[node];null===item.getParentItem()&&(item=item.getToolElement())&&this.toolsElement.removeChild(item);delete map[node]}},removeRoot:function(){var rootItem=
this.rootItem;rootItem&&(this.element.removeChild(rootItem.element),this.rootItem=this.itemMap=Ext.destroy(rootItem))},onToolStripClick:function(e){if(e=e.getTarget('[data-recordId]'))e=e.getAttribute('data-recordId'),(e=this.itemMap[e])&&(e===this.activeFloater?this.unfloatAll():this.floatItem(e,!1))},onToolStripMouseOver:function(e){if(e=e.getTarget('[data-recordId]'))e=e.getAttribute('data-recordId'),(e=this.itemMap[e])&&this.floatItem(e,!0)},syncIconSize:function(){var size=this.iconSize||(this.iconSize=
parseInt(this.element.getStyle('background-position'),10));this.setIconSize(size)},unfloatAll:function(){var floater=this.activeFloater;floater&&(floater.setFloated(!1),this.activeFloater=null,this.floatedByHover?(this.toolMouseListeners&&(this.toolMouseListeners.destroy(),this.floaterMouseListeners.destroy(),this.floaterMouseListeners=this.toolMouseListeners=null),floater.element.un('mouseover','onMouseOver',this)):Ext.un('mousedown','checkForOutsideClick',this))},defaultIconSize:22,updateIconSize:function(value){this.setIndent(value||
this.defaultIconSize)},updateIndent:function(value){var rootItem=this.rootItem;rootItem&&rootItem.setIndent(value)}}},1,['treelist'],['widget','treelist'],{widget:!0,treelist:!0},['widget.treelist'],[[Ext.mixin.ItemRippler.prototype.mixinId||Ext.mixin.ItemRippler.$className,Ext.mixin.ItemRippler]],[Ext.list,'Tree'],0);
Ext.define('Ext.overrides.list.Tree',{override:'Ext.list.Tree',canMeasure:!0,constructor:function(config){(arguments.callee.$previous||Ext.Widget.prototype.constructor).call(this,config);if(!Ext.isIE8)this.element.on('resize','onElResize',this)},beforeLayout:function(){this.syncIconSize()},onElResize:function(el,details){!this.getMicro()&&this.canMeasure&&(this.expandedWidth=details.width)},privates:{defaultListWidth:200,expandedWidth:null}});
Ext.cmd.derive('Ext.mixin.Container',Ext.Mixin,{mixinConfig:{id:'container'},isContainer:!0,nameHolder:!1,referenceHolder:!1,getNamedItems:function(){Ext.referencesDirty&&Ext.fixReferences();return this.nameRefs||null},getReferences:function(){Ext.referencesDirty&&Ext.fixReferences();return this.refs||null},lookup:function(ref){var refs=this.getReferences();return refs&&refs[ref]||null},lookupName:function(name){var items=this.getNamedItems();return items&&items[name]||null},lookupReference:function(ref){return this.lookup(ref)},
privates:{attachNameRef:function(component){var key=component.name||component._name,entry;if(key&&!this.destroying&&!this.destroyed){var nameRefs=this.nameRefs||(this.nameRefs={});(entry=nameRefs[key])?entry.isInstance||entry.push(component):entry=component.shareableName?[component]:component;nameRefs[key]=entry}},attachReference:function(component){if(!this.destroying&&!this.destroyed){var refs=this.refs||(this.refs={});var key=component.referenceKey;refs[key]=component}},containerOnAdded:function(component,
instanced){Ext.ComponentManager.markReferencesDirty()},containerOnRemoved:function(destroying){destroying||Ext.ComponentManager.markReferencesDirty()},initContainerInheritedState:function(inheritedState,inheritedStateInner){inheritedStateInner=this.getController();var session=this.getSession(),viewModel=this.getConfig('viewModel',!0),reference=this.reference,referenceHolder=this.referenceHolder;this.nameHolder&&(inheritedState.nameHolder=this);inheritedStateInner?(inheritedState.referenceHolder=inheritedStateInner,
referenceHolder=!0):referenceHolder&&(inheritedState.referenceHolder=this);referenceHolder?inheritedState.referencePath='':reference&&this.isParentReference&&(inheritedState.referencePath=this.referenceKey+'.');session&&(inheritedState.session=session);viewModel?inheritedState.viewModelPath='':reference&&this.isParentReference&&(inheritedState.viewModelPath=this.viewModelKey+'.')},setupReference:function(reference){var len;reference&&'\x3e'===reference.charAt(len=reference.length-1)&&(this.isParentReference=
!0,reference=reference.substring(0,len));return reference}}},0,0,0,0,0,0,[Ext.mixin,'Container'],0);
Ext.cmd.derive('Ext.util.KeyMap',Ext.Base,{alternateClassName:'Ext.KeyMap',eventName:'keydown',constructor:function(config){Ext.apply(this,config);this.bindings=[];this.target.isComponent||(this.target=Ext.get(this.target));this.binding?this.addBinding(this.binding):config.key&&this.addBinding(config);this.enable()},addBinding:function(binding){var keyCode=binding.key,len;this.processing&&(this.bindings=this.bindings.slice(0));if(Ext.isArray(binding))for(keyCode=0,len=binding.length;keyCode<len;keyCode++)this.addBinding(binding[keyCode]);
else this.bindings.push(Ext.apply({keyCode:this.processKeys(keyCode)},binding))},removeBinding:function(binding){var bindings=this.bindings,len=bindings.length,i;this.processing&&(this.bindings=bindings.slice(0));var keys=this.processKeys(binding.key);for(i=0;i<len;i++){var item=bindings[i];if((item.fn||item.handler)===(binding.fn||binding.handler)&&item.scope===binding.scope&&binding.alt===item.alt&&binding.ctrl===item.ctrl&&binding.shift===item.shift&&Ext.Array.equals(item.keyCode,keys)){Ext.Array.erase(this.bindings,
i,1);break}}},processKeys:function(keyCode){var processed=!1;if(keyCode.test)return keyCode;if(Ext.isString(keyCode)){var key=[];keyCode=keyCode.toUpperCase();var i=0;for(processed=keyCode.length;i<processed;i++)key.push(keyCode.charCodeAt(i));keyCode=key;processed=!0}Ext.isArray(keyCode)||(keyCode=[keyCode]);if(!processed)for(i=0,processed=keyCode.length;i<processed;i++)key=keyCode[i],Ext.isString(key)&&(keyCode[i]=key.toUpperCase().charCodeAt(0));return keyCode},handleTargetEvent:function(event){var len;
if(this.enabled){var bindings=this.bindings;if(event=this.processEvent.apply(this.processEventScope||this,arguments))if(this.lastKeyEvent=event,!this.ignoreInputFields||!Ext.fly(event.target).isInputField()){if(!event.getKey)return event;this.processing=!0;var i=0;for(len=bindings.length;i<len;i++){var result=this.processBinding(bindings[i],event);if(!1===result)return this.processing=!1,result}this.processing=!1}}},processEvent:Ext.identityFn,processBinding:function(binding,event){if(this.checkModifiers(binding,
event)){var key=event.getKey(),handler=binding.fn||binding.handler,scope=binding.scope||this,keyCode=binding.keyCode;binding=binding.defaultEventAction;var len;if(keyCode.test){if(keyCode.test(String.fromCharCode(event.getCharCode()))){key=handler.call(scope,key,event);if(!0!==key&&binding)event[binding]();if(!1===key)return key}}else if(keyCode.length){var i=0;for(len=keyCode.length;i<len;i++)if(key===keyCode[i]){key=handler.call(scope,key,event);if(!0!==key&&binding)event[binding]();if(!1===key)return key;
break}}}},checkModifiers:function(binding,event){var keys=['shift','ctrl','alt'],len;var i=0;for(len=keys.length;i<len;i++){var key=keys[i];var val=binding[key];if(void 0!==val&&val!==event[key+'Key'])return!1}return!0},on:function(key,fn,scope){if(Ext.isObject(key)&&!Ext.isArray(key)){var keyCode=key.key;var shift=key.shift;var ctrl=key.ctrl;var alt=key.alt}else keyCode=key;this.addBinding({key:keyCode,shift,ctrl,alt,fn,scope})},un:function(key,fn,scope){if(Ext.isObject(key)&&!Ext.isArray(key)){var keyCode=
key.key;var shift=key.shift;var ctrl=key.ctrl;var alt=key.alt}else keyCode=key;this.removeBinding({key:keyCode,shift,ctrl,alt,fn,scope})},isEnabled:function(){return!!this.enabled},enable:function(){this.enabled||(this.target.on(this.eventName,this.handleTargetEvent,this,{capture:this.capture,priority:this.priority}),this.enabled=!0)},disable:function(){this.enabled&&(this.target.destroyed||this.target.removeListener(this.eventName,this.handleTargetEvent,this),this.enabled=!1)},setDisabled:function(disabled){disabled?
this.disable():this.enable()},destroy:function(removeTarget){var target=this.target;this.bindings=[];this.disable();this.target=null;removeTarget&&(target.destroy(),Ext.raise('Using removeTarget argument in KeyMap destructor is not supported.'));this.callParent()}},1,0,0,0,0,0,[Ext.util,'KeyMap',Ext,'KeyMap'],0);
Ext.cmd.derive('Ext.util.KeyNav',Ext.Base,{alternateClassName:'Ext.KeyNav',disabled:!1,defaultEventAction:!1,forceKeyDown:!1,eventName:'keypress',statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(config){config=config||{};var keymapCfg={target:config.target,ignoreInputFields:config.ignoreInputFields,eventName:this.getKeyEvent('forceKeyDown'in config?config.forceKeyDown:this.forceKeyDown,
config.eventName),capture:config.capture};this.map&&this.map.destroy();this.initConfig(config);config.processEvent&&(keymapCfg.processEvent=config.processEvent,keymapCfg.processEventScope=config.processEventScope||this);config.priority&&(keymapCfg.priority=config.priority);config.keyMap?keymapCfg=this.map=config.keyMap:(keymapCfg=this.map=new Ext.util.KeyMap(keymapCfg),this.destroyKeyMap=!0);this.addBindings(config);keymapCfg.disable();config.disabled||keymapCfg.enable()},addBindings:function(bindings){var map=
this.map,keyCodes=Ext.util.KeyNav.keyOptions,Event=Ext.event.Event,defaultScope=bindings.scope||this,keyName;for(keyName in bindings){var binding=bindings[keyName];var keyCode=1===keyName.length?keyName.charCodeAt(0):keyCodes[keyName]||Event[keyName.toUpperCase()];null!=keyCode&&(keyName=keyCode);!binding||1!==keyName.length&&isNaN(keyName=parseInt(keyName,10))||('function'===typeof binding&&(binding={handler:binding,defaultEventAction:void 0!==bindings.defaultEventAction?bindings.defaultEventAction:
this.defaultEventAction}),map.addBinding({key:keyName,ctrl:binding.ctrl,shift:binding.shift,alt:binding.alt,handler:Ext.Function.bind(this.handleEvent,binding.scope||defaultScope,[binding.handler||binding.fn,this],!0),defaultEventAction:void 0!==binding.defaultEventAction?binding.defaultEventAction:this.defaultEventAction}))}},handleEvent:function(keyCode,event,handler,keyNav){keyNav.lastKeyEvent=event;return handler.call(this,event)},destroy:function(removeEl){removeEl&&Ext.raise('removeEl argument in KeyNav destructor is not supported anymore.');
this.destroyKeyMap&&this.map.destroy(removeEl);this.map=null;this.callParent()},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable();this.disabled=!0},setDisabled:function(disabled){this.map.setDisabled(disabled);this.disabled=disabled},isEnabled:function(){return!this.disabled},getKeyEvent:function(forceKeyDown,configuredEventName){return forceKeyDown||Ext.supports.SpecialKeyDownRepeat&&!configuredEventName?'keydown':configuredEventName||
this.eventName}},1,0,0,0,0,0,[Ext.util,'KeyNav',Ext,'KeyNav'],0);
Ext.cmd.derive('Ext.mixin.FocusableContainer',Ext.Mixin,{mixinConfig:{id:'focusablecontainer'},isFocusableContainer:!0,focusableContainer:!1,resetFocusPosition:!1,activeChildTabIndex:0,inactiveChildTabIndex:-1,allowFocusingDisabledChildren:!1,focusableContainerEl:'el',privates:{initFocusableContainer:function(clearChildren){var len;if(this.focusableContainer)this.doInitFocusableContainer(null!=clearChildren?clearChildren:!0);else{clearChildren=this.getFocusables();var i=0;for(len=clearChildren.length;i<
len;i++)clearChildren[i].ownerFocusableContainer=null}},doInitFocusableContainer:function(clearChildren){var el=this.focusableContainerEl;el.isElement||(el=this.focusableContainerEl=this[el]);this.initFocusableContainerKeyNav&&this.initFocusableContainerKeyNav(el);clearChildren&&(this.clearFocusables(),this.isDisabled()||(clearChildren=this.findNextFocusableChild({step:1})||this.findNextFocusableChild({beforeRender:!0}))&&this.activateFocusable(clearChildren));clearChildren=this.findNextFocusableChild({firstTabbable:!0});
this.activateFocusableContainer(!!clearChildren&&!this.isDisabled())},initFocusableContainerKeyNav:function(el){this.focusableKeyNav||(el=el||this.focusableContainerEl,this.focusableKeyNav=new Ext.util.KeyNav({target:el,disabled:!0,eventName:'keydown',processEvent:this.processFocusableContainerKeyEvent,processEventScope:this,scope:this,tab:this.onFocusableContainerTabKey,enter:{handler:this.onFocusableContainerEnterKey,ctrl:!1,shift:!1,alt:!1},space:{handler:this.onFocusableContainerSpaceKey,ctrl:!1,
shift:!1,alt:!1},up:{handler:this.onFocusableContainerUpKey,ctrl:!1,shift:!1,alt:!1},down:{handler:this.onFocusableContainerDownKey,ctrl:!1,shift:!1,alt:!1},left:{handler:this.onFocusableContainerLeftKey,ctrl:!1,shift:!1,alt:!1},right:{handler:this.onFocusableContainerRightKey,ctrl:!1,shift:!1,alt:!1}}))},destroyFocusableContainer:function(){this.focusableKeyNav=Ext.destroy(this.focusableKeyNav)},activateFocusableContainer:function(enable){var keyNav=this.focusableKeyNav;keyNav&&keyNav.setDisabled(!enable)},
isFocusableContainerActive:function(){var keyNav=this.focusableKeyNav;return keyNav?!keyNav.disabled:!1},getFocusables:function(){return this.items.items},initDefaultFocusable:function(){var haveFocusable=!1,i,len;var items=this.getFocusables();if(len=items.length){for(i=0;i<len;i++){var item=items[i];if(!item.isDisabled()&&item.isFocusable()){haveFocusable=!0;break}}if(haveFocusable)return(item=this.findNextFocusableChild({items,step:!0}))&&this.activateFocusable(item),item}},clearFocusables:function(skipFocused){skipFocused=
this.getFocusables();var len=skipFocused.length,i;for(i=0;i<len;i++){var item=skipFocused[i];!item.destroyed&&item.focusable&&item.isTabbable()&&this.deactivateFocusable(item)}},processFocusableContainerKeyEvent:function(e){if(!Ext.fly(e.target).isInputField())return e},activateFocusable:function(child){child.setTabIndex(this.activeChildTabIndex)},deactivateFocusable:function(child){child.setTabIndex(this.inactiveChildTabIndex)},onFocusableContainerTabKey:function(){return!0},onFocusableContainerEnterKey:function(){return!0},
onFocusableContainerSpaceKey:function(){return!0},onFocusableContainerUpKey:function(e){e.preventDefault();return this.moveChildFocus(e,!1)},onFocusableContainerDownKey:function(e){e.preventDefault();return this.moveChildFocus(e,!0)},onFocusableContainerLeftKey:function(e){e.preventDefault();return this.moveChildFocus(e,!1)},onFocusableContainerRightKey:function(e){e.preventDefault();return this.moveChildFocus(e,!0)},getFocusableFromEvent:function(e){return Ext.Component.from(e)},moveChildFocus:function(e,
forward){var child=this.getFocusableFromEvent(e);return this.focusChild(child,forward,e)},focusChild:function(child,forward){(child=this.findNextFocusableChild({child,step:forward}))&&child.focus();return child},findNextFocusableChild:function(options){var beforeRender=options.beforeRender,firstTabbable=options.firstTabbable,i;var items=options.items||this.getFocusables();var step=null!=options.step?options.step:1;var item=options.child;options=!!this.allowFocusingDisabledChildren;var idx=Ext.Array.indexOf(items,
item);step=!0===step?1:!1===step?-1:step;var len=items.length;for(i=0<step?idx<len?idx+step:0:0<idx?idx+step:len-1;!(0>idx&&(i>=len||0>i));i+=step){if(i>=len){i=-1;continue}else if(0>i){i=len;continue}else if(i===idx)break;if((item=items[i])&&item.focusable&&(!item.isDisabled()||options))if(firstTabbable){if(item.isTabbable&&item.isTabbable())return item}else if(beforeRender||item.isFocusable&&item.isFocusable())return item}return null},onFocusEnter:function(e){e.toComponent===this&&(e=this.initDefaultFocusable())&&
e.focus();this.activateFocusableContainer(!0)},onFocusLeave:function(e){this.resetFocusPosition&&(this.clearFocusables(),this.initDefaultFocusable())},beforeFocusableChildBlur:Ext.privateFn,afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(child){!this.focusableContainer||this.destroying||this.destroyed||(this.clearFocusables(),this.activateFocusable(child))},afterFocusableChildFocus:function(child){!this.focusableContainer||this.destroying||this.destroyed||(this.lastFocusedChild=
child)},onFocusableChildAdd:function(child){child.focusable&&(child.ownerFocusableContainer=this)},onFocusableChildRemove:function(child){child.ownerFocusableContainer=null;if(child===this.lastFocusedChild){this.lastFocusedChild=null;var next=this.initDefaultFocusable();child.hasFocus&&(next=next||child.findFocusTarget())&&next.focus()}(child=next||this.findNextFocusableChild({step:1,beforeRender:!0}))||this.activateFocusableContainer(!1)},beforeFocusableChildEnable:Ext.privateFn,onFocusableChildEnable:function(child){if(this.focusableContainer&&
!this.destroying&&!this.destroyed){if(this.containsFocus){var active=Ext.ComponentManager.getActiveComponent();this.clearFocusables();this.activateFocusable(active)}else this.resetFocusPosition||null==this.lastFocusedChild?(this.clearFocusables(),child.hasFocus&&(this.activateFocusable(child),active=child)):(this.deactivateFocusable(child),child===this.lastFocusedChild&&(this.clearFocusables(),this.activateFocusable(child)),active=this.findNextFocusableChild({firstTabbable:!0}));active||this.initDefaultFocusable();
this.activateFocusableContainer(!0)}},beforeFocusableChildDisable:function(child){this.focusableContainer&&!this.destroying&&!this.destroyed&&child.hasFocus&&(child=this.findNextFocusableChild({child})||child.findFocusTarget())&&child.focus()},onFocusableChildDisable:function(child){!this.focusableContainer||this.destroying||this.destroyed||((child=this.findNextFocusableChild({firstTabbable:!0}))||(child=this.initDefaultFocusable()),child||this.activateFocusableContainer(!1))},beforeFocusableChildHide:function(child){return this.beforeFocusableChildDisable(child)},
onFocusableChildHide:function(child){return this.onFocusableChildDisable(child)},beforeFocusableChildShow:function(child){return this.beforeFocusableChildEnable(child)},onFocusableChildShow:function(child){return this.onFocusableChildEnable(child)},onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,onFocusableChildUpdate:Ext.privateFn},deprecated:{7:{configs:{enableFocusableContainer:'focusableContainer'}}}},0,0,0,0,0,0,[Ext.mixin,'FocusableContainer'],0);
Ext.cmd.derive('Ext.perf.Accumulator',Ext.Base,function(){function adjustSet(set,time){set.sum+=time;set.min=Math.min(set.min,time);set.max=Math.max(set.max,time)}function leaveFrame(time){time=time?time:getTimestamp()-this.time;var accum=this.accum;++accum.count;--accum.depth||adjustSet(accum.total,time);adjustSet(accum.pure,time-this.childTime);if(currentFrame=this.parent)++currentFrame.accum.childCount,currentFrame.childTime+=time}function makeTap(me,fn){return function(){var frame=me.enter(),
ret=fn.apply(this,arguments);frame.leave();return ret}}function setToJSON(count,childCount,calibration,set){var data={avg:0,min:set.min,max:set.max,sum:0};count&&(data.sum=set.sum-childCount*(calibration||0),data.avg=data.sum/count);return data}var currentFrame=null,khrome=Ext.global.chrome,formatTpl,getTimestamp=function(){getTimestamp=Ext.now;if(Ext.isChrome&&khrome&&khrome.Interval){var interval=new khrome.Interval;interval.start();getTimestamp=function(){return interval.microseconds()/1E3}}else if(window.ActiveXObject)try{var toolbox=
new ActiveXObject('SenchaToolbox.Toolbox');Ext.senchaToolbox=toolbox;getTimestamp=function(){return toolbox.milliseconds}}catch(e){}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=getTimestamp;return getTimestamp()};return{constructor:function(name){this.count=this.childCount=this.depth=this.maxDepth=0;this.pure={min:Number.MAX_VALUE,max:0,sum:0};this.total={min:Number.MAX_VALUE,max:0,sum:0};this.name=name},statics:{getTimestamp},format:function(calibration){formatTpl||(formatTpl=new Ext.XTemplate('{name} - {count} call(s)\x3ctpl if\x3d"count"\x3e\x3ctpl if\x3d"childCount"\x3e ({childCount} children)\x3c/tpl\x3e\x3ctpl if\x3d"depth - 1"\x3e ({depth} deep)\x3c/tpl\x3e\x3ctpl for\x3d"times"\x3e, {type}: {[this.time(values.sum)]} msec (avg\x3d{[this.time(values.sum / parent.count)]})\x3c/tpl\x3e\x3c/tpl\x3e',
{time:function(t){return Math.round(100*t)/100}}));calibration=this.getData(calibration);calibration.name=this.name;calibration.pure.type='Pure';calibration.total.type='Total';calibration.times=[calibration.pure,calibration.total];return formatTpl.apply(calibration)},getData:function(calibration){return{count:this.count,childCount:this.childCount,depth:this.maxDepth,pure:setToJSON(this.count,this.childCount,calibration,this.pure),total:setToJSON(this.count,this.childCount,calibration,this.total)}},
enter:function(){var frame={accum:this,leave:leaveFrame,childTime:0,parent:currentFrame};++this.depth;this.maxDepth<this.depth&&(this.maxDepth=this.depth);currentFrame=frame;frame.time=getTimestamp();return frame},monitor:function(fn,scope,args){var frame=this.enter();args?fn.apply(scope,args):fn.call(scope);frame.leave()},report:function(){Ext.log(this.format())},tap:function(className,methodName){var me=this,methods='string'===typeof methodName?[methodName]:methodName,klass,statik,i,parts,length,
name,src;Ext.ClassManager.onCreated(function(){if('string'===typeof className)for(klass=Ext.global,parts=className.split('.'),i=0,length=parts.length;i<length;++i)klass=klass[parts[i]];else klass=className;i=0;for(length=methods.length;i<length;++i)name=methods[i],(statik='!'===name.charAt(0))?name=name.substring(1):statik=!(name in klass.prototype),src=statik?klass:klass.prototype,src[name]=makeTap(me,src[name])},me,className);return me}}},1,0,0,0,0,0,[Ext.perf,'Accumulator'],function(){Ext.perf.getTimestamp=
this.getTimestamp});
Ext.cmd.derive('Ext.perf.Monitor',Ext.Base,{singleton:!0,alternateClassName:'Ext.Perf',constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var accum=new Ext.perf.Accumulator('$'),total=accum.total,getTimestamp=Ext.perf.Accumulator.getTimestamp,count=0;var startTime=getTimestamp();do{var frame=accum.enter();frame.leave();++count}while(100>total.sum);return(getTimestamp()-startTime)/count},get:function(name){var accum=this.accumulatorsByName[name];accum||(this.accumulatorsByName[name]=
accum=new Ext.perf.Accumulator(name),this.accumulators.push(accum));return accum},enter:function(name){return this.get(name).enter()},monitor:function(name,fn,scope){this.get(name).monitor(fn,scope)},report:function(){var accumulators=this.accumulators,calibration=this.calibrate();accumulators.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0});this.updateGC();Ext.log('Calibration: '+Math.round(100*calibration)/100+' msec/sample');Ext.each(accumulators,function(accum){Ext.log(accum.format(calibration))})},
getData:function(all){var ret={};Ext.each(this.accumulators,function(accum){if(all||accum.count)ret[accum.name]=accum.getData()});return ret},reset:function(){Ext.each(this.accumulators,function(accum){accum.count=accum.childCount=accum.depth=accum.maxDepth=0;accum.pure={min:Number.MAX_VALUE,max:0,sum:0};accum.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var accumGC=this.accumulatorsByName.GC,toolbox=Ext.senchaToolbox;if(accumGC&&(accumGC.count=toolbox.garbageCollectionCounter||
0,accumGC.count)){var bucket=accumGC.pure;accumGC.total.sum=bucket.sum=toolbox.garbageCollectionMilliseconds;bucket.min=bucket.max=bucket.sum/accumGC.count;bucket=accumGC.total;bucket.min=bucket.max=bucket.sum/accumGC.count}},watchGC:function(){var toolbox=Ext.senchaToolbox;Ext.perf.getTimestamp();toolbox&&(this.get('GC'),toolbox.watchGarbageCollector(!1))},setup:function(config){var key,className;config||(config={render:{'Ext.Component':'render'},layout:{'Ext.layout.Context':'run'}});this.currentConfig=
config;for(key in config)if(config.hasOwnProperty(key)){var prop=config[key];var accum=Ext.Perf.get(key);for(className in prop)if(prop.hasOwnProperty(className)){var methods=prop[className];accum.tap(className,methods)}}this.watchGC()},setupLog:function(config){var className,cls,method;for(className in config)if(config.hasOwnProperty(className)&&(cls=Ext.ClassManager.get(className))){var methods=config[className];var override={};for(method in methods)override[method]=function(methodName,idProp){return function(){var idHolder;
var before=+Date.now();var ret=this.callParent(arguments);before=+Date.now()-before;if(window.console&&0<before){if(idHolder='this'===idProp?this:'string'===typeof idProp?this[idProp]:'number'===typeof idProp?arguments[idProp]:null)var id=idHolder.id;null!=id?console.log(methodName+' for '+id+': '+before+'ms'):console.log(methodName+' for unknown: '+before+'ms');console.trace&&console.trace()}return ret}}(method,methods[method]);Ext.override(cls,override)}}},1,0,0,0,0,0,[Ext.perf,'Monitor',Ext,'Perf'],
0);
Ext.cmd.derive('Ext.plugin.MouseEnter',Ext.plugin.Abstract,{element:'el',init:function(component){var me=this,listeners={mouseover:'onMouseEvent',scope:me,destroyable:!0},element=me.element;if(me.leaveHandler||me.delay)listeners.mouseout='onMouseEvent';'string'===typeof element&&(element=component[me.element]);if(element)me.mouseListener=Ext.get(element).on(listeners);else component.on({render:function(){me.mouseListener=component[me.element].on(listeners)},single:!0})},onMouseEvent:function(e){var delegate=e.getTarget(this.delegate);
delegate&&delegate!==e.getRelatedTarget(this.delegate)&&(this.delay?(Ext.undefer(this.mouseEventTimer),this.mouseEventTimer=Ext.defer(this.handleMouseEvent,this.delay,this,[e,delegate])):this.handleMouseEvent(e,delegate))},handleMouseEvent:function(e,delegate){'mouseover'===e.type?Ext.callback(this.handler,null,[e,delegate],0,this.cmp,this.scope):this.leaveHandler&&Ext.callback(this.leaveHandler,null,[e,delegate],0,this.cmp,this.scope)},destroy:function(){Ext.destroy(this.mouseListener);Ext.plugin.Abstract.prototype.destroy.call(this)}},
0,0,0,0,['plugin.mouseenter'],0,[Ext.plugin,'MouseEnter'],0);
Ext.cmd.derive('Ext.util.ClickRepeater',Ext.Base,{alternateClassName:'Ext.util.TapRepeater',config:{el:null,target:null,disabled:null},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,handler:null,scope:null,constructor:function(config){2===arguments.length&&(this.setEl(config),config=arguments[1]);this.mixins.observable.constructor.call(this,config)},destroy:function(){this.setEl(null);this.callParent()},privates:{fireClick:function(e){this.fireEvent('click',this,e);Ext.callback(this.handler,
this.scope,[this,e],0,this.getTarget())},updateDisabled:function(disabled){disabled?(this.savedEl=this.getEl(),this.setEl(null)):this.savedEl&&this.setEl(this.savedEl)},updateTarget:function(target){this.setEl(target.el)},updateEl:function(newEl,oldEl){oldEl&&(oldEl.selectable(),Ext.undefer(this.timer),this.pressedCls&&oldEl.removeCls(this.pressedCls),Ext.getDoc().un('mouseup',this.handleMouseUp,this),this.elListeners=Ext.destroy(this.elListeners));if(newEl){newEl.unselectable();oldEl={mousedown:this.handleMouseDown,
scope:this,destroyable:!0};if(this.preventDefault||this.stopDefault)oldEl.click=this.eventOptions;this.elListeners=newEl.on(oldEl)}},eventOptions:function(e){this.preventDefault&&e.preventDefault();this.stopDefault&&e.stopEvent()},handleMouseDown:function(e){var el=this.getEl();Ext.undefer(this.timer);this.pressedCls&&el.addCls(this.pressedCls);this.mousedownTime=Ext.now();if('mouse'===e.pointerType)el.on('mouseout',this.handleMouseOut,this);Ext.getDoc().on('mouseup',this.handleMouseUp,this);this.fireEvent('mousedown',
this,e);this.fireClick(e);this.accelerate&&(this.delay=400);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[e]);this.mousedownPreventDefault&&e.preventDefault();this.mousedownStopEvent&&e.stopEvent()},click:function(e){this.fireClick(e);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.now()-this.mousedownTime,400,-390,12E3):this.interval,this,[e])},easeOutExpo:function(t,b,c,d){return t===d?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},handleMouseOut:function(){var el=this.getEl();
Ext.undefer(this.timer);this.pressedCls&&el.removeCls(this.pressedCls);el.on('mouseover',this.handleMouseReturn,this)},handleMouseReturn:function(e){var el=this.getEl();el.un('mouseover',this.handleMouseReturn,this);this.pressedCls&&el.addCls(this.pressedCls);this.click(e)},handleMouseUp:function(e){var el=this.getEl();Ext.undefer(this.timer);el.un('mouseover',this.handleMouseReturn,this);el.un('mouseout',this.handleMouseOut,this);Ext.getDoc().un('mouseup',this.handleMouseUp,this);this.pressedCls&&
el.removeCls(this.pressedCls);this.fireEvent('mouseup',this,e)}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,'ClickRepeater',Ext.util,'TapRepeater'],0);
Ext.cmd.derive('Ext.util.Cookies',Ext.Base,{singleton:!0,set:function(name,value){var argv=arguments,argc=argv.length,expires=2<argc?argv[2]:null,path=3<argc?argv[3]:'/',domain=4<argc?argv[4]:null;argv=5<argc?argv[5]:!1;document.cookie=name+'\x3d'+escape(value)+(null===expires?'':'; expires\x3d'+expires.toUTCString())+(null===path?'':'; path\x3d'+path)+(null===domain?'':'; domain\x3d'+domain)+(!0===argv?'; secure':'')},get:function(name){var parts=document.cookie.split('; '),len=parts.length,i;for(i=
0;i<len;++i){var item=parts[i].split('\x3d');if(item[0]===name)return(name=item[1])?unescape(name):''}return null},clear:function(name,path){this.get(name)&&(document.cookie=name+'\x3d; expires\x3dThu, 01-Jan-1970 00:00:01 GMT; path\x3d'+(path||'/'))}},0,0,0,0,0,0,[Ext.util,'Cookies'],0);
Ext.cmd.derive('Ext.util.ItemCollection',Ext.util.MixedCollection,{alternateClassName:'Ext.ItemCollection',getKey:function(item){return item.getItemId&&item.getItemId()},has:function(item){return this.map.hasOwnProperty(item.getId())}},0,0,0,0,0,0,[Ext.util,'ItemCollection',Ext,'ItemCollection'],0);Ext.cmd.derive('Ext.util.TaskManager',Ext.util.TaskRunner,{alternateClassName:['Ext.TaskManager'],singleton:!0},0,0,0,0,0,0,[Ext.util,'TaskManager',Ext,'TaskManager'],0);
Ext.cmd.derive('Ext.util.TextMetrics',Ext.Base,{statics:{shared:null,measure:function(el,text,fixedWidth){var shared=this.shared||(this.shared=new this(el,fixedWidth));shared.bind(el);shared.setFixedWidth(fixedWidth||'auto');return shared.getSize(text)},destroy:function(){this.shared=Ext.destroy(this.shared)}},constructor:function(bindTo,fixedWidth){var measure=this.measure=Ext.getBody().createChild({role:'presentation',cls:'x-textmetrics',style:{position:'absolute',left:'-1000px',top:'-1000px',visibility:'hidden'}});
bindTo&&this.bind(bindTo);fixedWidth&&measure.setWidth(fixedWidth)},getSize:function(text){var measure=this.measure;measure.setHtml(text);text=measure.getSize();measure.setHtml('');return text},bind:function(el){this.measure.setStyle((this.el||(this.self.prototype.el=new Ext.dom.Fly)).attach(el).getStyle('font-size font-size-adjust font-style font-weight font-family font-kerning font-stretch line-height text-transform text-decoration letter-spacing word-break'.split(' ')))},setFixedWidth:function(width){this.measure.setWidth(width)},
getWidth:function(text){this.measure.dom.style.width='auto';return this.getSize(text).width},getHeight:function(text){return this.getSize(text).height},destroy:function(){this.el=this.measure=Ext.destroy(this.measure);this.callParent()}},1,0,0,0,0,0,[Ext.util,'TextMetrics'],function(){Ext.Element.override({getTextWidth:function(text,min,max){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(text,this.dom.innerHTML,!0)).width,min||0,max||1E6)}})});
Ext.define(null,{override:'Ext.form.field.Checkbox',compatibility:Ext.isIE8,changeEventName:'propertychange',onChangeEvent:function(e){this.duringSetRawValue||'checked'!==e.browserEvent.propertyName||this.callParent([e])},updateCheckedCls:function(checked){var displayEl=this.displayEl;this.callParent([checked]);displayEl&&checked!==this.lastValue&&displayEl.repaint()}});
Ext.define(null,{override:'Ext.form.field.Radio',compatibility:Ext.isIE8,getSubTplData:function(fieldData){fieldData=this.callParent([fieldData]);delete fieldData.checked;return fieldData},afterRender:function(){this.callParent();this.checked&&(this.inputEl.dom.checked=!0)},onChange:function(newValue,oldValue){this.callSuper([newValue,oldValue])}});
Ext.define(null,{override:'Ext.scroll.Scroller',compatibility:Ext.isIE8,privates:{doScrollTo:function(x,y,animate){var me=this,element=me.getScrollElement();if(element&&!element.destroyed){var dom=element.dom;var xInf=Infinity===x;var yInf=Infinity===y;if(xInf||yInf){var maxPosition=me.getMaxPosition();xInf&&(x=maxPosition.x);yInf&&(y=maxPosition.y)}null!==x&&(x=me.convertX(x));if(animate){animate=Ext.mergeIf({to:{scrollTop:y,scrollLeft:x}},animate);var deferred=new Ext.Deferred;var callback=animate.callback;
animate.callback=function(){callback&&callback.call(animate.scope||Ext.global,arguments);me.destroyed?deferred.reject():deferred.resolve()};element.animate(animate);x=deferred.promise}else null!=x&&0!==x&&null!=y&&(me.deferDomScroll=!0),null!=y&&(dom.scrollTop=y),null!=x&&(dom.scrollLeft=x),me.deferDomScroll&&(me.deferDomScroll=!1,+dom.scrollLeft,dom.scrollLeft=x,+dom.scrollTop,dom.scrollTop=y),x=Ext.Deferred.getCachedResolved();me.positionDirty=!0}else x=Ext.Deferred.getCachedRejected();return x},
onDomScroll:function(){this.deferDomScroll||this.callParent()}}});
Ext.cmd.derive('Ext.Action',Ext.Base,{constructor:function(config){this.initialConfig=config;this.itemId=config.itemId=config.itemId||config.id||Ext.id();this.items=[]},isAction:!0,setText:function(text){this.initialConfig.text=text;this.callEach('setText',[text])},getText:function(){return this.initialConfig.text},setIconCls:function(cls){this.initialConfig.iconCls=cls;this.callEach('setIconCls',[cls])},setGlyph:function(glyph){this.initialConfig.glyph=glyph;this.callEach('setGlyph',[glyph])},getIconCls:function(){return this.initialConfig.iconCls},
setDisabled:function(disabled){this.initialConfig.disabled=disabled;this.callEach('setDisabled',[disabled])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(hidden){this.initialConfig.hidden=hidden;this.callEach('setVisible',[!hidden])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(handler,
scope){this.initialConfig.handler=handler;this.initialConfig.scope=scope;this.callEach('setHandler',[handler,scope])},each:function(fn,scope){Ext.each(this.items,fn,scope)},callEach:function(fnName,args){var items=this.items,i=0,len=items.length;for(Ext.suspendLayouts();i<len;i++){var item=items[i];item[fnName].apply(item,args)}Ext.resumeLayouts(!0)},addComponent:function(comp){this.items.push(comp);comp.on('destroy',this.removeComponent,this)},removeComponent:function(comp){Ext.Array.remove(this.items,
comp)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}},1,0,0,0,0,0,[Ext,'Action'],0);
Ext.cmd.derive('Ext.ElementLoader',Ext.Base,{statics:{Renderer:{Html:function(loader,response,active){loader.getTarget().setHtml(response.responseText,!0===active.scripts,active.callback,active.rendererScope);return!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(config){this.mixins.observable.constructor.call(this,config);this.setTarget(this.target);this.autoLoad&&(config=this.autoLoad,!0===config&&(config=
null),this.load(config))},setTarget:function(target){target=Ext.get(target);this.target&&this.target!==target&&this.abort();this.target=target},getTarget:function(){return this.target||null},abort:function(){var active=this.active;void 0!==active&&(Ext.Ajax.abort(active.request),active.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(mask){this.target.mask(!0===mask?null:mask)},load:function(options){if(!this.destroying&&!this.destroyed){options=
Ext.apply({},options);var mask=Ext.isDefined(options.loadMask)?options.loadMask:this.loadMask,params=Ext.apply({},options.params),ajaxOptions=Ext.apply({},options.ajaxOptions),callback=options.callback||this.callback,scope=options.scope||this.scope||this;Ext.applyIf(ajaxOptions,this.ajaxOptions);Ext.applyIf(options,ajaxOptions);Ext.applyIf(params,this.params);Ext.apply(params,this.baseParams);Ext.applyIf(options,{url:this.url});Ext.apply(options,{scope:this,params,callback:this.onComplete});!1!==
this.fireEvent('beforeload',this,options)&&(mask&&this.addMask(mask),this.active={options,mask,scope,callback,success:options.success||this.success,failure:options.failure||this.failure,renderer:options.renderer||this.renderer,scripts:Ext.isDefined(options.scripts)?options.scripts:this.scripts},this.active.request=Ext.Ajax.request(options),this.setOptions(this.active,options))}},setOptions:function(active,options){active.rendererScope=options.rendererScope||this.rendererScope||this},onComplete:function(options,
success,response){var active=this.active;if(active){var scope=active.scope;var rendererScope=active.rendererScope;success&&(success=!1!==this.getRenderer(active.renderer).call(rendererScope,this,response,active));success?(Ext.callback(active.success,scope,[this,response,options]),this.fireEvent('load',this,response,options)):(Ext.callback(active.failure,scope,[this,response,options]),this.fireEvent('exception',this,response,options));Ext.callback(active.callback,scope,[this,success,response,options]);
active.mask&&this.removeMask()}delete this.active},getRenderer:function(renderer){return Ext.isFunction(renderer)?renderer:this.statics().Renderer.Html},startAutoRefresh:function(interval,options){var me=this;me.stopAutoRefresh();me.autoRefresh=Ext.interval(function(){me.load(options)},interval)},stopAutoRefresh:function(){Ext.uninterval(this.autoRefresh);this.autoRefresh=null},isAutoRefreshing:function(){return!!this.autoRefresh},destroy:function(){this.stopAutoRefresh();this.abort();this.callParent()}},
1,0,0,0,0,[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable]],[Ext,'ElementLoader'],0);
Ext.cmd.derive('Ext.ComponentLoader',Ext.ElementLoader,{statics:{Renderer:{Data:function(loader,response,active){active=!0;try{loader.getTarget().update(Ext.decode(response.responseText))}catch(e){active=!1}return active},Component:function(loader,response,active){var success=!0;loader=loader.getTarget();var items=[];try{items=Ext.decode(response.responseText)}catch(e){success=!1}success&&(loader.suspendLayouts(),active.removeAll&&loader.removeAll(),loader.add(items),loader.resumeLayouts(!0));return success}}},
target:null,loadOnRender:!1,loadMask:!1,renderer:'html',setTarget:function(target){Ext.isString(target)&&(target=Ext.getCmp(target));this.target&&this.target!==target&&this.abort();(this.target=target)&&this.loadOnRender&&(target.rendered?this.doLoadOnRender():this.mon(target,'render',this.doLoadOnRender,this))},doLoadOnRender:function(){var loadOnRender=this.loadOnRender;this.load(Ext.isObject(loadOnRender)?loadOnRender:null)},removeMask:function(){this.target.setLoading(!1)},addMask:function(mask){this.target.setLoading(mask)},
setOptions:function(active,options){active.removeAll=Ext.isDefined(options.removeAll)?options.removeAll:this.removeAll;active.rendererScope=options.rendererScope||this.rendererScope||this.target},getRenderer:function(renderer){if(Ext.isFunction(renderer))return renderer;var renderers=this.statics().Renderer;switch(renderer){case 'component':return renderers.Component;case 'data':return renderers.Data;default:return Ext.ElementLoader.Renderer.Html}}},0,0,0,0,0,0,[Ext,'ComponentLoader'],0);
Ext.cmd.derive('Ext.layout.SizeModel',Ext.Base,{constructor:function(config){var SizeModel=this.self,sizeModelsArray=SizeModel.sizeModelsArray;Ext.apply(this,config);this[config=this.name]=!0;this.fixed=!(this.auto=this.natural||this.shrinkWrap);sizeModelsArray[this.ordinal=sizeModelsArray.length]=SizeModel[config]=SizeModel.sizeModels[config]=this},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,
calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},1,0,0,0,0,0,[Ext.layout,'SizeModel'],function(){var sizeModelsArray=this.sizeModelsArray,j,n,pairs;new this({name:'calculated'});new this({name:'configured',names:{width:'width',height:'height'}});new this({name:'natural'});new this({name:'shrinkWrap'});new this({name:'calculatedFromConfigured',configured:!0,calculatedFrom:!0,names:{width:'width',height:'height'}});new this({name:'calculatedFromNatural',natural:!0,calculatedFrom:!0});
new this({name:'calculatedFromShrinkWrap',shrinkWrap:!0,calculatedFrom:!0});new this({name:'constrainedMax',configured:!0,constrained:!0,names:{width:'maxWidth',height:'maxHeight'}});new this({name:'constrainedMin',configured:!0,constrained:!0,names:{width:'minWidth',height:'minHeight'}});new this({name:'constrainedDock',configured:!0,constrained:!0,constrainedByMin:!0,names:{width:'dockConstrainedWidth',height:'dockConstrainedHeight'}});var i=0;for(n=sizeModelsArray.length;i<n;++i){var sizeModel=
sizeModelsArray[i];sizeModel.pairsByHeightOrdinal=pairs=[];for(j=0;j<n;++j)pairs.push({width:sizeModel,height:sizeModelsArray[j],ordinal:j})}});
Ext.cmd.derive('Ext.layout.Layout',Ext.Base,{factoryConfig:{type:'layout',defaultType:'autocontainer',instanceProp:'isLayout'},isLayout:!0,initialized:!1,running:!1,needsItemSize:!0,setsItemSize:!0,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:!1,$configStrict:!1,constructor:function(config){this.id=Ext.id(null,this.type+'-');this.initConfig(config);delete this.type;this.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(ownerContext){var changed;
this.lastWidthModel!==ownerContext.widthModel&&(this.lastWidthModel&&(changed=!0),this.lastWidthModel=ownerContext.widthModel);this.lastHeightModel!==ownerContext.heightModel&&(this.lastWidthModel&&(changed=!0),this.lastHeightModel=ownerContext.heightModel);changed&&((ownerContext=ownerContext.context).clearTriggers(this,!1),ownerContext.clearTriggers(this,!0),this.triggerCount=0)},finishedLayout:function(ownerContext){this.lastWidthModel=ownerContext.widthModel;this.lastHeightModel=ownerContext.heightModel;
this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(item){return this.autoSizePolicy},isItemBoxParent:function(itemContext){return!1},isItemLayoutRoot:function(item){var sizeModel=item.getSizeModel(),width=sizeModel.width;sizeModel=sizeModel.height;return item.componentLayout.lastComponentSize||!width.calculated&&!sizeModel.calculated?!width.shrinkWrap&&!sizeModel.shrinkWrap:!1},isItemShrinkWrap:function(item){return item.shrinkWrap},
isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(items,renderCfgs){var length=items.length,i;if(length){var result=[];for(i=0;i<length;++i){var item=items[i];if(!item.rendered){if(renderCfgs&&void 0!==renderCfgs[item.id])var itemConfig=renderCfgs[item.id];else this.configureItem(item),itemConfig=item.getRenderTree(),renderCfgs&&(renderCfgs[item.id]=itemConfig);itemConfig&&result.push(itemConfig)}}}return result},finishRender:Ext.emptyFn,finishRenderItems:function(target,
items){target=items.length;var i;for(i=0;i<target;i++){var item=items[i];item.rendering&&item.finishRender(i)}},renderChildren:function(){var items=this.getLayoutItems(),target=this.getRenderTarget();this.renderItems(items,target)},renderItems:function(items,target){var ln=items.length,i=0,pos=0,item;if(ln){for(Ext.suspendLayouts();i<ln;i++,pos++)(item=items[i])&&!item.rendered?this.renderItem(item,target,pos):item.ignoreDomPosition?--pos:this.isValidParent(item,target,pos)?this.configureItem(item):
this.moveItem(item,target,pos);Ext.resumeLayouts(!0)}},isValidParent:function(item,target,position){target=target&&target.dom||target;return(item=this.getItemLayoutEl(item))&&target?'number'===typeof position?(position=this.getPositionOffset(position),item===target.childNodes[position]):item.parentNode===target:!1},getItemLayoutEl:function(item){item=item.el?item.el.dom:Ext.getDom(item);var parentNode=item.parentNode;parentNode&&(parentNode=parentNode.className)&&-1!==parentNode.indexOf('x-resizable-wrap')&&
(item=item.parentNode);return item},getPositionOffset:function(position){return position},configureItem:function(item){item.ownerLayout=this},renderItem:function(item,target,position){item.rendered||(this.configureItem(item),item.render(target,position))},moveItem:function(item,target,position){var activeEl=Ext.fly(document.activeElement);target=target.dom||target;'number'===typeof position&&(position=target.childNodes[position]);item.el.contains(activeEl)?activeEl.suspendFocusEvents():activeEl=null;
target.insertBefore(item.el.dom,position||null);item.container=Ext.get(target);this.configureItem(item);activeEl&&(activeEl.focus(),activeEl.resumeFocusEvents())},onContentChange:function(){this.owner.updateLayout();return!0},initLayout:function(){this.initialized=!0},setOwner:function(owner){this.owner=owner},getLayoutItems:function(){return[]},onAdd:function(item){item.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(item){var el=item.el,owner=this.owner;if(item.rendered){var removeClasses=
[].concat(this.itemCls||[]);owner.itemCls&&(removeClasses=Ext.Array.push(removeClasses,owner.itemCls));removeClasses.length&&el.removeCls(removeClasses)}delete item.ownerLayout},afterCollapse:function(owner,animated){if(animated)this.onContentChange(owner)},afterExpand:function(owner,animated){if(animated)this.onContentChange(owner)},destroy:function(){var target;this.targetCls&&(target=this.getTarget())&&target.removeCls(this.targetCls);if(!this.onDestroy.$emptyFn)this.onDestroy();this.callParent()},
sortWeightedItems:function(items,reverseProp){var length;var i=0;for(length=items.length;i<length;++i)items[i].$i=i;Ext.Array.sort(items,function(item1,item2){var ret=item2.weight-item1.weight;ret||(ret=item1.$i-item2.$i,item1[reverseProp]&&(ret=-ret));return ret});for(i=0;i<length;++i)delete items[i].$i}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout,'Layout'],function(){this.prototype.sizeModels=this.sizeModels=Ext.layout.SizeModel.sizeModels});
Ext.cmd.derive('Ext.layout.container.Container',Ext.layout.Layout,{alternateClassName:'Ext.layout.ContainerLayout',type:'container',beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:['{%this.renderBody(out,values)%}'],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){Ext.layout.Layout.prototype.constructor.apply(this,arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.mixins.elementCt.destroy.call(this);
Ext.layout.Layout.prototype.destroy.call(this)},beginLayout:function(ownerContext){Ext.layout.Layout.prototype.beginLayout.apply(this,arguments);ownerContext.targetContext=ownerContext.paddingContext=ownerContext.getEl('getTarget',this);this.cacheChildItems(ownerContext)},beginLayoutCycle:function(ownerContext,firstCycle){Ext.layout.Layout.prototype.beginLayoutCycle.apply(this,arguments);firstCycle&&(this.usesContainerHeight&&++ownerContext.consumersContainerHeight,this.usesContainerWidth&&++ownerContext.consumersContainerWidth)},
cacheChildItems:function(ownerContext){var i;if(this.needsItemSize||this.setsItemSize){var context=ownerContext.context;var childItems=ownerContext.childItems=[];ownerContext=ownerContext.visibleItems=this.getVisibleItems();var length=ownerContext.length;for(i=0;i<length;++i)childItems.push(context.getCmp(ownerContext[i]))}},cacheElements:function(){var owner=this.owner;this.attachChildEls(owner.el,owner)},calculate:function(ownerContext){var props=ownerContext.props,el=ownerContext.el;ownerContext.widthModel.shrinkWrap&&
isNaN(props.width)&&ownerContext.setContentWidth(el.getWidth());ownerContext.heightModel.shrinkWrap&&isNaN(props.height)&&ownerContext.setContentHeight(el.getHeight())},configureItem:function(item){var itemCls=this.itemCls,ownerItemCls=this.owner.itemCls;item.ownerLayout=this;if(itemCls)if('string'===typeof itemCls)var addClasses=[itemCls];else{addClasses=itemCls;var needsCopy=!!addClasses}ownerItemCls&&(needsCopy&&(addClasses=Ext.Array.clone(addClasses)),addClasses=Ext.Array.push(addClasses||[],
ownerItemCls));addClasses&&item.addCls(addClasses)},doRenderBody:function(out,renderData){this.renderItems(out,renderData);this.renderContent(out,renderData)},doRenderContainer:function(out,renderData){var me=renderData.$comp.layout;renderData=me.getRenderTpl();me=me.getRenderData();renderData.applyOut(me,out)},doRenderItems:function(out,renderData){(renderData=renderData.$layout.getRenderTree())&&Ext.DomHelper.generateMarkup(renderData,out)},doRenderTabGuard:function(out,renderData,position){var cmp=
renderData.$comp,tabGuardTpl;cmp.tabGuard&&!renderData.$skipTabGuards&&(tabGuardTpl=cmp.lookupTpl('tabGuardTpl'))&&(renderData.tabGuard=position,renderData.tabGuardEl=cmp.tabGuardElements[position],cmp.addChildEl(renderData.tabGuardEl),tabGuardTpl.applyOut(renderData,out),delete renderData.tabGuard,delete renderData.tabGuardEl)},finishRender:function(){Ext.layout.Layout.prototype.finishRender.call(this);this.cacheElements();var target=this.getRenderTarget();var items=this.getLayoutItems();this.finishRenderItems(target,
items)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(ownerContext,inDom){var targetContext=ownerContext.targetContext,frameInfo=targetContext.getFrameInfo(),padding=ownerContext.paddingContext.getPaddingInfo(),got=0,needed=0,gotWidth,gotHeight;if(!ownerContext.widthModel.shrinkWrap){++needed;var width=inDom?targetContext.getDomProp('width'):targetContext.getProp('width');if(gotWidth='number'===typeof width)++got,width-=frameInfo.width+padding.width,0>width&&(width=
0)}if(!ownerContext.heightModel.shrinkWrap){++needed;var height=inDom?targetContext.getDomProp('height'):targetContext.getProp('height');if(gotHeight='number'===typeof height)++got,height-=frameInfo.height+padding.height,0>height&&(height=0)}return{width,height,needed,got,gotAll:got===needed,gotWidth,gotHeight}},getPositionOffset:function(position){var offset;this.createsInnerCt||(offset=this.owner.itemNodeOffset)&&(position+=offset);return position},getLayoutItems:function(){var owner=this.owner;
return(owner=owner&&owner.items)&&owner.items||[]},getRenderData:function(){var comp=this.owner;return{$comp:comp,$layout:this,ownerId:comp.id}},getRenderedItems:function(){var target=this.getRenderTarget(),items=this.getLayoutItems(),ln=items.length,renderedItems=[],i,pos;for(pos=i=0;i<ln;i++,pos++){var item=items[i];if(item.rendered){if(item.ignoreDomPosition)--pos;else if(!this.isValidParent(item,target,pos))continue;renderedItems.push(item)}}return renderedItems},getRenderTarget:function(){return this.owner.getTargetEl()},
getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var renderTpl=Ext.XTemplate.getTpl(this,'renderTpl');renderTpl.renderContent||this.owner.setupRenderTpl(renderTpl);return renderTpl},getRenderTree:function(){var items=this.owner.items,renderCfgs={};do{var itemsGen=items.generation;var result=this.getItemsRenderTree(this.getLayoutItems(),renderCfgs)}while(items.generation!==itemsGen);return result},renderChildren:function(){var ownerItems=this.owner.items,target=this.getRenderTarget();
do{var itemsGen=ownerItems.generation;var items=this.getLayoutItems();this.renderItems(items,target)}while(ownerItems.generation!==itemsGen)},getScrollbarsNeeded:function(width,height,contentWidth,contentHeight){var scrollbarSize=Ext.scrollbar.size(),hasWidth='number'===typeof width,hasHeight='number'===typeof height,needHorz=0,needVert=0;if(!scrollbarSize.width)return 0;hasHeight&&height<contentHeight&&(needVert=2,width-=scrollbarSize.width);hasWidth&&width<contentWidth&&(needHorz=1,!needVert&&hasHeight&&
(height-=scrollbarSize.height,height<contentHeight&&(needVert=2)));return needVert+needHorz},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var target=this.getRenderTarget(),items=this.getLayoutItems(),ln=items.length,visibleItems=[],i,pos;for(pos=i=0;i<ln;i++,pos++){var item=items[i];if(item.rendered&&!0!==item.hidden&&!item.floated){if(item.ignoreDomPosition)--pos;else if(!this.isValidParent(item,target,pos))continue;visibleItems.push(item)}}return visibleItems},
getMoveAfterIndex:function(after){return this.owner.items.indexOf(after)+1},moveItemBefore:function(item,before){var owner=this.owner,items=owner.items,index=items.indexOf(item);if(item===before)return item;before?(before=items.indexOf(before),-1<index&&index<before&&--before):before=items.length;return owner.insert(before,item)},setupRenderTpl:function(renderTpl){renderTpl.renderBody=this.doRenderBody;renderTpl.renderContainer=this.doRenderContainer;renderTpl.renderItems=this.doRenderItems;renderTpl.renderTabGuard=
this.doRenderTabGuard},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(item){item.liquidLayout||++this.activeItemCount;Ext.layout.Layout.prototype.onAdd.call(this,item)},onRemove:function(item,isDestroying){item.liquidLayout||--this.activeItemCount;Ext.layout.Layout.prototype.onRemove.call(this,item,isDestroying)}},1,0,0,0,['layout.container'],[[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer]],[Ext.layout.container,
'Container',Ext.layout,'ContainerLayout'],0);
Ext.cmd.derive('Ext.layout.container.Auto',Ext.layout.container.Container,{type:'autocontainer',childEls:['outerCt','innerCt'],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,needsItemSize:!1,setsItemSize:!1,lastOverflowAdjust:{width:0,height:0},outerCtCls:'x-autocontainer-outerCt',innerCtCls:'x-autocontainer-innerCt',renderTpl:'\x3cdiv id\x3d"{ownerId}-outerCt" data-ref\x3d"outerCt" class\x3d"{outerCtCls}" role\x3d"presentation"\x3e;\x3cdiv id\x3d"{ownerId}-innerCt" data-ref\x3d"innerCt" style\x3d"{%this.renderPadding(out, values)%}" ;\x3ctpl if\x3d"!$comp.html"\x3erole\x3d"presentation"\x3c/tpl\x3e;class\x3d"{innerCtCls}"\x3e;{%this.renderBody(out,values)%};\x3c/div\x3e;\x3c/div\x3e'.split(';'),beginLayout:function(ownerContext){Ext.layout.container.Container.prototype.beginLayout.apply(this,
arguments);this.initContextItems(ownerContext)},beforeLayoutCycle:function(ownerContext){var comp=this.owner,inheritedState=comp.inheritedState,inheritedStateInner=comp.inheritedStateInner;if(!inheritedState||inheritedState.invalid)comp.getInherited(),inheritedStateInner=comp.inheritedStateInner;ownerContext.widthModel.shrinkWrap?inheritedStateInner.inShrinkWrapTable=!0:delete inheritedStateInner.inShrinkWrapTable},beginLayoutCycle:function(ownerContext){var outerCt=this.outerCt,lastOuterCtWidth=
this.lastOuterCtWidth||'',lastOuterCtHeight=this.lastOuterCtHeight||'',lastOuterCtTableLayout=this.lastOuterCtTableLayout||'',state=ownerContext.state,overflowXStyle,outerCtHeight;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);var outerCtWidth=outerCtHeight=overflowXStyle='';if(!ownerContext.widthModel.shrinkWrap){outerCtWidth='100%';var inheritedStateInner=this.owner.inheritedStateInner;overflowXStyle=this.getOverflowXStyle(ownerContext);overflowXStyle=inheritedStateInner.inShrinkWrapTable||
'auto'===overflowXStyle||'scroll'===overflowXStyle?'':'fixed'}ownerContext.heightModel.shrinkWrap||Ext.supports.PercentageHeightOverflowBug||(outerCtHeight='100%');if(outerCtWidth!==lastOuterCtWidth||this.hasOuterCtPxWidth)outerCt.setStyle('width',outerCtWidth),this.lastOuterCtWidth=outerCtWidth,this.hasOuterCtPxWidth=!1;overflowXStyle!==lastOuterCtTableLayout&&(outerCt.setStyle('table-layout',overflowXStyle),this.lastOuterCtTableLayout=overflowXStyle);if(outerCtHeight!==lastOuterCtHeight||this.hasOuterCtPxHeight)outerCt.setStyle('height',
outerCtHeight),this.lastOuterCtHeight=outerCtHeight,this.hasOuterCtPxHeight=!1;this.hasInnerCtPxHeight&&(this.innerCt.setStyle('height',''),this.hasInnerCtPxHeight=!1);state.overflowAdjust=state.overflowAdjust||this.lastOverflowAdjust},calculate:function(ownerContext){var state=ownerContext.state,containerSize=this.getContainerSize(ownerContext,!0);state=state.calculatedItems||(state.calculatedItems=this.calculateItems?this.calculateItems(ownerContext,containerSize):!0);this.setCtSizeIfNeeded(ownerContext,
containerSize);if(state&&ownerContext.hasDomProp('containerChildrenSizeDone')&&(this.calculateContentSize(ownerContext),containerSize.gotAll)){!this.manageOverflow||ownerContext.state.secondPass||this.reserveScrollbar||this.calculateOverflow(ownerContext,containerSize);return}this.done=!1},calculateContentSize:function(ownerContext){var containerDimensions=(ownerContext.widthModel.shrinkWrap?1:0)|(ownerContext.heightModel.shrinkWrap?2:0),calcWidth=containerDimensions&1||void 0;containerDimensions=
containerDimensions&2||void 0;var needed=0,props=ownerContext.props;calcWidth&&(isNaN(props.contentWidth)?++needed:calcWidth=void 0);containerDimensions&&(isNaN(props.contentHeight)?++needed:containerDimensions=void 0);needed&&(calcWidth&&!ownerContext.setContentWidth(this.measureContentWidth(ownerContext))&&(this.done=!1),containerDimensions&&!ownerContext.setContentHeight(this.measureContentHeight(ownerContext))&&(this.done=!1))},calculateOverflow:function(ownerContext){var xauto='auto'===this.getOverflowXStyle(ownerContext);
var width='auto'===this.getOverflowYStyle(ownerContext);if(xauto||width){var height=Ext.scrollbar.size();var targetEl=ownerContext.overflowContext.el.dom;var scrollbars=0;targetEl.scrollWidth>targetEl.clientWidth&&(scrollbars|=1);targetEl.scrollHeight>targetEl.clientHeight&&(scrollbars|=2);width=width&&scrollbars&2?height.width:0;height=xauto&&scrollbars&1?height.height:0;if(width!==this.lastOverflowAdjust.width||height!==this.lastOverflowAdjust.height)this.done=!1,ownerContext.invalidate({state:{overflowAdjust:{width,
height},overflowState:scrollbars,secondPass:!0}})}},completeLayout:function(ownerContext){this.lastOverflowAdjust=ownerContext.state.overflowAdjust},doRenderBody:function(out,renderData){var me=renderData.$layout,XTemplate=Ext.XTemplate,afterBodyTpl=me.afterBodyTpl;me.beforeBodyTpl&&XTemplate.getTpl(me,'beforeBodyTpl').applyOut(renderData,out);this.renderItems(out,renderData);this.renderContent(out,renderData);afterBodyTpl&&XTemplate.getTpl(me,'afterBodyTpl').applyOut(renderData,out)},doRenderPadding:function(out,
renderData){var owner=renderData.$layout.owner,padding=owner[owner.contentPaddingProperty];renderData.$layout.managePadding&&padding&&out.push('padding:',owner.unitizeBox(padding))},finishedLayout:function(ownerContext){var innerCt=this.innerCt;Ext.layout.container.Container.prototype.finishedLayout.apply(this,arguments);Ext.isIE8&&innerCt.repaint();Ext.isOpera&&(innerCt.setStyle('position','relative'),innerCt.dom.scrollWidth,innerCt.setStyle('position',''))},getContainerSize:function(ownerContext,
inDom){var size=Ext.layout.container.Container.prototype.getContainerSize.apply(this,arguments),overflowAdjust=ownerContext.state.overflowAdjust;overflowAdjust&&(size.width-=overflowAdjust.width,size.height-=overflowAdjust.height);return size},getRenderData:function(){var data=Ext.layout.container.Container.prototype.getRenderData.call(this);data.innerCtCls=this.innerCtCls;data.outerCtCls=this.outerCtCls;return data},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},
getOverflowXStyle:function(ownerContext){return ownerContext.overflowXStyle||(ownerContext.overflowXStyle=this.owner.scrollFlags.overflowX||ownerContext.overflowContext.getStyle('overflow-x'))},getOverflowYStyle:function(ownerContext){return ownerContext.overflowYStyle||(ownerContext.overflowYStyle=this.owner.scrollFlags.overflowY||ownerContext.overflowContext.getStyle('overflow-y'))},initContextItems:function(ownerContext){var target=ownerContext.target,overflowEl=this.owner.getOverflowEl();ownerContext.outerCtContext=
ownerContext.getEl('outerCt',this);ownerContext.innerCtContext=ownerContext.getEl('innerCt',this);ownerContext.overflowContext=overflowEl===ownerContext.el?ownerContext:ownerContext.getEl(overflowEl);void 0!==target[target.contentPaddingProperty]&&(ownerContext.paddingContext=ownerContext.innerCtContext)},initLayout:function(){var scrollbarWidth=Ext.scrollbar.width(),owner=this.owner;Ext.layout.container.Container.prototype.initLayout.call(this);scrollbarWidth&&this.manageOverflow&&!this.hasOwnProperty('lastOverflowAdjust')&&
(owner.scrollable||this.reserveScrollbar)&&(this.lastOverflowAdjust={width:scrollbarWidth,height:0})},measureContentHeight:function(ownerContext){var contentHeight=this.outerCt.getHeight(),target=ownerContext.target;this.managePadding&&void 0===target[target.contentPaddingProperty]&&(contentHeight+=ownerContext.targetContext.getPaddingInfo().height);return contentHeight},measureContentWidth:function(ownerContext){if(this.chromeCellMeasureBug){var dom=this.innerCt.dom;var style=dom.style;var old=style.display;
'table-cell'===old&&(style.display='',dom.offsetWidth,style.display=old)}Ext.isSafari&&(dom=this.outerCt.dom,style=dom.style,style.display='table-cell',dom.offsetWidth,dom.style.display='');dom=this.outerCt.getWidth();style=ownerContext.target;this.managePadding&&void 0===style[style.contentPaddingProperty]&&(dom+=ownerContext.targetContext.getPaddingInfo().width);return dom},setCtSizeIfNeeded:function(ownerContext,containerSize){containerSize=containerSize.height;var padding=ownerContext.paddingContext.getPaddingInfo(),
targetEl=this.getTarget(),overflowXStyle=this.getOverflowXStyle(ownerContext);overflowXStyle='auto'===overflowXStyle||'scroll'===overflowXStyle;var scrollbarSize=Ext.scrollbar.size(),needsOuterHeight,needsInnerHeight;containerSize&&!ownerContext.heightModel.shrinkWrap&&(Ext.supports.PercentageHeightOverflowBug&&(needsOuterHeight=!0),Ext.isIE8&&(needsInnerHeight=!0),(needsOuterHeight||needsInnerHeight)&&overflowXStyle&&targetEl.dom.scrollWidth>targetEl.dom.clientWidth&&(containerSize=Math.max(containerSize-
scrollbarSize.height,0)),needsOuterHeight&&(ownerContext.outerCtContext.setProp('height',containerSize+padding.height),this.hasOuterCtPxHeight=!0),needsInnerHeight&&(ownerContext.innerCtContext.setProp('height',containerSize),this.hasInnerCtPxHeight=!0))},setupRenderTpl:function(renderTpl){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments);renderTpl.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},0,0,0,0,['layout.auto','layout.autocontainer'],
0,[Ext.layout.container,'Auto'],function(Cls){var v=Ext.chromeVersion;Cls.prototype.chromeCellMeasureBug=Ext.isChrome&&26<=v&&34>=v});
Ext.cmd.derive('Ext.ZIndexManager',Ext.Base,{alternateClassName:'Ext.WindowGroup',statics:{zBase:9E3,activeCounter:0},reflowSuspended:0,constructor:function(container){var me=this;me.id=Ext.id(null,'zindex-mgr-');me.zIndexStack=new Ext.util.Collection({sorters:{sorterFn:function(comp1,comp2){var ret=(comp1.alwaysOnTop||0)-(comp2.alwaysOnTop||0);ret||(ret=comp1.getActiveCounter()-comp2.getActiveCounter());return ret}},filters:{filterFn:function(comp){return comp.isVisible()}}});me.zIndexStack.addObserver(me);
me.front=null;me.sortCount=0;me.globalListeners=Ext.GlobalEvents.on({beforehide:me.onComponentShowHide,show:me.onComponentShowHide,scope:me,destroyable:!0});container?container.isContainer?(me.resizeListeners=container.on({resize:me.onContainerResize,scope:me,destroyable:!0}),me.zseed=Ext.Number.from(me.rendered?container.getEl().getStyle('zIndex'):void 0,me.getNextZSeed()),me.targetEl=container.getTargetEl(),me.container=container):(me.resizeListeners=Ext.on({resize:me.onContainerResize,scope:me,
destroyable:!0}),me.zseed=me.getNextZSeed(),me.targetEl=Ext.get(container)):(me.zseed=me.getNextZSeed(),Ext.onInternalReady(function(){me.resizeListeners=Ext.on({resize:me.scheduleContainerResize,scope:me,destroyable:!0,priority:-1E4});me.targetEl=Ext.getBody()}))},getId:function(){return this.id},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1E4},setBase:function(baseZIndex){this.zseed=baseZIndex;return this.onCollectionSort()},onCollectionSort:function(){var oldFront=this.front,zIndex=
this.zseed,a=this.zIndexStack.getRange(),len=a.length,i,doFocus=!oldFront||oldFront.isVisible();this.sortCount++;for(i=0;i<len;i++){var comp=a[i];if(!comp.destroying&&!comp.destroyed&&(zIndex=comp.setZIndex(zIndex),!comp.hidden)){var topMost=comp;if(comp.modal){var topModal=comp;var topFocusable=null}doFocus&&comp.isFocusable(!0)&&(comp.modal||comp.focusOnToFront)&&(topFocusable=comp)}}if(topFocusable&&topFocusable!==oldFront&&!topFocusable.preventFocusOnActivate)topFocusable.onFocusTopmost();topModal?
topModal===this.topModal?this.syncModalMask(topModal):this.showModalMask(topModal):this.hideModalMask();if(topMost!==this.topMost){if(this.topMost)this.topMost.onZIndexChange(!1);if(topMost)topMost.onZIndexChange(!0)}this.front=topFocusable;this.topModal=topModal;this.topMost=topMost;!this.front&&this.topMost&&(this.front=this.topMost);return zIndex},onComponentUpdate:function(comp){!this.reflowSuspended&&this.zIndexStack.contains(comp)&&this.zIndexStack.sort()},suspendReflow:function(){this.reflowSuspended++},
resumeReflow:function(flush){this.reflowSuspended&&!--this.reflowSuspended&&flush&&this.zIndexStack.sort()},onComponentReady:function(comp){!this.reflowSuspended&&comp.toFrontOnShow&&comp.isVisible()&&(this.zIndexStack.itemChanged(comp,'hidden'),this.zIndexStack.sort())},onComponentShowHide:function(comp){var zIndexStack=this.zIndexStack,sortCount=this.sortCount;if(comp.isFloating()&&!this.hidingAll&&(zIndexStack.getSource()||zIndexStack).contains(comp)&&(this.tempHidden&&Ext.Array.remove(this.tempHidden,
comp),zIndexStack.beginUpdate(),comp.isVisible()?comp.toFrontOnShow&&(zIndexStack.itemChanged(comp,'hidden'),comp.setActiveCounter(++Ext.ZIndexManager.activeCounter)):zIndexStack.itemChanged(comp,'hidden'),zIndexStack.endUpdate(),this.sortCount===sortCount&&!this.reflowSuspended))this.onCollectionSort()},register:function(comp){comp.zIndexManager&&comp.zIndexManager.unregister(comp);comp.zIndexManager=this;if(!comp.rendered)comp.on(this.getReadyEvent(comp),this.onComponentReady,this,{single:!0});
this.zIndexStack.add(comp)},unregister:function(comp){delete comp.zIndexManager;comp.un(this.getReadyEvent(comp),this.onComponentReady,this);this.zIndexStack.remove(comp);this.onCollectionSort()},get:function(id){return id.isComponent?id:this.zIndexStack.get(id)},bringToFront:function(comp,preventFocus){var zIndexStack=this.zIndexStack,oldFront=zIndexStack.last();comp=this.get(comp);if(!comp)return!1;var preventFocusSetting=comp.preventFocusOnActivate;comp.preventFocusOnActivate=preventFocus;comp.setActiveCounter(++Ext.ZIndexManager.activeCounter);
comp.preventFocusOnActivate=preventFocusSetting;preventFocus=zIndexStack.last();return preventFocus===comp&&preventFocus!==oldFront},sendToBack:function(comp){(comp=this.get(comp))&&comp.setActiveCounter(0);return comp||null},hideAll:function(){var all=this.zIndexStack.getRange(),len=all.length,i;this.hidingAll=!0;for(i=0;i<len;i++)all[i].hide();this.hidingAll=!1;this.hideModalMask();this.front=null},hide:function(){var activeElement=Ext.Element.getActiveElement(),all=this.zIndexStack.getRange(),
len=all.length,i;this.focusRestoreElement=null;for(i=(this.tempHidden||(this.tempHidden=[])).length=0;i<len;i++){var comp=all[i];comp.isVisible()&&(comp.el.contains(activeElement)&&(this.focusRestoreElement=activeElement),comp.el.hide(),comp.pendingShow=comp.hidden=!0,this.tempHidden.push(comp))}},show:function(){var tempHidden=this.tempHidden,len=tempHidden?tempHidden.length:0,i;for(i=0;i<len;i++){var comp=tempHidden[i];comp.hidden=!1;comp.pendingShow?(comp.el.show(),comp.pendingShow=!1,comp.setPosition(comp.x,
comp.y),comp.onFloatShow()):comp.hide()}this.tempHidden=null;this.focusRestoreElement&&this.focusRestoreElement.focus()},getActive:function(){return this.zIndexStack.last()},getBy:function(fn,scope){return this.zIndexStack.filterBy(fn,scope).getRange()},each:function(fn,scope){this.zIndexStack.each(fn,scope)},eachBottomUp:function(fn,scope){var stack=this.zIndexStack.getRange(),len=stack.length,i;for(i=0;i<len;i++){var comp=stack[i];if(comp.isComponent&&!1===fn.call(scope||comp,comp))break}},eachTopDown:function(fn,
scope){var stack=this.zIndexStack.getRange(),i;for(i=stack.length;0<i--;){var comp=stack[i];if(comp.isComponent&&!1===fn.call(scope||comp,comp))break}},destroy:function(){var stack=this.zIndexStack.getRange(),len=stack.length,i;for(i=0;i<len;i++)Ext.destroy(stack[i]);Ext.destroy(this.mask,this.maskShim,this.zIndexStack,this.globalListeners,this.resizeListeners);this.callParent()},privates:{getMaskBox:function(){var maskTarget=this.mask.maskTarget;return maskTarget.dom===document.body?{height:Math.max(document.body.scrollHeight,
Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,Ext.dom.Element.getDocumentWidth()),x:0,y:0}:maskTarget.getBox()},getReadyEvent:function(c){return c.liquidLayout?'afterrender':'boxready'},scheduleContainerResize:function(){this.containerResizeTimer||(this.containerResizeTimer=Ext.raf(this.onContainerResize,this))},onContainerResize:function(){var mask=this.mask,maskShim=this.maskShim;this.containerResizeTimer=null;if(mask&&mask.isVisible()){mask.hide();maskShim&&maskShim.hide();
var viewSize=this.getMaskBox();maskShim&&(maskShim.setSize(viewSize),maskShim.show());mask.setSize(viewSize);mask.show()}},onMaskMousedown:function(e){this.topModal&&(this.topModal.focus(),e.preventDefault())},onMaskClick:function(){var front=this.topModal;if(front&&(!front.hasListeners.maskclick||!1!==front.fireEvent('maskclick',front))){var methodName=front.maskClickAction||'focus';front[methodName]()}},showModalMask:function(comp){var compEl=comp.el,maskTarget=comp.floatParent?comp.floatParent.getEl():
comp.container,mask=this.mask;mask?this.hideModalMask():(this.mask=mask=Ext.getBody().createChild({role:'presentation',cls:'x-mask x-border-box',style:'height:0;width:0'}),mask.setVisibilityMode(Ext.Element.DISPLAY),mask.on({mousedown:this.onMaskMousedown,click:this.onMaskClick,scope:this}));mask.maskTarget=maskTarget;maskTarget.saveTabbableState({excludeRoot:compEl});this.syncModalMask(comp)},syncModalMask:function(comp){comp=comp.el.getZIndex()-4;var mask=this.mask,shim=this.maskShim,viewSize=this.getMaskBox();
shim&&(shim.setZIndex(comp),shim.show(),shim.setBox(viewSize));mask.setZIndex(comp);mask.show();mask.setBox(viewSize)},hideModalMask:function(){var mask=this.mask,maskShim=this.maskShim;mask&&mask.isVisible()&&(mask.maskTarget.restoreTabbableState(),mask.maskTarget=void 0,mask.hide(),maskShim&&maskShim.hide())}}},1,0,0,0,0,0,[Ext,'ZIndexManager',Ext,'WindowGroup'],function(){Ext.WindowManager=Ext.WindowMgr=new this});
Ext.cmd.derive('Ext.container.Container',Ext.Component,{alternateClassName:['Ext.Container','Ext.AbstractContainer'],renderTpl:'\x3ctpl if\x3d"hasTabGuard"\x3e{% this.renderTabGuard(out, values, \'before\'); %}\x3c/tpl\x3e{% this.renderContainer(out,values) %}\x3ctpl if\x3d"hasTabGuard"\x3e{% this.renderTabGuard(out, values, \'after\'); %}\x3c/tpl\x3e',config:{actions:null},autoDestroy:!0,defaultType:'panel',detachOnRemove:!0,items:void 0,layout:'auto',suspendLayout:!1,tabGuardTpl:'\x3cspan id\x3d"{id}-{tabGuardEl}" data-ref\x3d"{tabGuardEl}" aria-hidden\x3d"true" class\x3d"x-tab-guard x-tab-guard-{tabGuardPosition}" style\x3d"width:0px;height:0px;"\x3e\x3c/span\x3e',
tabGuardElements:{before:'tabGuardBeforeEl',after:'tabGuardAfterEl'},_applyDefaultsOptions:{defaults:!0,strict:!1},ariaRole:'presentation',baseCls:'x-container',layoutCounter:0,add:function(){var args=Ext.Array.slice(arguments),index='number'===typeof args[0]?args.shift():-1,layout=this.getLayout(),needsLayout=!1;if(1===args.length&&Ext.isArray(args[0])){args=args[0];var addingArray=!0}this.rendered&&Ext.suspendLayouts();var ret=args=this.prepareItems(args,!0);var length=args.length;addingArray||
1!==length||(ret=args[0]);for(addingArray=0;addingArray<length;addingArray++){var item=args[addingArray];var pos=0>index?this.items.length:index+addingArray;var instanced=!!item.instancedCmp;delete item.instancedCmp;if(item.floating)(this.floatingItems||(this.floatingItems=new Ext.util.ItemCollection)).add(item),item.onAdded(this,pos,instanced),delete item.$initParent,this.hasListeners.add&&this.fireEvent('add',this,item,pos);else if((!this.hasListeners.beforeadd||!1!==this.fireEvent('beforeadd',
this,item,pos))&&!1!==this.onBeforeAdd(item)){this.items.insert(pos,item);item.onAdded(this,pos,instanced);delete item.$initParent;if(this.focusableContainer)this.onFocusableChildAdd(item);this.onAdd(item,pos);layout.onAdd(item,pos);needsLayout=!0;this.hasListeners.add&&this.fireEvent('add',this,item,pos)}item.isLayoutMoving=!1}needsLayout&&this.updateLayout();this.rendered&&(length&&this.focusableContainer&&(this.$initFocusableContainerAfterLayout=!0),Ext.resumeLayouts(!0));return ret},onAdded:function(container,
pos,instanced){Ext.Component.prototype.onAdded.call(this,container,pos,instanced);this.containerOnAdded(container,instanced)},onRemoved:function(destroying){this.containerOnRemoved(destroying);Ext.Component.prototype.onRemoved.apply(this,arguments)},afterComponentLayout:function(){var floaters=this.floatingItems,i;Ext.Component.prototype.afterComponentLayout.apply(this,arguments);if(floaters){floaters=floaters.items;var floaterCount=floaters.length;for(i=0;i<floaterCount;i++){var floater=floaters[i];
!floater.rendered&&floater.autoShow&&floater.show()}}},afterLayout:function(layout){++this.layoutCounter;this.hasListeners.afterlayout&&this.fireEvent('afterlayout',this,layout);this.focusableContainer&&this.$initFocusableContainerAfterLayout&&this.initFocusableContainer();delete this.$initFocusableContainerAfterLayout},doDestroy:function(){var items=this.items,floatingItems=this.floatingItems,c;this.focusableContainer&&this.destroyFocusableContainer();if(items){for(;c=items.first();)this.doRemove(c,
!0);items.destroy();this.items=null}if(floatingItems){for(;c=floatingItems.first();)this.doRemove(c,!0);floatingItems.destroy();this.floatingItems=null}Ext.destroy(this.layout);Ext.Component.prototype.doDestroy.call(this)},beforeRender:function(){var layout=this.getLayout();this.preventChildDisable=!0;Ext.Component.prototype.beforeRender.call(this);this.preventChildDisable=!1;layout.initialized||layout.initLayout();(layout=layout.targetCls)&&this.applyTargetCls(layout)},cascade:function(fn,scope,
origArgs){var cs=this.items?this.items.items:[],len=cs.length,i=0,args=origArgs?origArgs.concat(this):[this],componentIndex=args.length-1;if(!1!==fn.apply(scope||this,args))for(;i<len;i++){var c=cs[i];c.cascade?c.cascade(fn,scope,origArgs):(args[componentIndex]=c,fn.apply(scope||c,args))}return this},contains:function(comp,deep){var result=!1;return deep?(this.cascade(function(c){if(c.contains&&c.contains(comp))return result=!0,!1}),result):this.items.contains(comp)||this.floatingItems&&this.floatingItems.contains(comp)},
disable:function(silent,fromParent){var wasDisabled=this.disabled,i;Ext.Component.prototype.disable.call(this,silent,fromParent);if(!fromParent&&!this.preventChildDisable&&!wasDisabled)for(fromParent=this.getChildItemsToDisable(),wasDisabled=fromParent.length,i=0;i<wasDisabled;i++)fromParent[i].disable(silent,!0);this.focusableContainer&&this.activateFocusableContainer(!1);return this},enable:function(silent,fromParent){var wasDisabled=this.disabled,i;Ext.Component.prototype.enable.call(this,silent,
fromParent);if(wasDisabled)for(fromParent=this.getChildItemsToDisable(),wasDisabled=fromParent.length,i=0;i<wasDisabled;i++)fromParent[i].enable(silent,!0);this.focusableContainer&&this.activateFocusableContainer(!0);return this},getChildByElement:function(el,deep){var itemEl,i=0,it=this.getRefItems(),ln=it.length;for(el=Ext.getDom(el);i<ln;i++){var item=it[i];if((itemEl=item.getEl())&&(itemEl.dom===el||itemEl.contains(el)))return deep&&item.getChildByElement?item.getChildByElement(el,deep):item}return null},
getComponent:function(comp){Ext.isObject(comp)&&(comp=comp.getItemId());var c=this.items.get(comp),floaters=this.floatingItems;!c&&floaters&&'number'!==typeof comp&&(c=floaters.get(comp));return c},getFocusEl:function(){var delegate=this.getDefaultFocus();if(delegate)return delegate;if(this.focusable)return this.getTargetEl()},getLayout:function(){var layout=this.layout;layout&&layout.isLayout||this.setLayout(layout);return this.layout},getRefItems:function(deep){for(var items=this.items.items,len=
items.length,i=0,item,result=[];i<len;i++)item=items[i],result[result.length]=item,deep&&item.getRefItems&&result.push.apply(result,item.getRefItems(!0));if(this.floatingItems)for(items=this.floatingItems.items,len=items.length,i=0;i<len;i++)item=items[i],result[result.length]=item,deep&&item.getRefItems&&result.push.apply(result,item.getRefItems(!0));return result},getDefaultFocus:function(){var defaultFocus=this.defaultFocus,result;defaultFocus&&!this.isConfiguring&&(result=this.down(defaultFocus));
return result},setDefaultFocus:function(value){this.defaultFocus=value},initComponent:function(){Ext.Component.prototype.initComponent.call(this);this.getLayout();this.constructing=!0;this.initItems();this.disabled&&(this.disabled=!1,this.disable(!0));this.reference=this.setupReference(this.reference);delete this.constructing},initItems:function(){var items=this.items;items&&items.isMixedCollection||(this.items=new Ext.util.ItemCollection,items&&(Ext.isArray(items)||(items=[items]),this.$initingItems=
!0,this.add(items),delete this.$initingItems))},initInheritedState:function(inheritedState,inheritedStateInner){var layout=this.layout;Ext.Component.prototype.initInheritedState.call(this,inheritedState,inheritedStateInner);this.collapsed&&(inheritedState.collapsed=!0);this.initContainerInheritedState(inheritedState,inheritedStateInner);layout&&layout.initInheritedState&&layout.initInheritedState(inheritedState,inheritedStateInner)},insert:function(index,component){if(component&&component.isComponent){var compIdx=
this.items.indexOf(component);if(-1!==compIdx)return this.move(compIdx,index)}return this.add(index,component)},lookupComponent:function(comp){var defaultType=this.defaultType,wasAction;if(!comp.isComponent){if('string'===typeof comp){if(!(wasAction='@'===comp[0]))return Ext.ComponentManager.get(comp);comp=this.getAction(comp.substr(1));defaultType=this.defaultActionType||defaultType}comp=Ext.ComponentManager.create(comp,defaultType);wasAction&&(comp.instancedCmp=!0)}return comp},move:function(fromIdx,
toIdx){var items=this.items;fromIdx.isComponent&&(fromIdx=items.indexOf(fromIdx));var item=items.getAt(fromIdx);if(fromIdx!==toIdx){item=items.removeAt(fromIdx);if(!1===item)return!1;toIdx=Math.min(toIdx,items.getCount());items.insert(toIdx,item);this.onMove(item,fromIdx,toIdx);this.hasListeners.childmove&&this.fireEvent('childmove',this,item,fromIdx,toIdx);this.updateLayout()}return item},moveBefore:function(item,before){if(item!==before){var activeEl=Ext.Element.getActiveElement(!0);if(item.el&&
item.el.contains(activeEl)){var refocusEl=activeEl;refocusEl.suspendFocusEvents();item.isLayoutMoving=!0}item=this.layout.moveItemBefore(item,before);refocusEl&&(item.isLayoutMoving=!1,refocusEl.focus(),refocusEl.resumeFocusEvents())}return item},moveAfter:function(item,after){var layout=this.layout;item!==after&&(after=after?layout.getMoveAfterIndex(after):0,item=this.moveBefore(item,this.items.getAt(after)));return item},nextChild:function(child,selector){var items=this.items;child=items.indexOf(child);
var i=0,len=items.length;if(-1!==child)if(selector)for(;i<len;i++){var result=items.getAt(child+i);if(!result||Ext.ComponentQuery.is(result,selector))break}else result=items.getAt(child+1);return result||null},onAdd:Ext.emptyFn,onBeforeAdd:function(item){var owner=item.ownerCt;item.isDetached&&item.reattachToBody();owner&&owner!==this&&(item.isLayoutMoving=!0,owner.remove(item,{destroy:!1,detach:!1}))},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){Ext.Component.prototype.onPosition.apply(this,
arguments);this.repositionFloatingItems()},onResize:function(){Ext.Component.prototype.onResize.apply(this,arguments);this.repositionFloatingItems()},prevChild:function(child,selector){var items=this.items;child=items.indexOf(child);var i=0,len=items.length;if(-1!==child)if(selector)for(;i<len;i++){var result=items.getAt(child-i);if(!result||Ext.ComponentQuery.is(result,selector))break}else result=items.getAt(child-1);return result||null},remove:function(component,autoDestroy){if(!this.destroyed&&
!this.destroying)return!(component=this.getComponent(component))||this.hasListeners.beforeremove&&!1===this.fireEvent('beforeremove',this,component)||(this.doRemove(component,autoDestroy),this.hasListeners.remove&&this.fireEvent('remove',this,component),this.destroying||this.destroyAfterRemoving||component.floating||this.updateLayout(),this.destroyAfterRemoving&&this.destroy()),component},removeAll:function(autoDestroy){var removeItems=this.floatingItems;var items=[],i=0;removeItems=removeItems?this.items.items.concat(removeItems.items):
this.items.items.slice();var len=removeItems.length;Ext.suspendLayouts();for(this.removingAll=!0;i<len;i++){var item=removeItems[i];this.remove(item,autoDestroy);item.ownerCt!==this&&items.push(item)}this.removingAll=!1;Ext.resumeLayouts(!!len);return items},setLayout:function(configuration){var oldLayout=this.layout;if(configuration){'string'===typeof configuration&&(configuration={type:configuration});var type=configuration.type;oldLayout&&(oldLayout.isLayout?type&&type!==oldLayout.type?oldLayout.setOwner(null):
(oldLayout.setConfig(configuration),configuration=oldLayout):('string'===typeof oldLayout&&(oldLayout={type:oldLayout}),configuration=Ext.merge({},oldLayout,configuration)));configuration&&configuration.isLayout||(configuration.owner=this,configuration=Ext.Factory.layout(configuration));configuration.setOwner(this)}this.layout=configuration;this.rendered&&this.updateLayout()},setActiveItem:function(item){return this.getLayout().setActiveItem(item)},updateActions:function(actions){for(var actionName in actions)actions[actionName].isAction||
(actions[actionName]=new Ext.Action(actions[actionName]))},getAction:function(name){var owner;for(owner=this;owner;owner=owner.getRefOwner())if(owner.actions&&owner.actions[name])return owner.actions[name]},onShowComplete:function(cb,scope){Ext.Component.prototype.onShowComplete.call(this,cb,scope);this.focusableContainer&&this.activateFocusableContainer&&this.activateFocusableContainer()},onFocusEnter:function(e){Ext.Component.prototype.onFocusEnter.call(this,e);!this.focusableContainer||this.destroying||
this.destroyed||this.mixins.focusablecontainer.onFocusEnter.call(this,e)},onFocusLeave:function(e){Ext.Component.prototype.onFocusLeave.call(this,e);!this.focusableContainer||this.destroying||this.destroyed||this.mixins.focusablecontainer.onFocusLeave.call(this,e)},privates:{applyDefaults:function(config){var defaults=this.defaults;defaults&&(Ext.isFunction(defaults)&&(defaults=defaults.call(this,config)),Ext.isString(config)&&(config=Ext.ComponentManager.get(config)),config.isComponent?config.setConfig(defaults,
null,this._applyDefaultsOptions):config=this.self.getConfigurator().merge(this,Ext.Object.fork(defaults),config));return config},applyTargetCls:function(targetCls){this.layoutTargetCls=targetCls},doRemove:function(component,flags){var layout=this.layout,hasLayout=layout&&this.rendered,floating=component.floating,doDetach=this.detachOnRemove,doDestroy=this.autoDestroy;'boolean'===typeof flags?doDestroy=flags:'object'===typeof flags&&(null!=flags.destroy&&(doDestroy=flags.destroy),null!=flags.detach&&
(doDetach=flags.detach));flags=component.destroying||doDestroy;floating?this.floatingItems.remove(component):this.items.remove(component);hasLayout&&!floating&&(layout.running&&Ext.Component.cancelLayout(component,flags),layout.onRemove(component,flags));if(!component.destroyed)component.onRemoved(flags);if(this.focusableContainer&&!this.destroying&&!this.destroyed)this.onFocusableChildRemove(component,flags);this.onRemove(component,flags);doDestroy?component.destroy():this.destroyed||(hasLayout&&
!floating&&layout.afterRemove(component),doDetach&&component.rendered&&component.detachFromBody())},finishRenderChildren:function(){var layout;Ext.Component.prototype.finishRenderChildren.call(this);(layout=this.getLayout())&&layout.finishRender()},getChildItemsToDisable:function(){return this.query('[isLabelable],[isFocusableContainer],button')},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},prepareItems:function(items,applyDefaults){items=
Ext.isArray(items)?items.slice():[items];for(var i=0,len=items.length,item;i<len;i++)item=items[i],null==item?(Ext.Array.erase(items,i,1),--i,--len):(applyDefaults&&(item=this.applyDefaults(item)),item.$initParent=this,item.isComponent&&(item.instancedCmp=!0),items[i]=this.lookupComponent(item),delete item.$initParent);return items},repositionFloatingItems:function(){var floaters=this.floatingItems,i;if(floaters){floaters=floaters.items;var floaterCount=floaters.length;for(i=0;i<floaterCount;i++){var floater=
floaters[i];floater.el&&!floater.hidden&&floater.setPosition(floater.x,floater.y)}}},initTabGuards:function(activate){activate=this.tabGuardBeforeEl;var afterGuard=this.tabGuardAfterEl,minTabIndex=this.tabGuardBeforeIndex||0,maxTabIndex=this.tabGuardAfterIndex||0,i;if(this.rendered&&this.tabGuard){var nodes=this.el.findTabbableElements({skipSelf:!0});nodes[0]===activate.dom&&nodes.shift();nodes[nodes.length-1]===afterGuard.dom&&nodes.pop();if(nodes&&nodes.length){if(null==minTabIndex||null==maxTabIndex)for(i=
0;i<nodes.length;i++){var tabIndex=+nodes[i].getAttribute('tabIndex');0<tabIndex&&(minTabIndex=Math.min(minTabIndex,tabIndex),maxTabIndex=Math.max(maxTabIndex,tabIndex))}activate.dom.setAttribute('tabIndex',minTabIndex);afterGuard.dom.setAttribute('tabIndex',maxTabIndex)}else activate.dom.removeAttribute('tabIndex'),afterGuard.dom.removeAttribute('tabIndex');if(this.onTabGuardFocusEnter){if(!activate.hasListeners.focusenter)activate.on('focusenter',this.onTabGuardFocusEnter,this);if(!afterGuard.hasListeners.focusenter)afterGuard.on('focusenter',
this.onTabGuardFocusEnter,this)}}},_noMargin:{'margin-top':'','margin-right':'','margin-bottom':'','margin-left':''},resetItemMargins:function(){for(var items=this.items.items,i=items.length,noMargin=this._noMargin,item;i--;)item=items[i],item.margin$=null,item.el.setStyle(noMargin)},setupRenderTpl:function(renderTpl){Ext.Component.prototype.setupRenderTpl.apply(this,arguments);this.getLayout().setupRenderTpl(renderTpl)}}},0,['container'],['component','box','container'],{component:!0,box:!0,container:!0},
['widget.container'],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable],[Ext.mixin.Container.prototype.mixinId||Ext.mixin.Container.$className,Ext.mixin.Container],[Ext.mixin.FocusableContainer.prototype.mixinId||Ext.mixin.FocusableContainer.$className,Ext.mixin.FocusableContainer]],[Ext.container,'Container',Ext,'Container',Ext,'AbstractContainer'],0);
Ext.cmd.derive('Ext.layout.container.Editor',Ext.layout.container.Container,{autoSizeDefault:{width:'field',height:'field'},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(item){var key=(item=this.owner.autoSize)&&item.width,policy=this.sizePolicies;policy=
policy[key]||policy.$;key=item&&item.height;return policy=policy[key]||policy.$},calculate:function(ownerContext){var owner=this.owner,autoSize=owner.autoSize;!0===autoSize&&(autoSize=this.autoSizeDefault);if(autoSize){var fieldWidth=this.getDimension(owner,autoSize.width,'getWidth',owner.width);var fieldHeight=this.getDimension(owner,autoSize.height,'getHeight',owner.height)}ownerContext.childItems[0].setSize(fieldWidth,fieldHeight);ownerContext.setWidth(fieldWidth);ownerContext.setHeight(fieldHeight);
ownerContext.setContentSize(fieldWidth||owner.field.getWidth(),fieldHeight||owner.field.getHeight())},getDimension:function(owner,type,getMethod,ownerSize){switch(type){case 'boundEl':return owner.boundEl[getMethod]();case 'field':break;default:return ownerSize}}},0,0,0,0,['layout.editor'],0,[Ext.layout.container,'Editor'],0);
Ext.cmd.derive('Ext.Editor',Ext.container.Container,{layout:'editor',allowBlur:!0,revertInvalid:!0,value:'',alignment:'c-c?',offsets:[0,0],shadow:'frame',constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,baseCls:'x-editor',editing:!1,preventDefaultAlign:!0,useBoundValue:!0,specialKeyDelay:1,initComponent:function(){var field=this.field=Ext.ComponentManager.create(this.field||{},'textfield');field.msgTarget=field.msgTarget||'qtip';this.mon(field,{scope:this,
specialkey:this.onSpecialKey});field.grow&&this.mon(field,'autosize',this.onFieldAutosize,this,{delay:1});this.floating={constrain:this.constrain};this.items=field;Ext.container.Container.prototype.initComponent.call(this)},onAdded:function(container){this.ownerCmp=container},onFieldAutosize:function(){this.updateLayout()},afterRender:function(ct,position){var inputEl=this.field.inputEl;Ext.container.Container.prototype.afterRender.apply(this,arguments);inputEl&&(inputEl.dom.name='',this.swallowKeys&&
inputEl.swallowEvent(['keypress','keydown']))},onSpecialKey:function(field,event){var key=event.getKey(),complete=this.completeOnEnter&&key===event.ENTER;key=this.cancelOnEsc&&key===event.ESC;var task=this.specialKeyTask;if(complete||key)event.stopEvent(),task||(this.specialKeyTask=task=new Ext.util.DelayedTask),task.delay(this.specialKeyDelay,complete?this.completeEdit:this.cancelEdit,this);this.fireEvent('specialkey',this,field,event)},startEdit:function(el,value,doFocus,isResuming){var field=this.field;
isResuming||this.completeEdit(!0);this.boundEl=Ext.get(el);el=this.boundEl.dom;this.useBoundValue&&!Ext.isDefined(value)&&(value=Ext.String.trim(el.textContent||el.innerText||el.innerHTML));!1!==this.fireEvent('beforestartedit',this,this.boundEl,value)&&(this.context&&(value=this.context.value),Ext.suspendLayouts(),this.rendered||(el=this.ownerCt,el=this.renderTo||el&&el.getEl()||Ext.getBody(),Ext.fly(el).position(),this.renderTo=el),this.startValue=value,this.show(),this.realign(!0),isResuming||
(field.suspendEvents(),field.setValue(value),field.resetOriginalValue(),field.resumeEvents()),!1!==doFocus&&(value=Ext.isIE?!0:!1,field.focus(field.selectOnFocus?!0:[Ext.Number.MAX_32BIT_INTEGER],value)),field.autoSize&&field.autoSize(),Ext.resumeLayouts(!0),this.toggleBoundEl(!1),this.editing=!0)},realign:function(autoSize){!0===autoSize&&this.updateLayout();this.alignTo(this.boundEl,this.alignment,this.offsets)},completeEdit:function(remainVisible){var field=this.field,startValue=this.startValue,
cancel=this.context&&this.context.cancel;if(this.editing){field.assertValue&&field.assertValue();var value=this.getValue();if(field.isValid())if(this.ignoreNoChange&&!field.didValueChange(value,startValue))this.onEditComplete(remainVisible);else!1!==this.fireEvent('beforecomplete',this,value,startValue)&&(value=this.getValue(),this.updateEl&&this.boundEl&&this.boundEl.setHtml(value),this.onEditComplete(remainVisible,cancel),this.fireEvent('complete',this,value,startValue));else!1!==this.revertInvalid&&
this.cancelEdit(remainVisible)}},onShow:function(){Ext.container.Container.prototype.onShow.apply(this,arguments);this.fireEvent('startedit',this,this.boundEl,this.startValue)},cancelEdit:function(remainVisible){var startValue=this.startValue,field=this.field;if(this.editing){if(field){var value=this.editedValue=this.getValue();field.suspendEvents();this.setValue(startValue);field.resumeEvents()}this.onEditComplete(remainVisible,!0);this.fireEvent('canceledit',this,value,startValue);delete this.editedValue}},
onEditComplete:function(remainVisible,canceling){this.editing=!1;!0!==remainVisible&&(this.hide(),this.toggleBoundEl(!0))},onFocusLeave:function(e){!0===this.allowBlur&&this.editing&&this.completeEdit();Ext.container.Container.prototype.onFocusLeave.call(this,e)},onHide:function(){var field=this.field;this.editing?this.completeEdit():field.collapse&&field.collapse();Ext.container.Container.prototype.onHide.apply(this,arguments)},getValue:function(){return this.field.getValue()},setValue:function(value){this.field.setValue(value)},
toggleBoundEl:function(visible){!1!==this.hideEl&&this.boundEl.setVisible(visible)},doDestroy:function(){var task=this.specialKeyTask;task&&task.cancel();Ext.destroy(this.field);Ext.container.Container.prototype.doDestroy.call(this)}},0,['editor'],['component','box','container','editor'],{component:!0,box:!0,container:!0,editor:!0},['widget.editor'],0,[Ext,'Editor'],0);
Ext.cmd.derive('Ext.Img',Ext.Component,{autoEl:'img',baseCls:'x-img',config:{src:null,glyph:null},alt:'',title:'',imgCls:'',maskOnDisable:!1,applySrc:function(src){return src&&Ext.resolveResource(src)},getElConfig:function(){var autoEl=this.autoEl,config=Ext.Component.prototype.getElConfig.call(this),glyph=this.glyph,img;glyph?(config.tag='div',config.html=glyph.character,config.style=config.style||{},config.style.fontFamily=glyph.fontFamily,config.role='img'):'img'===autoEl||Ext.isObject(autoEl)&&
'img'===autoEl.tag?img=config:config.cn=[img={tag:'img',id:this.id+'-img'}];img&&(this.imgCls&&(img.cls=(img.cls?img.cls+' ':'')+this.imgCls),img.src=this.src||Ext.BLANK_IMAGE_URL);(img||config).alt=this.alt?this.alt:'';this.title&&((img||config).title=this.title);return config},onRender:function(){var autoEl=this.autoEl;Ext.Component.prototype.onRender.apply(this,arguments);var el=this.el;'img'===autoEl||Ext.isObject(autoEl)&&'img'===autoEl.tag?this.imgEl=el:this.imgEl=el.getById(this.id+'-img')},
doDestroy:function(){var imgEl=this.imgEl;imgEl&&this.el!==imgEl&&imgEl.destroy();this.imgEl=null;Ext.Component.prototype.doDestroy.call(this)},getTitle:function(){return this.title},setTitle:function(title){var imgEl=this.imgEl;this.title=title||'';imgEl&&(imgEl.dom.title=title||'')},afterComponentLayout:function(width,height,oldWidth,oldHeight){var heightModel=this.getSizeModel().height;(heightModel.calculated||heightModel.configured)&&height&&this.glyph&&(heightModel=height+'px',this.setStyle({'line-height':heightModel,
'font-size':heightModel}));Ext.Component.prototype.afterComponentLayout.call(this,width,height,oldWidth,oldHeight)},getAlt:function(){return this.alt},setAlt:function(alt){var imgEl=this.imgEl;this.alt=alt||'';imgEl&&(imgEl.dom.alt=alt||'')},_naturalSize:null,getNaturalSize:function(){var img=this.imgEl,naturalSize=this._naturalSize,w;if(img&&!naturalSize){img=img.dom;this._naturalSize=naturalSize={width:w=img.naturalWidth,height:img.naturalHeight};if(!w){var style=img.style;w=style.width;var h=style.height;
style.width=style.height='auto';naturalSize.width=img.width;naturalSize.height=img.height;style.width=w;style.height=h}naturalSize.aspect=naturalSize.width/naturalSize.height}return naturalSize},updateSrc:function(src){var imgEl=this.imgEl;imgEl&&(imgEl.dom.src=src||Ext.BLANK_IMAGE_URL)},applyGlyph:function(glyph,oldGlyph){glyph&&(glyph.isGlyph||(glyph=new Ext.Glyph(glyph)),glyph.isEqual(oldGlyph)&&(glyph=void 0));return glyph},updateGlyph:function(glyph,oldGlyph){if(oldGlyph=this.el)oldGlyph.dom.innerHTML=
glyph.character,oldGlyph.setStyle(glyph.getStyle())}},0,['image','imagecomponent'],['component','box','image','imagecomponent'],{component:!0,box:!0,image:!0,imagecomponent:!0},['widget.image','widget.imagecomponent'],0,[Ext,'Img'],0);
Ext.cmd.derive('Ext.util.StoreHolder',Ext.Base,{mixinId:'storeholder',autoDestroyBoundStore:!1,bindStore:function(store,initial,propertyName){propertyName=propertyName||'store';var oldStore=initial?null:this[propertyName];if(store!==oldStore){if(oldStore){if(!this.onUnbindStore.$emptyFn)this.onUnbindStore(oldStore,initial,propertyName);oldStore.destroyed||(this.autoDestroyBoundStore&&'store'===propertyName&&oldStore.autoDestroy?oldStore.destroy():this.unbindStoreListeners(oldStore))}if(store){if(this[propertyName]=
store=Ext.data.StoreManager.lookup(store),this.bindStoreListeners(store),!this.onBindStore.$emptyFn)this.onBindStore(store,oldStore,initial)}else this[propertyName]=null;this.fireEvent&&this.fireEvent('storechange',this,store,oldStore)}return this},getStore:function(){return this.store},setStore:function(store){this.bindStore(store)},unbindStoreListeners:function(store){var listeners=this.storeListeners;listeners&&store.un(listeners)},bindStoreListeners:function(store){var listeners=this.getStoreListeners(store);
listeners&&(listeners=Ext.apply({},listeners),listeners.scope||(listeners.scope=this),this.storeListeners=listeners,store.on(listeners))},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,'StoreHolder'],0);
Ext.cmd.derive('Ext.LoadMask',Ext.Component,{isLoadMask:!0,msg:'Loading...',msgCls:'x-mask-loading',msgWrapCls:'x-mask-msg',useMsg:!0,useTargetEl:!1,cls:'x-mask',componentCls:'x-border-box',ariaRole:'progressbar',focusable:!0,tabIndex:0,childEls:['msgWrapEl','msgEl','msgTextEl'],renderTpl:'\x3cdiv id\x3d"{id}-msgWrapEl" data-ref\x3d"msgWrapEl" class\x3d"{[values.$comp.msgWrapCls]}" role\x3d"presentation"\x3e;\x3cdiv id\x3d"{id}-msgEl" data-ref\x3d"msgEl" class\x3d"{[values.$comp.msgCls]} ;x-;mask-msg-inner {childElCls}" role\x3d"presentation"\x3e;\x3cdiv id\x3d"{id}-msgTextEl" data-ref\x3d"msgTextEl" class\x3d";x-;mask-msg-text;{childElCls}" role\x3d"presentation"\x3e{msg}\x3c/div\x3e;\x3c/div\x3e;\x3c/div\x3e'.split(';'),
maskOnDisable:!1,skipLayout:!0,constructor:function(config){if(2===arguments.length){var comp=this.target=config;config=arguments[1]}else comp=config.target;Ext.Component.prototype.constructor.call(this,config);comp.isComponent?(this.ownerCt=comp,this.hidden=!0,this.renderTo=this.getMaskTarget(),this.external=this.renderTo===Ext.getBody(),this.bindComponent(comp)):(Ext.get(comp),this.isElement=!0,this.renderTo=this.target);this.render(this.renderTo);this.store&&this.bindStore(this.store,!0)},initRenderData:function(){var result=
Ext.Component.prototype.initRenderData.apply(this,arguments);result.msg=this.msg||'';return result},onRender:function(){Ext.Component.prototype.onRender.apply(this,arguments);this.maskEl=this.el},bindComponent:function(comp){var listeners={scope:this,resize:this.sizeMask};if(this.external)if(listeners.added=this.onComponentAdded,listeners.removed=this.onComponentRemoved,comp.floating)listeners.move=this.sizeMask,this.activeOwner=comp;else if(comp.ownerCt)this.onComponentAdded(comp.ownerCt);this.mon(comp,
listeners);this.external&&this.mon(Ext.GlobalEvents,{show:this.onContainerShow,hide:this.onContainerHide,expand:this.onContainerExpand,collapse:this.onContainerCollapse,scope:this})},onComponentAdded:function(owner){delete this.activeOwner;this.floatParent=owner;owner.floating||(owner=owner.up('[floating]'));owner?(this.activeOwner=owner,this.mon(owner,'move',this.sizeMask,this),this.mon(owner,'tofront',this.onOwnerToFront,this)):this.preventBringToFront=!0;owner=this.floatParent.ownerCt;this.rendered&&
this.isVisible()&&owner&&(this.floatOwner=owner,this.mon(owner,'afterlayout',this.sizeMask,this,{single:!0}))},onComponentRemoved:function(owner){owner=this.activeOwner;var floatOwner=this.floatOwner;owner&&(this.mun(owner,'move',this.sizeMask,this),this.mun(owner,'tofront',this.onOwnerToFront,this));floatOwner&&this.mun(floatOwner,'afterlayout',this.sizeMask,this);delete this.activeOwner;delete this.floatOwner},afterRender:function(){Ext.Component.prototype.afterRender.apply(this,arguments);if(Ext.isIE)this.el.on('mousedown',
this.onMouseDown,this);this.el.skipGarbageCollection=!0},onMouseDown:function(e){var el=this.el;e.within(el)&&(e.preventDefault(),el.focus())},onOwnerToFront:function(owner,zIndex){this.el.setStyle('zIndex',zIndex+1)},onContainerShow:function(container){if(!this.isHierarchicallyHidden())this.onComponentShow()},onContainerHide:function(container){if(this.isHierarchicallyHidden())this.onComponentHide()},onContainerExpand:function(container){if(!this.isHierarchicallyHidden())this.onComponentShow()},
onContainerCollapse:function(container){if(this.isHierarchicallyHidden())this.onComponentHide()},onComponentHide:function(){this.rendered&&this.isVisible()&&(this.hide(),this.showNext=!0)},onComponentShow:function(){this.showNext&&this.show();delete this.showNext},sizeMask:function(){var target=this.activeOwner||this.target,boxTarget=this.external?this.getOwner().el:this.getMaskTarget();if(this.rendered&&this.isVisible()){if(this.external){if(!this.isElement&&target.floating){var zIndex=target.el.getZIndex();
if(!isNaN(zIndex))this.onOwnerToFront(target,zIndex)}this.el.setSize(boxTarget.getSize()).alignTo(boxTarget,'tl-tl')}this.msgWrapEl.center(this.el)}},bindStore:function(store,initial){Ext.destroy(this.proxyListeners);this.mixins.storeholder.bindStore.apply(this,arguments);if(store=this.store){for(;store.getSource;)store=store.getSource();store.loadsSynchronously()||(this.proxyListeners=store.getProxy().on({exception:this.onLoad,scope:this,destroyable:!0}));if(store.isLoading())this.onBeforeLoad()}},
getStoreListeners:function(store){var onLoad=this.onLoad,beforeLoad=this.onBeforeLoad,result={cachemiss:beforeLoad,cachefilled:{fn:onLoad,buffer:100}};store.loadsSynchronously()||(result.beforeload=beforeLoad,result.load=onLoad);return result},onDisable:function(){Ext.Component.prototype.onDisable.apply(this,arguments);if(this.loading)this.onLoad()},getOwner:function(){return this.ownerCt||this.ownerCmp||this.floatParent},getMaskTarget:function(){var owner=this.getOwner();return this.isElement?this.target:
this.useTargetEl?owner.getTargetEl():owner.getMaskTarget()||Ext.getBody()},onBeforeLoad:function(){var me=this,owner=me.getOwner();if(!me.disabled)if(me.loading=!0,owner.componentLayoutCounter)me.maybeShow();else{var origin=owner.afterComponentLayout;owner.afterComponentLayout=function(){owner.afterComponentLayout=origin;origin.apply(owner,arguments);me.maybeShow()}}},maybeShow:function(){var owner=this.getOwner();!owner.isVisible(!0)||this.isComponent&&!owner.el.isVisible(!0)?this.showNext=!0:this.loading&&
owner.rendered&&this.show()},hide:function(){var ownerCt=this.ownerCt;this.target.removeCls('x-masked');if(this.isElement)ownerCt.unmask(),this.fireEvent('hide',this);else return ownerCt&&ownerCt.updateMaskState(!1,this),delete this.showNext,Ext.Component.prototype.hide.apply(this,arguments)},show:function(){this.target.addCls('x-masked');if(this.isElement)this.ownerCt.mask(this.useMsg?this.msg:'',this.msgCls),this.fireEvent('show',this);else return Ext.Component.prototype.show.apply(this,arguments)},
afterShow:function(){var ownerCt=this.ownerCt;this.loading=!0;Ext.Component.prototype.afterShow.apply(this,arguments);ownerCt.updateMaskState(!0,this);this.el.restoreTabbableState();this.syncMaskState()},syncMaskState:function(){var ownerCt=this.ownerCt,el=this.el;this.isVisible()&&(this.hasOwnProperty('msgWrapCls')&&(el.dom.className=this.msgWrapCls),this.useMsg?(this.msgTextEl.setHtml(this.msg),this.ariaEl.dom.setAttribute('aria-valuetext',this.msg)):this.msgWrapEl.hide(),this.shim||Ext.useShims?
el.enableShim(null,!0):el.disableShim(),ownerCt.el.contains(Ext.Element.getActiveElement())&&this.focus(),this.sizeMask())},onLoad:function(){this.loading=!1;this.hide()},doDestroy:function(){this.ownerCt=null;this.bindStore(null);this.isElement&&this.ownerCt.unmask();Ext.Component.prototype.doDestroy.call(this)}},1,['loadmask'],['component','box','loadmask'],{component:!0,box:!0,loadmask:!0},['widget.loadmask'],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],
[Ext,'LoadMask'],0);
Ext.cmd.derive('Ext.layout.component.Component',Ext.layout.Layout,{type:'component',isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,widthCache:{},heightCache:{},beginLayoutCycle:function(ownerContext,firstCycle){var owner=this.owner,ownerCtContext=ownerContext.ownerCtContext,heightModel=ownerContext.heightModel,widthModel=ownerContext.widthModel,body=owner.el.dom===document.body,lastBox=owner.lastBox||this.nullBox,lastSize=owner.el.lastBox||this.nullBox,
dirty=!body,isTopLevel=ownerContext.isTopLevel,scroller;Ext.layout.Layout.prototype.beginLayoutCycle.call(this,ownerContext,firstCycle);firstCycle&&((scroller=owner.getScrollable&&owner.getScrollable())&&scroller.flushOnDomScrollEnd(),this.usesContentWidth&&++ownerContext.consumersContentWidth,this.usesContentHeight&&++ownerContext.consumersContentHeight,this.usesWidth&&++ownerContext.consumersWidth,this.usesHeight&&++ownerContext.consumersHeight,ownerCtContext&&!ownerCtContext.hasRawContent&&(ownerCtContext=
owner.ownerLayout))&&(ownerCtContext.usesWidth&&++ownerContext.consumersWidth,ownerCtContext.usesHeight&&++ownerContext.consumersHeight);widthModel.configured?(ownerCtContext=owner[widthModel.names.width],isTopLevel&&widthModel.calculatedFrom&&(ownerCtContext=lastBox.width),body||(dirty=this.setWidthInDom||(firstCycle?ownerCtContext!==lastSize.width:widthModel.constrained)),ownerContext.setWidth(ownerCtContext,dirty)):isTopLevel&&(widthModel.calculated?(widthModel=lastBox.width,ownerContext.setWidth(widthModel,
widthModel!==lastSize.width)):widthModel.calculatedFromNatural&&(owner.el.dom.style.width=owner.width),widthModel=lastBox.x,ownerContext.setProp('x',widthModel,widthModel!==lastSize.x));heightModel.configured?(owner=owner[heightModel.names.height],isTopLevel&&heightModel.calculatedFrom&&(owner=lastBox.height),body||(dirty=firstCycle?owner!==lastSize.height:heightModel.constrained),ownerContext.setHeight(owner,dirty)):isTopLevel&&(heightModel.calculated?(widthModel=lastBox.height,ownerContext.setHeight(widthModel,
widthModel!==lastSize.height)):heightModel.calculatedFromNatural&&(owner.el.dom.style.height=owner.height),widthModel=lastBox.y,ownerContext.setProp('y',widthModel,widthModel!==lastSize.y))},finishedLayout:function(ownerContext){var elementChildren=ownerContext.children,owner=this.owner,i;if(elementChildren){var len=elementChildren.length;for(i=0;i<len;i++){var elContext=elementChildren[i];elContext.el.lastBox=elContext.props}}ownerContext.previousSize=this.lastComponentSize;this.lastComponentSize=
owner.el.lastBox=elementChildren=ownerContext.props;owner=owner.lastBox||(owner.lastBox={});owner.x=elementChildren.x;owner.y=elementChildren.y;owner.width=elementChildren.width;owner.height=elementChildren.height;owner.invalid=!1;Ext.layout.Layout.prototype.finishedLayout.call(this,ownerContext)},notifyOwner:function(ownerContext){var currentSize=this.lastComponentSize;ownerContext=ownerContext.previousSize;this.owner.afterComponentLayout(currentSize.width,currentSize.height,ownerContext?ownerContext.width:
void 0,ownerContext?ownerContext.height:void 0)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(ownerContext){var targetInfo=this.targetInfo;targetInfo||(ownerContext=ownerContext.getEl('getTarget',this),this.targetInfo=targetInfo={padding:ownerContext.getPaddingInfo(),border:ownerContext.getBorderInfo()});return targetInfo},measureAutoDimensions:function(ownerContext,dimensions){var owner=this.owner,containerLayout=owner.layout,
heightModel=ownerContext.heightModel,widthModel=ownerContext.widthModel,boxParent=ownerContext.boxParent,isBoxParent=ownerContext.isBoxParent,target=ownerContext.target,props=ownerContext.props,isContainer,ret={gotWidth:!1,gotHeight:!1,isContainer:isContainer=!ownerContext.hasRawContent},hv=dimensions||3,got=dimensions=0;if(widthModel.shrinkWrap&&ownerContext.consumersContentWidth){++dimensions;var zeroWidth=!(hv&1);if(isContainer)zeroWidth?(ret.contentWidth=0,ret.gotWidth=!0,++got):void 0!==(ret.contentWidth=
ownerContext.getProp('contentWidth'))&&(ret.gotWidth=!0,++got);else{var ready=props.contentWidth;if('number'===typeof ready)ret.contentWidth=ready,ret.gotWidth=!0,++got;else if(ready=zeroWidth?!0:ownerContext.hasDomProp('containerChildrenSizeDone')?isBoxParent||!boxParent||boxParent.widthModel.shrinkWrap?!0:boxParent.hasDomProp('width'):!1)zeroWidth?zeroWidth=0:containerLayout&&containerLayout.measureContentWidth?zeroWidth=containerLayout.measureContentWidth(ownerContext):target.cacheWidth?(zeroWidth=
target.xtype+'-'+target.ui,ready=this.widthCache,zeroWidth=ready[zeroWidth]||(ready[zeroWidth]=this.measureContentWidth(ownerContext))):zeroWidth=this.measureContentWidth(ownerContext),isNaN(ret.contentWidth=zeroWidth)||(ownerContext.setContentWidth(zeroWidth,!0),ret.gotWidth=!0,++got)}}else widthModel.natural&&ownerContext.consumersWidth&&(++dimensions,ready=props.width,'number'===typeof ready?(ret.width=ready,ret.gotWidth=!0,++got):(ready=isBoxParent||!boxParent?!0:boxParent.hasDomProp('width'))&&
!isNaN(ret.width=this.measureOwnerWidth(ownerContext))&&(zeroWidth=!(!target.minWidth&&!target.maxWidth||'number'===typeof target.width),ownerContext.setWidth(ret.width,zeroWidth),ret.gotWidth=!0,++got));if(heightModel.shrinkWrap&&ownerContext.consumersContentHeight)if(++dimensions,heightModel=!(hv&2),isContainer)heightModel?(ret.contentHeight=0,ret.gotHeight=!0,++got):void 0!==(ret.contentHeight=ownerContext.getProp('contentHeight'))&&(ret.gotHeight=!0,++got);else if(ready=props.contentHeight,'number'===
typeof ready)ret.contentHeight=ready,ret.gotHeight=!0,++got;else{if(ready=heightModel?!0:ownerContext.hasDomProp('containerChildrenSizeDone')?owner.noWrap?!0:widthModel.shrinkWrap?isBoxParent||!boxParent||boxParent.widthModel.shrinkWrap?!0:boxParent.hasDomProp('width'):(ownerContext.bodyContext||ownerContext).hasDomProp('width'):!1)heightModel?zeroWidth=0:containerLayout&&containerLayout.measureContentHeight?zeroWidth=containerLayout.measureContentHeight(ownerContext):target.cacheHeight?(zeroWidth=
target.xtype+'-'+target.ui,ready=this.heightCache,zeroWidth=ready[zeroWidth]||(ready[zeroWidth]=this.measureContentHeight(ownerContext))):zeroWidth=this.measureContentHeight(ownerContext),isNaN(ret.contentHeight=zeroWidth)||(ownerContext.setContentHeight(zeroWidth,!0),ret.gotHeight=!0,++got)}else heightModel.natural&&ownerContext.consumersHeight&&(++dimensions,ready=props.height,'number'===typeof ready?(ret.height=ready,ret.gotHeight=!0,++got):(ready=isBoxParent||!boxParent?!0:boxParent.hasDomProp('width'))&&
!isNaN(ret.height=this.measureOwnerHeight(ownerContext))&&(zeroWidth=!(!target.minHeight&&!target.maxHeight||'number'===typeof target.height),ownerContext.setHeight(ret.height,zeroWidth),ret.gotHeight=!0,++got));if(boxParent)ownerContext.onBoxMeasured();ret.gotAll=got===dimensions;return ret},measureContentWidth:function(ownerContext){return ownerContext.el.getWidth()-ownerContext.getFrameInfo().width},measureContentHeight:function(ownerContext){return ownerContext.el.getHeight()-ownerContext.getFrameInfo().height},
measureOwnerHeight:function(ownerContext){return ownerContext.el.getHeight()},measureOwnerWidth:function(ownerContext){return ownerContext.el.getWidth()}},0,0,0,0,0,0,[Ext.layout.component,'Component'],0);
Ext.cmd.derive('Ext.layout.component.Auto',Ext.layout.component.Component,{type:'autocomponent',setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(ownerContext,firstCycle){var lastWidthModel=this.lastWidthModel,lastHeightModel=this.lastHeightModel,el=this.owner.el;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);lastWidthModel&&lastWidthModel.fixed&&ownerContext.widthModel.shrinkWrap&&el.setWidth(null);lastHeightModel&&
lastHeightModel.fixed&&ownerContext.heightModel.shrinkWrap&&el.setHeight(null)},calculate:function(ownerContext){var measurement=this.measureAutoDimensions(ownerContext),heightModel=ownerContext.heightModel,widthModel=ownerContext.widthModel;measurement.gotWidth?widthModel.shrinkWrap?this.publishOwnerWidth(ownerContext,measurement.contentWidth):this.publishInnerWidth&&this.publishInnerWidth(ownerContext,measurement.width):!widthModel.auto&&this.publishInnerWidth&&(widthModel=this.waitForOuterWidthInDom?
ownerContext.getDomProp('width'):ownerContext.getProp('width'),void 0===widthModel?this.done=!1:this.publishInnerWidth(ownerContext,widthModel));measurement.gotHeight?heightModel.shrinkWrap?this.publishOwnerHeight(ownerContext,measurement.contentHeight):this.publishInnerHeight&&this.publishInnerHeight(ownerContext,measurement.height):!heightModel.auto&&this.publishInnerHeight&&(heightModel=this.waitForOuterHeightInDom?ownerContext.getDomProp('height'):ownerContext.getProp('height'),void 0===heightModel?
this.done=!1:this.publishInnerHeight(ownerContext,heightModel));measurement.gotAll||(this.done=!1)},calculateOwnerHeightFromContentHeight:function(ownerContext,contentHeight){return contentHeight+ownerContext.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(ownerContext,contentWidth){return contentWidth+ownerContext.getFrameInfo().width},publishOwnerHeight:function(ownerContext,contentHeight){var owner=this.owner;contentHeight=this.calculateOwnerHeightFromContentHeight(ownerContext,
contentHeight);if(isNaN(contentHeight))this.done=!1;else{owner=Ext.Number.constrain(contentHeight,owner.minHeight,owner.maxHeight);if(owner===contentHeight)var dirty=this.setHeightInDom;else{var heightModel=this.sizeModels[owner<contentHeight?'constrainedMax':'constrainedMin'];contentHeight=owner;ownerContext.heightModel.calculatedFromShrinkWrap?ownerContext.heightModel=heightModel:ownerContext.invalidate({heightModel})}ownerContext.setHeight(contentHeight,dirty)}},publishOwnerWidth:function(ownerContext,
contentWidth){var owner=this.owner;contentWidth=this.calculateOwnerWidthFromContentWidth(ownerContext,contentWidth);if(isNaN(contentWidth))this.done=!1;else{owner=Ext.Number.constrain(contentWidth,owner.minWidth,owner.maxWidth);if(owner===contentWidth)var dirty=this.setWidthInDom;else{var widthModel=this.sizeModels[owner<contentWidth?'constrainedMax':'constrainedMin'];contentWidth=owner;ownerContext.widthModel.calculatedFromShrinkWrap?ownerContext.widthModel=widthModel:ownerContext.invalidate({widthModel})}ownerContext.setWidth(contentWidth,
dirty)}}},0,0,0,0,['layout.autocomponent'],0,[Ext.layout.component,'Auto'],0);
Ext.cmd.derive('Ext.layout.component.ProgressBar',Ext.layout.component.Auto,{type:'progressbar',beginLayout:function(ownerContext){var i;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);if(!ownerContext.textEls){var textEls=this.owner.textEl;if(textEls.isComposite)for(ownerContext.textEls=[],textEls=textEls.elements,i=textEls.length;i--;)ownerContext.textEls[i]=ownerContext.getEl(Ext.get(textEls[i]));else ownerContext.textEls=[ownerContext.getEl('textEl')]}},calculate:function(ownerContext){var i,
width;Ext.layout.component.Auto.prototype.calculate.apply(this,arguments);if(Ext.isNumber(width=ownerContext.getProp('width'))){width-=ownerContext.getBorderInfo().width;var textEls=ownerContext.textEls;for(i=textEls.length;i--;)textEls[i].setWidth(width)}else this.done=!1}},0,0,0,0,['layout.progressbar'],0,[Ext.layout.component,'ProgressBar'],0);
Ext.cmd.derive('Ext.ProgressBar',Ext.Component,{baseCls:'x-progress',animate:!1,text:'',waitTimer:null,childEls:['bar'],defaultBindProperty:'value',renderTpl:'\x3ctpl if\x3d"internalText"\x3e;\x3cdiv class\x3d"{baseCls}-text {baseCls}-text-back" role\x3d"presentation"\x3e{text}\x3c/div\x3e;\x3c/tpl\x3e;\x3cdiv id\x3d"{id}-bar" data-ref\x3d"bar" class\x3d"{baseCls}-bar {baseCls}-bar-{ui}" role\x3d"presentation" style\x3d"width:{percentage}%"\x3e;\x3ctpl if\x3d"internalText"\x3e;\x3cdiv class\x3d"{baseCls}-text" role\x3d"presentation"\x3e;\x3cdiv role\x3d"presentation"\x3e{text}\x3c/div\x3e;\x3c/div\x3e;\x3c/tpl\x3e;\x3c/div\x3e'.split(';'),componentLayout:'progressbar',
ariaRole:'progressbar',focusable:!0,tabIndex:0,autoEl:{'aria-valuemin':'0','aria-valuenow':'0','aria-valuemax':'100'},initRenderData:function(){var value=this.value||0;var data=Ext.Component.prototype.initRenderData.call(this);return Ext.apply(data,{internalText:!this.hasOwnProperty('textEl'),text:this.text||Math.round(100*value)+'%',percentage:100*value})},onRender:function(){Ext.Component.prototype.onRender.apply(this,arguments);this.textEl?(this.textEl=Ext.get(this.textEl),this.updateText(this.text)):
this.textEl=this.el.select('.'+this.baseCls+'-text')},afterRender:function(){Ext.Component.prototype.afterRender.apply(this,arguments);this.text&&this.ariaEl.dom.setAttribute('aria-valuetext',this.text)},updateValue:function(value){this.updateProgress(value)},updateProgress:function(value,text,animate){var oldValue=this.value,textTpl=this.getTextTpl();this.value=(value=value||0)||(value=0);null!=text?(this.autoText=!1,this.updateText(text)):textTpl?(this.autoText=!1,this.updateText(textTpl.apply({value,
percent:100*value}))):this.text||!1===this.autoText?this.text&&this.ariaEl.dom&&this.ariaEl.dom.removeAttribute('aria-valuetext'):(this.autoText=!0,this.updateText(Math.round(100*value)+'%'));this.rendered&&!this.destroyed&&(!0===animate||!1!==animate&&this.animate?(this.bar.stopAnimation(),this.bar.animate(Ext.apply({from:{width:100*oldValue+'%'},to:{width:100*value+'%'}},this.animate))):this.bar.setStyle('width',100*value+'%'),this.ariaEl.dom.setAttribute('aria-valuenow',Math.round(100*value)));
this.fireEvent('update',this,value,text);return this},updateText:function(text){this.autoText||(this.text=text);this.rendered&&(this.textEl.setHtml(text),this.autoText?this.ariaEl.dom.removeAttribute('aria-valuetext'):this.ariaEl.dom.setAttribute('aria-valuetext',text));return this},applyText:function(text){this.updateText(text)},getText:function(){return this.text},wait:function(config){var me=this;me.waitTimer||(config=config||{},null!=config.text&&(me.autoText=!1),me.updateText(config.text),me.waitTimer=
Ext.TaskManager.start({run:function(i){var inc=config.increment||10;me.updateProgress(100/inc*((i-1+inc)%inc+1)*.01,null,config.animate)},interval:config.interval||1E3,duration:config.duration,onStop:function(){config.fn&&config.fn.apply(config.scope||me);me.reset()},scope:me}));return me},isWaiting:function(){return null!==this.waitTimer},reset:function(hide){this.updateProgress(0);this.clearTimer();!0===hide&&this.hide();this.rendered&&this.ariaEl.dom.removeAttribute('aria-valuetext');return this},
clearTimer:function(){this.waitTimer&&(this.waitTimer.onStop=null,Ext.TaskManager.stop(this.waitTimer),this.waitTimer=null)},doDestroy:function(){var bar=this.bar,len;this.clearTimer();if(this.rendered){if(this.textEl.isComposite){var nodes=this.textEl.slice();var i=0;for(len=nodes.length;i<len;i++){var el=Ext.get(nodes[i]);el.destroy()}}Ext.destroyMembers(this,'textEl','progressBar');bar&&this.animate&&bar.stopAnimation()}Ext.Component.prototype.doDestroy.call(this)}},0,['progressbar'],['component',
'box','progressbar'],{component:!0,box:!0,progressbar:!0},['widget.progressbar'],[[Ext.ProgressBase.prototype.mixinId||Ext.ProgressBase.$className,Ext.ProgressBase]],[Ext,'ProgressBar'],0);
Ext.cmd.derive('Ext.dom.ButtonElement',Ext.dom.Element,{setSize:function(width,height,animate){var component=this.component;Ext.dom.Element.prototype.setSize.call(this,width,height,animate);component.btnWrap.setStyle('table-layout',width&&'auto'!==width?'fixed':'');component.btnEl.setStyle('height',height&&'auto'!==height?'auto':'');return this},setStyle:function(prop,value){var component=this.component;Ext.dom.Element.prototype.setStyle.call(this,prop,value);if(prop){if('width'===prop||'string'!==
typeof prop&&'width'in prop){var width=value||prop.width;component.btnWrap.setStyle('table-layout',width&&'auto'!==width?'fixed':'')}if('height'===prop||'string'!==typeof prop&&'height'in prop)prop=value||prop.height,component.btnEl.setStyle('height',prop&&'auto'!==prop?'auto':'')}return this},setHeight:function(height,animate){Ext.dom.Element.prototype.setHeight.call(this,height,animate);this.component.btnEl.setStyle('height',height&&'auto'!==height?'auto':'');return this},setWidth:function(width,
animate){Ext.dom.Element.prototype.setWidth.call(this,width,animate);this.component.btnWrap.setStyle('table-layout',width&&'auto'!==width?'fixed':'');return this}},0,0,0,0,0,0,[Ext.dom,'ButtonElement'],0);
Ext.cmd.derive('Ext.button.Manager',Ext.Base,{singleton:!0,alternateClassName:'Ext.ButtonToggleManager',groups:{},pressedButton:null,init:function(){this.initialized||(Ext.getDoc().on({mouseup:this.onDocumentMouseUp,scope:this}),this.initialized=!0)},onButtonMousedown:function(button,e){var pressed=this.pressedButton;if(pressed&&!pressed.destroying&&!pressed.destroyed)pressed.onMouseUp(e);this.pressedButton=button},onDocumentMouseUp:function(e){var pressed=this.pressedButton;!pressed||pressed.destroying||
pressed.destroyed||(pressed.onMouseUp(e),this.pressedButton=null)},toggleGroup:function(btn,state){var length;if(state){state=this.groups[btn.toggleGroup];var i=0;for(length=state.length;i<length;i++)state[i]!==btn&&state[i].toggle(!1)}},register:function(btn){var groups=this.groups,group=groups[btn.toggleGroup];this.init();btn.toggleGroup&&(group||(group=groups[btn.toggleGroup]=[]),group.push(btn),btn.on('toggle',this.toggleGroup,this))},unregister:function(btn){if(btn.toggleGroup){var group=this.groups[btn.toggleGroup];
group&&(Ext.Array.remove(group,btn),btn.un('toggle',this.toggleGroup,this))}},getPressed:function(groupName){groupName=this.groups[groupName];var i=0,len;if(groupName)for(len=groupName.length;i<len;i++)if(!0===groupName[i].pressed)return groupName[i];return null}},0,0,0,0,0,0,[Ext.button,'Manager',Ext,'ButtonToggleManager'],0);
Ext.cmd.derive('Ext.menu.Manager',Ext.Base,{singleton:!0,alternateClassName:'Ext.menu.MenuMgr',groups:{},visible:[],constructor:function(){var me=this;me.onShow=function(){me.registerGlobalListeners();return me.onShow.apply(me,arguments)}},onGlobalScroll:function(scroller){var allMenus=this.visible,len=allMenus.length,scrollerEl=scroller.getElement();if(len&&scroller!==Ext.scroll.Scroller.viewport)for(allMenus=allMenus.slice(),scroller=0;scroller<len;++scroller){var menu=allMenus[scroller];menu.alignOnScroll||
!1===menu.hideOnScroll||menu.owns(scrollerEl)||menu.hide()}},checkActiveMenus:function(e){var allMenus=this.visible,len=allMenus.length,i,mousedownCmp=Ext.Component.from(e);if(len)for(allMenus=allMenus.slice(),i=0;i<len;++i){var menu=allMenus[i];menu.owns(e)||mousedownCmp&&mousedownCmp.isMenuItem&&mousedownCmp.getMenu()===menu||menu.hide()}},onShow:function(menu){menu.floating&&Ext.Array.include(this.visible,menu)},onHide:function(menu){menu.floating&&Ext.Array.remove(this.visible,menu)},hideAll:function(){var allMenus=
this.visible,len=allMenus.length,result=!1,i;if(len)for(allMenus=allMenus.slice(),i=0;i<len;i++)allMenus[i].hide(),result=!0;return result},get:function(menu,config){'string'===typeof menu?(config=Ext.getCmp(menu),config instanceof Ext.menu.Menu&&(menu=config)):Ext.isArray(menu)?(config=Ext.apply({items:menu},config),menu=new Ext.menu.Menu(config)):menu.isComponent||(config=Ext.apply({},menu,config),menu=Ext.ComponentManager.create(config,'menu'));return menu},registerCheckable:function(menuItem){var groups=
this.groups,groupId=menuItem.group;groupId&&(groups[groupId]||(groups[groupId]=[]),groups[groupId].push(menuItem))},unregisterCheckable:function(menuItem){var groups=this.groups,groupId=menuItem.group;groupId&&Ext.Array.remove(groups[groupId],menuItem)},onCheckChange:function(menuItem,state){var groups=this.groups,groupId=menuItem.group,i=0;if(groupId&&state)for(state=groups[groupId],groups=state.length;i<groups;i++)groupId=state[i],groupId!==menuItem&&groupId.setChecked(!1)},registerGlobalListeners:function(){delete this.onShow;
Ext.on({mousedown:this.checkActiveMenus,scroll:this.onGlobalScroll,scope:this})}},1,0,0,0,0,0,[Ext.menu,'Manager',Ext.menu,'MenuMgr'],0);
Ext.cmd.derive('Ext.button.Button',Ext.Component,{alternateClassName:'Ext.Button',config:{iconAlign:'left',text:null,textAlign:'center',arrowVisible:!0,glyph:null},isButton:!0,_syncFrameHeight:!0,liquidLayout:!0,hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:'tl-bl?',showEmptyMenu:!1,clickEvent:'click',preventDefault:!0,handleMouseEvents:!0,tooltipType:'qtip',baseCls:'x-btn',hrefTarget:'_blank',destroyMenu:!0,focusable:!0,ariaRole:'button',keyMap:{scope:'this',SPACE:'onEnterKey',
ENTER:'onEnterKey',DOWN:'onDownKey'},defaultBindProperty:'text',childEls:'btnEl btnWrap btnInnerEl btnIconEl arrowEl tooltipEl'.split(' '),publishes:{pressed:1},_btnWrapCls:'x-btn-wrap',_btnCls:'x-btn-button',_baseIconCls:'x-btn-icon-el',_glyphCls:'x-btn-glyph',_innerCls:'x-btn-inner',_textCls:'x-btn-text',_noTextCls:'x-btn-no-text',_hasIconCls:'x-btn-icon',_pressedCls:'x-btn-pressed',_tooltipCls:'x-btn-tooltip',overCls:'x-btn-over',_disabledCls:'x-btn-disabled',_menuActiveCls:'x-btn-menu-active',
_arrowElCls:'x-btn-arrow-el',_focusCls:'x-btn-focus',_arrowFocusCls:'x-arrow-focus',_arrowOverCls:'x-arrow-over',_arrowPressedCls:'x-arrow-pressed',renderTpl:'\x3cspan id\x3d"{id}-btnWrap" data-ref\x3d"btnWrap" role\x3d"presentation" unselectable\x3d"on" style\x3d"{btnWrapStyle}" class\x3d"{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"\x3e\x3cspan id\x3d"{id}-btnEl" data-ref\x3d"btnEl" role\x3d"presentation" unselectable\x3d"on" style\x3d"{btnElStyle}" class\x3d"{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"\x3e\x3ctpl if\x3d"iconBeforeText"\x3e{[values.$comp.renderIcon(values)]}\x3c/tpl\x3e\x3cspan id\x3d"{id}-btnInnerEl" data-ref\x3d"btnInnerEl" unselectable\x3d"on" class\x3d"{innerCls} {innerCls}-{ui}{childElCls}"\x3e{text}\x3c/span\x3e\x3ctpl if\x3d"!iconBeforeText"\x3e{[values.$comp.renderIcon(values)]}\x3c/tpl\x3e\x3c/span\x3e\x3c/span\x3e{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}\x3ctpl if\x3d"closable"\x3e\x3cspan id\x3d"{id}-closeEl" data-ref\x3d"closeEl" class\x3d"{baseCls}-close-btn"\x3e\x3ctpl if\x3d"closeText"\x3e {closeText}\x3c/tpl\x3e\x3c/span\x3e\x3c/tpl\x3e\x3ctpl if\x3d"split"\x3e\x3cspan id\x3d"{id}-arrowEl" class\x3d"{arrowElCls}" data-ref\x3d"arrowEl" role\x3d"button" hidefocus\x3d"on" unselectable\x3d"on"\x3ctpl if\x3d"tabIndex !\x3d null"\x3e tabindex\x3d"{tabIndex}"\x3c/tpl\x3e\x3ctpl foreach\x3d"arrowElAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e style\x3d"{arrowElStyle}"\x3e{arrowElText}\x3c/span\x3e\x3c/tpl\x3e\x3cdiv id\x3d"{id}-tooltipEl" data-ref\x3d"tooltipEl" role\x3d"presentation" class\x3d"{tooltipCls}"\x3e\x3c/div\x3e',
iconTpl:'\x3cspan id\x3d"{id}-btnIconEl" data-ref\x3d"btnIconEl" role\x3d"presentation" unselectable\x3d"on" class\x3d"{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style\x3d"\x3ctpl if\x3d"iconUrl"\x3ebackground-image:url({iconUrl});\x3c/tpl\x3e\x3ctpl if\x3d"glyph"\x3e\x3ctpl if\x3d"glyphFontFamily"\x3efont-family:{glyphFontFamily};\x3c/tpl\x3e"\x3e{glyph}\x3ctpl else\x3e"\x3e\x3c/tpl\x3e\x3c/span\x3e',scale:'small',allowedScales:['small','medium','large'],arrowAlign:'right',
arrowCls:'arrow',maskOnDisable:!1,shrinkWrap:3,frame:!0,autoEl:{tag:'a',hidefocus:'on',unselectable:'on'},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){this.disabled||this.doNavigate()},doNavigate:function(){'_blank'===this.hrefTarget?window.open(this.getHref(),this.hrefTarget):location.href=this.getHref()},_triggerRegion:{},initComponent:function(){this.addCls('x-unselectable');Ext.Component.prototype.initComponent.call(this);this.menu&&(this.split=!0,
this.setMenu(this.menu,!1,!0));this.url&&(this.href=this.url);this.configuredWithPreventDefault=this.hasOwnProperty('preventDefault');this.href&&!this.configuredWithPreventDefault&&(this.preventDefault=!1);Ext.isString(this.toggleGroup)&&''!==this.toggleGroup&&(this.enableToggle=!0);this.html&&!this.text&&(this.text=this.html,delete this.html)},getElConfig:function(){var config=Ext.Component.prototype.getElConfig.call(this),href=this.getHref(),hrefTarget=this.hrefTarget;'a'===config.tag&&(this.disabled||
(config.tabIndex=this.tabIndex),href&&!this.disabled&&(config.href=href,hrefTarget&&(config.target=hrefTarget)));this.ariaStaticRoles[this.ariaRole]||(this.menu&&!this.isSplitButton&&(config['aria-haspopup']=!0),this.enableToggle&&(config['aria-pressed']=!!this.pressed));return config},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this);this.pressed&&this.addCls(this._pressedCls)},initRenderData:function(){return Ext.apply(Ext.Component.prototype.initRenderData.call(this),this.getTemplateArgs())},
getMenu:function(){return this.menu||null},setMenu:function(menu,destroyMenu,initial){var oldMenu=this.menu,ariaDom=this.isSplitButton?this.arrowEl&&this.arrowEl.dom:this.ariaEl.dom;oldMenu&&!initial&&(!1!==destroyMenu&&this.destroyMenu&&oldMenu.destroy(),oldMenu.ownerCmp=null);if(menu)destroyMenu=menu.isMenu,menu=Ext.menu.Manager.get(menu,{ownerCmp:this}),menu.setOwnerCmp(this,destroyMenu),menu.menuClickBuffer=250,this.mon(menu,{scope:this,show:this.onMenuShow,hide:this.onMenuHide}),!oldMenu&&this.getArrowVisible()&&
(this.split=!0,this.rendered&&(this._addSplitCls(),this.updateLayout())),this.menu=menu,ariaDom?(ariaDom.setAttribute('aria-haspopup',!0),ariaDom.setAttribute('aria-owns',menu.id)):(oldMenu=this.isSplitButton?this.ariaArrowElAttributes||(this.ariaArrowElAttributes={}):this.ariaRenderAttributes||(this.ariaRenderAttributes={}),oldMenu['aria-haspopup']=!0,menu.hidden||(oldMenu['aria-owns']=menu.id));else{if(this.rendered)ariaDom.removeAttribute('aria-haspopup'),ariaDom.removeAttribute('aria-owns'),this._removeSplitCls(),
this.updateLayout();else if(oldMenu=this.isSplitButton?this.ariaArrowElAttributes:this.ariaRenderAttributes)delete oldMenu['aria-haspopup'],delete oldMenu['aria-owns'];this.split=!1;this.menu=null}},onRender:function(){var addOnclick;Ext.Component.prototype.onRender.apply(this,arguments);var btn=this.el;this.tooltip&&this.setTooltip(this.tooltip,!0);if(this.handleMouseEvents){var btnListeners={scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mousedown:this.onMouseDown};this.split&&(btnListeners.mousemove=
this.onMouseMove)}else btnListeners={scope:this};Ext.supports.Touch&&(btnListeners.touchstart=this.onTouchStart);this.repeat?this.mon(new Ext.util.ClickRepeater(btn,Ext.isObject(this.repeat)?this.repeat:{}),'click',this.onRepeatClick,this):btnListeners[this.clickEvent]?addOnclick=!0:btnListeners[this.clickEvent]=this.onClick;this.mon(btn,btnListeners);this.hasFrameTable()&&this.mon(this.frameTable,'click',this.frameTableListener,this);addOnclick&&this.mon(btn,this.clickEvent,this.onClick,this);Ext.button.Manager.register(this)},
onFocusLeave:function(e){Ext.Component.prototype.onFocusLeave.call(this,e);this.menu&&this.menu.hide()},getTemplateArgs:function(){var btnCls=this._btnCls,baseIconCls=this._baseIconCls,iconAlign=this.getIconAlign(),glyph=this.glyph,text=this.text,hasIcon=this._hasIcon(),hasIconCls=this._hasIconCls;if(glyph){var glyphFontFamily=glyph.fontFamily;glyph=glyph.character}return{split:this.isSplitButton,innerCls:this._innerCls,splitCls:this.getArrowVisible()?this.getSplitCls():'',tooltipCls:this._tooltipCls,
iconUrl:this.icon,iconCls:this.iconCls,glyph,glyphCls:glyph?this._glyphCls:'',glyphFontFamily,text:text||'\x26#160;',closeText:this.closeText,textCls:text?this._textCls:'',noTextCls:text?'':this._noTextCls,hasIconCls:hasIcon?hasIconCls:'',btnWrapCls:this._btnWrapCls,btnWrapStyle:this.width?'table-layout:fixed;':'',btnElStyle:this.height?'height:auto;':'',btnCls,baseIconCls,iconBeforeText:'left'===iconAlign||'top'===iconAlign,iconAlignCls:hasIcon?hasIconCls+'-'+iconAlign:'',textAlignCls:btnCls+'-'+
this.getTextAlign(),arrowElCls:this._arrowElCls,arrowElStyle:this.arrowVisible?'':'display:none',tabIndex:this.tabIndex}},renderIcon:function(values){return this.lookupTpl('iconTpl').apply(values)},setHref:function(href){var hrefTarget=this.hrefTarget;this.href=href;this.configuredWithPreventDefault||(this.preventDefault=!href);if(this.rendered){var dom=this.el.dom;!href||this.disabled?(dom.removeAttribute('href'),dom.removeAttribute('hrefTarget')):(dom.href=this.getHref(),hrefTarget&&(dom.target=
hrefTarget))}},getHref:function(){var href=this.href;return href?Ext.urlAppend(href,Ext.Object.toQueryString(Ext.apply({},this.params,this.baseParams))):!1},setParams:function(params){this.params=params;this.rendered&&(params=this.el.dom,this.disabled?params.removeAttribute('href'):params.href=this.getHref()||'')},getSplitCls:function(){return this.split?this.baseCls+'-'+this.arrowCls+' '+(this.baseCls+'-'+this.arrowCls+'-'+this.arrowAlign):''},setIcon:function(icon){var btnIconEl=this.btnIconEl,
oldIcon=this.icon||'';icon=icon||'';this.glyph&&this.setGlyph(null);this.icon=icon;icon!==oldIcon&&(btnIconEl&&(btnIconEl.removeCls(this.iconCls),btnIconEl.setStyle('background-image',icon?'url('+icon+')':''),this._syncHasIconCls(),this.didIconStateChange(oldIcon,icon)&&this.updateLayout()),this.fireEvent('iconchange',this,oldIcon,icon));return this},setIconCls:function(cls){var btnIconEl=this.btnIconEl,oldCls=this.iconCls||'';cls=cls||'';this.glyph&&this.setGlyph(null);this.iconCls=cls;oldCls!==
cls&&(btnIconEl&&(btnIconEl.setStyle('background-image',''),btnIconEl.removeCls(oldCls),btnIconEl.addCls(cls),this._syncHasIconCls(),this.didIconStateChange(oldCls,cls)&&this.updateLayout()),this.fireEvent('iconchange',this,oldCls,cls));return this},applyGlyph:function(glyph,oldGlyph){glyph&&(glyph.isGlyph||(glyph=new Ext.Glyph(glyph)),glyph.isEqual(oldGlyph)&&(glyph=void 0));return glyph},updateGlyph:function(glyph,oldGlyph){var btnIconEl=this.btnIconEl,glyphCls=this._glyphCls;btnIconEl&&(this.icon=
null,btnIconEl.setStyle('background-image',''),glyph?(btnIconEl.dom.innerHTML=glyph.character,btnIconEl.addCls(glyphCls),btnIconEl.setStyle(glyph.getStyle())):(btnIconEl.dom.innerHTML='',btnIconEl.removeCls(glyphCls)),this._syncHasIconCls(),this.didIconStateChange(oldGlyph,glyph)&&this.updateLayout());this.fireEvent('glyphchange',this,glyph&&glyph.glyphConfig,oldGlyph&&oldGlyph.glyphConfig);return this},setTooltip:function(tooltip,initial){var targetEl=this.el;this.rendered?(initial&&tooltip||this.clearTip(),
this.disabled&&(targetEl=this.tooltipEl),tooltip&&(Ext.quickTipsActive&&Ext.isObject(tooltip)?(Ext.tip.QuickTipManager.register(Ext.apply({target:targetEl.id},tooltip)),this.tooltip=tooltip):targetEl.dom.setAttribute(this.getTipAttr(),tooltip),this.currentTooltipEl=targetEl)):this.tooltip=tooltip;return this},updateIconAlign:function(align,oldAlign){if(this.rendered){var btnEl=this.btnEl;var btnIconEl=this.btnIconEl;var hasIconCls=this._hasIconCls;oldAlign&&btnEl.removeCls(hasIconCls+'-'+oldAlign);
btnEl.addCls(hasIconCls+'-'+align);'top'===align||'left'===align?btnEl.insertFirst(btnIconEl):btnEl.appendChild(btnIconEl);this.updateLayout()}},updateTextAlign:function(align,oldAlign){var btnEl=this.btnEl,btnCls=this._btnCls;this.rendered&&(btnEl.removeCls(btnCls+'-'+oldAlign),btnEl.addCls(btnCls+'-'+align))},getTipAttr:function(){return'qtip'===this.tooltipType?'data-qtip':'title'},getRefItems:function(deep){var menu=this.menu,items=[];menu&&(deep&&(items=menu.getRefItems(deep)),items.unshift(menu));
return items},clearTip:function(){var el=this.currentTooltipEl;el&&(this.currentTooltipEl=null,Ext.quickTipsActive&&Ext.isObject(this.tooltip)?Ext.tip.QuickTipManager.unregister(el):el.dom.removeAttribute(this.getTipAttr()))},doDestroy:function(){var menu=this.menu;this.deferFocusTimer&&(Ext.undefer(this.deferFocusTimer),this.deferFocusTimer=null);this.rendered&&this.clearTip();Ext.destroy(this.repeater);menu&&this.destroyMenu&&(this.menu=Ext.destroy(menu));Ext.button.Manager.unregister(this);Ext.Component.prototype.doDestroy.call(this)},
setHandler:function(handler,scope){this.handler=handler;1<arguments.length&&(this.scope=scope);return this},updateText:function(text,oldText){var btnInnerEl=this.btnInnerEl,btnEl=this.btnEl;text=null==text?'':String(text);oldText=oldText||'';this.rendered&&(btnInnerEl.setHtml(text||'\x26#160;'),btnEl[text?'addCls':'removeCls'](this._textCls),btnEl[text?'removeCls':'addCls'](this._noTextCls),this.updateLayout());this.fireEvent('textchange',this,oldText,text)},didIconStateChange:function(old,current){current=
Ext.isEmpty(current);return Ext.isEmpty(old)?!current:current},click:function(e){return this.onClick(e)},setPressed:function(pressed){return this.toggle(!1!==pressed)},toggle:function(state,suppressEvent){var ariaDom=this.ariaEl.dom;if(!this.enableToggle)return this;state=void 0===state?!this.pressed:!!state;!1!==this.fireEvent('beforetoggle',this,state)&&state!==this.pressed&&(this[state?'addCls':'removeCls'](this._pressedCls),this.pressed=state,ariaDom&&ariaDom.setAttribute('aria-pressed',state),
suppressEvent||(this.fireEvent('toggle',this,state),Ext.callback(this.toggleHandler,this.scope,[this,state],0,this),this.publishState&&this.publishState('pressed',state)));return this},maybeShowMenu:function(e){this.menu&&this.showMenu(e)},showMenu:function(clickEvent){var menu=this.menu,isPointerEvent=!clickEvent||clickEvent.pointerType;if(menu&&this.rendered)if(this.tooltip&&Ext.quickTipsActive&&'title'!==this.getTipAttr()&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(this.el),menu.isVisible())isPointerEvent?
menu.hide():menu.focus();else if(!clickEvent||this.showEmptyMenu||0<menu.items.getCount())menu.autoFocus=!isPointerEvent,menu.showBy(this.el,this.menuAlign),(clickEvent=this.isSplitButton?this.arrowEl&&this.arrowEl.dom:this.ariaEl.dom)&&clickEvent.setAttribute('aria-owns',menu.id);return this},hideMenu:function(){this.hasVisibleMenu()&&this.menu.hide();return this},hasVisibleMenu:function(){var menu=this.menu;return menu&&menu.rendered&&menu.isVisible()},onRepeatClick:function(repeat,e){this.onClick(e)},
onTouchStart:function(e){this.disabled&&this.doPreventDefault(e)},onEnterKey:function(e){if(!this.href)return this.onClick(e),e.stopEvent(),!1},onClick:function(e){e&&this.doPreventDefault(e);e&&'keydown'!==e.type&&e.button||this.disabled||(this.doToggle(),this.maybeShowMenu(e),this.fireHandler(e))},doToggle:function(){!1===this.allowDepress&&this.pressed||this.toggle()},doPreventDefault:function(e){e&&(this.preventDefault||this.disabled&&this.getHref())&&e.preventDefault()},fireHandler:function(e){!1===
this.fireEvent('click',this,e)||this.destroyed||Ext.callback(this.handler,this.scope,[this,e],0,this)},onMouseOver:function(e){if(!this.disabled&&!e.within(this.el,!0,!0))this.onMouseEnter(e)},onMouseOut:function(e){if(!e.within(this.el,!0,!0)){if(this.overMenuTrigger)this.onMenuTriggerOut(e);this.onMouseLeave(e)}},onMouseMove:function(e){var over=this.overMenuTrigger;if(this.split)if(this.isWithinTrigger(e)){if(!over)this.onMenuTriggerOver(e)}else if(over)this.onMenuTriggerOut(e)},isWithinTrigger:function(e){var el=
this.el;e='right'===this.arrowAlign?e.getX()-this.getX():e.getY()-el.getY();el=this.getTriggerRegion();return e>el.begin&&e<el.end},getTriggerRegion:function(){var region=this._triggerRegion,isRight='right'===this.arrowAlign,getEnd=isRight?'getRight':'getBottom';isRight=isRight?this.getWidth():this.getHeight();region.begin=isRight-(this.el[getEnd]()-this.btnEl[getEnd]());region.end=isRight;return region},onMouseEnter:function(e){this.fireEvent('mouseover',this,e)},onMouseLeave:function(e){this.fireEvent('mouseout',
this,e)},onMenuTriggerOver:function(e){var arrowTip=this.arrowTooltip;this.overMenuTrigger=!0;this.split&&arrowTip&&this.btnWrap.dom.setAttribute(this.getTipAttr(),arrowTip);this.fireEvent('menutriggerover',this,this.menu,e)},onMenuTriggerOut:function(e){delete this.overMenuTrigger;this.split&&this.arrowTooltip&&this.btnWrap.dom.setAttribute(this.getTipAttr(),'');this.fireEvent('menutriggerout',this,this.menu,e)},onEnable:function(){var href=this.href,hrefTarget=this.hrefTarget,dom=this.el.dom;Ext.Component.prototype.onEnable.call(this);
this.removeCls(this._disabledCls);this.el.setTabIndex(this.tabIndex);this.tooltip&&this.setTooltip(this.tooltip);href&&(dom.href=href);hrefTarget&&(dom.target=hrefTarget)},onDisable:function(){var dom=this.el.dom;Ext.Component.prototype.onDisable.call(this);this.addCls(this._disabledCls);this.removeCls(this.overCls);this.el.setTabIndex(null);this.tooltip&&this.setTooltip(this.tooltip);this.href&&dom.removeAttribute('href');this.hrefTarget&&dom.removeAttribute('target')},setScale:function(scale){var ui=
this.ui.replace('-'+this.scale,'');if(!Ext.Array.contains(this.allowedScales,scale))throw Error('#setScale: scale must be an allowed scale ('+this.allowedScales.join(', ')+')');this.scale=scale;this.setUI(ui)},setUI:function(ui){this.scale&&!ui.match(this.scale)&&(ui=ui+'-'+this.scale);Ext.Component.prototype.setUI.call(this,ui)},onMouseDown:function(e){var me=this;if(Ext.isIE||Ext.isEdge||'touch'===e.pointerType){me.deferFocusTimer&&Ext.undefer(me.deferFocusTimer);var activeEl=Ext.Element.getActiveElement();
me.deferFocusTimer=Ext.defer(function(){var focusEl;me.deferFocusTimer=null;me.destroying||me.destroyed||Ext.Element.getActiveElement()!==activeEl||!me.canFocus()||(focusEl=me.getFocusEl())&&!e.defaultPrevented&&focusEl.focus()},1)}me.disabled||0!==e.button||(Ext.button.Manager.onButtonMousedown(me,e),me.removeCls(me._arrowPressedCls),me.addCls(me._pressedCls))},onMouseUp:function(e){this.destroyed||0!==e.button||this.pressed||this.removeCls(this._pressedCls)},onMenuShow:function(){this.addCls(this._menuActiveCls);
this.fireEvent('menushow',this,this.menu)},onMenuHide:function(e){this.removeCls(this._menuActiveCls);this.fireEvent('menuhide',this,this.menu)},onDownKey:function(e){if(this.menu&&!this.disabled)return this.showMenu(e),e.stopEvent(),!1},updateArrowVisible:function(visible){if(this.rendered)if(visible){if(this.menu||this.isSplitButton)this.split=!0,this._addSplitCls()}else this._removeSplitCls(),this.split=!1;return visible},privates:{elClsMap:{btnWrap:'_btnWrapCls',btnEl:'_btnCls',btnIconEl:'_baseIconCls',
btnInnerEl:'_innerCls'},addUIToElement:function(){Ext.Component.prototype.addUIToElement.call(this);this.updateChildElsUICls(!0)},addOverCls:function(){this.disabled||this.addCls(this.overCls)},_addSplitCls:function(){this.btnWrap.addCls(this.getSplitCls())},getTdCls:function(){return'x-button-'+this.ui+'-'+this.scale+'-cell'},getValue:function(){return this.value},removeUIFromElement:function(){Ext.Component.prototype.removeUIFromElement.call(this);this.updateChildElsUICls(!1)},removeOverCls:function(){this.removeCls(this.overCls)},
_removeSplitCls:function(){this.btnWrap.removeCls(this.getSplitCls())},_syncHasIconCls:function(){var btnEl=this.btnEl,hasIconCls=this._hasIconCls;if(btnEl)btnEl[this._hasIcon()?'addCls':'removeCls']([hasIconCls,hasIconCls+'-'+this.iconAlign])},_hasIcon:function(){return!!(this.icon||this.iconCls||this.glyph)},updateChildElsUICls:function(add){var ui=this.ui;add=add?'addCls':'removeCls';var elClsMap=this.elClsMap,key;for(key in elClsMap){var el=this[key];var mapCls=elClsMap[key];mapCls=this[mapCls];
if(el&&mapCls)el[add](mapCls+'-'+ui)}},wrapPrimaryEl:function(dom){this.el=new Ext.dom.ButtonElement(dom);Ext.Component.prototype.wrapPrimaryEl.call(this,dom)}}},0,['button'],['component','box','button'],{component:!0,box:!0,button:!0},['widget.button'],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.button,'Button',Ext,'Button'],0);Ext.define('Ext.theme.material.button.Button',{override:'Ext.button.Button',ripple:{color:'default'}});
Ext.cmd.derive('Ext.button.Split',Ext.button.Button,{alternateClassName:'Ext.SplitButton',isSplitButton:!0,separateArrowStyling:!1,arrowCls:'split',split:!0,componentCls:'x-split-button',getTemplateArgs:function(){var data=Ext.button.Button.prototype.getTemplateArgs.call(this);this.disabled&&(data.tabIndex=null);var ariaAttr=this.ariaArrowElAttributes||{};ariaAttr['aria-hidden']=!!this.hidden;ariaAttr['aria-disabled']=!!this.disabled;this.arrowTooltip?ariaAttr['aria-label']=this.arrowTooltip:ariaAttr['aria-labelledby']=
this.id;data.arrowElAttributes=ariaAttr;return data},onRender:function(){var el;Ext.button.Button.prototype.onRender.call(this);if(el=this.getFocusEl())el.on({scope:this,focus:this.onMainElFocus,blur:this.onMainElBlur});if(el=this.arrowEl)el.dom.setAttribute('data-componentid',this.id),el.setVisibilityMode(Ext.dom.Element.DISPLAY),el.on({scope:this,focus:this.onArrowElFocus,blur:this.onArrowElBlur})},setArrowHandler:function(handler,scope){this.arrowHandler=handler;this.scope=scope},onMouseDown:function(e){this.separateArrowStyling&&
!this.disabled&&0===e.button&&this.isWithinTrigger(e)?(e.preventDefault(),this.arrowEl.focus(),Ext.button.Manager.onButtonMousedown(this,e),this.addCls(this._arrowPressedCls)):Ext.button.Button.prototype.onMouseDown.call(this,e)},onMouseUp:function(e){this.separateArrowStyling&&!this.destroyed&&0===e.button&&this.isWithinTrigger(e)?this.removeCls(this._arrowPressedCls):Ext.button.Button.prototype.onMouseUp.call(this,e)},onMenuTriggerOver:function(e){this.separateArrowStyling&&!this.disabled&&this.addCls(this._arrowOverCls);
Ext.button.Button.prototype.onMenuTriggerOver.call(this,e)},onMenuTriggerOut:function(e){this.separateArrowStyling&&!this.disabled&&this.removeCls(this._arrowOverCls);Ext.button.Button.prototype.onMenuTriggerOut.call(this,e)},onClick:function(e){var arrowKeydown='keydown'===e.type&&e.target===this.arrowEl.dom;this.doPreventDefault(e);this.disabled||(arrowKeydown||this.isWithinTrigger(e)?(e.preventDefault(),this.maybeShowMenu(e),this.fireEvent('arrowclick',this,e),this.arrowHandler&&this.arrowHandler.call(this.scope||
this,this,e)):(this.doToggle(),this.fireHandler(e)))},enable:function(silent){var arrowEl=this.arrowEl;Ext.button.Button.prototype.enable.call(this,silent);arrowEl&&(arrowEl.dom.setAttribute('tabIndex',this.tabIndex),arrowEl.dom.setAttribute('aria-disabled','false'))},disable:function(silent){var arrowEl=this.arrowEl;Ext.button.Button.prototype.disable.call(this,silent);arrowEl&&(arrowEl.dom.removeAttribute('tabIndex'),arrowEl.dom.setAttribute('aria-disabled','true'))},afterHide:function(cb,scope){Ext.button.Button.prototype.afterHide.call(this,
cb,scope);this.arrowEl.dom.setAttribute('aria-hidden','true')},afterShow:function(animateTarget,cb,scope){Ext.button.Button.prototype.afterShow.call(this,animateTarget,cb,scope);this.arrowEl.dom.setAttribute('aria-hidden','false')},privates:{isFocusing:function(e){var from=e.fromElement;e=e.toElement;var focusEl=this.focusEl&&this.focusEl.dom,arrowEl=this.arrowEl&&this.arrowEl.dom;return this.focusable?e===focusEl?from===arrowEl?!1:!0:e===arrowEl?from===focusEl?!1:!0:!0:!1},isBlurring:function(e){var from=
e.fromElement;e=e.toElement;var focusEl=this.focusEl&&this.focusEl.dom,arrowEl=this.arrowEl&&this.arrowEl.dom;return this.focusable?from===focusEl?e===arrowEl?!1:!0:from===arrowEl?e===focusEl?!1:!0:!0:!1},getFocusClsEl:Ext.privateFn,onMainElFocus:function(e){this.el.addCls(this._focusCls)},onMainElBlur:function(e){this.el.removeCls(this._focusCls)},onArrowElFocus:function(e){this.el.addCls(this._arrowFocusCls)},onArrowElBlur:function(){this.el.removeCls(this._arrowFocusCls)},setTabIndex:function(newTabIndex){Ext.button.Button.prototype.setTabIndex.call(this,
newTabIndex);this.arrowEl&&this.arrowEl.set({tabIndex:newTabIndex})},_addSplitCls:function(){var arrowEl=this.arrowEl;Ext.button.Button.prototype._addSplitCls.call(this);arrowEl.dom.setAttribute('tabIndex',this.tabIndex);arrowEl.setVisible(!0)},_removeSplitCls:function(){var arrowEl=this.arrowEl;Ext.button.Button.prototype._removeSplitCls.call(this);arrowEl.dom.removeAttribute('tabIndex');arrowEl.setVisible(!1)}}},0,['splitbutton'],['component','box','button','splitbutton'],{component:!0,box:!0,button:!0,
splitbutton:!0},['widget.splitbutton'],0,[Ext.button,'Split',Ext,'SplitButton'],0);Ext.define('Ext.theme.material.button.Split',{override:'Ext.button.Split',separateArrowStyling:!0,ripple:!1});
Ext.cmd.derive('Ext.panel.Bar',Ext.container.Container,{vertical:!1,_verticalSides:{left:1,right:1},initComponent:function(){var vertical=this.vertical;this.dock=this.dock||(vertical?'left':'top');this.layout=Ext.apply(vertical?{type:'vbox',align:'middle',alignRoundingMethod:'ceil'}:{type:'hbox',align:'middle',alignRoundingMethod:'floor'},this.layout);Ext.container.Container.prototype.initComponent.call(this)},onAdded:function(container,pos,instanced){this.initOrientation();Ext.container.Container.prototype.onAdded.call(this,
container,pos,instanced)},onRemoved:function(destroying){this.removeClsWithUI(this.uiCls);Ext.container.Container.prototype.onRemoved.call(this,destroying)},beforeRender:function(){!this.forceOrientation&&this.ownerCt||this.initOrientation();Ext.container.Container.prototype.beforeRender.call(this)},setDock:function(dock){if(dock!==this.dock){Ext.suspendLayouts();this.clearOrientation();Ext.container.Container.prototype.setDock.call(this,dock);this.initOrientation();var vertical=this.vertical;dock=
this.layout;dock.setVertical(vertical);dock.setAlignRoundingMethod(vertical?'ceil':'floor');Ext.resumeLayouts(!0)}},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?'vertical':'horizontal',this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var dock=this.dock;dock=this.vertical=dock?dock in this._verticalSides:this.vertical;this.addClsWithUI([dock?'vertical':'horizontal',this.getDockName()])}}},0,0,['component','box','container'],{component:!0,
box:!0,container:!0},0,0,[Ext.panel,'Bar'],0);
Ext.cmd.derive('Ext.panel.Title',Ext.Component,{isTitle:!0,noWrap:!0,textAlign:'left',iconAlign:'left',rotation:0,text:'\x26#160;',beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{role:'presentation',unselectable:'on'},textElRole:'presentation',tabIndex:0,childEls:['textEl','iconEl','iconWrapEl'],renderTpl:'\x3ctpl if\x3d"iconMarkup \x26\x26 iconBeforeTitle"\x3e{iconMarkup}\x3c/tpl\x3e\x3cdiv id\x3d"{id}-textEl" data-ref\x3d"textEl" class\x3d"{textCls} {textCls}-{ui} {itemCls}{childElCls}" unselectable\x3d"on"\x3ctpl if\x3d"textElRole"\x3e role\x3d"{textElRole}"\x3c/tpl\x3e\x3e{text}\x3c/div\x3e\x3ctpl if\x3d"iconMarkup \x26\x26 !iconBeforeTitle"\x3e{iconMarkup}\x3c/tpl\x3e',iconTpl:'\x3cdiv id\x3d"{id}-iconWrapEl" data-ref\x3d"iconWrapEl" role\x3d"presentation" class\x3d"{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"\x3ctpl if\x3d"iconWrapStyle"\x3e style\x3d"{iconWrapStyle}"\x3c/tpl\x3e\x3e\x3cdiv id\x3d"{id}-iconEl" data-ref\x3d"iconEl" role\x3d"presentation" unselectable\x3d"on" class\x3d"{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style\x3d"\x3ctpl if\x3d"iconUrl"\x3ebackground-image:url({iconUrl});\x3c/tpl\x3e\x3ctpl if\x3d"glyph \x26\x26 glyphFontFamily"\x3efont-family:{glyphFontFamily};\x3c/tpl\x3e"\x3e\x3ctpl if\x3d"glyph"\x3e{glyph}\x3c/tpl\x3e\x3c/div\x3e\x3c/div\x3e',
_textAlignClasses:{left:'x-title-align-left',center:'x-title-align-center',right:'x-title-align-right'},_iconAlignClasses:{top:'x-title-icon-top',right:'x-title-icon-right',bottom:'x-title-icon-bottom',left:'x-title-icon-left'},_rotationClasses:{0:'x-title-rotate-none',1:'x-title-rotate-right',2:'x-title-rotate-left'},_rotationAngles:{1:90,2:270},baseCls:'x-title',_titleSuffix:'-title',_glyphCls:'x-title-glyph',_iconWrapCls:'x-title-icon-wrap',_baseIconCls:'x-title-icon',_itemCls:'x-title-item',_textCls:'x-title-text',
afterComponentLayout:function(){var rotation=this.getRotation();if(rotation&&!Ext.isIE8){var el=this.el;var lastBox=this.lastBox;var lastX=lastBox.x;el.setStyle(this._getVerticalAdjustDirection(),lastX+(1===rotation?lastBox.width:-lastBox.height)+'px')}Ext.Component.prototype.afterComponentLayout.call(this)},onRender:function(){var rotation=this.getRotation(),el=this.el;Ext.Component.prototype.onRender.call(this);rotation&&el.setVertical(this._rotationAngles[rotation]);Ext.supports.FixedTableWidthBug&&
(el._needsTableWidthFix=!0)},applyText:function(text){text||(text='\x26#160;');return text},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this);this.addCls(this._rotationClasses[this.getRotation()]);this.addCls(this._textAlignClasses[this.getTextAlign()])},getIconMarkup:function(){return this.lookupTpl('iconTpl').apply(this.getIconRenderData())},getIconRenderData:function(){var icon=this.getIcon(),iconCls=this.getIconCls(),glyph=this.getGlyph(),iconAlign=this.getIconAlign();if(glyph){var glyphFontFamily=
glyph.fontFamily;glyph=glyph.character}return{id:this.id,ui:this.ui,itemCls:this._itemCls,iconUrl:icon,iconCls,iconWrapCls:this._iconWrapCls,baseIconCls:this._baseIconCls,iconAlignCls:this._iconAlignClasses[iconAlign],glyph,glyphCls:glyph?this._glyphCls:'',glyphFontFamily}},initRenderData:function(){var renderData=Ext.apply({text:this.getText(),textElRole:this.textElRole,id:this.id,ui:this.ui,itemCls:this._itemCls,textCls:this._textCls,iconMarkup:null,iconBeforeTitle:null},Ext.Component.prototype.initRenderData.call(this));
if(this._hasIcon()){var iconAlign=this.getIconAlign();renderData.iconMarkup=this.getIconMarkup();renderData.iconBeforeTitle='top'===iconAlign||'left'===iconAlign}return renderData},onAdded:function(container,pos,instanced){var suffix=this._titleSuffix,baseCls=container.baseCls;this.addCls([baseCls+suffix,baseCls+suffix+'-'+container.ui]);Ext.Component.prototype.onAdded.call(this,container,pos,instanced)},applyGlyph:function(glyph,oldGlyph){glyph&&(glyph.isGlyph||(glyph=new Ext.Glyph(glyph)),glyph.isEqual(oldGlyph)&&
(glyph=void 0));return glyph},updateGlyph:function(glyph,oldGlyph){var glyphCls=this._glyphCls;if(this.rendered){this._syncIconVisibility();var iconEl=this.iconEl;glyph?(iconEl.dom.innerHTML=glyph.character,iconEl.addCls(glyphCls),iconEl.setStyle('font-family',glyph.fontFamily)):oldGlyph!==glyph&&(iconEl.dom.innerHTML='',iconEl.removeCls(glyphCls));this._didIconStateChange(oldGlyph,glyph)&&this.updateLayout()}},updateIcon:function(icon,oldIcon){icon=icon||'';if(this.rendered&&icon!==oldIcon){this._syncIconVisibility();
var iconEl=this.iconEl;iconEl.setStyle('background-image',icon?'url('+icon+')':'');this._didIconStateChange(oldIcon,icon)&&this.updateLayout()}},updateIconAlign:function(align,oldAlign){var iconWrapEl=this.iconWrapEl;if(this.iconWrapEl){var el=this.el;var iconAlignClasses=this._iconAlignClasses;oldAlign&&iconWrapEl.removeCls(iconAlignClasses[oldAlign]);iconWrapEl.addCls(iconAlignClasses[align]);'top'===align||'left'===align?el.insertFirst(iconWrapEl):el.appendChild(iconWrapEl);this.updateLayout()}},
updateIconCls:function(cls,oldCls){cls=cls||'';if(this.rendered&&oldCls!==cls){this._syncIconVisibility();var iconEl=this.iconEl;oldCls&&iconEl.removeCls(oldCls);iconEl.addCls(cls);this._didIconStateChange(oldCls,cls)&&this.updateLayout()}},updateRotation:function(rotation,oldRotation){if(this.rendered){var el=this.el;var rotationClasses=this._rotationClasses;this.removeCls(rotationClasses[oldRotation]);this.addCls(rotationClasses[rotation]);el.setHorizontal();rotation&&el.setVertical(this._rotationAngles[rotation]);
el.setStyle({right:'',left:'',top:'',height:'',width:''});this.lastBox=null;this.updateLayout()}},updateText:function(text){this.rendered&&(this.textEl.setHtml(text),this.updateLayout())},updateTextAlign:function(align,oldAlign){var textAlignClasses=this._textAlignClasses;this.rendered&&(oldAlign&&this.removeCls(textAlignClasses[oldAlign]),this.addCls(textAlignClasses[align]),this.updateLayout())},privates:{_getVerticalAdjustDirection:function(){return'left'},_didIconStateChange:function(old,current){current=
Ext.isEmpty(current);return Ext.isEmpty(old)?!current:current},_hasIcon:function(){return!!(this.getIcon()||this.getIconCls()||this.getGlyph())},_syncIconVisibility:function(){var el=this.el,hasIcon=this._hasIcon(),iconWrapEl=this.iconWrapEl;hasIcon&&!iconWrapEl&&(iconWrapEl=this.iconAlign,iconWrapEl='left'===iconWrapEl||'top'===iconWrapEl,el.dom.insertAdjacentHTML(iconWrapEl?'afterbegin':'beforeend',this.getIconMarkup()),iconWrapEl=this.iconWrapEl=el[iconWrapEl?'first':'last'](),this.iconEl=iconWrapEl.first());
iconWrapEl&&iconWrapEl.setDisplayed(hasIcon)}}},0,['title'],['component','box','title'],{component:!0,box:!0,title:!0},['widget.title'],0,[Ext.panel,'Title'],0);
Ext.cmd.derive('Ext.panel.Tool',Ext.Component,{config:{glyph:null},isTool:!0,baseCls:'x-tool',disabledCls:'x-tool-disabled',toolPressedCls:'x-tool-pressed',toolOverCls:'x-tool-over',childEls:['toolEl'],renderTpl:['\x3cdiv id\x3d"{id}-toolEl" data-ref\x3d"toolEl" class\x3d"{className} {childElCls}" role\x3d"presentation"\x3ctpl if\x3d"glyph"\x3e\x3ctpl if\x3d"glyphFontFamily"\x3e style\x3d"font-family:{glyphFontFamily};"\x3e\x3c/tpl\x3e{glyph}\x3ctpl else\x3e\x3e\x3c/tpl\x3e\x3c/div\x3e'],toolOwner:null,
tooltipType:'qtip',stopEvent:!0,ariaRole:'button',focusable:!0,tabIndex:0,keyMap:{scope:'this',SPACE:'onClick',ENTER:'onClick'},cacheHeight:!0,cacheWidth:!0,initComponent:function(){this.tooltip=this.tooltip||this.qtip;Ext.Component.prototype.initComponent.call(this)},initRenderData:function(){var data=Ext.Component.prototype.initRenderData.call(this),glyph=this.getGlyph();if(glyph){var glyphFontFamily=glyph.fontFamily;glyph=glyph.character}Ext.applyIf(data,{className:this.calculateClassName(),glyph,
glyphFontFamily});return data},calculateClassName:function(){var result=this.baseCls+'-tool-el ';this.type?result+=this.baseCls+'-img '+this.baseCls+'-'+this.type:this.iconCls&&(result+=this.iconCls);return result},afterRender:function(){var tip;Ext.Component.prototype.afterRender.call(this);this.setTypeAfterRender&&(this.setTypeAfterRender=!1,this.setType(this.type));this.el.on({click:this.onClick,mousedown:this.onMouseDown,mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this});(tip=this.tooltip)&&
this.setTooltip(tip)},tipAttrs:{qtip:'data-qtip'},setTooltip:function(tooltip,type){var oldTip=this.tooltip,oldType=this.tooltipType,id=this.id,el=this.el;oldTip&&Ext.quickTipsActive&&Ext.isObject(oldTip)&&Ext.tip.QuickTipManager.unregister(id);this.tooltip=tooltip;type&&(this.tooltipType=type);if(tooltip){if(Ext.quickTipsActive&&Ext.isObject(tooltip))Ext.tip.QuickTipManager.register(Ext.apply({target:id},tooltip));else if(el){if(type&&oldType&&type!==oldType){var attr=this.tipAttrs[oldType]||'title';
el.dom.removeAttribute(attr)}attr=this.tipAttrs[type||oldType]||'title';el.dom.setAttribute(attr,tooltip)}'title'!==attr&&this.ariaRole&&'presentation'!==this.ariaRole&&(el?el.dom.setAttribute('aria-label',tooltip):(this.ariaRenderAttributes=this.ariaRenderAttributes||{},this.ariaRenderAttributes['aria-label']=tooltip))}},setType:function(type){var rendering=this.rendering,clear;if(!this.updating){var oldClassName=this.calculateClassName();rendering||(this.updating=clear=!0);this.setIconCls(null);
this.setGlyph(null)}this.type=type;clear?(this.updateToolCls(oldClassName),this.updating=!1):rendering&&(this.setTypeAfterRender=!0);return this},setIconCls:function(iconCls){var clear;if(!this.updating){var oldClassName=this.calculateClassName();this.updating=clear=!0;this.setType(null);this.setGlyph(null)}this.iconCls=iconCls;clear&&(this.updateToolCls(oldClassName),this.updating=!1);return this},doDestroy:function(){this.setTooltip(null);delete this.toolOwner;Ext.Component.prototype.doDestroy.call(this)},
applyGlyph:function(glyph,oldGlyph){glyph&&(glyph.isGlyph||(glyph=new Ext.Glyph(glyph)),glyph.isEqual(oldGlyph)&&(glyph=void 0));return glyph},updateGlyph:function(glyph,oldGlyph){oldGlyph=this.toolEl;var clear;if(!this.updating){var oldClassName=this.calculateClassName();this.updating=clear=!0;this.setType(null);this.setIconCls(null)}oldGlyph&&(glyph?(oldGlyph.dom.innerHTML=glyph.character,oldGlyph.setStyle(glyph.getStyle())):oldGlyph.dom.innerHTML='');clear&&(this.updateToolCls(oldClassName),this.updating=
!1)},privates:{onClick:function(e,target){if(this.disabled)return!1;'keydown'!==e.type&&this.el.removeCls(this.toolPressedCls+' '+this.toolOverCls);!1!==this.stopEvent&&e.stopEvent();this.handler?Ext.callback(this.handler,this.scope,[e,target,this.ownerCt,this],0,this):this.callback&&Ext.callback(this.callback,this.scope,[this.toolOwner||this.ownerCt,this,e],0,this);if(!this.destroyed)return this.fireEvent('click',this,e,this.toolOwner||this.ownerCt),!0},onMouseDown:function(e){e.preventDefault();
if(this.disabled)return!1;this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return!1;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)},updateToolCls:function(oldCls){var toolEl=this.toolEl;toolEl&&(toolEl.removeCls(oldCls),toolEl.addCls(this.calculateClassName()))}}},0,['tool'],['component','box','tool'],{component:!0,box:!0,tool:!0},['widget.tool'],0,[Ext.panel,'Tool'],0);
Ext.cmd.derive('Ext.panel.Header',Ext.panel.Bar,{isHeader:!0,defaultType:'tool',indicateDrag:!1,weight:-1,shrinkWrap:3,focusableContainer:!0,iconAlign:'left',titleAlign:'left',titlePosition:0,titleRotation:'default',autoEl:{role:'presentation'},beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{xtype:'title',flex:1},merge:function(newValue,oldValue){'object'!==typeof newValue&&(newValue={text:newValue});return Ext.merge(oldValue?Ext.Object.chain(oldValue):{},newValue)}},
titleAlign:null,titlePosition:null,titleRotation:null},headerCls:'x-header',initComponent:function(){var items=this.items,itemPosition=this.itemPosition,cls=[this.headerCls];this.tools=this.tools||[];this.items=items=items?items.slice():[];void 0!==itemPosition&&(this._userItems=items.slice(),this.items=items=[]);this.indicateDragCls=this.headerCls+'-draggable';this.indicateDrag&&cls.push(this.indicateDragCls);this.addCls(cls);this.syncNoBorderCls();Ext.Array.push(items,this.tools);this.tools.length=
0;Ext.panel.Bar.prototype.initComponent.call(this);this.on({dblclick:this.onDblClick,click:this.onClick,element:'el',scope:this})},addTool:function(tool){this.add(Ext.ComponentManager.create(tool,'tool'));this.checkFocusableTools()},afterLayout:function(){var frameTR;if(this.vertical&&(frameTR=this.frameTR)){var frameBR=this.frameBR;var frameTL=this.frameTL;frameTL=this.getWidth()-frameTR.getPadding('r')-(frameTL?frameTL.getPadding('l'):this.el.getBorderWidth('l'))+'px';frameBR.setStyle('background-position-x',
frameTL);frameTR.setStyle('background-position-x',frameTL)}Ext.panel.Bar.prototype.afterLayout.call(this)},applyTitle:function(title,oldTitle){title=title||'';var isString=Ext.isString(title);Ext.isObject(title)||(title={text:title.toString()});oldTitle?(Ext.suspendLayouts(),oldTitle.setConfig(title),Ext.resumeLayouts(!0),title=oldTitle):(isString&&(title.xtype='title'),title.ui=this.ui,oldTitle='rotation'in title,title.id=this.id+'-title',this.isAccordionHeader&&(title.ariaRole='tab',title.textElRole=
null,title.focusable=!0),title=Ext.create(title),!oldTitle&&this.vertical&&'default'===this.titleRotation&&(title.rotation=1));return title},applyTitlePosition:function(position){var max=this.items.getCount();this._titleInItems&&--max;return Math.max(Math.min(position,max),0)},beforeLayout:function(){Ext.panel.Bar.prototype.beforeLayout.call(this);this.syncBeforeAfterTitleClasses()},beforeRender:function(){var itemPosition=this.itemPosition;this.protoEl.unselectable();Ext.panel.Bar.prototype.beforeRender.call(this);
void 0!==itemPosition&&this.insert(itemPosition,this._userItems);this.checkFocusableTools()},checkFocusableTools:function(){var tools=this.tools,len;if(this.isAccordionHeader)this.focusableContainer=!1;else{var i=0;for(len=tools.length;i<len;i++)if(tools[i].focusable){var haveFocusableTool=!0;break}if(haveFocusableTool){if(!this.initialConfig.hasOwnProperty('focusableContainer')||this.focusableContainer)this.ariaRole='toolbar',this.focusableContainer=!0,this.rendered&&(this.ariaEl.dom.setAttribute('role',
'toolbar'),this.initFocusableContainer(!0))}else this.ariaRole='presentation',this.focusableContainer=!1,this.rendered&&(this.ariaEl.dom.setAttribute('role','presentation'),this.initFocusableContainer(!0))}},getTools:function(){return this.tools.slice()},onAdd:function(component,index){var tools=this.tools;Ext.panel.Bar.prototype.onAdd.call(this,component,index);component.isTool&&(tools.push(component),tools[component.type]=component)},onAdded:function(container,pos,instanced){this.syncNoBorderCls();
Ext.panel.Bar.prototype.onAdded.call(this,container,pos,instanced)},onRemoved:function(container,pos,instanced){this.syncNoBorderCls();Ext.panel.Bar.prototype.onRemoved.call(this,container,pos,instanced)},setDock:function(dock){var title=this.getTitle(),rotation=this.getTitleRotation(),titleRotation=title.getRotation();Ext.suspendLayouts();Ext.panel.Bar.prototype.setDock.call(this,dock);'default'===rotation&&(rotation=this.vertical?1:0,rotation!==titleRotation&&title.setRotation(rotation),this.rendered&&
this.resetItemMargins());Ext.resumeLayouts(!0)},updateGlyph:function(glyph){this.getTitle().setGlyph(glyph)},updateIcon:function(icon){this.getTitle().setIcon(icon)},updateIconAlign:function(align,oldAlign){this.getTitle().setIconAlign(align)},updateIconCls:function(cls){this.getTitle().setIconCls(cls)},updateTitle:function(title,oldTitle){oldTitle||(this.insert(this.getTitlePosition(),title),this._titleInItems=!0);this.titleCmp=title},updateTitleAlign:function(align,oldAlign){this.getTitle().setTextAlign(align)},
updateTitlePosition:function(position){this.insert(position,this.getTitle())},updateTitleRotation:function(rotation){'default'===rotation&&(rotation=this.vertical?1:0);this.getTitle().setRotation(rotation)},privates:{fireClickEvent:function(type,e){e.getTarget('.'+Ext.panel.Tool.prototype.baseCls)||this.fireEvent(type,this,e)},getFramingInfoCls:function(){var cls=Ext.panel.Bar.prototype.getFramingInfoCls.call(this),owner=this.ownerCt;!this.expanding&&owner&&(owner.collapsed||this.isCollapsedExpander)&&
(cls+='-'+owner.collapsedCls);return cls+'-'+this.dock},onClick:function(e){this.fireClickEvent('click',e)},onDblClick:function(e){this.fireClickEvent('dblclick',e)},syncBeforeAfterTitleClasses:function(force){var items=this.items,childItems=items.items,titlePosition=this.getTitlePosition(),itemCount=childItems.length,itemGeneration=items.generation;items=this.syncBeforeAfterGen;var i;if(force||items!==itemGeneration)for(this.syncBeforeAfterGen=itemGeneration,i=0;i<itemCount;++i){var item=childItems[i];
force=item.afterTitleCls||(item.afterTitleCls=item.baseCls+'-after-title');itemGeneration=item.beforeTitleCls||(item.beforeTitleCls=item.baseCls+'-before-title');!this.title||i<titlePosition?(items&&item.removeCls(force),item.addCls(itemGeneration)):i>titlePosition&&(items&&item.removeCls(itemGeneration),item.addCls(force))}},syncNoBorderCls:function(){var ownerCt=this.ownerCt,noBorderCls=this.headerCls+'-noborder';(ownerCt?!1!==ownerCt.border||ownerCt.frame:!1!==this.border)?this.removeCls(noBorderCls):
this.addCls(noBorderCls)}}},0,['header'],['component','box','container','header'],{component:!0,box:!0,container:!0,header:!0},['widget.header'],0,[Ext.panel,'Header'],0);
Ext.cmd.derive('Ext.layout.container.boxOverflow.None',Ext.Base,{alternateClassName:'Ext.layout.boxOverflow.None',factoryConfig:{defaultType:'none'},isBoxOverflowHandler:!0,$configPrefixed:!1,$configStrict:!1,constructor:function(config){this.initConfig(config)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(ownerContext){var plan=ownerContext.state.boxPlan;plan&&plan.tooNarrow?(plan=this.handleOverflow(ownerContext))&&
plan.reservedSpace&&this.layout.publishInnerCtSize(ownerContext,plan.reservedSpace):this.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(ownerContext){ownerContext=this.layout.owner;if(ownerContext.hasListeners.overflowchange){var hiddens=ownerContext.query('\x3e[hidden]');var hiddenCount=hiddens.length;hiddenCount!==this.lastHiddenCount&&(ownerContext.fireEvent('overflowchange',this.lastHiddenCount,hiddenCount,hiddens),this.lastHiddenCount=hiddenCount)}},onRemove:Ext.emptyFn,
getItem:function(item){return this.layout.owner.getComponent(item)},getOwnerType:function(owner){return owner.isToolbar?'toolbar':owner.isTabBar?'tab-bar':owner.isMenu?'menu':owner.isBreadcrumb?'breadcrumb':owner.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return''},setVertical:function(){var layout=this.layout,innerCt=layout.innerCt;innerCt.removeCls(this.getOverflowCls(layout.oppositeDirection));innerCt.addCls(this.getOverflowCls(layout.direction))}},
1,0,0,0,['box.overflow.None','box.overflow.none'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout.container.boxOverflow,'None',Ext.layout.boxOverflow,'None'],0);
Ext.cmd.derive('Ext.layout.container.boxOverflow.Scroller',Ext.layout.container.boxOverflow.None,{alternateClassName:'Ext.layout.boxOverflow.Scroller',animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:'x-box-scroller',beforeSuffix:'-before-scroller',afterSuffix:'-after-scroller',constructor:function(config){this.mixins.observable.constructor.call(this,config);this.layout.owner.on({afterrender:this.onOwnerRender,scope:this,single:!0});this.layout.owner.getOverflowEl=
this.ownerGetOverflowImpl;this.scrollSize=this.scrollPosition=0},onOwnerRender:function(owner){var scrollable={isBoxOverflowScroller:!0,x:!1,y:!1,listeners:{scrollend:this.onScrollEnd,scope:this}};Ext.scrollbar.width()||Ext.platformTags.desktop?this.wheelListener=this.layout.innerCt.on('wheel',this.onMouseWheel,this,{destroyable:!0}):scrollable[owner.layout.horizontal?'x':'y']=!0;owner.setScrollable(scrollable)},getPrefixConfig:function(){return{role:'presentation',id:this.layout.owner.id+this.beforeSuffix,
cls:this.createScrollerCls('beforeX'),style:'display:none'}},getSuffixConfig:function(){return{role:'presentation',id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls('afterX'),style:'display:none'}},createScrollerCls:function(xName){var layout=this.layout,owner=layout.owner,type=this.getOwnerType(owner),scrollerCls=this.scrollerCls;xName=scrollerCls+' '+scrollerCls+'-'+layout.names[xName]+' '+scrollerCls+'-'+type+' '+scrollerCls+'-'+type+'-'+owner.ui;owner.plain&&(xName+=' '+scrollerCls+
'-plain');return xName},getOverflowCls:function(direction){return this.scrollerCls+'-body-'+direction},beginLayout:function(ownerContext){ownerContext.innerCtScrollPos=this.getScrollPosition();Ext.layout.container.boxOverflow.None.prototype.beginLayout.apply(this,arguments)},finishedLayout:function(ownerContext){var plan=ownerContext.state.boxPlan,layout=this.layout,names=layout.names,scrollPos=Math.min(this.getMaxScrollPosition(),ownerContext.innerCtScrollPos);plan&&plan.tooNarrow&&(plan=ownerContext.childItems[ownerContext.childItems.length-
1].props,this.scrollSize=plan[names.x]+plan[names.width],this.updateScrollButtons(),layout.innerCt[names.setScrollLeft](scrollPos));Ext.layout.container.boxOverflow.None.prototype.finishedLayout.call(this,ownerContext)},handleOverflow:function(ownerContext){var names=this.layout.names,getWidth=names.getWidth,parallelMargins=names.parallelMargins;this.showScrollers();var beforeScroller=this.getBeforeScroller();var afterScroller=this.getAfterScroller();getWidth=beforeScroller[getWidth]()+afterScroller[getWidth]()+
beforeScroller.getMargin(parallelMargins)+afterScroller.getMargin(parallelMargins);ownerContext=ownerContext.targetContext.getPaddingInfo()[names.width];return{reservedSpace:Math.max(getWidth-ownerContext,0)}},getBeforeScroller:function(){return this._beforeScroller||(this._beforeScroller=this.createScroller(this.beforeSuffix,'beforeRepeater','scrollLeft'))},getAfterScroller:function(){return this._afterScroller||(this._afterScroller=this.createScroller(this.afterSuffix,'afterRepeater','scrollRight'))},
createScroller:function(suffix,repeaterName,scrollHandler){var owner=this.layout.owner,scrollerCls=this.scrollerCls;suffix=owner.el.getById(owner.id+suffix);suffix.addClsOnOver(scrollerCls+'-hover');suffix.addClsOnClick(scrollerCls+'-pressed');suffix.setVisibilityMode(Ext.Element.DISPLAY);this[repeaterName]=new Ext.util.ClickRepeater(suffix,{interval:this.scrollRepeatInterval,handler:scrollHandler,scope:this,mousedownPreventDefault:!0});return suffix},onMouseWheel:function(e){var cmp=Ext.Component.from(e.target);
cmp=cmp.getScrollable&&cmp.getScrollable();cmp&&cmp!==this.layout.owner.getScrollable()||(e.stopEvent(),this.scrollBy(this.getWheelDelta(e)*this.wheelIncrement,!1))},getWheelDelta:function(e){return e.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.getBeforeScroller().show();this.getAfterScroller().show();this.layout.owner.addClsWithUI('vertical'===this.layout.direction?'vertical-scroller':'scroller')},hideScrollers:function(){var beforeScroller=this.getBeforeScroller(),
afterScroller=this.getAfterScroller();beforeScroller&&(beforeScroller.hide(),afterScroller.hide(),this.layout.owner.removeClsWithUI('vertical'===this.layout.direction?'vertical-scroller':'scroller'))},destroy:function(){Ext.destroyMembers(this,'beforeRepeater','afterRepeater','_beforeScroller','_afterScroller','wheelListener');this.callParent()},scrollBy:function(delta,animate){var layout=this.layout,scroller=layout.owner.getScrollable();animate=[0,0,animate?this.getScrollAnim():!1];animate[layout.horizontal?
0:1]=delta;scroller.scrollBy.apply(scroller,animate)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var beforeScroller=this.getBeforeScroller(),afterScroller=this.getAfterScroller(),scrollPos=this.getScrollPosition();if(beforeScroller&&afterScroller){var disabledCls=this.scrollerCls+'-disabled';beforeScroller[scrollPos?'removeCls':'addCls'](disabledCls);afterScroller[scrollPos>=this.getMaxScrollPosition()?
'addCls':'removeCls'](disabledCls)}},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var layout=this.layout;return layout.owner.getScrollable().getPosition()[layout.horizontal?'x':'y']},getMaxScrollPosition:function(){var layout=this.layout;return layout.owner.getScrollable().getMaxPosition()[layout.horizontal?'x':'y']},setVertical:function(){var beforeScroller=this.getBeforeScroller(),afterScroller=
this.getAfterScroller(),names=this.layout.names,scrollerCls=this.scrollerCls;beforeScroller.removeCls(scrollerCls+'-'+names.beforeY);afterScroller.removeCls(scrollerCls+'-'+names.afterY);beforeScroller.addCls(scrollerCls+'-'+names.beforeX);afterScroller.addCls(scrollerCls+'-'+names.afterX);Ext.layout.container.boxOverflow.None.prototype.setVertical.call(this)},scrollTo:function(position,animate){var layout=this.layout,scroller=layout.owner.getScrollable();animate=[0,0,animate?this.getScrollAnim():
!1];animate[layout.horizontal?0:1]=position;scroller.scrollTo.apply(scroller,animate)},onScrollEnd:function(scroller,x,y){this.updateScrollButtons();this.fireEvent('scroll',this,this.layout.horizontal?x:y,!1)},scrollToItem:function(item,animate){item=this.getItem(item);void 0!==item&&this.layout.owner.getScrollable().ensureVisible(item.el,{animation:animate})},privates:{ownerGetOverflowImpl:function(){return this.layout.innerCt}}},1,0,0,0,['box.overflow.Scroller','box.overflow.scroller'],[['observable',
Ext.mixin.Observable]],[Ext.layout.container.boxOverflow,'Scroller',Ext.layout.boxOverflow,'Scroller'],0);
Ext.cmd.derive('Ext.dd.DragDropManager',Ext.Base,{singleton:!0,alternateClassName:['Ext.dd.DragDropMgr','Ext.dd.DDM'],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!1,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:'x-dd-drag-current',currentPoint:new Ext.util.Point,_execOnAll:function(sMethod,args){var ids=this.ids,i,j;for(i in ids)if(ids.hasOwnProperty(i)){var item=ids[i];for(j in item)if(item.hasOwnProperty(j)){var oDD=
item[j];this.isTypeOfDD(oDD)&&oDD[sMethod].apply(oDD,args)}}},addListeners:function(){this.init();Ext.getWin().on({unload:this._onUnload,resize:this._onResize,scope:this})},_onResize:function(e){this._execOnAll('resetConstraints',[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:8,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(oDD,sGroup){this.initialized||this.init();
this.ids[sGroup]||(this.ids[sGroup]={});this.ids[sGroup][oDD.id]=oDD},removeDDFromGroup:function(oDD,sGroup){this.ids[sGroup]||(this.ids[sGroup]={});(sGroup=this.ids[sGroup])&&sGroup[oDD.id]&&delete sGroup[oDD.id]},_remove:function(oDD,clearGroup){var ids=this.ids,groups=oDD.groups,g;if(!this.clearingAll){this.dragCurrent===oDD&&(this.dragCurrent=null);for(g in groups)groups.hasOwnProperty(g)&&(clearGroup?delete ids[g]:ids[g]&&delete ids[g][oDD.id]);delete this.handleIds[oDD.id];delete this.locationCache[oDD.id]}},
regHandle:function(sDDId,sHandleId){this.handleIds[sDDId]||(this.handleIds[sDDId]={});this.handleIds[sDDId][sHandleId]=sHandleId},isDragDrop:function(id){return this.getDDById(id)?!0:!1},getRelated:function(p_oDD,bTargetsOnly){var oDDs=[],i,j;for(i in p_oDD.groups)for(j in this.ids[i])p_oDD=this.ids[i][j],!this.isTypeOfDD(p_oDD)||bTargetsOnly&&!p_oDD.isTarget||(oDDs[oDDs.length]=p_oDD);return oDDs},isLegalTarget:function(oDD,oTargetDD){oDD=this.getRelated(oDD,!0);var len;var i=0;for(len=oDD.length;i<
len;++i)if(oDD[i].id===oTargetDD.id)return!0;return!1},isTypeOfDD:function(oDD){return oDD&&oDD.__ygDragDrop},isHandle:function(sDDId,sHandleId){return this.handleIds[sDDId]&&this.handleIds[sDDId][sHandleId]},getDDById:function(id,force){var i;for(i in this.ids){var dd=this.ids[i][id];if(dd instanceof Ext.dd.DDTarget||force)return dd}return null},handleMouseDown:function(e,oDD){var xy=e.getXY(),el=oDD.getEl(),pointerup={translate:!1,fn:this.handleMouseUp,capture:!1,priority:-1E3},pointermove={translate:!1,
fn:this.handleMouseMove,capture:!1},listeners={capture:!0,destroyable:!0,scope:this},DomEventType=e.browserEvent.type;listeners.touchstart=this.handleMouseUp;'pointerdown'===DomEventType?(listeners.pointerup=pointerup,listeners.pointermove=pointermove):'MSPointerDown'===DomEventType?(listeners.MSPointerUp=pointerup,listeners.MSPointerMove=pointermove):'mousedown'===DomEventType?(listeners.mouseup=pointerup,listeners.mousemove=pointermove):(listeners.touchend=pointerup,listeners.touchmove=pointermove);
this.pointerMoveListeners=Ext.getDoc().on(listeners);this.isMouseDown=!0;this.currentPoint.setPosition(xy);this.dragCurrent&&this.handleMouseUp(e);this.mousedownEvent=e;this.currentTarget=e.getTarget();this.dragCurrent=oDD;Ext.fly(el).setCapture();this.startX=xy[0];this.startY=xy[1];this.offsetX=this.offsetY=0;this.deltaX=this.startX-el.offsetLeft;this.deltaY=this.startY-el.offsetTop;this.dragThreshMet=!1},startDrag:function(x,y){var current=this.dragCurrent;Ext.undefer(this.clickTimeout);Ext.quickTipsActive&&
Ext.tip.QuickTipManager.ddDisable();current&&(current.b4StartDrag(x,y),current.startDrag(x,y),x=Ext.fly(current.getDragEl()))&&(x.addCls(this.dragCls),x.shim&&x.shim.el&&x.shim.el.addCls(this.dragCls));this.dragThreshMet=!0},handleMouseUp:function(e){this.pointerMoveListeners.destroy();this.isMouseDown=!1;this.dragCurrent&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),Ext.undefer(this.clickTimeout),this.dragThreshMet&&this.fireEvents(e,!0),this.stopDrag(e),this.dragThreshMet&&this.stopEvent(e),
this.mousedownEvent=this.currentTarget=null)},stopEvent:function(e){this.stopPropagation&&e.stopPropagation();this.preventDefault&&'touch'===e.pointerType&&e.preventDefault()},stopDrag:function(e){var current=this.dragCurrent,dragEl;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable();if(current){if(this.dragThreshMet){if(dragEl=Ext.fly(current.getDragEl()))dragEl.removeCls(this.dragCls),dragEl.shim&&dragEl.shim.el&&dragEl.shim.el.removeCls(this.dragCls);current.b4EndDrag(e);current.endDrag(e)}this.dragCurrent.onMouseUp(e)}this.dragCurrent=
null;this.dragOvers={}},handleMouseMove:function(e){var current=this.dragCurrent,point=e.getXY(),currentY=point[1];this.offsetX=point[0]-this.startX;this.offsetY=currentY-this.startY;this.currentPoint.setPosition(point);if(!current)return!0;!this.dragThreshMet&&(point=Math.abs(this.offsetX),currentY=Math.abs(this.offsetY),point>this.clickPixelThresh||currentY>this.clickPixelThresh)&&(e.claimGesture(),this.startDrag(this.startX,this.startY));this.dragThreshMet&&(current.b4Drag(e),current.onDrag(e),
current.moveOnly||this.fireEvents(e,!1));this.stopEvent(e);return!0},fireEvents:function(e,isDrop){var isTouch=Ext.supports.Touch,dragCurrent=this.dragCurrent,mousePoint=this.currentPoint,allTargets=[],oldOvers=[],outEvts=[],overEvts=[],dropEvts=[],enterEvts=[],overTargetEl,needsSort,sGroup;if(dragCurrent&&!dragCurrent.isLocked()){var overTarget=!(0>dragCurrent.deltaX||0>dragCurrent.deltaY);if(isTouch||!this.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&overTarget)isTouch=
dragCurrent.getDragEl(),overTarget&&(isTouch.style.visibility='hidden'),e=e.chain({target:this.elementFromPoint(e.clientX,e.clientY)||document.documentElement}),overTarget&&(isTouch.style.visibility='visible');for(i in this.dragOvers)overTarget=this.dragOvers[i],delete this.dragOvers[i],this.isTypeOfDD(overTarget)&&!overTarget.destroyed&&(isDrop?outEvts.push(overTarget):this.notifyOccluded?this.isOverTarget(mousePoint,overTarget,this.mode)||outEvts.push(overTarget):e.within(overTarget.getEl())||outEvts.push(overTarget),
oldOvers[i]=!0);for(sGroup in dragCurrent.groups)if('string'===typeof sGroup)for(i in this.ids[sGroup])if(overTarget=this.ids[sGroup][i],this.isTypeOfDD(overTarget)&&(overTargetEl=overTarget.getEl())&&overTarget.isTarget&&!overTarget.isLocked()&&Ext.fly(overTargetEl).isVisible(!0)&&(overTarget!==dragCurrent||!1===dragCurrent.ignoreSelf))if(this.notifyOccluded)-1!==(overTarget.zIndex=this.getZIndex(overTargetEl))&&(needsSort=!0),allTargets.push(overTarget);else if(e.within(overTargetEl)){allTargets.push(overTarget);
break}needsSort&&Ext.Array.sort(allTargets,this.byZIndex);var i=0;for(overTargetEl=allTargets.length;i<overTargetEl&&(overTarget=allTargets[i],!this.isOverTarget(mousePoint,overTarget,this.mode)||(isDrop?dropEvts.push(overTarget):(oldOvers[overTarget.id]?overEvts.push(overTarget):enterEvts.push(overTarget),this.dragOvers[overTarget.id]=overTarget),this.notifyOccluded));i++);if(this.mode){if(enterEvts.length)dragCurrent.onDragEnter(e,enterEvts);overEvts.length&&(dragCurrent.b4DragOver(e,overEvts),
dragCurrent.onDragOver(e,overEvts));dropEvts.length&&(dragCurrent.b4DragDrop(e,dropEvts),dragCurrent.onDragDrop(e,dropEvts));outEvts.length&&(dragCurrent.b4DragOut(e,outEvts),dragCurrent.onDragOut(e,outEvts))}else{i=0;for(overTargetEl=overEvts.length;i<overTargetEl;++i)dragCurrent.b4DragOver(e,overEvts[i].id),dragCurrent.onDragOver(e,overEvts[i].id);i=0;for(overTargetEl=dropEvts.length;i<overTargetEl;++i)dragCurrent.b4DragDrop(e,dropEvts[i].id),dragCurrent.onDragDrop(e,dropEvts[i].id);i=0;for(overTargetEl=
outEvts.length;i<overTargetEl;++i)dragCurrent.b4DragOut(e,outEvts[i].id),dragCurrent.onDragOut(e,outEvts[i].id);i=0;for(overTargetEl=enterEvts.length;i<overTargetEl;++i)dragCurrent.onDragEnter(e,enterEvts[i].id)}if(isDrop&&!dropEvts.length)dragCurrent.onInvalidDrop(e)}},elementFromPoint:function(x,y){Ext.rootInheritedState.rtl&&(x=Ext.Element.getViewportWidth()-x);return Ext.Element.fromPoint(x,y,!0)},getZIndex:function(element){var body=document.body,z,zIndex=-1;for(element=Ext.getDom(element);element!==
body;)isNaN(z=Number(Ext.fly(element).getStyle('zIndex')))||(zIndex=z),element=element.parentNode;return zIndex},byZIndex:function(d1,d2){return d1.zIndex<d2.zIndex},getBestMatch:function(dds){var winner=null,len=dds.length,i;if(1===len)winner=dds[0];else for(i=0;i<len;++i){var dd=dds[i];if(dd.cursorIsOver){winner=dd;break}else if(!winner||winner.overlap.getArea()<dd.overlap.getArea())winner=dd}return winner},refreshCache:function(groups){var sGroup,i,loc;for(sGroup in groups)if('string'===typeof sGroup)for(i in this.ids[sGroup])groups=
this.ids[sGroup][i],this.isTypeOfDD(groups)&&((loc=this.getLocation(groups))?this.locationCache[groups.id]=loc:delete this.locationCache[groups.id])},verifyEl:function(el){return Ext.getBody().contains(el)},getLocation:function(oDD){if(!this.isTypeOfDD(oDD))return null;if(oDD.getRegion)return oDD.getRegion();var el=oDD.getEl();try{var pos=Ext.fly(el).getXY()}catch(e){}if(!pos)return null;var x1=pos[0];var x2=x1+el.offsetWidth;pos=pos[1];el=pos+el.offsetHeight;pos-=oDD.padding[0];return new Ext.util.Region(pos,
x2+oDD.padding[1],el+oDD.padding[2],x1-oDD.padding[3])},isOverTarget:function(pt,oTarget,intersect){var loc=this.locationCache[oTarget.id];loc&&this.useCache||(loc=this.getLocation(oTarget),this.locationCache[oTarget.id]=loc);if(!loc)return!1;oTarget.cursorIsOver=loc.contains(pt);var dc=this.dragCurrent;if(!dc||!dc.getTargetCoord||!intersect&&!dc.constrainX&&!dc.constrainY)return oTarget.cursorIsOver;oTarget.overlap=null;pt=dc.getTargetCoord(pt.x,pt.y);dc=dc.getDragEl();return(loc=(new Ext.util.Region(pt.y,
pt.x+dc.offsetWidth,pt.y+dc.offsetHeight,pt.x)).intersect(loc))?(oTarget.overlap=loc,intersect?!0:oTarget.cursorIsOver):!1},_onUnload:function(e,me){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var cache=this.elementCache,i;this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null);this.clearingAll=!0;this._execOnAll('unreg',[]);delete this.clearingAll;for(i in cache)delete cache[i];this.elementCache={};this.ids={};this.handleIds={}},elementCache:{},getElWrapper:function(id){var oWrapper=
this.elementCache[id];oWrapper&&oWrapper.el||(oWrapper=this.elementCache[id]=new this.ElementWrapper(Ext.getDom(id)));return oWrapper},getElement:function(id){return Ext.getDom(id)},getCss:function(id){return(id=Ext.getDom(id))?id.style:null},ElementWrapper:function(el){this.id=(this.el=el||null)&&el.id;this.css=this.el&&el.style},getPosX:function(el){return Ext.fly(el).getX()},getPosY:function(el){return Ext.fly(el).getY()},swapNode:function(n1,n2){if(n1.swapNode)n1.swapNode(n2);else{var p=n2.parentNode;
var s=n2.nextSibling;s===n1?p.insertBefore(n1,n2):n2===n1.nextSibling?p.insertBefore(n2,n1):(n1.parentNode.replaceChild(n2,n1),p.insertBefore(n1,s))}},getScroll:function(){var doc=window.document,docEl=doc.documentElement;doc=doc.body;var top=0,left=0;docEl&&(docEl.scrollTop||docEl.scrollLeft)?(top=docEl.scrollTop,left=docEl.scrollLeft):doc&&(top=doc.scrollTop,left=doc.scrollLeft);return{top,left}},getStyle:function(el,styleProp){return Ext.fly(el).getStyle(styleProp)},getScrollTop:function(){return this.getScroll().top},
getScrollLeft:function(){return this.getScroll().left},moveToEl:function(moveEl,targetEl){targetEl=Ext.fly(targetEl).getXY();Ext.fly(moveEl).setXY(targetEl)},numericSort:function(a,b){return a-b},handleWasClicked:function(node,id){if(this.isHandle(id,node.id))return!0;for(node=node.parentNode;node;){if(this.isHandle(id,node.id))return!0;node=node.parentNode}return!1}},0,0,0,0,0,0,[Ext.dd,'DragDropManager',Ext.dd,'DragDropMgr',Ext.dd,'DDM'],function(DragDropManager){Ext.onInternalReady(function(){DragDropManager.addListeners()})});
Ext.cmd.derive('Ext.resizer.Splitter',Ext.Component,{childEls:['collapseEl'],renderTpl:'\x3ctpl if\x3d"collapsible\x3d\x3d\x3dtrue"\x3e;\x3cdiv id\x3d"{id}-collapseEl" data-ref\x3d"collapseEl" role\x3d"presentation" class\x3d";x-;collapse-el ;x-;layout-split-{collapseDir}{childElCls}"\x3e;\x3c/div\x3e;\x3c/tpl\x3e'.split(';'),isSplitter:!0,baseCls:'x-splitter',collapsedClsInternal:'x-splitter-collapsed',canResize:!0,collapsible:null,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1E3,collapseTarget:'next',
horizontal:!1,vertical:!1,touchAction:void 0,size:5,tracker:null,ariaRole:'separator',focusable:!0,tabIndex:0,applyTouchAction:function(touchAction,oldTouchAction){void 0===touchAction&&(touchAction=this.vertical?{panX:!1}:{panY:!1});return Ext.Component.prototype.applyTouchAction.call(this,touchAction,oldTouchAction)},getTrackerConfig:function(){return Ext.apply({xclass:'Ext.resizer.SplitterTracker',el:this.el,splitter:this},this.tracker)},beforeRender:function(){var target=this.getCollapseTarget(),
collapsible=this.collapsible;Ext.Component.prototype.beforeRender.call(this);target.collapsed&&this.addCls(this.collapsedClsInternal);this.canResize||this.addCls(this.baseCls+'-noresize');Ext.applyIf(this.renderData,{collapseDir:this.getCollapseDirection(),collapsible:null!==collapsible?collapsible:target.collapsible});this.ariaRenderAttributes=this.ariaRenderAttributes||{};this.ariaRenderAttributes['aria-orientation']=this.orientation;this.protoEl.unselectable()},onRender:function(){var target;Ext.Component.prototype.onRender.apply(this,
arguments);!1!==this.performCollapse&&(this.renderData.collapsible&&this.mon(this.collapseEl,'click',this.toggleTargetCmp,this),this.collapseOnDblClick&&this.mon(this.el,'dblclick',this.toggleTargetCmp,this));if((target=this.getCollapseTarget())&&target.isPanel)target.on({collapse:this.onTargetCollapse,expand:this.onTargetExpand,beforeexpand:this.onBeforeTargetExpand,beforecollapse:this.onBeforeTargetCollapse,scope:this});this.canResize&&(this.tracker=Ext.create(this.getTrackerConfig()),this.relayEvents(this.tracker,
['beforedragstart','dragstart','dragend']));if(target=this.collapseEl)target.lastCollapseDirCls=this.collapseDirProps[this.collapseDirection].cls},getCollapseDirection:function(){var dir=this.collapseDirection;if(!dir){var collapseTarget=this.collapseTarget;collapseTarget.isComponent&&(dir=collapseTarget.collapseDirection);if(!dir){var type=this.ownerCt.layout.type;collapseTarget.isComponent?(dir=this.ownerCt.items,collapseTarget=Number(dir.indexOf(collapseTarget)===dir.indexOf(this)-1)<<1|Number('hbox'===
type)):collapseTarget=Number('prev'===this.collapseTarget)<<1|Number('hbox'===type);dir=['bottom','right','top','left'][collapseTarget]}this.collapseDirection=dir}this.setOrientation('top'===dir||'bottom'===dir?'horizontal':'vertical');return dir},getCollapseTarget:function(){return this.collapseTarget.isComponent?this.collapseTarget:'prev'===this.collapseTarget?this.previousSibling():this.nextSibling()},setCollapseEl:function(display){var el=this.collapseEl;el&&el.setDisplayed(display)},onBeforeTargetExpand:function(target){this.setCollapseEl('none')},
onBeforeTargetCollapse:function(){this.setCollapseEl('none')},onTargetCollapse:function(target){target===this.getCollapseTarget()&&target['vertical'===this.orientation?'collapsedHorizontal':'collapsedVertical']()&&this.el.addCls(this.collapsedClsInternal+' '+(this.collapsedCls||''));this.setCollapseEl('')},onTargetExpand:function(target){this.el.removeCls(this.collapsedClsInternal+' '+(this.collapsedCls||''));this.setCollapseEl('')},collapseDirProps:{top:{cls:'x-layout-split-top'},right:{cls:'x-layout-split-right'},
bottom:{cls:'x-layout-split-bottom'},left:{cls:'x-layout-split-left'}},orientationProps:{horizontal:{opposite:'vertical',fixedAxis:'height',stretchedAxis:'width'},vertical:{opposite:'horizontal',fixedAxis:'width',stretchedAxis:'height'}},applyCollapseDirection:function(){var collapseEl=this.collapseEl,collapseDirProps=this.collapseDirProps[this.collapseDirection],cls;collapseEl&&((cls=collapseEl.lastCollapseDirCls)&&collapseEl.removeCls(cls),collapseEl.addCls(collapseEl.lastCollapseDirCls=collapseDirProps.cls))},
applyOrientation:function(){var orientation=this.orientation,orientationProps=this.orientationProps[orientation],defaultSize=this.size,fixedSizeProp=orientationProps.fixedAxis,stretchSizeProp=orientationProps.stretchedAxis,cls=this.baseCls+'-';this[orientation]=!0;this[orientationProps.opposite]=!1;this.hasOwnProperty(fixedSizeProp)&&'100%'!==this[fixedSizeProp]||(this[fixedSizeProp]=defaultSize);this.hasOwnProperty(stretchSizeProp)&&this[stretchSizeProp]!==defaultSize||(this[stretchSizeProp]='100%');
this.removeCls(cls+orientationProps.opposite);this.addCls(cls+orientation)},setOrientation:function(orientation){this.orientation!==orientation&&(this.orientation=orientation,this.applyOrientation())},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(e,t){e=this.getCollapseTarget();t=e.placeholder;Ext.isFunction(e.expand)&&Ext.isFunction(e.collapse)&&(t=t&&!t.hidden?!0:!e.hidden)&&(e.collapsed||e.floatedFromCollapse?
e.expand():e.collapseDirection?e.collapse():e.collapse(this.renderData.collapseDir))},setSize:function(){Ext.Component.prototype.setSize.apply(this,arguments);Ext.isIE&&this.el&&this.el.repaint()},doDestroy:function(){Ext.destroy(this.tracker);Ext.Component.prototype.doDestroy.call(this)}},0,['splitter'],['component','box','splitter'],{component:!0,box:!0,splitter:!0},['widget.splitter'],0,[Ext.resizer,'Splitter'],0);
Ext.define('Ext.theme.neptune.resizer.Splitter',{override:'Ext.resizer.Splitter',size:8});Ext.define('Ext.theme.triton.resizer.Splitter',{override:'Ext.resizer.Splitter',size:10});
Ext.cmd.derive('Ext.layout.container.Box',Ext.layout.container.Container,{alternateClassName:'Ext.layout.BoxLayout',type:'box',config:{align:'begin',constrainAlign:!1,enableSplitters:!0,overflowHandler:{$value:null,merge:function(newValue,oldValue){'string'===typeof newValue&&(newValue={type:newValue});return Ext.merge(oldValue?Ext.Object.chain(oldValue):{},newValue)}},padding:0,pack:'start',stretchMaxPartner:void 0,vertical:!1,alignRoundingMethod:'round'},itemCls:'x-box-item',targetCls:'x-box-layout-ct',
targetElCls:'x-box-target',innerCls:'x-box-inner',manageMargins:!0,createsInnerCt:!0,childEls:['innerCt','targetEl'],renderTpl:['{%var oc,l\x3dvalues.$comp.layout,oh\x3dl.overflowHandler;if (oh \x26\x26 oh.getPrefixConfig!\x3d\x3dExt.emptyFn) {if(oc\x3doh.getPrefixConfig())dh.generateMarkup(oc, out)}%}\x3cdiv id\x3d"{ownerId}-innerCt" data-ref\x3d"innerCt" role\x3d"presentation" class\x3d"{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"\x3e\x3cdiv id\x3d"{ownerId}-targetEl" data-ref\x3d"targetEl" class\x3d"{targetElCls}" role\x3d"presentation"\x3e{%this.renderBody(out, values)%}\x3c/div\x3e\x3c/div\x3e{%if (oh \x26\x26 oh.getSuffixConfig!\x3d\x3dExt.emptyFn) {if(oc\x3doh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',
{disableFormats:!0,definitions:'var dh\x3dExt.DomHelper;'}],constructor:function(config){Ext.layout.container.Container.prototype.constructor.call(this,config);this.setVertical(this.vertical);this.flexSortFn=this.flexSort.bind(this);config=typeof this.padding;if('string'===config||'number'===config)this.padding=Ext.util.Format.parseBox(this.padding),this.padding.height=this.padding.top+this.padding.bottom,this.padding.width=this.padding.left+this.padding.right},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,
_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(item,ownerSizeModel){var policy=this.sizePolicy,align=this.align,flex=item.flex,key=align,names=this.names,heightName=names.height;names=names.width;var height=item[heightName],percentageRe=this._percentageRe;item=percentageRe.test(item[names]);var isStretch='stretch'===align;align='stretchmax'===align;var constrain=this.constrainAlign;!ownerSizeModel&&(isStretch||flex||item||constrain&&!align)&&
(ownerSizeModel=this.owner.getSizeModel());isStretch?!percentageRe.test(height)&&ownerSizeModel[heightName].shrinkWrap&&(key='stretchmax'):align||(key=percentageRe.test(height)?'stretch':constrain&&!ownerSizeModel[heightName].shrinkWrap?'stretchmax':'');!flex&&!item||ownerSizeModel[names].shrinkWrap||(policy=policy.flex);return policy[key]},flexSort:function(a,b){var maxWidthName=this.names.maxWidth,minWidthName=this.names.minWidth,aTarget=a.target,bTarget=b.target;b=aTarget.flex;a=bTarget.flex;var result=
0;var aMax=aTarget[maxWidthName]||Infinity;maxWidthName=bTarget[maxWidthName]||Infinity;aTarget=aTarget[minWidthName]||0;minWidthName=bTarget[minWidthName]||0;bTarget=isFinite(aTarget)||isFinite(minWidthName);var hasMax=isFinite(aMax)||isFinite(maxWidthName);if(bTarget||hasMax)hasMax&&(result=aMax-maxWidthName),0===result&&bTarget&&(result=minWidthName-aTarget),0===result&&(result=hasMax?a-b:b-a);return result},isItemBoxParent:function(itemContext){return!0},isItemShrinkWrap:function(item){return!0},
roundFlex:function(width){return Math.floor(width)},beginCollapse:function(child){'vertical'===this.direction&&child.collapsedVertical()?(child.collapseMemento.capture(['flex']),delete child.flex):'horizontal'===this.direction&&child.collapsedHorizontal()&&(child.collapseMemento.capture(['flex']),delete child.flex)},beginExpand:function(child){child.collapseMemento.restore(['flex'])},beginLayout:function(ownerContext){var owner=this.owner,smp=owner.stretchMaxPartner,style=this.innerCt.dom.style,overflowHandler=
this.overflowHandler;ownerContext.boxNames=this.names;overflowHandler&&overflowHandler.beginLayout(ownerContext);'string'===typeof smp&&(smp=Ext.getCmp(smp)||owner.query(smp)[0]);ownerContext.stretchMaxPartner=smp&&ownerContext.context.getCmp(smp);Ext.layout.container.Container.prototype.beginLayout.call(this,ownerContext);ownerContext.innerCtContext=ownerContext.getEl('innerCt',this);ownerContext.targetElContext=ownerContext.getEl('targetEl',this);ownerContext.ownerScrollable=owner.getScrollable();
style.width=style.height=''},beginLayoutCycle:function(ownerContext,firstCycle){var state=ownerContext.state,scrollable=ownerContext.ownerScrollable,align=this.align,names=ownerContext.boxNames,pack=this.pack,centerRe=this._centerRe,overflowHandler=this.overflowHandler,canScroll=ownerContext.state.canScroll;overflowHandler&&overflowHandler.beginLayoutCycle(ownerContext,firstCycle);Ext.layout.container.Container.prototype.beginLayoutCycle.call(this,ownerContext,firstCycle);ownerContext.parallelSizeModel=
firstCycle=ownerContext[names.widthModel];ownerContext.perpendicularSizeModel=overflowHandler=ownerContext[names.heightModel];ownerContext.boxOptions={align:align={stretch:'stretch'===align,stretchmax:'stretchmax'===align,center:centerRe.test(align),bottom:this._endRe.test(align)},pack:pack={center:centerRe.test(pack),end:'end'===pack}};scrollable&&!scrollable.isBoxOverflowScroller&&(canScroll||(state.canScroll={parallel:!firstCycle.shrinkWrap&&scrollable[names.getX](),perpendicular:!overflowHandler.shrinkWrap&&
scrollable[names.getY]()}),state.actualScroll||(state.actualScroll={parallel:!1,perpendicular:!1}));align.stretch&&overflowHandler.shrinkWrap&&(align.stretchmax=!0,align.stretch=!1);align.nostretch=!(align.stretch||align.stretchmax);firstCycle.shrinkWrap&&(pack.center=pack.end=!1);this.cacheFlexes(ownerContext);this.targetEl.setWidth(2E4)},cacheFlexes:function(ownerContext){for(var names=ownerContext.boxNames,widthModelName=names.widthModel,heightModelName=names.heightModel,nostretch=ownerContext.boxOptions.align.nostretch,
totalFlex=0,childItems=ownerContext.childItems,i=childItems.length,flexedItems=[],minWidth=0,smallestHeight=0,smallestWidth=0,minWidthName=names.minWidth,minHeightName=names.minHeight,percentageRe=this._percentageRe,percentageWidths=0,percentageHeights=0,child,childContext,flex,heightModel;i--;){childContext=childItems[i];child=childContext.target;heightModel=childContext[widthModelName];if(heightModel.calculated)if(childContext.flex=flex=child.flex)totalFlex+=flex,flexedItems.push(childContext),
minWidth+=child[minWidthName]||0;else if(flex=percentageRe.exec(child[names.width]))childContext.percentageParallel=parseFloat(flex[1])/100,++percentageWidths;flex=heightModel.configured?child[names.width]:child[minWidthName]||0;smallestWidth+=flex;heightModel=childContext[heightModelName];nostretch&&heightModel.calculated&&(flex=percentageRe.exec(child[names.height]),childContext.percentagePerpendicular=parseFloat(flex[1])/100,++percentageHeights);child=heightModel.configured?child[names.height]:
child[minHeightName]||0;child>smallestHeight&&(smallestHeight=child)}ownerContext.flexedItems=flexedItems;ownerContext.flexedMinWidth=minWidth;ownerContext.smallestWidth=smallestWidth;ownerContext.smallestHeight=smallestHeight;ownerContext.totalFlex=totalFlex;ownerContext.percentageWidths=percentageWidths;ownerContext.percentageHeights=percentageHeights;Ext.Array.sort(flexedItems,this.flexSortFn)},calculate:function(ownerContext){var names=ownerContext.boxNames,state=ownerContext.state,actualScroll=
state.actualScroll,needsScroll=state.needsScroll,canScroll=state.canScroll,plan=state.boxPlan||(state.boxPlan={}),overflowHandler=this.overflowHandler;plan.targetSize=this.getContainerSize(ownerContext);canScroll&&!needsScroll&&(state.needsScroll=needsScroll={parallel:canScroll.parallel&&plan.targetSize[names.width]<ownerContext.smallestWidth,perpendicular:canScroll.perpendicular&&plan.targetSize[names.height]<ownerContext.smallestHeight});state.parallelDone||(state.parallelDone=this.calculateParallel(ownerContext,
names,plan));state.perpendicularDone||(state.perpendicularDone=this.calculatePerpendicular(ownerContext,names,plan));state.parallelDone&&state.perpendicularDone?!canScroll||state.scrollPass||needsScroll.parallel===actualScroll.parallel&&needsScroll.perpendicular===actualScroll.perpendicular?(this.publishInnerCtSize(ownerContext),this.done&&ownerContext.boxOptions.align.stretchmax&&!state.stretchMaxDone&&(this.calculateStretchMax(ownerContext,names,plan),state.stretchMaxDone=!0),overflowHandler&&overflowHandler.calculate(ownerContext)):
(ownerContext.invalidate({state:{scrollPass:!0,canScroll,needsScroll:actualScroll}}),this.done=!1):this.done=!1},calculateParallel:function(ownerContext,names,plan){var widthShrinkWrap=ownerContext.parallelSizeModel.shrinkWrap,widthName=names.width,childItems=ownerContext.childItems,beforeXName=names.beforeX,afterXName=names.afterX,setWidthName=names.setWidth,childItemsLength=childItems.length,flexedItems=ownerContext.flexedItems,flexedItemsLength=flexedItems.length,pack=ownerContext.boxOptions.pack,
padding=this.padding,targetSize=plan.targetSize,containerWidth=targetSize[widthName],state=ownerContext.state,needsScroll=state.needsScroll,canScroll=state.canScroll,totalMargin=0,left=padding[beforeXName],nonFlexWidth=left+padding[afterXName],scrollbarSize=Ext.scrollbar.size();padding=scrollbarSize[names.width];var scrollbarHeight=scrollbarSize[names.height];if(!widthShrinkWrap&&!targetSize[names.gotWidth])return!1;for(targetSize=0;targetSize<childItemsLength;++targetSize){scrollbarSize=childItems[targetSize];
var childMargins=scrollbarSize.marginInfo||scrollbarSize.getMarginInfo();totalMargin+=childMargins[widthName];if(!scrollbarSize[names.widthModel].calculated&&(childMargins=scrollbarSize.getProp(widthName),nonFlexWidth+=childMargins,isNaN(nonFlexWidth)))return!1}nonFlexWidth+=totalMargin;if(ownerContext.percentageWidths){totalMargin=containerWidth-totalMargin;if(isNaN(totalMargin))return!1;for(targetSize=0;targetSize<childItemsLength;++targetSize)scrollbarSize=childItems[targetSize],scrollbarSize.percentageParallel&&
(childMargins=Math.ceil(totalMargin*scrollbarSize.percentageParallel),childMargins=scrollbarSize[setWidthName](childMargins),nonFlexWidth+=childMargins)}widthShrinkWrap?(targetSize=0,plan.tooNarrow=!1):(targetSize=containerWidth-nonFlexWidth,needsScroll&&needsScroll.perpendicular&&(targetSize-=scrollbarHeight),plan.tooNarrow=targetSize<ownerContext.flexedMinWidth,plan.tooNarrow&&canScroll&&canScroll.parallel&&(state.actualScroll.parallel=!0));plan=nonFlexWidth;state=targetSize;canScroll=ownerContext.totalFlex;
for(targetSize=0;targetSize<flexedItemsLength;targetSize++)scrollbarSize=flexedItems[targetSize],containerWidth=scrollbarSize.flex,nonFlexWidth=this.roundFlex(containerWidth/canScroll*state),nonFlexWidth=scrollbarSize[setWidthName](nonFlexWidth),plan+=nonFlexWidth,state=Math.max(0,state-nonFlexWidth),canScroll-=containerWidth;pack.center?(left+=state/2,0>left&&(left=0)):pack.end&&(left+=state);for(targetSize=0;targetSize<childItemsLength;++targetSize)scrollbarSize=childItems[targetSize],childMargins=
scrollbarSize.marginInfo,left+=childMargins[beforeXName],scrollbarSize.setProp(names.x,left),left+=childMargins[afterXName]+scrollbarSize.props[widthName];plan+=ownerContext.targetContext.getPaddingInfo()[widthName];ownerContext.state.contentWidth=plan;needsScroll&&needsScroll.perpendicular&&(widthShrinkWrap&&(plan+=padding),ownerContext[names.hasOverflowY]=!0,ownerContext.target.componentLayout[names.setWidthInDom]=!0,ownerContext[names.invalidateScrollY]=Ext.isIE8);ownerContext[names.setContentWidth](plan);
return!0},calculatePerpendicular:function(ownerContext,names,plan){var state=ownerContext.state,needsScroll=state.needsScroll,canScroll=state.canScroll,heightShrinkWrap=ownerContext.perpendicularSizeModel.shrinkWrap,targetSize=plan.targetSize,childItems=ownerContext.childItems,childItemsLength=childItems.length,mmax=Math.max,heightName=names.height,setHeightName=names.setHeight,beforeYName=names.beforeY,topPositionName=names.y,padding=this.padding,top=padding[beforeYName],availHeight=targetSize[heightName]-
top-padding[names.afterY],align=ownerContext.boxOptions.align;padding=align.stretch;var isStretchMax=align.stretchmax,isCenter=align.center;align=align.bottom;var constrain=this.constrainAlign,maxHeight=0,hasPercentageSizes=0,onBeforeInvalidateChild=this.onBeforeConstrainInvalidateChild,onAfterInvalidateChild=this.onAfterConstrainInvalidateChild,scrollbarHeight=Ext.scrollbar.height(),childHeight;if(!heightShrinkWrap&&!targetSize[names.gotHeight]||(padding||(isCenter||align)&&!heightShrinkWrap)&&isNaN(availHeight))return!1;
if(needsScroll&&needsScroll.parallel)if(heightShrinkWrap)var shrinkWrapParallelOverflow=!0;else availHeight-=scrollbarHeight,plan.targetSize[heightName]-=scrollbarHeight;if(padding){var height=availHeight;maxHeight=mmax(height,ownerContext.smallestHeight)}else for(needsScroll=0;needsScroll<childItemsLength;needsScroll++){var childContext=childItems[needsScroll];var childMargins=(childContext.marginInfo||childContext.getMarginInfo())[heightName];if(childHeight=childContext.percentagePerpendicular)if(++hasPercentageSizes,
heightShrinkWrap)continue;else childHeight=childHeight*availHeight-childMargins,childHeight=childContext[setHeightName](childHeight);else childHeight=childContext.getProp(heightName);!heightShrinkWrap&&constrain&&childContext[names.heightModel].shrinkWrap&&childHeight>availHeight&&(childContext.invalidate({before:onBeforeInvalidateChild,after:onAfterInvalidateChild,layout:this,childHeight:availHeight,names}),ownerContext.state.parallelDone=!1);if(isNaN(maxHeight=mmax(maxHeight,childHeight+childMargins,
childContext.target[names.minHeight]||0)))return!1}shrinkWrapParallelOverflow&&(maxHeight+=scrollbarHeight,ownerContext[names.hasOverflowX]=!0,ownerContext.target.componentLayout[names.setHeightInDom]=!0,ownerContext[names.invalidateScrollX]=Ext.isIE8);if(needsScroll=ownerContext.stretchMaxPartner)if(ownerContext.setProp('maxChildHeight',maxHeight),(childContext=needsScroll.childItems)&&childContext.length&&(maxHeight=mmax(maxHeight,needsScroll.getProp('maxChildHeight')),isNaN(maxHeight)))return!1;
ownerContext[names.setContentHeight](maxHeight+this.padding[heightName]+ownerContext.targetContext.getPaddingInfo()[heightName]);shrinkWrapParallelOverflow&&(maxHeight-=scrollbarHeight);maxHeight>targetSize[heightName]&&canScroll&&canScroll.perpendicular&&(state.actualScroll.perpendicular=!0);plan.maxSize=maxHeight;if(isStretchMax)height=maxHeight;else if(isCenter||align||hasPercentageSizes)height=constrain?heightShrinkWrap?maxHeight:availHeight:heightShrinkWrap?maxHeight:mmax(availHeight,maxHeight),
height-=ownerContext.innerCtContext.getBorderInfo()[heightName];for(needsScroll=0;needsScroll<childItemsLength;needsScroll++){childContext=childItems[needsScroll];childMargins=childContext.marginInfo||childContext.getMarginInfo();ownerContext=top+childMargins[beforeYName];if(padding)childContext[setHeightName](height-childMargins[heightName]);else childHeight=childContext.percentagePerpendicular,heightShrinkWrap&&childHeight&&(childMargins=childContext.marginInfo||childContext.getMarginInfo(),childHeight=
childHeight*height-childMargins[heightName],childContext[setHeightName](childHeight)),isCenter?(names=height-childContext.props[heightName],0<names&&(ownerContext=top+Math[this.alignRoundingMethod](names/2))):align&&(ownerContext=mmax(0,height-ownerContext-childContext.props[heightName]));childContext.setProp(topPositionName,ownerContext)}return!0},onBeforeConstrainInvalidateChild:function(childContext,options){options=options.names.heightModel;childContext[options].constrainedMin||(childContext[options]=
Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(childContext,options){var names=options.names;childContext.setProp(names.beforeY,0);if(childContext[names.heightModel].calculated)childContext[names.setHeight](options.childHeight)},calculateStretchMax:function(ownerContext,names,plan){var heightName=names.height,widthName=names.width;ownerContext=ownerContext.childItems;var length=ownerContext.length;plan=plan.maxSize;var onBeforeStretchMaxInvalidateChild=this.onBeforeStretchMaxInvalidateChild,
onAfterStretchMaxInvalidateChild=this.onAfterStretchMaxInvalidateChild,i;for(i=0;i<length;++i){var childContext=ownerContext[i];var props=childContext.props;var childHeight=plan-childContext.getMarginInfo()[heightName];(childHeight!==props[heightName]||childContext[names.heightModel].constrained)&&childContext.invalidate({before:onBeforeStretchMaxInvalidateChild,after:onAfterStretchMaxInvalidateChild,layout:this,childWidth:props[widthName],childHeight,childX:props.x,childY:props.y,names})}},onBeforeStretchMaxInvalidateChild:function(childContext,
options){options=options.names.heightModel;childContext[options].constrainedMax||(childContext[options]=Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(childContext,options){var names=options.names,childHeight=options.childHeight,childWidth=options.childWidth;childContext.setProp('x',options.childX);childContext.setProp('y',options.childY);if(childContext[names.heightModel].calculated)childContext[names.setHeight](childHeight);if(childContext[names.widthModel].calculated)childContext[names.setWidth](childWidth)},
completeLayout:function(ownerContext){var invalidateScrollX=ownerContext.invalidateScrollX,invalidateScrollY=ownerContext.invalidateScrollY,overflowHandler=this.overflowHandler;overflowHandler&&overflowHandler.completeLayout(ownerContext);if(invalidateScrollX||invalidateScrollY){overflowHandler=this.getTarget();ownerContext=overflowHandler.dom;var styles=ownerContext.style;if(invalidateScrollX){var overflowX=overflowHandler.getStyle('overflowX');'auto'===overflowX?(overflowX=styles.overflowX,styles.overflowX=
'scroll'):invalidateScrollX=!1}if(invalidateScrollY){var overflowY=overflowHandler.getStyle('overflowY');'auto'===overflowY?(overflowY=styles.overflowY,styles.overflowY='scroll'):invalidateScrollY=!1}if(invalidateScrollX||invalidateScrollY)ownerContext.scrollWidth,invalidateScrollX&&(styles.overflowX=overflowX),invalidateScrollY&&(styles.overflowY=overflowY)}},finishedLayout:function(ownerContext){var overflowHandler=this.overflowHandler;overflowHandler&&overflowHandler.finishedLayout(ownerContext);
Ext.layout.container.Container.prototype.finishedLayout.call(this,ownerContext)},getLayoutItems:function(){var items=Ext.layout.container.Container.prototype.getLayoutItems.call(this),n=items.length,i,item;for(i=0;i<n;++i)if(!(item=items[i]).isSplitter){var splitter=item.splitter;if(item.hidden)splitter&&!splitter.hidden&&(splitter.hidden=!0,splitter.el&&splitter.el.hide());else{var splitBefore=splitter?'next'===splitter.collapseTarget:!1;var hide=null;lastVisibleItem&&splitAfter?(splitAfter.hidden&&
(splitAfter.hidden=!1,splitAfter.el&&splitAfter.el.show()),splitBefore&&(hide=!0)):splitBefore&&(hide=!lastVisibleItem);null!==hide&&splitter.hidden!==hide&&(splitter.hidden=hide,splitter.el&&splitter.el.setVisible(!hide));var splitAfter=!splitBefore&&splitter;var lastVisibleItem=item}}lastVisibleItem&&splitAfter&&!splitAfter.hidden&&(splitAfter.hidden=!0,splitAfter.el&&splitAfter.el.hide());return items},insertSplitter:function(item,index,hidden,splitterCfg){hidden={xtype:'splitter',id:item.id+'-splitter',
hidden,splitterFor:item,synthetic:!0};index+='prev'===splitterCfg.collapseTarget?1:0;hidden[this.names.height]='100%';splitterCfg&&Ext.apply(hidden,splitterCfg);item.splitter=this.owner.add(index,hidden)},publishInnerCtSize:function(ownerContext,widthOffset){var state=ownerContext.state,names=ownerContext.boxNames,heightName=names.height,widthName=names.width,align=ownerContext.boxOptions.align,padding=this.padding,plan=state.boxPlan,targetSize=plan.targetSize,height=plan.maxSize,needsScroll=state.needsScroll,
innerCtContext=ownerContext.innerCtContext;widthOffset=widthOffset||0;ownerContext.parallelSizeModel.shrinkWrap||plan.tooNarrow&&state.canScroll?state=state.contentWidth-ownerContext.targetContext.getPaddingInfo()[widthName]:(state=targetSize[widthName],needsScroll&&needsScroll.perpendicular&&(state-=Ext.scrollbar.size()[widthName]));state-=widthOffset;this.owner.tooNarrow=plan.tooNarrow;align.stretch?widthName=height:(widthName=plan.maxSize+padding[names.beforeY]+padding[names.afterY]+innerCtContext.getBorderInfo()[heightName],
ownerContext.perpendicularSizeModel.shrinkWrap||!align.center&&!align.bottom||(widthName=Math.max(targetSize[heightName],widthName)));innerCtContext[names.setWidth](state);innerCtContext[names.setHeight](widthName);ownerContext.targetElContext.setWidth(ownerContext.innerCtContext.props.width-(this.vertical?0:widthOffset||0));isNaN(state+widthName)&&(this.done=!1)},onAdd:function(item,index){var split=this.enableSplitters&&!item.isButton&&item.split;Ext.layout.container.Container.prototype.onAdd.call(this,
item,index);split&&(split=!0===split?{collapseTarget:'next'}:Ext.isString(split)?{collapseTarget:'before'===split?'next':'prev'}:Ext.apply({collapseTarget:'before'===split.side?'next':'prev'},split),this.insertSplitter(item,index,!!item.hidden,split))},onRemove:function(comp,isDestroying){var names=this.names,owner=this.owner,splitter=comp.splitter,overflowHandler=this.overflowHandler;Ext.layout.container.Container.prototype.onRemove.call(this,comp,isDestroying);splitter&&owner.contains(splitter)&&
(owner.doRemove(splitter,!0),comp.splitter=null);if(overflowHandler)overflowHandler.onRemove(comp);comp.layoutMarginCap===this.id&&delete comp.layoutMarginCap;!owner.destroying&&!isDestroying&&comp.rendered&&(comp=comp.getEl())&&(comp.setStyle(names.beforeY,''),comp.setStyle(names.beforeX,''),comp.setStyle('margin',''))},applyOverflowHandler:function(overflowHandler,oldOverflowHandler){'string'===typeof overflowHandler&&(overflowHandler={type:overflowHandler});if(oldOverflowHandler&&oldOverflowHandler.type===
overflowHandler.type)return delete overflowHandler.type,oldOverflowHandler.setConfig(overflowHandler),oldOverflowHandler;overflowHandler.layout=this;return Ext.Factory.boxOverflow(overflowHandler)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler);this.flexSortFn=this.innerCt=null;Ext.layout.container.Container.prototype.destroy.call(this)},getRenderData:function(){var data=Ext.layout.container.Container.prototype.getRenderData.call(this);
data.targetElCls=this.targetElCls;return data},updateVertical:function(vertical){var overflowHandler=this.overflowHandler,owner=this.owner,props=this._props;Ext.apply(this,vertical?props.vbox:props.hbox);overflowHandler&&owner&&owner.rendered&&overflowHandler.setVertical(vertical)},_props:{hbox:{direction:'horizontal',oppositeDirection:'vertical',horizontal:!0,vertical:!1,names:{beforeX:'left',beforeScrollX:'left',leftCap:'Left',afterX:'right',width:'width',contentWidth:'contentWidth',minWidth:'minWidth',
maxWidth:'maxWidth',widthCap:'Width',widthModel:'widthModel',widthIndex:0,x:'x',getX:'getX',setX:'setX',scrollLeft:'scrollLeft',overflowX:'overflowX',hasOverflowX:'hasOverflowX',invalidateScrollX:'invalidateScrollX',parallelMargins:'lr',center:'middle',beforeY:'top',afterY:'bottom',height:'height',contentHeight:'contentHeight',minHeight:'minHeight',maxHeight:'maxHeight',heightCap:'Height',heightModel:'heightModel',heightIndex:1,y:'y',getY:'getY',setY:'setY',overflowY:'overflowY',hasOverflowY:'hasOverflowY',
invalidateScrollY:'invalidateScrollY',perpendicularMargins:'tb',getWidth:'getWidth',getHeight:'getHeight',setWidth:'setWidth',setHeight:'setHeight',gotWidth:'gotWidth',gotHeight:'gotHeight',setContentWidth:'setContentWidth',setContentHeight:'setContentHeight',setWidthInDom:'setWidthInDom',setHeightInDom:'setHeightInDom',getScrollLeft:'getScrollLeft',setScrollLeft:'setScrollLeft',scrollTo:'scrollTo'},sizePolicy:{flex:{'':{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,
setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},'':{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:'vertical',oppositeDirection:'horizontal',horizontal:!1,vertical:!0,names:{beforeX:'top',beforeScrollX:'top',leftCap:'Top',afterX:'bottom',width:'height',contentWidth:'contentHeight',minWidth:'minHeight',maxWidth:'maxHeight',
widthCap:'Height',widthModel:'heightModel',widthIndex:1,x:'y',getX:'getY',setX:'setY',scrollLeft:'scrollTop',overflowX:'overflowY',hasOverflowX:'hasOverflowY',invalidateScrollX:'invalidateScrollY',parallelMargins:'tb',center:'center',beforeY:'left',afterY:'right',height:'width',contentHeight:'contentWidth',minHeight:'minWidth',maxHeight:'maxWidth',heightCap:'Width',heightModel:'widthModel',heightIndex:0,y:'x',getY:'getX',setY:'setX',overflowY:'overflowX',hasOverflowY:'hasOverflowX',invalidateScrollY:'invalidateScrollX',
perpendicularMargins:'lr',getWidth:'getHeight',getHeight:'getWidth',setWidth:'setHeight',setHeight:'setWidth',gotWidth:'gotHeight',gotHeight:'gotWidth',setContentWidth:'setContentHeight',setContentHeight:'setContentWidth',setWidthInDom:'setHeightInDom',setHeightInDom:'setWidthInDom',getScrollLeft:'getScrollTop',setScrollLeft:'setScrollTop',scrollTo:'scrollTo'},sizePolicy:{flex:{'':{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,
readsHeight:0,setsWidth:1,setsHeight:1}},'':{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}},1,0,0,0,['layout.box'],0,[Ext.layout.container,'Box',Ext.layout,'BoxLayout'],0);
Ext.cmd.derive('Ext.layout.container.HBox',Ext.layout.container.Box,{alternateClassName:'Ext.layout.HBoxLayout',type:'hbox',vertical:!1},0,0,0,0,['layout.hbox'],0,[Ext.layout.container,'HBox',Ext.layout,'HBoxLayout'],0);Ext.cmd.derive('Ext.layout.container.VBox',Ext.layout.container.Box,{alternateClassName:'Ext.layout.VBoxLayout',type:'vbox',vertical:!0},0,0,0,0,['layout.vbox'],0,[Ext.layout.container,'VBox',Ext.layout,'VBoxLayout'],0);
Ext.cmd.derive('Ext.toolbar.Toolbar',Ext.container.Container,{alternateClassName:'Ext.Toolbar',isToolbar:!0,baseCls:'x-toolbar',ariaRole:'toolbar',focusableContainer:!0,defaultType:'button',layout:void 0,vertical:void 0,enableOverflow:!1,overflowHandler:null,defaultButtonUI:'default-toolbar',defaultFieldUI:'default',defaultFooterButtonUI:'default',defaultFooterFieldUI:'default',trackMenus:!0,itemCls:'x-toolbar-item',statics:{shortcuts:{'-':'tbseparator',' ':'tbspacer'},shortcutsHV:{0:{'-\x3e':{xtype:'tbfill',
height:0}},1:{'-\x3e':{xtype:'tbfill',width:0}}}},initComponent:function(){var layout=this.layout,vertical=this.vertical;void 0===vertical&&(this.vertical=vertical='right'===this.dock||'left'===this.dock);this.layout=layout=Ext.applyIf(Ext.isString(layout)?{type:layout}:layout||{},{type:vertical?'vbox':'hbox',align:vertical?'stretchmax':'middle'});this.overflowHandler?layout.overflowHandler=this.overflowHandler:this.enableOverflow&&(layout.overflowHandler='menu');vertical&&this.addClsWithUI('vertical');
'footer'===this.ui&&(this.ignoreBorderManagement=!0);Ext.container.Container.prototype.initComponent.call(this)},afterFirstLayout:function(width,height){var el=this.layout.getRenderTarget().dom;Ext.container.Container.prototype.afterFirstLayout.call(this,width,height);this.trackMenus&&this.addPlugin({ptype:'mouseenter',element:el,delegate:function(e){return e.parentNode===el},handler:this.onItemOver,scope:this})},getRefItems:function(deep){var items=Ext.container.Container.prototype.getRefItems.apply(this,
arguments),layout=this.layout;deep&&(this.enableOverflow||'menu'===this.overflowHandler)&&(layout=layout.overflowHandler)&&layout.menu&&(items=items.concat(layout.menu.getRefItems(deep)));return items},lookupComponent:function(c){var args=arguments;'string'===typeof c&&'@'!==c[0]&&(args=Ext.toolbar.Toolbar,args=args.shortcutsHV[this.vertical?1:0][c]||args.shortcuts[c],c='string'===typeof args?{xtype:args}:args?Ext.apply({},args):{xtype:'tbtext',text:c},this.applyDefaults(c),args=[c]);return Ext.container.Container.prototype.lookupComponent.apply(this,
args)},onBeforeAdd:function(component){var isFooter='footer'===this.ui,defaultButtonUI=isFooter?this.defaultFooterButtonUI:this.defaultButtonUI;component.isSegmentedButton?'default'!==component.getDefaultUI()||component.config.hasOwnProperty('defaultUI')||component.setDefaultUI(defaultButtonUI):'default'!==component.ui||component.hasOwnProperty('ui')||(component.isButton?component.ui=defaultButtonUI:component.isFormField&&(component.ui=isFooter?this.defaultFooterFieldUI:this.defaultFieldUI));component instanceof
Ext.toolbar.Separator&&component.setUI(this.vertical?'vertical':'horizontal');Ext.container.Container.prototype.onBeforeAdd.apply(this,arguments)},onAdd:function(component){component.needArrowKeys&&this.focusableContainer&&!this.hasOwnProperty('focusableContainer')&&(this.focusableContainer=!1,this.ariaRole='group');Ext.container.Container.prototype.onAdd.apply(this,arguments);this.trackMenu(component)},onRemove:function(c){Ext.container.Container.prototype.onRemove.apply(this,arguments);this.trackMenu(c,
!0)},privates:{applyDefaults:function(c){Ext.isString(c)||(c=Ext.container.Container.prototype.applyDefaults.apply(this,arguments));return c},trackMenu:function(item,remove){if(item.menu)item[remove?'un':'on']({menushow:this.onButtonMenuShow,menuhide:this.onButtonMenuHide,scope:this})},getChildItemsToDisable:function(){return this.items.getRange()},onItemOver:function(e,target){target=Ext.Component.from(target);var activeMenuBtn=this.activeMenuBtn;activeMenuBtn&&activeMenuBtn!==target&&target.showMenu&&
target.menu&&(target.focus(),target.showMenu(e))},onButtonMenuShow:function(btn){this.activeMenuBtn=btn},onButtonMenuHide:function(btn){this.activeMenuBtn=null}}},0,['toolbar'],['component','box','container','toolbar'],{component:!0,box:!0,container:!0,toolbar:!0},['widget.toolbar'],0,[Ext.toolbar,'Toolbar',Ext,'Toolbar'],0);Ext.define('Ext.theme.neptune.toolbar.Toolbar',{override:'Ext.toolbar.Toolbar',usePlainButtons:!1,border:!1});
Ext.cmd.derive('Ext.dd.DragDrop',Ext.Base,{constructor:function(id,sGroup,config){id&&this.init(id,sGroup,config)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,
yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,triggerEvent:'mousedown',b4StartDrag:function(x,y){},startDrag:function(x,y){},b4Drag:function(e){},onDrag:function(e){},onDragEnter:function(e,id){},b4DragOver:function(e){},onDragOver:function(e,id){},b4DragOut:function(e){},onDragOut:function(e,id){},b4DragDrop:function(e){},onDragDrop:function(e,id){},onInvalidDrop:function(e){},b4EndDrag:function(e){},endDrag:function(e){},b4MouseDown:function(e){},onMouseDown:function(e){},onMouseUp:function(e){},
onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(constrainTo,pad,inContent){Ext.isNumber(pad)&&(pad={left:pad,right:pad,top:pad,bottom:pad});pad=pad||this.defaultPadding;inContent=Ext.get(this.getEl()).getBox();constrainTo=Ext.get(constrainTo);var JSCompiler_object_inline_width_57=constrainTo.getScroll();var JSCompiler_object_inline_height_58=constrainTo.dom;if(JSCompiler_object_inline_height_58===document.body){constrainTo=JSCompiler_object_inline_width_57.left;
var JSCompiler_object_inline_y_56=JSCompiler_object_inline_width_57.top;JSCompiler_object_inline_width_57=Ext.Element.getViewportWidth();JSCompiler_object_inline_height_58=Ext.Element.getViewportHeight()}else JSCompiler_object_inline_width_57=constrainTo.getXY(),constrainTo=JSCompiler_object_inline_width_57[0],JSCompiler_object_inline_y_56=JSCompiler_object_inline_width_57[1],JSCompiler_object_inline_width_57=JSCompiler_object_inline_height_58.clientWidth,JSCompiler_object_inline_height_58=JSCompiler_object_inline_height_58.clientHeight;
JSCompiler_object_inline_y_56=inContent.y-JSCompiler_object_inline_y_56;constrainTo=inContent.x-constrainTo;this.resetConstraints();this.setXConstraint(constrainTo-(pad.left||0),JSCompiler_object_inline_width_57-constrainTo-inContent.width-(pad.right||0),this.xTickSize);this.setYConstraint(JSCompiler_object_inline_y_56-(pad.top||0),JSCompiler_object_inline_height_58-JSCompiler_object_inline_y_56-inContent.height-(pad.bottom||0),this.yTickSize)},getEl:function(){this._domRef||(this._domRef=Ext.getDom(this.id));
return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(id,sGroup,config){this.el=this.el||Ext.get(id);this.initTarget(id,sGroup,config);Ext.get(this.id).on(this.triggerEvent,this.handleMouseDown,this);Ext.supports.Touch&&'longpress'===this.triggerEvent&&Ext.get(this.id).swallowEvent('contextmenu',!0)},initTarget:function(id,sGroup,config){this.config=config||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};'string'!==typeof id&&(id=Ext.id(id));this.id=id;
this.addToGroup(sGroup?sGroup:'default');this.handleElId=id;this.setDragElId(id);this.invalidHandleTypes={A:'A'};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=!1!==this.config.isTarget;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=!1!==this.config.primaryButtonOnly},handleOnAvailable:function(){this.available=!0;this.resetConstraints();this.onAvailable()},
setPadding:function(iTop,iRight,iBot,iLeft){this.padding=iRight||0===iRight?iBot||0===iBot?[iTop,iRight,iBot,iLeft]:[iTop,iRight,iTop,iRight]:[iTop,iTop,iTop,iTop]},setInitPosition:function(diffX,diffY){var el=this.getEl();this.DDMInstance.verifyEl(el)&&(diffX=diffX||0,diffY=diffY||0,el=Ext.fly(el).getXY(),this.initPageX=el[0]-diffX,this.initPageY=el[1]-diffY,this.lastPageX=el[0],this.lastPageY=el[1],this.setStartPosition(el))},setStartPosition:function(pos){pos=pos||Ext.fly(this.getEl()).getXY();
this.deltaSetXY=null;this.startPageX=pos[0];this.startPageY=pos[1]},addToGroup:function(sGroup){this.groups[sGroup]=!0;this.DDMInstance.regDragDrop(this,sGroup)},removeFromGroup:function(sGroup){this.groups[sGroup]&&delete this.groups[sGroup];this.DDMInstance.removeDDFromGroup(this,sGroup)},setDragElId:function(id){this.dragElId=id},setHandleElId:function(id){'string'!==typeof id&&(id=Ext.id(id));this.handleElId=id;this.DDMInstance.regHandle(this.id,id)},setOuterHandleElId:function(id){'string'!==
typeof id&&(id=Ext.id(id));Ext.get(id).on(this.triggerEvent,this.handleMouseDown,this);this.setHandleElId(id);this.hasOuterHandles=!0},unreg:function(){var el;this._domRef&&(el=Ext.fly(this.id))&&el.un(this.triggerEvent,this.handleMouseDown,this);this._domRef=null;this.DDMInstance._remove(this,this.autoGroup)},destroy:function(){this.unreg();this.callParent()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(e,oDD){this.primaryButtonOnly&&e.button||this.isLocked()||
(this.DDMInstance.refreshCache(this.groups),(this.hasOuterHandles||this.DDMInstance.isOverTarget(e.getPoint(),this))&&this.clickValidator(e)&&(this.setStartPosition(),this.b4MouseDown(e),this.onMouseDown(e),this.DDMInstance.handleMouseDown(e,this),this.DDMInstance.stopEvent(e)))},clickValidator:function(e){e=e.getTarget();return this.isValidHandleChild(e)&&(this.id===this.handleElId||this.DDMInstance.handleWasClicked(e,this.id))},addInvalidHandleType:function(tagName){tagName=tagName.toUpperCase();
this.invalidHandleTypes[tagName]=tagName},addInvalidHandleId:function(id){'string'!==typeof id&&(id=Ext.id(id));this.invalidHandleIds[id]=id},addInvalidHandleClass:function(cssClass){this.invalidHandleClasses.push(cssClass)},removeInvalidHandleType:function(tagName){tagName=tagName.toUpperCase();delete this.invalidHandleTypes[tagName]},removeInvalidHandleId:function(id){'string'!==typeof id&&(id=Ext.id(id));delete this.invalidHandleIds[id]},removeInvalidHandleClass:function(cssClass){var invalidHandleClasses=
this.invalidHandleClasses,len=invalidHandleClasses.length,i;for(i=0;i<len;++i)invalidHandleClasses[i]===cssClass&&delete invalidHandleClasses[i]},isValidHandleChild:function(node){var valid=!0,len;try{var nodeName=node.nodeName.toUpperCase()}catch(e){nodeName=node.nodeName}valid=(valid=valid&&!this.invalidHandleTypes[nodeName])&&!this.invalidHandleIds[node.id];nodeName=0;for(len=this.invalidHandleClasses.length;valid&&nodeName<len;++nodeName)valid=!Ext.fly(node).hasCls(this.invalidHandleClasses[nodeName]);
return valid},setXTicks:function(iStartX,iTickSize){iStartX={};var i;this.xTicks=[];this.xTickSize=iTickSize;for(i=this.initPageX;i>=this.minX;i-=iTickSize)iStartX[i]||(this.xTicks[this.xTicks.length]=i,iStartX[i]=!0);for(i=this.initPageX;i<=this.maxX;i+=iTickSize)iStartX[i]||(this.xTicks[this.xTicks.length]=i,iStartX[i]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(iStartY,iTickSize){iStartY={};var i;this.yTicks=[];this.yTickSize=iTickSize;for(i=this.initPageY;i>=
this.minY;i-=iTickSize)iStartY[i]||(this.yTicks[this.yTicks.length]=i,iStartY[i]=!0);for(i=this.initPageY;i<=this.maxY;i+=iTickSize)iStartY[i]||(this.yTicks[this.yTicks.length]=i,iStartY[i]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(iLeft,iRight,iTickSize){this.leftConstraint=iLeft;this.rightConstraint=iRight;this.minX=this.initPageX-iLeft;this.maxX=this.initPageX+iRight;iTickSize&&this.setXTicks(this.initPageX,iTickSize);this.constrainX=!0},clearConstraints:function(){this.constrainY=
this.constrainX=!1;this.clearTicks()},clearTicks:function(){this.yTicks=this.xTicks=null;this.yTickSize=this.xTickSize=0},setYConstraint:function(iUp,iDown,iTickSize){this.topConstraint=iUp;this.bottomConstraint=iDown;this.minY=this.initPageY-iUp;this.maxY=this.initPageY+iDown;iTickSize&&this.setYTicks(this.initPageY,iTickSize);this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var dx=this.maintainOffset?this.lastPageX-this.initPageX:0;var dy=this.maintainOffset?
this.lastPageY-this.initPageY:0;this.setInitPosition(dx,dy)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(val,tickArray){var len;if(tickArray){if(tickArray[0]>=val)return tickArray[0];var i=0;for(len=tickArray.length;i<len;++i){var next=i+1;if(tickArray[next]&&tickArray[next]>=val)return len=val-tickArray[i],val=
tickArray[next]-val,val>len?tickArray[i]:tickArray[next]}return tickArray[tickArray.length-1]}return val},toString:function(){return'DragDrop '+this.id}},3,0,0,0,0,0,[Ext.dd,'DragDrop'],0);
Ext.cmd.derive('Ext.dd.DD',Ext.dd.DragDrop,{constructor:function(id,sGroup,config){id&&this.init(id,sGroup,config)},scroll:!0,autoOffset:function(iPageX,iPageY){this.setDelta(iPageX-this.startPageX,iPageY-this.startPageY)},setDelta:function(iDeltaX,iDeltaY){this.deltaX=iDeltaX;this.deltaY=iDeltaY},setDragElPos:function(iPageX,iPageY){var el=this.getDragEl();this.alignElWithMouse(el,iPageX,iPageY)},alignElWithMouse:function(el,iPageX,iPageY){iPageX=this.getTargetCoord(iPageX,iPageY);iPageY=el.dom?
el:Ext.fly(el,'_dd');var elSize=iPageY.getSize(),EL=Ext.Element;this.deltaSetXY?(EL=this.cachedViewportSize,this.setLocalXY(iPageY,Math.max(0,Math.min(iPageX.x+this.deltaSetXY[0],EL.width-elSize.width)),Math.max(0,Math.min(iPageX.y+this.deltaSetXY[1],EL.height-elSize.height)))):(EL=this.cachedViewportSize={width:EL.getDocumentWidth(),height:EL.getDocumentHeight()},elSize=[Math.max(0,Math.min(iPageX.x,EL.width-elSize.width)),Math.max(0,Math.min(iPageX.y,EL.height-elSize.height))],iPageY.setXY(elSize),
elSize=this.getLocalX(iPageY),iPageY=iPageY.getLocalY(),this.deltaSetXY=[elSize-iPageX.x,iPageY-iPageX.y]);this.cachePosition(iPageX.x,iPageX.y);this.autoScroll(iPageX.x,iPageX.y,el.offsetHeight,el.offsetWidth);return iPageX},cachePosition:function(iPageX,iPageY){iPageX?(this.lastPageX=iPageX,this.lastPageY=iPageY):(iPageX=Ext.fly(this.getEl()).getXY(),this.lastPageX=iPageX[0],this.lastPageY=iPageX[1])},autoScroll:function(x,y,h,w){if(this.scroll){var clientH=Ext.Element.getViewportHeight();var clientW=
Ext.Element.getViewportWidth();var st=this.DDMInstance.getScrollTop();var sl=this.DDMInstance.getScrollLeft();w+=x;var toBot=clientH+st-y-this.deltaY;var toRight=clientW+sl-x-this.deltaX;var scrAmt=document.all?80:30;h+y>clientH&&40>toBot&&window.scrollTo(sl,st+scrAmt);y<st&&0<st&&40>y-st&&window.scrollTo(sl,st-scrAmt);w>clientW&&40>toRight&&window.scrollTo(sl+scrAmt,st);x<sl&&0<sl&&40>x-sl&&window.scrollTo(sl-scrAmt,st)}},getTargetCoord:function(iPageX,iPageY){iPageX-=this.deltaX;iPageY-=this.deltaY;
this.constrainX&&(iPageX<this.minX&&(iPageX=this.minX),iPageX>this.maxX&&(iPageX=this.maxX));this.constrainY&&(iPageY<this.minY&&(iPageY=this.minY),iPageY>this.maxY&&(iPageY=this.maxY));iPageX=this.getTick(iPageX,this.xTicks);iPageY=this.getTick(iPageY,this.yTicks);return{x:iPageX,y:iPageY}},applyConfig:function(){Ext.dd.DragDrop.prototype.applyConfig.call(this);this.scroll=!1!==this.config.scroll},b4MouseDown:function(e){e=e.getXY();this.autoOffset(e[0],e[1])},b4Drag:function(e){e=e.getXY();this.setDragElPos(e[0],
e[1])},toString:function(){return'DD '+this.id},getLocalX:function(el){return el.getLocalX()},setLocalXY:function(el,x,y){el.setLocalXY(x,y)}},3,0,0,0,0,0,[Ext.dd,'DD'],0);
Ext.cmd.derive('Ext.dd.DDProxy',Ext.dd.DD,{statics:{dragElId:'ygddfdiv'},constructor:function(id,sGroup,config){id&&(this.init(id,sGroup,config),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var self=this,body=document.body;if(body&&body.firstChild){var div=this.getDragEl();if(!div){div=document.createElement('div');div.id=this.dragElId;div.setAttribute('role','presentation');var s=div.style;s.position='absolute';s.visibility='hidden';s.cursor='move';s.border='2px solid #aaa';
s.zIndex=999;body.insertBefore(div,body.firstChild)}}else Ext.defer(function(){self.createFrame()},50)},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DD.prototype.applyConfig.call(this);this.resizeFrame=!1!==this.config.resizeFrame;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(iPageX,iPageY){var dragEl=this.getDragEl(),s=dragEl.style;this._resizeProxy();this.centerFrame&&this.setDelta(Math.round(parseInt(s.width,
10)/2),Math.round(parseInt(s.height,10)/2));this.setDragElPos(iPageX,iPageY);Ext.fly(dragEl).show()},_resizeProxy:function(){if(this.resizeFrame){var el=this.getEl();Ext.fly(this.getDragEl()).setSize(el.offsetWidth,el.offsetHeight)}},b4MouseDown:function(e){var xy=e.getXY();e=xy[0];xy=xy[1];this.autoOffset(e,xy);this.setDragElPos(e,xy)},b4StartDrag:function(x,y){this.showFrame(x,y)},b4EndDrag:function(e){Ext.fly(this.getDragEl()).hide()},endDrag:function(e){e=this.getEl();var del=this.getDragEl();
del.style.visibility='';this.beforeMove();e.style.visibility='hidden';Ext.dd.DDM.moveToEl(e,del);del.style.visibility='hidden';e.style.visibility='';this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return'DDProxy '+this.id}},3,0,0,0,0,0,[Ext.dd,'DDProxy'],0);
Ext.cmd.derive('Ext.dd.StatusProxy',Ext.Component,{animRepair:!1,childEls:['ghost'],renderTpl:['\x3cdiv class\x3d"x-dd-drop-icon" role\x3d"presentation"\x3e\x3c/div\x3e\x3cdiv id\x3d"{id}-ghost" data-ref\x3d"ghost" class\x3d"x-dd-drag-ghost" role\x3d"presentation"\x3e\x3c/div\x3e'],repairCls:'x-dd-drag-repair',ariaRole:'presentation',skipLayout:!0,alignOnScroll:!1,constructor:function(config){config=config||{};Ext.apply(this,{hideMode:'visibility',hidden:!0,floating:!0,id:this.id||Ext.id(),cls:'x-dd-drag-proxy '+
this.dropNotAllowed,shadow:config.shadow||!1,renderTo:Ext.getDetachedBody()});Ext.Component.prototype.constructor.apply(this,arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:'x-dd-drop-ok',dropNotAllowed:'x-dd-drop-nodrop',setStatus:function(cssClass){cssClass=cssClass||this.dropNotAllowed;this.dropStatus!==cssClass&&(this.el.replaceCls(this.dropStatus,cssClass),this.dropStatus=cssClass)},reset:function(clearGhost){this.el.replaceCls('x-dd-drag-proxy '+this.dropAllowed,'x-dd-drag-proxy '+
this.dropNotAllowed);this.dropStatus=this.dropNotAllowed;clearGhost&&this.ghost.setHtml('')},update:function(html){'string'===typeof html?this.ghost.setHtml(html):(this.ghost.setHtml(''),html.style.margin='0',this.ghost.dom.appendChild(html));(html=this.ghost.dom.firstChild)&&Ext.fly(html).setStyle('float','none')},getGhost:function(){return this.ghost},hide:function(clear){Ext.Component.prototype.hide.call(this);clear&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&
this.anim.stop()},sync:function(){this.el.syncUnderlays()},repair:function(xy,callback,scope){this.callback=callback;this.scope=scope;xy&&!1!==this.animRepair?(this.el.addCls(this.repairCls),this.el.setUnderlaysVisible(!1),this.anim=this.el.animate({duration:this.repairDuration||500,easing:'ease-out',to:{x:xy[0],y:xy[1]},stopAnimation:!0,callback:this.afterRepair,scope:this})):this.afterRepair()},afterRepair:function(){this.hide(!0);this.el.removeCls(this.repairCls);'function'===typeof this.callback&&
this.callback.call(this.scope||this);delete this.callback;delete this.scope}},1,0,['component','box'],{component:!0,box:!0},0,0,[Ext.dd,'StatusProxy'],0);
Ext.cmd.derive('Ext.dd.DragSource',Ext.dd.DDProxy,{dropAllowed:'x-dd-drop-ok',dropNotAllowed:'x-dd-drop-nodrop',animRepair:!0,repairHighlightColor:'c3daf9',constructor:function(el,config){this.el=Ext.get(el);this.dragData||(this.dragData={});Ext.apply(this,config);this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+'-drag-status-proxy',animRepair:this.animRepair}));Ext.dd.DDProxy.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,
isTarget:!1,scroll:!0===this.scroll});this.dragging=!1},getDragData:function(e){return this.dragData},onDragEnter:function(e,id){var target=Ext.dd.DragDropManager.getDDById(id);this.cachedTarget=target;if(!1!==this.beforeDragEnter(target,e,id)){if(target.isNotifyTarget){var status=target.notifyEnter(this,e,this.dragData);this.proxy.setStatus(status)}else this.proxy.setStatus(this.dropAllowed);this.afterDragEnter&&this.afterDragEnter(target,e,id)}},beforeDragEnter:function(target,e,id){return!0},onDragOver:function(e,
id){var target=this.cachedTarget||Ext.dd.DragDropManager.getDDById(id);if(!1!==this.beforeDragOver(target,e,id)){if(target.isNotifyTarget){var status=target.notifyOver(this,e,this.dragData);this.proxy.setStatus(status)}this.afterDragOver&&this.afterDragOver(target,e,id)}},beforeDragOver:function(target,e,id){return!0},onDragOut:function(e,id){var target=this.cachedTarget||Ext.dd.DragDropManager.getDDById(id);!1!==this.beforeDragOut(target,e,id)&&(target.isNotifyTarget&&target.notifyOut(this,e,this.dragData),
this.proxy.reset(),this.afterDragOut&&this.afterDragOut(target,e,id));this.cachedTarget=null},beforeDragOut:function(target,e,id){return!0},onDragDrop:function(e,id){var target=this.cachedTarget||Ext.dd.DragDropManager.getDDById(id);if(!1!==this.beforeDragDrop(target,e,id)){if(target.isNotifyTarget)if(!1!==target.notifyDrop(this,e,this.dragData))this.onValidDrop(target,e,id);else this.onInvalidDrop(target,e,id);else this.onValidDrop(target,e,id);this.afterDragDrop&&this.afterDragDrop(target,e,id)}delete this.cachedTarget},
beforeDragDrop:function(target,e,id){return!0},onValidDrop:function(target,e,id){this.hideProxy();this.afterValidDrop&&this.afterValidDrop(target,e,id)},getRepairXY:function(e,data){return this.el.getXY()},onInvalidDrop:function(target,e,id){e||(e=target,target=null,id=e.getTarget().id);!1!==this.beforeInvalidDrop(target,e,id)&&(this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,e,this.dragData),this.cacheTarget=null),this.proxy.repair(this.getRepairXY(e,this.dragData),
this.afterRepair,this),this.afterInvalidDrop&&this.afterInvalidDrop(e,id))},afterRepair:function(){Ext.enableFx&&this.el.highlight(this.repairHighlightColor);this.dragging=!1},beforeInvalidDrop:function(target,e,id){return!0},handleMouseDown:function(e){var data;this.dragging||(data=this.getDragData(e))&&!1!==this.onBeforeDrag(data,e)&&(this.dragData=data,this.proxy.stop(),Ext.dd.DDProxy.prototype.handleMouseDown.apply(this,arguments))},onBeforeDrag:function(data,e){return!0},onStartDrag:Ext.emptyFn,
alignElWithMouse:function(){this.proxy.ensureAttachedToBody(!0);return Ext.dd.DDProxy.prototype.alignElWithMouse.apply(this,arguments)},startDrag:function(x,y){this.proxy.reset();this.proxy.hidden=!1;this.dragging=!0;this.proxy.update('');this.onInitDrag(x,y);this.proxy.show()},onInitDrag:function(x,y){var clone=this.el.dom.cloneNode(!0);clone.id=Ext.id();this.proxy.update(clone);this.onStartDrag(x,y);return!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(!0);
this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(e){},endDrag:function(e){this.onEndDrag(this.dragData,e)},onEndDrag:function(data,e){},autoOffset:function(x,y){this.setDelta(-12,-20)},destroy:function(){Ext.destroy(this.proxy);Ext.dd.DDProxy.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,'DragSource'],0);
Ext.cmd.derive('Ext.panel.Proxy',Ext.Base,{alternateClassName:'Ext.dd.PanelProxy',moveOnDrag:!0,constructor:function(panel,config){this.panel=panel;this.id=this.panel.id+'-ddproxy';Ext.apply(this,config)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){this.ghost&&(this.proxy&&(this.proxy.destroy(),delete this.proxy),
this.panel.unghost(null,this.moveOnDrag),delete this.ghost)},show:function(){if(!this.ghost){var panelSize=this.panel.getSize();this.panel.el.setVisibilityMode(Ext.Element.DISPLAY);this.ghost=this.panel.ghost();this.insertProxy&&(this.proxy=this.panel.el.insertSibling({role:'presentation',cls:'x-panel-dd-spacer'}),this.proxy.setSize(panelSize))}},repair:function(xy,callback,scope){this.hide();Ext.callback(callback,scope||this)},moveProxy:function(parentNode,before){this.proxy&&parentNode.insertBefore(this.proxy.dom,
before)}},1,0,0,0,0,0,[Ext.panel,'Proxy',Ext.dd,'PanelProxy'],0);
Ext.cmd.derive('Ext.panel.DD',Ext.dd.DragSource,{constructor:function(panel,cfg){this.panel=panel;this.dragData={panel};this.panelProxy=new Ext.panel.Proxy(panel,cfg);this.proxy=this.panelProxy.proxy;Ext.dd.DragSource.prototype.constructor.call(this,panel.el,cfg);this.setupEl(panel)},setupEl:function(panel){var header=panel.header,el=panel.body;header&&(this.setHandleElId(header.id),el=header.el);if(el)el.setStyle('cursor','move'),this.scroll=!1;else panel.on('boxready',this.setupEl,this,{single:!0})},
showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(x,y){this.panelProxy.show()},b4MouseDown:function(e){e=e.getXY();this.autoOffset(e[0],e[1])},onInitDrag:function(x,y){this.onStartDrag(x,y);return!0},createFrame:Ext.emptyFn,getDragEl:function(e){if(e=this.panelProxy.ghost)return e.el.dom},endDrag:function(e){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(x,y){x-=this.startPageX;y-=this.startPageY;this.setDelta(x,y)},onInvalidDrop:function(target,e,id){!1!==this.beforeInvalidDrop(target,
e,id)&&(this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,e,this.dragData),this.cacheTarget=null),this.afterInvalidDrop&&this.afterInvalidDrop(e,id))}},1,0,0,0,0,0,[Ext.panel,'DD'],0);
Ext.cmd.derive('Ext.layout.component.Dock',Ext.layout.component.Component,{alternateClassName:'Ext.layout.component.AbstractDock',type:'dock',horzAxisProps:{name:'horz',oppositeName:'vert',dockBegin:'left',dockEnd:'right',horizontal:!0,marginBegin:'margin-left',maxSize:'maxWidth',minSize:'minWidth',pos:'x',setSize:'setWidth',shrinkWrapDock:'shrinkWrapDockWidth',size:'width',sizeModel:'widthModel'},vertAxisProps:{name:'vert',oppositeName:'horz',dockBegin:'top',dockEnd:'bottom',horizontal:!1,marginBegin:'margin-top',
maxSize:'maxHeight',minSize:'minHeight',pos:'y',setSize:'setHeight',shrinkWrapDock:'shrinkWrapDockHeight',size:'height',sizeModel:'heightModel'},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){Ext.layout.component.Component.prototype.finishRender.call(this);var target=this.getRenderTarget();var items=this.getDockedItems();this.finishRenderItems(target,items)},isItemBoxParent:function(itemContext){return!0},isItemShrinkWrap:function(item){return!0},
noBorderClasses:['x-docked-noborder-top','x-docked-noborder-right','x-docked-noborder-bottom','x-docked-noborder-left'],noBorderClassesSides:{top:'x-docked-noborder-top',right:'x-docked-noborder-right',bottom:'x-docked-noborder-bottom',left:'x-docked-noborder-left'},borderWidthProps:{top:'border-top-width',right:'border-right-width',bottom:'border-bottom-width',left:'border-left-width'},_itemCls:'x-docked',handleItemBorders:function(){var owner=this.owner,lastItems=this.lastDockedItems,oldBorders=
this.borders;var docked=owner.dockedItems.generation;var noBorderClassesSides=this.noBorderClassesSides,borderWidthProps=this.borderWidthProps,ln,side;var borders=this.collapsed;if(!(this.initializedBorders===docked||owner.border&&!owner.manageBodyBorders||owner.collapsed&&'mini'===owner.collapseMode)){this.initializedBorders=docked;this.collapsed=!1;this.lastDockedItems=docked=this.getLayoutItems();this.collapsed=borders;borders={top:[],right:[],bottom:[],left:[]};var i=0;for(ln=docked.length;i<
ln;i++){var item=docked[i];var dock=item.dock;item.ignoreBorderManagement||(borders[dock].satisfied||(borders[dock].push(item),borders[dock].satisfied=!0),borders.top.satisfied||'bottom'===dock||borders.top.push(item),borders.right.satisfied||'left'===dock||borders.right.push(item),borders.bottom.satisfied||'top'===dock||borders.bottom.push(item),borders.left.satisfied||'right'===dock||borders.left.push(item))}if(lastItems)for(i=0,ln=lastItems.length;i<ln;i++)item=lastItems[i],item.destroyed||item.ignoreBorderManagement||
owner.manageBodyBorders||item.removeCls(this.noBorderClasses);if(oldBorders)for(side in oldBorders)owner.manageBodyBorders&&oldBorders[side].satisfied&&owner.setBodyStyle(borderWidthProps[side],'');for(side in borders)if(ln=borders[side].length,owner.manageBodyBorders)borders[side].satisfied&&owner.setBodyStyle(borderWidthProps[side],'1px');else{for(i=0;i<ln;i++)borders[side][i].addCls(noBorderClassesSides[side]);!borders[side].satisfied&&!owner.bodyBorder||!1===owner.bodyBorder?owner.addBodyCls(noBorderClassesSides[side]):
owner.removeBodyCls(noBorderClassesSides[side])}this.borders=borders}},beforeLayoutCycle:function(ownerContext){var owner=this.owner,shrinkWrap=this.sizeModels.shrinkWrap,shrinkWrapDock=owner.shrinkWrapDock;if(owner.collapsed)if(owner.collapsedVertical()){var collapsedVert=!0;ownerContext.measureDimensions=1}else{var collapsedHorz=!0;ownerContext.measureDimensions=2}ownerContext.collapsedVert=collapsedVert;ownerContext.collapsedHorz=collapsedHorz;collapsedVert?ownerContext.heightModel=shrinkWrap:
collapsedHorz&&(ownerContext.widthModel=shrinkWrap);shrinkWrapDock=!0===shrinkWrapDock?3:shrinkWrapDock||0;ownerContext.shrinkWrapDockHeight=shrinkWrapDock&1&&ownerContext.heightModel.shrinkWrap;ownerContext.shrinkWrapDockWidth=shrinkWrapDock&2&&ownerContext.widthModel.shrinkWrap},beginLayout:function(ownerContext){var owner=this.owner,docked=this.getLayoutItems(),layoutContext=ownerContext.context,dockedItemCount=docked.length,lastCollapsedState=this.lastCollapsedState;Ext.layout.component.Component.prototype.beginLayout.apply(this,
arguments);var itemContext=owner.getCollapsed();itemContext!==lastCollapsedState&&void 0!==lastCollapsedState&&(this.owner.collapsed?(ownerContext.isCollapsingOrExpanding=1,owner.addClsWithUI(owner.collapsedCls)):(ownerContext.isCollapsingOrExpanding=2,owner.removeClsWithUI(owner.collapsedCls),ownerContext.lastCollapsedState=this.lastCollapsedState));this.lastCollapsedState=itemContext;ownerContext.dockedItems=owner=[];for(lastCollapsedState=0;lastCollapsedState<dockedItemCount;lastCollapsedState++){var item=
docked[lastCollapsedState];if(item.rendered){var dock=item.dock;itemContext=layoutContext.getCmp(item);itemContext.dockedAt={x:0,y:0};itemContext.offsets=item=Ext.Element.parseBox(item.offsets||0);itemContext.horizontal='top'===dock||'bottom'===dock;item.width=item.left+item.right;item.height=item.top+item.bottom;owner.push(itemContext)}}ownerContext.bodyContext=ownerContext.getEl('body')},beginLayoutCycle:function(ownerContext){var docked=ownerContext.dockedItems,len=docked.length,owner=this.owner,
frameBody=owner.frameBody,lastHeightModel=this.lastHeightModel;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);this.owner.manageHeight?this.lastBodyDisplay&&(owner.body.dom.style.display=this.lastBodyDisplay=''):('inline-block'!==this.lastBodyDisplay&&(owner.body.dom.style.display=this.lastBodyDisplay='inline-block'),lastHeightModel&&lastHeightModel.shrinkWrap&&!ownerContext.heightModel.shrinkWrap&&(owner.body.dom.style.marginBottom=''));ownerContext.widthModel.auto&&
(ownerContext.widthModel.shrinkWrap&&owner.el.setWidth(null),owner.body.setWidth(null),frameBody&&frameBody.setWidth(null));ownerContext.heightModel.auto&&(owner.body.setHeight(null),frameBody&&frameBody.setHeight(null));ownerContext.collapsedVert?ownerContext.setContentHeight(0):ownerContext.collapsedHorz&&ownerContext.setContentWidth(0);for(owner=0;owner<len;owner++)frameBody=docked[owner].target,lastHeightModel=frameBody.dock,'right'===lastHeightModel&&frameBody.setLocalX(0)},calculate:function(ownerContext){var measure=
this.measureAutoDimensions(ownerContext,ownerContext.measureDimensions),state=ownerContext.state,horzDone=state.horzDone,vertDone=state.vertDone,bodyContext=ownerContext.bodyContext,backward;ownerContext.borderInfo||ownerContext.getBorderInfo();ownerContext.paddingInfo||ownerContext.getPaddingInfo();ownerContext.frameInfo||ownerContext.getFrameInfo();bodyContext.borderInfo||bodyContext.getBorderInfo();bodyContext.paddingInfo||bodyContext.getPaddingInfo();ownerContext.frameBorder||((bodyContext=ownerContext.framing)?
(ownerContext.frameBorder=bodyContext.border,ownerContext.framePadding=bodyContext.padding):(ownerContext.frameBorder=ownerContext.borderInfo,ownerContext.framePadding=ownerContext.paddingInfo));bodyContext=!horzDone&&this.createAxis(ownerContext,measure.contentWidth,ownerContext.widthModel,this.horzAxisProps,ownerContext.collapsedHorz);measure=!vertDone&&this.createAxis(ownerContext,measure.contentHeight,ownerContext.heightModel,this.vertAxisProps,ownerContext.collapsedVert);var forward=0;for(backward=
ownerContext.dockedItems.length;backward--;++forward)bodyContext&&this.dockChild(ownerContext,bodyContext,backward,forward),measure&&this.dockChild(ownerContext,measure,backward,forward);bodyContext&&this.finishAxis(ownerContext,bodyContext)&&(state.horzDone=horzDone=bodyContext);measure&&this.finishAxis(ownerContext,measure)&&(state.vertDone=vertDone=measure);horzDone&&vertDone&&this.finishConstraints(ownerContext,horzDone,vertDone)?this.finishPositions(ownerContext,horzDone,vertDone):this.done=
!1},createAxis:function(ownerContext,contentSize,sizeModel,axisProps,collapsedAxis){var begin=0,owner=this.owner,maxSize=owner[axisProps.maxSize];owner=owner[axisProps.minSize]||0;var dockBegin=axisProps.dockBegin,dockEnd=axisProps.dockEnd,posProp=axisProps.pos,sizeProp=axisProps.size,hasMaxSize=null!=maxSize;if(sizeModel.shrinkWrap)if(collapsedAxis)contentSize=0;else{var bodyContext=ownerContext.bodyContext;contentSize+=bodyContext.borderInfo[sizeProp]}else contentSize=ownerContext.frameBorder,bodyContext=
ownerContext.framePadding,begin=contentSize[dockBegin]+bodyContext[dockBegin],contentSize=ownerContext.getProp(sizeProp)-(contentSize[dockEnd]+bodyContext[dockEnd]);return{shrinkWrap:sizeModel.shrinkWrap,sizeModel,initialBegin:begin,begin,end:contentSize,collapsed:collapsedAxis,horizontal:axisProps.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:contentSize-begin,maxChildSize:0,hasMinMaxConstraints:(owner||hasMaxSize)&&sizeModel.shrinkWrap,minSize:owner,maxSize:hasMaxSize?maxSize:
1E9,bodyPosProp:this.owner.manageHeight?posProp:axisProps.marginBegin,dockBegin,dockEnd,posProp,sizeProp,setSize:axisProps.setSize,shrinkWrapDock:ownerContext[axisProps.shrinkWrapDock],sizeModelName:axisProps.sizeModel,dockedPixelsEnd:0}},dockChild:function(ownerContext,axis,backward,forward){backward=ownerContext.dockedItems[axis.shrinkWrap?backward:forward];forward=backward.target;var dock=forward.dock,sizeProp=axis.sizeProp;forward.ignoreParentFrame&&ownerContext.isCollapsingOrExpanding&&backward.clearMarginCache();
backward.marginInfo||backward.getMarginInfo();dock===axis.dockBegin?ownerContext=axis.shrinkWrap?this.dockOutwardBegin(ownerContext,backward,forward,axis):this.dockInwardBegin(ownerContext,backward,forward,axis):dock===axis.dockEnd?ownerContext=axis.shrinkWrap?this.dockOutwardEnd(ownerContext,backward,forward,axis):this.dockInwardEnd(ownerContext,backward,forward,axis):axis.shrinkWrapDock?(ownerContext=backward.getProp(sizeProp)+backward.marginInfo[sizeProp],axis.maxChildSize=Math.max(axis.maxChildSize,
ownerContext),ownerContext=0):ownerContext=this.dockStretch(ownerContext,backward,forward,axis);backward.dockedAt[axis.posProp]=ownerContext},dockInwardBegin:function(ownerContext,itemContext,item,axis){var pos=axis.begin,sizeProp=axis.sizeProp,ignoreParentFrame=item.ignoreParentFrame;if(ignoreParentFrame){axis.ignoreFrameBegin=itemContext;var dock=item.dock;var delta=ownerContext.frameBorder[dock];pos-=delta+ownerContext.framePadding[dock]}item.overlay||(ownerContext=itemContext.getProp(sizeProp)+
itemContext.marginInfo[sizeProp],axis.begin+=ownerContext,ignoreParentFrame&&(axis.begin-=delta));return pos},dockInwardEnd:function(ownerContext,itemContext,item,axis){var sizeProp=axis.sizeProp;sizeProp=itemContext.getProp(sizeProp)+itemContext.marginInfo[sizeProp];sizeProp=axis.end-sizeProp;item.overlay||(axis.end=sizeProp);item.ignoreParentFrame&&(axis.ignoreFrameEnd=itemContext,itemContext=ownerContext.frameBorder[item.dock],sizeProp+=itemContext+ownerContext.framePadding[item.dock],axis.end+=
itemContext);return sizeProp},dockOutwardBegin:function(ownerContext,itemContext,item,axis){ownerContext=axis.begin;var sizeProp=axis.sizeProp;axis.collapsed?axis.ignoreFrameBegin=axis.ignoreFrameEnd=itemContext:item.ignoreParentFrame&&(axis.ignoreFrameBegin=itemContext);item.overlay||(itemContext=itemContext.getProp(sizeProp)+itemContext.marginInfo[sizeProp],ownerContext-=itemContext,axis.begin=ownerContext);return ownerContext},dockOutwardEnd:function(ownerContext,itemContext,item,axis){ownerContext=
axis.end;var sizeProp=axis.sizeProp;sizeProp=itemContext.getProp(sizeProp)+itemContext.marginInfo[sizeProp];axis.collapsed?axis.ignoreFrameBegin=axis.ignoreFrameEnd=itemContext:item.ignoreParentFrame&&(axis.ignoreFrameEnd=itemContext);item.overlay||(axis.end=ownerContext+sizeProp,axis.dockedPixelsEnd+=sizeProp);return ownerContext},dockStretch:function(ownerContext,itemContext,item,axis){var dock=item.dock,sizeProp=axis.sizeProp,horizontal='top'===dock||'bottom'===dock;dock=ownerContext.frameBorder;
var offsets=itemContext.offsets,padding=ownerContext.framePadding,startProp=horizontal?'left':'top';ownerContext=axis.begin+offsets[startProp];!1!==item.stretch&&(horizontal=axis.end-ownerContext-offsets[horizontal?'right':'bottom'],item.ignoreParentFrame&&(ownerContext-=padding[startProp]+dock[startProp],horizontal+=padding[sizeProp]+dock[sizeProp]),item=itemContext.marginInfo,horizontal-=item[sizeProp],itemContext[axis.setSize](horizontal));return ownerContext},finishAxis:function(ownerContext,
axis){if(isNaN(axis.maxChildSize))return!1;var axisBegin=axis.begin,size=axis.end-axisBegin,collapsed=axis.collapsed,setSizeMethod=axis.setSize,beginName=axis.dockBegin,endName=axis.dockEnd,padding=ownerContext.framePadding,border=ownerContext.frameBorder,borderBegin=border[beginName],framing=ownerContext.framing,framingBegin=framing&&framing[beginName];beginName=collapsed?0:padding[beginName];var sizeProp=axis.sizeProp,ignoreFrameBegin=axis.ignoreFrameBegin,ignoreFrameEnd=axis.ignoreFrameEnd;ownerContext=
ownerContext.bodyContext;var extraPaddingBegin=Math.max(borderBegin+beginName-framingBegin,0),dirty;if(axis.shrinkWrap){var bodySize=axis.initialSize;framing?(framing=-axisBegin+borderBegin+beginName,axisBegin=framing-framingBegin-extraPaddingBegin):(axisBegin=-axisBegin,framing=axisBegin+beginName);collapsed||(size+=padding[sizeProp]);ignoreFrameBegin?(framing-=borderBegin,axisBegin-=borderBegin,ignoreFrameBegin.dockedAt[axis.posProp]-=beginName):size+=borderBegin;collapsed||(ignoreFrameEnd?ignoreFrameEnd.dockedAt[axis.posProp]+=
padding[endName]:size+=border[endName]);axis.size=size;axis.horizontal||this.owner.manageHeight||(dirty=!1)}else framing?(framing=0,axisBegin=axisBegin-framingBegin-extraPaddingBegin):(framing=-borderBegin,axisBegin=axisBegin-beginName-borderBegin),bodySize=size;axis.delta=framing;ownerContext[setSizeMethod](bodySize,dirty);ownerContext.setProp(axis.bodyPosProp,axisBegin);return!isNaN(size)},beforeInvalidateShrinkWrapDock:function(itemContext,options){options=options.axis.sizeModelName;itemContext[options].constrainedMin||
(itemContext[options]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(itemContext,options){var axis=options.axis,me=options.layout;itemContext[axis.sizeModelName].calculated&&(options=me.dockStretch(options.ownerContext,itemContext,itemContext.target,axis),itemContext.setProp(axis.posProp,axis.delta+options))},finishConstraints:function(ownerContext,horz,vert){var sizeModels=this.sizeModels,publishWidth=horz.shrinkWrap,publishHeight=vert.shrinkWrap,owner=this.owner;if(publishWidth){var size=
horz.size;var minSize=horz.collapsed?0:horz.minSize;var maxSize=horz.maxSize;var maxChildSize=horz.maxChildSize;var desiredSize=Math.max(size,maxChildSize);if(desiredSize>maxSize){var widthModel=sizeModels.constrainedMax;var width=maxSize}else desiredSize<minSize?(widthModel=sizeModels.constrainedMin,width=minSize):size<maxChildSize?(widthModel=sizeModels.constrainedDock,owner.dockConstrainedWidth=width=maxChildSize):width=size}if(publishHeight)if(size=vert.size,minSize=vert.collapsed?0:vert.minSize,
maxSize=vert.maxSize,maxChildSize=vert.maxChildSize,desiredSize=Math.max(size,maxChildSize+size-vert.initialSize),desiredSize>maxSize){var heightModel=sizeModels.constrainedMax;var height=maxSize}else if(desiredSize<minSize)heightModel=sizeModels.constrainedMin,height=minSize;else if(size<maxChildSize)heightModel=sizeModels.constrainedDock,owner.dockConstrainedHeight=height=maxChildSize;else{if(!ownerContext.collapsedVert&&!owner.manageHeight){var dirty=!1;ownerContext.bodyContext.setProp('margin-bottom',
vert.dockedPixelsEnd)}height=size}if(widthModel||heightModel){if(widthModel&&heightModel&&widthModel.constrainedMax&&heightModel.constrainedByMin)return ownerContext.invalidate({widthModel}),!1;if(!ownerContext.widthModel.calculatedFromShrinkWrap&&!ownerContext.heightModel.calculatedFromShrinkWrap)return ownerContext.invalidate({widthModel,heightModel}),!1}else this.invalidateAxes(ownerContext,horz,vert);publishWidth&&(ownerContext.setWidth(width),widthModel&&(ownerContext.widthModel=widthModel));
publishHeight&&(ownerContext.setHeight(height,dirty),heightModel&&(ownerContext.heightModel=heightModel));return!0},invalidateAxes:function(ownerContext,horz,vert){var before=this.beforeInvalidateShrinkWrapDock,after=this.afterInvalidateShrinkWrapDock,horzSize=horz.end-horz.begin,vertSize=vert.initialSize,invalidateHorz=horz.shrinkWrapDock&&horz.maxChildSize<=horzSize,invalidateVert=vert.shrinkWrapDock&&vert.maxChildSize<=vertSize,len;if(invalidateHorz||invalidateVert){invalidateVert&&(vert.begin=
vert.initialBegin,vert.end=vert.begin+vert.initialSize);var dockedItems=ownerContext.dockedItems;var i=0;for(len=dockedItems.length;i<len;++i){var itemContext=dockedItems[i];var isHorz=itemContext.horizontal;var axis=null;if(invalidateHorz&&isHorz){var sizeProp=horz.sizeProp;var itemSize=horzSize;axis=horz}else invalidateVert&&!isHorz&&(sizeProp=vert.sizeProp,itemSize=vertSize,axis=vert);axis&&(itemSize-=itemContext.getMarginInfo()[sizeProp],itemSize!==itemContext.props[sizeProp]&&itemContext.invalidate({before,
after,axis,ownerContext,layout:this}))}}},finishPositions:function(ownerContext,horz,vert){ownerContext=ownerContext.dockedItems;var length=ownerContext.length;horz=horz.delta;vert=vert.delta;var index;for(index=0;index<length;++index){var itemContext=ownerContext[index];itemContext.setProp('x',horz+itemContext.dockedAt.x);itemContext.setProp('y',vert+itemContext.dockedAt.y)}},finishedLayout:function(ownerContext){var target=ownerContext.target;Ext.layout.component.Component.prototype.finishedLayout.apply(this,
arguments);ownerContext.animatePolicy||(1===ownerContext.isCollapsingOrExpanding?target.afterCollapse(!1):2===ownerContext.isCollapsingOrExpanding&&target.afterExpand(!1))},getAnimatePolicy:function(ownerContext){if(1===ownerContext.isCollapsingOrExpanding)var lastCollapsedState=this.lastCollapsedState;else 2===ownerContext.isCollapsingOrExpanding&&(lastCollapsedState=ownerContext.lastCollapsedState);if('left'===lastCollapsedState||'right'===lastCollapsedState)var policy=this.horizontalCollapsePolicy;
else if('top'===lastCollapsedState||'bottom'===lastCollapsedState)policy=this.verticalCollapsePolicy;return policy},getDockedItems:function(order,beforeBody){var me=this,renderedOnly='visual'===order,all=renderedOnly?Ext.ComponentQuery.query('[rendered]',me.owner.dockedItems.items):me.owner.dockedItems.items,sort=all&&all.length&&!1!==order,length;if(null==beforeBody)renderedOnly=sort&&!renderedOnly?all.slice():all;else{renderedOnly=[];var i=0;for(length=all.length;i<length;++i){var dock=all[i].dock;
dock='top'===dock||'left'===dock;(beforeBody?dock:!dock)&&renderedOnly.push(all[i])}sort=sort&&renderedOnly.length}if(sort){var renderOrder='render'===(order=order||'render');Ext.Array.sort(renderedOnly,function(a,b){var aw,bw;if(renderOrder&&(aw=me.owner.dockOrder[a.dock])!==(bw=me.owner.dockOrder[b.dock])&&!(aw+bw))return aw-bw;aw=me.getItemWeight(a,order);bw=me.getItemWeight(b,order);return void 0!==aw&&void 0!==bw?aw-bw:0})}return renderedOnly||[]},getItemWeight:function(item,order){item=item.weight||
this.owner.defaultDockWeights[item.dock];return item[order]||item},getLayoutItems:function(){var i;if(this.owner.collapsed)var result=this.owner.getCollapsedDockedItems();else{var items=this.getDockedItems('visual');var itemCount=items.length;result=[];for(i=0;i<itemCount;i++){var item=items[i];item.hidden||result.push(item)}}return result},measureContentWidth:function(ownerContext){ownerContext=ownerContext.bodyContext;return ownerContext.el.getWidth()-ownerContext.getBorderInfo().width},measureContentHeight:function(ownerContext){ownerContext=
ownerContext.bodyContext;return ownerContext.el.getHeight()-ownerContext.getBorderInfo().height},redoLayout:function(ownerContext){var owner=this.owner;1===ownerContext.isCollapsingOrExpanding?(owner.reExpander&&owner.reExpander.el.show(),owner.addClsWithUI(owner.collapsedCls),ownerContext.redo(!0)):2===ownerContext.isCollapsingOrExpanding&&(owner.removeClsWithUI(owner.collapsedCls),ownerContext.bodyContext.redo())},getRenderTarget:function(){return this.owner.bodyWrap},renderChildren:function(){var items=
this.getDockedItems(),target=this.getRenderTarget();this.handleItemBorders();this.renderItems(items,target)},renderItems:function(items,target){var owner=this.owner,dockedItemIds={},dockedItemCount=items.length,bodyDom=owner.body.dom,bodyWrapDom=owner.bodyWrap.dom,hasFrame=!!owner.frameSize,bodyContainer=owner.bodyContainer,hasDockedToEl,elFound,gap,i;if(dockedItemCount){for(i=0;i<dockedItemCount;i++){var childNodes=items[i];dockedItemIds[childNodes.id]=childNodes;childNodes.dockToEl&&(hasDockedToEl=
!0)}childNodes=this.getRenderTarget().dom.childNodes;var childNodeCount=childNodes.length;for(i=gap=0;i<childNodeCount;++i){var dom=childNodes[i];if(elFound=dom===bodyDom){var bodyBaseIndex=i;break}dockedItemIds[dom.id]&&++gap}bodyBaseIndex-=gap;if(hasDockedToEl){gap=0;childNodes=owner.el.dom.childNodes;childNodeCount=childNodes.length;for(i=0;i<childNodeCount;i++){dom=childNodes[i];hasFrame?(elFound=dom===bodyWrapDom||dom===bodyContainer,!elFound&&Ext.fly(dom).contains(bodyWrapDom)&&(elFound=!0,
owner.bodyContainer=dom)):elFound=dom===bodyWrapDom;if(elFound){var wrapBaseIndex=i;break}dockedItemIds[dom.id]&&++gap}wrapBaseIndex-=gap}for(i=dockedItemIds=bodyDom=0;i<dockedItemCount;i++)childNodes=items[i],childNodes.dockToEl?(bodyContainer=owner.el,bodyWrapDom=wrapBaseIndex+bodyDom++,'right'===childNodes.dock||'bottom'===childNodes.dock?(bodyWrapDom++,hasFrame&&bodyWrapDom++):hasFrame&&0<bodyWrapDom&&bodyWrapDom--):(bodyContainer=target,bodyWrapDom=bodyBaseIndex+dockedItemIds++,'right'!==childNodes.dock&&
'bottom'!==childNodes.dock||bodyWrapDom++),childNodes.rendered?this.isValidParent(childNodes,bodyContainer,bodyWrapDom)||this.moveItem(childNodes,bodyContainer,bodyWrapDom):this.renderItem(childNodes,bodyContainer,bodyWrapDom)}},undoLayout:function(ownerContext){var owner=this.owner;1===ownerContext.isCollapsingOrExpanding?(owner.reExpander&&owner.reExpander.el.hide(),owner.removeClsWithUI(owner.collapsedCls),ownerContext.undo(!0)):2===ownerContext.isCollapsingOrExpanding&&(owner.addClsWithUI(owner.collapsedCls),
ownerContext.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(item,ownerSizeModel){var policy=this.sizePolicy,shrinkWrapDock=
this.owner.shrinkWrapDock;if(!1===item.stretch)return policy.nostretch;item=item.dock;item='left'===item||'right'===item;shrinkWrapDock=!0===shrinkWrapDock?3:shrinkWrapDock||0;item?(policy=policy.vert,shrinkWrapDock&=1):(policy=policy.horz,shrinkWrapDock&=2);return shrinkWrapDock&&(ownerSizeModel||(ownerSizeModel=this.owner.getSizeModel()),ownerSizeModel[item?'height':'width'].shrinkWrap)?policy.shrinkWrap:policy.stretch},configureItem:function(item,pos){Ext.layout.component.Component.prototype.configureItem.apply(this,
arguments);item.addCls(this._itemCls);item.ignoreBorderManagement||item.addClsWithUI(this.getDockCls(item.dock))},getDockCls:function(dock){return'docked-'+dock},afterRemove:function(item){var dom;Ext.layout.component.Component.prototype.afterRemove.apply(this,arguments);item.removeCls(this._itemCls);item.ignoreBorderManagement||item.removeClsWithUI(this.getDockCls(item.dock));(dom=item.el&&item.el.dom)&&!item.destroying&&dom.parentNode.removeChild(dom);this.childrenChanged=!0},borderCollapseMap:{},
getBorderCollapseTable:function(){var map=this.borderCollapseMap,owner=this.owner,baseCls=owner.baseCls;owner=owner.ui;map=map[baseCls]||(map[baseCls]={});var table=map[owner];table||(baseCls+='-'+owner+'-outer-border-',map[owner]=table=[0,baseCls+'l',baseCls+'b',baseCls+'bl',baseCls+'r',baseCls+'rl',baseCls+'rb',baseCls+'rbl',baseCls+'t',baseCls+'tl',baseCls+'tb',baseCls+'tbl',baseCls+'tr',baseCls+'trl',baseCls+'trb',baseCls+'trbl']);return table}},0,0,0,0,['layout.dock'],0,[Ext.layout.component,
'Dock',Ext.layout.component,'AbstractDock'],0);
Ext.define('Ext.theme.neptune.layout.component.Dock',{override:'Ext.layout.component.Dock',noBorderClassTable:[0,'x-noborder-l','x-noborder-b','x-noborder-bl','x-noborder-r','x-noborder-rl','x-noborder-rb','x-noborder-rbl','x-noborder-t','x-noborder-tl','x-noborder-tb','x-noborder-tbl','x-noborder-tr','x-noborder-trl','x-noborder-trb','x-noborder-trbl'],edgeMasks:{top:8,right:4,bottom:2,left:1},handleItemBorders:function(){var edges=0,owner=this.owner,bodyBorder=owner.bodyBorder,ownerBorder=owner.border,
collapsed=this.collapsed,edgeMasks=this.edgeMasks,noBorderCls=this.noBorderClassTable,dockedItemsGen=owner.dockedItems.generation,ln;if(this.initializedBorders!==dockedItemsGen){var addCls=[];var removeCls=[];var borderCls=this.getBorderCollapseTable();noBorderCls=this.getBorderClassTable?this.getBorderClassTable():noBorderCls;this.initializedBorders=dockedItemsGen;this.collapsed=!1;dockedItemsGen=this.getDockedItems('visual');this.collapsed=collapsed;var i=0;for(ln=dockedItemsGen.length;i<ln;i++){var item=
dockedItemsGen[i];if(!item.ignoreBorderManagement){var dock=item.dock;var mask=collapsed=0;addCls.length=0;removeCls.length=0;if('bottom'!==dock){if(edges&8)var b=item.border;else b=ownerBorder,!1!==b&&(collapsed+=8);!1===b&&(mask+=8)}'left'!==dock&&(edges&4?b=item.border:(b=ownerBorder,!1!==b&&(collapsed+=4)),!1===b&&(mask+=4));'top'!==dock&&(edges&2?b=item.border:(b=ownerBorder,!1!==b&&(collapsed+=2)),!1===b&&(mask+=2));'right'!==dock&&(edges&1?b=item.border:(b=ownerBorder,!1!==b&&(collapsed+=1)),
!1===b&&(mask+=1));(b=item.lastBorderMask)!==mask&&(item.lastBorderMask=mask,b&&(removeCls[0]=noBorderCls[b]),mask&&(addCls[0]=noBorderCls[mask]));(b=item.lastBorderCollapse)!==collapsed&&(item.lastBorderCollapse=collapsed,b&&(removeCls[removeCls.length]=borderCls[b]),collapsed&&(addCls[addCls.length]=borderCls[collapsed]));removeCls.length&&item.removeCls(removeCls);addCls.length&&item.addCls(addCls);edges|=edgeMasks[dock]}}mask=collapsed=0;addCls.length=0;removeCls.length=0;edges&8?b=bodyBorder:
(b=ownerBorder,!1!==b&&(collapsed+=8));!1===b&&(mask+=8);edges&4?b=bodyBorder:(b=ownerBorder,!1!==b&&(collapsed+=4));!1===b&&(mask+=4);edges&2?b=bodyBorder:(b=ownerBorder,!1!==b&&(collapsed+=2));!1===b&&(mask+=2);edges&1?b=bodyBorder:(b=ownerBorder,!1!==b&&(collapsed+=1));!1===b&&(mask+=1);(b=this.lastBodyBorderMask)!==mask&&(this.lastBodyBorderMask=mask,b&&(removeCls[0]=noBorderCls[b]),mask&&(addCls[0]=noBorderCls[mask]));(b=this.lastBodyBorderCollapse)!==collapsed&&(this.lastBodyBorderCollapse=
collapsed,b&&(removeCls[removeCls.length]=borderCls[b]),collapsed&&(addCls[addCls.length]=borderCls[collapsed]));removeCls.length&&owner.removeBodyCls(removeCls);addCls.length&&owner.addBodyCls(addCls)}},onRemove:function(item){var lastBorderMask=item.lastBorderMask,lastBorderCollapse=item.lastBorderCollapse;item.destroyed||item.ignoreBorderManagement||(lastBorderMask&&(item.lastBorderMask=0,item.removeCls(this.noBorderClassTable[lastBorderMask])),lastBorderCollapse&&(item.lastBorderCollapse=0,item.removeCls(this.getBorderCollapseTable()[lastBorderCollapse])));
(arguments.callee.$previous||Ext.layout.component.Component.prototype.onRemove).call(this,item)}});
Ext.cmd.derive('Ext.util.Memento',Ext.Base,function(){function captureOne(src,target,prop,prefix){src[prefix?prefix+prop:prop]=target[prop]}function removeOne(src,target,prop){delete src[prop]}function restoreOne(src,target,prop,prefix){prefix=prefix?prefix+prop:prop;var value=src[prefix];if(value||src.hasOwnProperty(prefix))Ext.isDefined(value)?target[prop]=value:delete target[prop]}function doMany(doOne,src,target,props,prefix){var pLen;if(src)if(Ext.isArray(props)){var p=0;for(pLen=props.length;p<
pLen;p++)doOne(src,target,props[p],prefix)}else doOne(src,target,props,prefix)}return{data:null,target:null,constructor:function(target,props){this.data={};target&&(this.target=target,props&&this.capture(props))},capture:function(props,target,prefix){doMany(captureOne,this.data||(this.data={}),target||this.target,props,prefix)},remove:function(props){doMany(removeOne,this.data,null,props)},restore:function(props,clear,target,prefix){doMany(restoreOne,this.data,target||this.target,props,prefix);!1!==
clear&&this.remove(props)},restoreAll:function(clear,target$jscomp$0){target$jscomp$0=target$jscomp$0||this.target;var data=this.data,prop;clear=!1!==clear;for(prop in data)if(data.hasOwnProperty(prop)){var target=target$jscomp$0,prop$jscomp$0=prop,value=data[prop];Ext.isDefined(value)?target[prop$jscomp$0]=value:delete target[prop$jscomp$0];clear&&delete data[prop]}}}}(),1,0,0,0,0,0,[Ext.util,'Memento'],0);
Ext.cmd.derive('Ext.container.DockingContainer',Ext.Base,{isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(items,pos){var rendered=this.rendered,i=0,dockedItems=this.dockedItems,lastIndex=dockedItems.getCount();items=this.prepareItems(items);var length=items.length;rendered&&Ext.suspendLayouts();for(pos=void 0===pos?lastIndex:
Math.min(pos,lastIndex);i<length;i++){var item=items[i];item.isDetached&&item.reattachToBody();item.dock=item.dock||'top';'left'!==item.dock&&'right'!==item.dock||this.horizontalDocks++;rendered=pos+i;dockedItems.insert(rendered,item);lastIndex=!!item.instancedCmp;delete item.instancedCmp;item.onAdded(this,rendered,lastIndex);delete item.$initParent;if(this.onDockedAdd!==Ext.emptyFn)this.onDockedAdd(item);this.hasListeners.dockedadd&&this.fireEvent('dockedadd',this,item,rendered)}this.rendered&&(this.updateLayout(),
Ext.resumeLayouts(!0));return items},destroyDockedItems:function(){var dockedItems=this.dockedItems,c;if(dockedItems)for(;c=dockedItems.first();)this.removeDocked(c,{destroy:!0})},doRenderDockedItems:function(out,renderData,after){var me=renderData.$comp;renderData=me.componentLayout;me.tabGuard&&me.lookupTpl('tabGuardTpl');renderData.getDockedItems&&(after=(after=renderData.getDockedItems('render',!after))&&renderData.getItemsRenderTree(after))&&Ext.DomHelper.generateMarkup(after,out)},getDockedComponent:function(comp){Ext.isObject(comp)&&
(comp=comp.getItemId());return this.dockedItems.get(comp)},getDockedItems:function(selector,beforeBody){beforeBody=this.getComponentLayout().getDockedItems('render',beforeBody);selector&&beforeBody.length&&(beforeBody=Ext.ComponentQuery.query(selector,beforeBody));return beforeBody},getDockingRefItems:function(deep,containerItems){var selector=deep&&'*,* *';deep=this.getDockedItems(selector,!0);deep.push.apply(deep,containerItems);containerItems=this.getDockedItems(selector,!1);deep.push.apply(deep,
containerItems);return deep},initDockingItems:function(){var items=this.dockedItems;items&&items.isMixedCollection||(this.dockedItems=new Ext.util.ItemCollection,items&&this.addDocked(items))},insertDocked:function(pos,items){this.addDocked(items,pos)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(item,flags){var hasLayout;if(!this.dockedItems.contains(item))return item;if(null==flags)var doDestroy=this.autoDestroy;else if('boolean'===typeof flags)doDestroy=flags;else{doDestroy=
'destroy'in flags&&flags.destroy;var doDetach='detach'in flags&&flags.detach}'left'!==item.dock&&'right'!==item.dock||this.horizontalDocks--;if(hasLayout=(flags=this.componentLayout)&&this.rendered)flags.onRemove(item);this.dockedItems.remove(item);if(!item.destroyed)item.onRemoved(item.destroying||doDestroy);this.onDockedRemove(item);doDestroy?item.destroy():this.destroyed||(hasLayout&&flags.afterRemove(item),doDetach&&item.rendered&&item.detachFromBody());this.hasListeners.dockedremove&&this.fireEvent('dockedremove',
this,item);this.destroying||this.updateLayout();return item},moveDocked:function(item,side){this.rendered&&Ext.suspendLayouts();this.removeDocked(item,{destroy:!1,detach:!0});item.dock=side;this.addDocked(item);this.rendered&&(item.frame&&item.updateFrame(),Ext.resumeLayouts(!0))},setupDockingRenderTpl:function(renderTpl){renderTpl.renderDockedItems=this.doRenderDockedItems}},0,0,0,0,0,0,[Ext.container,'DockingContainer'],0);
Ext.cmd.derive('Ext.panel.Panel',Ext.container.Container,{alternateClassName:'Ext.Panel',childEls:['bodyWrap','body'],renderTpl:['\x3ctpl if\x3d"headingText"\x3e','\x3cdiv id\x3d"{id}-headingEl" data-ref\x3d"headingEl" role\x3d"heading"',' class\x3d"','x-','hidden-clip" style\x3d"height:0"\x3e','{headingText}','\x3c/div\x3e','\x3c/tpl\x3e','\x3ctpl if\x3d"hasTabGuard"\x3e{% this.renderTabGuard(out, values, \'before\'); %}\x3c/tpl\x3e','\x3cdiv id\x3d"{id}-bodyWrap" data-ref\x3d"bodyWrap" class\x3d"{baseCls}-bodyWrap"',
'\x3ctpl if\x3d"bodyWrapAriaAttributes"\x3e','\x3ctpl foreach\x3d"bodyWrapAriaAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e','\x3ctpl else\x3e',' role\x3d"presentation"','\x3c/tpl\x3e','\x3e','{% this.renderDockedItems(out,values,0); %}','\x3cdiv id\x3d"{id}-body" data-ref\x3d"body" class\x3d"{baseCls}-body\x3ctpl if\x3d"bodyCls"\x3e {bodyCls}\x3c/tpl\x3e',' {baseCls}-body-{ui}\x3ctpl if\x3d"uiCls"\x3e','\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-body-{parent.ui}-{.}\x3c/tpl\x3e','\x3c/tpl\x3e{childElCls}"',
'\x3ctpl if\x3d"bodyAriaAttributes"\x3e','\x3ctpl foreach\x3d"bodyAriaAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e','\x3ctpl else\x3e',' role\x3d"presentation"','\x3c/tpl\x3e','\x3ctpl if\x3d"bodyStyle"\x3e style\x3d"{bodyStyle}"\x3c/tpl\x3e\x3e','{%this.renderContainer(out,values);%}','\x3c/div\x3e','{% this.renderDockedItems(out,values,1); %}','\x3c/div\x3e','\x3ctpl if\x3d"hasTabGuard"\x3e{% this.renderTabGuard(out, values, \'after\'); %}\x3c/tpl\x3e'],headerPosition:'top',iconAlign:'left',titleAlign:'left',
titleRotation:'default',titlePosition:0,headerConfigs:{glyph:1,icon:1,iconAlign:1,iconCls:1,title:1,titleAlign:1,titlePosition:1,titleRotation:1},beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titlePosition:null,titleRotation:null},animCollapse:Ext.enableFx,border:!0,closable:!1,closeAction:'destroy',closeToolText:'Close panel',collapsed:!1,collapsedCls:'collapsed',collapseFirst:!0,collapsible:void 0,collapseToolText:'Collapse panel',
expandToolText:'Expand panel',constrain:!1,constrainHeader:!1,dockedItems:null,tbar:null,bbar:null,fbar:null,lbar:null,rbar:null,buttons:null,floatable:!0,frame:!1,frameHeader:!0,hideCollapseTool:!1,manageHeight:!0,maskElement:'el',minButtonWidth:75,preventHeader:!1,maintainTitlePosition:!1,shrinkWrapDock:!1,titleCollapse:void 0,baseCls:'x-panel',bodyPosProps:{x:'x',y:'y'},componentLayout:'dock',contentPaddingProperty:'bodyPadding',emptyArray:[],isPanel:!0,defaultBindProperty:'title',addBodyCls:function(cls){(this.rendered?
this.body:this.getProtoBody()).addCls(cls);return this},addTool:function(tools){Ext.isArray(tools)||(tools=[tools]);var header=this.header,len=tools.length,curTools=this.tools,t;header&&header.isHeader||(header=null,curTools||(this.tools=curTools=[]));for(t=0;t<len;t++){var tool=tools[t];'string'===typeof tool||tool.isTool||(tool=Ext.apply({},tool));tool.toolOwner=this;header?header.addTool(tool):curTools.push(tool)}this.updateHeader()},addTools:Ext.emptyFn,getClosable:function(){return this.closable},
setClosable:function(closable){var tab=this.tab;closable=!!closable;this.closable!==closable&&(this.closable=closable,tab&&tab.setClosable(closable))},setCollapsible:function(collapsible){var current=this.collapsible,collapseTool=this.collapseTool;(this.collapsible=collapsible)&&!current?(this.updateCollapseTool(),(collapseTool=this.collapseTool)&&collapseTool.show()):!collapsible&&current&&collapseTool&&collapseTool.hide()},addUIClsToElement:function(cls){var result=Ext.container.Container.prototype.addUIClsToElement.apply(this,
arguments);this.addBodyCls(['x-'+cls,this.baseCls+'-body-'+cls,this.baseCls+'-body-'+this.ui+'-'+cls]);return result},afterCollapse:function(animated){var ownerLayout=this.ownerLayout;this.isCollapsingOrExpanding=0;this.updateCollapseTool();animated&&this.removeCls('x-animating-size');ownerLayout&&ownerLayout.afterCollapse(this,animated);this.setHiddenDocked();this.fireEvent('collapse',this)},afterExpand:function(animated){var ownerLayout=this.ownerLayout;this.isCollapsingOrExpanding=0;this.updateCollapseTool();
animated&&this.removeCls('x-animating-size');ownerLayout&&ownerLayout.afterExpand(this,animated);this.fireEvent('expand',this);this.fireHierarchyEvent('expand')},doDestroy:function(){this.slideOutTask&&this.slideOutTask.cancel();Ext.destroy(this.placeholder,this.ghostPanel,this.dd,this.accordionHeaderKeyNav,this.accordionBodyKeyNav,this.defaultButtonKeyNav);this.destroyDockedItems();Ext.container.Container.prototype.doDestroy.call(this)},beforeRender:function(){this.getProtoBody();Ext.container.Container.prototype.beforeRender.call(this);
this.initTools();(!this.preventHeader&&!1!==this.header||this.isViewportBorderChild)&&this.updateHeader();this.afterHeaderInit=!0;if(this.collapsed)if(this.isPlaceHolderCollapse()){if(!this.hidden){this.setHiddenState(!0);this.preventCollapseFire=!0;this.placeholderCollapse();delete this.preventCollapseFire;var wasCollapsed=this.collapsed;this.collapsed=!1}}else this.beginCollapse(),this.addClsWithUI(this.collapsedCls);wasCollapsed&&(this.collapsed=wasCollapsed)},getMemento:function(name){if(name&&
'string'===typeof name)return name+='Memento',this[name]||(this[name]=new Ext.util.Memento(this))},beginCollapse:function(){var lastBox=this.lastBox,rendered=this.rendered,collapseMemento=this.getMemento('collapse'),sizeModel=this.getSizeModel(),header=this.header;collapseMemento.capture(['height','minHeight','width','minWidth']);lastBox&&collapseMemento.capture(this.restoreDimension(),lastBox,'last.');this.collapsedVertical()?(sizeModel.width.shrinkWrap&&(this.width=rendered?this.getWidth():this.width||
this.minWidth||100),delete this.height,this.minHeight=0):this.collapsedHorizontal()&&(sizeModel.height.shrinkWrap&&(this.height=rendered?this.getHeight():this.height||this.minHeight||100),delete this.width,this.minWidth=0);this.ownerCt&&this.ownerCt.getLayout().beginCollapse(this);this.isPlaceHolderCollapse()||!1===header||(header===(lastBox=this.getReExpander())?(header.collapseImmune=!0,header.getInherited().collapseImmune=!0,header.addClsWithUI(this.getHeaderCollapsedClasses(header)),header.rendered&&
header.updateFrame()):lastBox.el&&(lastBox.el.show(),lastBox.hidden=!1));this.resizer&&this.resizer.disable();this.rendered&&(this.ariaEl.dom.setAttribute('aria-expanded',!1),this.isAccordionPanel&&this.body.dom.setAttribute('aria-hidden',!0))},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},beginExpand:function(){var lastBox=this.lastBox,collapseMemento=this.getMemento('collapse'),restoreDimension=this.restoreDimension(),header=this.header;collapseMemento&&(collapseMemento.restore(['minHeight',
'minWidth',restoreDimension]),lastBox&&collapseMemento.restore(restoreDimension,!0,lastBox,'last.'));this.ownerCt&&this.ownerCt.getLayout().beginExpand(this);this.isPlaceHolderCollapse()||!1===header||(header===(lastBox=this.getReExpander())?(delete header.collapseImmune,delete header.getInherited().collapseImmune,header.removeClsWithUI(this.getHeaderCollapsedClasses(header)),header.rendered&&(header.expanding=!0,header.updateFrame(),delete header.expanding)):(lastBox.hidden=!0,lastBox.el.hide()));
this.resizer&&this.resizer.enable();this.rendered&&(this.ariaEl.dom.setAttribute('aria-expanded',!0),this.isAccordionPanel&&this.body.dom.setAttribute('aria-hidden',!1))},bridgeToolbars:function(){function initToolbar(toolbar,pos,useButtonAlign,disableFocusableContainer){Ext.isArray(toolbar)?toolbar={xtype:'toolbar',items:toolbar}:toolbar.isComponent||(toolbar=Ext.apply({},toolbar));toolbar.xtype||(toolbar.xtype='toolbar');toolbar.dock=pos;disableFocusableContainer&&(toolbar.focusableContainer=!1);
useButtonAlign&&(toolbar.layout=Ext.apply({pack:{left:'start',center:'center'}[me.buttonAlign]||'end'},toolbar.layout));return toolbar}var me=this,docked=[],minButtonWidth=me.minButtonWidth;me.tbar&&(docked.push(initToolbar(me.tbar,'top')),me.tbar=null);me.bbar&&(docked.push(initToolbar(me.bbar,'bottom')),me.bbar=null);if(me.buttons){me.fbar=me.buttons;me.buttons=null;var fbar=!0}if(me.fbar){fbar=initToolbar(me.fbar,'bottom',!0,fbar);fbar.ui='footer';if(minButtonWidth){var fbarDefaults=fbar.defaults;
fbar.defaults=function(config){var defaults=fbarDefaults||{},isButton=!config.xtype||config.isButton;!isButton&&(config=Ext.ClassManager.getByAlias('widget.'+config.xtype))&&(isButton=config.prototype.isButton);!isButton||'minWidth'in defaults||(defaults=Ext.apply({minWidth:minButtonWidth},defaults));return defaults}}docked.push(fbar);me.fbar=null}me.lbar&&(docked.push(initToolbar(me.lbar,'left')),me.lbar=null);me.rbar&&(docked.push(initToolbar(me.rbar,'right')),me.rbar=null);me.dockedItems?me.dockedItems.isMixedCollection?
me.addDocked(docked):(Ext.isArray(me.dockedItems)||(me.dockedItems=[me.dockedItems]),me.dockedItems=me.dockedItems.concat(docked)):me.dockedItems=docked},close:function(){!1!==this.fireEvent('beforeclose',this)&&this.doClose()},collapse:function(direction,animate){var collapseDir=direction||this.collapseDirection,ownerCt=this.ownerCt,layout=this.ownerLayout,rendered=this.rendered;if(this.isCollapsingOrExpanding)return this;2>arguments.length&&(animate=this.animCollapse);if(this.collapsed||!1===this.fireEvent('beforecollapse',
this,direction,animate)||layout&&layout.onBeforeComponentCollapse&&!1===layout.onBeforeComponentCollapse(this))return this;if(rendered&&ownerCt&&this.isPlaceHolderCollapse())return this.placeholderCollapse(direction,animate);this.collapsed=collapseDir;rendered&&this.beginCollapse();this.containsFocus&&this.collapseTool&&this.collapseTool.focus();this.getInherited().collapsed=!0;this.fireHierarchyEvent('collapse');rendered&&this.doCollapseExpand(1,animate);return this},collapsedHorizontal:function(){var dir=
this.getCollapsed();return'left'===dir||'right'===dir},collapsedVertical:function(){var dir=this.getCollapsed();return'top'===dir||'bottom'===dir},convertCollapseDir:function(collapseDir){return collapseDir.substr(0,1)},createGhost:function(cls){var me=this,header=me.header,frame=me.frame&&!me.alwaysFramed;return{xtype:'panel',hidden:!1,header:header?{titleAlign:header.getTitleAlign()}:null,ui:frame?me.ui.replace(/-framed$/,''):me.ui,id:me.id+'-ghost',renderTo:Ext.getBody(),resizable:!1,draggable:!1,
closable:!1,focusable:!1,floating:!0,alignOnScroll:!1,shadow:!1,frame,shim:me.shim,alwaysFramed:me.alwaysFramed,overlapHeader:me.overlapHeader,headerPosition:me.getHeaderPosition(),titleRotation:me.getTitleRotation(),baseCls:me.baseCls,getRefOwner:function(){return me.getRefOwner()},cls:me.baseCls+'-ghost '+(cls||'')}},createReExpander:function(direction,defaults){var isLeft='left'===direction,isRight='right'===direction,isVertical=isLeft||isRight,ownerCt=this.ownerCt,header=this.header;defaults=
Ext.apply({hideMode:'offsets',title:this.getTitle(),titleAlign:this.getTitleAlign(),titlePosition:this.getTitlePosition(),vertical:isVertical,textCls:this.headerTextCls,icon:this.getIcon(),iconCls:this.getIconCls(),iconAlign:this.getIconAlign(),glyph:this.getGlyph(),baseCls:this.self.prototype.baseCls+'-header',ui:this.ui,frame:this.frame&&this.frameHeader,ignoreParentFrame:this.frame||this.overlapHeader,ignoreBorderManagement:this.frame||this.ignoreHeaderBorderManagement,indicateDrag:this.draggable,
collapseImmune:!0,ariaRole:this.ariaRole,preventRefocus:!0,ownerCt:ownerCt&&'placeholder'===this.collapseMode?ownerCt:this,ownerLayout:this.componentLayout,forceOrientation:!0,margin:this.margin,defaultFocus:'tool[isDefaultExpandTool]'},defaults);'mini'===this.collapseMode&&(isVertical?defaults.width=1:defaults.height=1);header&&Ext.apply(defaults,{focusableContainer:header.focusableContainer,activeChildTabIndex:header.activeChildTabIndex,inactiveChildTabIndex:header.inactiveChildTabIndex,allowFocusingDisabledChildren:header.allowFocusingDisabledChildren});
this.hideCollapseTool||(!this.maintainTitlePosition&&(isLeft||isRight&&this.isPlaceHolderCollapse())&&(defaults.titlePosition=1),defaults.tools=[{xtype:'tool',type:'expand-'+this.getOppositeDirection(direction),isDefaultExpandTool:!0,uiCls:['top'],handler:this.toggleCollapse,scope:this,tooltip:this.expandToolText}]);defaults=new Ext.panel.Header(defaults);defaults.addClsWithUI(this.getHeaderCollapsedClasses(defaults));defaults.expandTool=defaults.down('tool[isDefaultExpandTool\x3dtrue]');return defaults},
doClose:function(){this.fireEvent('close',this);this[this.closeAction]()},doCollapseExpand:function(flags,animate){var originalAnimCollapse=this.animCollapse,ownerLayout=this.ownerLayout;this.animCollapse=animate;this.isCollapsingOrExpanding=flags;animate&&this.addCls('x-animating-size');if(ownerLayout&&!animate)ownerLayout.onContentChange(this);else this.updateLayout({isRoot:!0});this.animCollapse=originalAnimCollapse;return this},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},
expand:function(animate){var layout=this.ownerLayout,rendered=this.rendered;if(this.isCollapsingOrExpanding)return this;arguments.length||(animate=this.animCollapse);if(!this.collapsed&&!this.floatedFromCollapse||!1===this.fireEvent('beforeexpand',this,animate)||layout&&layout.onBeforeComponentExpand&&!1===layout.onBeforeComponentExpand(this))return this;delete this.getInherited().collapsed;if(rendered&&this.isPlaceHolderCollapse())return this.placeholderExpand(animate);this.restoreHiddenDocked();
rendered&&this.beginExpand();this.collapsed=!1;this.rendered&&this.doCollapseExpand(2,animate);return this},findReExpander:function(direction){var c=Ext.Component,dockedItems=this.dockedItems.items,dockedItemCount=dockedItems.length;if('mini'!==this.collapseMode)switch(direction){case c.DIRECTION_TOP:case c.DIRECTION_BOTTOM:for(c=0;c<dockedItemCount;c++)if(direction=dockedItems[c],!direction.hidden&&direction.isHeader&&(!direction.dock||'top'===direction.dock||'bottom'===direction.dock))return direction;
break;case c.DIRECTION_LEFT:case c.DIRECTION_RIGHT:for(c=0;c<dockedItemCount;c++)if(direction=dockedItems[c],!direction.hidden&&direction.isHeader&&('left'===direction.dock||'right'===direction.dock))return direction;break;default:throw Error('Panel#findReExpander must be passed a valid collapseDirection');}},floatCollapsedPanel:function(){var me=this,placeholder=me.placeholder,splitter=me.splitter,phBox=Ext.util.Region.from(placeholder.getBox(!1,!0)),floatCls=Ext.panel.Panel.floatCls,collapsed=me.collapsed,
layoutOwner=me.ownerCt||me,hoverlisteners={mouseleave:me.onMouseLeaveFloated,mouseenter:me.onMouseEnterFloated,scope:me,destroyable:!0};if(!me.isSliding)if(me.el.hasCls(floatCls))me.slideOutFloatedPanel();else if(me.isSliding=!0,placeholder.el.hide(),placeholder.hidden=!0,me.el.show(),me.setHiddenState(!1),me.collapsed=!1,layoutOwner.updateLayout(),placeholder.el.show(),placeholder.hidden=!1,me.el.hide(),me.setHiddenState(!0),me.collapsed=collapsed,layoutOwner.updateLayout(),layoutOwner=me.getBox(!1,
!0),!1!==me.fireEvent('beginfloat',me)){me.slideOutTask=me.slideOutTask||new Ext.util.DelayedTask(me.slideOutFloatedPanel,me);me.pointerLeaveListener=Ext.getDoc().on({mousedown:me.onFloatedPointerEvent,mousemove:me.onFloatedPointerEvent,scope:me,destroyable:!0});me.placeholderListener||(me.placeholderListener=placeholder.on({resize:me.onPlaceholderResize,scope:me,destroyable:!0}));me.phHoverListeners=placeholder.el.on(hoverlisteners);me.elHoverListeners=me.el.on(hoverlisteners);me.el.addCls(floatCls);
me.floated=collapsed;me.collapseTool&&me.collapseTool.el.hide();splitter&&(phBox=phBox.union(splitter.getBox(!1,!0)));switch(me.collapsed){case 'top':me.width=phBox.width;me.setLocalXY(layoutOwner.x,layoutOwner.y+phBox.height);break;case 'right':me.height=phBox.height;me.setLocalXY(layoutOwner.x-phBox.width,layoutOwner.y);break;case 'bottom':me.width=phBox.width;me.setLocalXY(layoutOwner.x,layoutOwner.y-phBox.height);break;case 'left':me.height=phBox.height,me.setLocalXY(layoutOwner.x+phBox.width,
layoutOwner.y)}placeholder=me.convertCollapseDir(me.collapsed);me.floatedFromCollapse=me.collapsed;me.collapsed=!1;me.setHiddenState(!1);me.el.slideIn(placeholder,{preserveScroll:!0,duration:Ext.Number.from(me.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){me.isSliding=!1;me.fireEvent('endfloat',me);me.fireEvent('float',me)}}})}},onFloatedPointerEvent:function(event){this.owns(event)||this.placeholder.owns(event)||this.splitter&&this.splitter.owns(event)||this.floatCollapsedPanel&&
this.el.getRegion().contains(event.getPoint())?this.slideOutTask.cancel():this.slideOutTask.delay(500)},onMouseEnterFloated:function(e){this.slideOutTask.cancel()},onMouseLeaveFloated:function(e){(e=e.getRelatedTarget())&&(this.owns(e)||this.placeholder.owns(e))||this.slideOutTask.delay(500)},onPlaceholderResize:function(ph,newWidth,newHeight){var splitter=this.splitter,myBox=this.getBox(!1,!0);ph=Ext.util.Region.from(ph.getBox(!1,!0));splitter&&(ph=ph.union(splitter.getBox(!1,!0)));switch(this.floated){case 'top':this.width=
newWidth;this.setLocalY(ph.y+ph.height);break;case 'right':this.height=newHeight;this.setLocalX(ph.x-myBox.width);break;case 'bottom':this.width=newWidth;this.setLocalY(ph.y-myBox.height);break;case 'left':this.height=newHeight,this.setLocalX(ph.x+ph.width)}this.updateLayout({isRoot:!0})},getAnimationProps:function(){var props=Ext.container.Container.prototype.getAnimationProps.call(this);'number'===typeof this.animCollapseDuration?props.duration=this.animCollapseDuration:'number'===typeof this.animCollapse&&
(props.duration=this.animCollapse);return props},getCollapsed:function(){return!0===this.collapsed?this.collapseDirection:this.collapsed},getCollapsedDockedItems:function(){return!1===this.header||('placeholder'===this.collapseMode?this.emptyArray:[this.getReExpander()])},getComponent:function(comp){var component=Ext.container.Container.prototype.getComponent.apply(this,arguments);void 0!==component||Ext.isNumber(comp)||(component=this.getDockedComponent(comp));return component},getHeader:function(){return this.header},
getHeaderCollapsedClasses:function(header){var collapsedCls=this.collapsedCls;var collapsedClasses=[collapsedCls,collapsedCls+'-'+header.getDockName()];this.border&&(!this.frame||this.frame&&Ext.supports.CSS3BorderRadius)&&collapsedClasses.push(collapsedCls+'-border-'+header.getDockName());return collapsedClasses},getOppositeDirection:function(d){var c=Ext.Component;switch(d){case c.DIRECTION_TOP:return c.DIRECTION_BOTTOM;case c.DIRECTION_RIGHT:return c.DIRECTION_LEFT;case c.DIRECTION_BOTTOM:return c.DIRECTION_TOP;
case c.DIRECTION_LEFT:return c.DIRECTION_RIGHT}},getPlaceholder:function(direction){var me=this;direction=direction||me.collapseDirection;var listeners=null,placeholder=me.placeholder,floatable=me.floatable,titleCollapse=me.titleCollapse;if(!placeholder){if(floatable||me.collapsible&&titleCollapse)listeners={click:{fn:function(e,target){e=placeholder.expandTool;if(!e||!e.el.dom.contains(target))me[!titleCollapse&&floatable?'floatCollapsedPanel':'toggleCollapse']()},element:'el',scope:me}};me.placeholder=
placeholder=Ext.widget(me.createReExpander(direction,{id:me.id+'-placeholder',listeners}))}placeholder.placeholderFor||(placeholder.isComponent||(me.placeholder=placeholder=me.lookupComponent(placeholder)),Ext.applyIf(placeholder,{margin:me.margin,placeholderFor:me,synthetic:!0}),placeholder.addCls(['x-region-collapsed-placeholder','x-region-collapsed-'+direction+'-placeholder',me.collapsedCls]));return placeholder},getProtoBody:function(){var body=this.protoBody;body||(this.protoBody=body=new Ext.util.ProtoElement({cls:this.bodyCls,
style:this.bodyStyle,clsProp:'bodyCls',styleProp:'bodyStyle',styleIsText:!0}));return body},getReExpander:function(direction){direction=direction||this.collapseDirection;var reExpander=this.reExpander||this.findReExpander(direction),titleCollapse=this.titleCollapse,listeners=null;this.expandDirection=this.getOppositeDirection(direction);reExpander||(titleCollapse&&(listeners={click:{fn:this.toggleCollapse,element:'el',scope:this}}),this.reExpander=reExpander=this.createReExpander(direction,{dock:direction,
cls:'x-docked '+this.baseCls+'-'+this.ui+'-collapsed',isCollapsedExpander:!0,listeners}),this.dockedItems.insert(0,reExpander));return reExpander},getRefItems:function(deep){var placeholder=this.placeholder;if(placeholder&&placeholder.isComponent){var result=[placeholder];deep&&placeholder.getRefItems&&result.push.apply(result,placeholder.getRefItems(deep))}else result=[];result.push.apply(result,this.getDockingRefItems(deep,Ext.container.Container.prototype.getRefItems.call(this,deep)));return result},
getState:function(){var state=Ext.container.Container.prototype.getState.call(this)||{},collapsed=this.collapsed,floated=this.floated;floated&&(this.collapsed=floated);state=this.addPropertyToState(state,'collapsed');floated&&(this.collapsed=collapsed);this.getCollapsed()&&(collapsed=this.getMemento('collapse').data,state=this.addPropertyToState(state,'collapsed',collapsed),floated=this.isPlaceHolderCollapse(),this.collapsedVertical()?floated?(state=this.addPropertyToState(state,'height'),delete state.width):
(delete state.height,collapsed&&(state=this.addPropertyToState(state,'height',collapsed.height))):floated?(state=this.addPropertyToState(state,'width'),delete state.height):(delete state.width,collapsed&&(state=this.addPropertyToState(state,'width',collapsed.width))));return state},applyState:function(state){var collapsed;if(state){if(collapsed=state.collapsed){var collapseMemento=this.getMemento('collapse');Ext.Object.merge(collapseMemento.data,collapsed);state.collapsed=!0}Ext.container.Container.prototype.applyState.call(this,
state)}},ghost:function(cls){var myEl=this.el,ghostPanel=this.ghostPanel,box=this.getBox(),header=this.header,i;Ext.suspendLayouts();ghostPanel?ghostPanel.el.show():(this.ghostPanel=ghostPanel=Ext.widget(this.createGhost(cls)),ghostPanel.el.dom.removeAttribute('tabIndex'));ghostPanel.setHiddenState(!1);ghostPanel.setXY([box.x,box.y]);ghostPanel.setSize(box.width,box.height);ghostPanel.floatParent=this.floatParent;if(header&&!this.preventHeader&&this.lastHeaderGen!==header.items.generation){cls=ghostPanel.header;
box=cls.query('tool');for(i=box.length;i--;)cls.remove(box[i]);cls.setTitlePosition(0);ghostPanel.addTool(this.ghostTools());ghostPanel.setTitle(this.getTitle());cls.setTitlePosition(header.getTitlePosition());cls.setIconAlign(header.getIconAlign());cls.setTitleAlign(header.getTitleAlign());(box=this.getIconCls())?ghostPanel.setIconCls(box):(box=this.getIcon())?ghostPanel.setIcon(box):(box=this.getGlyph())&&ghostPanel.setGlyph(box);cls.addCls('x-header-ghost');this.lastHeaderGen=header.items.generation}Ext.resumeLayouts(!0);
this.elVisMode=myEl.getVisibilityMode();myEl.setVisibilityMode(Ext.Element.CLIP);myEl.hide();return ghostPanel},ghostTools:function(){var tools=[],header=this.header;header=header?header.query('tool[hidden\x3dfalse]'):[];var tLen;if(header.length){var t=0;for(tLen=header.length;t<tLen;t++){var tool=header[t];tools.push({type:tool.type,focusable:!1})}}else tools=[{type:'placeholder'}];return tools},initBodyBorder:function(){this.frame&&this.bodyBorder&&(Ext.isNumber(this.bodyBorder)||(this.bodyBorder=
1),this.getProtoBody().setStyle('border-width',this.unitizeBox(this.bodyBorder)))},initBodyStyles:function(){var body=this.getProtoBody();void 0!==this.bodyPadding&&(this.layout.managePadding?body.setStyle('padding',0):body.setStyle('padding',this.unitizeBox(!0===this.bodyPadding?5:this.bodyPadding)));this.initBodyBorder()},initBorderProps:function(){this.frame&&this.border&&void 0===this.bodyBorder&&(this.bodyBorder=!1);this.frame&&this.border&&(!1===this.bodyBorder||0===this.bodyBorder)&&(this.manageBodyBorders=
!0)},initComponent:function(){this.collapsible&&this.addStateEvents(['expand','collapse']);this.unstyled&&this.setUI('plain');this.frame&&this.setUI(this.ui+'-framed');this.bridgeToolbars();this.initBorderProps();Ext.container.Container.prototype.initComponent.call(this);this.collapseDirection=this.collapseDirection||this.getHeaderPosition()||Ext.Component.DIRECTION_TOP;'number'===typeof this.animCollapse&&(this.animCollapseDuration=this.animCollapse);this.hiddenOnCollapse=new Ext.dom.CompositeElement},
initItems:function(){Ext.container.Container.prototype.initItems.call(this);this.initDockingItems()},initRenderData:function(){var bodyWrapRole=this.bodyWrapAriaRole,bodyRole=this.bodyAriaRole;var data=Ext.container.Container.prototype.initRenderData.call(this);this.initBodyStyles();this.protoBody.writeTo(data);delete this.protoBody;this.headingText&&(data.headingText=this.headingText,this.addChildEl('headingEl'));bodyWrapRole&&(data.bodyWrapAriaAttributes={role:bodyWrapRole},!this.ariaStaticRoles[bodyWrapRole]&&
this.bodyWrapAriaRenderAttributes&&Ext.apply(data.bodyWrapAriaAttributes,this.bodyWrapAriaRenderAttributes));bodyRole&&(data.bodyAriaAttributes={role:bodyRole},!this.ariaStaticRoles[bodyRole]&&this.bodyAriaRenderAttributes&&Ext.apply(data.bodyAriaAttributes,this.bodyAriaRenderAttributes));return data},calculateConstrainedPosition:function(constrainTo,proposedPosition,local,proposedSize){var header=this.header;if(this.constrainHeader){var lastBox=header.lastBox;proposedSize?proposedSize=header.vertical?
[lastBox?lastBox.width:proposedSize[0],proposedSize[1]]:[proposedSize[0],lastBox?lastBox.height:proposedSize[1]]:lastBox&&(proposedSize=[lastBox.width,lastBox.height]);header=this.floatParent;constrainTo=constrainTo||this.constrainTo||(header?header.getTargetEl():null)||this.container||this.el.parent()}return Ext.container.Container.prototype.calculateConstrainedPosition.call(this,constrainTo,proposedPosition,local,proposedSize)},initTools:function(){var tools=this.tools,len=tools&&tools.length,i;
this.tools=[];if(len)for(i=0;i<len;++i){var tool=tools[i];'string'===typeof tool||tool.isTool||(tool=Ext.apply({},tool));this.tools.push(tool);tool.toolOwner=this}!this.collapsible||this.hideCollapseTool||!1===this.header||this.preventHeader||(this.updateCollapseTool(),this.collapseFirst&&this.tools.unshift(this.collapseTool));this.addTools();this.pinnable&&this.initPinnable();if(this.closable){this.addClsWithUI('closable');tools={xtype:'tool',type:'close',scope:this,handler:this.close,tooltip:this.closeToolText};
if(this.isAccordionPanel||this.disableCloseToolFocus)tools.focusable=!1,tools.ariaRole='presentation';this.addTool(tools)}this.collapseTool&&!this.collapseFirst&&this.addTool(this.collapseTool)},isLayoutRoot:function(){return this.floatedFromCollapse?!0:Ext.container.Container.prototype.isLayoutRoot.call(this)},isPlaceHolderCollapse:function(){return'placeholder'===this.collapseMode},isVisible:function(deep){return this.collapsed&&this.placeholder?this.placeholder.isVisible(deep):Ext.container.Container.prototype.isVisible.apply(this,
arguments)},onBoxReady:function(){Ext.container.Container.prototype.onBoxReady.apply(this,arguments);this.collapsed&&this.setHiddenDocked();this.isAccordionPanel&&(this.ariaEl=this.header.titleCmp.el,this.ariaEl.dom.setAttribute('aria-expanded',!this.collapsed),this.ariaEl.dom.setAttribute('aria-controls',this.body.id),this.body.dom.setAttribute('aria-labelledby',this.header.titleCmp.id),this.body.dom.setAttribute('aria-hidden',!!this.collapsed),this.accordionHeaderKeyNav=new Ext.util.KeyNav({target:this.header.titleCmp.el,
scope:this,left:this.navigateAccordionHeader,right:this.navigateAccordionHeader,up:this.navigateAccordionHeader,down:this.navigateAccordionHeader,home:this.navigateAccordionHeader,end:this.navigateAccordionHeader,space:this.toggleCollapse,enter:this.toggleCollapse,del:{alt:!0,fn:this.maybeClose}}),this.accordionBodyKeyNav=new Ext.util.KeyNav({target:this.bodyWrap,scope:this,up:{ctrl:!0,fn:this.navigateAccordionBody}}));if(this.defaultButton){var target=this.defaultButtonTarget?this[this.defaultButtonTarget]:
this.body;this.defaultButtonKeyNav=new Ext.util.KeyNav({target,scope:this,defaultEventAction:'stopEvent',enter:this.fireDefaultButton})}},onHide:function(animateTarget,cb,scope){var dd=this.dd;this.floatedFromCollapse&&this.slideOutFloatedPanel(!0);this.draggable&&dd&&dd.endDrag();this.collapsed&&this.placeholder?(this.splitter&&(Ext.suspendLayouts(),this.splitter.hide(),Ext.resumeLayouts()),this.placeholder.hide()):Ext.container.Container.prototype.onHide.call(this,animateTarget,cb,scope)},onRemoved:function(destroying){this.placeholder&&
!destroying&&this.ownerCt.remove(this.placeholder,!1);Ext.container.Container.prototype.onRemoved.apply(this,arguments)},onShow:function(){this.collapsed&&this.isPlaceHolderCollapse()?(this.splitter&&(Ext.suspendLayouts(),this.splitter.show(),Ext.resumeLayouts()),this.setHiddenState(!0),this.placeholderCollapse()):Ext.container.Container.prototype.onShow.apply(this,arguments)},placeholderCollapse:function(direction,animate){var ownerCt=this.ownerCt;direction=direction||this.collapseDirection;var floatCls=
Ext.panel.Panel.floatCls,collapseTool=this.collapseTool,placeholder=this.getPlaceholder(direction);if(Ext.Component.layoutSuspendCount||this.isLayoutSuspended())animate=!1;this.fireEvent('beginfloat',this);this.isCollapsingOrExpanding=1;this.setHiddenState(!0);this.collapsed=direction;placeholder.rendered?(placeholder.el.dom.parentNode!==this.el.dom.parentNode&&this.el.dom.parentNode.insertBefore(placeholder.el.dom,this.el.dom),placeholder.hidden=!1,placeholder.setHiddenState(!1),placeholder.el.show(),
ownerCt.updateLayout()):ownerCt.insert(ownerCt.items.indexOf(this),placeholder);if(this.rendered)if(this.focusPlaceholderExpandTool=this.focusPlaceHolder=!1,collapseTool&&Ext.ComponentManager.getActiveComponent()===collapseTool?this.focusPlaceholderExpandTool=!0:this.containsFocus&&(this.focusPlaceHolder=!0),this.el.setVisibilityMode(this.placeholderCollapseHideMode),animate){this.el.addCls(floatCls);placeholder.el.hide();var slideInDirection=this.convertCollapseDir(direction);this.el.slideOut(slideInDirection,
{preserveScroll:!0,duration:Ext.Number.from(animate,Ext.fx.Anim.prototype.duration),listeners:{scope:this,afteranimate:function(){var placeholderEl=this.placeholder.el;this.el.removeCls(floatCls);placeholderEl.show();this.ownerCt?(placeholderEl.setStyle('display','none'),placeholderEl.slideIn(slideInDirection,{easing:'linear',duration:100,listeners:{afteranimate:this.doPlaceholderCollapse,scope:this}})):this.doPlaceholderCollapse()}}})}else this.el.hide(),this.doPlaceholderCollapse();else this.isCollapsingOrExpanding=
0,this.preventCollapseFire||this.fireEvent('collapse',this);return this},doPlaceholderCollapse:function(){var placeholder=this.placeholder,expandTool=placeholder.expandTool;this.focusPlaceholderExpandTool&&expandTool?expandTool.focus():this.focusPlaceHolder&&placeholder.focus();this.focusPlaceholderExpandTool=!1;placeholder.setHiddenState(!1);placeholder.rendered&&(placeholder=placeholder.ariaEl.dom,placeholder.setAttribute('aria-hidden',!1),placeholder.setAttribute('aria-expanded',!1));placeholder=
this.ariaEl.dom;placeholder.setAttribute('aria-hidden',!0);placeholder.setAttribute('aria-expanded',!1);this.isCollapsingOrExpanding=0;this.fireEvent('collapse',this);this.fireEvent('endfloat',this)},placeholderExpand:function(animate){var collapseDir=this.collapsed,expandTool=this.placeholder.expandTool,floatCls=Ext.panel.Panel.floatCls,center=this.ownerLayout?this.ownerLayout.centerRegion:null;Ext.Component.layoutSuspendCount&&(animate=!1);if(this.floatedFromCollapse){var floatedPos=this.getPosition(!0);
this.slideOutFloatedPanelBegin();this.slideOutFloatedPanelEnd();this.floated=!1}expandTool&&Ext.ComponentManager.getActiveComponent()===expandTool&&(this.focusHeaderCollapseTool=!0,expandTool._ariaRole=expandTool.ariaEl.dom.getAttribute('role'),expandTool._ariaLabel=expandTool.ariaEl.dom.getAttribute('aria-label'),expandTool.ariaEl.dom.setAttribute('role','presentation'),expandTool.ariaEl.dom.removeAttribute('aria-label'));animate?(Ext.suspendLayouts(),this.placeholder.hide(),this.el.show(),this.collapsed=
!1,this.setHiddenState(!1),center&&!floatedPos&&(center.hidden=!0),Ext.resumeLayouts(!0),center&&(center.hidden=!1),this.floatedFromCollapse||this.fireEvent('beginfloat',this),this.el.addCls(floatCls),this.isCollapsingOrExpanding=2,floatedPos?(collapseDir=this.getXY(),this.setLocalXY(floatedPos[0],floatedPos[1]),this.setXY([collapseDir[0],collapseDir[1]],{duration:Ext.Number.from(animate,Ext.fx.Anim.prototype.duration),listeners:{scope:this,afteranimate:function(){this.el.removeCls(floatCls);this.isCollapsingOrExpanding=
0;this.fireEvent('expand',this);this.fireEvent('endfloat',this)}}})):(this.el.hide(),this.placeholder.el.show(),this.placeholder.hidden=!1,this.setHiddenState(!1),this.el.slideIn(this.convertCollapseDir(collapseDir),{preserveScroll:!0,duration:Ext.Number.from(animate,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:this.doPlaceholderExpand,scope:this}}))):(this.floated=this.collapsed=!1,this.doPlaceholderExpand(!0));return this},doPlaceholderExpand:function(nonAnimated){var placeholder=this.placeholder,
collapseTool=this.collapseTool,expandTool=placeholder.expandTool;if(nonAnimated=!0===nonAnimated)Ext.suspendLayouts(),this.show();this.el.removeCls(Ext.panel.Panel.floatCls);placeholder.hide();nonAnimated?Ext.resumeLayouts(!0):this.updateLayout();this.focusHeaderCollapseTool&&collapseTool&&collapseTool.focus();this.focusHeaderCollapseTool=!1;placeholder.ariaEl.dom.setAttribute('aria-expanded',!0);this.ariaEl.dom.setAttribute('aria-expanded',!0);expandTool&&expandTool._ariaRole&&(expandTool.ariaEl.dom.setAttribute('role',
expandTool._ariaRole),expandTool.ariaEl.dom.setAttribute('aria-label',expandTool._ariaLabel),expandTool._ariaRole=expandTool._ariaLabel=null);this.isCollapsingOrExpanding=0;this.fireEvent('expand',this);this.fireEvent('endfloat',this)},remove:function(component,autoDestroy){var dockedItems=this.dockedItems;dockedItems&&dockedItems.contains(component)?this.removeDocked(component,autoDestroy):Ext.container.Container.prototype.remove.call(this,component,autoDestroy);return component},removeBodyCls:function(cls){(this.rendered?
this.body:this.getProtoBody()).removeCls(cls);return this},removeUIClsFromElement:function(cls){var result=Ext.container.Container.prototype.removeUIClsFromElement.apply(this,arguments);this.removeBodyCls(['x-'+cls,this.baseCls+'-body-'+cls,this.baseCls+'-body-'+this.ui+'-'+cls]);return result},restoreDimension:function(){var dir=this.collapseDirection;return'top'===dir||'bottom'===dir?'height':'width'},restoreHiddenDocked:function(){this.setDockedItemsVisibility(this.hiddenOnCollapse,!0)},setBodyStyle:function(style,
value){var body=this.rendered?this.body:this.getProtoBody();Ext.isFunction(style)&&(style=style());1===arguments.length?(Ext.isString(style)&&(style=Ext.Element.parseStyles(style)),body.setStyle(style)):body.setStyle(style,value);return this},setBorder:function(border,targetEl){targetEl||(targetEl=this.header,border=border?!0===border?'1px':this.unitizeBox(border):0,targetEl&&(targetEl.isHeader?targetEl.setBorder(border):targetEl.border=border),this.rendered&&!1!==this.bodyBorder&&this.body.setStyle('border-width',
border),this.updateLayout(),this.border=border)},setCollapsed:function(collapsed){this[collapsed?'collapse':'expand']()},setDockedItemsVisibility:function(els,show){var items=this.getDockedItems(),len=items.length,i=0,item,reExpander;for(!1!==this.header&&(reExpander=this.getReExpander());i<len;i++)(item=items[i])&&item!==reExpander&&item.el&&els.add(item.el);els.setStyle('visibility',show?'':'hidden');els.clear()},setGlyph:function(glyph){this.setHeaderConfig(glyph,'glyph','setGlyph',!0)},setIcon:function(icon){this.setHeaderConfig(icon,
'icon','setIcon',!0)},setIconCls:function(iconCls){this.setHeaderConfig(iconCls,'iconCls','setIconCls',!0)},setIconAlign:function(iconAlign){this.setHeaderConfig(iconAlign,'iconAlign','setIconAlign',!0)},setTitleAlign:function(titleAlign){this.setHeaderConfig(titleAlign,'titleAlign','setTitleAlign',!0)},setTitlePosition:function(titlePosition){this.setHeaderConfig(titlePosition,'titlePosition','setTitlePosition',!0)},setTitleRotation:function(titleRotation){this.setHeaderConfig(titleRotation,'titleRotation',
'setTitleRotation',!0)},setTitle:function(title){title!==this.title&&this.headingEl&&this.headingEl.setHtml(title);this.setHeaderConfig(title,'title','setTitle',!1)},setHeaderConfig:function(value,prop,setter,addToHeaderCfg){var oldValue=this[prop],header=this.header,placeholder=this.placeholder,reExpander=this.reExpander;if(value!==oldValue){this[prop]=value;if(header)if(header.isHeader)header[setter](value);else addToHeaderCfg&&(header[prop]=value);else(this.rendered||this.afterHeaderInit)&&this.updateHeader();
if(reExpander)reExpander[setter](value);if(placeholder&&placeholder[setter])placeholder[setter](value);prop=prop.toLowerCase()+'change';this.hasListeners[prop]&&this.fireEvent(prop,this,value,oldValue)}},setHiddenDocked:function(){var toHide=new Ext.dom.CompositeElement;this.hiddenOnCollapse.add(this.body);toHide.add(this.body);this.setDockedItemsVisibility(toHide,!1)},setUI:function(ui){Ext.container.Container.prototype.setUI.apply(this,arguments);this.header&&this.header.rendered&&this.header.setUI(ui)},
toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},updateCollapseTool:function(){var collapseTool=this.collapseTool;!collapseTool&&this.collapsible&&(this.collapseDirection=this.collapseDirection||this.getHeaderPosition()||'top',collapseTool={xtype:'tool',handler:this.toggleCollapse,scope:this},this.isAccordionPanel&&(collapseTool.focusable=!1,collapseTool.ariaRole='presentation'),this.collapseTool=this.expandTool=collapseTool=Ext.widget(collapseTool));
collapseTool&&(this.collapsed&&!this.isPlaceHolderCollapse()?(collapseTool.setType('expand-'+this.getOppositeDirection(this.collapseDirection)),collapseTool.setTooltip(this.expandToolText)):(collapseTool.setType('collapse-'+this.collapseDirection),collapseTool.setTooltip(this.collapseToolText)))},navigateAccordionHeader:function(e){switch(e.getKey()){case e.UP:case e.LEFT:var target=this.findAccordionSibling('prev');break;case e.DOWN:case e.RIGHT:target=this.findAccordionSibling('next');break;case e.HOME:target=
this.findAccordionSibling('first');break;case e.END:target=this.findAccordionSibling('last');break;case e.DELETE:target=this.findAccordionSibling('prev')||this.findAccordionSibling('next'),target||(e.doNotClose=!0)}e.stopEvent();target&&target!==this&&target.header.titleCmp.focus()},navigateAccordionBody:function(e){var target;e.getKey()===e.UP&&(target=this);e.stopEvent();target&&target.header.titleCmp.focus()},findAccordionSibling:function(which,forceFind){var sibling;switch(which){case 'prev':(sibling=
this.prev('[isAccordionPanel]'))||(this.accordionWrapOver?sibling=this.ownerCt.child('[isAccordionPanel]:last'):forceFind&&(sibling=this));break;case 'next':(sibling=this.next('[isAccordionPanel]'))||(this.accordionWrapOver?sibling=this.ownerCt.child('[isAccordionPanel]:first'):forceFind&&(sibling=this));break;case 'first':sibling=this.ownerCt.child('[isAccordionPanel]:first');break;case 'last':sibling=this.ownerCt.child('[isAccordionPanel]:last')}return sibling},fireDefaultButton:function(e){var btn;
if('TEXTAREA'===e.target.tagName||'true'===e.target.getAttribute('aria-multiline'))return!0;if((btn=(this.lookupReferenceHolder(!1)||this).lookupReference(this.defaultButton))&&btn.click)return btn.click(e),e.stopEvent(),!1},maybeClose:function(e){this.closable&&(this.navigateAccordionHeader(e),e.doNotClose||this.close())},canFocus:function(skipVisibility,includeFocusTarget){return this.collapsed?!(!this.placeholder||!this.placeholder.canFocus(skipVisibility,includeFocusTarget)):this.mixins.focusable.canFocus.call(this,
skipVisibility,includeFocusTarget)},focus:function(){var placeholder=this.placeholder;this.collapsed&&placeholder&&placeholder.canFocus()?placeholder.focus.apply(placeholder,arguments):Ext.container.Container.prototype.focus.apply(this,arguments)},onFocusEnter:function(e){var ariaDom=this.ariaEl.dom;Ext.container.Container.prototype.onFocusEnter.call(this,e);this.isAccordionPanel&&ariaDom&&ariaDom.setAttribute('aria-selected',!0)},onFocusLeave:function(e){var ariaDom=this.ariaEl.dom;Ext.container.Container.prototype.onFocusLeave.call(this,
e);this.isAccordionPanel&&ariaDom&&ariaDom.setAttribute('aria-selected','false')},updateHeaderPosition:function(position){var header=this.header;header&&header.isHeader&&header.setDock(position)},unghost:function(show,matchPosition,focus){focus=this.el;var ghostPanel=this.ghostPanel;ghostPanel&&(focus.show(),focus.setVisibilityMode(this.elVisMode),!1!==show?!1!==matchPosition&&this.setPagePosition(ghostPanel.getXY()):focus.hide(),ghostPanel.el.hide(),ghostPanel.setHiddenState(!0))},updateHeader:function(force){var header=
this.header,title=this.getTitle(),tools=this.tools,icon=this.getIcon(),glyph=this.getGlyph(),iconCls=this.getIconCls(),hasIcon=glyph||icon||iconCls,ariaDom=this.ariaEl.dom,headerPosition=this.getHeaderPosition();headerPosition='left'===headerPosition||'right'===headerPosition;Ext.isObject(header)||!1!==header&&(force||title||hasIcon||tools&&tools.length||this.collapsible&&!this.titleCollapse)?(header&&header.isHeader?(header.dockToEl=!0,header.show()):(Ext.isObject(header)&&this.syncHeaderConfigs(header),
header=this.header=Ext.widget(Ext.merge({xtype:'header',title,titleAlign:this.getTitleAlign(),titlePosition:this.getTitlePosition(),vertical:headerPosition,dock:this.getHeaderPosition()||'top',dockToEl:!0,titleRotation:this.getTitleRotation(),textCls:this.headerTextCls,iconCls,iconAlign:this.getIconAlign(),icon,glyph,baseCls:this.baseCls+'-header',tools,ui:this.ui,id:this.id+'_header',overCls:this.headerOverCls,indicateDrag:this.draggable,frame:(this.frame||this.alwaysFramed)&&this.frameHeader,ignoreParentFrame:this.frame||
this.overlapHeader,ignoreBorderManagement:this.frame||this.ignoreHeaderBorderManagement,isAccordionHeader:this.isAccordionPanel,ownerCt:this,synthetic:!0,listeners:this.collapsible&&this.titleCollapse?{click:this.toggleCollapse,scope:this}:null},this.header)),this.addDocked(header,0)),this.isAccordionPanel?ariaDom?(ariaDom.setAttribute('aria-labelledby',header.id+'-title'),ariaDom.removeAttribute('aria-label')):(force=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),force['aria-labelledby']=
header.id+'-title',delete force['aria-label']):title?'tabpanel'!==this.ariaRole&&(ariaDom?(ariaDom.setAttribute('aria-labelledby',header.id+'-title-textEl'),ariaDom.removeAttribute('aria-label')):(force=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),force['aria-labelledby']=header.id+'-title-textEl',delete force['aria-label'])):this.ariaRenderAttributes&&delete this.ariaRenderAttributes['aria-label']):(header&&header.hide(),title=Ext.util.Format.stripTags(title),ariaDom?ariaDom.hasAttribute('aria-labelledby')||
(title?ariaDom.setAttribute('aria-label',title):ariaDom.removeAttribute('aria-label')):(force=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),force['aria-labelledby']||(title?force['aria-label']=title:delete force['aria-label'])));this.isViewportBorderChild&&!this.hasOwnProperty('ariaRole')&&(this.ariaRole='region');title&&'region'===this.ariaRole?(header=this.headingEl)?header.setHtml(title):this.rendered?(this.headingEl=Ext.dom.Helper.insertFirst(this.el,{tag:'div',id:this.id+'-headingEl',
role:'heading','class':'x-hidden-clip',style:'height:0',html:title},!0),ariaDom.removeAttribute('aria-label'),ariaDom.setAttribute('aria-labelledby',this.id+'-headingEl')):(this.headingText=this.title,force=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),force['aria-labelledby']=this.id+'-headingEl',delete force['aria-label']):this.headingEl&&(this.headingEl.destroy(),this.headingEl=null)},statics:{floatCls:'x-border-region-slide-in'},privates:{addUIToElement:function(){Ext.container.Container.prototype.addUIToElement.apply(this,
arguments);this.addBodyCls(this.baseCls+'-body-'+this.ui)},applyTargetCls:function(targetCls){this.getProtoBody().addCls(targetCls)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.protoBody||this.frameBody||this.el},initDraggable:function(){this.simpleDrag?this.initSimpleDraggable():this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},initResizable:function(resizable){Ext.container.Container.prototype.initResizable.call(this,
resizable);this.collapsed&&this.resizer.disable()},initSimpleDraggable:function(){var dd=this.draggable;this.header||dd.delegate||this.updateHeader(!0);if(this.header||dd.delegate){dd=Ext.apply({el:this.el,delegate:this.header&&this.header.el},dd);if(this.constrain||this.constrainHeader)dd.constrain=this.constrain,dd.constrainDelegate=this.constrainHeader,dd.constrainTo=this.constrainTo||this.container;dd=this.dd=new Ext.util.ComponentDragger(this,dd);this.relayEvents(dd,['dragstart','drag','dragend'])}},
removeUIFromElement:function(){Ext.container.Container.prototype.removeUIFromElement.apply(this,arguments);this.removeBodyCls(this.baseCls+'-body-'+this.ui)},setupRenderTpl:function(renderTpl){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);this.setupDockingRenderTpl(renderTpl)},slideOutFloatedPanel:function(preventAnimate){var me=this,compEl=me.el,collapseDirection,afterSlideOut=function(){me.slideOutFloatedPanelEnd();me.el.removeCls('x-border-region-slide-in');me.fireEvent('endfloat',
me)};if(!me.isSliding&&!me.destroyed){me.isSliding=!0;me.floated=!1;me.slideOutFloatedPanelBegin();if(preventAnimate)return compEl.hide(),afterSlideOut();'string'===typeof me.collapsed&&(collapseDirection=me.convertCollapseDir(me.collapsed));me.fireEvent('beginfloat',me);compEl.slideOut(collapseDirection,{preserveScroll:!0,duration:Ext.Number.from(me.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:afterSlideOut}});this.containsFocus&&(preventAnimate=this.findFocusTarget())&&preventAnimate.focus()}},
slideOutFloatedPanelBegin:function(){this.collapsed=this.floatedFromCollapse;this.setHiddenState(!0);this.floatedFromCollapse=null;Ext.destroy(this.pointerLeaveListener,this.phHoverListeners,this.elHoverListeners)},slideOutFloatedPanelEnd:function(suppressEvents){this.collapseTool&&this.collapseTool.el.show();this.slideOutTask.cancel();this.isSliding=!1;suppressEvents||this.fireEvent('unfloat',this)},syncHeaderConfigs:function(header){var config;for(config in header){var value=header[config];this.headerConfigs[config]&&
void 0!==value&&(this[config]=value)}}}},0,['panel'],['component','box','container','panel'],{component:!0,box:!0,container:!0,panel:!0},['widget.panel'],[['docking',Ext.container.DockingContainer]],[Ext.panel,'Panel',Ext,'Panel'],function(){var proto=this.prototype;proto.animCollapse=Ext.enableFx;proto.placeholderCollapseHideMode=Ext.Element.VISIBILITY});
Ext.define('Ext.theme.neptune.panel.Panel',{override:'Ext.panel.Panel',border:!1,bodyBorder:!1,initBorderProps:Ext.emptyFn,initBodyBorder:function(){!0!==this.bodyBorder&&arguments.callee.$previous.call(this)}});
Ext.cmd.derive('Ext.container.Monitor',Ext.Base,{target:null,selector:'',scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,clearPropertiesOnDestroy:!1,clearPrototypeOnDestroy:!1,disabled:0,constructor:function(config){Ext.apply(this,config)},destroy:function(){this.unbind();this.callParent()},bind:function(target){this.target=target;target.on('beforedestroy',this.disable,this);this.onContainerAdd(target)},unbind:function(){var target=this.target;!target||target.destroying||target.destroyed||
(this.onContainerRemove(target,target),target.un('beforedestroy',this.disable,this));this.items=Ext.destroy(this.items)},disable:function(){++this.disabled},enable:function(){0<this.disabled&&--this.disabled},handleAdd:function(ct,comp){if(!this.disabled){if(Ext.ComponentQuery.is(comp,this.selector))this.onItemAdd(comp.ownerCt,comp);if(comp.isQueryable)this.onContainerAdd(comp)}},onItemAdd:function(ct,comp){ct=this.items;var handler=this.addHandler;this.disabled||(handler&&handler.call(this.scope||
comp,comp),ct&&ct.add(comp));comp.clearPropertiesOnDestroy=comp.clearPrototypeOnDestroy=!1},onItemRemove:function(ct,comp){ct=this.items;var handler=this.removeHandler;this.disabled||(handler&&handler.call(this.scope||comp,comp),ct&&ct.remove(comp))},onContainerAdd:function(ct,preventChildren){var len;if(ct.isContainer)ct.on({scope:this,add:this.handleAdd,dockedadd:this.handleAdd,remove:this.handleRemove,dockedremove:this.handleRemove});if(!0!==preventChildren){preventChildren=ct.query(this.selector);
var i=0;for(len=preventChildren.length;i<len;++i){var comp=preventChildren[i];this.onItemAdd(comp.ownerCt,comp)}}preventChildren=ct.query('\x3econtainer');i=0;for(len=preventChildren.length;i<len;++i)this.onContainerAdd(preventChildren[i],!0);ct.clearPropertiesOnDestroy=ct.clearPrototypeOnDestroy=!1},handleRemove:function(ct,comp){if(!this.disabled){if(Ext.ComponentQuery.is(comp,this.selector))this.onItemRemove(ct,comp);if(comp.isQueryable)this.onContainerRemove(ct,comp)}},onContainerRemove:function(ct,
comp){var len;if(!comp.destroyed&&comp.isContainer&&(this.removeCtListeners(comp),!comp.destroying)){ct=comp.query(this.selector);var i=0;for(len=ct.length;i<len;++i){var item=ct[i];this.onItemRemove(item.ownerCt,item)}ct=comp.query('container');i=0;for(len=ct.length;i<len;++i)this.removeCtListeners(ct[i])}this.invalidateItems(!0)},removeCtListeners:function(ct){ct.un({scope:this,add:this.handleAdd,dockedadd:this.handleAdd,remove:this.handleRemove,dockedremove:this.handleRemove})},getItems:function(){var items=
this.items;items||(items=this.items=new Ext.util.MixedCollection,items.addAll(this.target.query(this.selector)));return items},invalidateItems:function(triggerHandler){var handler=this.invalidateHandler;triggerHandler&&handler&&handler.call(this.scope||this,this);this.items=Ext.destroy(this.items)}},1,0,0,0,0,0,[Ext.container,'Monitor'],0);
Ext.cmd.derive('Ext.plugin.Viewport',Ext.plugin.Abstract,{setCmp:function(cmp){(this.cmp=cmp)&&!cmp.isViewport&&(this.decorate(cmp),cmp.renderConfigs&&cmp.flushRenderConfigs(),cmp.setupViewport())},destroy:function(){var el=this.cmp.el;Ext.plugin.Abstract.prototype.destroy.call(this);el&&(delete el.setHeight,delete el.setWidth)},statics:{decorate:function(target){Ext.applyIf(target.prototype||target,{ariaRole:'application',viewportCls:'x-viewport'});Ext.override(target,{isViewport:!0,preserveElOnDestroy:!0,
initComponent:function(){this.callParent();this.setupViewport()},getSizeModel:function(){var configured=Ext.layout.SizeModel.configured;return configured.pairsByHeightOrdinal[configured.ordinal]},handleViewportResize:function(){var Element=Ext.dom.Element,width=Element.getViewportWidth();Element=Element.getViewportHeight();width===this.width&&Element===this.height||this.setSize(width,Element)},setupViewport:function(){var el=document.body;this.$responsiveId||(this.setResponsiveConfig(!0),Ext.mixin.Responsive.register(this),
this.setupResponsiveContext());el.id||(el.id=this.id);el.setAttribute('data-componentid',this.id);this.ariaStaticRoles[this.ariaRole]||el.setAttribute('role',this.ariaRole);el=this.el=Ext.getBody();Ext.fly(document.documentElement).addCls(this.viewportCls);el.setHeight=el.setWidth=Ext.emptyFn;el.dom.scroll='no';this.allowDomMove=!1;this.renderTo=el;Ext.supports.Touch&&this.addMeta('apple-mobile-web-app-capable','yes');Ext.scrollbar.size();this.width=this.height=void 0;this.initialViewportHeight=Ext.Element.getViewportHeight();
this.initialViewportWidth=Ext.Element.getViewportWidth()},afterLayout:function(layout){Ext.supports.Touch&&(document.body.scrollTop=0);this.callParent([layout])},onRender:function(){this.getOverflowEl();var body=Ext.getBody();this.callParent(arguments);Ext.setViewportScroller(this.getScrollable()||{x:!1,y:!1,element:body});this.getOverflowEl()!==body&&body.setStyle('overflow','hidden');this.width=this.initialViewportWidth;this.height=this.initialViewportHeight;this.initialViewportWidth=this.initialViewportHeight=
null},initInheritedState:function(inheritedState,inheritedStateInner){var root=Ext.rootInheritedState;inheritedState!==root?this.initInheritedState(this.inheritedState=root,this.inheritedStateInner=Ext.Object.chain(root)):this.callParent([inheritedState,inheritedStateInner])},doDestroy:function(){var root=Ext.rootInheritedState,scroller=this.scrollable,key;scroller&&(scroller.setConfig({x:!0,y:!0}),this.scrollable=null);for(key in root)'rtl'!==key&&delete root[key];delete this.el.setHeight;delete this.el.setWidth;
this.removeUIFromElement();this.el.removeCls(this.baseCls);Ext.fly(document.body.parentNode).removeCls(this.viewportCls);this.callParent()},addMeta:function(name,content){var meta=document.createElement('meta');meta.setAttribute('name',name);meta.setAttribute('content',content);Ext.getHead().appendChild(meta,!0)},privates:{applyTargetCls:function(targetCls){this.el===this.getTargetEl()?this.el.addCls(targetCls):this.callParent([targetCls])},disableTabbing:function(){var el=this.el;el&&el.saveTabbableState({skipSelf:!0})},
enableTabbing:function(){var el=this.el;el&&el.restoreTabbableState({skipSelf:!0})},updateResponsiveState:function(){this.handleViewportResize();this.callParent()}}})}}},0,0,0,0,['plugin.viewport'],0,[Ext.plugin,'Viewport'],function(Viewport){Viewport.prototype.decorate=Viewport.decorate});
Ext.cmd.derive('Ext.container.Viewport',Ext.container.Container,{alternateClassName:'Ext.Viewport',ariaRole:'application',responsiveConfig:!0,privates:{updateResponsiveState:function(){this.handleViewportResize();this.mixins.responsive.updateResponsiveState.call(this)}}},0,['viewport'],['component','box','container','viewport'],{component:!0,box:!0,container:!0,viewport:!0},['widget.viewport'],0,[Ext.container,'Viewport',Ext,'Viewport'],function(){Ext.plugin.Viewport.decorate(this)});
Ext.cmd.derive('Ext.layout.container.Anchor',Ext.layout.container.Auto,{alternateClassName:'Ext.layout.AnchorLayout',type:'anchor',defaultAnchor:'100%',parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,setsItemSize:!0,beginLayoutCycle:function(ownerContext){var dimensions=0,anchorSpec,i;Ext.layout.container.Auto.prototype.beginLayoutCycle.apply(this,arguments);var childItems=ownerContext.childItems;var length=childItems.length;for(i=0;i<length;++i){var childContext=childItems[i];if(anchorSpec=
childContext.target.anchorSpec)if(childContext.widthModel.calculated&&anchorSpec.right&&(dimensions|=1),childContext.heightModel.calculated&&anchorSpec.bottom&&(dimensions|=2),3===dimensions)break}ownerContext.anchorDimensions=dimensions},calculateItems:function(ownerContext,containerSize){var childItems=ownerContext.childItems,length=childItems.length,gotHeight=containerSize.gotHeight,gotWidth=containerSize.gotWidth,ownerHeight=containerSize.height;containerSize=containerSize.width;var knownDimensions=
(gotWidth?1:0)|(gotHeight?2:0);ownerContext=ownerContext.anchorDimensions;var i;if(!ownerContext)return!0;for(i=0;i<length;i++){var childContext=childItems[i];var childMargins=childContext.getMarginInfo();var anchorSpec=childContext.target.anchorSpec;if(gotWidth&&childContext.widthModel.calculated){var width=anchorSpec.right(containerSize)-childMargins.width;width=this.adjustWidthAnchor(width,childContext);childContext.setWidth(width)}gotHeight&&childContext.heightModel.calculated&&(anchorSpec=anchorSpec.bottom(ownerHeight)-
childMargins.height,anchorSpec=this.adjustHeightAnchor(anchorSpec,childContext),childContext.setHeight(anchorSpec))}return(knownDimensions&ownerContext)===ownerContext},anchorFactory:{offset:function(delta){return function(v){return v+delta}},ratio:function(ratio){return function(v){return Math.floor(v*ratio)}},standard:function(diff){return function(v){return v-diff}}},parseAnchor:function(a,start,cstart){var factory=this.anchorFactory;if(a&&'none'!==a){if(this.parseAnchorRE.test(a))return factory.standard(cstart-
start);if(-1!==a.indexOf('%'))return factory.ratio(.01*parseFloat(a.replace('%','')));a=parseInt(a,10);if(!isNaN(a))return factory.offset(a)}return null},adjustWidthAnchor:function(value,childContext){return value},adjustHeightAnchor:function(value,childContext){return value},configureItem:function(item){var owner=this.owner,anchor=item.anchor;Ext.layout.container.Auto.prototype.configureItem.apply(this,arguments);item.anchor||!item.items||Ext.isNumber(item.width)||(item.anchor=anchor=this.defaultAnchor);
if(owner.anchorSize)if('number'===typeof owner.anchorSize)var anchorWidth=owner.anchorSize;else{anchorWidth=owner.anchorSize.width;var anchorHeight=owner.anchorSize.height}else anchorWidth=owner.initialConfig.width,anchorHeight=owner.initialConfig.height;anchor&&(owner=anchor.split(' '),item.anchorSpec={right:this.parseAnchor(owner[0],item.initialConfig.width,anchorWidth),bottom:this.parseAnchor(owner[1],item.initialConfig.height,anchorHeight)})},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,
setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(item){item=item.anchorSpec;var key='$',policy=this.sizePolicy;if(item){var sizeModel=this.owner.getSizeModel();item.right&&!sizeModel.width.shrinkWrap&&(policy=policy.r);item.bottom&&!sizeModel.height.shrinkWrap&&(key='b')}return policy[key]}},0,0,0,0,['layout.anchor'],0,[Ext.layout.container,
'Anchor',Ext.layout,'AnchorLayout'],0);
Ext.cmd.derive('Ext.dd.DragTracker',Ext.Base,{active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(config){Ext.apply(this,config);this.dragRegion=new Ext.util.Region(0,0,0,0);this.el&&this.initEl(this.el);this.mixins.observable.constructor.call(this);this.disabled&&this.disable();if(Ext.supports.Touch)Ext.getWin().on({touchstart:'onWindowTouchStart',scope:this,capture:!0})},initEl:function(el){var delegate=this.delegate,touchScrollable;this.el=el=Ext.get(el);if(delegate){if(delegate.isElement)var unselectable=
this.handle=delegate}else unselectable=el;unselectable&&unselectable.addCls('x-unselectable');this.delegate=this.handle?void 0:this.delegate;Ext.supports.Touch&&(touchScrollable=(delegate=Ext.Component.from(el))&&delegate.getScrollable())&&(delegate=touchScrollable.getElement(),touchScrollable=this.handle&&!delegate.contains(this.handle)?!1:this.delegate&&!delegate.down(this.delegate)?!1:touchScrollable.getX()||touchScrollable.getY());this.handle||(this.handle=el);this.handleListeners={scope:this,
delegate:this.delegate,dragstart:this.onDragStart};touchScrollable?(this.handleListeners.longpress=this.onMouseDown,this.handleListeners.mousedown={fn:this.onMouseDown,delegate:this.delegate,translate:!1},this.handleListeners.contextmenu=function(e){e.stopEvent()}):this.handleListeners.mousedown=this.onMouseDown;Ext.supports.TouchEvents||!this.trackOver&&!this.overCls||Ext.apply(this.handleListeners,{mouseover:this.onMouseOver,mouseout:this.onMouseOut});this.mon(this.handle,this.handleListeners);
this.keyNav=new Ext.util.KeyNav({target:el,up:this.onResizeKeyDown,left:this.onResizeKeyDown,right:this.onResizeKeyDown,down:this.onResizeKeyDown,scope:this})},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.endDrag({});Ext.destroy(this.keyNav);this.callParent()},onWindowTouchStart:function(e){if(this.mouseIsDown)this.onMouseUp(e)},onMouseOver:function(e,target){var len;if(!this.disabled&&(e.within(e.target,!0,!0)||this.delegate)){var handleCls=this.handleCls;
this.mouseIsOut=!1;if(handleCls){var i=0;for(len=this.handleEls.length;i<len;i++){var el=this.handleEls[i];var cls=el.delegateCls;cls||(cls=el.delegateCls=[handleCls,'-',el.region,'-over'].join(''));el.addCls([cls,this.overCls])}}this.fireEvent('mouseover',this,e,this.delegate?e.getTarget(this.delegate,target):this.handle)}},onMouseOut:function(e){var len;if(this.mouseIsDown)this.mouseIsOut=!0;else{if(this.handleCls){var i=0;for(len=this.handleEls.length;i<len;i++){var el=this.handleEls[i];el.removeCls([el.delegateCls,
this.overCls])}}this.fireEvent('mouseout',this,e)}},onMouseDown:function(e,target){var trackEvent=e.parentEvent||e;e.button||this.disabled||trackEvent.dragTracked||(this.dragTarget=this.delegate?target:this.handle.dom,this.startXY=this.lastXY=e.getXY(),this.startRegion=Ext.fly(this.dragTarget).getRegion(),!1===this.fireEvent('mousedown',this,e)||!1===this.fireEvent('beforedragstart',this,e)||!1===this.onBeforeStart(e))||((this.mouseIsDown=!0,trackEvent.dragTracked=!0,this.el.setCapture(),e.stopPropagation(),
!1===this.preventDefault&&'touch'!==e.pointerType||e.preventDefault(),Ext.getDoc().on({scope:this,capture:!0,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect}),this.dragEnded=!1,this.tolerance)?this.autoStart&&(this.timer=Ext.defer(this.triggerStart,!0===this.autoStart?1E3:this.autoStart,this,[e])):this.triggerStart())},onMouseMove:function(e,target){target=e.getXY();var s=this.startXY;e.stopPropagation();!1!==this.preventDefault&&e.preventDefault();if(!this.dragEnded){this.lastXY=
target;if(!this.active)if(Math.max(Math.abs(s[0]-target[0]),Math.abs(s[1]-target[1]))>this.tolerance)this.triggerStart(e);else return;if(!1===this.fireEvent('mousemove',this,e))this.onMouseUp(e);else this.onDrag(e),this.fireEvent('drag',this,e)}},onMouseUp:function(e){this.mouseIsDown=!1;this.mouseIsOut&&(this.mouseIsOut=!1,this.onMouseOut(e));!1!==this.preventDefault&&e.preventDefault();Ext.isIE&&document.releaseCapture&&document.releaseCapture();this.fireEvent('mouseup',this,e);this.endDrag(e)},
endDrag:function(e){var wasActive=this.active;Ext.getDoc().un({mousemove:this.onMouseMove,mouseup:this.onMouseUp,selectstart:this.stopSelect,capture:!0,scope:this});this.clearStart();this.active=!1;this.dragEnded=!0;if(wasActive)this.onEnd(e),this.fireEvent('dragend',this,e);else this.onCancel(e);this._constrainRegion=null},triggerStart:function(e){this.clearStart();this.active=!0;this.onStart(e);this.fireEvent('dragstart',this,e)},clearStart:function(){var timer=this.timer;timer&&(Ext.undefer(timer),
this.timer=null)},stopSelect:function(e){e.stopEvent();return!1},onBeforeStart:function(e){},onStart:function(e){},onDrag:function(e){},onCancel:function(e){},onEnd:function(e){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){if(this.constrainTo){if(this.constrainTo instanceof Ext.util.Region)return this.constrainTo;this._constrainRegion||(this._constrainRegion=Ext.fly(this.constrainTo).getViewRegion())}else this._constrainRegion||
(this._constrainRegion=this.getDragCt().getViewRegion());return this._constrainRegion},getXY:function(constrain){return constrain?this.constrainModes[constrain](this,this.lastXY):this.lastXY},getOffset:function(constrain){constrain=this.getXY(constrain);var s=this.startXY;return[constrain[0]-s[0],constrain[1]-s[1]]},onDragStart:function(e){e.stopPropagation()},constrainModes:{point:function(me,xy){var dr=me.dragRegion;me=me.getConstrainRegion();if(!me)return xy;dr.x=dr.left=dr[0]=dr.right=xy[0];dr.y=
dr.top=dr[1]=dr.bottom=xy[1];dr.constrainTo(me);return[dr.left,dr.top]},dragTarget:function(me,xy){var s=me.startXY,dr=me.startRegion.copy();me=me.getConstrainRegion();if(!me)return xy;dr.translateBy(xy[0]-s[0],xy[1]-s[1]);dr.right>me.right&&(xy[0]+=s=me.right-dr.right,dr.left+=s);dr.left<me.left&&(xy[0]+=me.left-dr.left);dr.bottom>me.bottom&&(xy[1]+=s=me.bottom-dr.bottom,dr.top+=s);dr.top<me.top&&(xy[1]+=me.top-dr.top);return xy}}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.dd,'DragTracker'],
0);
Ext.cmd.derive('Ext.resizer.SplitterTracker',Ext.dd.DragTracker,{enabled:!0,overlayCls:'x-resizable-overlay',createDragOverlay:function(){var El=Ext.dom.Element;var overlay=this.overlay=Ext.getBody().createChild({role:'presentation',cls:this.overlayCls,html:'\x26#160;'});overlay.unselectable();overlay.setSize(El.getDocumentWidth(),El.getDocumentHeight());overlay.show()},getPrevCmp:function(){return this.getSplitter().previousSibling(':not([hidden])')},getNextCmp:function(){return this.getSplitter().nextSibling(':not([hidden])')},onBeforeStart:function(e){var prevCmp=
this.getPrevCmp(),nextCmp=this.getNextCmp(),collapseEl=this.getSplitter().collapseEl;e=e.getTarget();if(!prevCmp||!nextCmp||collapseEl&&e===collapseEl.dom||nextCmp.collapsed||prevCmp.collapsed)return!1;this.prevBox=prevCmp.getEl().getBox();this.nextBox=nextCmp.getEl().getBox();return(this.constrainTo=prevCmp=this.calculateConstrainRegion())?prevCmp:!1},onMouseDown:function(e,target){Ext.dd.DragTracker.prototype.onMouseDown.call(this,e,target);this.mouseIsDown&&this.getSplitter().el.dom===target&&
Ext.dom.Element.maskIframes()},onMouseUp:function(e){Ext.dd.DragTracker.prototype.onMouseUp.call(this,e);Ext.dom.Element.unmaskIframes()},onStart:function(e){e=this.getSplitter();this.createDragOverlay();e.addCls(e.baseCls+'-active')},onResizeKeyDown:function(e){var splitter=this.getSplitter(),key=e.getKey(),incrIdx='vertical'===splitter.orientation?0:1;key=key===e.UP||key===e.LEFT?-1:1;!this.active&&this.onBeforeStart(e)&&(Ext.fly(e.target).on('keyup',this.onResizeKeyUp,this),this.triggerStart(e),
this.onMouseDown(e),this.startXY=splitter.getXY(),this.lastKeyDownXY=Ext.Array.slice(this.startXY),e=this.easing=new Ext.fx.easing.Linear,e.setStartTime(Ext.Date.now()),e.setStartValue(1),e.setEndValue(4),e.setDuration(2E3));this.active&&(this.lastKeyDownXY[incrIdx]=Math.round(this.lastKeyDownXY[incrIdx]+key*this.easing.getValue()),this.lastXY=this.lastKeyDownXY,splitter.setXY(this.getXY('dragTarget')))},onResizeKeyUp:function(e){this.onMouseUp(e)},calculateConstrainRegion:function(){var splitter=
this.getSplitter(),splitWidth=splitter.getWidth(),defaultMin=splitter.defaultSplitMin,orient=splitter.orientation;splitter=this.prevBox;var prevCmp=this.getPrevCmp(),nextBox=this.nextBox,nextCmp=this.getNextCmp();'vertical'===orient?(splitWidth={prevCmp,nextCmp,prevBox:splitter,nextBox,defaultMin,splitWidth},orient=new Ext.util.Region(splitter.y,this.getVertPrevConstrainRight(splitWidth),splitter.bottom,this.getVertPrevConstrainLeft(splitWidth)),splitWidth=new Ext.util.Region(nextBox.y,this.getVertNextConstrainRight(splitWidth),
nextBox.bottom,this.getVertNextConstrainLeft(splitWidth))):(orient=new Ext.util.Region(splitter.y+(prevCmp.minHeight||defaultMin),splitter.right,(prevCmp.maxHeight?splitter.y+prevCmp.maxHeight:nextBox.bottom-(nextCmp.minHeight||defaultMin))+splitWidth,splitter.x),splitWidth=new Ext.util.Region((nextCmp.maxHeight?nextBox.bottom-nextCmp.maxHeight:splitter.y+(prevCmp.minHeight||defaultMin))-splitWidth,nextBox.right,nextBox.bottom-(nextCmp.minHeight||defaultMin),nextBox.x));return orient.intersect(splitWidth)},
performResize:function(e,offset){var splitter=this.getSplitter(),orient=splitter.orientation;e=this.getPrevCmp();var nextCmp=this.getNextCmp();splitter=splitter.ownerCt;var flexedSiblings=splitter.query('\x3e[flex]'),len=flexedSiblings.length;orient='vertical'===orient;for(var i=0,dimension=orient?'width':'height',item,size;i<len;i++)item=flexedSiblings[i],size=orient?item.getWidth():item.getHeight(),item.flex=size;offset=orient?offset[0]:offset[1];e&&(size=this.prevBox[dimension]+offset,e.flex?e.flex=
size:e[dimension]=size);nextCmp&&(size=this.nextBox[dimension]-offset,nextCmp.flex?nextCmp.flex=size:nextCmp[dimension]=size);splitter.updateLayout()},endDrag:function(){this.overlay&&(this.overlay.destroy(),delete this.overlay);Ext.dd.DragTracker.prototype.endDrag.apply(this,arguments)},onEnd:function(e){var splitter=this.getSplitter();splitter.removeCls(splitter.baseCls+'-active');this.performResize(e,this.getResizeOffset())},onDrag:function(e){e=this.getOffset('dragTarget');var splitter=this.getSplitter(),
splitEl=splitter.getEl();'vertical'===splitter.orientation?splitEl.setX(this.startRegion.left+e[0]):splitEl.setY(this.startRegion.top+e[1])},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(o){return(o.prevCmp.maxWidth?o.prevBox.x+o.prevCmp.maxWidth:o.nextBox.right-(o.nextCmp.minWidth||o.defaultMin))+o.splitWidth},getVertPrevConstrainLeft:function(o){return o.prevBox.x+(o.prevCmp.minWidth||o.defaultMin)},getVertNextConstrainRight:function(o){return o.nextBox.right-(o.nextCmp.minWidth||
o.defaultMin)},getVertNextConstrainLeft:function(o){return(o.nextCmp.maxWidth?o.nextBox.right-o.nextCmp.maxWidth:o.prevBox.x+(o.prevBox.minWidth||o.defaultMin))-o.splitWidth},getResizeOffset:function(){return this.getOffset('dragTarget')}},0,0,0,0,0,0,[Ext.resizer,'SplitterTracker'],0);
Ext.cmd.derive('Ext.dd.DDTarget',Ext.dd.DragDrop,{constructor:function(id,sGroup,config){id&&this.initTarget(id,sGroup,config)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,
clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return'DDTarget '+this.id}},3,0,0,0,0,0,[Ext.dd,'DDTarget'],0);
Ext.cmd.derive('Ext.dd.ScrollManager',Ext.Base,{singleton:!0,vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:void 0,dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var ddm=Ext.dd.DragDropManager;ddm.fireEvents=Ext.Function.createSequence(ddm.fireEvents,this.onFire,this);ddm.stopDrag=Ext.Function.createSequence(ddm.stopDrag,this.onStop,this);this.doScroll=this.doScroll.bind(this);this.ddmInstance=
ddm;this.els={};this.dragEl=null;this.proc={}},onStop:function(e){e=Ext.dd.ScrollManager;e.dragEl=null;e.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){var me=this;if(me.ddmInstance.dragCurrent){var proc=me.proc,procEl=proc.el,scrollComponent=proc.component,ddScrollConfig=proc.el.ddScrollConfig;var distance=ddScrollConfig&&ddScrollConfig.increment?ddScrollConfig.increment:me.increment;ddScrollConfig=
ddScrollConfig&&'animate'in ddScrollConfig?ddScrollConfig.animate:me.animate;var afterScroll=function(){me.triggerRefresh()};ddScrollConfig&&(!0===ddScrollConfig?ddScrollConfig={callback:afterScroll}:ddScrollConfig.callback=ddScrollConfig.callback?Ext.Function.createSequence(ddScrollConfig.callback,afterScroll):afterScroll);scrollComponent?(distance*=me.dirTrans[proc.dir],'up'===proc.dir||'down'===proc.dir?scrollComponent.scrollBy(0,distance,ddScrollConfig):scrollComponent.scrollBy(distance,0,ddScrollConfig)):
procEl.scroll(proc.dir,distance,ddScrollConfig);ddScrollConfig||afterScroll()}},clearProc:function(){var proc=this.proc;proc.id&&Ext.uninterval(proc.id);proc.id=0;proc.el=null;proc.dir=''},startProc:function(el,dir){var proc=this.proc;this.clearProc();proc.el=el;proc.dir=dir;dir=el.ddScrollConfig?el.ddScrollConfig.ddGroup:void 0;el=el.ddScrollConfig&&el.ddScrollConfig.frequency?el.ddScrollConfig.frequency:this.frequency;if(void 0===dir||this.ddmInstance.dragCurrent.ddGroup===dir)proc.id=Ext.interval(this.doScroll,
el)},onFire:function(e,isDrop){var id;if(!isDrop&&this.ddmInstance.dragCurrent){this.dragEl&&this.dragEl===this.ddmInstance.dragCurrent||(this.dragEl=this.ddmInstance.dragCurrent,this.refreshCache());e=e.getPoint();isDrop=this.proc;var els=this.els;for(id in els){var el=els[id];var elementRegion=el.getRegion();var configSource=el.ddScrollConfig||this;if(elementRegion&&elementRegion.contains(e)){if(!el.isScrollable())if(el=(el=el.component&&el.component.ownerCt)&&el.getScrollerOwner&&el.getScrollerOwner())el=
el.getScrollable().getElement(),elementRegion=el.getRegion();else continue;if(elementRegion.bottom-e.y<=configSource.vthresh){isDrop.el!==el&&this.startProc(el,'down');return}if(elementRegion.right-e.x<=configSource.hthresh){isDrop.el!==el&&this.startProc(el,'right');return}if(e.y-elementRegion.top<=configSource.vthresh){isDrop.el!==el&&this.startProc(el,'up');return}if(e.x-elementRegion.left<=configSource.hthresh){isDrop.el!==el&&this.startProc(el,'left');return}}}this.clearProc()}},register:function(el){var len;
if(Ext.isArray(el)){var i=0;for(len=el.length;i<len;i++)this.register(el[i])}else el=Ext.get(el),this.els[el.id]=el},unregister:function(el){var len;if(Ext.isArray(el)){var i=0;for(len=el.length;i<len;i++)this.unregister(el[i])}else el=Ext.get(el),delete this.els[el.id]},refreshCache:function(){var els=this.els,id;for(id in els)'object'===typeof els[id]&&(els[id]._region=els[id].getRegion())}},1,0,0,0,0,0,[Ext.dd,'ScrollManager'],0);
Ext.cmd.derive('Ext.dd.DropTarget',Ext.dd.DDTarget,{constructor:function(el,config){this.el=Ext.get(el);Ext.apply(this,config);this.containerScroll&&Ext.dd.ScrollManager.register(this.el);Ext.dd.DDTarget.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:!0})},containerScroll:!1,dropAllowed:'x-dd-drop-ok',dropNotAllowed:'x-dd-drop-nodrop',isTarget:!0,isNotifyTarget:!0,notifyEnter:function(source,e,data){this.overClass&&this.el.addCls(this.overClass);return this.dropAllowed},
notifyOver:function(source,e,data){return this.dropAllowed},notifyOut:function(source,e,data){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(source,e,data){this.overClass&&this.el.removeCls(this.overClass);return!1},destroy:function(){this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el);Ext.dd.DDTarget.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,'DropTarget'],0);
Ext.cmd.derive('Ext.dd.DragZone',Ext.dd.DragSource,{constructor:function(el,config){Ext.dd.DragSource.prototype.constructor.call(this,el,config);if(config=this.containerScroll)el=this.scrollEl||el,el=Ext.get(el),Ext.isObject(config)&&(el.ddScrollConfig=config),Ext.dd.ScrollManager.register(el)},getDragData:function(e){return Ext.dd.Registry.getHandleFromEvent(e)},onInitDrag:function(x,y){this.proxy.update(this.dragData.ddel.cloneNode(!0));this.onStartDrag(x,y);return!0},getRepairXY:function(e){return Ext.fly(this.dragData.ddel).getXY()},
destroy:function(){this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el);Ext.dd.DragSource.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.dd,'DragZone'],0);
Ext.cmd.derive('Ext.dd.Registry',Ext.Base,{singleton:!0,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(el,autogen){if('string'===typeof el)return el;var id=el.id;id||!1===autogen||(id='extdd-'+ ++this.autoIdSeed,el.id=id);return id},register:function(el,data){var len;data=data||{};'string'===typeof el&&(el=document.getElementById(el));data.ddel=el;this.elements[this.getId(el)]=data;!1!==data.isHandle&&(this.handles[data.ddel.id]=data);if(data.handles){el=
data.handles;var i=0;for(len=el.length;i<len;i++)this.handles[this.getId(el[i])]=data}},unregister:function(el){el=this.getId(el,!1);var data=this.elements[el],len;if(data&&(delete this.elements[el],data.handles))for(el=data.handles,data=0,len=el.length;data<len;data++)delete this.handles[this.getId(el[data],!1)]},getHandle:function(id){'string'!==typeof id&&(id=id.id);return this.handles[id]},getHandleFromEvent:function(e){return(e=e.getTarget())?this.handles[e.id]:null},getTarget:function(id){'string'!==
typeof id&&(id=id.id);return this.elements[id]},getTargetFromEvent:function(e){return(e=e.getTarget())?this.elements[e.id]||this.handles[e.id]:null}},1,0,0,0,0,0,[Ext.dd,'Registry'],0);
Ext.cmd.derive('Ext.dd.DropZone',Ext.dd.DropTarget,{getTargetFromEvent:function(e){return Ext.dd.Registry.getTargetFromEvent(e)},onNodeEnter:function(nodeData,source,e,data){},onNodeOver:function(nodeData,source,e,data){return this.dropAllowed},onNodeOut:function(nodeData,source,e,data){},onNodeDrop:function(nodeData,source,e,data){return!1},onContainerOver:function(source,e,data){return this.dropNotAllowed},onContainerDrop:function(source,e,data){return!1},notifyEnter:function(source,e,data){Ext.dd.DropTarget.prototype.notifyEnter.call(this,
source,e,data);return this.dropNotAllowed},notifyOver:function(source,e,data){var n=this.getTargetFromEvent(e);if(!n)return this.lastOverNode&&(this.onNodeOut(this.lastOverNode,source,e,data),this.lastOverNode=null),this.onContainerOver(source,e,data);if(this.lastOverNode!==n){if(this.lastOverNode)this.onNodeOut(this.lastOverNode,source,e,data);this.onNodeEnter(n,source,e,data);this.lastOverNode=n}return this.onNodeOver(n,source,e,data)},notifyOut:function(source,e,data){Ext.dd.DropTarget.prototype.notifyOut.call(this,
source,e,data);this.lastOverNode&&(this.onNodeOut(this.lastOverNode,source,e,data),this.lastOverNode=null)},notifyDrop:function(source,e,data){var n=this.getTargetFromEvent(e);n=n?this.onNodeDrop(n,source,e,data):this.onContainerDrop(source,e,data);this.lastOverNode&&(this.onNodeOut(this.lastOverNode,source,e,data),this.lastOverNode=null);return n},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}},0,0,0,0,0,0,[Ext.dd,'DropZone'],0);
Ext.cmd.derive('Ext.event.publisher.MouseEnterLeave',Ext.event.publisher.Dom,{type:'mouseEnterLeave'},0,0,0,0,0,0,[Ext.event.publisher,'MouseEnterLeave'],function(MouseEnterLeave){var eventMap={mouseover:'mouseenter',mouseout:'mouseleave'};Ext.supports.MouseEnterLeave||MouseEnterLeave.override({handledDomEvents:['mouseover','mouseout'],handledEvents:['mouseenter','mouseleave'],publishDelegatedDomEvent:function(e){this.callParent([e]);var target=e.getTarget();var relatedTarget=e.getRelatedTarget();
if(!relatedTarget||!Ext.fly(target).contains(relatedTarget))if(target=target.id)if(target=Ext.cache[target])if(relatedTarget=eventMap[e.type],e=e.chain({type:relatedTarget}),target.hasListeners[relatedTarget]&&(relatedTarget=target.events[relatedTarget]))if(relatedTarget=relatedTarget.directs)e.setCurrentTarget(target.dom),relatedTarget.fire(e,e.target)}});MouseEnterLeave.instance=new MouseEnterLeave});
Ext.cmd.derive('Ext.form.action.Action',Ext.Base,{alternateClassName:'Ext.form.Action',submitEmptyText:!0,constructor:function(config){config&&Ext.apply(this,config);config=config.params;Ext.isString(config)&&(this.params=Ext.Object.fromQueryString(config))},run:Ext.emptyFn,onFailure:function(response){var form=this.form,formActive=form&&!form.destroying&&!form.destroyed;this.response=response;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;formActive&&form.afterAction(this,!1)},processResponse:function(response){this.response=
response;return response.responseText||response.responseXML?this.result=this.handleResponse(response):!0},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||'POST').toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){return{success:this.onSuccess,failure:this.onFailure,scope:this,timeout:1E3*(this.timeout||this.form.timeout)}},statics:{CLIENT_INVALID:'client',SERVER_INVALID:'server',
CONNECT_FAILURE:'connect',LOAD_FAILURE:'load'}},1,0,0,0,0,0,[Ext.form.action,'Action',Ext.form,'Action'],0);
Ext.cmd.derive('Ext.form.action.Load',Ext.form.action.Action,{alternateClassName:'Ext.form.Action.Load',type:'load',run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(response){response=this.processResponse(response);var form=this.form,formActive=form&&!form.destroying&&!form.destroyed;!0!==response&&response.success&&response.data?formActive&&(form.clearInvalid(),form.setValues(response.data),
form.afterAction(this,!0)):(this.failureType=Ext.form.action.Action.LOAD_FAILURE,formActive&&form.afterAction(this,!1))},handleResponse:function(response){var reader=this.form.reader;return reader?(response=reader.read(response),reader=response.records&&response.records[0]?response.records[0].data:null,{success:response.success,data:reader}):Ext.decode(response.responseText)}},0,0,0,0,['formaction.load'],0,[Ext.form.action,'Load',Ext.form.Action,'Load'],0);
Ext.cmd.derive('Ext.form.action.Submit',Ext.form.action.Action,{alternateClassName:'Ext.form.Action.Submit',type:'submit',run:function(){var form=this.form;!1===this.clientValidation||form.isValid()?this.doSubmit():(this.failureType=Ext.form.action.Action.CLIENT_INVALID,form.afterAction(this,!1))},doSubmit:function(){var ajaxOptions=Ext.apply(this.createCallback(),{url:this.getUrl(),method:this.getMethod(),headers:this.headers}),form=this.form,jsonSubmit=this.jsonSubmit||form.jsonSubmit,paramsProp=
jsonSubmit?'jsonData':'params';if(form.hasUpload()){var formInfo=this.buildForm();ajaxOptions.form=formInfo.formEl;ajaxOptions.isUpload=!0}else ajaxOptions[paramsProp]=this.getParams(jsonSubmit);Ext.Ajax.request(ajaxOptions);formInfo&&this.cleanup(formInfo)},cleanup:function(formInfo){var formEl=formInfo.formEl,uploadEls=formInfo.uploadEls;formInfo=formInfo.uploadFields;var len=formInfo.length,i;for(i=0;i<len;++i){var field=formInfo[i];field.clearOnSubmit||field.restoreInput(uploadEls[i])}formEl&&
Ext.removeNode(formEl)},getParams:function(useModelValues){var configParams=Ext.form.action.Action.prototype.getParams.call(this);useModelValues=this.form.getValues(!1,!1,!1!==this.submitEmptyText,useModelValues,!0);return Ext.apply({},useModelValues,configParams)},buildForm:function(){var fieldsSpec=[],basicForm=this.form,params=this.getParams(),uploadFields=[],uploadEls=[],fields=basicForm.getFields().items,len=fields.length,key;for(basicForm=0;basicForm<len;++basicForm){var field=fields[basicForm];
field.isFileUpload()&&uploadFields.push(field)}for(key in params)if(params.hasOwnProperty(key))if(basicForm=params[key],Ext.isArray(basicForm))for(fields=basicForm.length,len=0;len<fields;len++)fieldsSpec.push(this.getFieldConfig(key,basicForm[len]));else fieldsSpec.push(this.getFieldConfig(key,basicForm));fieldsSpec={tag:'form',role:'presentation',action:this.getUrl(),method:this.getMethod(),target:this.target?Ext.isString(this.target)?this.target:Ext.fly(this.target).dom.name:'_self',style:'display:none',
cn:fieldsSpec};uploadFields.length&&(fieldsSpec.encoding=fieldsSpec.enctype='multipart/form-data');fieldsSpec=Ext.DomHelper.append(Ext.getBody(),fieldsSpec);len=uploadFields.length;for(basicForm=0;basicForm<len;++basicForm)params=uploadFields[basicForm].extractFileInput(),fieldsSpec.appendChild(params),uploadEls.push(params);return{formEl:fieldsSpec,uploadFields,uploadEls}},getFieldConfig:function(name,value){return{tag:'input',type:'hidden',name,value:Ext.String.htmlEncode(value)}},onSuccess:function(response){var form=
this.form,formActive=form&&!form.destroying&&!form.destroyed,success=!0;response=this.processResponse(response);!0===response||response.success||(response.errors&&formActive&&form.markInvalid(response.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,success=!1);formActive&&form.afterAction(this,success)},handleResponse:function(response){var errorReader=this.form.errorReader,len;if(errorReader){response=errorReader.read(response);var records=response.records;errorReader=[];if(records){var i=
0;for(len=records.length;i<len;i++)errorReader[i]=records[i].data}1>errorReader.length&&(errorReader=null);i={success:response.success,errors:errorReader}}else try{i=Ext.decode(response.responseText)}catch(e){i={success:!1,errors:[]}}return i}},0,0,0,0,['formaction.submit'],0,[Ext.form.action,'Submit',Ext.form.Action,'Submit'],0);
Ext.cmd.derive('Ext.form.action.StandardSubmit',Ext.form.action.Submit,{doSubmit:function(){var formInfo=this.buildForm();formInfo.formEl.submit();this.cleanup(formInfo)}},0,0,0,0,['formaction.standardsubmit'],0,[Ext.form.action,'StandardSubmit'],0);
Ext.cmd.derive('Ext.util.ComponentDragger',Ext.dd.DragTracker,{autoStart:500,constructor:function(comp,config){this.comp=comp;this.initialConstrainTo=config.constrainTo;Ext.dd.DragTracker.prototype.constructor.call(this,config)},onStart:function(e){e=this.comp;this.dragTarget=this.el;this.startRegion=this.el.getRegion();this.startPosition=e.getXY();e.ghost&&!e.liveDrag&&(this.proxy=e.ghost());if(this.constrain||this.constrainDelegate)this.constrainTo=this.calculateConstrainRegion();e.beginDrag&&e.beginDrag();
Ext.dom.Element.maskIframes()},calculateConstrainRegion:function(){var comp=this.comp,constrainTo=this.initialConstrainTo||this.comp.el.dom.parentNode,constraintInsets=comp.constraintInsets;var elRegion=this.proxy?this.proxy.el:comp.el;var shadow=elRegion.shadow;comp=shadow&&!this.constrainDelegate&&comp.constrainShadow&&!shadow.disabled?shadow.getShadowSize():0;constrainTo instanceof Ext.util.Region?constrainTo=constrainTo.copy():(constrainTo=Ext.fly(constrainTo),constrainTo=constrainTo.getConstrainRegion());
constraintInsets&&(constraintInsets=Ext.isObject(constraintInsets)?constraintInsets:Ext.Element.parseBox(constraintInsets),constrainTo.adjust(constraintInsets.top,constraintInsets.right,constraintInsets.bottom,constraintInsets.left));comp&&constrainTo.adjust(comp[0],-comp[1],-comp[2],comp[3]);this.constrainDelegate&&(constraintInsets=Ext.fly(this.handle).getRegion(),elRegion=elRegion.getRegion(),constrainTo.adjust(elRegion.top-constraintInsets.top,elRegion.right-constraintInsets.right,elRegion.bottom-
constraintInsets.bottom,elRegion.left-constraintInsets.left));return constrainTo},onDrag:function(e){e=this.proxy&&!this.comp.liveDrag?this.proxy:this.comp;var offset=this.getOffset(this.constrain||this.constrainDelegate?'dragTarget':null);e.setPagePosition(this.startPosition[0]+offset[0],this.startPosition[1]+offset[1])},onEnd:function(e){e=this.comp;e.destroyed||e.destroying||(this.proxy&&!e.liveDrag&&e.unghost(),e.endDrag&&e.endDrag(),Ext.dom.Element.unmaskIframes())}},1,0,0,0,0,0,[Ext.util,'ComponentDragger'],
0);
Ext.cmd.derive('Ext.window.Window',Ext.panel.Panel,{alternateClassName:'Ext.Window',baseCls:'x-window',resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:'offsets',floating:!0,alignOnScroll:!1,itemCls:'x-window-item',overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,ariaRole:'dialog',focusable:!0,tabGuard:!0,closeToolText:'Close dialog',
keyMap:{scope:'this',ESC:'onEsc'},maskClickAction:'focus',disableCloseToolFocus:!0,initComponent:function(){this.frame=!1;Ext.panel.Panel.prototype.initComponent.call(this);this.plain&&this.addClsWithUI('plain');this.addStateEvents(['maximize','restore','resize','dragend'])},getElConfig:function(){var elConfig=Ext.panel.Panel.prototype.getElConfig.call(this);elConfig.tabIndex=-1;return elConfig},getFocusEl:function(){return this.getDefaultFocus()||this.el},getState:function(){var state=Ext.panel.Panel.prototype.getState.call(this)||
{},maximized=!!this.maximized,ghostBox=this.ghostBox;ghostBox=(state.maximized=maximized)?this.restorePos:ghostBox?[ghostBox.x,ghostBox.y]:this.getPosition(!0);Ext.apply(state,{size:maximized?this.restoreSize:this.getSize(),pos:ghostBox});return state},applyState:function(state){state&&((this.maximized=state.maximized)?(this.hasSavedRestore=!0,this.restoreSize=state.size,this.restorePos=state.pos):Ext.apply(this,{width:state.size.width,height:state.size.height,x:state.pos[0],y:state.pos[1]}))},onRender:function(ct,
position){Ext.panel.Panel.prototype.onRender.apply(this,arguments);if(this.header)this.header.on({scope:this,click:this.onHeaderClick});if(this.maximizable)this.header.on({scope:this,dblclick:this.toggleMaximize})},afterRender:function(){var header=this.header;this.maximized&&(this.maximized=!1,this.maximize(null,!0),header&&header.removeCls(header.indicateDragCls));Ext.panel.Panel.prototype.afterRender.call(this);this.initTabGuards()},onEsc:function(e){if(this.closable)return e.stopEvent(),this.close(),
!1},doDestroy:function(){this.rendered&&(Ext.un('resize',this.onWindowResize,this),delete this.animateTarget,this.hide());Ext.panel.Panel.prototype.doDestroy.call(this)},addTools:function(){var tools=[];Ext.panel.Panel.prototype.addTools.call(this);this.minimizable&&tools.push({type:'minimize',handler:'minimize',scope:this});this.maximizable&&tools.push({type:'maximize',handler:'toggleMaximize',scope:this});tools.length&&this.addTool(tools)},addTool:function(tools){Ext.panel.Panel.prototype.addTool.call(this,
tools);this.rendered&&this.tabGuard&&this.initTabGuards()},add:function(){var ret=Ext.panel.Panel.prototype.add.apply(this,arguments);this.rendered&&this.tabGuard&&this.initTabGuards();return ret},remove:function(){var ret=Ext.panel.Panel.prototype.remove.apply(this,arguments);this.rendered&&this.tabGuard&&this.initTabGuards();return ret},addDocked:function(){var ret=Ext.panel.Panel.prototype.addDocked.apply(this,arguments);this.rendered&&this.tabGuard&&this.initTabGuards();return ret},removeDocked:function(){var ret=
Ext.panel.Panel.prototype.removeDocked.apply(this,arguments);this.rendered&&this.tabGuard&&this.initTabGuards();return ret},onShow:function(){Ext.panel.Panel.prototype.onShow.apply(this,arguments);this.expandOnShow&&this.expand(!1);this.syncMonitorWindowResize();this.rendered&&this.tabGuard&&this.initTabGuards()},doClose:function(){this.hidden?(this.fireEvent('close',this),'destroy'!==this.closeAction||this.destroying||this.destroyed||this.destroy()):this.hide(this.animateTarget,this.doClose,this)},
afterHide:function(){this.syncMonitorWindowResize();Ext.panel.Panel.prototype.afterHide.apply(this,arguments);!this.destroyed&&this.rendered&&this.tabGuard&&this.initTabGuards()},onWindowResize:function(){if(!this.destroyed)if(this.maximized)this.fitContainer();else{var sizeModel=this.getSizeModel();(sizeModel.width.natural||sizeModel.height.natural)&&this.updateLayout();this.doConstrain()}},minimize:function(){this.fireEvent('minimize',this);return this},resumeHeaderLayout:function(changed){this.header.resumeLayouts(changed?
this.isRootCfg:null)},afterCollapse:function(){var header=this.header,tools=this.tools;header&&this.maximizable&&(header.suspendLayouts(),tools.maximize.hide(),this.resumeHeaderLayout(!0));this.resizer&&this.resizer.disable();Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){var header=this.header,tools=this.tools;if(header){header.suspendLayouts();if(this.maximizable){tools.maximize.show();var changed=!0}this.resumeHeaderLayout(changed)}this.resizer&&this.resizer.enable();
Ext.panel.Panel.prototype.afterExpand.apply(this,arguments)},maximize:function(animate,initial){var me=this,header=me.header,tools=me.tools,width=me.width,height=me.height;if(!me.maximized&&!me.maximizing){me.maximizing=!0;me.expand(!1);me.hasSavedRestore||(me.restoreSize={width:width?width:null,height:height?height:null},me.restorePos=initial?[me.x||0,me.y||0]:me.getPosition());if(header){header.suspendLayouts();tools.maximize&&tools.maximize.setType('restore');if(me.collapseTool){me.collapseTool.hide();
var changed=!0}me.resumeHeaderLayout(changed)}me.el.disableShadow();me.dd&&(me.dd.disable(),header&&header.removeCls(header.indicateDragCls));me.resizer&&me.resizer.disable();me.el.addCls('x-window-maximized');me.container.addCls('x-window-maximized-ct');me.syncMonitorWindowResize();me.fitContainer(animate=animate||me.animateTarget?{callback:function(){me.maximizing=!1;me.maximized=!0;initial||me.fireEvent('maximize',me)}}:null);animate||(me.maximizing=!1,me.maximized=!0,initial||me.fireEvent('maximize',
me))}return me},restore:function(animate){var me=this,tools=me.tools,header=me.header,newBox=me.restoreSize;if(me.maximized){me.hasSavedRestore=null;me.removeCls('x-window-maximized');if(header){header.suspendLayouts();tools.maximize&&tools.maximize.setType('maximize');if(me.collapseTool){me.collapseTool.show();var changed=!0}me.resumeHeaderLayout(changed)}newBox.x=me.restorePos[0];newBox.y=me.restorePos[1];me.setBox(newBox,animate=animate||me.animateTarget?{callback:function(){me.el.enableShadow(null,
!0);me.maximized=!1;me.fireEvent('restore',me)}}:null);me.restorePos=me.restoreSize=null;me.dd&&(me.dd.enable(),header&&header.addCls(header.indicateDragCls));me.resizer&&me.resizer.enable();me.container.removeCls('x-window-maximized-ct');me.syncMonitorWindowResize();animate||(me.el.enableShadow(null,!0),me.maximized=!1,me.fireEvent('restore',me))}return me},syncMonitorWindowResize:function(){var currentlyMonitoring=this._monitoringResize,veto=this.hidden||this.destroying||this.destroyed;(this.monitorResize||
this.constrain||this.constrainHeader||this.maximized)&&!veto?currentlyMonitoring||(Ext.on('resize',this.onWindowResize,this,{buffer:1}),this._monitoringResize=!0):currentlyMonitoring&&(Ext.un('resize',this.onWindowResize,this),this._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?'restore':'maximize']()},createGhost:function(){var ghost=Ext.panel.Panel.prototype.createGhost.apply(this,arguments);ghost.xtype='window';ghost.focusOnToFront=!1;return ghost},getDefaultFocus:function(){var defaultComp=
this.defaultFocus;if(void 0!==defaultComp)if(Ext.isNumber(defaultComp))var result=this.query('button')[defaultComp];else Ext.isString(defaultComp)?(Ext.validIdRe.test(defaultComp)&&(result=this.down(Ext.makeIdSelector(defaultComp))),result||(result=this.down(defaultComp))):defaultComp.focus&&(result=defaultComp);return result},privates:{initDraggable:function(){this.initSimpleDraggable()},onHeaderClick:function(header,e){header.el.contains(e.getTarget())&&(header=this.getDefaultFocus())&&header.focus()},
initResizable:function(resizable){Ext.panel.Panel.prototype.initResizable.call(this,resizable);(this.maximized||this.maximizing)&&this.resizer.disable()},initSimpleDraggable:function(){var dd;Ext.panel.Panel.prototype.initSimpleDraggable.call(this);((dd=this.dd)&&this.maximized||this.maximizing)&&dd.disable()},onTabGuardFocusEnter:function(e,target){var el=this.el,beforeGuard=this.tabGuardBeforeEl,afterGuard=this.tabGuardAfterEl,from=e.relatedTarget,forward,nextFocus;var nodes=el.findTabbableElements({skipSelf:!0});
nodes[0]===beforeGuard.dom&&nodes.shift();nodes[nodes.length-1]===afterGuard.dom&&nodes.pop();0===nodes.length?nextFocus=el:forward=from===el.dom?target===beforeGuard.dom:el.contains(from)?!!e.forwardTab:target===beforeGuard.dom;(nextFocus=nextFocus||(forward?nodes[0]:nodes[nodes.length-1]))&&Ext.fly(nextFocus).focus(1===nodes.length?1:0)}}},0,['window'],['component','box','container','panel','window'],{component:!0,box:!0,container:!0,panel:!0,window:!0},['widget.window'],0,[Ext.window,'Window',
Ext,'Window'],0);
Ext.cmd.derive('Ext.form.Labelable',Ext.Mixin,{isLabelable:!0,mixinConfig:{id:'labelable',on:{beforeRender:'beforeLabelRender',onRender:'onLabelRender'}},config:{childEls:'labelEl bodyEl errorEl errorWrapEl ariaErrorEl ariaStatusEl ariaHelpEl labelTextEl'.split(' ')},labelableRenderTpl:['{beforeLabelTpl}','\x3clabel id\x3d"{id}-labelEl" data-ref\x3d"labelEl" class\x3d"{labelCls} {labelCls}-{ui} {labelClsExtra} ','{childElCls} {unselectableCls}" style\x3d"{labelStyle}"','\x3ctpl if\x3d"inputId \x26\x26 !skipLabelForAttribute"\x3e for\x3d"{inputId}"\x3c/tpl\x3e',' {labelAttrTpl}\x3e',
'\x3cspan class\x3d"{labelInnerCls} {labelInnerCls}-{ui}" style\x3d"{labelInnerStyle}"\x3e','{beforeLabelTextTpl}','\x3cspan id\x3d"{id}-labelTextEl" data-ref\x3d"labelTextEl" class\x3d"{labelTextCls}"\x3e','\x3ctpl if\x3d"fieldLabel"\x3e{fieldLabel}','\x3ctpl if\x3d"labelSeparator"\x3e{labelSeparator}\x3c/tpl\x3e','\x3c/tpl\x3e','\x3c/span\x3e','{afterLabelTextTpl}','\x3c/span\x3e','\x3c/label\x3e','{afterLabelTpl}','\x3cdiv id\x3d"{id}-bodyEl" data-ref\x3d"bodyEl" role\x3d"presentation"',' class\x3d"{baseBodyCls} {baseBodyCls}-{ui}\x3ctpl if\x3d"fieldBodyCls"\x3e',
' {fieldBodyCls} {fieldBodyCls}-{ui}\x3c/tpl\x3e {growCls} {extraFieldBodyCls}"','\x3ctpl if\x3d"bodyStyle"\x3e style\x3d"{bodyStyle}"\x3c/tpl\x3e\x3e','{beforeBodyEl}','{beforeSubTpl}','{[values.$comp.getSubTplMarkup(values)]}','{afterSubTpl}','{afterBodyEl}','\x3ctpl if\x3d"renderAriaElements"\x3e','\x3ctpl if\x3d"ariaHelp"\x3e','\x3cspan id\x3d"{id}-ariaHelpEl" data-ref\x3d"ariaHelpEl"',' class\x3d"x-hidden-offsets"\x3e','{ariaHelp}','\x3c/span\x3e','\x3c/tpl\x3e','\x3cspan id\x3d"{id}-ariaStatusEl" data-ref\x3d"ariaStatusEl" aria-hidden\x3d"true"',
' class\x3d"x-hidden-offsets"\x3e','{ariaStatus}','\x3c/span\x3e','\x3cspan id\x3d"{id}-ariaErrorEl" data-ref\x3d"ariaErrorEl" aria-hidden\x3d"true" aria-live\x3d"assertive"',' class\x3d"x-hidden-clip"\x3e','\x3c/span\x3e','\x3c/tpl\x3e','\x3c/div\x3e','\x3ctpl if\x3d"renderError"\x3e','\x3cdiv id\x3d"{id}-errorWrapEl" data-ref\x3d"errorWrapEl" class\x3d"{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style\x3d"{errorWrapStyle}"\x3e','\x3cdiv role\x3d"presentation" id\x3d"{id}-errorEl" data-ref\x3d"errorEl" ',
'class\x3d"{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget\x3d"{tipAnchorTarget}"\x3e','\x3c/div\x3e','\x3c/div\x3e','\x3c/tpl\x3e',{disableFormats:!0}],activeErrorsTpl:void 0,htmlActiveErrorsTpl:['\x3ctpl if\x3d"errors \x26\x26 errors.length"\x3e','\x3cul class\x3d"{listCls}"\x3e','\x3ctpl for\x3d"errors"\x3e\x3cli\x3e{.}\x3c/li\x3e\x3c/tpl\x3e','\x3c/ul\x3e','\x3c/tpl\x3e'],plaintextActiveErrorsTpl:['\x3ctpl if\x3d"errors \x26\x26 errors.length"\x3e','\x3ctpl for\x3d"errors"\x3e\x3ctpl if\x3d"xindex \x26gt; 1"\x3e\n\x3c/tpl\x3e{.}\x3c/tpl\x3e',
'\x3c/tpl\x3e'],ariaActiveErrorsTpl:['\x3ctpl if\x3d"errors \x26\x26 errors.length"\x3e','\x3ctpl for\x3d"errors" between\x3d". "\x3e{.}\x3c/tpl\x3e','\x3c/tpl\x3e'],isFieldLabelable:!0,formItemCls:'x-form-item',labelCls:'x-form-item-label',topLabelCls:'x-form-item-label-top',rightLabelCls:'x-form-item-label-right',labelInnerCls:'x-form-item-label-inner',labelTextCls:'x-form-item-label-text',topLabelSideErrorCls:'x-form-item-label-top-side-error',errorMsgCls:'x-form-error-msg',errorWrapCls:'x-form-error-wrap',
errorWrapSideCls:'x-form-error-wrap-side',errorWrapUnderCls:'x-form-error-wrap-under',errorWrapUnderSideLabelCls:'x-form-error-wrap-under-side-label',baseBodyCls:'x-form-item-body',invalidIconCls:'x-form-invalid-icon',invalidUnderCls:'x-form-invalid-under',noLabelCls:'x-form-item-no-label',fieldBodyCls:'',extraFieldBodyCls:'',invalidCls:'x-form-invalid',fieldLabel:void 0,labelAlign:'left',labelWidth:100,labelPad:5,labelSeparator:':',hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:'qtip',
msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:!0,ariaHelp:void 0,ariaErrorText:'Input error. {0}.',labelableInsertions:'beforeBodyEl afterBodyEl beforeLabelTpl afterLabelTpl beforeSubTpl afterSubTpl beforeLabelTextTpl afterLabelTextTpl labelAttrTpl'.split(' '),statics:{initTip:function(){var tip=this.tip;if(!tip){tip={id:'ext-form-error-tip',ui:'form-invalid'};Ext.supports.Touch&&(tip.dismissDelay=0,tip.anchor='top',tip.showDelay=0,tip.showOnTap=!0,tip.listeners={beforeshow:function(){this.minWidth=
Ext.fly(this.activeTarget.el).getWidth()}});tip=this.tip=Ext.create('Ext.tip.QuickTip',tip);var copy=Ext.apply({},tip.tagConfig);copy.attribute='errorqtip';tip.setTagConfig(copy)}},destroyTip:function(){this.tip=Ext.destroy(this.tip)}},initLabelable:function(){var padding=this.padding;padding&&(this.padding=void 0,this.extraMargins=Ext.Element.parseBox(padding));Ext.isIE8&&(this.restoreDisplay=Ext.Function.createDelayed(this.doRestoreDisplay,0,this));this.activeErrorsTpl||(this.activeErrorsTpl='title'===
this.msgTarget?this.plaintextActiveErrorsTpl:this.htmlActiveErrorsTpl);this.addCls([this.formItemCls,this.formItemCls+'-'+this.ui]);this.lastActiveError='';this.enableBubble('errorchange')},trimLabelSeparator:function(){var separator=this.labelSeparator,label=this.fieldLabel||'';return label.substr(label.length-1)===separator?label.slice(0,-1):label},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(label){var separator=this.labelSeparator,errorWrapEl=this.errorWrapEl,
sideLabel='top'!==this.labelAlign,noLabelCls=this.noLabelCls,errorWrapUnderSideLabelCls=this.errorWrapUnderSideLabelCls;this.fieldLabel=label=label||'';this.rendered&&(Ext.isEmpty(label)&&this.hideEmptyLabel?(this.addCls(noLabelCls),sideLabel&&errorWrapEl&&errorWrapEl.removeCls(errorWrapUnderSideLabelCls)):(separator&&(label=this.trimLabelSeparator()+separator),this.labelTextEl.dom.innerHTML=label,this.removeCls(noLabelCls),sideLabel&&errorWrapEl&&errorWrapEl.addCls(errorWrapUnderSideLabelCls)),this.updateLayout())},
setHideLabel:function(hideLabel){hideLabel!==this.hideLabel&&(this.hideLabel=hideLabel,this.rendered&&(this[hideLabel?'addCls':'removeCls'](this.noLabelCls),this.updateLayout()))},setHideEmptyLabel:function(hideEmptyLabel){hideEmptyLabel!==this.hideEmptyLabel&&(this.hideEmptyLabel=hideEmptyLabel,this.rendered&&!this.hideLabel&&(hideEmptyLabel=hideEmptyLabel&&!this.getFieldLabel(),this[hideEmptyLabel?'addCls':'removeCls'](this.noLabelCls),this.updateLayout()))},getInsertionRenderData:function(data,
names){for(var i=names.length,name,value;i--;)name=names[i],(value=this[name])&&'string'!==typeof value&&(value.isTemplate||(value=Ext.XTemplate.getTpl(this,name)),value=value.apply(data)),data[name]=value||'';return data},getLabelableRenderData:function(){var labelAlign=this.labelAlign,topLabel='top'===labelAlign;labelAlign='right'===labelAlign;var sideError='side'===this.msgTarget,underError='under'===this.msgTarget,errorMsgCls=this.errorMsgCls,labelPad=this.labelPad,labelWidth=this.labelWidth,
labelClsExtra=this.labelClsExtra||'',errorWrapExtraCls=sideError?this.errorWrapSideCls:this.errorWrapUnderCls,labelStyle='',labelInnerStyle='',labelVisible=this.hasVisibleLabel(),autoFitErrors=this.autoFitErrors,defaultBodyWidth=this.defaultBodyWidth,bodyStyle;topLabel?(labelClsExtra+=' '+this.topLabelCls,labelPad&&(labelInnerStyle='padding-bottom:'+labelPad+'px;'),sideError&&!autoFitErrors&&(labelClsExtra+=' '+this.topLabelSideErrorCls)):(labelAlign&&(labelClsExtra+=' '+this.rightLabelCls),labelPad&&
(labelStyle+=this.getHorizontalPaddingStyle()+labelPad+'px;'),labelStyle+='width:'+(labelWidth+(labelPad?labelPad:0))+'px;',labelInnerStyle='width:'+labelWidth+'px');labelVisible&&!topLabel&&underError&&(errorWrapExtraCls+=' '+this.errorWrapUnderSideLabelCls);defaultBodyWidth&&(bodyStyle='min-width:'+defaultBodyWidth+'px;max-width:'+defaultBodyWidth+'px;');topLabel={id:this.id,inputId:this.getInputId(),labelCls:this.labelCls,labelClsExtra,labelStyle:labelStyle+(this.labelStyle||''),labelInnerStyle,
labelInnerCls:this.labelInnerCls,labelTextCls:this.labelTextCls,skipLabelForAttribute:!!this.skipLabelForAttribute,unselectableCls:Ext.Element.unselectableCls,bodyStyle,baseBodyCls:this.baseBodyCls,fieldBodyCls:this.fieldBodyCls,extraFieldBodyCls:this.extraFieldBodyCls,errorWrapCls:this.errorWrapCls,errorWrapExtraCls,renderError:sideError||underError,invalidMsgCls:sideError?this.invalidIconCls:underError?this.invalidUnderCls:'',errorMsgCls,growCls:this.grow?this.growCls:'',tipAnchorTarget:this.id+
'-inputEl',errorWrapStyle:sideError&&!autoFitErrors?'visibility:hidden':'display:none',fieldLabel:this.getFieldLabel(),labelSeparator:this.labelSeparator,renderAriaElements:!!this.renderAriaElements,ariaStatus:''};this.ariaHelp&&(topLabel.ariaHelp=Ext.String.htmlEncode(this.ariaHelp));this.getInsertionRenderData(topLabel,this.labelableInsertions);return topLabel},getHorizontalPaddingStyle:function(){return'padding-right:'},beforeLabelRender:function(){this.setFieldDefaults(this.getInherited().fieldDefaults);
this.ownerLayout&&this.addCls('x-'+this.ownerLayout.type+'-form-item');this.hasVisibleLabel()||this.addCls(this.noLabelCls)},onLabelRender:function(){var style={},ExtElement=Ext.Element,errorWrapEl=this.errorWrapEl,side;errorWrapEl&&errorWrapEl.setVisibilityMode('side'!==this.msgTarget||this.autoFitErrors?ExtElement.DISPLAY:ExtElement.VISIBILITY);if(this.extraMargins){ExtElement=this.el.getMargin();for(side in ExtElement)ExtElement.hasOwnProperty(side)&&(style['margin-'+side]=ExtElement[side]+this.extraMargins[side]+
'px');this.el.setStyle(style)}},hasVisibleLabel:function(){return this.hideLabel?!1:!(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return''},getInputId:function(){return''},getActiveError:function(){return this.activeError||''},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(msg){this.setActiveErrors(msg)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(errors){var errorWrapEl=this.errorWrapEl,msgTarget=
this.msgTarget,isSide='side'===msgTarget,isQtip='qtip'===msgTarget,ariaErrorEl=this.ariaErrorEl;errors=Ext.Array.from(errors);var activeError=this.lookupTpl('activeErrorsTpl');this.activeErrors=errors;activeError=this.activeError=activeError.apply({fieldLabel:this.fieldLabel,errors,listCls:'x-list-plain'});this.renderActiveError();if(this.rendered){var actionEl=this.getActionEl();isSide?this.errorEl.dom.setAttribute('data-errorqtip',activeError):isQtip?actionEl.dom.setAttribute('data-errorqtip',activeError):
'title'===msgTarget&&actionEl.dom.setAttribute('title',activeError);if('title'!==msgTarget&&ariaErrorEl){actionEl=this.lookupTpl('ariaActiveErrorsTpl');actionEl=actionEl.apply({errors});var errText=Ext.String.formatEncode(this.ariaErrorText,actionEl,this.fieldLabel);ariaErrorEl.dom.innerHTML!==errText&&(ariaErrorEl.dom.innerHTML=errText);this.ariaStatusEl.dom.innerHTML=Ext.String.htmlEncode(actionEl)}(isSide||isQtip)&&Ext.form.Labelable.initTip();!this.msgTargets[msgTarget]&&(msgTarget=Ext.get(msgTarget))&&
(msgTarget.dom.innerHTML=activeError)}errorWrapEl&&(errorWrapEl.setVisible(0<errors.length),isSide&&this.autoFitErrors&&this.labelEl.addCls(this.topLabelSideErrorCls),this.updateLayout())},unsetActiveError:function(){var errorWrapEl=this.errorWrapEl,ariaErrorEl=this.ariaErrorEl,msgTarget=this.msgTarget,restoreDisplay=this.restoreDisplay;if(this.hasActiveError()&&(delete this.activeError,delete this.activeErrors,this.renderActiveError(),this.rendered)){var actionEl=this.getActionEl();'qtip'===msgTarget?
actionEl.dom.removeAttribute('data-errorqtip'):'title'===msgTarget&&actionEl.dom.removeAttribute('title');'title'!==msgTarget&&ariaErrorEl&&(ariaErrorEl.dom.innerHTML=this.ariaStatusEl.dom.innerHTML='');!this.msgTargets[msgTarget]&&(ariaErrorEl=Ext.get(msgTarget))&&(ariaErrorEl.dom.innerHTML='');errorWrapEl&&(errorWrapEl.hide(),'side'===msgTarget&&this.autoFitErrors&&this.labelEl.removeCls(this.topLabelSideErrorCls),this.updateLayout(),restoreDisplay&&(this.el.dom.style.display='block',this.restoreDisplay()))}},
doRestoreDisplay:function(){var el=this.el;el&&el.dom&&(el.dom.style.display='')},renderActiveError:function(){var activeError=this.getActiveError(),hasError=!!activeError;activeError!==this.lastActiveError&&(this.lastActiveError=activeError,this.fireEvent('errorchange',this,activeError));!this.rendered||this.destroyed||this.preventMark||(this.toggleInvalidCls(hasError),this.errorEl&&(this.errorEl.dom.innerHTML=activeError))},toggleInvalidCls:function(hasError){this.el[hasError?'addCls':'removeCls'](this.invalidCls)},
setFieldDefaults:function(defaults){for(var key in defaults)this.hasOwnProperty(key)||(this[key]=defaults[key])}},0,0,0,0,0,0,[Ext.form,'Labelable'],function(){Ext.supports.Touch&&(this.prototype.msgTarget='side')});
Ext.cmd.derive('Ext.form.field.Field',Ext.Base,{mixinId:'field',isFormField:!0,config:{validation:null,validationField:null},disabled:!1,submitValue:!0,validateOnChange:!0,valuePublishEvent:'change',suspendCheckChange:0,dirty:!1,initField:function(){var valuePublishEvent=this.valuePublishEvent,len;this.initValue();if(Ext.isString(valuePublishEvent))this.on(valuePublishEvent,this.publishValue,this);else{var i=0;for(len=valuePublishEvent.length;i<len;++i)this.on(valuePublishEvent[i],this.publishValue,
this)}},initValue:function(){'value'in this&&(this.suspendCheckChange++,this.setValue(this.value),this.suspendCheckChange--);this.initialValue=this.originalValue=this.lastValue=this.getValue()},cleanupField:function(){delete this._ownerRecord},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(value){this.value=value;this.checkChange();return this},isEqual:function(value1,
value2){return String(value1)===String(value2)},isEqualAsString:function(value1,value2){return String(Ext.valueFrom(value1,''))===String(Ext.valueFrom(value2,''))},getSubmitData:function(){var data=null;!this.disabled&&this.submitValue&&(data={},data[this.getName()]=''+this.getValue());return data},getModelData:function(includeEmptyText,isSubmitting){includeEmptyText=null;this.disabled||!this.submitValue&&isSubmitting||(includeEmptyText={},includeEmptyText[this.getFieldIdentifier()]=this.getValue());
return includeEmptyText},reset:function(){this.beforeReset();this.setValue(this.originalValue);this.clearInvalid();delete this.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange&&!this.destroying&&!this.destroyed){var newVal=this.getValue();var oldVal=this.lastValue;this.didValueChange(newVal,oldVal)&&(this.lastValue=newVal,this.fireEvent('change',this,newVal,oldVal),this.onChange(newVal,
oldVal))}},didValueChange:function(newVal,oldVal){return!this.isEqual(newVal,oldVal)},onChange:function(newVal){this.validateOnChange&&this.validate();this.checkDirty()},publishValue:function(){this.rendered&&!this.getErrors().length&&this.publishState('value',this.getValue())},isDirty:function(){return!this.disabled&&!this.isEqual(this.getValue(),this.originalValue)},checkDirty:function(){var isDirty=this.isDirty();isDirty!==this.wasDirty&&(this.dirty=isDirty,this.fireEvent('dirtychange',this,isDirty),
this.onDirtyChange(isDirty),this.wasDirty=isDirty)},onDirtyChange:Ext.emptyFn,getErrors:function(value){var errors=[],validationField=this.getValidationField(),validation=this.getValidation();validationField&&(value=validationField.validate(value,null,null,this._ownerRecord),!0!==value&&errors.push(value));validation&&!0!==validation&&errors.push(validation);return errors},isValid:function(){return this.disabled||Ext.isEmpty(this.getErrors())},validate:function(){return this.checkValidityChange(this.isValid())},
checkValidityChange:function(isValid){isValid!==this.wasValid&&(this.wasValid=isValid,this.fireEvent('validitychange',this,isValid));return isValid},setValidationField:function(value,record){(arguments.callee.$previous||Ext.Base.prototype.setValidationField).call(this,value);this._ownerRecord=record},batchChanges:function(fn){try{this.suspendCheckChange++,fn()}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,
clearInvalid:Ext.emptyFn,updateValidation:function(validation,oldValidation){oldValidation&&this.validate()},privates:{resetToInitialValue:function(){var originalValue=this.originalValue;this.originalValue=this.initialValue;this.reset();this.originalValue=originalValue}}},0,0,0,0,0,0,[Ext.form.field,'Field'],0);
Ext.cmd.derive('Ext.form.field.Base',Ext.Component,{alternateClassName:['Ext.form.Field','Ext.form.BaseField'],focusable:!0,shrinkWrap:!0,fieldSubTpl:['\x3cinput id\x3d"{id}" data-ref\x3d"inputEl" type\x3d"{type}" {inputAttrTpl}',' size\x3d"1"','\x3ctpl if\x3d"name"\x3e name\x3d"{name}"\x3c/tpl\x3e','\x3ctpl if\x3d"value"\x3e value\x3d"{[Ext.util.Format.htmlEncode(values.value)]}"\x3c/tpl\x3e','\x3ctpl if\x3d"placeholder"\x3e placeholder\x3d"{placeholder}"\x3c/tpl\x3e','{%if (values.maxLength !\x3d\x3d undefined){%} maxlength\x3d"{maxLength}"{%}%}',
'\x3ctpl if\x3d"readOnly"\x3e readonly\x3d"readonly"\x3c/tpl\x3e','\x3ctpl if\x3d"disabled"\x3e disabled\x3d"disabled"\x3c/tpl\x3e','\x3ctpl if\x3d"tabIdx !\x3d null"\x3e tabindex\x3d"{tabIdx}"\x3c/tpl\x3e','\x3ctpl if\x3d"fieldStyle"\x3e style\x3d"{fieldStyle}"\x3c/tpl\x3e','\x3ctpl if\x3d"ariaEl \x3d\x3d \'inputEl\'"\x3e','\x3ctpl foreach\x3d"ariaElAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e','\x3c/tpl\x3e','\x3ctpl foreach\x3d"inputElAriaAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e',' class\x3d"{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls} {fixCls}" autocomplete\x3d"off"/\x3e',
{disableFormats:!0}],defaultBindProperty:'value',autoEl:{role:'presentation'},subTplInsertions:['inputAttrTpl'],childEls:['inputEl'],inputType:'text',isTextInput:!0,invalidText:'The value in this field is invalid',fieldCls:'x-form-field',focusCls:'form-focus',dirtyCls:'x-form-dirty',checkChangeEvents:Ext.isIE&&(!document.documentMode||9>=document.documentMode)?['change','propertychange','keyup']:['change','input','textInput','keyup','dragdrop'],ignoreChangeRe:/data-errorqtip|style\.|className/,checkChangeBuffer:50,
liquidLayout:!0,readOnly:!1,readOnlyCls:'x-form-readonly',validateOnBlur:!0,validateOnFocusLeave:!1,hasFocus:!1,baseCls:'x-field',fieldBodyCls:'x-field-body',webkitBorderBoxBugCls:'x-webkit-border-box-bug',maskOnDisable:!1,stretchInputElFixed:!0,ariaEl:'inputEl',focusEl:'inputEl',renderAriaElements:!0,initComponent:function(){Ext.Component.prototype.initComponent.call(this);this.subTplData=this.subTplData||{};this.initLabelable();this.initField();this.initDefaultName();this.validateOnFocusLeave&&
(this.validateOnBlur=!1);this.readOnly&&this.addCls(this.readOnlyCls);this.addCls('x-form-type-'+this.inputType);this.format&&this.formatText&&!this.ariaHelp&&(this.ariaHelp=Ext.String.format(this.formatText,this.format))},initDefaultName:function(){this.name||(this.name=this.getInputId())},getInputId:function(){return this.inputId||(this.inputId=this.id+'-inputEl')},getSubTplData:function(fieldData){var id=this.id,type=this.inputType,inputId=this.getInputId(),inputCls=this.inputCls||'',fixCls='';
Ext.supports.WebKitInputTableBoxModelBug&&(fixCls+=this.webkitBorderBoxBugCls);fieldData=Ext.apply({ui:this.ui,id:inputId,cmpId:id,name:this.name||inputId,disabled:this.disabled,readOnly:this.readOnly,value:this.getRawValue(),type,fieldCls:this.fieldCls,fieldStyle:this.getFieldStyle(),childElCls:fieldData.childElCls,tabIdx:this.tabIndex,inputCls,typeCls:'x-form-'+(this.isTextInput?'text':type),fixCls,ariaEl:this.ariaEl},this.subTplData);this.ariaRole&&(type={},this.ariaStaticRoles[this.ariaRole]||
(type['aria-hidden']=!!this.hidden,type['aria-disabled']=!!this.disabled,inputId={'aria-invalid':!1,'aria-readonly':!!this.readOnly},this.ariaLabel&&(type['aria-label']=Ext.String.htmlEncode(this.ariaLabel)),type=Ext.apply(type,this.getAriaAttributes()),type['aria-describedby']||(inputId['aria-describedby']=this.ariaHelp?id+'-ariaStatusEl '+id+'-ariaHelpEl':id+'-ariaStatusEl'),fieldData.inputElAriaAttributes=inputId),'native'!==this.ariaRole&&(type.role=this.ariaRole),this.ariaLabel&&(type['aria-label']=
this.ariaLabel),this.format&&this.formatText&&!fieldData.title&&(type.title=Ext.String.formatEncode(this.formatText,this.format)),fieldData.ariaElAttributes=type);this.getInsertionRenderData(fieldData,this.subTplInsertions);return fieldData},getSubTplMarkup:function(fieldData){fieldData=this.getSubTplData(fieldData);var preSubTpl=this.lookupTpl('preSubTpl'),postSubTpl=this.lookupTpl('postSubTpl'),markup='';preSubTpl&&(markup+=preSubTpl.apply(fieldData));markup+=this.lookupTpl('fieldSubTpl').apply(fieldData);
postSubTpl&&(markup+=postSubTpl.apply(fieldData));return markup},initRenderData:function(){return Ext.applyIf(Ext.Component.prototype.initRenderData.call(this),this.getLabelableRenderData())},setFieldStyle:function(style){var inputEl=this.inputEl;inputEl&&inputEl.applyStyles(style);this.fieldStyle=style},getFieldStyle:function(){var style=this.fieldStyle;return Ext.isObject(style)?Ext.DomHelper.generateStyles(style,null,!0):style||''},onRender:function(){this.callParent(arguments);this.mixins.labelable.self.initTip();
this.renderActiveError()},beforeBlur:function(e){this.validateOnBlur&&this.validate()},onFocusLeave:function(e){this.validateOnFocusLeave&&this.validate();Ext.Component.prototype.onFocusLeave.call(this,e);this.completeEdit()},completeEdit:Ext.emptyFn,isFileUpload:function(){return'file'===this.inputType},getSubmitData:function(){var data=null;if(!this.disabled&&this.submitValue){var val=this.getSubmitValue();null!==val&&(data={},data[this.getName()]=val)}return data},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},
getRawValue:function(){var v=this.inputEl?this.inputEl.getValue():Ext.valueFrom(this.rawValue,'');return this.rawValue=v},setRawValue:function(value){var rawValue=this.rawValue;this.transformRawValue.$nullFn||(value=this.transformRawValue(value));value=Ext.valueFrom(value,'');if(void 0===rawValue||rawValue!==value)this.rawValue=value,this.inputEl&&(this.bindChangeEvents(!1),this.inputEl.dom.value=value,this.bindChangeEvents(!0));this.rendered&&this.reference&&this.publishState('rawValue',value);return value},
transformRawValue:Ext.identityFn,valueToRaw:function(value){return''+Ext.valueFrom(value,'')},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var val=this.rawToValue(this.processRawValue(this.getRawValue()));return this.value=val},setValue:function(value){this.setRawValue(this.valueToRaw(value));return this.mixins.field.setValue.call(this,value)},onBoxReady:function(){Ext.Component.prototype.onBoxReady.apply(this,arguments);this.setReadOnlyOnBoxReady&&this.setReadOnly(this.readOnly)},
onDisable:function(){var inputEl=this.inputEl;Ext.Component.prototype.onDisable.call(this);inputEl&&(inputEl.dom.disabled=!0,this.hasActiveError()&&(this.clearInvalid(),this.hadErrorOnDisable=!0));!1===this.wasValid&&this.checkValidityChange(!0)},onEnable:function(){var inputEl=this.inputEl,mark=this.preventMark;Ext.Component.prototype.onEnable.call(this);inputEl&&(inputEl.dom.disabled=!1);void 0!==this.wasValid&&(this.forceValidation=!0,this.preventMark=!this.hadErrorOnDisable,inputEl=this.isValid(),
this.forceValidation=!1,this.preventMark=mark,this.checkValidityChange(inputEl));delete this.hadErrorOnDisable},setReadOnly:function(readOnly){var inputEl=this.inputEl,old=this.readOnly;readOnly=!!readOnly;this[readOnly?'addCls':'removeCls'](this.readOnlyCls);this.readOnly=readOnly;inputEl?(inputEl.dom.readOnly=readOnly,inputEl.dom.setAttribute('aria-readonly',readOnly)):this.rendering&&(this.setReadOnlyOnBoxReady=!0);readOnly!==old&&this.fireEvent('writeablechange',this,readOnly)},fireKey:function(e,
eOpts){e.isSpecialKey()&&this.fireEvent('specialkey',this,e,eOpts)},initEvents:function(){var inputEl=this.inputEl,onFieldMutation=this.onFieldMutation,events=this.checkChangeEvents,len=events.length,i;if(inputEl)for(this.mon(inputEl,Ext.supports.SpecialKeyDownRepeat?'keydown':'keypress',this.fireKey,this),i=0;i<len;++i){var event=events[i];'propertychange'===event&&(this.usesPropertychange=!0);'textInput'===event&&(this.usesTextInput=!0);this.mon(inputEl,event,onFieldMutation,this)}Ext.Component.prototype.initEvents.call(this)},
onFieldMutation:function(e){this.readOnly||'propertychange'===e.type&&this.ignoreChangeRe.test(e.browserEvent.propertyName)||this.startCheckChangeTask()},startCheckChangeTask:function(){var task=this.checkChangeTask;task||(this.checkChangeTask=task=new Ext.util.DelayedTask(this.doCheckChangeTask,this));this.bindNotifyListener||(this.bindNotifyListener=Ext.on('beforebindnotify',this.onBeforeNotify,this,{destroyable:!0}));task.delay(this.checkChangeBuffer)},doCheckChangeTask:function(){var bindNotifyListener=
this.bindNotifyListener;bindNotifyListener&&(bindNotifyListener.destroy(),this.bindNotifyListener=null);this.checkChange()},publishValue:function(){this.rendered&&!this.getErrors().length&&this.publishState('value',this.getValue())},onDirtyChange:function(isDirty){this[isDirty?'addCls':'removeCls'](this.dirtyCls);this.rendered&&this.reference&&this.publishState('dirty',isDirty)},isValid:function(){var disabled=this.disabled;return this.forceValidation||!disabled?this.validateValue(this.processRawValue(this.getRawValue())):
disabled},validateValue:function(value){value=this.getErrors(value);var isValid=Ext.isEmpty(value);this.preventMark||(isValid?this.clearInvalid():this.markInvalid(value));return isValid},markInvalid:function(errors){var oldMsg=this.getActiveError();this.setActiveErrors(Ext.Array.from(errors));errors=this.getActiveError();oldMsg!==errors&&(this.setError(errors),!this.ariaStaticRoles[this.ariaRole]&&this.inputEl&&this.inputEl.dom.setAttribute('aria-invalid',!0))},clearInvalid:function(){var hadError=
this.hasActiveError();delete this.hadErrorOnDisable;this.unsetActiveError();hadError&&(this.setError(''),!this.ariaStaticRoles[this.ariaRole]&&this.inputEl&&this.inputEl.dom.setAttribute('aria-invalid',!1))},setError:function(error){var msgTarget=this.msgTarget;this.rendered&&('title'===msgTarget||'qtip'===msgTarget?(msgTarget='qtip'===msgTarget?'data-errorqtip':'title',this.getActionEl().dom.setAttribute(msgTarget,error||'')):this.updateLayout())},renderActiveError:function(){var hasError=this.hasActiveError(),
invalidCls=this.invalidCls+'-field';if(this.inputEl)this.inputEl[hasError?'addCls':'removeCls']([invalidCls,invalidCls+'-'+this.ui]);this.mixins.labelable.renderActiveError.call(this)},doDestroy:function(){var task=this.checkChangeTask;task&&task.cancel();Ext.destroy(this.bindNotifyListener);this.cleanupField();Ext.Component.prototype.doDestroy.call(this)},privates:{applyBind:function(bind,currentBindings){var valueBinding=currentBindings&&currentBindings.value;if(bind=Ext.Component.prototype.applyBind.call(this,
bind,currentBindings))currentBindings=bind.value,this.hasBindingValue=!!currentBindings,currentBindings!==valueBinding&&this.getInherited().modelValidation&&this.updateValueBinding(bind);return bind},applyRenderSelectors:function(){Ext.Component.prototype.applyRenderSelectors.call(this);this.inputEl||(this.inputEl=this.el.getById(this.getInputId()))},bindChangeEvents:function(active){active=active?'resumeEvent':'suspendEvent';var inputEl=this.inputEl;if(this.usesPropertychange)inputEl[active]('propertychange');
if(this.usesTextInput)inputEl[active]('textInput')},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){this.hasOwnProperty('renderTpl')||(this.renderTpl=this.lookupTpl('labelableRenderTpl'));return Ext.Component.prototype.initRenderTpl.call(this)},onBeforeNotify:function(){this.checkChangeTask.cancel();this.checkChange()},updateValueBinding:function(bindings){var newBinding=bindings.value,fieldBinding=bindings.$fieldBinding;fieldBinding&&
(fieldBinding.destroy(),bindings.$fieldBinding=null);newBinding&&newBinding.bindValidationField&&(this.fieldBinding=newBinding.bindValidationField('setValidationField',this))}},deprecated:{5:{methods:{doComponentLayout:function(){this.bindChangeEvents(!1);this.callParent(arguments);this.bindChangeEvents(!0)}}}}},0,['field'],['component','box','field'],{component:!0,box:!0,field:!0},['widget.field'],[[Ext.form.Labelable.prototype.mixinId||Ext.form.Labelable.$className,Ext.form.Labelable],[Ext.form.field.Field.prototype.mixinId||
Ext.form.field.Field.$className,Ext.form.field.Field]],[Ext.form.field,'Base',Ext.form,'Field',Ext.form,'BaseField'],0);
Ext.cmd.derive('Ext.layout.component.field.Text',Ext.layout.component.Auto,{beginLayoutCycle:function(ownerContext,firstCycle){var target=ownerContext.target;ownerContext.el.toggleCls(target.heightedCls,!ownerContext.heightModel.shrinkWrap||null!=target.minHeight);Ext.layout.component.Auto.prototype.beginLayoutCycle.call(this,ownerContext,firstCycle)}},0,0,0,0,['layout.textfield'],0,[Ext.layout.component.field,'Text'],0);
Ext.cmd.derive('Ext.form.field.VTypes',Ext.Base,function(){var alpha=/^[a-zA-Z_]+$/,alphanum=/^[a-zA-Z0-9_]+$/,email=/^(")?(?:[^\."\s])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,url=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:!0,alternateClassName:'Ext.form.VTypes',email:function(value){return email.test(value)},emailText:'This field should be an e-mail address in the format "user@example.com"',
emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(value){return url.test(value)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(value){return alpha.test(value)},alphaText:'This field should only contain letters and _',alphaMask:/[a-z_]/i,alphanum:function(value){return alphanum.test(value)},alphanumText:'This field should only contain letters, numbers and _',alphanumMask:/[a-z0-9_]/i}},0,0,0,0,0,0,[Ext.form.field,'VTypes',Ext.form,'VTypes'],0);
Ext.cmd.derive('Ext.form.trigger.Trigger',Ext.Base,{factoryConfig:{defaultType:'trigger'},repeatClick:!1,hidden:!1,hideOnReadOnly:void 0,tooltip:null,weight:0,preventMouseDown:!0,focusOnMousedown:!1,baseCls:'x-form-trigger',focusCls:'x-form-trigger-focus',overCls:'x-form-trigger-over',clickCls:'x-form-trigger-click',validIdRe:Ext.validIdRe,renderTpl:'\x3cdiv id\x3d"{triggerId}" class\x3d"{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ;{childElCls}"\x3ctpl if\x3d"triggerStyle"\x3e style\x3d"{triggerStyle}"\x3c/tpl\x3e;\x3ctpl if\x3d"ariaRole"\x3e role\x3d"{ariaRole}"\x3ctpl else\x3e role\x3d"presentation"\x3c/tpl\x3e;\x3e;{[values.$trigger.renderBody(values)]};\x3c/div\x3e'.split(';'),
constructor:function(config){Ext.apply(this,config);this.compat4Mode&&(config=this.cls,this.focusCls=[this.focusCls,config+'-focus'],this.overCls=[this.overCls,config+'-over'],this.clickCls=[this.clickCls,config+'-click'])},afterFieldRender:function(){var tip=this.tooltip;this.initEvents();tip&&(this.tooltip=null,this.setTooltip(tip))},destroy:function(){this.clickRepeater=this.el=Ext.destroy(this.clickRepeater,this.el);this.callParent()},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||
null},getStateEl:function(){return this.el},hide:function(){var el=this.el;this.hidden=!0;el&&el.hide()},initEvents:function(){var isFieldEnabled=this.isFieldEnabled,stateEl=this.getStateEl(),el=this.el;stateEl.addClsOnOver(this.overCls,isFieldEnabled,this);stateEl.addClsOnClick(this.clickCls,isFieldEnabled,this);this.repeatClick?this.clickRepeater=new Ext.util.ClickRepeater(el,{preventDefault:!0,handler:this.onClick,listeners:{mousedown:this.onClickRepeaterMouseDown,mouseup:this.onClickRepeaterMouseUp,
scope:this},scope:this}):this.field.mon(el,{click:this.onClick,mousedown:this.onMouseDown,scope:this})},isFieldEnabled:function(){return!this.field.disabled},isVisible:function(){var field=this.field,hidden=!1;if(this.hidden||!field||!this.rendered||this.destroyed)hidden=!0;return!hidden},onClick:function(){var args=arguments;args=this.clickRepeater?args[1]:args[0];var field=this.field;this.handler&&!field.readOnly&&this.isFieldEnabled()&&Ext.callback(this.handler,this.scope,[field,this,args],0,field)},
resolveListenerScope:function(scope){return this.field.resolveSatelliteListenerScope(this,scope)},onMouseDown:function(e){'touch'===e.pointerType||this.field.containsFocus&&!this.focusOnMousedown||this.field.focus();this.preventMouseDown&&e.preventDefault()},onClickRepeaterMouseDown:function(clickRepeater,e){e.parentEvent&&'mousedown'!==e.parentEvent.type||this.field.inputEl.focus();e.preventDefault()},onClickRepeaterMouseUp:function(clickRepeater,e){clickRepeater=this.field;Ext.callback(this.endHandler,
this.scope,[clickRepeater,this,e],0,clickRepeater)},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){(this.el=this.field.triggerWrap.selectNode('#'+this.domId,!1)).setVisibilityMode(Ext.Element.DISPLAY);this.rendered=!0},renderBody:function(renderData){var bodyTpl=this.bodyTpl;Ext.apply(renderData,this.getBodyRenderData());return bodyTpl?Ext.XTemplate.getTpl(this,'bodyTpl').apply(renderData):
''},renderTrigger:function(fieldData){var width=this.width,triggerStyle=this.hidden?'display:none;':'';width&&(triggerStyle+='width:'+width);return Ext.XTemplate.getTpl(this,'renderTpl').apply({$trigger:this,fieldData,ui:fieldData.ui,childElCls:fieldData.childElCls,triggerId:this.domId=this.field.id+'-trigger-'+this.id,cls:this.cls,triggerStyle,extraCls:this.extraCls,baseCls:this.baseCls,ariaRole:this.ariaRole})},setHidden:function(hidden){if(hidden!==this.hidden)this[hidden?'hide':'show']()},setTooltip:function(tip){var el=
this.el;tip!==this.tooltip&&(this.tooltip=tip,el&&el.dom.setAttribute('data-qtip',Ext.htmlEncode(tip)))},setVisible:function(visible){this.setHidden(!visible)},show:function(){var el=this.el;this.hidden=!1;el&&el.show()}},1,0,0,0,['trigger.trigger'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.form.trigger,'Trigger'],0);
Ext.cmd.derive('Ext.form.field.Text',Ext.form.field.Base,{alternateClassName:['Ext.form.TextField','Ext.form.Text'],componentLayout:'textfield',config:{hideTrigger:!1,autoHideInputMask:null,inputMask:null,triggers:void 0},renderConfig:{editable:!0},growMin:30,growMax:800,allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:'The minimum length for this field is {0}',maxLengthText:'The maximum length for this field is {0}',blankText:'This field is required',
regexText:'',emptyText:'',emptyCls:'x-form-empty-field',placeholderCoverCls:'x-placeholder-label',requiredCls:'x-form-required-field',ariaRole:'textbox',repeatTriggerClick:!1,triggerWrapCls:'x-form-trigger-wrap',triggerWrapFocusCls:'x-form-trigger-wrap-focus',triggerWrapInvalidCls:'x-form-trigger-wrap-invalid',fieldBodyCls:'x-form-text-field-body',inputWrapCls:'x-form-text-wrap',inputWrapFocusCls:'x-form-text-wrap-focus',inputWrapInvalidCls:'x-form-text-wrap-invalid',growCls:'x-form-text-grow',heightedCls:'x-form-text-heighted',
emptyClsElements:null,needArrowKeys:!0,childEls:['triggerWrap','inputWrap','placeholderLabel'],preSubTpl:'\x3cdiv id\x3d"{cmpId}-triggerWrap" data-ref\x3d"triggerWrap";\x3ctpl if\x3d"ariaEl \x3d\x3d \'triggerWrap\'"\x3e;\x3ctpl foreach\x3d"ariaElAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e;\x3ctpl else\x3e; role\x3d"presentation";\x3c/tpl\x3e; class\x3d"{triggerWrapCls} {triggerWrapCls}-{ui}"\x3e;\x3cdiv id\x3d{cmpId}-inputWrap data-ref\x3d"inputWrap"; role\x3d"presentation" class\x3d"{inputWrapCls} {inputWrapCls}-{ui}"\x3e'.split(';'),
postSubTpl:'\x3ctpl if\x3d"!Ext.supports.Placeholder"\x3e;\x3clabel id\x3d"{cmpId}-placeholderLabel" data-ref\x3d"placeholderLabel" for\x3d"{id}" class\x3d"{placeholderCoverCls} {placeholderCoverCls}-{ui}"\x3e{placeholder}\x3c/label\x3e;\x3c/tpl\x3e;\x3c/div\x3e;\x3ctpl for\x3d"triggers"\x3e{[values.renderTrigger(parent)]}\x3c/tpl\x3e;\x3c/div\x3e'.split(';'),initComponent:function(){var emptyCls=this.emptyCls;!1===this.allowOnlyWhitespace&&(this.allowBlank=!1);this.grow&&(this.liquidLayout=!1);this.size&&
(this.defaultBodyWidth=6.5*this.size+20);this.onTrigger1Click||(this.onTrigger1Click=this.onTriggerClick);Ext.form.field.Base.prototype.initComponent.call(this);this.readOnly&&this.setReadOnly(this.readOnly);this.fieldFocusCls=this.baseCls+'-focus';this.emptyUICls=emptyCls+' '+emptyCls+'-'+this.ui;this.addStateEvents('change')},initEvents:function(){var el=this.inputEl;Ext.form.field.Base.prototype.initEvents.call(this);(this.maskRe||this.vtype&&!0!==this.disableKeyFilter&&(this.maskRe=Ext.form.field.VTypes[this.vtype+
'Mask']))&&this.mon(el,'keypress',this.filterKeys,this);this.enableKeyEvents&&this.mon(el,{scope:this,keyup:this.onKeyUp,keydown:this.onKeyDown,keypress:this.onKeyPress,paste:this.onPaste})},isEqual:function(value1,value2){return this.isEqualAsString(value1,value2)},onChange:function(newVal,oldVal){var inputMask=this.getInputMask();Ext.form.field.Base.prototype.onChange.call(this,newVal,oldVal);this.autoSize();if(inputMask)inputMask.onChange(this,newVal,oldVal)},getSubTplData:function(fieldData){var value=
this.getRawValue(),isEmpty=this.emptyText&&1>value.length,maxLength=this.maxLength,placeholder;this.enforceMaxLength?maxLength===Number.MAX_VALUE&&(maxLength=void 0):maxLength=void 0;this.emptyText&&(placeholder=Ext.String.htmlEncode(this.emptyText));fieldData=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,fieldData),{triggerWrapCls:this.triggerWrapCls,inputWrapCls:this.inputWrapCls,placeholderCoverCls:this.placeholderCoverCls,triggers:this.orderedTriggers,maxLength,readOnly:!this.editable||
this.readOnly,placeholder,value,fieldCls:this.fieldCls+(this.allowBlank?'':' '+this.requiredCls)+(isEmpty?' '+this.emptyUICls:'')});(value=fieldData.inputElAriaAttributes)&&(value['aria-required']=!this.allowBlank);return fieldData},beforeRender:function(){(null!=this.height||null!=this.minHeight||this.ownerLayout&&this.ownerLayout.getItemSizePolicy(this,this.fakeSizeModel).setsHeight)&&this.protoEl.addCls(this.heightedCls);(arguments.callee.$previous||Ext.form.field.Base.prototype.beforeRender).call(this)},
onRender:function(){var triggers=this.getTriggers(),elements=[],id;Ext.supports.FixedTableWidthBug&&(this.el._needsTableWidthFix=!0);(arguments.callee.$previous||Ext.form.field.Base.prototype.onRender).call(this);this.emptyClsElements=[this.inputEl];if(triggers){this.invokeTriggers('onFieldRender');for(id in triggers)elements.push(triggers[id].el);this.triggerEl=this.triggerCell=new Ext.CompositeElement(elements,!0)}this.inputCell=this.inputWrap;this.refreshEmptyText()},onResize:function(width,height,
oldWidth,oldHeight){this.rendered&&this.grow&&this.autoSize();Ext.form.field.Base.prototype.onResize.call(this,width,height,oldWidth,oldHeight)},afterRender:function(){Ext.form.field.Base.prototype.afterRender.call(this);this.invokeTriggers('afterFieldRender')},onBoxReady:function(width,height){Ext.form.field.Base.prototype.onBoxReady.call(this,width,height);this.liquidLayout||this.autoSize()},applyInputMask:function(value,instance){var field=Ext.field;field=field&&field.InputMask;return value?field.from(value,
instance):null},applyTriggers:function(triggers){var hideAllTriggers=this.getHideTrigger(),readOnly=this.readOnly,orderedTriggers=this.orderedTriggers=[],repeatTriggerClick=this.repeatTriggerClick,id,triggerCfg,i;if(!triggers)for(triggers={},this.triggerCls&&!this.trigger1Cls&&(this.trigger1Cls=this.triggerCls),i=1;triggerCfg=this['trigger'+i+'Cls'];i++)triggers['trigger'+i]={cls:triggerCfg,extraCls:'x-trigger-index-'+i,handler:'onTrigger'+i+'Click',compat4Mode:!0,scope:this};for(id in triggers)if(triggers.hasOwnProperty(id)){triggerCfg=
triggers[id];triggerCfg.field=this;triggerCfg.id=id;if(readOnly&&!1!==triggerCfg.hideOnReadOnly||hideAllTriggers&&!1!==triggerCfg.hidden)triggerCfg.hidden=!0;repeatTriggerClick&&!1!==triggerCfg.repeatClick&&(triggerCfg.repeatClick=!0);triggerCfg=triggers[id]=Ext.form.trigger.Trigger.create(triggerCfg);orderedTriggers.push(triggerCfg)}Ext.sortByWeight(orderedTriggers);return triggers},invokeTriggers:function(methodName,args){var triggers=this.getTriggers(),id;if(triggers)for(id in triggers)if(triggers.hasOwnProperty(id)){var trigger=
triggers[id];trigger[methodName].apply(trigger,args||[])}},getTrigger:function(id){return this.getTriggers()[id]},updateMinHeight:function(minHeight,oldMinHeight){Ext.form.field.Base.prototype.updateMinHeight.call(this,minHeight,oldMinHeight);this.toggleCls('x-has-min-height',!!minHeight)},updateInputMask:function(inputMask,previous){previous&&previous.release();inputMask&&(this.enableKeyEvents=!0)},updateHideTrigger:function(hideTrigger){this.invokeTriggers(hideTrigger?'hide':'show')},updateEditable:function(editable,
oldEditable){this.setReadOnlyAttr(!editable||this.readOnly)},setReadOnly:function(readOnly){var triggers=this.getTriggers(),hideTriggers=this.getHideTrigger(),id;readOnly=!!readOnly;Ext.form.field.Base.prototype.setReadOnly.call(this,readOnly);this.rendered&&this.setReadOnlyAttr(readOnly||!this.editable);if(triggers)for(id in triggers){var trigger=triggers[id];(!0===trigger.hideOnReadOnly||!1!==trigger.hideOnReadOnly&&!hideTriggers)&&trigger.setVisible(!readOnly)}},setReadOnlyAttr:function(readOnly){var inputEl=
this.inputEl.dom;readOnly?inputEl.setAttribute('readonly','readonly'):inputEl.removeAttribute('readonly');this.ariaStaticRoles[this.ariaRole]||this.inputEl.dom.setAttribute('aria-readonly',!!readOnly)},processRawValue:function(value){var stripRe=this.stripCharsRe;if(stripRe){if(!stripRe.global){var mod='g'+(stripRe.ignoreCase?'i':'');mod+=stripRe.multiline?'m':'';stripRe=new RegExp(stripRe.source,mod)}stripRe=value.replace(stripRe,'');stripRe!==value&&(this.setRawValue(stripRe),this.lastValue===value&&
(this.lastValue=stripRe),value=stripRe)}return value},onDisable:function(){Ext.form.field.Base.prototype.onDisable.call(this);Ext.isIE&&(this.inputEl.dom.unselectable='on')},onEnable:function(){Ext.form.field.Base.prototype.onEnable.call(this);Ext.isIE&&(this.inputEl.dom.unselectable='')},onKeyDown:function(event){var inputMask=this.getInputMask();if(inputMask)inputMask.onKeyDown(this,this.getValue(),event);this.fireEvent('keydown',this,event)},onKeyUp:function(e){this.fireEvent('keyup',this,e)},
onKeyPress:function(event){var inputMask=this.getInputMask();if(inputMask)inputMask.onKeyPress(this,this.getValue(),event);this.fireEvent('keypress',this,event)},onPaste:function(e){var inputMask=this.getInputMask();if(inputMask)inputMask.onPaste(this,this.getValue(),e);this.fireEvent('paste',this,e)},getEmptyText:function(){return this.emptyText},setEmptyText:function(value){var inputEl=this.inputEl;this.emptyText=value=value||'';this.rendered&&(Ext.supports.Placeholder&&!this.simulatePlaceholder?
value?inputEl.dom.setAttribute('placeholder',value):inputEl.dom.removeAttribute('placeholder'):this.placeholderLabel.setHtml(value),this.refreshEmptyText());return this},afterFirstLayout:function(){var el;Ext.form.field.Base.prototype.afterFirstLayout.call(this);Ext.isIE&&this.disabled&&(el=this.inputEl)&&(el.dom.unselectable='on')},toggleInvalidCls:function(hasError){var method=hasError?'addCls':'removeCls';Ext.form.field.Base.prototype.toggleInvalidCls.call(this,hasError);this.triggerWrap[method](this.triggerWrapInvalidCls);
this.inputWrap[method](this.inputWrapInvalidCls)},onFieldMutation:function(e){this.refreshEmptyText();Ext.form.field.Base.prototype.onFieldMutation.call(this,e)},refreshEmptyText:function(){var inputEl=this.inputEl,emptyClsElements=this.emptyClsElements;if(inputEl){var value=this.getValue();inputEl=!(inputEl.dom.value||Ext.isArray(value)&&value.length);this.placeholderLabel&&this.placeholderLabel.setDisplayed(inputEl);for(value=0;value<emptyClsElements.length;value++)emptyClsElements[value].toggleCls(this.emptyUICls,
inputEl)}},setValue:function(value){value=Ext.form.field.Base.prototype.setValue.call(this,value);this.refreshEmptyText();return value},onFocus:function(e){var inputEl=this.inputEl.dom,inputMask=this.getInputMask();Ext.form.field.Base.prototype.onFocus.call(this,e);this.emptyText&&this.autoSize();if(inputMask)inputMask.onFocus(this,inputEl.value);this.addCls(this.fieldFocusCls);this.triggerWrap.addCls(this.triggerWrapFocusCls);this.inputWrap.addCls(this.inputWrapFocusCls);this.invokeTriggers('onFieldFocus',
[e]);this.selectOnFocus&&document.activeElement===inputEl&&(e=inputEl.value,e=e.length,Ext.asap(this.selectText,this,[0,e]))},onBlur:function(e){var inputEl=this.inputEl.dom,inputMask=this.getInputMask();Ext.form.field.Base.prototype.onBlur.call(this,e);inputEl=inputEl&&inputEl.value;this.removeCls(this.fieldFocusCls);this.triggerWrap.removeCls(this.triggerWrapFocusCls);this.inputWrap.removeCls(this.inputWrapFocusCls);this.invokeTriggers('onFieldBlur',[e]);if(inputMask&&!1!==this.getAutoHideInputMask())inputMask.onBlur(this,
inputEl)},filterKeys:function(e){if(!(e.ctrlKey&&!e.altKey||e.isSpecialKey())){var charCode=String.fromCharCode(e.getCharCode());this.maskRe.test(charCode)||e.stopEvent()}},getState:function(){return this.addPropertyToState(Ext.form.field.Base.prototype.getState.call(this),'value')},applyState:function(state){Ext.form.field.Base.prototype.applyState.call(this,state);state.hasOwnProperty('value')&&this.setValue(state.value)},getErrors:function(value){value=arguments.length?null==value?'':value:this.processRawValue(this.getRawValue());
var errors=Ext.form.field.Base.prototype.getErrors.call(this,value),validator=this.validator,vtype=this.vtype,vtypes=Ext.form.field.VTypes,regex=this.regex,format=Ext.String.format;Ext.isFunction(validator)&&(validator=validator.call(this,value),!0!==validator&&errors.push(validator));if(1>(this.allowOnlyWhitespace?value:Ext.String.trim(value)).length){this.allowBlank||errors.push(this.blankText);if(!this.validateBlank)return errors;var isBlank=!0}!isBlank&&value.length<this.minLength&&errors.push(format(this.minLengthText,
this.minLength));value.length>this.maxLength&&errors.push(format(this.maxLengthText,this.maxLength));vtype&&(vtypes[vtype](value,this)||errors.push(this.vtypeText||vtypes[vtype+'Text']));regex&&!regex.test(value)&&errors.push(this.regexText||this.invalidText);return errors},getCaretPos:function(){return this.inputEl.getCaretPos()},setCaretPos:function(pos){this.inputEl.setCaretPos(pos)},getTextSelection:function(){return this.inputEl.getTextSelection()},selectText:function(start,end,direction){var me=
this;Ext.defer(function(){!me.destroyed&&me.inputEl.isVisible(!0)&&me.inputEl.selectText(start,end,direction)},Ext.isIE?10:0);return me},getGrowWidth:function(){return this.inputEl.dom.value},autoSize:function(){var triggerId;if(this.grow&&this.rendered&&this.getSizeModel().width.auto){var inputEl=this.inputEl;var triggers=this.getTriggers();var triggerWidth=0;var value=Ext.util.Format.htmlEncode(this.getGrowWidth()||(this.hasFocus?'':this.emptyText)||'');value=value.replace(/\s/g,'\x26nbsp;');for(triggerId in triggers)triggerWidth+=
triggers[triggerId].el.getWidth();triggers=inputEl.getTextWidth(value)+triggerWidth+this.inputWrap.getBorderWidth('lr')+this.triggerWrap.getBorderWidth('lr')+inputEl.getPadding('lr');triggers=Math.min(Math.max(triggers,this.growMin),this.growMax);this.bodyEl.setWidth(triggers);this.updateLayout();this.fireEvent('autosize',this,triggers)}},doDestroy:function(){this.invokeTriggers('destroy');Ext.destroy(this.triggerRepeater);this.setInputMask(null);Ext.form.field.Base.prototype.doDestroy.call(this)},
onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return'textfield'}},deprecated:{5:{methods:{getTriggerWidth:function(){var triggers=this.getTriggers(),width=0,id;if(triggers&&this.rendered)for(id in triggers)triggers.hasOwnProperty(id)&&(width+=triggers[id].el.getWidth());return width}}}}},0,['textfield'],['component','box','field','textfield'],{component:!0,box:!0,field:!0,textfield:!0},['widget.textfield'],0,[Ext.form.field,'Text',Ext.form,'TextField',Ext.form,'Text'],function(TextField){var calculated=
Ext.layout.SizeModel.calculated;TextField.prototype.fakeSizeModel=calculated.pairsByHeightOrdinal[calculated.ordinal]});
Ext.define('Ext.theme.material.form.field.Text',{override:'Ext.form.field.Text',labelSeparator:'',initComponent:function(){(arguments.callee.$previous||Ext.form.field.Base.prototype.initComponent).call(this);this.on({change:function(field,value){field.el&&field.el.toggleCls('not-empty',!Ext.isEmpty(value)||field.emptyText)},render:function(ths,width,height,eOpts){Ext.isEmpty(ths.getValue())&&!ths.emptyText||!ths.el||ths.el.addCls('not-empty')}})}});
Ext.cmd.derive('Ext.form.field.TextArea',Ext.form.field.Text,{alternateClassName:'Ext.form.TextArea',fieldSubTpl:['\x3ctextarea id\x3d"{id}" data-ref\x3d"inputEl" rows\x3d"1" {inputAttrTpl}','\x3ctpl if\x3d"name"\x3e name\x3d"{name}"\x3c/tpl\x3e','\x3ctpl if\x3d"placeholder"\x3e placeholder\x3d"{placeholder}"\x3c/tpl\x3e','\x3ctpl if\x3d"maxLength !\x3d\x3d undefined"\x3e maxlength\x3d"{maxLength}"\x3c/tpl\x3e','\x3ctpl if\x3d"readOnly"\x3e readonly\x3d"readonly"\x3c/tpl\x3e','\x3ctpl if\x3d"disabled"\x3e disabled\x3d"disabled"\x3c/tpl\x3e',
'\x3ctpl if\x3d"tabIdx !\x3d null"\x3e tabindex\x3d"{tabIdx}"\x3c/tpl\x3e',' class\x3d"{fieldCls} {typeCls} {typeCls}-{ui} {inputCls} {fixCls}" ','\x3ctpl if\x3d"fieldStyle"\x3e style\x3d"{fieldStyle}"\x3c/tpl\x3e','\x3ctpl foreach\x3d"ariaElAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e','\x3ctpl foreach\x3d"inputElAriaAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e',' autocomplete\x3d"off"\x3e\n','\x3ctpl if\x3d"value"\x3e{[Ext.util.Format.htmlEncode(values.value)]}\x3c/tpl\x3e','\x3c/textarea\x3e',{disableFormats:!0}],
growMin:60,growMax:1E3,growAppend:'\n-',enterIsSpecial:!1,preventScrollbars:!1,returnRe:/\r/g,inputCls:'x-form-textarea',extraFieldBodyCls:'x-form-textarea-body',ariaAttributes:{'aria-multiline':!0},getSubTplData:function(fieldData){var fieldStyle=this.getFieldStyle(),ret=Ext.form.field.Text.prototype.getSubTplData.apply(this,arguments);this.grow&&this.preventScrollbars&&(ret.fieldStyle=(fieldStyle||'')+';overflow:hidden;');return ret},afterRender:function(){Ext.form.field.Text.prototype.afterRender.apply(this,
arguments);if(this.needsMaxCheck=this.enforceMaxLength&&this.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength)this.inputEl.on('paste',this.onPaste,this)},transformRawValue:function(value){return this.stripReturns(value)},getValue:function(){return this.stripReturns(Ext.form.field.Text.prototype.getValue.call(this))},valueToRaw:function(value){value=this.stripReturns(value);return Ext.form.field.Text.prototype.valueToRaw.call(this,value)},stripReturns:function(value){value&&'string'===
typeof value&&(value=value.replace(this.returnRe,''));return value},onPaste:function(){this.pasteTask||(this.pasteTask=new Ext.util.DelayedTask(this.pasteCheck,this));this.pasteTask.delay(1)},pasteCheck:function(){var value=this.getValue(),max=this.maxLength;value.length>max&&(value=value.substr(0,max),this.setValue(value))},fireKey:function(e){var key=e.getKey();e.isSpecialKey()&&(this.enterIsSpecial||key!==e.ENTER||e.hasModifier())&&this.fireEvent('specialkey',this,e);!this.needsMaxCheck||key===
e.BACKSPACE||key===e.DELETE||e.isNavKeyPress()||this.isCutCopyPasteSelectAll(e,key)||(key=this.getValue(),key.length>=this.maxLength&&e.stopEvent())},isCutCopyPasteSelectAll:function(e,key){return e.ctrlKey?key===e.A||key===e.C||key===e.V||key===e.X:!1},autoSize:function(){if(this.grow&&this.rendered&&this.getSizeModel().height.auto){var inputEl=this.inputEl;var hideScroller=inputEl.getWidth(!0);var height=Ext.util.Format.htmlEncode(inputEl.dom.value)||'\x26#160;';height+=this.growAppend;height=height.replace(/\n/g,
'\x3cbr/\x3e');height=Ext.util.TextMetrics.measure(inputEl,height,hideScroller).height+inputEl.getPadding('tb')+this.inputWrap.getBorderWidth('tb')+this.triggerWrap.getBorderWidth('tb');height=Math.min(Math.max(height,this.growMin),this.growMax);hideScroller=this.preventScrollbars||!this.growMax||height<this.growMax;inputEl.setStyle('overflow-y',hideScroller?'hidden':'auto');this.bodyEl.setHeight(height);this.updateLayout();this.fireEvent('autosize',this,height)}},doDestroy:function(){var task=this.pasteTask;
task&&task.cancel();Ext.form.field.Text.prototype.doDestroy.call(this)}},0,['textarea','textareafield'],'component box field textfield textareafield textarea'.split(' '),{component:!0,box:!0,field:!0,textfield:!0,textareafield:!0,textarea:!0},['widget.textarea','widget.textareafield'],0,[Ext.form.field,'TextArea',Ext.form,'TextArea'],0);
Ext.cmd.derive('Ext.window.MessageBox',Ext.window.Window,{OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:'x-message-box-info',WARNING:'x-message-box-warning',QUESTION:'x-message-box-question',ERROR:'x-message-box-error',hideMode:'offsets',closeAction:'hide',resizable:!1,scrollable:!0,title:'\x26#160;',defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:['x-message-box','x-hidden-offsets'],
layout:{type:'vbox',align:'stretch'},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:'OK',yes:'Yes',no:'No',cancel:'Cancel'},buttonIds:['ok','yes','no','cancel'],baseIconCls:'x-message-box-icon',ariaRole:'alertdialog',makeButton:function(btnIdx){btnIdx=this.buttonIds[btnIdx];return new Ext.button.Button({handler:this.btnCallback,itemId:btnIdx,scope:this,text:this.buttonText[btnIdx],minWidth:75})},btnCallback:function(btn,event){var me=this;if(event&&'keydown'===
event.type&&!event.isSpecialKey())event.getTarget(null,null,!0).on({keyup:function(e){me.btnCallback(btn,e)},single:!0});else{if(me.cfg.prompt||me.cfg.multiline){event=me.cfg.multiline?me.textArea:me.textField;var value=event.getValue();event.reset()}me.hide();me.userCallback(btn.itemId,value,me.cfg)}},hide:function(){var cls=this.cfg?this.cfg.cls:'';this.progressBar.reset();cls&&this.removeCls(cls);Ext.window.Window.prototype.hide.apply(this,arguments)},constructor:function(cfg){Ext.window.Window.prototype.constructor.apply(this,
arguments);this.minWidth=this.defaultMinWidth=this.minWidth||this.defaultMinWidth;this.maxWidth=this.defaultMaxWidth=this.maxWidth||this.defaultMaxWidth;this.minHeight=this.defaultMinHeight=this.minHeight||this.defaultMinHeight;this.maxHeight=this.defaultMaxHeight=this.maxHeight||this.defaultMaxHeight},initComponent:function(cfg){cfg=this.id;var i;this.title=this.title||'\x26#160;';this.iconCls=this.iconCls||'';this.topContainer=new Ext.container.Container({layout:'hbox',padding:10,style:{overflow:'hidden'},
items:[this.iconComponent=new Ext.Component({cls:this.baseIconCls}),this.promptContainer=new Ext.container.Container({flex:1,layout:{type:'vbox',align:'stretch'},items:[this.msg=new Ext.Component({id:cfg+'-msg',cls:this.baseCls+'-text'}),this.textField=new Ext.form.field.Text({id:cfg+'-textfield',enableKeyEvents:!0,ariaAttributes:{'aria-labelledby':this.msg.id},listeners:{keydown:this.onPromptKey,scope:this}}),this.textArea=new Ext.form.field.TextArea({id:cfg+'-textarea',height:75,ariaAttributes:{'aria-labelledby':this.msg.id}})]})]});
this.progressBar=new Ext.ProgressBar({id:cfg+'-progressbar',margin:'0 10 10 10'});this.items=[this.topContainer,this.progressBar];this.msgButtons=[];for(i=0;4>i;i++){var button=this.makeButton(i);this.msgButtons[button.itemId]=button;this.msgButtons.push(button)}this.bottomTb=new Ext.toolbar.Toolbar({id:cfg+'-toolbar',ui:'footer',dock:'bottom',focusableContainer:!1,ariaRole:null,layout:{pack:{left:'start',right:'end'}[this.buttonAlign]||'center'},items:[this.msgButtons[0],this.msgButtons[1],this.msgButtons[2],
this.msgButtons[3]]});this.dockedItems=[this.bottomTb];this.on('close',this.onClose,this);Ext.window.Window.prototype.initComponent.call(this)},afterRender:function(){Ext.window.Window.prototype.afterRender.apply(this,arguments);this.textField.labelEl.dom.removeAttribute('for');this.textArea.labelEl.dom.removeAttribute('for')},onClose:function(){var btn=this.msgButtons[3];btn&&this.btnCallback(btn)},onPromptKey:function(textField,e){if(e.keyCode===e.RETURN||10===e.keyCode)this.msgButtons.ok.isVisible()?
this.msgButtons.ok.handler.call(this,this.msgButtons.ok):this.msgButtons.yes.isVisible()&&this.msgButtons.yes.handler.call(this,this.msgButtons.yes)},reconfigure:function(cfg){var me=this,buttons=0,hideToolbar=!0,oldButtonText=me.buttonText,resizer=me.resizer,header=me.header;buttons=header&&!header.isHeader;var message=cfg&&(cfg.message||cfg.msg),buttonTips=cfg.buttonTips;me.updateButtonText();me.cfg=cfg=cfg||{};var msgButtons=cfg.wait;if(cfg.width)var width=cfg.width;if(cfg.height)var height=cfg.height;
me.minWidth=cfg.minWidth||me.defaultMinWidth;me.maxWidth=cfg.maxWidth||me.defaultMaxWidth;me.minHeight=cfg.minHeight||me.defaultMinHeight;me.maxHeight=cfg.maxHeight||me.defaultMaxHeight;'maskClickAction'in cfg?me.maskClickAction=cfg.maskClickAction:delete me.maskClickAction;if(resizer){var resizeTracker=resizer.resizeTracker;resizer.minWidth=resizeTracker.minWidth=me.minWidth;resizer.maxWidth=resizeTracker.maxWidth=me.maxWidth;resizer.minHeight=resizeTracker.minHeight=me.minHeight;resizer.maxHeight=
resizeTracker.maxHeight=me.maxHeight}delete me.defaultFocus;cfg.defaultFocus&&(me.defaultFocus=cfg.defaultFocus);me.animateTarget=cfg.animateTarget||void 0;me.modal=!1!==cfg.modal;resizer=null!=cfg.title?cfg.title:buttons&&null!=header.title?header.title:me.title;buttons=null!=cfg.iconCls?cfg.iconCls:buttons&&null!=header.iconCls?header.iconCls:me.iconCls;me.setTitle(resizer);me.setIconCls(buttons);Ext.isObject(cfg.buttons)?(me.buttonText=cfg.buttons,buttons=0):(me.buttonText=cfg.buttonText||me.buttonText,
buttons=Ext.isNumber(cfg.buttons)?cfg.buttons:0);Ext.each(me.buttonIds,function(buttonId){me.msgButtons[buttonId].setTooltip(buttonTips&&buttonTips[buttonId]||null)});buttons|=me.updateButtonText();me.buttonText=oldButtonText;Ext.suspendLayouts();me.width=me.height=null;if(width||height)width&&me.setWidth(width),height&&me.setHeight(height);me.rendered||me.render(Ext.getBody());me.closable=!1!==cfg.closable&&!msgButtons;if(header=me.header)(oldButtonText=header.child('[type\x3dclose]'))&&oldButtonText.setVisible(me.closable),
cfg.title||me.closable||cfg.iconCls?header.show():header.hide();me.liveDrag=!cfg.proxyDrag;me.userCallback=Ext.Function.bindCallback(cfg.callback||cfg.fn||Ext.emptyFn,cfg.scope||Ext.global);me.setIcon(cfg.icon);oldButtonText=me.msg;message?(oldButtonText.setHtml(message),oldButtonText.show(),me.ariaEl.dom.setAttribute('aria-describedby',oldButtonText.id)):(oldButtonText.hide(),me.ariaEl.dom.removeAttribute('aria-describedby'));message=me.textArea;oldButtonText=me.textField;cfg.prompt||cfg.multiline?
((me.multiline=cfg.multiline)?(message.setValue(cfg.value),message.setHeight(cfg.defaultTextHeight||me.defaultTextHeight),message.show(),oldButtonText.hide(),me.defaultFocus=message):(oldButtonText.setValue(cfg.value),message.hide(),oldButtonText.show(),me.defaultFocus=oldButtonText),me.ariaEl.dom.removeAttribute('aria-describedby')):(message.hide(),oldButtonText.hide());message=me.progressBar;cfg.progress||msgButtons?(message.show(),me.updateProgress(0,cfg.progressText),me.defaultFocus=message,msgButtons&&
message.wait(!0===msgButtons?cfg.waitConfig:msgButtons)):message.hide();msgButtons=me.msgButtons;for(cfg=0;4>cfg;cfg++)buttons&Math.pow(2,cfg)?(me.defaultFocus||(me.defaultFocus=msgButtons[cfg]),msgButtons[cfg].show(),hideToolbar=!1):msgButtons[cfg].hide();hideToolbar?me.bottomTb.hide():me.bottomTb.show();Ext.resumeLayouts(!0)},updateButtonText:function(){var buttonText=this.buttonText,buttons=0,btnId,btn;for(btnId in buttonText)buttonText.hasOwnProperty(btnId)&&(btn=this.msgButtons[btnId])&&(this.cfg&&
this.cfg.buttonText&&(buttons|=Math.pow(2,Ext.Array.indexOf(this.buttonIds,btnId))),btn.text!==buttonText[btnId]&&btn.setText(buttonText[btnId]));return buttons},show:function(cfg){var me=this;cfg=cfg||{};if(Ext.Component.layoutSuspendCount)return Ext.on({resumelayouts:function(){me.show(cfg)},single:!0}),me;me.reconfigure(cfg);cfg.cls&&me.addCls(cfg.cls);var visibleFocusables=me.query('textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])');me.preventFocusOnActivate=!visibleFocusables.length;
Ext.window.Window.prototype.show.call(this);me.closable&&!me.defaultFocus&&me.focus();return me},onShow:function(){Ext.window.Window.prototype.onShow.apply(this,arguments);this.center()},updateText:function(text){this.msg.setHtml(text)},setIcon:function(icon,width,height){var iconCmp=this.iconComponent,cls=this.messageIconCls;cls&&iconCmp.removeCls(cls);icon?(iconCmp.show(),(width||height)&&iconCmp.setSize(width||iconCmp.getWidth(),height||iconCmp.getHeight()),iconCmp.addCls('x-dlg-icon'),iconCmp.addCls(this.messageIconCls=
icon)):(iconCmp.removeCls('x-dlg-icon'),iconCmp.hide());return this},updateProgress:function(value,progressText,message){this.progressBar.updateProgress(value,progressText);message&&this.updateText(message);return this},onEsc:function(){!1!==this.closable&&Ext.window.Window.prototype.onEsc.apply(this,arguments)},confirm:function(title,message,fn,scope){Ext.isString(title)&&(title={title,icon:this.QUESTION,message,buttons:this.YESNO,callback:fn,scope});return this.show(title)},prompt:function(title,
message,fn,scope,multiline,value){Ext.isString(title)&&(title={prompt:!0,title,minWidth:this.minPromptWidth,message,buttons:this.OKCANCEL,callback:fn,scope,multiline,value});return this.show(title)},wait:function(message,title,config){Ext.isString(message)&&(message={title,message,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:config});return this.show(message)},alert:function(title,message,fn,scope){Ext.isString(title)&&(title={title,message,buttons:this.OK,fn,scope,minWidth:this.minWidth});
return this.show(title)},progress:function(title,message,progressText){Ext.isString(title)&&(title={title,message,progress:!0,progressText});return this.show(title)},privates:{syncHeaderConfigs:Ext.privateFn}},1,['messagebox'],'component box container panel window messagebox'.split(' '),{component:!0,box:!0,container:!0,panel:!0,window:!0,messagebox:!0},['widget.messagebox'],0,[Ext.window,'MessageBox'],function(MessageBox){Ext.onInternalReady(function(){Ext.MessageBox=Ext.Msg=new MessageBox})});
Ext.define('Ext.theme.material.window.MessageBox',{override:'Ext.window.MessageBox',buttonAlign:'right'});
Ext.cmd.derive('Ext.form.Basic',Ext.util.Observable,{alternateClassName:'Ext.form.BasicForm',taskDelay:10,constructor:function(owner,config){this.owner=owner;this.fieldMonitors={validitychange:this.checkValidityDelay,enable:this.checkValidityDelay,disable:this.checkValidityDelay,dirtychange:this.checkDirtyDelay,errorchange:this.checkErrorDelay,scope:this};this.checkValidityTask=new Ext.util.DelayedTask(this.checkValidity,this);this.checkDirtyTask=new Ext.util.DelayedTask(this.checkDirty,this);this.checkErrorTask=
new Ext.util.DelayedTask(this.checkError,this);this.monitor=new Ext.container.Monitor({selector:'[isFormField]:not([excludeForm])',scope:this,addHandler:this.onFieldAdd,removeHandler:this.onFieldRemove,invalidateHandler:this.onMonitorInvalidate});this.monitor.bind(owner);Ext.apply(this,config);Ext.isString(this.paramOrder)&&(this.paramOrder=this.paramOrder.split(/[\s,|]/));(owner=this.reader)&&!owner.isReader&&('string'===typeof owner&&(owner={type:owner}),this.reader=Ext.createByAlias('reader.'+
owner.type,owner));(owner=this.errorReader)&&!owner.isReader&&('string'===typeof owner&&(owner={type:owner}),this.errorReader=Ext.createByAlias('reader.'+owner.type,owner));Ext.util.Observable.prototype.constructor.call(this)},initialize:function(){this.initialized=!0;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:'Please Wait...',trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var mon=this.monitor;Ext.undefer(this.actionTimer);mon&&(mon.unbind(),this.monitor=
null);this.clearListeners();this.checkValidityTask.cancel();this.checkDirtyTask.cancel();this.checkErrorTask.cancel();this.checkValidityTask=this.checkDirtyTask=this.checkErrorTask=null;Ext.util.Observable.prototype.destroy.call(this)},onFieldAdd:function(field){field.on(this.fieldMonitors);this.onMonitorInvalidate()},onFieldRemove:function(field){field.un(this.fieldMonitors);this.onMonitorInvalidate()},onMonitorInvalidate:function(){this.initialized&&this.checkValidityDelay()},getFields:function(){return this.monitor.getItems()},
getBoundItems:function(){var boundItems=this._boundItems;boundItems&&0!==boundItems.getCount()||(boundItems=this._boundItems=new Ext.util.MixedCollection,boundItems.addAll(this.owner.query('[formBind]')));return boundItems},hasInvalidField:function(){return!!this.getFields().findBy(function(field){var preventMark=field.preventMark;field.preventMark=!0;var isValid=field.isValid();field.preventMark=preventMark;return!isValid})},isValid:function(){Ext.suspendLayouts();var invalid=this.getFields().filterBy(function(field){return!field.validate()});
Ext.resumeLayouts(!0);return 1>invalid.length},checkValidity:function(){if(!this.destroyed){var valid=!this.hasInvalidField();valid!==this.wasValid&&(this.onValidityChange(valid),this.fireEvent('validitychange',this,valid),this.wasValid=valid)}},checkValidityDelay:function(){var timer=this.taskDelay;timer?this.checkValidityTask.delay(timer):this.checkValidity()},checkError:function(){this.fireEvent('errorchange',this)},checkErrorDelay:function(){var timer=this.taskDelay;timer?this.checkErrorTask.delay(timer):
this.checkError()},onValidityChange:function(valid){var boundItems=this.getBoundItems(),i;if(boundItems){boundItems=boundItems.items;var iLen=boundItems.length;for(i=0;i<iLen;i++){var cmp=boundItems[i];cmp.disabled===valid&&cmp.setDisabled(!valid)}}},isDirty:function(){return!!this.getFields().findBy(function(f){return f.isDirty()})},checkDirtyDelay:function(){var timer=this.taskDelay;timer?this.checkDirtyTask.delay(timer):this.checkDirty()},checkDirty:function(){if(!this.destroyed){var dirty=this.isDirty();
dirty!==this.wasDirty&&(this.fireEvent('dirtychange',this,dirty),this.wasDirty=dirty)}},hasUpload:function(){return!!this.getFields().findBy(function(f){return f.isFileUpload()})},doAction:function(action,options){Ext.isString(action)&&(action=Ext.ClassManager.instantiateByAlias('formaction.'+action,Ext.apply({},options,{form:this})));!1!==this.fireEvent('beforeaction',this,action)&&(this.beforeAction(action),this.actionTimer=Ext.defer(action.run,100,action));return this},submit:function(options){options=
options||{};return this.doAction(options.standardSubmit||this.standardSubmit?'standardsubmit':this.api?'directsubmit':'submit',options)},load:function(options){return this.doAction(this.api?'directload':'load',options)},updateRecord:function(record){record=record||this._record;if(!record)return this;for(var fields=record.self.fields,values=this.getFieldValues(),obj={},i=0,len=fields.length,name;i<len;++i)name=fields[i].name,values.hasOwnProperty(name)&&(obj[name]=values[name]);record.beginEdit();
record.set(obj);record.endEdit();return this},loadRecord:function(record){this._record=record;return this.setValues(record.getData())},getRecord:function(){return this._record},beforeAction:function(action){var waitMsg=action.waitMsg,fields=this.getFields().items,f,fLen=fields.length;for(f=0;f<fLen;f++){var field=fields[f];field.isFormField&&field.syncValue&&field.syncValue()}if(waitMsg)if(fields=this.waitMsgTarget,!0===fields)this.owner.el.mask(waitMsg,'x-mask-loading');else if(fields)fields=this.waitMsgTarget=
Ext.get(fields),fields.mask(waitMsg,'x-mask-loading');else{if(this.floatingAncestor=this.owner.up('[floating]'))this.savePreventFocusOnActivate=this.floatingAncestor.preventFocusOnActivate,this.floatingAncestor.preventFocusOnActivate=!0;Ext.MessageBox.wait(waitMsg,action.waitTitle||this.waitTitle)}},afterAction:function(action,success){var messageBox=Ext.MessageBox;if(action.waitMsg){var waitMsgTarget=this.waitMsgTarget;!0===waitMsgTarget?this.owner.el.unmask():waitMsgTarget?waitMsgTarget.unmask():
messageBox.hide()}this.floatingAncestor&&(this.floatingAncestor.preventFocusOnActivate=this.savePreventFocusOnActivate);success?(action.reset&&this.reset(),Ext.callback(action.success,action.scope||action,[this,action]),this.fireEvent('actioncomplete',this,action)):(Ext.callback(action.failure,action.scope||action,[this,action]),this.fireEvent('actionfailed',this,action))},findField:function(id){return this.getFields().findBy(function(f){return f.id===id||f.name===id||f.dataIndex===id})},markInvalid:function(errors){function mark(fieldId,
msg){(fieldId=me.findField(fieldId))&&fieldId.markInvalid(msg)}var me=this,e;if(Ext.isArray(errors)){var eLen=errors.length;for(e=0;e<eLen;e++){var error=errors[e];mark(error.id||error.field,error.msg||error.message)}}else if(errors instanceof Ext.data.ErrorCollection)for(eLen=errors.items.length,e=0;e<eLen;e++)error=errors.items[e],mark(error.field,error.message);else for(eLen in errors)errors.hasOwnProperty(eLen)&&(e=errors[eLen],mark(eLen,e,errors));return this},setValues:function(values){function setVal(fieldId,
val){if(fieldId=me.findField(fieldId))fieldId.setValue(val),me.trackResetOnLoad&&fieldId.resetOriginalValue()}var me=this,v;Ext.suspendLayouts();if(Ext.isArray(values)){var vLen=values.length;for(v=0;v<vLen;v++){var val$jscomp$0=values[v];setVal(val$jscomp$0.id,val$jscomp$0.value)}}else Ext.iterate(values,setVal);Ext.resumeLayouts(!0);return this},getValues:function(asString,dirtyOnly,includeEmptyText,useDataValues,isSubmitting){var values={},fields=this.getFields().items,fLen=fields.length,isArray=
Ext.isArray;useDataValues=useDataValues?'getModelData':'getSubmitData';var name,f;for(f=0;f<fLen;f++){var field=fields[f];if(!dirtyOnly||field.isDirty()){var data=field[useDataValues](includeEmptyText,isSubmitting);if(Ext.isObject(data))for(name in data)if(data.hasOwnProperty(name)){var val=data[name];includeEmptyText&&''===val&&(val=field.emptyText||'');if(field.isRadio)values[name]=values[name]||val;else if(values.hasOwnProperty(name)){var bucket=values[name];isArray(bucket)||(bucket=values[name]=
[bucket]);isArray(val)?values[name]=bucket.concat(val):bucket.push(val)}else values[name]=val}}}asString&&(values=Ext.Object.toQueryString(values));return values},getFieldValues:function(dirtyOnly){return this.getValues(!1,dirtyOnly,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var fields=this.getFields().items,fLen=fields.length,f;for(f=0;f<fLen;f++)fields[f].clearInvalid();Ext.resumeLayouts(!0);return this},reset:function(resetRecord){Ext.suspendLayouts();var fields=this.getFields().items,
fLen=fields.length,f;for(f=0;f<fLen;f++)fields[f].reset();Ext.resumeLayouts(!0);!0===resetRecord&&delete this._record;return this},applyToFields:function(obj){var fields=this.getFields().items,f,fLen=fields.length;for(f=0;f<fLen;f++)Ext.apply(fields[f],obj);return this},applyIfToFields:function(obj){var fields=this.getFields().items,f,fLen=fields.length;for(f=0;f<fLen;f++)Ext.applyIf(fields[f],obj);return this}},1,0,0,0,0,0,[Ext.form,'Basic',Ext.form,'BasicForm'],0);
Ext.cmd.derive('Ext.layout.component.field.FieldContainer',Ext.layout.component.Auto,{type:'fieldcontainer',waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(ownerContext){var containerEl=this.owner.containerEl;Ext.layout.component.Auto.prototype.beginLayout.call(this,ownerContext);ownerContext.hasRawContent=!0;containerEl.setStyle('width','');containerEl.setStyle('height','');ownerContext.containerElContext=ownerContext.getEl('containerEl')},calculateOwnerHeightFromContentHeight:function(ownerContext,
contentHeight){return Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.call(this,ownerContext,contentHeight)+this.getHeightAdjustment()},calculateOwnerWidthFromContentWidth:function(ownerContext,contentWidth){return Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.call(this,ownerContext,contentWidth)+this.getWidthAdjustment()},measureContentHeight:function(ownerContext){return ownerContext.hasDomProp('containerLayoutDone')?Ext.layout.component.Auto.prototype.measureContentHeight.call(this,
ownerContext)-this.getHeightAdjustment():NaN},measureContentWidth:function(ownerContext){return ownerContext.hasDomProp('containerLayoutDone')?Ext.layout.component.Auto.prototype.measureContentWidth.call(this,ownerContext)-this.getWidthAdjustment():NaN},publishInnerHeight:function(ownerContext,height){height-=this.getHeightAdjustment();ownerContext.containerElContext.setHeight(height)},publishInnerWidth:function(ownerContext,width){width-=this.getWidthAdjustment();ownerContext.containerElContext.setWidth(width)},
privates:{getHeightAdjustment:function(){var owner=this.owner,h=0;'top'===owner.labelAlign&&owner.hasVisibleLabel()&&(h+=owner.labelEl.getHeight());'under'===owner.msgTarget&&owner.hasActiveError()&&(h+=owner.errorWrapEl.getHeight());return h+owner.bodyEl.getPadding('tb')},getWidthAdjustment:function(){var owner=this.owner,w=0;'top'!==owner.labelAlign&&owner.hasVisibleLabel()&&(w+=owner.labelWidth+(owner.labelPad||0));'side'===owner.msgTarget&&owner.hasActiveError()&&(w+=owner.errorWrapEl.getWidth());
return w+owner.bodyEl.getPadding('lr')}}},0,0,0,0,['layout.fieldcontainer'],0,[Ext.layout.component.field,'FieldContainer'],0);
Ext.cmd.derive('Ext.form.FieldAncestor',Ext.Mixin,{mixinConfig:{id:'fieldAncestor',after:{initInheritedState:'initFieldInheritedState'},before:{doDestroy:'onBeforeDestroy'}},initFieldAncestor:function(){this.monitor=new Ext.container.Monitor({scope:this,selector:'[isFormField]:not([excludeForm])',addHandler:this.onChildFieldAdd,removeHandler:this.onChildFieldRemove});this.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(inheritedState){var inheritedFieldDefaults=
inheritedState.fieldDefaults,fieldDefaults=this.fieldDefaults;fieldDefaults&&(inheritedState.fieldDefaults=inheritedFieldDefaults?Ext.apply(Ext.Object.chain(inheritedFieldDefaults),fieldDefaults):fieldDefaults)},onChildFieldAdd:function(field){this.mon(field,'errorchange',this.handleFieldErrorChange,this);this.mon(field,'validitychange',this.handleFieldValidityChange,this)},onChildFieldRemove:function(field){this.mun(field,'errorchange',this.handleFieldErrorChange,this);this.mun(field,'validitychange',
this.handleFieldValidityChange,this)},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},handleFieldValidityChange:function(field,isValid){field!==this&&(this.fireEvent('fieldvaliditychange',this,field,isValid),this.onFieldValidityChange(field,isValid))},handleFieldErrorChange:function(labelable,activeError){labelable!==this&&(this.fireEvent('fielderrorchange',this,labelable,activeError),this.onFieldErrorChange(labelable,activeError))},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,
onBeforeDestroy:function(){this.monitor=Ext.destroy(this.monitor)}},0,0,0,0,0,0,[Ext.form,'FieldAncestor'],0);
Ext.cmd.derive('Ext.form.FieldContainer',Ext.container.Container,{componentLayout:'fieldcontainer',componentCls:'x-form-fieldcontainer',shrinkWrap:!0,autoEl:{tag:'div',role:'presentation'},childEls:['containerEl'],combineLabels:!1,labelConnector:', ',combineErrors:!1,maskOnDisable:!1,invalidCls:'',fieldSubTpl:'\x3cdiv id\x3d"{id}-containerEl" data-ref\x3d"containerEl" class\x3d"{containerElCls}";\x3ctpl if\x3d"ariaAttributes"\x3e;\x3ctpl foreach\x3d"ariaAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e;\x3ctpl else\x3e; role\x3d"presentation";\x3c/tpl\x3e;\x3e;{%this.renderContainer(out,values)%};\x3c/div\x3e'.split(';'),initComponent:function(){this.initLabelable();
this.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);this.initMonitor()},onAdd:function(labelItem){labelItem.isLabelable&&Ext.isGecko&&37>Ext.firefoxVersion&&'absolute'===this.layout.type&&!this.hideLabel&&'top'!==this.labelAlign&&(labelItem.x+=this.labelWidth+this.labelPad);Ext.container.Container.prototype.onAdd.apply(this,arguments);labelItem.isLabelable&&this.combineLabels&&(labelItem.oldHideLabel=labelItem.hideLabel,labelItem.hideLabel=!0);this.updateLabel()},onRemove:function(labelItem,
isDestroying){Ext.container.Container.prototype.onRemove.apply(this,arguments);isDestroying||(labelItem.isLabelable&&this.combineLabels&&(labelItem.hideLabel=labelItem.oldHideLabel),this.updateLabel())},initRenderData:function(){var data=Ext.container.Container.prototype.initRenderData.call(this);data.containerElCls=this.containerElCls;data=Ext.applyIf(data,this.getLabelableRenderData());if('top'===this.labelAlign||'under'===this.msgTarget)data.extraFieldBodyCls+=' x-field-container-body-vertical';
data.tipAnchorTarget=this.id+'-containerEl';return data},getFieldLabel:function(){var label=this.fieldLabel||'';!label&&this.combineLabels&&(label=Ext.Array.map(this.query('[isFieldLabelable]'),function(field){return field.getFieldLabel()}).join(this.labelConnector));return label},getSubTplData:function(){var ret=this.initRenderData();Ext.apply(ret,this.subTplData);return ret},getSubTplMarkup:function(fieldData){var tpl=this.lookupTpl('fieldSubTpl');tpl.renderContent||this.setupRenderTpl(tpl);return tpl.apply(this.getSubTplData(fieldData))},
updateLabel:function(){this.labelEl&&this.setFieldLabel(this.getFieldLabel())},onFieldErrorChange:function(){if(this.combineErrors){var oldError=this.getActiveError(),invalidFields=Ext.Array.filter(this.query('[isFormField]'),function(field){return field.hasActiveError()});(invalidFields=this.getCombinedErrors(invalidFields))?this.setActiveErrors(invalidFields):this.unsetActiveError();oldError!==this.getActiveError()&&this.updateLayout()}},getCombinedErrors:function(invalidFields){var errors=[],fLen=
invalidFields.length,f,a;for(f=0;f<fLen;f++){var field=invalidFields[f];var activeErrors=field.getActiveErrors();var aLen=activeErrors.length;for(a=0;a<aLen;a++){var error=activeErrors[a];var label=field.getFieldLabel();errors.push((label?label+': ':'')+error)}}return errors},privates:{applyTargetCls:function(targetCls){var containerElCls=this.containerElCls;this.containerElCls=containerElCls?containerElCls+' '+targetCls:targetCls},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){this.hasOwnProperty('renderTpl')||
(this.renderTpl=this.lookupTpl('labelableRenderTpl'));return Ext.container.Container.prototype.initRenderTpl.call(this)}}},0,['fieldcontainer'],['component','box','container','fieldcontainer'],{component:!0,box:!0,container:!0,fieldcontainer:!0},['widget.fieldcontainer'],[['labelable',Ext.form.Labelable],['fieldAncestor',Ext.form.FieldAncestor]],[Ext.form,'FieldContainer'],0);
Ext.cmd.derive('Ext.form.CheckboxManager',Ext.util.MixedCollection,{singleton:!0,getByName:function(name,formId){return this.filterBy(function(item){return item.name===name&&item.getFormId()===formId})}},0,0,0,0,0,0,[Ext.form,'CheckboxManager'],0);
Ext.cmd.derive('Ext.form.field.Checkbox',Ext.form.field.Base,{alternateClassName:'Ext.form.Checkbox',modelValue:!0,modelValueUnchecked:!1,stretchInputElFixed:!1,childEls:['boxLabelEl','innerWrapEl','displayEl'],fieldSubTpl:['\x3cdiv id\x3d"{cmpId}-innerWrapEl" data-ref\x3d"innerWrapEl" role\x3d"presentation"',' class\x3d"{wrapInnerCls}"\x3e','\x3ctpl if\x3d"labelAlignedBefore"\x3e','{beforeBoxLabelTpl}','\x3clabel id\x3d"{cmpId}-boxLabelEl" data-ref\x3d"boxLabelEl" {boxLabelAttrTpl} class\x3d"{boxLabelCls} ',
'{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for\x3d"{id}"\x3e','{beforeBoxLabelTextTpl}','{boxLabel}','{afterBoxLabelTextTpl}','\x3c/label\x3e','{afterBoxLabelTpl}','\x3c/tpl\x3e','\x3cspan id\x3d"{cmpId}-displayEl" data-ref\x3d"displayEl" role\x3d"presentation" class\x3d"{fieldCls} {typeCls} ','{typeCls}-{ui} {inputCls} {inputCls}-{ui} {fixCls} {childElCls} {afterLabelCls}"\x3e','\x3cinput type\x3d"{inputType}" id\x3d"{id}" name\x3d"{inputName}" data-ref\x3d"inputEl" {inputAttrTpl}',
'\x3ctpl if\x3d"tabIdx !\x3d null"\x3e tabindex\x3d"{tabIdx}"\x3c/tpl\x3e','\x3ctpl if\x3d"disabled"\x3e disabled\x3d"disabled"\x3c/tpl\x3e','\x3ctpl if\x3d"checked"\x3e checked\x3d"checked"\x3c/tpl\x3e','\x3ctpl if\x3d"fieldStyle"\x3e style\x3d"{fieldStyle}"\x3c/tpl\x3e',' class\x3d"{checkboxCls}" autocomplete\x3d"off" hidefocus\x3d"true" ','\x3ctpl foreach\x3d"ariaElAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e','\x3ctpl foreach\x3d"inputElAriaAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e','/\x3e','\x3c/span\x3e',
'\x3ctpl if\x3d"!labelAlignedBefore"\x3e','{beforeBoxLabelTpl}','\x3clabel id\x3d"{cmpId}-boxLabelEl" data-ref\x3d"boxLabelEl" {boxLabelAttrTpl} class\x3d"{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for\x3d"{id}"\x3e','{beforeBoxLabelTextTpl}','{boxLabel}','{afterBoxLabelTextTpl}','\x3c/label\x3e','{afterBoxLabelTpl}','\x3c/tpl\x3e','\x3c/div\x3e',{disableFormats:!0,compiled:!0}],publishes:{checked:1},subTplInsertions:'beforeBoxLabelTpl afterBoxLabelTpl beforeBoxLabelTextTpl afterBoxLabelTextTpl boxLabelAttrTpl inputAttrTpl'.split(' '),
isCheckbox:!0,focusCls:'form-checkbox-focus',fieldBodyCls:'x-form-cb-wrap',checked:!1,checkedCls:'x-form-cb-checked',boxLabelCls:'x-form-cb-label',boxLabelAlign:'after',afterLabelCls:'x-form-cb-after',wrapInnerCls:'x-form-cb-wrap-inner',noBoxLabelCls:'x-form-cb-no-box-label',inputValue:'on',checkChangeEvents:[],changeEventName:'change',inputType:'checkbox',isTextInput:!1,ariaRole:'native',onRe:/^on$/i,inputCls:'x-form-cb',_checkboxCls:'x-form-cb-input',initComponent:function(){var value=this.value;
void 0!==value&&(this.checked=this.isChecked(value,this.inputValue));Ext.form.field.Base.prototype.initComponent.call(this);this.getManager().add(this)},initDefaultName:Ext.emptyFn,initValue:function(){var checked=!!this.checked;this.originalValue=this.initialValue=this.lastValue=checked;this.setValue(checked)},getElConfig:function(){this.isChecked(this.rawValue,this.inputValue)&&this.addCls(this.checkedCls);this.fieldLabel||(this.skipLabelForAttribute=!0);return Ext.form.field.Base.prototype.getElConfig.call(this)},
getModelData:function(){var o=Ext.form.field.Base.prototype.getModelData.apply(this,arguments);o&&(o[this.getName()]=this.checked?this.modelValue:this.modelValueUnchecked);return o},getSubTplData:function(fieldData){var boxLabel=this.boxLabel,boxLabelAlign=this.boxLabelAlign,labelAlignedBefore='before'===boxLabelAlign;fieldData=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,fieldData),{inputType:this.inputType,checkboxCls:this._checkboxCls,disabled:this.readOnly||this.disabled,checked:!!this.checked,
wrapInnerCls:this.wrapInnerCls,boxLabel,boxLabelCls:this.boxLabelCls,boxLabelAlign,labelAlignedBefore,afterLabelCls:labelAlignedBefore?this.afterLabelCls:'',noBoxLabelCls:boxLabel?'':this.noBoxLabelCls,inputName:this.name||this.id});(boxLabel=fieldData.inputElAriaAttributes)&&delete boxLabel['aria-readonly'];return fieldData},initEvents:function(){Ext.form.field.Base.prototype.initEvents.call(this);this.inputEl.on(this.changeEventName,this.onChangeEvent,this,{delegated:!1});if(Ext.isIE)this.bodyEl.on('mousedown',
this.onBodyElMousedown,this);else Ext.isMac&&(Ext.isGecko||Ext.isSafari)&&(this.boxLabelEl.on('mousedown',this.onBoxLabelOrInputMousedown,this),this.inputEl.on('mousedown',this.onBoxLabelOrInputMousedown,this))},setBoxLabel:function(boxLabel){this.boxLabel=boxLabel;this.rendered&&(this.boxLabelEl.setHtml(boxLabel),this.boxLabelEl[boxLabel?'removeCls':'addCls'](this.noBoxLabelCls),this.updateLayout())},onBodyElMousedown:function(e){e.target!==this.inputEl.dom&&e.preventDefault()},onBoxLabelOrInputMousedown:function(e){this.inputEl.focus();
e.preventDefault()},onChangeEvent:function(e){this.updateValueFromDom()},updateValueFromDom:function(){var inputEl=this.inputEl&&this.inputEl.dom;inputEl&&(this.checked=this.rawValue=this.value=inputEl.checked,this.checkChange())},updateCheckedCls:function(checked){checked=null!=checked?checked:this.getValue();this[checked?'addCls':'removeCls'](this.checkedCls)},getRawValue:function(){var inputEl=this.inputEl&&this.inputEl.dom;return inputEl?inputEl.checked:this.checked},getValue:function(){var inputEl=
this.inputEl&&this.inputEl.dom;return inputEl?inputEl.checked:this.checked},getSubmitValue:function(){var unchecked=this.uncheckedValue;unchecked=Ext.isDefined(unchecked)?unchecked:null;return this.getValue()?this.inputValue:unchecked},isChecked:function(rawValue,inputValue){return!0===rawValue||'true'===rawValue?!0:'on'===inputValue||!inputValue&&0!==inputValue||!Ext.isString(rawValue)&&!Ext.isNumber(rawValue)?'1'===rawValue||1===rawValue||this.onRe.test(rawValue):rawValue==inputValue},setRawValue:function(value){var inputEl=
this.inputEl&&this.inputEl.dom;value=this.isChecked(value,this.inputValue);inputEl&&(this.duringSetRawValue=!0,inputEl.checked=value,this.duringSetRawValue=!1,this.updateCheckedCls(value));this.checked=this.rawValue=value;this.duringSetValue||(this.lastValue=value);return value},setValue:function(checked){var i;if(Ext.isArray(checked)){var boxes=this.getManager().getByName(this.name,this.getFormId()).items;var len=boxes.length;for(i=0;i<len;++i){var box=boxes[i];box.setValue(Ext.Array.contains(checked,
box.inputValue))}}else this.duringSetValue=!0,Ext.form.field.Base.prototype.setValue.apply(this,arguments),delete this.duringSetValue;return this},valueToRaw:Ext.identityFn,onChange:function(newVal,oldVal){var handler=this.handler;this.updateCheckedCls(newVal);handler&&Ext.callback(handler,this.scope,[this,newVal],0,this);Ext.form.field.Base.prototype.onChange.apply(this,arguments);this.reference&&this.publishState&&this.publishState('checked',newVal)},resetOriginalValue:function(fromBoxInGroup){var i;
if(!fromBoxInGroup){fromBoxInGroup=this.getManager().getByName(this.name,this.getFormId()).items;var len=fromBoxInGroup.length;for(i=0;i<len;++i){var box=fromBoxInGroup[i];box!==this&&fromBoxInGroup[i].resetOriginalValue(!0)}}Ext.form.field.Base.prototype.resetOriginalValue.call(this)},doDestroy:function(){this.getManager().removeAtKey(this.id);Ext.form.field.Base.prototype.doDestroy.call(this)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var inputEl=this.inputEl&&this.inputEl.dom;
Ext.form.field.Base.prototype.onEnable.call(this);inputEl&&(inputEl.disabled=this.readOnly)},setReadOnly:function(readOnly){var inputEl=this.inputEl&&this.inputEl.dom;inputEl&&(inputEl.disabled=!!readOnly||this.disabled);Ext.form.field.Base.prototype.setReadOnly.apply(this,arguments)},getFormId:function(){var form;!this.formId&&(form=this.up('form'))&&(this.formId=form.id);return this.formId},getFocusClsEl:function(){return this.displayEl}},0,['checkbox','checkboxfield'],['component','box','field',
'checkboxfield','checkbox'],{component:!0,box:!0,field:!0,checkboxfield:!0,checkbox:!0},['widget.checkbox','widget.checkboxfield'],0,[Ext.form.field,'Checkbox',Ext.form,'Checkbox'],0);
Ext.define('Ext.theme.triton.form.field.Checkbox',{override:'Ext.form.field.Checkbox',compatibility:Ext.isIE8,initComponent:function(){(arguments.callee.$previous||Ext.form.field.Base.prototype.initComponent).call(this);Ext.on({show:'onGlobalShow',scope:this})},onFocus:function(e){var focusClsEl;(arguments.callee.$previous||Ext.form.field.Base.prototype.onFocus).call(this,e);(focusClsEl=this.getFocusClsEl())&&focusClsEl.syncRepaint()},onBlur:function(e){var focusClsEl;(arguments.callee.$previous||
Ext.form.field.Base.prototype.onBlur).call(this,e);(focusClsEl=this.getFocusClsEl())&&focusClsEl.syncRepaint()},onGlobalShow:function(cmp){cmp.isAncestor(this)&&this.getFocusClsEl().syncRepaint()}});Ext.define('Ext.theme.material.form.field.Checkbox',{override:'Ext.form.field.Checkbox',ripple:{delegate:'.x-form-checkbox',bound:!1}});
Ext.cmd.derive('Ext.form.FieldSet',Ext.container.Container,{checkboxUI:'default',collapsed:!1,toggleOnTitleClick:!0,baseCls:'x-fieldset',layout:'anchor',descriptionText:'{0} field set',expandText:'Expand field set',componentLayout:'fieldset',ariaRole:'group',focusable:!1,autoEl:'fieldset',checkbox:null,childEls:['body'],renderTpl:['{%this.renderLegend(out,values);%}','\x3cdiv id\x3d"{id}-body" data-ref\x3d"body" class\x3d"{baseCls}-body {baseCls}-body-{ui} {bodyTargetCls}" ','role\x3d"presentation"\x3ctpl if\x3d"bodyStyle"\x3e style\x3d"{bodyStyle}"\x3c/tpl\x3e\x3e',
'{%this.renderContainer(out,values);%}','\x3c/div\x3e'],stateEvents:['collapse','expand'],maskOnDisable:!1,initComponent:function(){var baseCls=this.baseCls;this.ariaRole&&!this.ariaLabel&&(this.ariaLabel=Ext.String.formatEncode(this.descriptionText,this.title||''));this.ariaRenderAttributes=this.ariaRenderAttributes||{};this.ariaRenderAttributes['aria-expanded']=!this.collapsed;this.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);this.layout.managePadding=this.layout.manageOverflow=
!1;this.collapsed&&(this.addCls(baseCls+'-collapsed'),this.collapse());if(this.title||this.checkboxToggle||this.collapsible)this.addTitleClasses(),this.legend=this.createLegendCt();this.initMonitor()},initRenderData:function(){var data=Ext.container.Container.prototype.initRenderData.call(this);data.bodyTargetCls=this.bodyTargetCls;this.protoBody.writeTo(data);delete this.protoBody;return data},doDestroy:function(){var legend=this.legend;legend&&(delete legend.ownerCt,legend.destroy(),this.legend=
null);Ext.container.Container.prototype.doDestroy.call(this)},getState:function(){var state=Ext.container.Container.prototype.getState.call(this);return state=this.addPropertyToState(state,'collapsed')},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var items=[],legendCfg={baseCls:this.baseCls+'-header',layout:'container',ui:this.ui,id:this.id+'-legend',autoEl:'legend',ariaRole:null,items,
ownerCt:this,shrinkWrap:!0,ownerLayout:this.componentLayout};this.checkboxToggle?items.push(this.createCheckboxCmp()):this.collapsible&&items.push(this.createToggleCmp());items.push(this.createTitleCmp());return new Ext.container.Container(legendCfg)},createTitleCmp:function(){var cfg={html:this.title,ui:this.ui,cls:this.baseCls+'-header-text',id:this.id+'-legendTitle',ariaRole:'presentation'};this.collapsible&&this.toggleOnTitleClick&&(cfg.listeners={click:{element:'el',scope:this,fn:this.toggle}},
cfg.cls+=' '+this.baseCls+'-header-text-collapsible');return this.titleCmp=new Ext.Component(cfg)},createCheckboxCmp:function(){var cls=this.baseCls+'-header-checkbox';cls+=' '+cls+'-'+this.ui;return this.checkboxCmp=cls=new Ext.form.field.Checkbox(Ext.apply({hideEmptyLabel:!0,name:this.checkboxName||this.id+'-checkbox',cls,id:this.id+'-legendChk',ui:this.checkboxUI,checked:!this.collapsed,msgTarget:'none',listeners:{change:this.onCheckChange,scope:this},ariaLabel:this.expandText},this.checkbox))},
createToggleCmp:function(){var toggleCmp;return this.toggleCmp=toggleCmp=new Ext.panel.Tool({cacheHeight:!1,cls:this.baseCls+'-header-tool-'+this.ui,type:'toggle',handler:this.toggle,id:this.id+'-legendToggle',scope:this,ariaRole:'checkbox',ariaLabel:this.expandText,ariaRenderAttributes:{'aria-checked':!this.collapsed}})},doRenderLegend:function(out,renderData){renderData=renderData.$comp;var legend=renderData.legend;legend&&(legend.ownerLayout.configureItem(legend),renderData.setLegendCollapseImmunity(legend),
renderData=legend.getRenderTree(),Ext.DomHelper.generateMarkup(renderData,out))},getCollapsed:function(){return this.collapsed?'top':!1},getCollapsedDockedItems:function(){var legend=this.legend;return legend?[legend]:[]},setTitle:function(title){var legend=this.legend;this.title=title;this.ariaLabel=Ext.String.formatEncode(this.descriptionText,title||'');this.rendered?(legend||(this.legend=legend=this.createLegendCt(),this.addTitleClasses(),legend.ownerLayout.configureItem(legend),this.setLegendCollapseImmunity(legend),
legend.render(this.el,0)),this.titleCmp.update(title),this.ariaEl.dom.setAttribute('aria-label',this.ariaLabel)):legend?this.titleCmp.update(title):(this.addTitleClasses(),this.legend=this.createLegendCt());return this},addTitleClasses:function(){var title=this.title,baseCls=this.baseCls;title&&this.addCls(baseCls+'-with-title');(title||this.checkboxToggle||this.collapsible)&&this.addCls(baseCls+'-with-legend')},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},
setCollapsed:function(collapsed){this.setExpanded(!collapsed)},setExpanded:function(expanded){var checkboxCmp=this.checkboxCmp,toggleCmp=this.toggleCmp,operation=expanded?'expand':'collapse';this.rendered&&!1===this.fireEvent('before'+operation,this)||(expanded=!!expanded,checkboxCmp?checkboxCmp.setValue(expanded):toggleCmp&&toggleCmp.ariaEl.dom&&toggleCmp.ariaEl.dom.setAttribute('aria-checked',expanded),expanded?this.removeCls(this.baseCls+'-collapsed'):this.addCls(this.baseCls+'-collapsed'),this.ariaEl.dom&&
this.ariaEl.dom.setAttribute('aria-expanded',!!expanded),this.collapsed=!expanded,expanded?delete this.getInherited().collapsed:this.getInherited().collapsed=!0,this.rendered&&(this.updateLayout({isRoot:!1}),this.fireEvent(operation,this)));return this},getRefItems:function(deep){var refItems=Ext.container.Container.prototype.getRefItems.apply(this,arguments),legend=this.legend;legend&&(refItems.unshift(legend),deep&&refItems.unshift.apply(refItems,legend.getRefItems(!0)));return refItems},toggle:function(){this.setExpanded(!!this.collapsed)},
privates:{applyTargetCls:function(targetCls){this.bodyTargetCls=targetCls},finishRender:function(){var legend=this.legend;Ext.container.Container.prototype.finishRender.call(this);legend&&legend.finishRender()},getProtoBody:function(){var body=this.protoBody;body||(this.protoBody=body=new Ext.util.ProtoElement({styleProp:'bodyStyle',styleIsText:!0}));return body},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},initPadding:function(targetEl){var body=
this.getProtoBody(),padding=this.padding;if(void 0!==padding){if(Ext.isIE8){padding=this.parseBox(padding);var bodyPadding=Ext.Element.parseBox(0);bodyPadding.top=padding.top;padding.top=0;body.setStyle('padding',this.unitizeBox(bodyPadding))}targetEl.setStyle('padding',this.unitizeBox(padding))}},onCheckChange:function(cmp,checked){this.setExpanded(checked)},setLegendCollapseImmunity:function(legend){legend.collapseImmune=!0;legend.getInherited().collapseImmune=!0},setupRenderTpl:function(renderTpl){Ext.container.Container.prototype.setupRenderTpl.apply(this,
arguments);renderTpl.renderLegend=this.doRenderLegend}}},0,['fieldset'],['component','box','container','fieldset'],{component:!0,box:!0,container:!0,fieldset:!0},['widget.fieldset'],[['fieldAncestor',Ext.form.FieldAncestor]],[Ext.form,'FieldSet'],0);
Ext.cmd.derive('Ext.form.Label',Ext.Component,{autoEl:'label',maskOnDisable:!1,getElConfig:function(){this.html=this.text?Ext.util.Format.htmlEncode(this.text):this.html||'';return Ext.apply(Ext.Component.prototype.getElConfig.call(this),{htmlFor:this.forId||''})},setText:function(text,encode){(encode=!1!==encode)?(this.text=text,delete this.html):(this.html=text,delete this.text);this.rendered&&(this.el.dom.innerHTML=!1!==encode?Ext.util.Format.htmlEncode(text):text,this.updateLayout());return this}},
0,['label'],['component','box','label'],{component:!0,box:!0,label:!0},['widget.label'],0,[Ext.form,'Label'],0);
Ext.cmd.derive('Ext.form.Panel',Ext.panel.Panel,{alternateClassName:['Ext.FormPanel','Ext.form.FormPanel'],layout:'anchor',bodyAriaRole:'form',basicFormConfigs:'api baseParams errorReader jsonSubmit method paramOrder paramsAsHash reader standardSubmit timeout trackResetOnLoad url waitMsgTarget waitTitle'.split(' '),initComponent:function(){this.frame&&(this.border=!1);this.initFieldAncestor();Ext.panel.Panel.prototype.initComponent.call(this);this.relayEvents(this.form,['beforeaction','actionfailed',
'actioncomplete','validitychange','dirtychange']);this.pollForChanges&&this.startPolling(this.pollInterval||500)},initItems:function(){Ext.panel.Panel.prototype.initItems.call(this);this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){Ext.panel.Panel.prototype.afterFirstLayout.apply(this,arguments);this.form.initialize()},createForm:function(){for(var cfg={},props=this.basicFormConfigs,len=props.length,i=0,prop;i<len;++i)prop=props[i],cfg[prop]=this[prop];return new Ext.form.Basic(this,
cfg)},getForm:function(){return this.form},loadRecord:function(record){return this.getForm().loadRecord(record)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(record){return this.getForm().updateRecord(record)},getValues:function(asString,dirtyOnly,includeEmptyText,useDataValues){return this.getForm().getValues(asString,dirtyOnly,includeEmptyText,useDataValues)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(resetRecord){return this.form.reset(resetRecord)},
hasInvalidField:function(){return this.form.hasInvalidField()},doDestroy:function(){this.stopPolling();this.form.destroy();Ext.panel.Panel.prototype.doDestroy.call(this)},load:function(options){this.form.load(options)},submit:function(options){this.form.submit(options)},startPolling:function(interval){this.stopPolling();this.pollTask=Ext.util.TaskManager.start({interval,run:this.checkChange,scope:this})},stopPolling:function(){var task=this.pollTask;task&&(Ext.util.TaskManager.stop(task,!0),this.pollTask=
null)},checkChange:function(){var fields=this.form.getFields().items,f,fLen=fields.length;for(f=0;f<fLen;f++)fields[f].checkChange()}},0,['form'],['component','box','container','panel','form'],{component:!0,box:!0,container:!0,panel:!0,form:!0},['widget.form'],[['fieldAncestor',Ext.form.FieldAncestor]],[Ext.form,'Panel',Ext,'FormPanel',Ext.form,'FormPanel'],0);
Ext.cmd.derive('Ext.form.field.Picker',Ext.form.field.Text,{alternateClassName:'Ext.form.Picker',config:{triggers:{picker:{handler:'onTriggerClick',scope:'this',focusOnMousedown:!0}}},renderConfig:{editable:!0},keyMap:{scope:'this',DOWN:'onDownArrow',ESC:'onEsc'},keyMapTarget:'inputEl',isPickerField:!0,matchFieldWidth:!0,pickerAlign:'tl-bl?',openCls:'x-pickerfield-open',isExpanded:!1,applyTriggers:function(triggers){var picker=triggers.picker;picker.cls||(picker.cls=this.triggerCls);return Ext.form.field.Text.prototype.applyTriggers.call(this,
triggers)},getSubTplData:function(fieldData){var ariaAttr;fieldData=Ext.form.field.Text.prototype.getSubTplData.call(this,fieldData);!this.ariaStaticRoles[this.ariaRole]&&(ariaAttr=fieldData.ariaElAttributes)&&(ariaAttr['aria-haspopup']=!0,ariaAttr['aria-expanded']=!1);return fieldData},initEvents:function(){Ext.form.field.Text.prototype.initEvents.call(this);Ext.isGecko&&this.inputEl.dom.setAttribute('autocomplete','off')},updateEditable:function(editable,oldEditable){if(editable)this.inputEl.un('click',
this.onInputElClick,this);else this.inputEl.on('click',this.onInputElClick,this);Ext.form.field.Text.prototype.updateEditable.call(this,editable,oldEditable)},onEsc:function(e){Ext.isIE&&e.preventDefault();this.isExpanded&&(this.collapse(),e.stopEvent())},onDownArrow:function(e){150<e.time-this.lastDownArrow&&delete this.lastDownArrow;this.isExpanded?!e.stopped&&150>e.time-this.lastDownArrow&&delete this.lastDownArrow:(e.stopEvent(),this.onTriggerClick(this,this.getPickerTrigger(),e),this.lastDownArrow=
e.time)},expand:function(){if(this.rendered&&!this.isExpanded&&!this.destroyed){var bodyEl=this.bodyEl;var picker=this.getPicker();var doc=Ext.getDoc();picker.setMaxHeight(picker.initialConfig.maxHeight);this.matchFieldWidth&&picker.setWidth(this.bodyEl.getWidth());picker.show();this.isExpanded=!0;this.alignPicker();bodyEl.addCls(this.openCls);this.ariaStaticRoles[this.ariaRole]||(this.ariaEl.dom.hasAttribute('aria-owns')||this.ariaEl.dom.setAttribute('aria-owns',picker.listEl?picker.listEl.id:picker.el.id),
this.ariaEl.dom.setAttribute('aria-expanded',!0));this.touchListeners=doc.on({translate:!1,touchstart:this.collapseIf,scope:this,delegated:!1,destroyable:!0});this.scrollListeners=Ext.on({scroll:this.onGlobalScroll,scope:this,destroyable:!0});Ext.on('resize',this.alignPicker,this,{buffer:1});this.fireEvent('expand',this);this.onExpand()}},onExpand:Ext.emptyFn,alignPicker:function(){if(this.rendered&&!this.destroyed){var picker=this.getPicker();picker.isVisible()&&picker.isFloating()&&this.doAlign()}},
doAlign:function(){var picker=this.picker;picker.el.alignTo(this.triggerWrap,this.pickerAlign,this.pickerOffset);var newPos=picker.floatParent?picker.getOffsetsTo(picker.floatParent.getTargetEl()):picker.getXY();picker.x=newPos[0];picker.y=newPos[1];newPos=picker.el.getY()<this.inputEl.getY();this.bodyEl[newPos?'addCls':'removeCls'](this.openCls+'-above');picker[newPos?'addCls':'removeCls'](picker.baseCls+'-above')},collapse:function(){var openCls=this.openCls;if(this.isExpanded&&!this.destroyed&&
!this.destroying){var picker=this.picker;picker.hide();this.isExpanded=!1;this.bodyEl.removeCls([openCls,openCls+'-above']);picker.el.removeCls(picker.baseCls+'-above');this.ariaStaticRoles[this.ariaRole]||this.ariaEl.dom.setAttribute('aria-expanded',!1);this.touchListeners.destroy();this.scrollListeners.destroy();Ext.un('resize',this.alignPicker,this);this.fireEvent('collapse',this);this.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(e){this.destroyed||e.within(this.bodyEl,!1,!0)||this.owns(e.target)||
Ext.fly(e.target).isFocusable()||this.collapse()},getPicker:function(){var picker=this.picker;picker||(this.creatingPicker=!0,this.picker=picker=this.createPicker(),picker.ownerCmp=this,delete this.creatingPicker);return this.picker},onFocusLeave:function(e){this.collapse();Ext.form.field.Text.prototype.onFocusLeave.call(this,e)},getRefItems:function(){var result=[];this.picker&&(result[0]=this.picker);return result},getPickerTrigger:function(){return this.triggers&&this.triggers.picker},createPicker:Ext.emptyFn,
onInputElClick:function(e){this.onTriggerClick(this,this.getPickerTrigger(),e)},onTriggerClick:function(field,trigger,e){this.readOnly||this.disabled||(this.isExpanded?this.collapse():this.expand())},doDestroy:function(){var picker=this.picker;Ext.un('resize',this.alignPicker,this);Ext.destroy(this.keyNav,picker);picker&&(this.picker=picker.pickerField=null);Ext.form.field.Text.prototype.doDestroy.call(this)},privates:{onGlobalScroll:function(scroller){scroller=scroller.getElement();!this.picker.owns(scroller)&&
scroller.isAncestor(this.el)&&this.collapse()}}},0,['pickerfield'],['component','box','field','textfield','pickerfield'],{component:!0,box:!0,field:!0,textfield:!0,pickerfield:!0},['widget.pickerfield'],0,[Ext.form.field,'Picker',Ext.form,'Picker'],0);
Ext.cmd.derive('Ext.selection.Model',Ext.mixin.Observable,{alternateClassName:'Ext.AbstractSelectionModel',factoryConfig:{defaultType:'dataviewmodel'},$configPrefixed:!1,$configStrict:!1,config:{store:null,selected:{}},isSelectionModel:!0,allowDeselect:void 0,toggleOnClick:!0,ordered:!1,selected:null,pruneRemoved:!0,suspendChange:0,ignoreRightMouseSelection:!1,constructor:function(cfg){this.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0};Ext.mixin.Observable.prototype.constructor.call(this,cfg);this.setSelectionMode(this.mode);
'SINGLE'!==this.selectionMode&&(this.allowDeselect=!0)},updateStore:function(store,oldStore){this.bindStore(store,!oldStore)},applySelected:function(selected){selected.isBag||selected.isCollection||(selected=new Ext.util[this.ordered?'Collection':'Bag'](Ext.apply({rootProperty:'data'},selected)));return selected},getStoreListeners:function(){return{add:this.onStoreAdd,clear:this.onStoreClear,remove:this.onStoreRemove,update:this.onStoreUpdate,idchanged:this.onIdChanged,load:this.onStoreLoad,refresh:{fn:this.onStoreRefresh,
priority:2E3},pageadd:this.onPageAdd,pageremove:this.onPageRemove}},onBindStore:function(store,oldStore,initial){initial||this.updateSelectedInstances(this.selected)},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){this.suspendChange&&--this.suspendChange},selectAll:function(suppressEvent){var selections=this.store.getRange(),start=this.getSelection().length;this.suspendChanges();this.doSelect(selections,!0,suppressEvent);this.destroyed||(this.resumeChanges(),suppressEvent||
this.maybeFireSelectionChange(this.getSelection().length!==start))},deselectAll:function(suppressEvent){var selections=this.getSelection(),selIndexes={},store=this.store,start=selections.length,l;var i=0;for(l=selections.length;i<l;i++){var rec=selections[i];selIndexes[rec.id]=store.indexOf(rec)}selections=Ext.Array.sort(selections,function(r1,r2){return selIndexes[r1.id]<selIndexes[r2.id]?-1:1});this.suspendChanges();this.doDeselect(selections,suppressEvent);this.destroyed||(this.resumeChanges(),
suppressEvent||this.maybeFireSelectionChange(this.getSelection().length!==start))},getSelectionStart:function(){return this.selectionStart},setSelectionStart:function(selection){this.selectionStart=selection},selectWithEvent:function(record,e){var isSelected=this.isSelected(record),shift=e.shiftKey;switch(this.selectionMode){case 'MULTI':this.selectWithEventMulti(record,e,isSelected);break;case 'SIMPLE':this.selectWithEventSimple(record,e,isSelected);break;case 'SINGLE':this.selectWithEventSingle(record,
e,isSelected)}this.destroyed||shift||(this.isSelected(record)?this.selectionStart=record:this.selectionStart=null)},vetoSelection:function(e){if(e.stopSelection)return!0;if('keydown'!==e.type&&0!==e.button){if(this.ignoreRightMouseSelection||this.isSelected(e.record))return!0}else return'mousedown'===e.type},onNavigate:function(e){if(e.record&&!this.vetoSelection(e.keyEvent)){this.onBeforeNavigate(e);var keyEvent=e.keyEvent,ctrlKey=keyEvent.ctrlKey||e.ctrlKey,recIdx=e.recordIndex,record=e.record,
lastFocused=e.previousRecord,isSelected=this.isSelected(record),from=this.selectionStart?this.selectionStart:this.selectionStart=e.previousRecord,fromIdx=e.previousRecordIndex,key=keyEvent.getCharCode(),isSpace=key===keyEvent.SPACE,changedRec=e.record!==e.previousRecord;changedRec=key===keyEvent.UP||key===keyEvent.PAGE_UP||key===keyEvent.HOME||key===keyEvent.LEFT&&changedRec?'up':key===keyEvent.DOWN||key===keyEvent.PAGE_DOWN||key===keyEvent.END||key===keyEvent.RIGHT&&changedRec?'down':null;switch(this.selectionMode){case 'MULTI':this.setSelectionStart(e.selectionStart);
key===keyEvent.A&&ctrlKey?(this.selected.beginUpdate(),this.selectRange(0,this.store.getCount()-1),this.selected.endUpdate()):isSpace?keyEvent.shiftKey?this.selectRange(from,record,ctrlKey):isSelected?this.allowDeselect&&this.doDeselect(record):this.doSelect(record,ctrlKey):keyEvent.shiftKey&&from?('up'===changedRec&&fromIdx<=recIdx?this.deselectRange(lastFocused,recIdx+1):'down'===changedRec&&fromIdx>=recIdx?this.deselectRange(lastFocused,recIdx-1):from!==record&&this.selectRange(from,record,ctrlKey),
this.lastSelected=record):key?ctrlKey||this.doSelect(record,!1):this.selectWithEvent(record,keyEvent);break;case 'SIMPLE':key===keyEvent.A&&ctrlKey?(this.selected.beginUpdate(),this.selectRange(0,this.store.getCount()-1),this.selected.endUpdate()):isSelected?this.doDeselect(record):this.doSelect(record,!0);break;case 'SINGLE':ctrlKey||(changedRec?this.doSelect(record,!1):(isSpace||!key)&&this.selectWithEvent(record,keyEvent))}keyEvent.shiftKey||this.destroyed||!this.isSelected(record)||(this.selectionStart=
record,this.selectionStartIdx=recIdx)}},selectRange:function(startRow,endRow,keepExisting){var store=this.store,selected=this.selected.items,i;if(!this.isLocked()){endRow=this.normalizeRowRange(startRow,endRow);startRow=endRow[0];endRow=endRow[1];var toSelect=[];for(i=startRow;i<=endRow;i++)this.isSelected(store.getAt(i))||toSelect.push(store.getAt(i));if(!keepExisting){var toDeselect=[];this.suspendChanges();i=0;for(keepExisting=selected.length;i<keepExisting;++i){var rec=selected[i];var idx=store.indexOf(rec);
(idx<startRow||idx>endRow)&&toDeselect.push(rec)}i=0;for(keepExisting=toDeselect.length;i<keepExisting&&(this.doDeselect(toDeselect[i]),!this.destroyed);++i);this.destroyed||this.resumeChanges()}this.destroyed||(toSelect.length?this.doMultiSelect(toSelect,!0):toDeselect&&this.maybeFireSelectionChange(0<toDeselect.length))}},deselectRange:function(startRow,endRow){var store=this.store,toDeselect;if(!this.isLocked()){endRow=this.normalizeRowRange(startRow,endRow);startRow=endRow[0];endRow=endRow[1];
for(toDeselect=[];startRow<=endRow;startRow++){var record=store.getAt(startRow);this.isSelected(record)&&toDeselect.push(record)}toDeselect.length&&this.doDeselect(toDeselect)}},normalizeRowRange:function(startRow,endRow){var store=this.store;Ext.isNumber(startRow)||(startRow=store.indexOf(startRow));startRow=Math.max(0,startRow);Ext.isNumber(endRow)||(endRow=store.indexOf(endRow));endRow=Math.min(endRow,store.getCount()-1);startRow>endRow&&(store=endRow,endRow=startRow,startRow=store);return[startRow,
endRow]},select:function(records,keepExisting,suppressEvent){!Ext.isDefined(records)||Ext.isArray(records)&&!records.length||this.doSelect(records,keepExisting,suppressEvent)},deselect:function(records,suppressEvent){this.doDeselect(records,suppressEvent)},doSelect:function(records,keepExisting,suppressEvent){if(!this.locked&&null!=records){if('number'===typeof records){records=this.store.getAt(records);if(!records)return;records=[records]}'SINGLE'===this.selectionMode?(records.isModel&&(records=
[records]),records.length&&this.doSingleSelect(records[0],suppressEvent)):this.doMultiSelect(records,keepExisting,suppressEvent)}},doMultiSelect:function(records,keepExisting,suppressEvent){var me=this,selected=me.selected,change=!1;if(!me.locked){records=Ext.isArray(records)?records:[records];var len=records.length;if(!keepExisting&&0<selected.getCount()){keepExisting=me.deselectDuringSelect(records,suppressEvent);if(me.destroyed)return;if(keepExisting[0]){me.maybeFireSelectionChange(0<keepExisting[1]&&
!suppressEvent);return}change=0<keepExisting[1]}var commit=function(){selected.getCount()||(me.selectionStart=record);suppressEvent||selected.add(record);change=!0};for(keepExisting=0;keepExisting<len;keepExisting++){var record=records[keepExisting];if(!me.isSelected(record)&&(me.onSelectChange(record,!0,suppressEvent,commit),me.destroyed))return}me.lastSelected=record;suppressEvent&&selected.add(records);me.maybeFireSelectionChange(change&&!suppressEvent)}},deselectDuringSelect:function(toSelect,
suppressEvent){var selected=this.selected.getRange(),len=selected.length,changed=0,failed=!1,i;this.suspendChanges();this.deselectingDuringSelect=!0;for(i=0;i<len;++i){var item=selected[i];Ext.Array.contains(toSelect,item)||(this.doDeselect(item,suppressEvent)?++changed:failed=!0);if(this.destroyed){failed=!0;changed=0;break}}this.deselectingDuringSelect=!1;this.destroyed||this.resumeChanges();return[failed,changed]},doDeselect:function(records,suppressEvent){var me=this,selected=me.selected,i=0,
attempted=0,accepted=0;if(me.locked||!me.store)return!1;if('number'===typeof records){var record=me.store.getAt(records);if(!record)return!1;records=[record]}else Ext.isArray(records)||(records=[records]);var commit=function(){++accepted;suppressEvent||selected.remove(record);record===me.selectionStart&&(me.selectionStart=null)};var len=records.length;for(me.suspendChanges();i<len;i++)if(record=records[i],me.isSelected(record)&&(me.lastSelected===record&&(me.lastSelected=selected.last()),++attempted,
me.onSelectChange(record,!1,suppressEvent,commit),me.destroyed))return!1;me.resumeChanges();suppressEvent&&selected.remove(records);me.maybeFireSelectionChange(0<accepted&&!suppressEvent);return accepted===attempted},doSingleSelect:function(record,suppressEvent){var me=this,changed=!1,selected=me.selected;me.locked||me.isSelected(record)||(me.onSelectChange(record,!0,suppressEvent,function(){if(selected.getCount()){me.suspendChanges();var result=me.deselectDuringSelect([record],suppressEvent);if(me.destroyed)return;
me.resumeChanges();if(result[0])return!1}me.lastSelected=record;selected.getCount()||(me.selectionStart=record);selected.add(record);changed=!0}),changed&&!me.destroyed&&me.maybeFireSelectionChange(!suppressEvent))},maybeFireSelectionChange:function(fireEvent){fireEvent&&!this.suspendChange&&this.fireEvent('selectionchange',this,this.getSelection())},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(selMode){selMode=
selMode?selMode.toUpperCase():'SINGLE';this.selectionMode=this.modes[selMode]?selMode:'SINGLE'},isLocked:function(){return this.locked},setLocked:function(locked){this.locked=!!locked},isRangeSelected:function(startRow,endRow){var store=this.store;endRow=this.normalizeRowRange(startRow,endRow);startRow=endRow[0];for(endRow=endRow[1];startRow<=endRow;startRow++)if(!this.isSelected(store.getAt(startRow)))return!1;return!0},isSelected:function(record){record=Ext.isNumber(record)?this.store.getAt(record):
record;return this.selected?this.selected.contains(record):!1},hasSelection:function(){var selected=this.getSelected();return!(!selected||!selected.getCount())},refresh:function(){var store=this.store,toBeRemoved=[],oldSelections=this.getSelection(),len=oldSelections.length,selected=this.getSelected(),d,rec,i;if(store&&(selected.isCollection||selected.isBag||selected.isRows)&&selected.getCount()){store=store.getData();store.getSource&&(d=store.getSource())&&(store=d);this.refreshing=!0;selected.beginUpdate();
this.suspendChanges();for(i=0;i<len;i++)d=oldSelections[i],(rec=store.get(d.getId()))?(rec!==d&&(selected.replace?selected.replace(rec):selected.add(rec)),this.lastSelected||(this.lastSelected=rec)):this.pruneRemoved&&toBeRemoved.push(d);if(toBeRemoved.length){var change=!0;selected.remove(toBeRemoved)}this.resumeChanges();change?selected.endUpdate():selected.updating--;this.refreshing=!1;this.maybeFireSelectionChange(change)}},clearSelections:function(){var selected=this.getSelected();selected&&
selected.clear();this.lastSelected=null},onStoreAdd:Ext.emptyFn,onStoreClear:function(){this.store.isLoading()&&!this.store.clearing||!this.hasSelection()||(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(store,records,index,isMove){index=records;var moveMap;this.selectionStart&&Ext.Array.contains(records,this.selectionStart)&&(this.selectionStart=null);if(!isMove&&!this.locked&&this.pruneRemoved){if(moveMap=store.isMoving(null,!0))for(index=null,store=0,isMove=records.length;store<
isMove;++store){var rec=records[store];moveMap[rec.id]||(index||(index=[])).push(rec)}index&&this.deselect(index)}},onPageRemove:function(pageMap,pageNumber,records){this.onStoreRemove(this.store,records)},onPageAdd:function(pageMap,pageNumber,records){pageMap=records.length;for(pageNumber=0;pageNumber<pageMap;pageNumber++){var record=records[pageNumber];this.selected.get(record.id)&&this.selected.replace(record)}},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearSelections();
this.bindStore(null);this.selected=Ext.destroy(this.selected);Ext.mixin.Observable.prototype.destroy.call(this)},onStoreUpdate:Ext.emptyFn,onIdChanged:function(store,rec,oldId,newId){this.selected.updateKey(rec,oldId)},onStoreRefresh:function(){this.updateSelectedInstances(this.selected)},updateSelectedInstances:function(selected){var store=this.getStore(),lastSelected=this.lastSelected,removeCount=0,prune=this.pruneRemovedOnRefresh(),i,rec;if(!store||!store.isBufferedStore){var items=selected.getRange();
var length=items.length;if(lastSelected){this.lastSelected=store.getById(lastSelected.id);var lastSelectedChanged=this.lastSelected!==lastSelected}this.refreshing=!0;if(store)for(i=0;i<length;++i){var selectedRec=items[i];(rec=store.getById(selectedRec.id))?rec!==selectedRec&&selected.add(rec):prune&&(selected.remove(selectedRec),++removeCount)}else removeCount=selected.getCount(),selected.removeAll();this.refreshing=!1;this.maybeFireSelectionChange(0<removeCount);lastSelectedChanged&&this.fireEvent('lastselectedchanged',
this,this.getSelection(),lastSelected)}},pruneRemovedOnRefresh:function(){return this.pruneRemoved},onStoreLoad:Ext.emptyFn,onSelectChange:function(record,isSelected,suppressEvent,commitFn){isSelected=isSelected?'select':'deselect';!1!==(suppressEvent||this.fireEvent('before'+isSelected,this,record))&&!1!==commitFn()&&(suppressEvent||this.destroyed||this.fireEvent(isSelected,this,record))},onEditorKey:Ext.emptyFn,beforeViewRender:function(view){Ext.Array.include(this.views||(this.views=[]),view)},
onHeaderClick:Ext.emptyFn,resolveListenerScope:function(defaultScope){var view=this.view,scope;view&&(scope=view.resolveSatelliteListenerScope(this,defaultScope));return scope||Ext.mixin.Observable.prototype.resolveListenerScope.call(this,defaultScope)},bindComponent:Ext.emptyFn,privates:{onBeforeNavigate:Ext.privateFn,getLastSelected:function(){return this.lastSelected},selectWithEventMulti:function(record,e,isSelected){var shift=e.shiftKey,ctrl=e.ctrlKey,start=shift?this.getSelectionStart():null;
e=this.getSelection();var len=e.length;if(shift&&start)this.selectRange(start,record,ctrl);else if(ctrl&&isSelected)this.allowDeselect&&this.doDeselect(record,!1);else if(ctrl)this.doSelect(record,!0,!1);else if(isSelected&&!shift&&!ctrl&&1<len){if(this.allowDeselect){isSelected=[];for(shift=0;shift<len;++shift)ctrl=e[shift],ctrl!==record&&isSelected.push(ctrl);this.doDeselect(isSelected)}}else isSelected||this.doSelect(record,!1)},selectWithEventSimple:function(record,e,isSelected){isSelected?this.doDeselect(record):
this.doSelect(record,!0)},selectWithEventSingle:function(record,e,isSelected){var allowDeselect=this.allowDeselect;allowDeselect&&!e.ctrlKey&&(allowDeselect=this.toggleOnClick);allowDeselect&&isSelected?this.doDeselect(record):this.doSelect(record,!1)}}},1,0,0,0,['selection.abstract'],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.selection,'Model',
Ext,'AbstractSelectionModel'],0);
Ext.cmd.derive('Ext.selection.DataViewModel',Ext.selection.Model,{deselectOnContainerClick:!0,bindComponent:function(view){if(this.view!==view&&(this.view&&(this.navigationModel=null,Ext.destroy(this.viewListeners,this.navigationListeners)),this.view=view)){var viewListeners=this.getViewListeners();viewListeners.scope=this;viewListeners.destroyable=!0;this.navigationModel=view.getNavigationModel();this.viewListeners=view.on(viewListeners);this.navigationListeners=this.navigationModel.on({navigate:this.onNavigate,
scope:this,destroyable:!0})}},getViewListeners:function(){var eventListeners={};eventListeners[this.view.triggerCtEvent]=this.onContainerClick;return eventListeners},onUpdate:function(record){var view=this.view;if(view&&this.isSelected(record))view.onItemSelect(record)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},onSelectChange:function(record,isSelected,suppressEvent,commitFn){var view=this.view,eventName=isSelected?'select':'deselect',recordIndex=this.store.indexOf(record);
if(!1!==(suppressEvent||this.fireEvent('before'+eventName,this,record,recordIndex))&&!1!==commitFn()){if(view&&!view.destroyed)if(isSelected)view.onItemSelect(record);else view.onItemDeselect(record);suppressEvent||this.destroyed||this.fireEvent(eventName,this,record,recordIndex)}},destroy:function(){this.bindComponent();Ext.destroy(this.keyNav);Ext.selection.Model.prototype.destroy.call(this)}},0,0,0,0,['selection.dataviewmodel'],0,[Ext.selection,'DataViewModel'],0);
Ext.cmd.derive('Ext.view.NavigationModel',Ext.Base,{config:{store:null},focusCls:'x-view-item-focused',constructor:function(){this.mixins.observable.constructor.call(this)},bindComponent:function(view){this.view!==view&&(this.view=view,this.bindView(view))},bindView:function(view){var dataSource=view.dataSource;this.initKeyNav(view);dataSource.isEmptyStore||this.setStore(dataSource);dataSource=this.getViewListeners();dataSource.destroyable=!0;this.viewListeners=this.viewListeners||[];this.viewListeners.push(view.on(dataSource))},
updateStore:function(store){this.mixins.storeholder.bindStore.apply(this,[store])},getViewListeners:function(){return{containermousedown:this.onContainerMouseDown,itemmousedown:this.onItemMouseDown,itemclick:this.onItemClick,itemcontextmenu:this.onItemMouseDown,scope:this}},initKeyNav:function(view){this.keyNav=new Ext.util.KeyNav({target:view,ignoreInputFields:!0,eventName:'itemkeydown',defaultEventAction:'stopEvent',processEvent:this.processViewEvent,up:this.onKeyUp,down:this.onKeyDown,right:this.onKeyRight,
left:this.onKeyLeft,pageDown:this.onKeyPageDown,pageUp:this.onKeyPageUp,home:this.onKeyHome,end:this.onKeyEnd,space:this.onKeySpace,enter:this.onKeyEnter,A:{ctrl:!0,handler:this.onSelectAllKeyPress},scope:this})},processViewEvent:function(view,record,node,index,event){return event},addKeyBindings:function(binding){this.keyNav.addBindings(binding)},enable:function(){this.keyNav.enable();this.disabled=!1},disable:function(){this.keyNav.disable();this.disabled=!0},onContainerMouseDown:function(view,
mousedownEvent){Ext.scrollbar.width()&&!view.el.getClientRegion().contains(mousedownEvent.getPoint())&&(mousedownEvent.preventDefault(),view.lastFocused='scrollbar')},onItemMouseDown:function(view,record,item,index,mousedownEvent){'touch'!==mousedownEvent.pointerType&&this.setPosition(index)},onItemClick:function(view,record,item,index,clickEvent){this.record===record?this.fireNavigateEvent(clickEvent):this.setPosition(index,clickEvent)},setPosition:function(recordIndex,keyEvent,suppressEvent,preventNavigation,
preventFocus){var view=this.view,selModel=view.getSelectionModel(),dataSource=view.dataSource;if(null!=recordIndex&&view.all.getCount())if('number'===typeof recordIndex){var newRecordIndex=Math.max(Math.min(recordIndex,dataSource.getCount()-1),0);var newRecord=dataSource.getAt(recordIndex)}else recordIndex.isEntity?(newRecord=dataSource.getById(recordIndex.id),newRecordIndex=dataSource.indexOf(newRecord),-1===newRecordIndex&&(newRecord=dataSource.getAt(0),newRecordIndex=0)):recordIndex.tagName?(newRecord=
view.getRecord(recordIndex),newRecordIndex=dataSource.indexOf(newRecord)):newRecord=newRecordIndex=null;else this.record=this.recordIndex=null;if(newRecord===this.record)return this.recordIndex=newRecordIndex,this.focusPosition(newRecordIndex);this.item&&this.item.removeCls(this.focusCls);this.previousRecordIndex=this.recordIndex;this.previousRecord=this.record;this.previousItem=this.item;this.recordIndex=newRecordIndex;this.record=newRecord;preventNavigation=preventNavigation||this.record===this.lastFocused;
newRecord?this.focusPosition(this.recordIndex):preventFocus||(this.item=null);suppressEvent||selModel.fireEvent('focuschange',selModel,this.previousRecord,this.record);!preventNavigation&&keyEvent&&this.fireNavigateEvent(keyEvent)},focusPosition:function(recordIndex){null!=recordIndex&&-1!==recordIndex?(recordIndex.isEntity&&(recordIndex=this.view.dataSource.indexOf(recordIndex)),(this.item=this.view.all.item(recordIndex))?(this.lastFocused=this.record,this.lastFocusedIndex=this.recordIndex,this.focusItem(this.item)):
this.record=null):this.item=null},focusItem:function(item){item.addCls(this.focusCls);item.focus()},getPosition:function(){return this.record?this.recordIndex:null},getRecordIndex:function(){return this.recordIndex},getItem:function(){return this.item},getRecord:function(){return this.record},getLastFocused:function(){return-1===this.view.dataSource.indexOf(this.lastFocused)?null:this.lastFocused},onKeyUp:function(keyEvent){var newPosition=this.recordIndex-1;0>newPosition&&(newPosition=this.view.all.getCount()-
1);this.setPosition(newPosition,keyEvent)},onKeyDown:function(keyEvent){var newPosition=this.recordIndex+1;newPosition>this.view.all.getCount()-1&&(newPosition=0);this.setPosition(newPosition,keyEvent)},onKeyRight:function(keyEvent){var newPosition=this.recordIndex+1;newPosition>this.view.all.getCount()-1&&(newPosition=0);this.setPosition(newPosition,keyEvent)},onKeyLeft:function(keyEvent){var newPosition=this.recordIndex-1;0>newPosition&&(newPosition=this.view.all.getCount()-1);this.setPosition(newPosition,
keyEvent)},onKeyPageDown:Ext.emptyFn,onKeyPageUp:Ext.emptyFn,onKeyHome:function(keyEvent){this.setPosition(0,keyEvent)},onKeyEnd:function(keyEvent){this.setPosition(this.view.all.getCount()-1,keyEvent)},onKeySpace:function(keyEvent){this.fireNavigateEvent(keyEvent)},onKeyEnter:function(keyEvent){keyEvent.stopEvent();keyEvent.view.fireEvent('itemclick',keyEvent.view,keyEvent.record,keyEvent.item,keyEvent.recordIndex,keyEvent)},onSelectAllKeyPress:function(keyEvent){this.fireNavigateEvent(keyEvent)},
fireNavigateEvent:function(keyEvent){this.fireEvent('navigate',{navigationModel:this,keyEvent,previousRecordIndex:this.previousRecordIndex,previousRecord:this.previousRecord,previousItem:this.previousItem,recordIndex:this.recordIndex,record:this.record,item:this.item})},destroy:function(){this.setStore(null);Ext.destroy(this.viewListeners,this.keyNav);this.callParent()}},1,0,0,0,['view.navigation.default'],[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],
[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.view,'NavigationModel'],0);
Ext.cmd.derive('Ext.view.AbstractView',Ext.Component,{isDataView:!0,inheritableStatics:{getRecord:function(node){return this.getBoundView(node).getRecord(node)},getBoundView:function(node){return Ext.getCmp(node.getAttribute('data-boundView'))}},defaultBindProperty:'store',renderBuffer:new Ext.dom.Fly(document.createElement('div')),statics:{updateDelay:Ext.platformTags.desktop?200:1E3,queueRecordChange:function(view,store,record,operation,modifiedFieldNames){store=this.changeQueue||(this.changeQueue=
{});var recId=record.internalId,len;var recChange=store[recId]||(store[recId]={operation,record,data:{},views:[]});operation=recChange.data;Ext.Array.include(recChange.views,view);if(modifiedFieldNames&&(len=modifiedFieldNames.length)){for(view=0;view<len;view++){recChange=modifiedFieldNames[view];var value=record.data[recChange];if(operation.hasOwnProperty(recChange)){if(record.isEqual(operation[recChange],value)){delete operation[recChange];var checkForReversion=!0}}else operation[recChange]=value}checkForReversion&&
!Ext.Object.getKeys(operation).length&&delete store[recId]}else Ext.apply(operation,record.data);this.flushQueueTask||(this.flushQueueTask=new Ext.util.DelayedTask(Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(this.flushChangeQueue,this):this.flushChangeQueue.bind(this),this,null,!1));this.flushTimer||(this.flushTimer=this.flushQueueTask.delay(Ext.view.AbstractView.updateDelay))},flushChangeQueue:function(){var recId,i;if(Ext.isScrolling)return this.flushTimer=this.flushQueueTask.delay(1);
this.flushTimer=null;var changeQueue=this.changeQueue;this.changeQueue={};for(recId in changeQueue){var recChange=changeQueue[recId];var dirtyViews=recChange.views;var len=dirtyViews.length;for(i=0;i<len;i++){var view=dirtyViews[i];view.destroyed||view.handleUpdate(view.dataSource,recChange.record,recChange.operation,Ext.Object.getKeys(recChange.data))}}}},config:{store:'ext-empty-store',navigationModel:{type:'default'},selectionModel:{type:'dataviewmodel'}},publishes:['selection'],twoWayBindable:['selection'],
selection:null,throttledUpdate:!1,deferInitialRefresh:!1,itemCls:'x-dataview-item',loadingText:'Loading...',loadMask:!0,loadingUseMsg:!0,selectedItemCls:'x-item-selected',emptyText:'',deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,preserveScrollOnReload:!1,autoDestroyBoundStore:!0,ariaRole:'listbox',itemAriaRole:'option',last:!1,focusable:!0,tabIndex:0,triggerEvent:'itemclick',triggerCtEvent:'containerclick',refreshNeeded:!0,updateSuspendCounter:0,addCmpEvents:Ext.emptyFn,
constructor:function(config){config&&config.selModel&&(config.selectionModel=config.selModel);Ext.Component.prototype.constructor.call(this,config)},initComponent:function(){var itemTpl=this.itemTpl,memberFn={},selection=this.selection;selection&&(this.selection=null,this.setSelection(selection));itemTpl&&(Ext.isArray(itemTpl)?('string'!==typeof itemTpl[itemTpl.length-1]&&(itemTpl=itemTpl.slice(0),memberFn=itemTpl.pop()),itemTpl=itemTpl.join('')):Ext.isObject(itemTpl)&&(memberFn=Ext.apply(memberFn,
itemTpl.initialConfig),itemTpl=itemTpl.html),this.itemSelector||(this.itemSelector='.'+this.itemCls),memberFn.fn&&(memberFn.baseFn=memberFn.fn,delete memberFn.fn,itemTpl='{%this.baseFn(out, values, parent, xindex, xcount, xkey)%}'),itemTpl=Ext.String.format('\x3ctpl for\x3d"."\x3e\x3cdiv class\x3d"{0}" role\x3d"{2}"\x3e{1}\x3c/div\x3e\x3c/tpl\x3e',this.itemCls,itemTpl,this.itemAriaRole),this.tpl=new Ext.XTemplate(itemTpl,memberFn));Ext.Component.prototype.initComponent.call(this);this.tpl=this.lookupTpl('tpl');
this.overItemCls&&(this.trackOver=!0);this.addCmpEvents();itemTpl=this.store=Ext.data.StoreManager.lookup(this.store||'ext-empty-store');this.dataSource||(this.dataSource=itemTpl);this.bindStore(itemTpl,!0);this.getNavigationModel().bindComponent(this);this.all||(this.all=new Ext.CompositeElementLite);this.scrollState={top:0,left:0};this.savedTabIndexAttribute='data-savedtabindex-'+this.id},getElConfig:function(){var result=this.mixins.renderable.getElConfig.call(this);this.focusable&&(result.tabIndex=
0);return result},onRender:function(parentNode,containerIdx){var mask=this.loadMask;Ext.Component.prototype.onRender.call(this,parentNode,containerIdx);mask&&this.createMask(mask)},beforeLayout:function(){Ext.Component.prototype.beforeLayout.call(this);this.refreshNeeded&&!this.pendingRefresh&&(this.refreshCounter?this.refreshView():this.doFirstRefresh(this.dataSource))},onMaskBeforeShow:function(){var loadingHeight=this.loadingHeight;loadingHeight&&loadingHeight>this.getHeight()&&(this.hasLoadingHeight=
!0,this.oldMinHeight=this.minHeight,this.minHeight=loadingHeight,this.updateLayout())},onMaskHide:function(){!this.destroying&&this.hasLoadingHeight&&(this.minHeight=this.oldMinHeight,this.updateLayout(),delete this.hasLoadingHeight)},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){Ext.Component.prototype.afterRender.call(this);this.focusable&&(this.focusEl=this.el)},getRefItems:function(){var mask=this.loadMask,
result=[];mask&&mask.isComponent&&result.push(mask);return result},getSelection:function(){return this.getSelectionModel().getSelection()},setSelection:function(selection){var current=this.selection;selection!==current&&(this.selection=selection,this.updateSelection(selection,current))},updateSelection:function(selection){if(!this.ignoreNextSelection){this.ignoreNextSelection=!0;var sm=this.getSelectionModel();selection?sm.select(selection):sm.deselectAll();this.ignoreNextSelection=!1}this.publishState('selection',
selection)},updateBindSelection:function(selModel,selection){var selected=null;this.ignoreNextSelection||(this.ignoreNextSelection=!0,selection.length&&(selected=selModel.getLastSelected(),this.hasHadSelection=!0),this.hasHadSelection&&this.setSelection(selected),this.ignoreNextSelection=!1)},applySelectionModel:function(selModel,oldSelModel){var grid=this.grid;oldSelModel?(oldSelModel.destroyed||oldSelModel.un({scope:this,selectionchange:this.updateBindSelection,lastselectedchanged:this.updateBindSelection}),
Ext.destroy(this.selModelRelayer),selModel=Ext.Factory.selection(selModel)):selModel&&selModel.isSelectionModel?selModel.locked=this.disableSelection:(oldSelModel=this.simpleSelect?'SIMPLE':this.multiSelect?'MULTI':'SINGLE','string'===typeof selModel&&(selModel={type:selModel}),selModel=Ext.Factory.selection(Ext.apply({allowDeselect:this.allowDeselect||this.multiSelect,mode:oldSelModel,locked:this.disableSelection},selModel)));'SINGLE'!==selModel.mode&&((oldSelModel=(grid||this).ariaEl.dom)?oldSelModel.setAttribute('aria-multiselectable',
!0):grid||(grid=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),grid['aria-multiselectable']=!0));this.selModelRelayer=this.relayEvents(selModel,'selectionchange beforeselect beforedeselect select deselect focuschange'.split(' '));selModel.on({scope:this,lastselectedchanged:this.updateBindSelection,selectionchange:this.updateBindSelection});return selModel},updateSelectionModel:function(selectionModel){this.selModel=selectionModel},applyNavigationModel:function(navigationModel){return Ext.Factory.viewNavigation(navigationModel)},
onFocusEnter:function(e){var navigationModel=this.getNavigationModel(),focusPosition=this.lastFocused;this.lastFocused=null;'scrollbar'===focusPosition?e.relatedTarget.focus():(this.toggleChildrenTabbability(!1),!this.itemFocused&&this.all.getCount()&&(focusPosition=e.event.getTarget()===this.tabGuardEl?this.all.getCount()-1:navigationModel.getLastFocused(),navigationModel.setPosition(focusPosition||0,e.event,null,!focusPosition),this.itemFocused=null!=navigationModel.getPosition()),this.itemFocused&&
(this.el.dom.setAttribute('tabIndex',-1),this.tabGuardEl&&this.tabGuardEl.setAttribute('tabIndex',-1)),Ext.Component.prototype.onFocusEnter.call(this,e))},onFocusLeave:function(e){this.itemFocused&&!this.refreshing&&(this.getNavigationModel().setPosition(null,e.event,null,!0),this.itemFocused=!1,this.el.dom.setAttribute('tabIndex',0),this.tabGuardEl&&this.tabGuardEl.setAttribute('tabIndex',0));Ext.Component.prototype.onFocusLeave.call(this,e)},cancelFocusTask:function(){var task=this.getFocusTask();
task&&task.cancel()},onRemoved:function(isDestroying){Ext.Component.prototype.onRemoved.call(this,isDestroying);if(!isDestroying)this.onFocusLeave({})},refresh:function(){var items=this.all,prevItemCount=items.getCount(),refreshCounter=this.refreshCounter,selModel=this.getSelectionModel(),scroller=refreshCounter&&items.getCount()&&this.preserveScrollOnRefresh&&this.getScrollable(),bufferedRenderer=this.bufferedRenderer;if(this.rendered&&!this.destroyed){if(!this.hasListeners.beforerefresh||!1!==this.fireEvent('beforerefresh',
this)){this.refreshing=!0;var restoreFocus=this.saveFocusState();var targetEl=this.getTargetEl();var records=this.getViewRange();if(scroller){var scrollPos=scroller.getPosition();scrollPos.x||scrollPos.y||(scrollPos=null)}(refreshCounter||this.emptyEl)&&this.clearViewEl();refreshCounter?this.refreshCounter++:this.refreshCounter=1;bufferedRenderer&&bufferedRenderer.beforeRefreshStartIndex&&(items.startIndex=bufferedRenderer.beforeRefreshStartIndex);this.tpl.append(targetEl,this.collectData(records,
items.startIndex||0));1>records.length?(this.addEmptyText(),items.clear()):(this.collectNodes(targetEl.dom),this.updateIndexes(0));restoreFocus();!1!==this.refreshSelmodelOnRefresh&&selModel.refresh();this.refreshNeeded=!1;this.refreshSize(items.getCount()!==prevItemCount);this.fireItemMutationEvent('refresh',this,records);scroller&&scroller.scrollTo(scrollPos);this.viewReady||(this.viewReady=!0,this.fireEvent('viewready',this));this.refreshing=!1;bufferedRenderer&&bufferedRenderer.refreshSize();
this.cleanupData()}this.tabGuardEl||(this.tabGuardEl=this.el.createChild({cls:'x-tab-guard x-tab-guard-after',tabIndex:'0'},null,!0))}},addEmptyText:function(){var store=this.getStore();this.emptyText&&!store.isLoading()&&(!this.deferEmptyText||1<this.refreshCounter||store.isLoaded())&&(this.emptyEl?Ext.fly(this.emptyEl).setHtml(this.emptyText):this.emptyEl=Ext.core.DomHelper.insertHtml('beforeEnd',this.getTargetEl().dom,this.emptyText))},getEmptyText:function(){return this.emptyText},setEmptyText:function(emptyText){this.emptyText!==
emptyText&&(this.emptyText=emptyText,this.refresh());return this},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(forceLayout){var sizeModel=this.getSizeModel();(sizeModel.height.shrinkWrap||sizeModel.width.shrinkWrap||forceLayout)&&this.updateLayout()},afterFirstLayout:function(width,height){var scroller=this.getScrollable();scroller&&(this.viewScrollListeners=scroller.on({scroll:this.onViewScroll,scrollend:this.onViewScrollEnd,scope:this,onFrame:!!Ext.global.requestAnimationFrame,
destroyable:!0}));Ext.Component.prototype.afterFirstLayout.call(this,width,height)},clearViewEl:function(){var targetEl=this.getTargetEl(),all=this.all,store=this.getStore(),nodeContainerIsTarget=this.getNodeContainer()===targetEl,i;var removedItems=all.slice();var removedRecs=[];for(i=all.startIndex;i<=all.endIndex;i++)removedRecs.push(store.getByInternalId(all.item(i,!0).getAttribute('data-recordId')));this.fireItemMutationEvent('itemremove',removedRecs,all.startIndex||0,removedItems,this);this.clearEmptyEl();
this.all.clear(!nodeContainerIsTarget);if(targetEl=nodeContainerIsTarget?targetEl.dom:this.getNodeContainer())targetEl.innerHTML=''},clearEmptyEl:function(){var emptyEl=this.emptyEl;emptyEl&&Ext.removeNode(emptyEl);this.emptyEl=null},onViewScroll:function(scroller,x,y){this.destroyed||this.fireEvent('scroll',this,x,y)},onViewScrollEnd:function(scroller,x,y){this.destroyed||this.fireEvent('scrollend',this,x,y)},saveScrollState:function(){var state=this.scrollState;this.rendered&&(state.left=this.getScrollX(),
state.top=this.getScrollY())},restoreScrollState:function(){var state=this.scrollState;this.rendered&&(this.setScrollX(state.left),this.setScrollY(state.top))},prepareData:function(data,recordIndex,record){var attr;if(record)for(attr in recordIndex=record.getAssociatedData(),recordIndex)if(recordIndex.hasOwnProperty(attr)){if(!hasCopied){data=Ext.Object.chain(data);var hasCopied=!0}data[attr]=recordIndex[attr]}return data},collectData:function(records,startIndex){for(var data=[],i=0,len=records.length,
record;i<len;i++)record=records[i],data[i]=this.prepareData(record.data,startIndex+i,record);return data},cleanupData:Ext.emptyFn,bufferRender:function(records,index){var div=this.renderBuffer,result=document.createDocumentFragment();this.tpl.overwrite(div,this.collectData(records,index));records=div.query(this.getItemSelector());div=0;for(index=records.length;div<index;div++)result.appendChild(records[div]);return{fragment:result,children:records}},nodeContainerSelector:null,setItemsDraggable:function(draggable){var selector=
'#'+this.id+' '+this.getItemSelector(),styleSheet=this.viewStyleSheet;draggable?(styleSheet||(styleSheet=Ext.view.AbstractView.prototype.viewStyleSheet=Ext.util.CSS.createStyleSheet('','AbstractView')),Ext.util.CSS.createRule(styleSheet,selector,'touch-action: pinch-zoom double-tap-zoom;-ms-touch-action: pinch-zoom double-tap-zoom;-webkit-user-drag: none;')):styleSheet&&Ext.util.CSS.deleteRule(selector)},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(store,
record,operation,modifiedFieldNames,details){details&&details.filtered||!this.getNode(record)||(this.throttledUpdate?this.statics().queueRecordChange(this,store,record,operation,modifiedFieldNames):this.handleUpdate(store,record,operation,modifiedFieldNames,details))},handleUpdate:function(store,record){store=this.getSelectionModel();if(this.viewReady&&!this.refreshNeeded){var index=this.dataSource.indexOf(record);if(-1<index&&this.getNode(record)){var node=this.bufferRender([record],index).children[0];
this.all.replaceElement(index,node,!0);this.updateIndexes(index,index);store.onUpdate(record);this.refreshSizePending=!0;if(store.isSelected(record))this.onItemSelect(record);this.hasListeners.itemupdate&&this.fireEvent('itemupdate',record,index,node,this);return node}}},onReplace:function(store,startIndex,oldRecords,newRecords){var all=this.all,yPos=(store=this.getScrollable())&&store.getPosition().y,selModel=this.getSelectionModel(),origStart=startIndex,item,restoreFocus;if(this.rendered){var result=
this.bufferRender(newRecords,startIndex,!0);var fragment=result.fragment;result=result.children;(item=all.item(startIndex))?all.item(startIndex).insertSibling(fragment,'before',!0):this.appendNodes(fragment);all.insert(startIndex,result);oldRecords.length&&(restoreFocus=this.saveFocusState());startIndex+=newRecords.length;fragment=startIndex+oldRecords.length-1;all=all.removeRange(startIndex,fragment,!0);store&&store.scrollTo(null,yPos);!1!==this.refreshSelmodelOnRefresh&&selModel.refresh();this.updateIndexes(startIndex);
this.fireItemMutationEvent('itemremove',oldRecords,origStart,all,this);this.fireItemMutationEvent('itemadd',newRecords,origStart,result,this);restoreFocus&&restoreFocus();this.refreshSize()}},onAdd:function(store,records,index){var selModel=this.getSelectionModel();this.rendered&&!this.refreshNeeded&&(0===this.all.getCount()?(this.refresh(),store=this.all.slice()):(store=this.doAdd(records,index),!1!==this.refreshSelmodelOnRefresh&&selModel.refresh(),this.updateIndexes(index),this.refreshSizePending=
!0),this.fireItemMutationEvent('itemadd',records,index,store,this))},appendNodes:function(nodes){var all=this.all,count=all.getCount();this.nodeContainerSelector?this.getNodeContainer().appendChild(nodes):all.item(count-1).insertSibling(nodes,'after')},doAdd:function(records,index){var result=this.bufferRender(records,index,!0);records=result.fragment;result=result.children;var all=this.all,count=all.getCount(),firstRowIndex=all.startIndex||0,lastRowIndex=all.endIndex||count-1;0===count||index>lastRowIndex?
this.appendNodes(records):index<=firstRowIndex?all.item(firstRowIndex).insertSibling(records,'before',!0):all.item(index).insertSibling(result,'before',!0);all.insert(index,result);return result},onRemove:function(store,records,index){store=this.all;var i;if(this.rendered&&!this.refreshNeeded&&store.getCount()){if(0===this.dataSource.getCount())this.refresh();else{var restoreFocus=this.saveFocusState();var nodes=[];for(i=records.length-1;0<=i;--i){var record=records[i];var currIdx=index+i;if(nodes){var node=
store.item(currIdx);nodes[i]=node?node.dom:void 0}store.item(currIdx)&&this.doRemove(record,currIdx)}this.fireItemMutationEvent('itemremove',records,index,nodes,this);restoreFocus();this.updateIndexes(index)}this.refreshSizePending=!0}},doRemove:function(record,index){this.all.removeElement(index,!0)},eventLifecycleMap:{refresh:'onViewRefresh',itemremove:'onItemRemove',itemadd:'onItemAdd'},fireItemMutationEvent:function(eventName){var ownerGrid=this.ownerGrid,vm;Ext.suspendLayouts();ownerGrid&&('refresh'!==
eventName&&(vm=this.lookupViewModel()),ownerGrid[this.eventLifecycleMap[eventName]].apply(ownerGrid,Ext.Array.slice(arguments,1)));this.fireEvent.apply(this,arguments);vm&&vm.notify();Ext.resumeLayouts(!0)},saveFocusState:function(){var me=this,store=me.dataSource||me.store,navModel=me.getNavigationModel(),lastFocusedIndex=navModel.recordIndex,lastFocusedRec=navModel.record,containsFocus=me.el.contains(Ext.Element.getActiveElement());return lastFocusedRec?(containsFocus&&me.el.dom.focus(),function(){store.getCount()&&
(lastFocusedIndex=Math.min(lastFocusedIndex,me.all.getCount()-1),navModel.setPosition(store.contains(lastFocusedRec)?lastFocusedRec:lastFocusedIndex,null,null,!0,!containsFocus))}):Ext.emptyFn},refreshNode:function(record){Ext.isNumber(record)&&(record=this.store.getAt(record));this.onUpdate(this.dataSource,record)},updateIndexes:function(startIndex,endIndex){var nodes=this.all.elements,records=this.getViewRange(),selModel=this.getSelectionModel(),myId=this.id,i;endIndex=endIndex||(0===endIndex?0:
nodes.length-1);for(i=startIndex||0;i<=endIndex;i++){startIndex=nodes[i];var record=records[i];startIndex.setAttribute('data-recordIndex',i);startIndex.setAttribute('data-recordId',record.internalId);startIndex.setAttribute('data-boundView',myId);if(selModel.getLastSelected())this[selModel.isSelected(record)?'onItemSelect':'onItemDeselect'](record)}},bindStore:function(store,initial){var selModel=this.getSelectionModel(),navModel=this.getNavigationModel();selModel&&!selModel.destroyed&&(selModel.bindStore(store,
initial),selModel.bindComponent(store?this:null));this.mixins.storeholder.bindStore.apply(this,arguments);navModel&&!navModel.destroyed&&navModel.setStore(store);store&&this.componentLayoutCounter&&(this.blockRefresh?this.refreshNeeded=!0:this.doFirstRefresh(store,!initial))},doFirstRefresh:function(store,noDefer){this.deferInitialRefresh&&!noDefer?Ext.defer(this.doFirstRefresh,1,this,[store,!0]):store&&!this.deferRefreshForLoad(store)&&this.refresh()},onUnbindStore:function(store){this.setMaskBind(null);
this.dataSource===store&&(this.dataSource=null)},onBindStore:function(store,oldStore){this.store.isBufferedStore&&(this.store.preserveScrollOnReload=this.preserveScrollOnReload);oldStore&&oldStore.isBufferedStore&&delete oldStore.preserveScrollOnReload;this.setMaskBind(store);this.dataSource||(this.dataSource=store)},setMaskBind:function(store){var mask=this.loadMask;this.rendered&&mask&&store&&!mask.bindStore&&(mask=this.createMask());mask&&mask.bindStore&&mask.bindStore(store)},getStoreListeners:function(){return{refresh:this.onDataRefresh,
replace:this.onReplace,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.onDataRefresh,beginupdate:this.onBeginUpdate,endupdate:this.onEndUpdate}},onBeginUpdate:function(){++this.updateSuspendCounter;Ext.suspendLayouts()},onEndUpdate:function(){this.updateSuspendCounter&&--this.updateSuspendCounter;Ext.resumeLayouts(!0);this.refreshSizePending&&(this.refreshSize(!0),this.refreshSizePending=!1)},onDataRefresh:function(store){var preserveScrollOnRefresh=this.preserveScrollOnRefresh;
store.loadCount>=(this.lastRefreshLoadCount||0)&&(this.preserveScrollOnRefresh=this.preserveScrollOnReload);this.refreshView();this.preserveScrollOnRefresh=preserveScrollOnRefresh;this.lastRefreshLoadCount=store.loadCount},refreshView:function(startIndex){var blocked=this.blockRefresh||!this.rendered||this.up('[collapsed],[isCollapsingOrExpanding\x3d1],[hidden]'),bufferedRenderer=this.bufferedRenderer;blocked?this.refreshNeeded=!0:bufferedRenderer?bufferedRenderer.refreshView(startIndex):this.refresh()},
findItemByChild:function(node){return Ext.fly(node).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(e){return e.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var nodes=[],records=this.getSelectionModel().getSelection(),ln=records.length,i=0;i<ln;i++)nodes.push(this.getNode(records[i]));return nodes},getRecords:function(nodes){var records=[],i;for(i=0;i<nodes.length;i++)records.push(this.getRecord(nodes[i]));return records},
getRecord:function(node){node=Ext.getDom(node).getAttribute('data-recordId');return this.dataSource.getByInternalId(node)},isSelected:function(node){node=this.getRecord(node);return this.getSelectionModel().isSelected(node)},select:function(records,keepExisting,suppressEvent){this.getSelectionModel().select(records,keepExisting,suppressEvent)},deselect:function(records,suppressEvent){this.getSelectionModel().deselect(records,suppressEvent)},getNode:function(nodeInfo){if(this.rendered&&(nodeInfo||
0===nodeInfo))if(Ext.isString(nodeInfo))var out=document.getElementById(nodeInfo);else nodeInfo.isModel?out=this.getNodeByRecord(nodeInfo):Ext.isNumber(nodeInfo)?out=this.all.elements[nodeInfo]:(nodeInfo.target&&nodeInfo.target.nodeType&&(nodeInfo=nodeInfo.target),out=Ext.fly(nodeInfo).findParent(this.itemSelector,this.getTargetEl()));return out||null},getNodeByRecord:function(record){record=this.store.indexOf(record);return this.all.elements[record]||null},getNodes:function(start,end){var all=this.all;
void 0!==end&&end++;return all.slice(start,end)},indexOf:function(node){return(node=this.getNode(node))||0===node?node.getAttribute('data-recordIndex')?Number(node.getAttribute('data-recordIndex')):this.all.indexOf(node):-1},doDestroy:function(){var count=this.updateSuspendCounter,tabGuardEl=this.tabGuardEl;this.viewScrollListeners&&this.viewScrollListeners.destroy();this.all&&!this.all.destroyed&&this.all.clear();tabGuardEl&&tabGuardEl.parentNode&&tabGuardEl.parentNode.removeChild(tabGuardEl);this.emptyEl=
null;this.setItemsDraggable(!1);this.bindStore(null);this.selModelRelayer&&this.selModelRelayer.destroy();for(Ext.destroy(this.navigationModel,this.selectionModel,this.loadMask);count--;)Ext.resumeLayouts(!0);Ext.Component.prototype.doDestroy.call(this)},onItemSelect:function(record){if(record=this.getNode(record))Ext.fly(record).addCls(this.selectedItemCls),record.setAttribute('aria-selected','true');return record},onItemDeselect:function(record){if(record=this.getNode(record))Ext.fly(record).removeCls(this.selectedItemCls),
record.setAttribute('aria-selected','false');return record},getItemSelector:function(){return this.itemSelector},addItemCls:function(itemInfo,cls){(itemInfo=this.getNode(itemInfo))&&Ext.fly(itemInfo).addCls(cls)},removeItemCls:function(itemInfo,cls){(itemInfo=this.getNode(itemInfo))&&Ext.fly(itemInfo).removeCls(cls)},setStore:function(newStore){this.store!==newStore&&(this.isConfiguring?this.store=newStore:this.bindStore(newStore,!1))},privates:{deferRefreshForLoad:function(store){return store.isLoading()},
toggleChildrenTabbability:function(enableTabbing){var focusEl=this.getTargetEl();enableTabbing?focusEl.restoreTabbableState({skipSelf:!0}):focusEl.saveTabbableState({skipSelf:!0,includeSaved:!1})},collectNodes:function(targetEl){var all=this.all,options={role:this.itemAriaRole};all.fill(Ext.fly(targetEl).query(this.getItemSelector()),all.startIndex||0);this.focusable&&(options.tabindex='-1');all.set(options)},createMask:function(mask){var maskStore=this.getStore();!maskStore||maskStore.isEmptyStore||
maskStore.loadsSynchronously()||(maskStore={target:this,msg:this.loadingText,useMsg:this.loadingUseMsg,store:maskStore},this.loadingCls&&(maskStore.msgCls=this.loadingCls),Ext.isObject(mask)&&(maskStore=Ext.apply(maskStore,mask)),this.loadMask=new Ext.LoadMask(maskStore),this.loadMask.on({scope:this,beforeshow:this.onMaskBeforeShow,hide:this.onMaskHide}));return this.loadMask},getNodeContainer:function(){var target=this.getTargetEl(),selector=this.nodeContainerSelector;return selector?target.down(selector,
!0):target},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)}}},1,0,['component','box'],{component:!0,box:!0},0,[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.view,'AbstractView'],function(){Ext.deprecate('extjs','4.0',function(){Ext.view.AbstractView.override({getSelectionCount:function(){Ext.global.console&&Ext.global.console.warn('DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel');
return this.selModel.getSelection().length},getSelectedRecords:function(){Ext.global.console&&Ext.global.console.warn('DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel');return this.selModel.getSelection()},select:function(records,keepExisting,supressEvents){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var sm=this.getSelectionModel();
return sm.select.apply(sm,arguments)},clearSelections:function(){Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");return this.getSelectionModel().deselectAll()}})})});
Ext.cmd.derive('Ext.view.View',Ext.view.AbstractView,{alternateClassName:'Ext.DataView',inputTagRe:/^textarea$|^input$/i,keyEventRe:/^key/,manageLayoutScroll:!1,inheritableStatics:{EventMap:{longpress:'LongPress',mousedown:'MouseDown',mouseup:'MouseUp',click:'Click',dblclick:'DblClick',contextmenu:'ContextMenu',mouseover:'MouseOver',mouseout:'MouseOut',mouseenter:'MouseEnter',mouseleave:'MouseLeave',keydown:'KeyDown',keyup:'KeyUp',keypress:'KeyPress',focus:'Focus'},TouchEventMap:{touchstart:'mousedown',
touchend:'mouseup',tap:'click',doubletap:'dblclick'}},afterRender:function(){Ext.view.AbstractView.prototype.afterRender.call(this);this.mon(this.el,{scope:this,click:this.handleEvent,longpress:this.handleEvent,mousedown:this.handleEvent,mouseup:this.handleEvent,dblclick:this.handleEvent,contextmenu:this.handleEvent,keydown:this.handleEvent,keyup:this.handleEvent,keypress:this.handleEvent,mouseover:this.handleMouseOver,mouseout:this.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||
this.itemSelector},handleMouseOver:function(e){var itemSelector=this.getTargetSelector();itemSelector=e.getTarget(itemSelector);this.destroyed||(itemSelector?this.mouseOverItem!==itemSelector&&this.el.contains(itemSelector)&&(this.mouseOverItem=e.item=itemSelector,e.newType='mouseenter',this.handleEvent(e)):this.handleEvent(e))},handleMouseOut:function(e){var itemSelector=this.getTargetSelector(),item=e.getTarget(itemSelector);itemSelector=e.getRelatedTarget(itemSelector);var sourceView;item===itemSelector&&
(null!==item||null!==itemSelector)||this.destroyed||(item&&(sourceView=this.self.getBoundView(item))?(e.item=item,e.newType='mouseleave',sourceView.handleEvent(e),sourceView.mouseOverItem=null):this.handleEvent(e))},handleEvent:function(e){var isKeyEvent=this.keyEventRe.test(e.type);e.isInputFieldEvent=Ext.fly(e.target).isInputField();e.view=this;e.item=e.getTarget(this.itemSelector);e.item&&(e.record=this.getRecord(e.item));!1===this.processUIEvent(e)||this.destroyed||this.processSpecialEvent(e);
isKeyEvent&&!e.isInputFieldEvent&&(e.getKey()===e.SPACE||e.isNavKeyPress(!0))&&e.preventDefault();e.view=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(e){if(Ext.getBody().isAncestor(e.target)){var item=e.item,self=this.self,map=self.EventMap,touchMap=self.TouchEventMap;self=e.record;var type=e.type,newType=type;e.newType&&(newType=e.newType);if(item){newType=touchMap[newType]||newType;touchMap=e.recordIndex=this.indexInStore?
this.indexInStore(self):this.indexOf(item);if(!self||!1===this.processItemEvent(self,item,touchMap,e)||!1===this['onBeforeItem'+map[newType]](self,item,touchMap,e)||!1===this.fireEvent('beforeitem'+newType,this,self,item,touchMap,e)||!1===this['onItem'+map[newType]](self,item,touchMap,e))return!1;this.fireEvent('item'+newType,this,self,item,touchMap,e)}else{type=touchMap[type]||type;if(!1===this.processContainerEvent(e)||!1===this['onBeforeContainer'+map[type]](e)||!1===this.fireEvent('beforecontainer'+
type,this,e)||!1===this['onContainer'+map[type]](e))return!1;this.fireEvent('container'+type,this,e)}return!0}},onItemMouseEnter:function(record,item,index,e){this.trackOver&&this.highlightItem(item)},onItemMouseLeave:function(record,item,index,e){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyUp:Ext.emptyFn,
onItemKeyPress:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyUp:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,
onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyUp:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,
onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,onBeforeContainerKeyUp:Ext.emptyFn,onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(item){var highlighted=this.highlightedItem,overItemCls=this.overItemCls;highlighted!==item&&(highlighted&&(Ext.fly(highlighted).removeCls(overItemCls),Ext.isIE8&&(this.repaintBorder(highlighted),this.repaintBorder(highlighted.nextSibling)),this.hasListeners.unhighlightitem&&this.fireEvent('unhighlightitem',this,highlighted)),
this.highlightedItem=item)&&(Ext.fly(item).addCls(this.overItemCls),Ext.isIE8&&this.repaintBorder(item.nextSibling),this.hasListeners.highlightitem&&this.fireEvent('highlightitem',this,item))},highlightItem:function(item){this.setHighlightedItem(item)},clearHighlight:function(){this.setHighlightedItem(void 0)},handleUpdate:function(store,record){var highlighted;if(this.viewReady){var node=this.getNode(record);var newNode=Ext.view.AbstractView.prototype.handleUpdate.apply(this,arguments);(highlighted=
this.highlightedItem)&&highlighted===node&&(delete this.highlightedItem,newNode&&this.highlightItem(newNode))}},refresh:function(){this.clearHighlight();Ext.view.AbstractView.prototype.refresh.apply(this,arguments)},focusNode:function(rec){rec=Ext.fly(this.getNode(rec));var el=this.el,adjustmentY=0,adjustmentX=0,elRegion=el.getRegion();elRegion.bottom=elRegion.top+el.dom.clientHeight;elRegion.right=elRegion.left+el.dom.clientWidth;rec&&(el=rec.getRegion(),el.top<elRegion.top?adjustmentY=el.top-elRegion.top:
el.bottom>elRegion.bottom&&(adjustmentY=el.bottom-elRegion.bottom),el.left<elRegion.left?adjustmentX=el.left-elRegion.left:el.right>elRegion.right&&(adjustmentX=el.right-elRegion.right),(adjustmentX||adjustmentY)&&this.scrollBy(adjustmentX,adjustmentY,!1),rec.set({tabIndex:-1}),rec.focus())},privates:{repaintBorder:function(rowIdx){if(rowIdx=this.getNode(rowIdx))rowIdx.className=rowIdx.className}}},0,['dataview'],['component','box','dataview'],{component:!0,box:!0,dataview:!0},['widget.dataview'],
0,[Ext.view,'View',Ext,'DataView'],0);
Ext.cmd.derive('Ext.view.BoundListKeyNav',Ext.view.NavigationModel,{navigateOnSpace:!0,initKeyNav:function(view){var field=view.pickerField;this.keyNav||(Ext.view.NavigationModel.prototype.initKeyNav.call(this,view),this.keyNav.map.addBinding({key:Ext.event.Event.ESC,fn:this.onKeyEsc,scope:this}));if(field)if(field.rendered)this.fieldKeyNav=new Ext.util.KeyNav({disabled:!0,target:field.inputEl,forceKeyDown:!0,up:this.onKeyUp,down:this.onKeyDown,right:this.onKeyRight,left:this.onKeyLeft,pageDown:this.onKeyPageDown,
pageUp:this.onKeyPageUp,home:this.onKeyHome,end:this.onKeyEnd,tab:this.onKeyTab,space:this.onKeySpace,enter:this.onKeyEnter,A:{ctrl:!0,handler:this.onSelectAllKeyPress},priority:1001,scope:this});else field.on('render',Ext.Function.bind(this.initKeyNav,this,[view],0),this,{single:!0})},processViewEvent:function(view,record,node,index,event){if(event.within(view.listWrap))return event;if(event.getKey()===event.ESC)return Ext.fly(event.target).isInputField()&&(event.target=event.target.parentNode),
event},enable:function(){this.fieldKeyNav.enable();Ext.view.NavigationModel.prototype.enable.call(this)},disable:function(){this.fieldKeyNav.disable();Ext.view.NavigationModel.prototype.disable.call(this)},onItemMouseDown:function(view,record,item,index,event){Ext.view.NavigationModel.prototype.onItemMouseDown.call(this,view,record,item,index,event);'mouse'===event.pointerType&&event.preventDefault()},onKeyUp:function(e){var boundList=this.view,allItems=boundList.all,oldItem=boundList.highlightedItem;
boundList=oldItem?boundList.indexOf(oldItem):-1;allItems=0<boundList?boundList-1:allItems.getCount()-1;this.setPosition(allItems);e.preventDefault()},onKeyDown:function(e){var boundList=this.view,allItems=boundList.all,oldItem=boundList.highlightedItem;boundList=oldItem?boundList.indexOf(oldItem):-1;allItems=boundList<allItems.getCount()-1?boundList+1:0;this.setPosition(allItems);e.preventDefault()},onKeyLeft:Ext.returnTrue,onKeyRight:Ext.returnTrue,onKeyTab:function(e){var view=this.view,field=view.pickerField;
view.isVisible()&&(field.selectOnTab&&this.selectHighlighted(e),field.collapse&&field.collapse());return!0},onKeyEnter:function(e){var view=this.view,selModel=view.getSelectionModel();view=view.pickerField;var count=selModel.getCount();e.stopEvent();this.selectHighlighted(e);!view.multiSelect&&count===selModel.getCount()&&view.collapse&&view.collapse();view.fireEvent('specialkey',view,e,{fromBoundList:!0});return!1},onKeySpace:function(){this.navigateOnSpace&&Ext.view.NavigationModel.prototype.onKeySpace.apply(this,
arguments);return!0},onKeyEsc:function(){this.view.pickerField&&this.view.pickerField.collapse()},focusItem:function(item){var boundList=this.view;'number'===typeof item&&(item=boundList.all.item(item));item&&(item=item.dom,boundList.highlightItem(item),boundList.getScrollable().ensureVisible(item,{x:!1}))},selectHighlighted:function(e){var boundList=this.view,selModel=boundList.getSelectionModel(),highlightedRec,highlightedPosition=this.recordIndex;boundList.all.getCount()&&(!(highlightedRec=this.getRecord())||
e.getKey()!==e.ENTER&&selModel.isSelected(highlightedRec)||(selModel.selectWithEvent(highlightedRec,e),boundList.store.data.contains(highlightedRec)||this.setPosition(Math.min(highlightedPosition,boundList.store.getCount()-1))))},destroy:function(){this.fieldKeyNav=Ext.destroy(this.fieldKeyNav);Ext.view.NavigationModel.prototype.destroy.call(this)}},0,0,0,0,['view.navigation.boundlist'],0,[Ext.view,'BoundListKeyNav'],0);
Ext.cmd.derive('Ext.layout.component.BoundList',Ext.layout.component.Auto,{type:'component',beginLayout:function(ownerContext){var owner=this.owner,toolbar=owner.pagingToolbar;this.scrollPos=owner.listWrap.getScroll();Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);owner.floating&&(ownerContext.savedXY=owner.getXY(),owner.setXY([0,-9999]));toolbar&&(ownerContext.toolbarContext=ownerContext.context.getCmp(toolbar));ownerContext.listContext=ownerContext.getEl('listWrap')},beginLayoutCycle:function(ownerContext){var owner=
this.owner;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);ownerContext.heightModel.auto&&(owner.el.setHeight('auto'),owner.listWrap.setHeight('auto'))},getLayoutItems:function(){var toolbar=this.owner.pagingToolbar;return toolbar?[toolbar]:[]},isValidParent:function(){return!0},finishedLayout:function(ownerContext){var xy=ownerContext.savedXY,listWrap=this.owner.listWrap,scrollPos=this.scrollPos;Ext.layout.component.Auto.prototype.finishedLayout.apply(this,arguments);xy&&
this.owner.setXY(xy);listWrap.setScrollLeft(scrollPos.left);listWrap.setScrollTop(scrollPos.top)},measureContentWidth:function(ownerContext){return this.owner.listWrap.getWidth()},measureContentHeight:function(ownerContext){return this.owner.listWrap.getHeight()},publishInnerHeight:function(ownerContext,height){var toolbar=ownerContext.toolbarContext,toolbarHeight=0;toolbar&&(toolbarHeight=toolbar.getProp('height'));void 0===toolbarHeight?this.done=!1:ownerContext.listContext.setHeight(height-ownerContext.getFrameInfo().height-
toolbarHeight)},calculateOwnerHeightFromContentHeight:function(ownerContext){var height=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments),toolbar=ownerContext.toolbarContext;toolbar&&(height+=toolbar.getProp('height'));return height}},0,0,0,0,['layout.boundlist'],0,[Ext.layout.component,'BoundList'],0);
Ext.cmd.derive('Ext.toolbar.Item',Ext.Component,{alternateClassName:'Ext.Toolbar.Item',enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn},0,['tbitem'],['component','box','tbitem'],{component:!0,box:!0,tbitem:!0},['widget.tbitem'],0,[Ext.toolbar,'Item',Ext.Toolbar,'Item'],0);
Ext.cmd.derive('Ext.toolbar.TextItem',Ext.toolbar.Item,{alternateClassName:'Ext.Toolbar.TextItem',text:'',baseCls:'x-toolbar-text',ariaRole:null,beforeRender:function(){var text=this.text;Ext.toolbar.Item.prototype.beforeRender.call(this);text&&(this.html=text)},setText:function(text){this.update(text)}},0,['tbtext'],['component','box','tbitem','tbtext'],{component:!0,box:!0,tbitem:!0,tbtext:!0},['widget.tbtext'],0,[Ext.toolbar,'TextItem',Ext.Toolbar,'TextItem'],0);
Ext.cmd.derive('Ext.form.trigger.Spinner',Ext.form.trigger.Trigger,{cls:'x-form-trigger-spinner',spinnerCls:'x-form-spinner',spinnerUpCls:'x-form-spinner-up',spinnerDownCls:'x-form-spinner-down',focusCls:'x-form-spinner-focus',overCls:'x-form-spinner-over',clickCls:'x-form-spinner-click',focusFieldOnClick:!0,vertical:!0,bodyTpl:'\x3ctpl if\x3d"vertical"\x3e\x3cdiv class\x3d"{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"\x3e\x3c/div\x3e\x3c/tpl\x3e\x3cdiv class\x3d"{spinnerCls} {spinnerCls}-{ui} {spinnerDownCls} {spinnerDownCls}-{ui} {childElCls} {downDisabledCls}"\x3e\x3c/div\x3e\x3ctpl if\x3d"!vertical"\x3e\x3cdiv class\x3d"{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"\x3e\x3c/div\x3e\x3c/tpl\x3e',
destroy:function(){this.spinnerEl&&(this.spinnerEl.destroy(),this.spinnerEl=this.upEl=this.downEl=null);Ext.form.trigger.Trigger.prototype.destroy.call(this)},getBodyRenderData:function(){return{vertical:this.vertical,upDisabledCls:this.upEnabled?'':this.spinnerUpCls+'-disabled',downDisabledCls:this.downEnabled?'':this.spinnerDownCls+'-disabled',spinnerCls:this.spinnerCls,spinnerUpCls:this.spinnerUpCls,spinnerDownCls:this.spinnerDownCls}},getStateEl:function(){return this.spinnerEl},onClick:function(){var args=
arguments;args=this.clickRepeater?args[1]:args[0];var field=this.field;field.readOnly||field.disabled||(this.upEl.contains(args.target)?Ext.callback(this.upHandler,this.scope,[field,this,args],0,field):this.downEl.contains(args.target)&&Ext.callback(this.downHandler,this.scope,[field,this,args],0,field));field.inputEl.focus()},onFieldRender:function(){var vertical=this.vertical;Ext.form.trigger.Trigger.prototype.onFieldRender.call(this);var elements=(this.spinnerEl=this.el.select('.'+this.spinnerCls,
!0)).elements;this.upEl=vertical?elements[0]:elements[1];this.downEl=vertical?elements[1]:elements[0]},setUpEnabled:function(enabled){this.upEl[enabled?'removeCls':'addCls'](this.spinnerUpCls+'-disabled')},setDownEnabled:function(enabled){this.downEl[enabled?'removeCls':'addCls'](this.spinnerDownCls+'-disabled')}},0,0,0,0,['trigger.spinner'],0,[Ext.form.trigger,'Spinner'],0);
Ext.cmd.derive('Ext.form.field.Spinner',Ext.form.field.Text,{alternateClassName:'Ext.form.Spinner',config:{triggers:{spinner:{type:'spinner',upHandler:'onSpinnerUpClick',downHandler:'onSpinnerDownClick',endHandler:'onSpinEnd',scope:'this'}}},spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:'spinbutton',applyTriggers:function(triggers){var spinnerTrigger=triggers.spinner;spinnerTrigger.upEnabled=this.spinUpEnabled;
spinnerTrigger.downEnabled=this.spinDownEnabled;return Ext.form.field.Text.prototype.applyTriggers.call(this,triggers)},onRender:function(){var spinnerTrigger=this.getTrigger('spinner');(arguments.callee.$previous||Ext.form.field.Text.prototype.onRender).call(this);this.keyNavEnabled&&(this.spinnerKeyNav=new Ext.util.KeyNav({target:this.inputEl,scope:this,up:this.spinUp,down:this.spinDown}),this.inputEl.on({keyup:this.onInputElKeyUp,scope:this}));this.mouseWheelEnabled&&this.mon(this.bodyEl,'wheel',
this.onMouseWheel,this);this.spinUpEl=spinnerTrigger.upEl;this.spinDownEl=spinnerTrigger.downEl},onSpinnerUpClick:function(){this.spinUp()},onSpinnerDownClick:function(){this.spinDown()},spinUp:function(){this.spinUpEnabled&&!this.disabled&&(this.fireEvent('spin',this,'up'),this.fireEvent('spinup',this),this.onSpinUp())},spinDown:function(){this.spinDownEnabled&&!this.disabled&&(this.fireEvent('spin',this,'down'),this.fireEvent('spindown',this),this.onSpinDown())},setSpinUpEnabled:function(enabled){var wasEnabled=
this.spinUpEnabled;this.spinUpEnabled=enabled;wasEnabled!==enabled&&this.rendered&&this.getTrigger('spinner').setUpEnabled(enabled)},setSpinDownEnabled:function(enabled){var wasEnabled=this.spinDownEnabled;this.spinDownEnabled=enabled;wasEnabled!==enabled&&this.rendered&&this.getTrigger('spinner').setDownEnabled(enabled)},onMouseWheel:function(e){if(this.hasFocus){var delta=e.getWheelDelta();0<delta?this.spinDown():0>delta&&this.spinUp();e.stopEvent();this.onSpinEnd()}},onInputElKeyUp:function(e){if(e.keyCode===
e.UP||e.keyCode===e.DOWN)this.onSpinEnd()},doDestroy:function(){Ext.destroyMembers(this,'spinnerKeyNav');Ext.form.field.Text.prototype.doDestroy.call(this)}},0,['spinnerfield'],['component','box','field','textfield','spinnerfield'],{component:!0,box:!0,field:!0,textfield:!0,spinnerfield:!0},['widget.spinnerfield'],0,[Ext.form.field,'Spinner',Ext.form,'Spinner'],function(Spinner){Spinner.prototype.onSpinEnd=Ext.Function.createBuffered(function(){this.destroying||this.destroyed||this.fireEvent('spinend',
this)},100)});
Ext.cmd.derive('Ext.form.field.Number',Ext.form.field.Spinner,{alternateClassName:['Ext.form.NumberField','Ext.form.Number'],allowExponential:!0,allowDecimals:!0,decimalSeparator:null,submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:'The minimum value for this field is {0}',maxText:'The maximum value for this field is {0}',nanText:'{0} is not a valid number',negativeText:'The value cannot be negative',baseChars:'0123456789',autoStripChars:!1,
initComponent:function(){null===this.decimalSeparator&&(this.decimalSeparator=Ext.util.Format.decimalSeparator);Ext.form.field.Spinner.prototype.initComponent.call(this);this.setMinValue(this.minValue);this.setMaxValue(this.maxValue)},getSubTplData:function(fieldData){var min=this.minValue,max=this.maxValue,inputElAttr;fieldData=Ext.form.field.Spinner.prototype.getSubTplData.call(this,fieldData);if(inputElAttr=fieldData.inputElAriaAttributes){min>Number.NEGATIVE_INFINITY&&(inputElAttr['aria-valuemin']=
min);max<Number.MAX_VALUE&&(inputElAttr['aria-valuemax']=max);var value=this.getValue();null!=value&&value>=min&&value<=max&&(inputElAttr['aria-valuenow']=value)}return fieldData},setValue:function(value){var bind;return this.hasFocus&&(bind=(bind=this.getBind())&&bind.value)&&bind.syncing&&value===this.value?this:Ext.form.field.Spinner.prototype.setValue.call(this,value)},getErrors:function(value){value=0<arguments.length?value:this.processRawValue(this.getRawValue());var errors=Ext.form.field.Spinner.prototype.getErrors.call(this,
value),format=Ext.String.format;if(1>value.length)return errors;value=String(value).replace(this.decimalSeparator,'.');isNaN(value)&&errors.push(format(this.nanText,value));var num=this.parseValue(value);0===this.minValue&&0>num?errors.push(this.negativeText):num<this.minValue&&errors.push(format(this.minText,this.minValue));num>this.maxValue&&errors.push(format(this.maxText,this.maxValue));return errors},rawToValue:function(rawValue){var value=this.fixPrecision(this.parseValue(rawValue));null===
value&&(value=rawValue||null);return value},valueToRaw:function(value){var decimalSeparator=this.decimalSeparator;value=this.parseValue(value);value=this.fixPrecision(value);value=Ext.isNumber(value)?value:parseFloat(String(value).replace(decimalSeparator,'.'));return value=isNaN(value)?'':String(value).replace('.',decimalSeparator)},getSubmitValue:function(){var value=Ext.form.field.Spinner.prototype.getSubmitValue.call(this);this.submitLocaleSeparator||(value=value.replace(this.decimalSeparator,
'.'));return value},onChange:function(newValue){var ariaDom=this.ariaEl.dom;this.toggleSpinners();Ext.form.field.Spinner.prototype.onChange.apply(this,arguments);ariaDom&&(Ext.isNumber(newValue)&&isFinite(newValue)?ariaDom.setAttribute('aria-valuenow',newValue):ariaDom.removeAttribute('aria-valuenow'))},toggleSpinners:function(){var value=this.getValue(),valueIsNull=null===value;if(this.spinUpEnabled||this.spinUpDisabledByToggle){var enabled=valueIsNull||value<this.maxValue;this.setSpinUpEnabled(enabled,
!0)}if(this.spinDownEnabled||this.spinDownDisabledByToggle)enabled=valueIsNull||value>this.minValue,this.setSpinDownEnabled(enabled,!0)},setMinValue:function(value){var ariaDom=this.ariaEl.dom;this.minValue=value=Ext.Number.from(value,Number.NEGATIVE_INFINITY);this.toggleSpinners();ariaDom&&(value>Number.NEGATIVE_INFINITY?ariaDom.setAttribute('aria-valuemin',value):ariaDom.removeAttribute('aria-valuemin'));!0!==this.disableKeyFilter&&(ariaDom=this.baseChars+'',this.allowExponential?ariaDom+=this.decimalSeparator+
'e+-':(this.allowDecimals&&(ariaDom+=this.decimalSeparator),0>this.minValue&&(ariaDom+='-')),ariaDom=Ext.String.escapeRegex(ariaDom),this.maskRe=new RegExp('['+ariaDom+']'),this.autoStripChars&&(this.stripCharsRe=new RegExp('[^'+ariaDom+']','gi')))},setMaxValue:function(value){var ariaDom=this.ariaEl.dom;this.maxValue=value=Ext.Number.from(value,Number.MAX_VALUE);ariaDom&&(value<Number.MAX_VALUE?ariaDom.setAttribute('aria-valuemax',value):ariaDom.removeAttribute('aria-valuemax'));this.toggleSpinners()},
parseValue:function(value){value=parseFloat(String(value).replace(this.decimalSeparator,'.'));return isNaN(value)?null:value},fixPrecision:function(value){var nan=isNaN(value),precision=this.decimalPrecision;if(nan||!value)return nan?'':value;if(!this.allowDecimals||0>=precision)precision=0;return parseFloat(Ext.Number.toFixed(parseFloat(value),precision))},onBlur:function(e){var v=this.rawToValue(this.getRawValue());Ext.isEmpty(v)||this.setValue(v);Ext.form.field.Spinner.prototype.onBlur.call(this,
e)},setSpinUpEnabled:function(enabled,internal){Ext.form.field.Spinner.prototype.setSpinUpEnabled.apply(this,arguments);internal?this.spinUpDisabledByToggle=!enabled:delete this.spinUpDisabledByToggle},onSpinUp:function(){this.readOnly||this.setSpinValue(Ext.Number.constrain(this.getValue()+this.step,this.minValue,this.maxValue))},setSpinDownEnabled:function(enabled,internal){Ext.form.field.Spinner.prototype.setSpinDownEnabled.apply(this,arguments);internal?this.spinDownDisabledByToggle=!enabled:
delete this.spinDownDisabledByToggle},onSpinDown:function(){this.readOnly||this.setSpinValue(Ext.Number.constrain(this.getValue()-this.step,this.minValue,this.maxValue))},setSpinValue:function(value){this.enforceMaxLength&&this.fixPrecision(value).toString().length>this.maxLength||this.setValue(value)}},0,['numberfield'],'component box field textfield spinnerfield numberfield'.split(' '),{component:!0,box:!0,field:!0,textfield:!0,spinnerfield:!0,numberfield:!0},['widget.numberfield'],0,[Ext.form.field,
'Number',Ext.form,'NumberField',Ext.form,'Number'],0);
Ext.cmd.derive('Ext.toolbar.Paging',Ext.toolbar.Toolbar,{alternateClassName:'Ext.PagingToolbar',displayInfo:!1,prependButtons:!1,displayMsg:'Displaying {0} - {1} of {2}',emptyMsg:'No data to display',beforePageText:'Page',afterPageText:'of {0}',firstText:'First Page',prevText:'Previous Page',nextText:'Next Page',lastText:'Last Page',refreshText:'Refresh',inputItemWidth:30,emptyPageData:{total:0,currentPage:0,pageCount:0,toRecord:0,fromRecord:0},defaultBindProperty:'store',_pagingToolbarCls:'x-grid-paging-toolbar',
getPagingItems:function(){var inputListeners={scope:this,blur:this.onPagingBlur};inputListeners[Ext.supports.SpecialKeyDownRepeat?'keydown':'keypress']=this.onPagingKeyDown;return[{itemId:'first',tooltip:this.firstText,overflowText:this.firstText,iconCls:'x-tbar-page-first',disabled:!0,handler:this.moveFirst,scope:this},{itemId:'prev',tooltip:this.prevText,overflowText:this.prevText,iconCls:'x-tbar-page-prev',disabled:!0,handler:this.movePrevious,scope:this},'-',this.beforePageText,{xtype:'numberfield',
itemId:'inputItem',name:'inputItem',cls:'x-tbar-page-number',allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:this.inputItemWidth,margin:'-1 2 3 2',listeners:inputListeners},{xtype:'tbtext',itemId:'afterTextItem',html:Ext.String.format(this.afterPageText,1)},'-',{itemId:'next',tooltip:this.nextText,overflowText:this.nextText,iconCls:'x-tbar-page-next',disabled:!0,handler:this.moveNext,scope:this},{itemId:'last',tooltip:this.lastText,
overflowText:this.lastText,iconCls:'x-tbar-page-last',disabled:!0,handler:this.moveLast,scope:this},'-',{itemId:'refresh',tooltip:this.refreshText,overflowText:this.refreshText,iconCls:'x-tbar-loading',disabled:this.store.isLoading(),handler:this.doRefresh,scope:this}]},initComponent:function(){var userItems=this.items||this.buttons||[];this.bindStore(this.store||'ext-empty-store',!0);var pagingItems=this.getPagingItems();this.items=this.prependButtons?userItems.concat(pagingItems):pagingItems.concat(userItems);
delete this.buttons;this.displayInfo&&(this.items.push('-\x3e'),this.items.push({xtype:'tbtext',itemId:'displayItem'}));Ext.toolbar.Toolbar.prototype.initComponent.call(this)},beforeRender:function(){Ext.toolbar.Toolbar.prototype.beforeRender.apply(this,arguments);this.updateBarInfo()},afterRender:function(){Ext.toolbar.Toolbar.prototype.afterRender.call(this);this.el.addCls(this._pagingToolbarCls)},onAdded:function(owner){var oldStore=this.store,autoStore=this._autoStore;void 0===autoStore&&(this._autoStore=
autoStore=!(oldStore&&!oldStore.isEmptyStore));if(autoStore){if(oldStore=this._storeChangeListener)oldStore.destroy(),oldStore=null;(autoStore=owner&&owner.store)&&(oldStore=owner.on({destroyable:!0,scope:this,storechange:'onOwnerStoreChange'}));this._storeChangeListener=oldStore;this.onOwnerStoreChange(owner,autoStore)}Ext.toolbar.Toolbar.prototype.onAdded.apply(this,arguments)},onOwnerStoreChange:function(owner,store){this.setStore(store||Ext.getStore('ext-empty-store'))},updateBarInfo:function(){this.store.isLoading()||
(this.calledInternal=!0,this.onLoad(),this.calledInternal=!1)},updateInfo:function(){var displayItem=this.child('#displayItem'),store=this.store,pageData=this.getPageData();displayItem&&(store=store.getCount(),pageData=0===store?this.emptyMsg:Ext.String.format(this.displayMsg,pageData.fromRecord,pageData.toRecord,pageData.total),displayItem.setText(pageData))},onLoad:function(){var currPage,isEmpty,item;if(isEmpty=0===this.store.getCount()){var pageCount=currPage=0;var afterText=Ext.String.format(this.afterPageText,
0)}else{var pageData=this.getPageData();currPage=pageData.currentPage;pageCount=pageData.pageCount;if(currPage>pageCount){0<pageCount?this.store.loadPage(pageCount):this.getInputItem().reset();return}afterText=Ext.String.format(this.afterPageText,isNaN(pageCount)?1:pageCount)}Ext.suspendLayouts();(item=this.child('#afterTextItem'))&&item.update(afterText);(item=this.getInputItem())&&item.setDisabled(isEmpty).setValue(currPage);this.setChildDisabled('#first',1===currPage||isEmpty);this.setChildDisabled('#prev',
1===currPage||isEmpty);this.setChildDisabled('#next',currPage===pageCount||isEmpty);this.setChildDisabled('#last',currPage===pageCount||isEmpty);this.setChildDisabled('#refresh',!1);this.updateInfo();Ext.resumeLayouts(!0);this.calledInternal||this.fireEvent('change',this,pageData||this.emptyPageData)},setChildDisabled:function(selector,disabled){(selector=this.child(selector))&&selector.setDisabled(disabled)},getPageData:function(){var store=this.store,totalCount=store.getTotalCount(),pageCount=Math.ceil(totalCount/
store.pageSize),toRecord=Math.min(store.currentPage*store.pageSize,totalCount);return{total:totalCount,currentPage:store.currentPage,pageCount:Ext.Number.isFinite(pageCount)?pageCount:1,fromRecord:(store.currentPage-1)*store.pageSize+1,toRecord:toRecord||totalCount}},onLoadError:function(){this.setChildDisabled('#refresh',!1)},getInputItem:function(){return this.child('#inputItem')},readPageFromInput:function(pageData){var inputItem=this.getInputItem(),pageNum=!1;if(inputItem){var v=inputItem.getValue();
pageNum=parseInt(v,10);if(!v||isNaN(pageNum))return inputItem.setValue(pageData.currentPage),!1}return pageNum},onPagingBlur:function(e){e=this.getInputItem();if(e){var curPage=this.getPageData().currentPage;e.setValue(curPage)}},onPagingKeyDown:function(field,e){this.processKeyEvent(field,e)},processKeyEvent:function(field,e){var key=e.getKey(),pageData=this.getPageData(),increment=e.shiftKey?10:1;if(key===e.RETURN){e.stopEvent();var pageNum=this.readPageFromInput(pageData);!1!==pageNum&&(pageNum=
Math.min(Math.max(1,pageNum),pageData.pageCount),pageNum!==pageData.currentPage&&!1!==this.fireEvent('beforechange',this,pageNum)&&this.store.loadPage(pageNum))}else if(key===e.HOME||key===e.END)e.stopEvent(),pageNum=key===e.HOME?1:pageData.pageCount,field.setValue(pageNum);else if(key===e.UP||key===e.PAGE_UP||key===e.DOWN||key===e.PAGE_DOWN)if(e.stopEvent(),pageNum=this.readPageFromInput(pageData)){if(key===e.DOWN||key===e.PAGE_DOWN)increment*=-1;pageNum+=increment;1<=pageNum&&pageNum<=pageData.pageCount&&
field.setValue(pageNum)}},beforeLoad:function(){this.setChildDisabled('#refresh',!0)},moveFirst:function(){return!1!==this.fireEvent('beforechange',this,1)?(this.store.loadPage(1),!0):!1},movePrevious:function(){var store=this.store,prev=store.currentPage-1;return 0<prev&&!1!==this.fireEvent('beforechange',this,prev)?(store.previousPage(),!0):!1},moveNext:function(){var store=this.store,total=this.getPageData().pageCount,next=store.currentPage+1;return next<=total&&!1!==this.fireEvent('beforechange',
this,next)?(store.nextPage(),!0):!1},moveLast:function(){var last=this.getPageData().pageCount;return!1!==this.fireEvent('beforechange',this,last)?(this.store.loadPage(last),!0):!1},doRefresh:function(){var store=this.store,current=store.currentPage;return!1!==this.fireEvent('beforechange',this,current)?(store.loadPage(current),!0):!1},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},onBindStore:function(){this.rendered&&this.updateBarInfo()},
doDestroy:function(){var listener=this._storeChangeListener;listener&&(listener.destroy(),this._storeChangeListener=null);this.bindStore(null);Ext.toolbar.Toolbar.prototype.doDestroy.call(this)}},0,['pagingtoolbar'],['component','box','container','toolbar','pagingtoolbar'],{component:!0,box:!0,container:!0,toolbar:!0,pagingtoolbar:!0},['widget.pagingtoolbar'],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.toolbar,'Paging',Ext,'PagingToolbar'],
0);Ext.define('Ext.theme.neptune.toolbar.Paging',{override:'Ext.toolbar.Paging',defaultButtonUI:'plain-toolbar',inputItemWidth:40});Ext.define('Ext.theme.triton.toolbar.Paging',{override:'Ext.toolbar.Paging',inputItemWidth:50});
Ext.cmd.derive('Ext.view.BoundList',Ext.view.View,{alternateClassName:'Ext.BoundList',pageSize:0,baseCls:'x-boundlist',itemCls:'x-boundlist-item',listItemCls:'',shadow:!1,trackOver:!0,preserveScrollOnRefresh:!0,enableInitialSelection:!1,refreshSelmodelOnRefresh:!0,componentLayout:'boundlist',navigationModel:'boundlist',scrollable:!0,ariaEl:'listEl',tabIndex:-1,childEls:['listWrap','listEl'],renderTpl:['\x3cdiv id\x3d"{id}-listWrap" data-ref\x3d"listWrap"',' class\x3d"{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,
'"\x3e','\x3cul id\x3d"{id}-listEl" data-ref\x3d"listEl" class\x3d"','x-','list-plain"','\x3ctpl foreach\x3d"ariaAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e','\x3e','\x3c/ul\x3e','\x3c/div\x3e','{%','var pagingToolbar\x3dvalues.$comp.pagingToolbar;','if (pagingToolbar) {','Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);','}','%}',{disableFormats:!0}],focusOnToFront:!1,alignOnScroll:!1,initComponent:function(){var baseCls=this.baseCls,itemCls=this.itemCls;this.selectedItemCls=baseCls+
'-selected';this.trackOver&&(this.overItemCls=baseCls+'-item-over');this.itemSelector='.'+itemCls;this.floating&&this.addCls(baseCls+'-floating');this.tpl?this.tpl.isTemplate||(this.tpl=new Ext.XTemplate(this.tpl)):this.generateTpl();this.pageSize&&(this.pagingToolbar=this.createPagingToolbar());Ext.view.View.prototype.initComponent.call(this)},generateTpl:function(){this.tpl=new Ext.XTemplate('\x3ctpl for\x3d"."\x3e','\x3cli role\x3d"option" unselectable\x3d"on" class\x3d"'+this.itemCls+'"\x3e'+
this.getInnerTpl(this.displayField)+'\x3c/li\x3e','\x3c/tpl\x3e')},setDisplayField:function(displayField){this.displayField=displayField;this.generateTpl()},getRefOwner:function(){return this.pickerField||Ext.view.View.prototype.getRefOwner.call(this)},getRefItems:function(){var result=Ext.view.View.prototype.getRefItems.call(this),toolbar=this.pagingToolbar;toolbar&&result.push(toolbar);return result},createPagingToolbar:function(){return new Ext.toolbar.Paging({id:this.id+'-paging-toolbar',pageSize:this.pageSize,
store:this.dataSource,border:!1,ownerCt:this,ownerLayout:this.getComponentLayout()})},refresh:function(){var tpl=this.tpl;tpl.field=this.pickerField;tpl.store=this.store;Ext.view.View.prototype.refresh.call(this);tpl.field=tpl.store=null;this.ariaStaticRoles[this.ariaRole]||this.refreshAriaAttributes()},refreshAriaAttributes:function(){var store=this.store,selModel=this.getSelectionModel(),len;var totalCount=store.isFiltered()?store.getCount():store.getTotalCount()||store.getCount();var nodes=this.getNodes();
var multiSelect=this.pickerField&&this.pickerField.multiSelect;var i=0;for(len=nodes.length;i<len;i++){var node=nodes[i];var record=null;if(totalCount!==len){record=this.getRecord(node);var index=store.indexOf(record);node.setAttribute('aria-setsize',totalCount);node.setAttribute('aria-posinset',index)}multiSelect&&(record=record||this.getRecord(node),node.setAttribute('aria-selected',selModel.isSelected(record)))}},bindStore:function(store,initial){var toolbar=this.pagingToolbar;Ext.view.View.prototype.bindStore.apply(this,
arguments);toolbar&&toolbar.bindStore(store,initial)},getInnerTpl:function(displayField){return'{'+displayField+'}'},onShow:function(){var field=this.pickerField;Ext.view.View.prototype.onShow.call(this);field&&field.rendered&&!field.hasFocus&&!Ext.isTouchMode()&&field.focus()},afterComponentLayout:function(width,height,oldWidth,oldHeight){var field=this.pickerField;Ext.view.View.prototype.afterComponentLayout.call(this,width,height,oldWidth,oldHeight);field&&field.alignPicker&&field.alignPicker()},
onItemSelect:function(record){(record=Ext.view.View.prototype.onItemSelect.call(this,record))&&(this.ariaSelectable?record.setAttribute('aria-selected','true'):record.removeAttribute('aria-selected'));return record},onItemDeselect:function(record){(record=Ext.view.View.prototype.onItemDeselect.call(this,record))&&this.ariaSelectable&&(this.pickerField&&this.pickerField.multiSelect?record.setAttribute('aria-selected','false'):record.removeAttribute('aria-selected'));return record},onItemClick:function(record){var field=
this.pickerField;if(field){var valueField=field.valueField;var selected=this.getSelectionModel().getSelection();!field.multiSelect&&selected.length&&(selected=selected[0])&&field.isEqual(record.get(valueField),selected.get(valueField))&&field.collapse&&field.collapse()}},onContainerClick:function(e){var toolbar=this.pagingToolbar;if(toolbar&&toolbar.rendered&&e.within(toolbar.el))return!1;if(Ext.isIE10||Ext.isIE11)if(toolbar=this.listWrap.getClientRegion(),!e.getPoint().isContainedBy(toolbar))return!1},
doDestroy:function(){this.pagingToolbar=Ext.destroy(this.pagingToolbar);Ext.view.View.prototype.doDestroy.call(this)},privates:{getNodeContainer:function(){return this.listEl},getTargetEl:function(){return this.listEl},getOverflowEl:function(){return this.listWrap},finishRenderChildren:function(){var toolbar=this.pagingToolbar;Ext.view.View.prototype.finishRenderChildren.apply(this,arguments);toolbar&&toolbar.finishRender()}}},0,['boundlist'],['component','box','dataview','boundlist'],{component:!0,
box:!0,dataview:!0,boundlist:!0},['widget.boundlist'],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.view,'BoundList',Ext,'BoundList'],0);
Ext.cmd.derive('Ext.form.field.ComboBox',Ext.form.field.Picker,{alternateClassName:'Ext.form.ComboBox',config:{filters:null,selection:null,valueNotFoundText:null,displayTpl:null,delimiter:', ',displayField:'text'},publishes:['selection'],twoWayBindable:['selection'],triggerCls:'x-form-arrow-trigger',hiddenName:'',collapseOnSelect:!1,hiddenDataCls:'x-hidden-display x-form-data-hidden',ariaRole:'combobox',autoDestroyBoundStore:!0,childEls:{hiddenDataEl:!0},filtered:!1,afterRender:function(){Ext.form.field.Picker.prototype.afterRender.apply(this,
arguments);this.setHiddenValue(this.value)},multiSelect:!1,triggerAction:'all',allQuery:'',queryParam:'query',queryMode:'remote',queryCaching:!0,autoLoadOnValue:!1,pageSize:0,anyMatch:!1,caseSensitive:!1,autoSelectMatches:!0,autoSelect:!0,autoSelectLast:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,clearFilterOnBlur:!0,forceResetCaret:!1,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:'sides'},transformInPlace:!0,clearValueOnEmpty:!0,
newlineRe:/\r?\n/g,getGrowWidth:function(){var value=this.inputEl.dom.value,currentLongestLength,i;if(this.growToLongestValue){var field=this.displayField;var store=this.store;var dataLn=store.data.length;for(i=currentLongestLength=0;i<dataLn;i++){var item=store.getAt(i).data[field];var itemLn=item.length;itemLn>currentLongestLength&&(currentLongestLength=itemLn,value=item)}}return value},initComponent:function(){var isDefined=Ext.isDefined,store=this.store,transform=this.transform,transformSelect;
'pinList'in this&&(this.collapseOnSelect=!this.pinList);transform&&(transformSelect=Ext.getDom(transform))&&(this.store||(store=Ext.Array.map(Ext.Array.from(transformSelect.options),function(option){return[option.value,option.text]})),this.name||(this.name=transformSelect.name),'value'in this||(this.value=transformSelect.value));this.displayTpl&&!this.displayTpl.auto||this.setDisplayTpl(!1);this.bindStore(store||'ext-empty-store',!0,!0);store='local'===this.queryMode;isDefined(this.queryDelay)||(this.queryDelay=
store?10:500);isDefined(this.minChars)||(this.minChars=store?0:4);Ext.form.field.Picker.prototype.initComponent.call(this);this.doQueryTask=new Ext.util.DelayedTask(this.doRawQuery,this);transformSelect&&(this.transformInPlace&&(this.render(transformSelect.parentNode,transformSelect),delete this.renderTo),Ext.removeNode(transformSelect))},initEvents:function(){Ext.form.field.Picker.prototype.initEvents.call(this);this.altArrowKeyNav=new Ext.util.KeyNav({target:this.inputEl,forceKeyDown:!0,priority:1002,
scope:this,down:{alt:!0,handler:this.onAltDownArrow},up:{alt:!0,handler:this.onAltUpArrow}})},getSubTplData:function(fieldData){var id=this.id,ariaAttr;fieldData=Ext.form.field.Picker.prototype.getSubTplData.call(this,fieldData);!this.ariaStaticRoles[this.ariaRole]&&(ariaAttr=fieldData.ariaElAttributes)&&(ariaAttr['aria-owns']=id+'-inputEl '+id+'-picker-listEl',ariaAttr['aria-autocomplete']='list');return fieldData},getSubTplMarkup:function(fieldData){var hiddenDataElMarkup='',markup=Ext.form.field.Picker.prototype.getSubTplMarkup.apply(this,
arguments);this.hiddenName&&(hiddenDataElMarkup='\x3cdiv id\x3d"'+fieldData.id+'-hiddenDataEl" data-ref\x3d"hiddenDataEl" class\x3d"'+this.hiddenDataCls+'" role\x3d"presentation"\x3e\x3c/div\x3e');return hiddenDataElMarkup+markup},applyDisplayTpl:function(displayTpl){displayTpl?displayTpl.isTemplate||(displayTpl=new Ext.XTemplate(displayTpl)):(displayTpl=new Ext.XTemplate('\x3ctpl for\x3d"."\x3e{[typeof values \x3d\x3d\x3d "string" ? values : values["'+this.getDisplayField()+'"]]}\x3ctpl if\x3d"xindex \x3c xcount"\x3e'+
this.getDelimiter()+'\x3c/tpl\x3e\x3c/tpl\x3e'),displayTpl.auto=!0);return displayTpl},applyFilters:function(filters,collection){var me=this;if(null===filters||filters.isFilterCollection)return filters;filters&&(collection||(collection=this.getFilters()),collection.beginUpdate(),collection.splice(0,collection.length,filters),collection.each(function(filter){filter.ownerId=me.id}),collection.endUpdate());return collection},applyValueNotFoundText:function(v){var displayField=this.getDisplayField(),
valueField=this.valueField,valueNotFoundRecord=this.valueNotFoundRecord;valueNotFoundRecord||(valueNotFoundRecord=this.valueNotFoundRecord=new Ext.data.Model);valueNotFoundRecord.set(displayField,v);valueField&&displayField!==valueField&&valueNotFoundRecord.set(valueField,v);return v},updateDisplayField:function(displayField){displayField&&this.displayTpl&&this.displayTpl.auto&&(this.setDisplayTpl(!1),this.setRawValue(this.getDisplayValue()))},getFilters:function(autoCreate){var ret=this.filters;
ret||!1===autoCreate||(ret=new Ext.util.FilterCollection,this.setFilters(ret));return ret},updateFilters:function(newFilters,oldFilters){oldFilters&&oldFilters.un('endupdate','onEndUpdateFilters',this);if(newFilters)newFilters.on('endupdate','onEndUpdateFilters',this);this.onEndUpdateFilters(newFilters)},onEndUpdateFilters:function(filters){var me=this,is=!!filters&&0<filters.length;if(me.filtered||is){me.filtered=is;var old=[];is=me.store.getFilters();is.each(function(filter){filter.ownerId!==me.id||
filters.contains(filter)||old.push(filter)});is.splice(0,old,filters.items)}},clearLocalFilter:function(){var filter=this.queryFilter;filter&&(this.queryFilter=null,this.changingFilters=!0,this.store.removeFilter(filter,!0),this.changingFilters=!1)},completeEdit:function(e){Ext.form.field.Picker.prototype.completeEdit.call(this,e);this.doQueryTask.cancel();this.assertValue();this.queryFilter&&'local'===this.queryMode&&this.clearFilterOnBlur&&this.clearLocalFilter()},onFocus:function(e){Ext.isTouchMode()&&
this.getPicker().getEl().focus();Ext.form.field.Picker.prototype.onFocus.call(this,e);'all'!==this.triggerAction&&this.queryFilter&&'local'===this.queryMode&&this.clearFilterOnBlur&&(delete this.lastQuery,this.doRawQuery());this.forceResetCaret&&this.inputEl&&(Ext.isIE||Ext.isSafari)&&this.setCaretPos(0)},onAltDownArrow:function(e){e.stopEvent();if(!this.isExpanded)this.onDownArrow(e);return!1},onAltUpArrow:function(e){e.stopEvent();if(this.isExpanded)this.onEsc(e);return!1},assertValue:function(){var rawValue=
this.getRawValue(),displayValue=this.getDisplayValue(),lastRecords=this.lastSelectedRecords,preventChange=!1,needToSelect=!1,value;if(this.forceSelection)if(this.multiSelect)rawValue!==displayValue&&this.setRawValue(displayValue);else if(rawValue=this.findRecordByDisplay(rawValue),rawValue?this.getDisplayValue([this.getRecordDisplayData(rawValue)])===displayValue&&(rawValue=null,preventChange=!0):(this.displayTplData&&this.displayTplData.length&&(rawValue=this.findRecordByValue(this.displayTplData[0][this.valueField])),
rawValue||!lastRecords||this.allowBlank&&!this.rawValue||(rawValue=lastRecords[0],needToSelect=!0)),rawValue){if(needToSelect||!lastRecords||lastRecords[0]!==rawValue)this.select(rawValue,!0),this.fireEvent('select',this,rawValue)}else preventChange||(lastRecords&&delete this.lastSelectedRecords,this.setRawValue(''));else(value=this.getValue())&&value==rawValue&&(rawValue=this.findRecordByDisplay(value))&&rawValue!==(lastRecords&&lastRecords[0])&&(this.select(rawValue,!0),this.fireEvent('select',
this,rawValue));this.collapse()},onTypeAhead:function(){var displayField=this.displayField,record=this.store.findRecord(displayField,this.getRawValue());if(record){displayField=record.get(displayField);record=displayField.length;var selStart=this.getRawValue().length;0!==selStart&&selStart!==record&&(this.lastMutatedValue=displayField,this.setRawValue(displayField),this.selectText(selStart,displayField.length))}},resetToDefault:Ext.emptyFn,beforeReset:function(){Ext.form.field.Picker.prototype.beforeReset.call(this);
this.clearLocalFilter()},onUnbindStore:function(){var picker=this.picker;this.queryFilter&&!this.store.destroyed&&this.clearLocalFilter();picker&&picker.bindStore(null);this.pickerSelectionModel.destroy()},onBindStore:function(store,initial){var picker=this.picker;if(store){store.autoCreated&&(this.queryMode='local',this.valueField=this.displayField='field1',store.expanded||(this.displayField='field2'),this.getDisplayTpl().auto&&this.setDisplayTpl(null));Ext.isDefined(this.valueField)||(this.valueField=
this.displayField);var extraKeySpec={byValue:{rootProperty:'data',unique:!1}};extraKeySpec.byValue.property=this.valueField;store.setExtraKeys(extraKeySpec);this.displayField===this.valueField?store.byText=store.byValue:(extraKeySpec.byText={rootProperty:'data',unique:!1},extraKeySpec.byText.property=this.displayField,store.setExtraKeys(extraKeySpec));extraKeySpec={rootProperty:'data',extraKeys:{byInternalId:{property:'internalId'},byValue:{property:this.valueField,rootProperty:'data'}},listeners:{beginupdate:this.onValueCollectionBeginUpdate,
endupdate:this.onValueCollectionEndUpdate,scope:this}};this.valueCollection=new Ext.util.Collection(extraKeySpec);this.pickerSelectionModel=new Ext.selection.DataViewModel({mode:this.multiSelect?'SIMPLE':'SINGLE',ordered:!0,deselectOnContainerClick:!1,enableInitialSelection:!1,pruneRemoved:!1,selected:this.valueCollection,store,listeners:{scope:this,lastselectedchanged:this.updateBindSelection}});initial||this.resetToDefault();picker&&(this.pickerSelectionModel.on({scope:this,beforeselect:this.onBeforeSelect,
beforedeselect:this.onBeforeDeselect}),picker.setSelectionModel(this.pickerSelectionModel),picker.getStore()!==store&&picker.bindStore(store))}},bindStore:function(store,preventFilter,initial){var filter=this.queryFilter;this.mixins.storeholder.bindStore.call(this,store,initial);(store=this.getStore())&&filter&&!preventFilter&&store.getFilters().add(filter);initial||!store||store.isEmptyStore||this.setValueOnData()},getStoreListeners:function(store){if(!store.isEmptyStore){var result={datachanged:this.onDataChanged,
load:this.onLoad,exception:this.onException,update:this.onStoreUpdate,remove:this.checkValueOnChange};store.getRemoteFilter()||(result.filterchange=this.checkValueOnChange);return result}},onDataChanged:function(){this.grow&&this.growToLongestValue&&this.autoSize()},checkValueOnChange:function(){this.destroying||!this.getStore().isLoaded()||this.multiSelect||!this.forceSelection||this.changingFilters||this.findRecordByValue(this.value)||'local'!==this.queryMode&&(this.hasFocus||this.isPaging)||this.setValue(null)},
onStoreUpdate:function(store,record){this.updateValue()},onException:function(){this.isPaging=!1;this.collapse()},onLoad:function(store,records,success){records=!this.valueCollection.byValue.get(this.value);!success||!records||this.isPaging||store.lastOptions&&'rawQuery'in store.lastOptions||this.setValueOnData();this.checkValueOnChange();this.isPaging=!1},setValueOnData:function(){this.setValue(this.value);this.isExpanded&&this.getStore().getCount()&&this.doAutoSelect()},doRawQuery:function(){var rawValue=
this.inputEl.dom.value;this.multiSelect&&(rawValue=rawValue.split(this.delimiter).pop());this.doQuery(rawValue,!1,!0)},doQuery:function(queryString,forceAll,rawQuery){var filters=this.getStore().getFilters();forceAll=this.beforeQuery({lastQuery:this.lastQuery||'',query:queryString||'',rawQuery,forceAll,combo:this,cancel:!1});if(!1===forceAll||forceAll.cancel)this.startCheckChangeTask();else return queryString=!!queryString&&(!this.queryFilter||this.queryFilter&&0>filters.indexOf(this.queryFilter)),
this.queryCaching&&!queryString&&forceAll.query===this.lastQuery?(this.getPicker().refresh(),this.expand(),this.afterQuery(forceAll)):(this.lastQuery=forceAll.query,'local'===this.queryMode?this.doLocalQuery(forceAll):this.doRemoteQuery(forceAll)),!0;return!1},beforeQuery:function(queryPlan){!1===this.fireEvent('beforequery',queryPlan)?queryPlan.cancel=!0:!queryPlan.cancel&&queryPlan.query.length<this.minChars&&!queryPlan.forceAll&&(queryPlan.cancel=!0);return queryPlan},doLocalQuery:function(queryPlan){var queryString=
queryPlan.query,store=this.getStore(),value=queryString;this.clearLocalFilter();if(queryString){if(this.enableRegEx)try{value=new RegExp(value)}catch(e){value=null}null!==value&&(this.changingFilters=!0,queryString=this.queryFilter=new Ext.util.Filter({id:this.id+'-filter',anyMatch:this.anyMatch,caseSensitive:this.caseSensitive,root:'data',property:this.displayField,value}),store.addFilter(queryString,!0),this.changingFilters=!1)}this.store.getCount()||this.getPicker().emptyText?(this.getPicker().refresh(),
this.expand()):this.collapse();this.afterQuery(queryPlan)},doRemoteQuery:function(queryPlan){var me=this,loadCallback=function(){me.destroyed||me.afterQuery(queryPlan)};me.expand();me.pageSize?me.loadPage(1,{rawQuery:queryPlan.rawQuery,callback:loadCallback}):me.store.load({params:me.getParams(queryPlan.query),rawQuery:queryPlan.rawQuery,callback:loadCallback})},afterQuery:function(queryPlan){this.store.getCount()&&(this.typeAhead&&this.doTypeAhead(queryPlan),queryPlan.rawQuery?this.autoSelectMatches&&
this.picker&&queryPlan.query?this.doAutoSelectMatch(queryPlan.query):this.picker&&!this.picker.getSelectionModel().hasSelection()&&this.doAutoSelect():this.doAutoSelect());this.startCheckChangeTask()},loadPage:function(pageNum,options){this.isPaging=!0;this.store.loadPage(pageNum,Ext.apply({params:this.getParams(this.lastQuery)},options))},onPageChange:function(toolbar,newPage){this.loadPage(newPage);return!1},getParams:function(queryString){var params={},param=this.queryParam;param&&(params[param]=
queryString);return params},doAutoSelect:function(){var store=this.store,picker=this.picker,itemNode=0,lastSelected;if(picker&&this.autoSelect&&0<store.getCount()){if(this.autoSelectLast){var selectionModel=picker.getSelectionModel();(lastSelected=selectionModel.lastSelected)&&selectionModel.selected.length&&-1<store.indexOf(lastSelected)&&(itemNode=lastSelected)}picker.getNavigationModel().setPosition(itemNode)}},doAutoSelectMatch:function(queryString){var store=this.store,picker=this.picker,autoSelectMatches=
this.autoSelectMatches,displayField=this.getDisplayField(),index=0,value,valueStore,valueType,filterValue='string'===typeof queryString?queryString.toLowerCase():queryString,minLength=Number.MAX_SAFE_INTEGER;picker&&this.autoSelect&&autoSelectMatches&&store.each(function(record,indexRecord){value=record.get(displayField);valueType=typeof value;valueStore='string'===valueType?value.toLowerCase():value;if(valueStore===filterValue)return index=indexRecord,!1;'string'===valueType&&value.length<minLength?
(minLength=value.length,index=indexRecord):'number'===valueType&&value<minLength&&(minLength=value,index=indexRecord)});picker.getNavigationModel().setPosition(index)},doTypeAhead:function(queryPlan){this.typeAheadTask||(this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this));(queryPlan.query.length>queryPlan.lastQuery.length||!Ext.String.startsWith(queryPlan.lastQuery,queryPlan.query))&&this.typeAheadTask.delay(this.typeAheadDelay)},onTriggerClick:function(comboBox,trigger,e){this.readOnly||
this.disabled||(this.isExpanded?(this.collapse(),e&&'mouse'!==e.pointerType&&trigger.getEl().focus()):e&&'keydown'===e.type&&e.altKey?(comboBox=this.autoSelect,this.autoSelect=!1,this.expand(),this.autoSelect=comboBox):'all'===this.triggerAction?this.doQuery(this.allQuery,!0):'last'===this.triggerAction?this.doQuery(this.lastQuery,!0):this.doQuery(this.getRawValue(),!1,!0),this.forceResetCaret&&this.inputEl&&this.setCaretPos(0))},onFieldMutation:function(e){var key=e.getKey(),isDelete=key===e.BACKSPACE||
key===e.DELETE,rawValue=this.inputEl.dom.value,len=rawValue.length;this.readOnly||rawValue===this.lastMutatedValue&&!isDelete||key===e.TAB||(this.lastMutatedValue=rawValue,this.refreshEmptyText(),!len||'keyup'===e.type&&e.isSpecialKey()&&!isDelete?(len||key&&!isDelete||(++this.suspendCheckChange,this.multiSelect||(this.value=null,this.displayTplData=void 0),this.clearValueOnEmpty&&(this.valueCollection.beginUpdate(),this.pickerSelectionModel.deselectAll(),this.valueCollection.removeAll(),this.valueCollection.endUpdate()),
this.collapse(),this.queryFilter&&this.clearLocalFilter(),this.lastQuery=null,--this.suspendCheckChange),Ext.form.field.Picker.prototype.onFieldMutation.call(this,e)):this.doQueryTask.delay(this.queryDelay))},doDestroy:function(){this.doQueryTask.cancel();this.typeAheadTask&&(this.typeAheadTask.cancel(),this.typeAheadTask=null);this.bindStore(null);Ext.destroy(this.altArrowKeyNav,this.valueCollection);Ext.form.field.Picker.prototype.doDestroy.call(this)},onAdded:function(){Ext.form.field.Picker.prototype.onAdded.apply(this,
arguments);this.picker&&(this.picker.ownerCt=this.up('[floating]'),this.picker.registerWithOwnerCt())},createPicker:function(){var picker=Ext.apply({xtype:'boundlist',id:this.id+'-picker',pickerField:this,selectionModel:this.pickerSelectionModel,floating:!0,hidden:!0,store:this.getPickerStore(),displayField:this.displayField,preserveScrollOnRefresh:!0,pageSize:this.pageSize,tpl:this.tpl,ariaSelectable:this.ariaSelectable},this.listConfig,this.defaultListConfig);picker=this.picker=Ext.widget(picker);
if(this.pageSize)picker.pagingToolbar.on('beforechange',this.onPageChange,this);if(!picker.initialConfig.maxHeight)picker.on({beforeshow:this.onBeforePickerShow,scope:this});picker.getSelectionModel().on({beforeselect:this.onBeforeSelect,beforedeselect:this.onBeforeDeselect,focuschange:this.onFocusChange,scope:this});picker.getNavigationModel().navigateOnSpace=!1;return picker},getPickerStore:function(){return this.store},onBeforePickerShow:function(picker){var heightAbove=this.getPosition()[1]-Ext.getBody().getScroll().top,
heightBelow=Ext.Element.getViewportHeight()-heightAbove-this.getHeight();picker.maxHeight=Math.max(heightAbove,heightBelow)-5},onBeforeSelect:function(list,record,recordIndex){return this.fireEvent('beforeselect',this,record,recordIndex)},onBeforeDeselect:function(list,record,recordIndex){return this.fireEvent('beforedeselect',this,record,recordIndex)},onFocusChange:function(selModel,prevRecord,newRecord){prevRecord=this.picker;selModel=this.inputEl;newRecord&&((newRecord=prevRecord.getNodeByRecord(newRecord))?
(newRecord.id||(newRecord.id=Ext.id()),selModel.dom.setAttribute('aria-activedescendant',newRecord.id)):selModel.dom.removeAttribute('aria-activedescendant'))},getSelection:function(){var selModel=this.getPicker().getSelectionModel();return selModel.getSelection().length?selModel.getLastSelected():null},updateSelection:function(selection){if(!this.ignoreNextSelection){this.ignoreNextSelection=!0;var sm=this.getPicker().getSelectionModel();selection?(sm.select(selection),this.hasHadSelection=!0):sm.deselectAll();
this.ignoreNextSelection=!1}},updateBindSelection:function(selModel,selection){var selected=null;this.ignoreNextSelection||(this.ignoreNextSelection=!0,selection.length&&(selected=selModel.getLastSelected(),this.hasHadSelection=!0),this.hasHadSelection&&this.setSelection(selected),this.ignoreNextSelection=!1)},onValueCollectionBeginUpdate:Ext.emptyFn,onValueCollectionEndUpdate:function(){var store=this.store,selectedRecords=this.valueCollection.getRange(),selectedRecord=selectedRecords[0],selectionCount=
selectedRecords.length;this.updateBindSelection(this.pickerSelectionModel,selectedRecords);this.isSelectionUpdating()||(Ext.suspendLayouts(),this.lastSelection=selectedRecords,selectionCount&&(this.lastSelectedRecords=selectedRecords),this.updateValue(),selectionCount&&(!this.multiSelect&&store.contains(selectedRecord)||this.collapseOnSelect||!store.getCount())&&(this.updatingValue=!0,this.collapse(),this.updatingValue=!1),Ext.resumeLayouts(!0),this.suspendCheckChange||(this.multiSelect||(selectedRecords=
selectedRecord),this.fireEvent('select',this,selectedRecords)))},isSelectionUpdating:function(){var selModel=this.pickerSelectionModel;return selModel.deselectingDuringSelect||selModel.refreshing},onExpand:function(){var picker=this.getPicker(),keyNav=picker.getNavigationModel();keyNav&&keyNav.enable();this.doAutoSelect();if(picker=picker.highlightedItem)picker.id||(picker.id=Ext.id()),this.inputEl.dom.setAttribute('aria-activedescendant',picker.id)},onCollapse:function(){var keyNav=this.getPicker().getNavigationModel();
keyNav&&keyNav.disable();this.updatingValue&&this.doQueryTask.cancel();this.inputEl.dom.removeAttribute('aria-activedescendant')},select:function(r,assert){var picker=this.picker,fireSelect;r&&r.isModel&&!0===assert&&picker&&(fireSelect=!picker.getSelectionModel().isSelected(r));fireSelect||this.suspendEvent('select');this.setValue(r);this.resumeEvent('select')},findRecord:function(field,value){var ds=this.store;field=ds.findExact(field,value);return-1!==field?ds.getAt(field):!1},getSelectedRecord:function(){return this.findRecordByValue(this.value)||
null},findRecordByValue:function(value){value=this.store.byValue.get(value);var ret=!1;value&&(ret=value[0]||value);return ret},findRecordByDisplay:function(value){value=this.store.byText.get(value);var ret=!1;value&&(ret=value[0]||value);return ret},addValue:function(value){if(null!=value)return this.doSetValue(value,!0)},setValue:function(value){var bind;this.getDisplayField()||this.getDisplayTpl();if(this.hasFocus){if((bind=(bind=this.getBind())&&bind.value)&&bind.syncing&&(Ext.isEmpty(value)&&
Ext.isEmpty(this.value)||value===this.value||Ext.isArray(value)&&Ext.isArray(this.value)&&Ext.Array.equals(value,this.value)))return this}else this.lastSelectedRecords=null;null!=value?this.doSetValue(value):(this.suspendEvent('select'),this.valueCollection.beginUpdate(),this.pickerSelectionModel.deselectAll(),this.valueCollection.endUpdate(),this.resumeEvent('select'));return this},setRawValue:function(rawValue){Ext.form.field.Picker.prototype.setRawValue.call(this,rawValue);this.lastMutatedValue=
rawValue},doSetValue:function(value,add){var store=this.getStore(),Model=store.getModel(),matchedRecords=[],valueArray=[],autoLoadOnValue=this.autoLoadOnValue,isLoaded=0<store.getCount()||store.isLoaded(),pendingLoad=store.hasPendingLoad(),unloaded=autoLoadOnValue&&!isLoaded&&!pendingLoad;autoLoadOnValue=this.forceSelection;var selModel=this.pickerSelectionModel,displayField=this.displayField,valueField=this.valueField,displayIsValue=displayField===valueField,isEmptyStore=store.isEmptyStore,lastSelection=
this.lastSelection,valueChanged;if(pendingLoad||unloaded||!isLoaded||isEmptyStore)if(value.isModel||(this.value=add?Ext.Array.from(this.value).concat(value):value,this.setHiddenValue(this.value),this.setRawValue(displayIsValue?value:''),displayIsValue&&!Ext.isEmpty(value)&&this.inputEl&&this.emptyText&&this.inputEl.removeCls(this.emptyUICls)),unloaded&&!isEmptyStore&&store.load(),!value.isModel||isEmptyStore)return this;value=add?Ext.Array.from(this.value).concat(value):Ext.Array.from(value);add=
0;for(store=value.length;add<store;add++)pendingLoad=isLoaded=value[add],pendingLoad&&pendingLoad.isModel||(pendingLoad=this.findRecordByValue(unloaded=pendingLoad))||(pendingLoad=this.valueCollection.find(valueField,unloaded)),pendingLoad||(autoLoadOnValue?this.valueNotFoundRecord&&(pendingLoad=this.valueNotFoundRecord):!pendingLoad&&isLoaded&&(pendingLoad={},Ext.isObject(isLoaded)?(pendingLoad[displayField]=isLoaded[displayField],pendingLoad[valueField]=isLoaded[valueField]):(pendingLoad[displayField]=
isLoaded,valueField&&displayField!==valueField&&(pendingLoad[valueField]=isLoaded)),pendingLoad=new Model(pendingLoad))),pendingLoad&&(matchedRecords.push(pendingLoad),valueArray.push(pendingLoad.get(valueField)));if(lastSelection)if(store=lastSelection.length,store===matchedRecords.length)for(add=0;!valueChanged&&add<store;add++)-1===Ext.Array.indexOf(this.lastSelection,matchedRecords[add])&&(valueChanged=!0);else valueChanged=!0;else valueChanged=matchedRecords.length;valueChanged?(this.suspendEvent('select'),
this.valueCollection.beginUpdate(),matchedRecords.length?selModel.select(matchedRecords,!1):selModel.deselectAll(),this.valueCollection.endUpdate(),this.resumeEvent('select')):this.updateValue();return this},updateValue:function(){var selectedRecords=this.valueCollection.getRange(),len=selectedRecords.length,valueArray=[],displayTplData=this.displayTplData||(this.displayTplData=[]),inputEl=this.inputEl,i;for(i=displayTplData.length=0;i<len;i++){var record=selectedRecords[i];displayTplData.push(this.getRecordDisplayData(record));
record!==this.valueNotFoundRecord&&valueArray.push(record.get(this.valueField))}this.setHiddenValue(valueArray);this.value=this.multiSelect?valueArray:valueArray[0];Ext.isDefined(this.value)||(this.value=void 0);this.displayTplData=displayTplData;len=this.getDisplayValue();this.setRawValue(len);this.refreshEmptyText();this.checkChange();!this.lastSelectedRecords&&selectedRecords.length&&(this.lastSelectedRecords=selectedRecords);inputEl&&this.typeAhead&&this.hasFocus&&this.selectText(len.length);
this.forceResetCaret&&inputEl&&!Ext.isIE&&!Ext.isSafari&&this.setCaretPos(0)},setHiddenValue:function(values){var name=this.hiddenName;if(this.hiddenDataEl&&name){values=Ext.Array.from(values);var dom=this.hiddenDataEl.dom;var childNodes=dom.childNodes;var input=childNodes[0];var valueCount=values.length;var childrenCount=childNodes.length;!input&&0<valueCount&&(this.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:'input',type:'hidden',name})),childrenCount=1,input=dom.firstChild);for(;childrenCount>
valueCount;)dom.removeChild(childNodes[0]),--childrenCount;for(;childrenCount<valueCount;)dom.appendChild(input.cloneNode(!0)),++childrenCount;for(name=0;name<valueCount;name++)childNodes[name].value=values[name]}},getDisplayValue:function(tplData){tplData=tplData||this.displayTplData;tplData=this.getDisplayTpl().apply(tplData);tplData=null==tplData?'':String(tplData);return tplData.replace(this.newlineRe,'')},getRecordDisplayData:function(record){return record.data},getValue:function(){var store=
this.getStore(),picker=this.picker,rawValue=this.getRawValue(),value=this.value;store.isEmptyStore||this.getDisplayValue()===rawValue||(this.displayTplData=void 0,picker&&(this.valueCollection.suspendEvents(),picker.getSelectionModel().deselectAll(),this.valueCollection.resumeEvents(),this.lastSelection=null),value=store.isLoaded()&&(this.multiSelect||this.forceSelection)?this.value=void 0:this.value=rawValue);return this.value=null==value?null:value},getSubmitValue:function(){var value=this.getValue();
Ext.isEmpty(value)&&(value='');return value},isEqual:function(v1,v2){var fromArray=Ext.Array.from;v1=fromArray(v1);v2=fromArray(v2);var len=v1.length;if(len!==v2.length)return!1;for(fromArray=0;fromArray<len;fromArray++)if(v2[fromArray]!==v1[fromArray])return!1;return!0},clearValue:function(){this.setValue(null)}},0,['combo','combobox'],'component box field textfield pickerfield combobox combo'.split(' '),{component:!0,box:!0,field:!0,textfield:!0,pickerfield:!0,combobox:!0,combo:!0},['widget.combo',
'widget.combobox'],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.form.field,'ComboBox',Ext.form,'ComboBox'],0);
Ext.cmd.derive('Ext.form.field.Display',Ext.form.field.Base,{alternateClassName:['Ext.form.DisplayField','Ext.form.Display'],fieldSubTpl:['\x3cdiv id\x3d"{id}" data-ref\x3d"inputEl" role\x3d"textbox" aria-readonly\x3d"true"',' aria-labelledby\x3d"{cmpId}-labelEl" {inputAttrTpl}',' tabindex\x3d"\x3ctpl if\x3d"tabIdx !\x3d null"\x3e{tabIdx}\x3ctpl else\x3e-1\x3c/tpl\x3e"','\x3ctpl if\x3d"fieldStyle"\x3e style\x3d"{fieldStyle}"\x3c/tpl\x3e',' class\x3d"{fieldCls} {fieldCls}-{ui}"\x3e{value}\x3c/div\x3e',
{compiled:!0,disableFormats:!0}],ariaRole:void 0,focusable:!1,skipLabelForAttribute:!0,readOnly:!0,fieldCls:'x-form-display-field',fieldBodyCls:'x-form-display-field-body',htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,getValue:function(){return this.value},valueToRaw:function(value){return value||0===value||!1===value?value:''},isDirty:function(){return!1},isValid:Ext.returnTrue,validate:Ext.returnTrue,getRawValue:function(){return this.rawValue},setRawValue:function(value){this.rawValue=
value=Ext.valueFrom(value,'');this.rendered&&(this.inputEl.dom.innerHTML=this.getDisplayValue(),this.updateLayout());return value},getDisplayValue:function(){var value=this.getRawValue(),renderer=this.renderer;return renderer?Ext.callback(renderer,this.scope,[value,this],0,this):this.htmlEncode?Ext.util.Format.htmlEncode(value):value},getSubTplData:function(fieldData){var ret=Ext.form.field.Base.prototype.getSubTplData.apply(this,arguments);ret.value=this.getDisplayValue();return ret}},0,['displayfield'],
['component','box','field','displayfield'],{component:!0,box:!0,field:!0,displayfield:!0},['widget.displayfield'],0,[Ext.form.field,'Display',Ext.form,'DisplayField',Ext.form,'Display'],0);
Ext.cmd.derive('Ext.form.field.FileButton',Ext.button.Button,{childEls:['fileInputEl'],inputCls:'x-form-file-input',cls:'x-form-file-btn',preventDefault:!1,tabIndex:void 0,useTabGuards:Ext.isIE||Ext.isEdge,promptCalled:!1,autoEl:{tag:'div',unselectable:'on'},afterTpl:['\x3cinput id\x3d"{id}-fileInputEl" data-ref\x3d"fileInputEl" class\x3d"{childElCls} {inputCls}" ','type\x3d"file" size\x3d"1" name\x3d"{inputName}" unselectable\x3d"on" ','\x3ctpl if\x3d"accept !\x3d null"\x3eaccept\x3d"{accept}"\x3c/tpl\x3e',
'\x3ctpl if\x3d"tabIndex !\x3d null"\x3etabindex\x3d"{tabIndex}"\x3c/tpl\x3e','\x3e'],keyMap:null,ariaEl:'fileInputEl',getAfterMarkup:function(values){return this.lookupTpl('afterTpl').apply(values)},getTemplateArgs:function(){var args=Ext.button.Button.prototype.getTemplateArgs.call(this);args.inputCls=this.inputCls;args.inputName=this.inputName||this.id;args.tabIndex=null!=this.tabIndex?this.tabIndex:null;args.accept=this.accept||null;args.role=this.ariaRole;return args},afterRender:function(){Ext.button.Button.prototype.afterRender.apply(this,
arguments);var listeners={scope:this,mousedown:this.handlePrompt,keydown:this.handlePrompt,change:this.fireChange,focus:this.onFileFocus,blur:this.onFileBlur,destroyable:!0};if(this.useTabGuards){var cfg={tag:'span',role:'button','aria-hidden':'true','data-tabguard':'true',style:{height:0,width:0}};cfg.tabIndex=null!=this.tabIndex?this.tabIndex:0;this.beforeInputGuard=this.el.createChild(cfg,this.fileInputEl);this.afterInputGuard=this.el.createChild(cfg);this.afterInputGuard.insertAfter(this.fileInputEl);
this.beforeInputGuard.on('focus',this.onInputGuardFocus,this);this.afterInputGuard.on('focus',this.onInputGuardFocus,this);listeners.keydown=this.onFileInputKeydown}this.fileInputElListeners=this.fileInputEl.on(listeners)},doDestroy:function(){this.fileInputElListeners&&this.fileInputElListeners.destroy();this.beforeInputGuard&&(this.beforeInputGuard.destroy(),this.beforeInputGuard=null);this.afterInputGuard&&(this.afterInputGuard.destroy(),this.afterInputGuard=null);Ext.button.Button.prototype.doDestroy.call(this)},
fireChange:function(e){this.fireEvent('change',this,e,this.fileInputEl.dom.value)},createFileInput:function(isTemporary){isTemporary=this.fileInputEl=this.el.createChild({name:this.inputName||this.id,id:isTemporary?void 0:this.id+'-fileInputEl',cls:this.inputCls+(this.getInherited().rtl?' x-rtl':''),tag:'input',type:'file',size:1,unselectable:'on'},this.afterInputGuard);isTemporary.dom.setAttribute('data-componentid',this.id);null!=this.tabIndex&&this.setTabIndex(this.tabIndex);this.accept&&isTemporary.dom.setAttribute('accept',
this.accept);var listeners={scope:this,change:this.fireChange,mousedown:this.handlePrompt,keydown:this.handlePrompt,focus:this.onFileFocus,blur:this.onFileBlur};this.useTabGuards&&(listeners.keydown=this.onFileInputKeydown);isTemporary.on(listeners)},handlePrompt:function(e){if('keydown'===e.type){var key=e.getKey();this.promptCalled=!Ext.isIE&&key===e.ENTER||key===e.SPACE?!0:!1}else this.promptCalled=!0},onFileFocus:function(e){var ownerCt=this.ownerCt;if(!this.hasFocus)this.onFocus(e);if(ownerCt&&
!ownerCt.hasFocus)ownerCt.onFocus(e)},onFileBlur:function(e){var ownerCt=this.ownerCt;if(this.promptCalled)this.promptCalled=!1,e.preventDefault();else{if(this.hasFocus)this.onBlur(e);if(ownerCt&&ownerCt.hasFocus)ownerCt.onBlur(e)}},onInputGuardFocus:function(e){this.fileInputEl.focus()},onFileInputKeydown:function(e){var key=e.getKey(),focusTo;if(key===e.TAB){if(focusTo=e.shiftKey?this.beforeInputGuard:this.afterInputGuard)focusTo.suspendEvent('focus'),focusTo.focus(),Ext.defer(function(){focusTo.resumeEvent('focus')},
1)}else key!==e.ENTER&&key!==e.SPACE||this.handlePrompt(e);return!0},reset:function(remove){remove&&this.fileInputEl.destroy();this.createFileInput(!remove);remove&&(this.ariaEl=this.fileInputEl)},restoreInput:function(el){this.fileInputEl.destroy();el=Ext.get(el);this.useTabGuards?el.insertBefore(this.afterInputGuard):this.el.appendChild(el);this.fileInputEl=el},onDisable:function(){Ext.button.Button.prototype.onDisable.call(this);this.fileInputEl.dom.disabled=!0},onEnable:function(){Ext.button.Button.prototype.onEnable.call(this);
this.fileInputEl.dom.disabled=!1},privates:{getFocusEl:function(){return this.fileInputEl},getFocusClsEl:function(){return this.el},setTabIndex:function(tabIndex){this.focusable&&(this.tabIndex=tabIndex,!this.rendered||this.destroying||this.destroyed||(this.useTabGuards?(this.fileInputEl.dom.setAttribute('tabIndex',-1),this.beforeInputGuard.dom.setAttribute('tabIndex',tabIndex),this.afterInputGuard.dom.setAttribute('tabIndex',tabIndex)):this.fileInputEl.dom.setAttribute('tabIndex',tabIndex)))}}},
0,['filebutton'],['component','box','button','filebutton'],{component:!0,box:!0,button:!0,filebutton:!0},['widget.filebutton'],0,[Ext.form.field,'FileButton'],0);
Ext.cmd.derive('Ext.form.trigger.Component',Ext.form.trigger.Trigger,{cls:'x-form-trigger-cmp',onFieldRender:function(){var component=this.component;Ext.form.trigger.Trigger.prototype.onFieldRender.call(this);component.isComponent||component.isWidget||(component=Ext.widget(component));this.component=component;component.render(this.el)},destroy:function(){var component=this.component;(component.isComponent||component.isWidget)&&component.destroy();this.component=null;Ext.form.trigger.Trigger.prototype.destroy.call(this)}},
0,0,0,0,['trigger.component'],0,[Ext.form.trigger,'Component'],0);
Ext.cmd.derive('Ext.form.field.File',Ext.form.field.Text,{alternateClassName:['Ext.form.FileUploadField','Ext.ux.form.FileUploadField','Ext.form.File'],emptyText:void 0,needArrowKeys:!1,triggers:{filebutton:{type:'component',hideOnReadOnly:!1,preventMouseDown:!1}},buttonText:'Browse...',buttonOnly:!1,buttonMargin:3,clearOnSubmit:!0,extraFieldBodyCls:'x-form-file-wrap',inputCls:'x-form-text-file',readOnly:!0,editable:!1,submitValue:!1,triggerNoEditCls:'',childEls:['browseButtonWrap'],applyTriggers:function(triggers){var triggerCfg=
(triggers||{}).filebutton;if(triggerCfg)return triggerCfg.component=Ext.apply({xtype:'filebutton',ownerCt:this,id:this.id+'-button',ui:this.ui,disabled:this.disabled,tabIndex:this.tabIndex,text:this.buttonText,style:this.buttonOnly?'':this.getButtonMarginProp()+this.buttonMargin+'px',accept:this.accept,inputName:this.getName(),listeners:{scope:this,change:this.onFileChange}},this.buttonConfig),Ext.form.field.Text.prototype.applyTriggers.call(this,triggers)},getSubTplData:function(fieldData){fieldData=
Ext.form.field.Text.prototype.getSubTplData.call(this,fieldData);fieldData.tabIdx=-1;return fieldData},onRender:function(){(arguments.callee.$previous||Ext.form.field.Text.prototype.onRender).apply(this,arguments);var inputEl=this.inputEl;inputEl.dom.name='';inputEl.on('focus',this.onInputFocus,this);inputEl.on('mousedown',this.onInputMouseDown,this);inputEl=this.getTrigger('filebutton');var button=this.button=inputEl.component;this.fileInputEl=button.fileInputEl;button=button.el;this.buttonOnly&&
(this.inputWrap.setDisplayed(!1),this.shrinkWrap=3);inputEl.el.setWidth(button.getWidth()+button.getMargin('lr'));Ext.isIE8&&this.button.getEl().repaint()},getTriggerMarkup:function(){return'\x3ctd id\x3d"'+this.id+'-browseButtonWrap" data-ref\x3d"browseButtonWrap" role\x3d"presentation"\x3e\x3c/td\x3e'},onFileChange:function(button,e,value){this.duringFileSelect=!0;Ext.form.field.File.superclass.setValue.call(this,value);delete this.duringFileSelect},didValueChange:function(){return!!this.duringFileSelect},
setEmptyText:Ext.emptyFn,setValue:Ext.emptyFn,reset:function(){var clear=this.clearOnSubmit;this.rendered&&(this.button.reset(clear),this.fileInputEl=this.button.fileInputEl,clear&&(this.inputEl.dom.value='',Ext.form.field.File.superclass.setValue.call(this,null)));Ext.form.field.Text.prototype.reset.call(this)},onShow:function(){Ext.form.field.Text.prototype.onShow.call(this);this.button.updateLayout()},onDisable:function(){Ext.form.field.Text.prototype.onDisable.call(this);this.button.disable()},
onEnable:function(){Ext.form.field.Text.prototype.onEnable.call(this);this.button.enable()},isFileUpload:Ext.returnTrue,extractFileInput:function(){if(this.rendered){var fileInput=this.button.fileInputEl.dom;this.reset()}else fileInput=document.createElement('input'),fileInput.type='file',fileInput.className='x-hidden-display',fileInput.name=this.getName();return fileInput},restoreInput:function(el){if(this.rendered){var button=this.button;button.restoreInput(el);this.fileInputEl=button.fileInputEl}},
doDestroy:function(){this.fileInputEl=this.button=null;Ext.form.field.Text.prototype.doDestroy.call(this)},getButtonMarginProp:function(){return this.getInherited().rtl?'margin-right:':'margin-left:'},onInputFocus:function(e){this.selectOnFocus&&document.activeElement===this.inputEl.dom&&this.inputEl.dom.select();this.focus();Ext.isIE9m&&(this.fileInputEl.addCls('x-position-relative'),this.fileInputEl.removeCls('x-position-relative'))},onInputMouseDown:function(e){e.preventDefault();this.focus()},
privates:{getFocusEl:function(){return this.button},getFocusClsEl:Ext.privateFn}},0,['filefield','fileuploadfield'],'component box field textfield filefield fileuploadfield'.split(' '),{component:!0,box:!0,field:!0,textfield:!0,filefield:!0,fileuploadfield:!0},['widget.filefield','widget.fileuploadfield'],0,[Ext.form.field,'File',Ext.form,'FileUploadField',Ext.ux.form,'FileUploadField',Ext.form,'File'],0);
Ext.cmd.derive('Ext.tip.Tip',Ext.panel.Panel,{alternateClassName:'Ext.Tip',minWidth:40,maxWidth:500,shadow:'sides',constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:'x-tip',focusOnToFront:!1,maskOnDisable:!1,closeAction:'hide',alwaysFramed:!0,frameHeader:!1,initComponent:function(){this.floating=Ext.apply({},{shadow:this.shadow},this.self.prototype.floating);Ext.panel.Panel.prototype.initComponent.apply(this,arguments);this.constrain=this.constrain||this.constrainPosition},showAt:function(xy){this.calledFromShowAt=
!0;Ext.panel.Panel.prototype.showAt.apply(this,arguments);this.isVisible()&&this.doAlignment(this.getRegion().alignTo({target:new Ext.util.Point(xy[0],xy[1]),inside:this.constrainPosition?Ext.getBody().getRegion().adjust(5,-5,-5,5):null,align:'tl-tl',overlap:!0}));this.calledFromShowAt=0},doAlignment:function(newRegion){var anchorEl=this.anchorEl,anchorRegion=newRegion.anchor;this.setPagePosition([newRegion.x,newRegion.y]);anchorEl&&(anchorEl.removeCls(this.anchorCls),anchorRegion?(this.anchorCls=
'x-tip-anchor-'+anchorRegion.position,anchorEl.addCls(this.anchorCls),anchorEl.show(),anchorRegion.align&1?(anchorEl.setTop(newRegion.anchor.y-newRegion.y),anchorEl.dom.style.left=''):(anchorEl.setLeft(newRegion.anchor.x-newRegion.x),anchorEl.dom.style.top='')):anchorEl.hide())},privates:{initDraggable:function(){this.draggable={el:this.getDragEl(),delegate:this.header.el,constrain:this,constrainTo:this.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(this)}},ghost:void 0,unghost:void 0},
0,['tip'],['component','box','container','panel','tip'],{component:!0,box:!0,container:!0,panel:!0,tip:!0},['widget.tip'],0,[Ext.tip,'Tip',Ext,'Tip'],0);
Ext.cmd.derive('Ext.tip.ToolTip',Ext.tip.Tip,{alternateClassName:'Ext.ToolTip',autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5E3,mouseOffset:[15,18],trackMouse:!1,anchorToTarget:!0,targetCounter:0,quickShowInterval:250,hideAction:'hide',fadeOutDuration:1E3,defaultAlign:'bl-tl',checkNestedDelegates:!1,ariaRole:'tooltip',alwaysOnTop:!0,initComponent:function(){Ext.tip.Tip.prototype.initComponent.call(this);this.setTarget(this.target);this.currentTarget=new Ext.dom.Fly},onRender:function(ct,position){Ext.tip.Tip.prototype.onRender.apply(this,
arguments);this.anchorEl=this.el.createChild({role:'presentation',cls:'x-tip-anchor'})},show:function(){if(!this.currentTarget.dom&&this.target)return this.showBy(this.target);Ext.tip.Tip.prototype.show.call(this)},setTarget:function(target){this.targetListeners&&this.targetListeners.destroy();if(target){this.target=target=Ext.get(target.el||target);var listeners={mouseover:'onTargetOver',mouseout:'onTargetOut',mousemove:'onMouseMove',tap:'onTargetTap',scope:this,destroyable:!0};this.targetListeners=
target.on(listeners)}else this.target=null},onMouseMove:function(e){var dismissDelay=this.dismissDelay;this.pointerEvent=e;this.isVisible()&&this.currentTarget.contains(e.target)&&(dismissDelay&&!1!==this.autoHide&&(this.clearTimer('dismiss'),this.dismissTimer=Ext.defer(this.hide,dismissDelay,this)),this.trackMouse&&this.doAlignment(this.getAlignRegion()))},getAlignRegion:function(){var anchorEl=this.anchorEl,align=this.getAnchorAlign(),mouseOffset=this.mouseOffset;this.anchorSize||(anchorEl.addCls('x-tip-anchor-top'),
anchorEl.show(),this.anchorSize=new Ext.util.Offset(anchorEl.getWidth(!1,!0),anchorEl.getHeight(!1,!0)),anchorEl.removeCls('x-tip-anchor-top'),anchorEl.hide());if((this.anchor||this.align)&&this.anchorToTarget&&!this.trackMouse)anchorEl=this.currentTarget.getRegion();else if(anchorEl=this.pointerEvent?this.pointerEvent.getPoint().adjust(-Math.abs(mouseOffset[1]),Math.abs(mouseOffset[0]),Math.abs(mouseOffset[1]),-Math.abs(mouseOffset[0])):new Ext.util.Point,!this.anchor){var overlap=!0;align=0<mouseOffset[0]?
0<mouseOffset[1]?'tl-br':'bl-tr':0<mouseOffset[1]?'tr-bl':'br-tl'}align={align:this.convertPositionSpec(align),axisLock:this.axisLock,target:anchorEl,overlap,offset:this.targetOffset,inside:this.constrainPosition?this.constrainTo||Ext.getBody().getRegion().adjust(5,-5,-5,5):null};this.anchor&&(align.anchorSize=this.anchorSize);return this.getRegion().alignTo(align)},fadeOut:function(){var me=this;me.el.fadeOut({duration:me.fadeOutDuration,callback:function(){me.hide();me.el.setOpacity('')}})},getAnchorAlign:function(){switch(this.anchor){case 'top':return'tl-bl';
case 'left':return'tl-tr';case 'right':return'tr-tl';default:return this.defaultAlign}},onTargetTap:function(e){if(this.showOnTap&&'mouse'!==e.pointerType&&Ext.fly(e.target).isVisible(!0))this.onTargetOver(e)},onTargetOver:function(e){var delegate=this.delegate,currentTarget=this.currentTarget,fromElement=e.relatedTarget||e.fromElement,myListeners=this.hasListeners;if(!this.disabled){if(delegate){if(!this.checkNestedDelegates&&currentTarget.contains(e.target)||(fromElement=e.getTarget(delegate))&&
e.getRelatedTarget(delegate)===fromElement)return}else{if(this.target.contains(fromElement))return;fromElement=this.target.dom}fromElement?((myListeners.beforeshow||myListeners.show)&&this.isVisible()&&this.hide(),this.triggerElement=fromElement,this.pointerEvent=e,currentTarget.attach(fromElement),this.handleTargetOver(fromElement,e)):currentTarget.dom&&this.handleTargetOut()}},handleTargetOver:function(target,event){'mouse'!==event.pointerType?this.showFromDelay():this.delayShow()},delayShow:function(){this.clearTimer('hide');
this.hidden&&!this.showTimer?this.delegate&&Ext.Date.getElapsed(this.lastHidden)<this.quickShowInterval?this.showFromDelay():this.showTimer=Ext.defer(this.showFromDelay,'mouse'!==this.pointerEvent.pointerType?0:this.showDelay,this):this.hidden||!1===this.autoHide||this.showFromDelay()},showFromDelay:function(){this.disabled||(this.fireEvent('hovertarget',this,this.currentTarget,this.currentTarget.dom),this.isVisible()?this.realignToTarget():(this.triggerElement=this.currentTarget.dom,this.fromDelayShow=
!0,this.show(),this.fromDelayShow=!1))},onTargetOut:function(e){this.currentTarget.dom&&!this.currentTarget.contains(e.relatedTarget)&&this.handleTargetOut()},handleTargetOut:function(){this.showTimer&&this.clearTimer('show');this.isVisible()&&this.autoHide&&this.delayHide()},delayHide:function(){this.hidden||this.hideTimer||(this.clearTimer('dismiss'),this.hideTimer=Ext.defer(this[this.hideAction],this.hideDelay,this))},hide:function(){this.currentTarget.detach();this.clearTimer('dismiss');this.lastHidden=
new Date;this.anchorEl&&this.anchorEl.hide();Ext.tip.Tip.prototype.hide.apply(this,arguments);this.triggerElement=null},afterShow:function(){Ext.tip.Tip.prototype.afterShow.call(this);this.realignToTarget()},realignToTarget:function(){this.clearTimers();this.calledFromShowAt||this.doAlignment(this.getAlignRegion());this.dismissDelay&&!1!==this.autoHide&&(this.dismissTimer=Ext.defer(this.hide,this.dismissDelay,this))},showBy:function(target){this.align=this.defaultAlign;target.isEvent?(this.currentTarget.attach(target.target),
this.pointerEvent=target):(this.currentTarget.attach(Ext.getDom(target.el||target)),this.triggerElement=this.currentTarget.dom);this.isVisible()?this.realignToTarget():this.show();return this},_timerNames:{},clearTimer:function(name){var names=this._timerNames;names=names[name]||(names[name]=name+'Timer');var timer=this[names];timer&&(Ext.undefer(timer),this[names]=null,'show'===name&&this.isHidden()&&this.currentTarget.detach())},clearTimers:function(){this.clearTimer('show');this.clearTimer('dismiss');
this.clearTimer('hide');this.clearTimer('enable')},onShow:function(){Ext.tip.Tip.prototype.onShow.call(this);this.mousedownListener=Ext.on({mousedown:'onDocMouseDown',scope:this,destroyable:!0})},onHide:function(){Ext.tip.Tip.prototype.onHide.call(this);Ext.destroy(this.mousedownListener)},onDocMouseDown:function(e){var delegate=this.delegate;e.within(this.el.dom)?'mouse'!==e.pointerType&&this.allowOver&&this.clearTimer('dismiss'):this.closable||(!e.within(this.target)||delegate&&!e.getTarget(delegate)?
(this.disable(),this.enableTimer=Ext.defer(this.enable,100,this)):this.delayHide())},doEnable:function(){this.destroyed||this.enable()},onDisable:function(){Ext.tip.Tip.prototype.onDisable.call(this);this.clearTimers();this.hide()},doDestroy:function(){this.clearTimers();this.destroyMembers('mousedownListener','anchorEl');Ext.tip.Tip.prototype.doDestroy.call(this)},privates:{getTrackMouse:function(){return this.trackMouse},clipTo:function(clippingEl,sides){clippingEl=clippingEl.isRegion?clippingEl:
(clippingEl.isComponent?clippingEl.el:Ext.fly(clippingEl)).getConstrainRegion();Ext.tip.Tip.prototype.clipTo.call(this,clippingEl,sides);this.anchorEl.clipTo(clippingEl,sides)}}},0,['tooltip'],'component box container panel tip tooltip'.split(' '),{component:!0,box:!0,container:!0,panel:!0,tip:!0,tooltip:!0},['widget.tooltip'],0,[Ext.tip,'ToolTip',Ext,'ToolTip'],0);
Ext.cmd.derive('Ext.tip.QuickTip',Ext.tip.ToolTip,{alternateClassName:'Ext.QuickTip',interceptTitles:!1,title:'\x26#160;',checkNestedDelegates:!0,tagConfig:{namespace:'data-',attribute:'qtip',width:'qwidth',target:'target',title:'qtitle',hide:'hide',cls:'qclass',align:'qalign',anchor:'anchor',showDelay:'qshowDelay',hideAction:'hideAction',anchorTarget:'anchorTarget'},isQuickTip:!0,shrinkWrapDock:!0,initComponent:function(){this.delegate=this.delegate.bind(this);this.target=this.target||Ext.getDoc();
this.targets=this.targets||{};this.header=this.header||{};this.header.focusableContainer=!1;Ext.tip.ToolTip.prototype.initComponent.call(this)},setTagConfig:function(cfg){this.tagConfig=Ext.apply({},cfg);delete this.tagConfig.attr},text:null,register:function(config){for(var configs=Ext.isArray(config)?config:arguments,i=0,len=configs.length,target,j,targetLen;i<len;i++)if(config=configs[i],target=config.target)if(Ext.isArray(target))for(j=0,targetLen=target.length;j<targetLen;j++)this.targets[Ext.id(target[j])]=
config;else this.targets[Ext.id(target)]=config},unregister:function(el){delete this.targets[Ext.id(el)]},cancelShow:function(el){var currentTarget=this.currentTarget;el=Ext.getDom(el);this.isVisible()?currentTarget.dom===el&&this.hide():currentTarget.dom===el&&this.clearTimer('show')},delegate:function(target){var cfg=this.tagConfig;cfg=cfg.attr||(cfg.attr=cfg.namespace+cfg.attribute);var registeredTarget=this.targets[target.id];return!!(target.getAttribute(cfg)||this.interceptTitles&&target.title||
registeredTarget&&registeredTarget.text)},getTipText:function(target){var titleText=target.title,cfg=this.tagConfig;cfg=cfg.attr||(cfg.attr=cfg.namespace+cfg.attribute);return this.interceptTitles&&titleText?(target.setAttribute(cfg,titleText),target.removeAttribute('title'),titleText):target.getAttribute(cfg)},onTargetOver:function(event){var currentTarget=this.currentTarget,target=event.target,key;if(target&&1===target.nodeType&&target!==document.documentElement&&target!==document.body){this.pointerEvent=
event;var targets=this.targets;for(key in targets)if(targets.hasOwnProperty(key)){var registeredTarget=targets[key];if((target=Ext.getDom(registeredTarget.target))&&Ext.fly(target).contains(event.target)&&!Ext.fly(target).contains(event.relatedTarget)){currentTarget.attach(target);this.activeTarget=registeredTarget;registeredTarget.el=currentTarget;this.anchor=registeredTarget.anchor;this.activateTarget();return}}Ext.tip.ToolTip.prototype.onTargetOver.call(this,event)}},handleTargetOver:function(target,
event){var currentTarget=this.currentTarget,cfg=this.tagConfig,ns=cfg.namespace;event=this.getTipText(target,event);if(event){var autoHide=currentTarget.getAttribute(ns+cfg.hide);this.activeTarget={el:currentTarget,text:event,width:+currentTarget.getAttribute(ns+cfg.width)||null,autoHide:'user'!==autoHide&&'false'!==autoHide,title:currentTarget.getAttribute(ns+cfg.title),cls:currentTarget.getAttribute(ns+cfg.cls),align:currentTarget.getAttribute(ns+cfg.align),showDelay:currentTarget.getAttribute(ns+
cfg.showDelay),hideAction:currentTarget.getAttribute(ns+cfg.hideAction),alignTarget:currentTarget.getAttribute(ns+cfg.anchorTarget)};this.initialConfig.hasOwnProperty('anchor')||(this.anchor=currentTarget.getAttribute(ns+cfg.anchor));this.anchor&&!this.initialConfig.hasOwnProperty('anchorTarget')&&(this.alignTarget=this.activeTarget.alignTarget||target);this.activateTarget()}},activateTarget:function(){var activeTarget=this.activeTarget,delay=activeTarget.showDelay,hideAction;this.isVisible()?(this.updateContent(),
this.realignToTarget()):(activeTarget.showDelay&&(delay=this.showDelay,this.showDelay=parseInt(activeTarget.showDelay,10)),this.delayShow(),activeTarget.showDelay&&(this.showDelay=delay),(hideAction=activeTarget.hideAction)?this.hideAction=hideAction:delete this.hideAction)},getAnchorAlign:function(){var active=this.activeTarget;return active&&active.align||Ext.tip.ToolTip.prototype.getAnchorAlign.call(this)},getAlignRegion:function(){var activeTarget=this.activeTarget,currentTargetDom=this.currentTarget.dom;
activeTarget&&activeTarget.alignTarget&&this.anchor&&!this.initialConfig.hasOwnProperty('anchorTarget')&&this.currentTarget.attach(Ext.getDom(activeTarget.alignTarget));this.anchorToTarget=!(!activeTarget.align&&!this.anchor);activeTarget=Ext.tip.ToolTip.prototype.getAlignRegion.call(this);this.currentTarget.attach(currentTargetDom);return activeTarget},handleTargetOut:function(e){var active=this.activeTarget,autoHide=this.autoHide,hideDelay=this.hideDelay;active&&!1!==autoHide&&(this.autoHide=!0,
active.hideDelay&&(this.hideDelay=parseInt(active.hideDelay,10)),Ext.tip.ToolTip.prototype.handleTargetOut.call(this,e),this.autoHide=autoHide,this.hideDelay=hideDelay)},targetTextEmpty:function(){var target=this.activeTarget,cfg=this.tagConfig,el;return target&&(el=target.el)&&(cfg=el.getAttribute(cfg.namespace+cfg.attribute),!cfg&&!this.targets[Ext.id(target.el.dom)])?!0:!1},show:function(){this.fromDelayShow&&this.targetTextEmpty()?(this.activeTarget=null,this.currentTarget.detach()):Ext.tip.ToolTip.prototype.show.apply(this,
arguments)},beforeShow:function(){this.updateContent();Ext.tip.ToolTip.prototype.beforeShow.apply(this,arguments)},updateContent:function(){var target=this.activeTarget,header=this.header;if(target){this.suspendLayouts();target.title?(this.setTitle(target.title),header.show()):header&&header.hide();this.update(target.text);this.autoHide=target.autoHide;header=target.dismissDelay;this.dismissDelay=Ext.isNumber(header)?header:this.dismissDelay;if(header=this.lastCls)this.removeCls(header),delete this.lastCls;
if(header=target.cls)this.addCls(header),this.lastCls=header;this.setWidth(target.width);this.align=target.align;this.resumeLayouts(!0)}},hide:function(){this.activeTarget=null;Ext.tip.ToolTip.prototype.hide.call(this)}},0,['quicktip'],'component box container panel tip tooltip quicktip'.split(' '),{component:!0,box:!0,container:!0,panel:!0,tip:!0,tooltip:!0,quicktip:!0},['widget.quicktip'],0,[Ext.tip,'QuickTip',Ext,'QuickTip'],0);
Ext.cmd.derive('Ext.tip.QuickTipManager',Ext.Base,{singleton:!0,alternateClassName:'Ext.QuickTips',disabled:!1,init:function(autoRender,config){if(!this.tip){if(!Ext.isReady)return Ext.onInternalReady(function(){Ext.tip.QuickTipManager.init(autoRender,config)}),!1;var tipConfig=Ext.apply({disabled:this.disabled,id:'ext-quicktips-tip'},config),className=tipConfig.className,xtype=tipConfig.xtype;className?delete tipConfig.className:xtype&&(className='widget.'+xtype,delete tipConfig.xtype);!1!==autoRender&&
(tipConfig.renderTo=document.body);this.tip=Ext.create(className||'Ext.tip.QuickTip',tipConfig);this.tip.destroy=Ext.emptyFn;Ext.quickTipsActive=!0}},destroy:function(){var tip=this.tip;tip&&(delete tip.destroy,tip.destroy(),this.tip=null);Ext.quickTipsActive=!1},ddDisable:function(){var tip=this.tip;tip&&!this.disabled&&tip.disable()},ddEnable:function(){var tip=this.tip;tip&&!this.disabled&&tip.enable()},enable:function(){var tip=this.tip;tip&&tip.enable();this.disabled=!1},disable:function(){var tip=
this.tip;tip&&tip.disable();this.disabled=!0},isEnabled:function(){var tip=this.tip;return void 0!==tip&&!tip.disabled},getQuickTip:function(){return this.tip},register:function(){var tip=this.tip;tip.register.apply(tip,arguments)},unregister:function(){var tip=this.tip;tip.unregister.apply(tip,arguments)},tips:function(){var tip=this.tip;tip.register.apply(tip,arguments)}},0,0,0,0,0,0,[Ext.tip,'QuickTipManager',Ext,'QuickTips'],0);
Ext.cmd.derive('Ext.picker.Color',Ext.Component,{alternateClassName:'Ext.ColorPalette',focusable:!0,componentCls:'x-color-picker',selectedCls:'x-color-picker-selected',itemCls:'x-color-picker-item',value:null,clickEvent:'click',allowReselect:!1,colors:'000000 993300 333300 003300 003366 000080 333399 333333 800000 FF6600 808000 008000 008080 0000FF 666699 808080 FF0000 FF9900 99CC00 339966 33CCCC 3366FF 800080 969696 FF00FF FFCC00 FFFF00 00FF00 00FFFF 00CCFF 993366 C0C0C0 FF99CC FFCC99 FFFF99 CCFFCC CCFFFF 99CCFF CC99FF FFFFFF'.split(' '),
colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['\x3ctpl for\x3d"colors"\x3e','\x3ca href\x3d"#" role\x3d"button" class\x3d"color-{.} {parent.itemCls}" hidefocus\x3d"on"\x3e','\x3cspan class\x3d"{parent.itemCls}-inner" style\x3d"background:#{.}"\x3e\x26#160;\x3c/span\x3e','\x3c/a\x3e','\x3c/tpl\x3e'],initComponent:function(){Ext.Component.prototype.initComponent.apply(this,arguments);if(this.handler)this.on('select',this.handler,this.scope,!0)},initRenderData:function(){return Ext.apply(Ext.Component.prototype.initRenderData.call(this),
{itemCls:this.itemCls,colors:this.colors})},onRender:function(){var clickEvent=this.clickEvent;Ext.Component.prototype.onRender.apply(this,arguments);this.mon(this.el,clickEvent,this.handleClick,this,{delegate:'a'});'click'!==clickEvent&&this.mon(this.el,'click',Ext.emptyFn,this,{delegate:'a',stopEvent:!0})},afterRender:function(){Ext.Component.prototype.afterRender.apply(this,arguments);if(this.value){var value=this.value;this.value=null;this.select(value,!0)}},handleClick:function(event){event.stopEvent();
this.disabled||(event=event.currentTarget.className.match(this.colorRe)[1],this.select(event.toUpperCase()))},select:function(color,suppressEvent){var selectedCls=this.selectedCls,value=this.value;color=color.replace('#','');if(!this.rendered)this.value=color;else if(color!==value||this.allowReselect){var el=this.el;this.value&&(value=el.down('a.color-'+value,!0),Ext.fly(value).removeCls(selectedCls));value=el.down('a.color-'+color,!0);Ext.fly(value).addCls(selectedCls);this.value=color;!0!==suppressEvent&&
this.fireEvent('select',this,color)}},clear:function(){var value=this.value;value&&this.rendered&&(value=this.el.down('a.color-'+value,!0),Ext.fly(value).removeCls(this.selectedCls));this.value=null},getValue:function(){return this.value||null}},0,['colorpicker'],['component','box','colorpicker'],{component:!0,box:!0,colorpicker:!0},['widget.colorpicker'],0,[Ext.picker,'Color',Ext,'ColorPalette'],0);
Ext.cmd.derive('Ext.layout.component.field.HtmlEditor',Ext.layout.component.field.FieldContainer,{type:'htmleditor',naturalHeight:150,naturalWidth:300,beginLayout:function(ownerContext){var owner=this.owner;if(Ext.isGecko){var dom=owner.textareaEl.dom;this.lastValue=dom.value;dom.value=''}Ext.layout.component.field.FieldContainer.prototype.beginLayout.apply(this,arguments);ownerContext.toolbarContext=ownerContext.context.getCmp(owner.toolbar);ownerContext.inputCmpContext=ownerContext.context.getCmp(owner.inputCmp);
ownerContext.bodyCellContext=ownerContext.getEl('bodyEl');ownerContext.textAreaContext=ownerContext.getEl('textareaEl');ownerContext.iframeContext=ownerContext.getEl('iframeEl')},beginLayoutCycle:function(ownerContext){var widthModel=ownerContext.widthModel,heightModel=ownerContext.heightModel,owner=this.owner,iframeEl=owner.iframeEl;owner=owner.textareaEl;heightModel=heightModel.natural||heightModel.shrinkWrap?this.naturalHeight:'';Ext.layout.component.field.FieldContainer.prototype.beginLayoutCycle.apply(this,
arguments);widthModel.shrinkWrap?(iframeEl.setStyle('width',''),owner.setStyle('width','')):widthModel.natural&&ownerContext.bodyCellContext.setWidth(this.naturalWidth);iframeEl.setStyle('height',heightModel);owner.setStyle('height',heightModel)},finishedLayout:function(){var owner=this.owner;Ext.layout.component.field.FieldContainer.prototype.finishedLayout.apply(this,arguments);Ext.isGecko&&(owner.textareaEl.dom.value=this.lastValue)}},0,0,0,0,['layout.htmleditor'],0,[Ext.layout.component.field,
'HtmlEditor'],0);Ext.cmd.derive('Ext.toolbar.Separator',Ext.toolbar.Item,{alternateClassName:'Ext.Toolbar.Separator',baseCls:'x-toolbar-separator',ariaRole:'separator'},0,['tbseparator'],['component','box','tbitem','tbseparator'],{component:!0,box:!0,tbitem:!0,tbseparator:!0},['widget.tbseparator'],0,[Ext.toolbar,'Separator',Ext.Toolbar,'Separator'],0);
Ext.cmd.derive('Ext.layout.container.boxOverflow.Menu',Ext.layout.container.boxOverflow.None,{alternateClassName:'Ext.layout.boxOverflow.Menu',noItemsMenuText:'\x3cdiv class\x3d"x-toolbar-no-items" role\x3d"menuitem"\x3e(None)\x3c/div\x3e',menuCls:'x-box-menu',menuItemOverflowedCls:'x-menu-item-overflowed',constructor:function(config){Ext.layout.container.boxOverflow.None.prototype.constructor.call(this,config);this.menuItems=[]},beginLayout:function(ownerContext){Ext.layout.container.boxOverflow.None.prototype.beginLayout.call(this,
ownerContext);this.clearOverflow(ownerContext)},beginLayoutCycle:function(ownerContext,firstCycle){Ext.layout.container.boxOverflow.None.prototype.beginLayoutCycle.call(this,ownerContext,firstCycle);firstCycle||(this.clearOverflow(ownerContext),this.layout.cacheChildItems(ownerContext))},onRemove:function(comp){Ext.Array.remove(this.menuItems,comp)},clearItem:function(comp){var menu=comp.menu;comp.isButton&&menu&&comp.setMenu(menu,!1)},getSuffixConfig:function(){var layout=this.layout,owner=layout.owner,
oid=owner.id;this.menu=new Ext.menu.Menu({listeners:{scope:this,beforeshow:this.beforeMenuShow}});this.menuTrigger=new Ext.button.Button({id:oid+'-menu-trigger',cls:this.menuCls+'-after x-toolbar-item',plain:owner.usePlainButtons,ownerCt:owner,ownerLayout:layout,iconCls:'x-'+this.getOwnerType(owner)+'-more-icon',ui:owner.defaultButtonUI||'default',menu:this.menu,showEmptyMenu:!0,getSplitCls:function(){return''}});return this.menuTrigger.getRenderTree()},getOverflowCls:function(direction){return this.menuCls+
'-body-'+direction},handleOverflow:function(ownerContext){var layout=this.layout;this.showTrigger(ownerContext);'vertical'!==layout.direction&&this.menuTrigger.setLocalY((ownerContext.state.boxPlan.maxSize-this.menuTrigger[layout.names.getHeight]())/2);return{reservedSpace:this.triggerTotalWidth}},captureChildElements:function(){var menuTrigger=this.menuTrigger,names=this.layout.names;menuTrigger.rendering&&(menuTrigger.finishRender(),this.triggerTotalWidth=menuTrigger[names.getWidth]()+menuTrigger.el.getMargin(names.parallelMargins))},
clearOverflow:function(ownerContext){ownerContext=this.menuItems;var length=ownerContext.length,owner=this.layout.owner,asLayoutRoot=owner._asLayoutRoot,i;owner.suspendLayouts();this.captureChildElements();this.hideTrigger();owner.resumeLayouts();for(i=0;i<length;i++)owner=ownerContext[i],owner.suspendLayouts(),owner.removeCls(this.menuItemOverflowedCls),this.clearItem(owner),owner.resumeLayouts(asLayoutRoot);ownerContext.length=0},showTrigger:function(ownerContext){var layout=this.layout,owner=layout.owner,
names=layout.names;layout=names.x;names=names.width;var available=ownerContext.state.boxPlan.targetSize[names];ownerContext=ownerContext.childItems;var menuTrigger=this.menuTrigger,menuItems=this.menuItems,len;menuTrigger.suspendLayouts();menuTrigger.show();menuTrigger.resumeLayouts(this._asLayoutRoot);available-=this.triggerTotalWidth;owner.suspendLayouts();menuTrigger=0;for(len=menuItems.length;menuTrigger<len;++menuTrigger)this.clearItem(menuItems[menuTrigger]);menuTrigger=menuItems.length=0;for(len=
ownerContext.length;menuTrigger<len;menuTrigger++){menuItems=ownerContext[menuTrigger];var props=menuItems.props;props[layout]+props[names]>available&&(menuItems=menuItems.target,this.menuItems.push(menuItems),menuItems.addCls(this.menuItemOverflowedCls))}owner.resumeLayouts()},hideTrigger:function(){var menuTrigger=this.menuTrigger;menuTrigger&&menuTrigger.hide()},beforeMenuShow:function(menu){var items=this.menuItems,i=0,len=items.length,needsSep=function(group,prev){return group.isXType('buttongroup')&&
!(prev instanceof Ext.toolbar.Separator)};menu.suspendLayouts();for(menu.removeAll(!1);i<len;i++){var item=items[i];if(i||!(item instanceof Ext.toolbar.Separator)){prev$jscomp$0&&(needsSep(item,prev$jscomp$0)||needsSep(prev$jscomp$0,item))&&menu.add('-');this.addComponentToMenu(menu,item);var prev$jscomp$0=item}}1>menu.items.length&&menu.add(this.noItemsMenuText);menu.resumeLayouts()},createMenuConfig:function(component,hideOnClick){var config=Ext.apply({},component.initialConfig),group=component.toggleGroup;
Ext.copy(config,component,'iconCls icon itemId disabled handler scope menu tabIndex'.split(' '));Ext.applyIf(config,{hideOnClick,destroyMenu:!1,listeners:null});config.text=component.overflowText||component.text;config.masterComponent=component;component.isFormField?(config.value=component.getValue(),component instanceof Ext.form.field.Checkbox&&(config={xtype:'menucheckitem',group:component.isRadio?component.name+'_clone':void 0,text:component.boxLabel||component.fieldLabel,name:component.name,masterComponent:component,
checked:component.getValue(),hideOnClick:!1,checkChangeDisabled:!0}),config.listeners={change:function(c,newVal,oldVal){c.masterComponent.setValue(newVal)}},component.on('change',function(c,newVal,oldVal){c.overflowClone.setValue(newVal)})):(group||component.enableToggle)&&Ext.apply(config,{hideOnClick:!1,group,checked:component.pressed,handler:function(item,e){item.masterComponent.onClick(e)}});component.isButton&&!component.changeListenersAdded&&(component.on({textchange:this.onButtonAttrChange,
iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle}),component.changeListenersAdded=!0);component.on({enable:this.onComponentStatusChange,disable:this.onComponentStatusChange});delete config.margin;delete config.ownerCt;delete config.xtype;delete config.id;delete config.itemId;return config},onButtonAttrChange:function(btn){var clone=btn.overflowClone;clone.suspendLayouts();clone.setText(btn.text);clone.setIcon(btn.icon);clone.setIconCls(btn.iconCls);clone.resumeLayouts(!0)},onButtonToggle:function(btn,
state){btn.overflowClone.checked!==state&&btn.overflowClone.setChecked(state)},onComponentStatusChange:function(cmp){var clone=cmp.overflowClone;clone&&clone.setDisabled(cmp.disabled)},addComponentToMenu:function(menu,component){var i;if(!(component instanceof Ext.toolbar.Fill))if(component instanceof Ext.toolbar.Separator)menu.add('-');else if(component.overflowClone)menu.add(component.overflowClone);else if(component.isComponent)if(component.isXType('splitbutton'))component.overflowClone=menu.add(this.createMenuConfig(component,
!0));else if(component.isXType('button'))component.overflowClone=menu.add(this.createMenuConfig(component,!component.menu));else if(component.isXType('buttongroup')){var items=component.items.items;var iLen=items.length;for(i=0;i<iLen;i++)this.addComponentToMenu(menu,items[i])}else component.isCheckbox?(component.overflowClone=menu.add(this.createMenuConfig(component)),Ext.apply(component.overflowClone,{getValue:function(){return component.overflowClone.checked},setValue:function(){component.overflowClone.setChecked(component.getValue())}}),
component.overflowClone.on('click',function(item){item.setChecked(item.masterComponent.isRadio?!0:!item.checked);item.fireEvent('change',item,item.checked)})):component.overflowClone=menu.add(Ext.create(Ext.getClassName(component),this.createMenuConfig(component)))},destroy:function(){Ext.destroy(this.menu,this.menuTrigger);this.callParent()}},1,0,0,0,['box.overflow.Menu','box.overflow.menu'],0,[Ext.layout.container.boxOverflow,'Menu',Ext.layout.boxOverflow,'Menu'],0);
Ext.cmd.derive('Ext.form.field.HtmlEditor',Ext.form.FieldContainer,{alternateClassName:'Ext.form.HtmlEditor',focusable:!0,componentLayout:'htmleditor',textareaCls:'x-htmleditor-textarea',componentTpl:['{beforeTextAreaTpl}','\x3ctextarea id\x3d"{id}-textareaEl" data-ref\x3d"textareaEl" name\x3d"{name}" tabindex\x3d"-1" {inputAttrTpl}',' class\x3d"{textareaCls}" autocomplete\x3d"off"\x3e','{[Ext.util.Format.htmlEncode(values.value)]}','\x3c/textarea\x3e','{afterTextAreaTpl}','{beforeIFrameTpl}','\x3ciframe id\x3d"{id}-iframeEl" data-ref\x3d"iframeEl" name\x3d"{iframeName}" frameBorder\x3d"0" {iframeAttrTpl}',
' src\x3d"{iframeSrc}" class\x3d"{iframeCls}"\x3e\x3c/iframe\x3e','{afterIFrameTpl}',{disableFormats:!0}],stretchInputElFixed:!0,subTplInsertions:'beforeTextAreaTpl afterTextAreaTpl beforeIFrameTpl afterIFrameTpl iframeAttrTpl inputAttrTpl'.split(' '),enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:'Please enter the URL for the link:',defaultLinkValue:'http://',fontFamilies:['Arial','Courier New',
'Tahoma','Times New Roman','Verdana'],defaultValue:Ext.isOpera?'\x26#160;':'\x26#8203;',extraFieldBodyCls:'x-html-editor-wrap',defaultButtonUI:'default-toolbar',buttonDefaults:null,initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:'offsets',layout:{type:'vbox',align:'stretch'},maskOnDisable:!0,containerElCls:'x-html-editor-container',reStripQuotes:/^['"]*|['"]*$/g,textAlignRE:/text-align:(.*?);/i,safariNonsenseRE:/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,
nonDigitsRE:/\D/g,initComponent:function(){this.items=[this.createToolbar(),this.createInputCmp()];null==this.value&&(this.value='');Ext.form.FieldContainer.prototype.initComponent.apply(this,arguments);this.initField()},createInputCmp:function(){return this.inputCmp=Ext.widget(this.getInputCmpCfg())},getInputCmpCfg:function(){var id=this.id+'-inputCmp',data={id,name:this.name,textareaCls:this.textareaCls+' x-hidden',value:this.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:'x-htmleditor-iframe'};
this.getInsertionRenderData(data,this.subTplInsertions);return{flex:1,xtype:'component',tpl:this.lookupTpl('componentTpl'),childEls:['iframeEl','textareaEl'],id,cls:'x-html-editor-input',data}},createToolbar:function(){return this.toolbar=Ext.widget(this.getToolbarCfg())},getToolbarCfg:function(){function btn(id,toggle,handler){return Ext.merge({itemId:id,cls:'x-btn-icon',iconCls:'x-edit-'+id,enableToggle:!1!==toggle,scope:me,handler:handler||me.relayBtnCmd,clickEvent:'mousedown',tooltip:tipsEnabled?
me.buttonTips[id]:undef,overflowText:me.buttonTips[id].title||undef,tabIndex:-1},me.buttonDefaults)}var me=this,items=[],tipsEnabled=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),undef;if(me.enableFont){var i=Ext.widget('component',{itemId:'fontSelect',renderTpl:['\x3cselect id\x3d"{id}-selectEl" data-ref\x3d"selectEl" class\x3d"x-font-select"\x3e','\x3c/select\x3e'],childEls:['selectEl'],afterRender:function(){me.fontSelect=this.selectEl;Ext.Component.prototype.afterRender.apply(this,
arguments)},onDisable:function(){var selectEl=this.selectEl;selectEl&&(selectEl.dom.disabled=!0);Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var selectEl=this.selectEl;selectEl&&(selectEl.dom.disabled=!1);Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){me.win.focus();me.relayCmd('fontName',me.fontSelect.dom.value);me.deferFocus()},element:'selectEl'}});items.push(i,'-')}me.enableFormat&&items.push(btn('bold'),btn('italic'),btn('underline'));
me.enableFontSize&&items.push('-',btn('increasefontsize',!1,me.adjustFont),btn('decreasefontsize',!1,me.adjustFont));me.enableColors&&items.push('-',Ext.merge({itemId:'forecolor',cls:'x-btn-icon',iconCls:'x-edit-forecolor',overflowText:me.buttonTips.forecolor.title,tooltip:tipsEnabled?me.buttonTips.forecolor||undef:undef,tabIndex:-1,menu:Ext.widget('menu',{plain:!0,items:[{xtype:'colorpicker',allowReselect:!0,focus:Ext.emptyFn,value:'000000',plain:!0,clickEvent:'mousedown',handler:function(cp,color){me.relayCmd('forecolor',
Ext.isWebKit||Ext.isIE||Ext.isEdge?'#'+color:color);this.up('menu').hide()}}]})},me.buttonDefaults),Ext.merge({itemId:'backcolor',cls:'x-btn-icon',iconCls:'x-edit-backcolor',overflowText:me.buttonTips.backcolor.title,tooltip:tipsEnabled?me.buttonTips.backcolor||undef:undef,tabIndex:-1,menu:Ext.widget('menu',{plain:!0,items:[{xtype:'colorpicker',focus:Ext.emptyFn,value:'FFFFFF',plain:!0,allowReselect:!0,clickEvent:'mousedown',handler:function(cp,color){Ext.isGecko?(me.execCmd('useCSS',!1),me.execCmd('hilitecolor',
'#'+color),me.execCmd('useCSS',!0),me.deferFocus()):me.relayCmd(Ext.isOpera?'hilitecolor':'backcolor',Ext.isWebKit||Ext.isIE||Ext.isEdge||Ext.isOpera?'#'+color:color);this.up('menu').hide()}}]})},me.buttonDefaults));me.enableAlignments&&items.push('-',btn('justifyleft'),btn('justifycenter'),btn('justifyright'));me.enableLinks&&items.push('-',btn('createlink',!1,me.createLink));me.enableLists&&items.push('-',btn('insertorderedlist'),btn('insertunorderedlist'));me.enableSourceEdit&&items.push('-',btn('sourceedit',
!0,function(){me.toggleSourceEdit(!me.sourceEditMode)}));for(i=0;i<items.length;i++)'sourceedit'!==items[i].itemId&&(items[i].disabled=!0);return{xtype:'toolbar',defaultButtonUI:me.defaultButtonUI,cls:'x-html-editor-tb',enableOverflow:!0,items,listeners:{click:function(e){e.preventDefault()},element:'el'}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(readOnly){var textareaEl=this.textareaEl,iframeEl=this.iframeEl;this.readOnly=readOnly;textareaEl&&
(textareaEl.dom.readOnly=readOnly);this.initialized&&(textareaEl=this.getEditorBody(),Ext.isIE?(iframeEl.setDisplayed(!1),textareaEl.contentEditable=!readOnly,iframeEl.setDisplayed(!0)):this.setDesignMode(!readOnly),textareaEl&&(textareaEl.style.cursor=readOnly?'default':'text'),this.disableItems(readOnly))},getDocMarkup:function(){var h=this.iframeEl.getHeight()-2*this.iframePad;return Ext.String.format('\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3chead\x3e\x3cstyle type\x3d"text/css"\x3e'+(Ext.isOpera||
Ext.isIE?'p{margin:0;}':'')+'body{border:0;margin:0;padding:{0}px;direction:'+(this.rtl?'rtl;':'ltr;')+(Ext.isIE8?Ext.emptyString:'min-')+'height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;'+(Ext.isIE?'':'font-size:12px;font-family:{2}')+'}\x3c/style\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e',this.iframePad,h,this.defaultFont)},getEditorBody:function(){var doc=this.getDoc();return doc&&doc.body},getDoc:function(){return this.iframeEl.dom.contentDocument||
this.getWin().document},getWin:function(){return this.iframeEl.dom.contentWindow||window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var selIdx=0,len;if(!this.defaultFont){var font=this.textareaEl.getStyle('font-family');font=Ext.String.capitalize(font.split(',')[0]);var fonts=Ext.Array.clone(this.fontFamilies);Ext.Array.include(fonts,font);fonts.sort();this.defaultFont=font;var select=this.down('#fontSelect').selectEl.dom;var i=0;for(len=fonts.length;i<len;++i){font=fonts[i];var lower=
font.toLowerCase();var option=new Option(font,lower);font===this.defaultFont&&(selIdx=i);option.style.fontFamily=lower;Ext.isIE?select.add(option):select.options.add(option)}select.options[selIdx].selected=!0}},isEqual:function(value1,value2){return this.isEqualAsString(value1,value2)},afterRender:function(){var inputCmp=this.inputCmp;Ext.form.FieldContainer.prototype.afterRender.apply(this,arguments);this.iframeEl=inputCmp.iframeEl;this.textareaEl=inputCmp.textareaEl;this.inputEl=this.iframeEl;this.enableFont&&
this.initDefaultFont();this.initPhase=0;this.initializeTask=Ext.TaskManager.start({run:this.initFrameDoc,scope:this,interval:10,duration:5E3})},initFrameDoc:function(){var doc=this.getDoc();if(this.destroying||this.destroyed)return Ext.TaskManager.stop(this.initializeTask);switch(this.initPhase){case 0:doc&&(this.win=this.getWin(),doc.open(),doc.write(this.getDocMarkup()),doc.close(),this.initPhase++);break;case 1:if(doc.body||'complete'===doc.readyState)this.setDesignMode(!0),this.initPhase++;break;
case 2:this.initEditor(),Ext.TaskManager.stop(this.initializeTask)}},setDesignMode:function(mode){var doc=this.getDoc();doc&&(this.readOnly&&(mode=!1),doc.designMode=/on|true/i.test(String(mode).toLowerCase())?'on':'off')},getDesignMode:function(){var doc=this.getDoc();return doc?String(doc.designMode).toLowerCase():''},disableItems:function(disabled){var items=this.getToolbar().items.items,i,iLen=items.length;for(i=0;i<iLen;i++){var item=items[i];'sourceedit'!==item.getItemId()&&item.setDisabled(disabled)}},
toggleSourceEdit:function(sourceEditMode){var iframe=this.iframeEl,textarea=this.textareaEl,btn=this.getToolbar().getComponent('sourceedit');Ext.isBoolean(sourceEditMode)||(sourceEditMode=!this.sourceEditMode);this.sourceEditMode=sourceEditMode;btn.pressed!==sourceEditMode&&btn.toggle(sourceEditMode);sourceEditMode?(this.disableItems(!0),this.syncValue(),iframe.addCls('x-hidden'),textarea.removeCls('x-hidden'),textarea.dom.removeAttribute('tabIndex'),textarea.focus(),this.inputEl=textarea):(this.initialized&&
this.disableItems(this.readOnly),this.pushValue(),iframe.removeCls('x-hidden'),textarea.addCls('x-hidden'),textarea.dom.setAttribute('tabIndex',-1),this.deferFocus(),this.inputEl=iframe);this.fireEvent('editmodechange',this,sourceEditMode);this.updateLayout()},createLink:function(){var url=prompt(this.createLinkText,this.defaultLinkValue);url&&'http://'!==url&&this.relayCmd('createlink',url)},clearInvalid:Ext.emptyFn,setValue:function(value){var textarea=this.textareaEl;if(null===value||void 0===
value)value='';this.value!==value&&(textarea&&(textarea.dom.value=value),this.pushValue(),!this.rendered&&this.inputCmp&&(this.inputCmp.data.value=value),this.mixins.field.setValue.call(this,value));return this},cleanHtml:function(html){html=String(html);Ext.isWebKit&&(html=html.replace(this.safariNonsenseRE,''));html.charCodeAt(0)===parseInt(this.defaultValue.replace(this.nonDigitsRE,''),10)&&(html=html.substring(1));return html},syncValue:function(){if(this.initialized){var body=this.getEditorBody();
var html=body.innerHTML;var textElDom=this.textareaEl.dom;Ext.isWebKit&&(body=body.style.cssText,(body=body.match(this.textAlignRE))&&body[1]&&(html='\x3cdiv style\x3d"'+body[0]+'"\x3e'+html+'\x3c/div\x3e'));html=this.cleanHtml(html);if(!1!==this.fireEvent('beforesync',this,html)){Ext.isGecko&&''===textElDom.value&&'\x3cbr\x3e'===html&&(html='');if(textElDom.value!==html){textElDom.value=html;var changed=!0}this.fireEvent('sync',this,html);changed&&this.checkChange()}}},getValue:function(){var value;
this.sourceEditMode||this.syncValue();return this.value=value=this.rendered?this.textareaEl.dom.value:this.value},pushValue:function(){if(this.initialized){var v=this.textareaEl.dom.value||'';!this.activated&&1>v.length&&(v=this.defaultValue);!1!==this.fireEvent('beforepush',this,v)&&(this.getEditorBody().innerHTML=v,Ext.isGecko&&(this.setDesignMode(!1),this.setDesignMode(!0)),this.fireEvent('push',this,v))}},focus:function(selectText,delay){if(delay)this.focusTask||(this.focusTask=new Ext.util.DelayedTask(this.focus)),
this.focusTask.delay(Ext.isNumber(delay)?delay:10,null,this,[selectText,!1]);else{if(selectText){if(this.textareaEl&&this.textareaEl.dom)var value=this.textareaEl.dom.value;value&&value.length&&this.execCmd('selectall',!0)}(selectText=this.getFocusEl())&&selectText.focus&&selectText.focus()}return this},initEditor:function(){var me=this,dbody=me.getEditorBody(),ss=me.textareaEl.getStyle('font-size font-family background-image background-repeat background-color color'.split(' ')),doc=me.getDoc(),docEl=
Ext.get(doc);ss['background-attachment']='fixed';dbody.bgProperties='fixed';Ext.DomHelper.applyStyles(dbody,ss);if(docEl){try{docEl.clearListeners()}catch(e){}dbody=Ext.Function.createBuffered(me.updateToolbar,100,me);docEl.on({mousedown:dbody,dblclick:dbody,click:dbody,keyup:dbody,delegated:!1});dbody=me.onRelayedEvent;docEl.on({mousedown:dbody,mousemove:dbody,mouseup:dbody,click:dbody,dblclick:dbody,delegated:!1,scope:me});if(Ext.isGecko)docEl.on('keypress',me.applyCommand,me);if(me.fixKeys)docEl.on('keydown',
me.fixKeys,me,{delegated:!1});if(me.fixKeysAfter)docEl.on('keyup',me.fixKeysAfter,me,{delegated:!1});if(Ext.isIE9)Ext.get(doc.documentElement).on('focus',me.focus,me);Ext.isIE8&&(docEl.on('focusout',function(){me.savedSelection='None'!==doc.selection.type?doc.selection.createRange():null},me),docEl.on('focusin',function(){me.savedSelection&&me.savedSelection.select()},me));Ext.getWin().on('unload',me.destroyEditor,me);me.initialized=!0;me.pushValue();me.setReadOnly(me.readOnly);me.fireEvent('initialize',
me)}},destroyEditor:function(){var initializeTask=this.initializeTask,prop;initializeTask&&Ext.TaskManager.stop(initializeTask,!0);if(this.rendered&&(Ext.getWin().un('unload',this.destroyEditor,this),initializeTask=this.getDoc())&&(Ext.get(initializeTask).destroy(),initializeTask.hasOwnProperty))for(prop in initializeTask)try{initializeTask.hasOwnProperty(prop)&&delete initializeTask[prop]}catch(e){}},doDestroy:function(){this.destroyEditor();Ext.form.FieldContainer.prototype.doDestroy.call(this)},
onRelayedEvent:function(event){var iframeEl=this.iframeEl,iframeXY=Ext.fly(iframeEl).getTrueXY(),originalEventXY=event.getXY(),eventXY=event.getXY();event.xy=[iframeXY[0]+eventXY[0],iframeXY[1]+eventXY[1]];event.injectEvent(iframeEl);event.xy=originalEventXY},onFirstFocus:function(){this.activated=!0;this.disableItems(this.readOnly);if(Ext.isGecko){this.win.focus();var selection=this.win.getSelection();selection.focusNode&&!this.getValue().length&&(selection=selection.getRangeAt(0),selection.selectNodeContents(this.getEditorBody()),
selection.collapse(!0),this.deferFocus());try{this.execCmd('useCSS',!0),this.execCmd('styleWithCSS',!1)}catch(e){}}this.fireEvent('activate',this)},adjustFont:function(btn){btn='increasefontsize'===btn.getItemId()?1:-1;var size=this.getDoc().queryCommandValue('FontSize')||'2',isPxSize=Ext.isString(size)&&-1!==size.indexOf('px');size=parseInt(size,10);isPxSize?size=Ext.Number.constrain(10>=size?1+btn:13>=size?2+btn:16>=size?3+btn:18>=size?4+btn:24>=size?5+btn:6+btn,1,6):((isPxSize=Ext.isSafari)&&(btn*=
2),size=Math.max(1,size+btn)+(isPxSize?'px':0));this.relayCmd('FontSize',size)},updateToolbar:function(){function updateButtons(){i=0;l=arguments.length;for(name;i<l;i++){name=arguments[i];try{var state=doc.queryCommandState(name)}catch(e){state=!1}btns[name].toggle(state)}}var i,l;if(!this.readOnly)if(this.activated){var btns=this.getToolbar().items.map;var doc=this.getDoc();if(this.enableFont){var queriedName=doc.queryCommandValue('fontName');var name=(queriedName?queriedName.split(',')[0].replace(this.reStripQuotes,
''):this.defaultFont).toLowerCase();var fontSelect=this.fontSelect.dom;if(name!==fontSelect.value||name!==queriedName)fontSelect.value=name}this.enableFormat&&updateButtons('bold','italic','underline');this.enableAlignments&&updateButtons('justifyleft','justifycenter','justifyright');this.enableLists&&updateButtons('insertorderedlist','insertunorderedlist');queriedName=this.toolbar.query('menu');for(i=0;i<queriedName.length;i++)queriedName[i].hide();this.syncValue()}else this.onFirstFocus()},relayBtnCmd:function(btn){this.relayCmd(btn.getItemId())},
relayCmd:function(cmd,value){Ext.defer(function(){this.destroyed||(this.win.focus(),this.execCmd(cmd,value),this.updateToolbar())},10,this)},execCmd:function(cmd,value){this.getDoc().execCommand(cmd,!1,void 0===value?null:value);this.syncValue()},applyCommand:function(e){if(e.ctrlKey){var c=e.getCharCode();if(0<c){c=String.fromCharCode(c);switch(c){case 'b':var cmd='bold';break;case 'i':cmd='italic';break;case 'u':cmd='underline'}cmd&&(this.win.focus(),this.execCmd(cmd),this.deferFocus(),e.preventDefault())}}},
insertAtCursor:function(text){var win=this.getWin(),doc=this.getDoc();if(this.activated){win.focus();if(win.getSelection){var sel=win.getSelection();if(sel.getRangeAt&&sel.rangeCount){win=sel.getRangeAt(0);win.deleteContents();var el=doc.createElement('div');el.innerHTML=text;for(text=doc.createDocumentFragment();doc=el.firstChild;)var lastNode=text.appendChild(doc);win.insertNode(text);lastNode&&(win=win.cloneRange(),win.setStartAfter(lastNode),win.collapse(!0),sel.removeAllRanges(),sel.addRange(win))}}else doc.selection&&
'Control'!==sel.type&&(sel=doc.selection,win=sel.createRange(),win.collapse(!0),sel.createRange().pasteHTML(text));this.deferFocus()}},fixKeys:function(){return Ext.isIE10m?function(e){var k=e.getKey(),doc=this.getDoc(),readOnly=this.readOnly;k===e.TAB&&(e.stopEvent(),!readOnly&&(e=doc.selection.createRange()))&&(e.collapse&&(e.collapse(!0),e.pasteHTML('\x26#160;\x26#160;\x26#160;\x26#160;')),this.deferFocus())}:Ext.isOpera?function(e){var k=e.getKey(),readOnly=this.readOnly;k===e.TAB&&(e.stopEvent(),
readOnly||(this.win.focus(),this.execCmd('InsertHTML','\x26#160;\x26#160;\x26#160;\x26#160;'),this.deferFocus()))}:null}(),fixKeysAfter:function(){return Ext.isIE?function(e){var k=e.getKey(),doc=this.getDoc();this.readOnly||k!==e.BACKSPACE&&k!==e.DELETE||(e=doc.body.innerHTML,'\x3cp\x3e\x26nbsp;\x3c/p\x3e'!==e&&'\x3cP\x3e\x26nbsp;\x3c/P\x3e'!==e)||(doc.body.innerHTML='')}:null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:'Bold (Ctrl+B)',text:'Make the selected text bold.',
cls:'x-html-editor-tip'},italic:{title:'Italic (Ctrl+I)',text:'Make the selected text italic.',cls:'x-html-editor-tip'},underline:{title:'Underline (Ctrl+U)',text:'Underline the selected text.',cls:'x-html-editor-tip'},increasefontsize:{title:'Grow Text',text:'Increase the font size.',cls:'x-html-editor-tip'},decreasefontsize:{title:'Shrink Text',text:'Decrease the font size.',cls:'x-html-editor-tip'},backcolor:{title:'Text Highlight Color',text:'Change the background color of the selected text.',
cls:'x-html-editor-tip'},forecolor:{title:'Font Color',text:'Change the color of the selected text.',cls:'x-html-editor-tip'},justifyleft:{title:'Align Text Left',text:'Align text to the left.',cls:'x-html-editor-tip'},justifycenter:{title:'Center Text',text:'Center text in the editor.',cls:'x-html-editor-tip'},justifyright:{title:'Align Text Right',text:'Align text to the right.',cls:'x-html-editor-tip'},insertunorderedlist:{title:'Bullet List',text:'Start a bulleted list.',cls:'x-html-editor-tip'},
insertorderedlist:{title:'Numbered List',text:'Start a numbered list.',cls:'x-html-editor-tip'},createlink:{title:'Hyperlink',text:'Make the selected text a hyperlink.',cls:'x-html-editor-tip'},sourceedit:{title:'Source Edit',text:'Switch to source editing mode.',cls:'x-html-editor-tip'}},privates:{deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){return this.sourceEditMode?this.textareaEl:this.iframeEl}}},0,['htmleditor'],['component','box','container','fieldcontainer','htmleditor'],
{component:!0,box:!0,container:!0,fieldcontainer:!0,htmleditor:!0},['widget.htmleditor'],[['field',Ext.form.field.Field]],[Ext.form.field,'HtmlEditor',Ext.form,'HtmlEditor'],0);Ext.define('Ext.theme.neptune.form.field.HtmlEditor',{override:'Ext.form.field.HtmlEditor',defaultButtonUI:'plain-toolbar'});
Ext.cmd.derive('Ext.view.TagKeyNav',Ext.view.BoundListKeyNav,{onKeySpace:function(e){var field=this.view.pickerField;return field.isExpanded&&''===field.inputEl.dom.value?(this.navigateOnSpace=field.preventKeyUpEvent=!0,Ext.view.BoundListKeyNav.prototype.onKeySpace.call(this,e),e.stopEvent(),!1):!0}},0,0,0,0,['view.navigation.tagfield'],0,[Ext.view,'TagKeyNav'],0);
Ext.cmd.derive('Ext.form.field.Tag',Ext.form.field.ComboBox,{noWrap:!1,multiSelect:!0,delimiter:',',tipTpl:void 0,forceSelection:!0,createNewOnEnter:!1,createNewOnBlur:!1,encodeSubmitValue:!1,triggerOnClick:!0,stacked:!1,filterPickList:!1,focusLastAddedItem:!1,clearOnBackspace:!0,grow:!0,growMin:!1,growMax:!1,simulatePlaceholder:!0,selectOnFocus:!0,ariaHelpText:'Use Up and Down arrows to view available values, Enter to select. Use Left and Right arrows to view selected values, Delete key to deselect.',
ariaHelpTextEditable:'Use Up and Down arrows to view available values, Enter to select. Type and press Enter to create a new value. Use Left and Right arrows to view selected values, Delete key to deselect.',ariaSelectedText:'Selected {0}.',ariaDeselectedText:'{0} removed from selection.',ariaNoneSelectedText:'No value selected.',ariaSelectedListLabel:'Selected values',ariaAvailableListLabel:'Available values',fieldSubTpl:['\x3cdiv id\x3d"{cmpId}-listWrapper" data-ref\x3d"listWrapper"'+(Ext.isGecko?
' tabindex\x3d"-1"':''),'\x3ctpl foreach\x3d"ariaElAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e',' class\x3d"x-tagfield {fieldCls} {typeCls} {typeCls}-{ui}"\x3ctpl if\x3d"wrapperStyle"\x3e style\x3d"{wrapperStyle}"\x3c/tpl\x3e\x3e','\x3cspan id\x3d"{cmpId}-selectedText" data-ref\x3d"selectedText" aria-hidden\x3d"true" class\x3d"x-hidden-clip"\x3e\x3c/span\x3e','\x3cul id\x3d"{cmpId}-itemList" data-ref\x3d"itemList" role\x3d"presentation" class\x3d"x-tagfield-list{itemListCls}"\x3e','\x3cli id\x3d"{cmpId}-inputElCt" data-ref\x3d"inputElCt" role\x3d"presentation" class\x3d"x-tagfield-input"\x3e',
'\x3cinput id\x3d"{cmpId}-inputEl" data-ref\x3d"inputEl" type\x3d"{type}" ','\x3ctpl if\x3d"name"\x3ename\x3d"{name}" \x3c/tpl\x3e','\x3ctpl if\x3d"value"\x3e value\x3d"{[Ext.util.Format.htmlEncode(values.value)]}"\x3c/tpl\x3e','\x3ctpl if\x3d"size"\x3esize\x3d"{size}" \x3c/tpl\x3e','\x3ctpl if\x3d"tabIdx !\x3d null"\x3etabindex\x3d"{tabIdx}" \x3c/tpl\x3e','\x3ctpl if\x3d"disabled"\x3e disabled\x3d"disabled"\x3c/tpl\x3e','\x3ctpl foreach\x3d"inputElAriaAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e','class\x3d"x-tagfield-input-field {inputElCls} {noGrowCls} {emptyCls} {fixCls}" autocomplete\x3d"off"\x3e',
'\x3c/li\x3e','\x3c/ul\x3e','\x3cul id\x3d"{cmpId}-ariaList" data-ref\x3d"ariaList" role\x3d"listbox"','\x3ctpl if\x3d"ariaSelectedListLabel"\x3e aria-label\x3d"{ariaSelectedListLabel}"\x3c/tpl\x3e','\x3ctpl if\x3d"multiSelect"\x3e aria-multiselectable\x3d"true"\x3c/tpl\x3e',' class\x3d"x-tagfield-arialist"\x3e','\x3c/ul\x3e','\x3c/div\x3e',{disableFormats:!0}],postSubTpl:['\x3clabel id\x3d"{cmpId}-placeholderLabel" data-ref\x3d"placeholderLabel" for\x3d"{cmpId}-inputEl" class\x3d"{placeholderCoverCls} {placeholderCoverCls}-{ui} {emptyCls}"\x3e{placeholder}\x3c/label\x3e',
'\x3c/div\x3e','\x3ctpl for\x3d"triggers"\x3e{[values.renderTrigger(parent)]}\x3c/tpl\x3e','\x3c/div\x3e'],extraFieldBodyCls:'x-tagfield-body',childEls:'listWrapper itemList inputEl inputElCt selectedText ariaList'.split(' '),clearValueOnEmpty:!1,ariaSelectable:!0,ariaEl:'listWrapper',notEditableCls:'x-not-editable',tagItemCls:'x-tagfield-item',tagItemTextCls:'x-tagfield-item-text',tagItemCloseCls:'x-tagfield-item-close',tagItemSelector:'.x-tagfield-item',tagItemCloseSelector:'.x-tagfield-item-close',
tagSelectedCls:'x-tagfield-item-selected',noGrowCls:'x-tagfield-input-field-nogrow',initComponent:function(){var typeAhead=this.typeAhead,delimiter=this.delimiter;if(this.createNewOnEnter||this.createNewOnBlur)this.forceSelection=!1;this.typeAhead=!1;null==this.value&&(this.value=[]);this.selectionModel=new Ext.selection.Model({mode:'MULTI',onSelectChange:function(record,isSelected,suppressEvent,commitFn){commitFn()},listeners:{scope:this,selectionchange:this.onSelectionChange,focuschange:this.onFocusChange}});
this.ariaHelp||(this.ariaHelp=this.createNewOnEnter?this.ariaHelpTextEditable:this.ariaHelpText);Ext.form.field.ComboBox.prototype.initComponent.call(this);this.typeAhead=typeAhead;delimiter&&this.multiSelect&&(this.delimiterRegexp=new RegExp(Ext.String.escapeRegex(delimiter)))},initEvents:function(){var inputEl=this.inputEl;Ext.form.field.ComboBox.prototype.initEvents.apply(this,arguments);this.enableKeyEvents||(inputEl.on('keydown',this.onKeyDown,this),inputEl.on('keyup',this.onKeyUp,this));this.listWrapper.on({scope:this,
click:this.onItemListClick,mousedown:this.onItemMouseDown})},createPicker:function(){var config=Ext.apply({navigationModel:'tagfield'},this.defaultListConfig);this.ariaAvailableListLabel&&(config.ariaRenderAttributes={'aria-label':Ext.String.htmlEncode(this.ariaAvailableListLabel)});this.defaultListConfig=config;return Ext.form.field.ComboBox.prototype.createPicker.call(this)},isValid:function(){var disabled=this.disabled;return this.forceValidation||!disabled?this.validateValue(this.getValue()):
disabled},onBindStore:function(store){Ext.form.field.ComboBox.prototype.onBindStore.call(this,store);store&&(this.valueStore=new Ext.data.Store({model:store.getModel(),proxy:'memory',useModelWarning:!1}),this.selectionModel.bindStore(this.valueStore),this.filterPickList&&(this.listFilter=new Ext.util.Filter({scope:this,filterFn:this.filterPicked}),this.changingFilters=!0,store.filter(this.listFilter),this.changingFilters=!1))},filterPicked:function(rec){return!this.valueCollection.contains(rec)},
onUnbindStore:function(store){var valueStore=this.valueStore,picker=this.picker;picker&&picker.bindStore(null);valueStore&&(valueStore.destroy(),this.valueStore=null);this.filterPickList&&!store.destroyed&&(this.changingFilters=!0,store.removeFilter(this.listFilter),this.changingFilters=!1);Ext.form.field.ComboBox.prototype.onUnbindStore.apply(this,arguments)},clearInput:function(){var valueRecords=this.getValueRecords(),inputValue=this.inputEl&&this.inputEl.dom.value;if(valueRecords.length&&inputValue){valueRecords=
valueRecords[valueRecords.length-1].get(this.displayField);if(!Ext.String.startsWith(valueRecords,inputValue,!0))return;this.inputEl.dom.value='';'local'===this.queryMode&&(this.clearLocalFilter(),this.getPicker().refresh())}this.syncInputWidth()},onValueCollectionEndUpdate:function(){var pickedRecords=this.valueCollection.items,valueStore=this.valueStore;this.isSelectionUpdating()||(this.filterPickList&&(this.changingFilters=!0,this.store.filter(this.listFilter),this.changingFilters=!1),Ext.form.field.ComboBox.prototype.onValueCollectionEndUpdate.call(this),
Ext.suspendLayouts(),valueStore&&(valueStore.suspendEvents(),valueStore.loadRecords(pickedRecords),valueStore.resumeEvents()),this.refreshEmptyText(),this.clearInput(),Ext.resumeLayouts(!0),this.alignPicker())},checkValueOnDataChange:Ext.emptyFn,onSelectionChange:function(selModel,selectedRecs){selModel=this.inputEl;var item;this.applyMultiselectItemMarkup();this.applyAriaListMarkup();this.applyAriaSelectedText();selModel&&(0===selectedRecs.length?selModel.dom.removeAttribute('aria-activedescendant'):
(item=this.getAriaListNode(selectedRecs[0]))&&selModel.dom.setAttribute('aria-activedescendant',item.id));this.fireEvent('valueselectionchange',this,selectedRecs)},onFocusChange:function(selectionModel,oldFocused,newFocused){Ext.form.field.ComboBox.prototype.onFocusChange.call(this,selectionModel,oldFocused,newFocused);this.fireEvent('valuefocuschange',this,oldFocused,newFocused)},getAriaListNode:function(record){var ariaList=this.ariaList,node;ariaList&&record&&(node=ariaList.selectNode('[data-recordid\x3d"'+
record.internalId+'"]'));return node},doDestroy:function(){Ext.destroy(this.selectionModel);Ext.form.field.ComboBox.prototype.doDestroy.call(this)},getSubTplData:function(fieldData){var id=this.id,data=Ext.form.field.ComboBox.prototype.getSubTplData.apply(this,arguments),emptyText=this.emptyText,isEmpty=emptyText&&1>data.value.length,growMin=this.growMin,growMax=this.growMax,wrapperStyle='';data.value='';data.emptyText=isEmpty?emptyText:'';data.itemListCls='';data.emptyCls=isEmpty?this.emptyUICls:
'';this.grow?(Ext.isNumber(growMin)&&0<growMin&&(wrapperStyle+='min-height:'+growMin+'px;'),Ext.isNumber(growMax)&&0<growMax&&(wrapperStyle+='max-height:'+growMax+'px;')):wrapperStyle+='max-height: 1px;';data.noGrowCls=this.grow?'':this.noGrowCls;data.wrapperStyle=wrapperStyle;!0===this.stacked&&(data.itemListCls+=' x-tagfield-stacked');this.multiSelect||(data.itemListCls+=' x-tagfield-singleselect');!this.ariaStaticRoles[this.ariaRole]&&(data.multiSelect=this.multiSelect,data.ariaSelectedListLabel=
Ext.String.htmlEncode(this.ariaSelectedListLabel),(emptyText=data.ariaElAttributes)&&(emptyText['aria-owns']=id+'-inputEl '+id+'-picker '+id+'-ariaList'),emptyText=data.inputElAriaAttributes)&&(emptyText.role='textbox',emptyText['aria-describedby']=id+'-selectedText '+(emptyText['aria-describedby']||''));return data},onRender:function(container,index){(arguments.callee.$previous||Ext.form.field.ComboBox.prototype.onRender).call(this,container,index);this.emptyClsElements.push(this.listWrapper,this.placeholderLabel)},
afterRender:function(){var inputEl=this.inputEl;this.emptyText&&Ext.supports.Placeholder&&inputEl&&inputEl.dom.removeAttribute('placeholder');this.applyMultiselectItemMarkup();this.applyAriaListMarkup();this.applyAriaSelectedText();Ext.form.field.ComboBox.prototype.afterRender.call(this)},findRecord:function(field,value){field=this.getStore().queryRecords(field,value);return field.length?field[0]:!1},getCursorPosition:function(){if(document.selection){var cursorPos=document.selection.createRange();
cursorPos.collapse(!0);cursorPos.moveStart('character',-this.inputEl.dom.value.length);cursorPos=cursorPos.text.length}else cursorPos=this.inputEl.dom.selectionStart;return cursorPos},hasSelectedText:function(){var inputEl=this.inputEl.dom;if(document.selection){var sel=document.selection;sel=sel.createRange();return sel.parentElement()===inputEl}return inputEl.selectionStart!==inputEl.selectionEnd},onKeyDown:function(e){var key=e.getKey(),inputEl=this.inputEl,rawValue=inputEl&&inputEl.dom.value;
inputEl=this.valueCollection;var selModel=this.selectionModel,stopEvent=!1,len;if(!(this.destroyed||this.readOnly||this.disabled)&&this.editable){var valueCount=inputEl.getCount();if(0<valueCount&&''===rawValue)if(rawValue=0<selModel.getCount()?inputEl.indexOf(selModel.getLastSelected()):-1,key===e.BACKSPACE&&this.clearOnBackspace||key===e.DELETE&&-1<rawValue){if(-1<rawValue){1<selModel.getCount()&&(rawValue=-1);stopEvent=selModel.getSelection();var text=[];var i=0;for(len=stopEvent.length;i<len;i++)text.push(stopEvent[i].get(this.displayField));
text=text.join(', ')}else stopEvent=inputEl.last(),text=stopEvent.get(this.displayField);inputEl.remove(stopEvent);text&&(this.ariaErrorEl.dom.innerHTML=Ext.String.formatEncode(this.ariaDeselectedText,text));selModel.clearSelections();rawValue===valueCount-1?selModel.select(inputEl.last()):-1<rawValue?selModel.select(rawValue):inputEl.getCount()&&selModel.select(inputEl.last());stopEvent=!0}else key===e.RIGHT||key===e.LEFT?-1===rawValue&&key===e.LEFT?(selModel.select(inputEl.last()),stopEvent=!0):
-1<rawValue&&(key===e.RIGHT?rawValue<valueCount-1?(selModel.select(rawValue+1,e.shiftKey),stopEvent=!0):e.shiftKey||(selModel.deselectAll(),stopEvent=!0):key===e.LEFT&&0<rawValue&&(selModel.select(rawValue-1,e.shiftKey),stopEvent=!0)):key===e.A&&e.ctrlKey&&(selModel.selectAll(),stopEvent=e.A);stopEvent?(this.preventKeyUpEvent=stopEvent,e.stopEvent()):(this.isExpanded&&key===e.ENTER&&this.picker.highlightedItem&&(this.preventKeyUpEvent=!0),this.enableKeyEvents&&Ext.form.field.ComboBox.prototype.onKeyDown.apply(this,
arguments),e.isSpecialKey()||e.hasModifier()||selModel.deselectAll())}},onKeyUp:function(e,t){var inputEl=this.inputEl,rawValue=inputEl.dom.value,preventKeyUpEvent=this.preventKeyUpEvent;if(this.preventKeyUpEvent)e.stopEvent(),!0!==preventKeyUpEvent&&e.getKey()!==preventKeyUpEvent||delete this.preventKeyUpEvent;else{if(this.multiSelect&&this.delimiterRegexp&&this.delimiterRegexp.test(rawValue)||this.createNewOnEnter&&e.getKey()===e.ENTER)this.createNewOnEnter&&rawValue&&(this.ariaErrorEl.dom.innerHTML=
Ext.String.formatEncode(this.ariaSelectedText,rawValue)),rawValue=Ext.Array.clean(rawValue.split(this.delimiterRegexp)),inputEl.dom.value='',this.setValue(this.valueStore.getRange().concat(rawValue)),inputEl.focus();this.growMax&&this.growMax>=this.itemList.getHeight()&&this.autoSize();Ext.form.field.ComboBox.prototype.onKeyUp.call(this,e,t)}},onEsc:function(e){var selModel=this.selectionModel,isExpanded=this.isExpanded;Ext.form.field.ComboBox.prototype.onEsc.call(this,e);!isExpanded&&0<selModel.getCount()&&
selModel.deselectAll();e.stopEvent()},onTypeAhead:function(){var displayField=this.displayField,inputElDom=this.inputEl.dom,record=this.getStore().findRecord(displayField,inputElDom.value);if(record){displayField=record.get(displayField);record=displayField.length;var selStart=inputElDom.value.length;0!==selStart&&selStart!==record&&(this.lastMutatedValue=displayField,inputElDom.value=displayField,this.syncInputWidth(),this.selectText(selStart,displayField.length))}},onItemListClick:function(e){var selectionModel=
this.selectionModel,itemEl=e.getTarget(this.tagItemSelector),closeEl=itemEl?e.getTarget(this.tagItemCloseSelector):!1;if(!this.readOnly&&!this.disabled)if(e.stopPropagation(),itemEl)closeEl?(this.removeByListItemNode(itemEl),0<this.valueStore.getCount()&&this.fireEvent('select',this,this.valueStore.getRange())):this.toggleSelectionByListItemNode(itemEl,e.shiftKey),Ext.supports.TouchEvents||this.inputEl.focus();else if(0<selectionModel.getCount()&&selectionModel.deselectAll(),this.inputEl.focus(),
this.triggerOnClick)this.onTriggerClick()},onItemMouseDown:function(e){e.target!==this.inputEl.dom&&e.preventDefault()},getMultiSelectItemMarkup:function(){var me=this,childElCls=me._getChildElCls&&me._getChildElCls()||'';me.multiSelectItemTpl||(me.labelTpl||(me.labelTpl='{'+me.displayField+'}'),me.labelTpl=me.lookupTpl('labelTpl'),me.tipTpl&&(me.tipTpl=me.lookupTpl('tipTpl')),me.multiSelectItemTpl=new Ext.XTemplate(['\x3ctpl for\x3d"."\x3e','\x3cli data-selectionIndex\x3d"{[xindex - 1]}" data-recordId\x3d"{internalId}" role\x3d"presentation" class\x3d"'+
me.tagItemCls+childElCls,'\x3ctpl if\x3d"this.isSelected(values)"\x3e',' '+me.tagSelectedCls,'\x3c/tpl\x3e','{%','values \x3d values.data;','%}',me.tipTpl?'" data-qtip\x3d"{[this.getTip(values)]}"\x3e':'"\x3e','\x3cdiv role\x3d"presentation" class\x3d"'+me.tagItemTextCls+'"\x3e{[this.getItemLabel(values)]}\x3c/div\x3e','\x3cdiv role\x3d"presentation" class\x3d"'+me.tagItemCloseCls+childElCls+'"\x3e\x3c/div\x3e','\x3c/li\x3e','\x3c/tpl\x3e',{isSelected:function(rec){return me.selectionModel.isSelected(rec)},
getItemLabel:function(values){return Ext.String.htmlEncode(me.labelTpl.apply(values))},getTip:function(values){return Ext.String.htmlEncode(me.tipTpl.apply(values))},strict:!0}]));me.multiSelectItemTpl.isTemplate||(me.multiSelectItemTpl=this.lookupTpl('multiSelectItemTpl'));return me.multiSelectItemTpl.apply(me.valueCollection.getRange())},applyMultiselectItemMarkup:function(){var itemList=this.itemList;itemList&&(itemList.select('.x-tagfield-item').destroy(),this.inputElCt.insertHtml('beforeBegin',
this.getMultiSelectItemMarkup()),itemList.getHeight()>this.getHeight()&&this.focusLastAddedItem&&itemList.dom.scrollIntoView(!1),this.autoSize())},getAriaListMarkup:function(){var me=this;me.ariaListItemTpl||(me.ariaListItemTpl=new Ext.XTemplate(['\x3ctpl for\x3d"."\x3e','\x3cli id\x3d"'+me.id+'-{internalId}" role\x3d"option"',' class\x3d"x-tagfield-arialist-item"',' aria-selected\x3d"{[this.isPicked(values)]}"','  data-recordId\x3d"{internalId}"','\x3e','{[this.getItemLabel(values.data)]}','\x3c/li\x3e',
'\x3c/tpl\x3e',{isPicked:function(rec){return me.filterPicked(rec)?'false':'true'},isSelected:function(rec){return me.selectionModel.isSelected(rec)?'true':'false'},getItemLabel:function(values){return Ext.String.htmlEncode(me.labelTpl.apply(values))},strict:!0}]));me.ariaListItemTpl.isTemplate||(me.ariaListtemTpl=me.lookupTpl('ariaListItemTpl'));var values$jscomp$0=me.valueCollection.getRange();return me.ariaListItemTpl.apply(values$jscomp$0)},applyAriaListMarkup:function(){var ariaList=this.ariaList;
ariaList&&(ariaList.select('*').destroy(),ariaList.insertHtml('afterBegin',this.getAriaListMarkup()))},getAriaSelectedText:function(values$jscomp$0){var me=this;me.ariaSelectedItemTpl||(me.ariaSelectedItemTpl=new Ext.XTemplate(['\x3ctpl for\x3d"." between\x3d", "\x3e','{[this.getItemLabel(values.data)]}','\x3c/tpl\x3e',{getItemLabel:function(values){return Ext.String.htmlEncode(me.labelTpl.apply(values))},strict:!0}]));me.ariaSelectedItemTpl.isTemplate||(me.ariaSelectedItemTpl=me.lookupTpl('ariaSelectedItemTpl'));
return Ext.String.format(me.ariaSelectedText,me.ariaSelectedItemTpl.apply(values$jscomp$0))},applyAriaSelectedText:function(){var selectedText=this.selectedText;if(selectedText){var records=this.valueCollection.getRange();records=records.length?this.getAriaSelectedText(records):this.ariaNoneSelectedText;selectedText.dom.innerHTML=Ext.String.htmlEncode(records)}},getRecordByListItemNode:function(itemEl){return this.valueCollection.items[Number(itemEl.getAttribute('data-selectionIndex'))]},toggleSelectionByListItemNode:function(itemEl,
keepExisting){itemEl=this.getRecordByListItemNode(itemEl);var selModel=this.selectionModel;itemEl&&(selModel.isSelected(itemEl)?selModel.deselect(itemEl):selModel.select(itemEl,keepExisting))},removeByListItemNode:function(itemEl){(itemEl=this.getRecordByListItemNode(itemEl))&&this.pickerSelectionModel.deselect(itemEl)},getDisplayValue:function(){return this.getRawValue()},getRawValue:function(){var records=this.getValueRecords(),values=[],len;var i=0;for(len=records.length;i<len;i++)values.push(records[i].data[this.displayField]);
return values.join(',')},setRawValue:function(value){},removeValue:function(value){var valueCollection=this.valueCollection,len,toRemove=[];if(value){value=Ext.Array.from(value);var i=0;for(len=value.length;i<len;++i){var item=value[i];item.isModel||(item=valueCollection.byValue.get(item));item&&toRemove.push(item)}this.valueCollection.beginUpdate();this.pickerSelectionModel.deselect(toRemove);this.valueCollection.endUpdate()}},getValue:function(){var value=Ext.form.field.ComboBox.prototype.getValue.call(this);
value&&(value=Ext.Array.from(value));return value},setValue:function(value,add,skipLoad){var me=this,valueStore=me.valueStore,valueField=me.valueField,unknownValues=[],store=me.store,autoLoadOnValue=me.autoLoadOnValue,isLoaded=0<store.getCount()||store.isLoaded(),pendingLoad=store.hasPendingLoad();autoLoadOnValue=autoLoadOnValue&&!isLoaded&&!pendingLoad;if(Ext.isEmpty(value)){value=null;var isNull=!0}else value=Ext.isString(value)&&me.multiSelect?value.split(me.delimiter):Ext.Array.from(value,!0);
if(!isNull&&'remote'===me.queryMode&&!store.isEmptyStore&&!0!==skipLoad&&autoLoadOnValue){autoLoadOnValue=0;for(skipLoad=value.length;autoLoadOnValue<skipLoad;autoLoadOnValue++)pendingLoad=value[autoLoadOnValue],pendingLoad&&pendingLoad.isModel||(isLoaded=valueStore.findExact(valueField,pendingLoad),-1<isLoaded?value[autoLoadOnValue]=valueStore.getAt(isLoaded):(isLoaded=me.findRecord(valueField,pendingLoad),isLoaded||(me.forceSelection?unknownValues.push(pendingLoad):(isLoaded={},isLoaded[me.valueField]=
pendingLoad,isLoaded[me.displayField]=pendingLoad,pendingLoad=me.valueStore.getModel(),isLoaded=new pendingLoad(isLoaded))),isLoaded&&(value[autoLoadOnValue]=isLoaded)));if(unknownValues.length)return valueStore={},valueStore[me.valueParam||me.valueField]=unknownValues.join(me.delimiter),store.load({params:valueStore,callback:function(){me.setValue(value,add,!0);me.autoSize();me.lastQuery=!1}}),!1}if(!isNull&&!me.multiSelect&&0<value.length){for(autoLoadOnValue=value.length-1;0<=autoLoadOnValue;autoLoadOnValue--)if(value[autoLoadOnValue].isModel){value=
value[autoLoadOnValue];break}Ext.isArray(value)&&(value=value[value.length-1])}return Ext.form.field.ComboBox.prototype.setValue.call(this,value,add)},updateValue:function(){var valueArray=this.valueCollection.getRange(),len=valueArray.length,i;for(i=0;i<len;i++)valueArray[i]=valueArray[i].get(this.valueField);this.setHiddenValue(valueArray);this.value=this.multiSelect?valueArray:valueArray[0];Ext.isDefined(this.value)||(this.value=void 0);this.applyMultiselectItemMarkup();this.applyAriaListMarkup();
this.applyAriaSelectedText();this.checkChange()},getValueRecords:function(){return this.valueCollection.getRange()},getSubmitData:function(){var val=Ext.form.field.ComboBox.prototype.getSubmitData.apply(this,arguments);this.multiSelect&&this.encodeSubmitValue&&val&&val[this.name]&&(val[this.name]=Ext.encode(val[this.name]));return val},assertValue:function(){var rawValue=this.inputEl.dom.value,rec=Ext.isEmpty(rawValue)?!1:this.findRecordByDisplay(rawValue),value=!1;rec||this.forceSelection||!this.createNewOnBlur||
Ext.isEmpty(rawValue)?rec&&(value=rec):value=rawValue;value&&this.addValue(value);this.inputEl.dom.value='';this.syncInputWidth();this.collapse();this.refreshEmptyText()},isEqual:function(v1,v2){var fromArray=Ext.Array.from,valueField=this.valueField;v1=fromArray(v1);v2=fromArray(v2);var len=v1.length;if(len!==v2.length)return!1;for(fromArray=0;fromArray<len;fromArray++){var t1=v1[fromArray].isModel?v1[fromArray].get(valueField):v1[fromArray];var t2=v2[fromArray].isModel?v2[fromArray].get(valueField):
v2[fromArray];if(t1!==t2)return!1}return!0},onFocus:function(){var focusCls=this.focusCls,itemList=this.itemList;focusCls&&itemList&&itemList.addCls(focusCls);Ext.form.field.ComboBox.prototype.onFocus.apply(this,arguments)},onBlur:function(){var focusCls=this.focusCls,itemList=this.itemList;focusCls&&itemList&&itemList.removeCls(focusCls);Ext.form.field.ComboBox.prototype.onBlur.apply(this,arguments)},renderActiveError:function(){var invalidCls=this.invalidCls,itemList=this.itemList,hasError=this.hasActiveError();
if(invalidCls&&itemList)itemList[hasError?'addCls':'removeCls'](this.invalidCls+'-field');Ext.form.field.ComboBox.prototype.renderActiveError.apply(this,arguments)},autoSize:function(){this.grow&&this.rendered&&(this.autoSizing=!0,this.updateLayout());return this},afterComponentLayout:function(){if(this.autoSizing){var height=this.getHeight();height!==this.lastInputHeight&&(this.isExpanded&&this.alignPicker(),this.fireEvent('autosize',this,height),this.lastInputHeight=height,this.autoSizing=!1)}},
onFieldMutation:function(e){Ext.form.field.ComboBox.prototype.onFieldMutation.call(this,e);this.syncInputWidth(!0)},syncInputWidth:function(scrollIntoView){var inputEl=this.inputEl,editable=!(!inputEl||!inputEl.dom.value)||this.editable&&this.hasFocus;this.grow||(this.toggleCls(this.notEditableCls,!editable),editable&&(editable=Ext.util.TextMetrics.measure(inputEl,inputEl.dom.value).width,inputEl.setWidth(editable+3),scrollIntoView&&(this.listWrapper.dom.scrollTop=99999)))}},0,['tagfield'],'component box field textfield pickerfield combobox combo tagfield'.split(' '),
{component:!0,box:!0,field:!0,textfield:!0,pickerfield:!0,combobox:!0,combo:!0,tagfield:!0},['widget.tagfield'],0,[Ext.form.field,'Tag'],0);
Ext.cmd.derive('Ext.grid.CellContext',Ext.Base,{isCellContext:!0,generation:0,constructor:function(view){this.view=view},setPosition:function(row,col){if(1===arguments.length)if(row.length)col=row[0],row=row[1];else{if(row.isCellContext)return this.setAll(row.view,row.rowIdx,row.colIdx,row.record,row.column);row.view&&(this.view=row.view);col=row.column;row=row.row}this.setRow(row);this.setColumn(col);return this},setAll:function(view,recordIndex,columnIndex,record,columnHeader){this.view=view;this.rowIdx=
recordIndex;this.colIdx=columnIndex;this.record=record;this.column=columnHeader;this.generation++;return this},setRow:function(row){var dataSource=this.view.dataSource,oldRecord=this.record;if(void 0!=row)if('number'===typeof row){var count=dataSource.getCount();this.rowIdx=row=0>row?Math.max(count+row,0):Math.max(Math.min(row,count-1),0);this.record=dataSource.getAt(row)}else if(row.isModel)this.record=row,this.rowIdx=dataSource.indexOf(row),-1===this.rowIdx&&dataSource.isMultigroupStore&&dataSource.isInCollapsedGroup(row)&&
(dataSource.expandToRecord(row),this.rowIdx=dataSource.indexOf(row));else if(row.tagName||row.isElement)this.rowIdx=(this.record=this.view.getRecord(row))?this.record.isCollapsedPlaceholder?dataSource.indexOfPlaceholder(this.record):dataSource.indexOf(this.record):-1;this.record!==oldRecord&&this.generation++;return this},setColumn:function(col){var colMgr=this.view.getVisibleColumnManager(),oldColumn=this.column;void 0!=col&&('number'===typeof col?(this.colIdx=col,this.column=colMgr.getHeaderAtIndex(col)):
col.isHeader&&(this.column=col,this.colIdx=colMgr.indexOf(col)));this.column!==oldColumn&&this.generation++;return this},setView:function(view){this.view=view;this.refresh()},getCell:function(returnDom){return this.view.getCellByPosition(this,returnDom)},getRow:function(returnDom){var result=this.view.getRow(this.record);return returnDom?result:Ext.get(result)},getNode:function(returnDom){var result=this.view.getNode(this.record);return returnDom?result:Ext.get(result)},isEqual:function(other){return other&&
other.isCellContext&&other.record===this.record&&other.column===this.column},clone:function(){var result=new this.self(this.view);result.rowIdx=this.rowIdx;result.colIdx=this.colIdx;result.record=this.record;result.column=this.column;return result},privates:{isFirstColumn:function(){var cell=this.getCell(!0);if(cell)return!cell.previousSibling},isLastColumn:function(){var cell=this.getCell(!0);if(cell)return!cell.nextSibling},isLastRenderedRow:function(){return this.view.all.endIndex===this.rowIdx},
getLastColumnIndex:function(){var row=this.getRow(!0);return row?row.lastChild.cellIndex:-1},refresh:function(){var newRowIdx=this.view.dataSource.indexOf(this.record),newColIdx=this.view.getVisibleColumnManager().indexOf(this.column);this.setRow(-1===newRowIdx?this.rowIdx:this.record);this.setColumn(-1===newColIdx?this.colIdx:this.column)},navigate:function(direction){var columns=this.view.getVisibleColumnManager().getColumns();switch(direction){case -1:do this.colIdx?this.colIdx--:this.colIdx=columns.length-
1,this.setColumn(this.colIdx);while(!this.getCell(!0));break;case 1:do this.colIdx>=columns.length?this.colIdx=0:this.colIdx++,this.setColumn(this.colIdx);while(!this.getCell(!0))}}},statics:{compare:function(c1,c2){return c1.rowIdx-c2.rowIdx||c1.colIdx-c2.colIdx}}},1,0,0,0,0,0,[Ext.grid,'CellContext'],0);
Ext.cmd.derive('Ext.grid.ColumnComponentLayout',Ext.layout.component.Auto,{type:'columncomponent',setWidthInDom:!0,_paddingReset:{paddingTop:'',paddingBottom:''},columnAutoCls:'x-column-header-text-container-auto',beginLayout:function(ownerContext){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);ownerContext.titleContext=ownerContext.getEl('titleEl')},beginLayoutCycle:function(ownerContext){var owner=this.owner,shrinkWrap=ownerContext.widthModel.shrinkWrap;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,
arguments);shrinkWrap&&owner.el.setWidth('');owner.textContainerEl[shrinkWrap&&!owner.isGroupHeader?'addCls':'removeCls'](this.columnAutoCls);owner.titleEl.setStyle(this._paddingReset)},publishInnerHeight:function(ownerContext,outerHeight){var owner=this.owner;owner.getRootHeaderCt().hiddenHeaders?ownerContext.setProp('innerHeight',0):ownerContext.hasRawContent||(owner.headerWrap&&!ownerContext.hasDomProp('width')?this.done=!1:(outerHeight-=ownerContext.getBorderInfo().height,ownerContext.setProp('innerHeight',
outerHeight-owner.titleEl.getHeight(),!1)))},measureContentHeight:function(ownerContext){return ownerContext.el.dom.offsetHeight},publishInnerWidth:function(ownerContext,outerWidth){ownerContext.hasRawContent||ownerContext.setProp('innerWidth',outerWidth-ownerContext.getBorderInfo().width,!1)},calculateOwnerHeightFromContentHeight:function(ownerContext,contentHeight){var result=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments),owner=this.owner;return ownerContext.hasRawContent?
result:!owner.headerWrap||ownerContext.hasDomProp('width')?contentHeight+owner.titleEl.getHeight()+ownerContext.getBorderInfo().height:null},calculateOwnerWidthFromContentWidth:function(ownerContext,contentWidth){var owner=this.owner,padWidth=ownerContext.getPaddingInfo().width,triggerOffset=this.getTriggerOffset(owner,ownerContext);return(owner.isGroupHeader?contentWidth:Math.max(contentWidth,owner.textEl.getWidth()+ownerContext.titleContext.getPaddingInfo().width))+padWidth+triggerOffset},getTriggerOffset:function(owner,
ownerContext){var width=0;ownerContext.widthModel.shrinkWrap&&!owner.menuDisabled&&0===owner.query('\x3e:not([hidden])').length&&(width=owner.getTriggerElWidth());return width}},0,0,0,0,['layout.columncomponent'],0,[Ext.grid,'ColumnComponentLayout'],0);
Ext.cmd.derive('Ext.layout.container.Fit',Ext.layout.container.Container,{alternateClassName:['Ext.layout.FitLayout','Ext.layout.Fit'],itemCls:'x-fit-item',type:'fit',manageMargins:!0,sizePolicies:[{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}],getItemSizePolicy:function(item,ownerSizeModel){item=ownerSizeModel||this.owner.getSizeModel();
return this.sizePolicies[(item.width.shrinkWrap?0:1)|(item.height.shrinkWrap?0:2)]},beginLayoutCycle:function(ownerContext,firstCycle){var resetHeight=this.lastHeightModel&&this.lastHeightModel.calculated,resetWidth=this.lastWidthModel&&this.lastWidthModel.calculated,resetSizes=resetWidth||resetHeight,maxChildMinHeight=0,maxChildMinWidth=0,i,minWidth;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);resetSizes&&'TD'!==ownerContext.targetContext.el.dom.tagName.toUpperCase()&&
(resetSizes=resetWidth=resetHeight=!1);var childItems=ownerContext.childItems;var length=childItems.length;for(i=0;i<length;++i){var item=childItems[i];if(firstCycle){var c=item.target;var minHeight=c.minHeight;if((minWidth=c.minWidth)||minHeight)c=item.marginInfo||item.getMarginInfo(),minHeight+=c.height,minWidth+=c.height,maxChildMinHeight<minHeight&&(maxChildMinHeight=minHeight),maxChildMinWidth<minWidth&&(maxChildMinWidth=minWidth)}resetSizes&&(item=item.el.dom.style,resetHeight&&(item.height=
''),resetWidth&&(item.width=''))}firstCycle&&(ownerContext.maxChildMinHeight=maxChildMinHeight,ownerContext.maxChildMinWidth=maxChildMinWidth);c=ownerContext.target;ownerContext.overflowX=!ownerContext.widthModel.shrinkWrap&&ownerContext.maxChildMinWidth&&c.scrollFlags.x||void 0;ownerContext.overflowY=!ownerContext.heightModel.shrinkWrap&&ownerContext.maxChildMinHeight&&c.scrollFlags.y||void 0},calculate:function(ownerContext){var childItems=ownerContext.childItems,length=childItems.length,containerSize=
this.getContainerSize(ownerContext),info={length,ownerContext,targetSize:containerSize},shrinkWrapWidth=ownerContext.widthModel.shrinkWrap,shrinkWrapHeight=ownerContext.heightModel.shrinkWrap,overflowX=ownerContext.overflowX,overflowY=ownerContext.overflowY,scrollbars,i;ownerContext.state.info=info;if(overflowX||overflowY)if(scrollbars=this.getScrollbarsNeeded(overflowX&&containerSize.width,overflowY&&containerSize.height,ownerContext.maxChildMinWidth,ownerContext.maxChildMinHeight)){var scrollbarSize=
Ext.scrollbar.size();scrollbars&1&&(containerSize.height-=scrollbarSize.height);scrollbars&2&&(containerSize.width-=scrollbarSize.width)}if(0<length)for(i=0;i<length;++i)info.index=i,this.fitItem(childItems[i],info);else info.contentWidth=info.contentHeight=0;if(shrinkWrapHeight||shrinkWrapWidth)childItems=ownerContext.targetContext.getPaddingInfo(),shrinkWrapWidth&&(overflowY&&!containerSize.gotHeight?this.done=!1:(shrinkWrapWidth=info.contentWidth+childItems.width,scrollbars&2&&(shrinkWrapWidth+=
scrollbarSize.width),ownerContext.setContentWidth(shrinkWrapWidth)||(this.done=!1))),shrinkWrapHeight&&(overflowX&&!containerSize.gotWidth?this.done=!1:(containerSize=info.contentHeight+childItems.height,scrollbars&1&&(containerSize+=scrollbarSize.height),ownerContext.setContentHeight(containerSize)||(this.done=!1)))},fitItem:function(itemContext,info){itemContext.invalid?this.done=!1:(info.margins=itemContext.getMarginInfo(),info.needed=info.got=0,this.fitItemWidth(itemContext,info),this.fitItemHeight(itemContext,
info),info.got!==info.needed&&(this.done=!1))},fitItemWidth:function(itemContext,info){if(info.ownerContext.widthModel.shrinkWrap){var width=itemContext.getProp('width')+info.margins.width;var contentWidth=info.contentWidth;info.contentWidth=void 0===contentWidth?width:Math.max(contentWidth,width)}else if(itemContext.widthModel.calculated)if(++info.needed,info.targetSize.gotWidth)++info.got,this.setItemWidth(itemContext,info);else return;this.positionItemX(itemContext,info)},fitItemHeight:function(itemContext,
info){if(info.ownerContext.heightModel.shrinkWrap){var height=itemContext.getProp('height')+info.margins.height;var contentHeight=info.contentHeight;info.contentHeight=void 0===contentHeight?height:Math.max(contentHeight,height)}else if(itemContext.heightModel.calculated)if(++info.needed,info.targetSize.gotHeight)++info.got,this.setItemHeight(itemContext,info);else return;this.positionItemY(itemContext,info)},positionItemX:function(itemContext,info){var margins=info.margins;(info.index||margins.left)&&
itemContext.setProp('x',margins.left);margins.width&&info.ownerContext.widthModel.shrinkWrap&&itemContext.setProp('margin-right',margins.width)},positionItemY:function(itemContext,info){var margins=info.margins;(info.index||margins.top)&&itemContext.setProp('y',margins.top);margins.height&&info.ownerContext.heightModel.shrinkWrap&&itemContext.setProp('margin-bottom',margins.height)},setItemHeight:function(itemContext,info){itemContext.setHeight(info.targetSize.height-info.margins.height)},setItemWidth:function(itemContext,
info){itemContext.setWidth(info.targetSize.width-info.margins.width)}},0,0,0,0,['layout.fit'],0,[Ext.layout.container,'Fit',Ext.layout,'FitLayout',Ext.layout,'Fit'],0);
Ext.cmd.derive('Ext.panel.Table',Ext.panel.Panel,{extraBaseCls:'x-grid',extraBodyCls:'x-grid-body',actionableModeCls:'x-grid-actionable',noHeaderBordersCls:'x-no-header-borders',defaultBindProperty:'store',layout:'fit',manageLayoutScroll:!1,ariaRole:'presentation',config:{focused:null,headerBorders:!0,hideHeaders:null},publishes:['selection'],twoWayBindable:['selection'],selection:null,autoLoad:!1,variableRowHeight:!1,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,hasView:!1,viewType:null,
deferRowRender:!1,sortableColumns:!0,multiColumnSort:!1,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,columnLines:!1,rowLines:!0,bufferedRenderer:!0,preciseHeight:!1,ownerGrid:null,colLinesCls:'x-grid-with-col-lines',rowLinesCls:'x-grid-with-row-lines',noRowLinesCls:'x-grid-no-row-lines',hiddenHeaderCtCls:'x-grid-header-ct-hidden',hiddenHeaderCls:'x-grid-header-hidden',resizeMarkerCls:'x-grid-resize-marker',emptyCls:'x-grid-empty',focusable:!0,constructor:function(config){var topGrid=
config&&config.ownerGrid;this.ownerGrid=topGrid||this;this.actionables=topGrid?topGrid.actionables:[];Ext.panel.Panel.prototype.constructor.call(this,config);config=this.store;config.trackStateChanges=!0;this.autoLoad&&(config.isEmptyStore||config.load())},registerActionable:function(actionable){Ext.Array.include(this.actionables,actionable)},initComponent:function(){var columns=this.columns||this.colModel||[],selection=this.selection,view,len,headerCtCfg;selection&&(this.selection=null,this.setSelection(selection));
(selection=this.store)&&Ext.isObject(selection)&&!selection.isStore&&!selection.storeId&&(selection=Ext.apply({autoDestroy:!0},selection));selection=this.store=Ext.data.StoreManager.lookup(selection||'ext-empty-store');this.enableLocking=this.enableLocking||this.hasLockedColumns(columns);this.plugins&&(this.plugins=this.constructPlugins());this.columnLines&&this.addBodyCls(this.colLinesCls);this.addBodyCls(this.rowLines?this.rowLinesCls:this.noRowLinesCls);this.addBodyCls(this.extraBodyCls);this.enableLocking?
(this.mixins.lockable||this.self.mixin('lockable',Ext.grid.locking.Lockable),this.injectLockable()):(columns.isRootHeader?(this.headerCt=headerCtCfg=columns,headerCtCfg.grid=this,headerCtCfg.forceFit=!!this.forceFit,columns=[],this.columnManager=headerCtCfg.columnManager,this.visibleColumnManager=headerCtCfg.visibleColumnManager):(headerCtCfg={grid:this,$initParent:this,forceFit:this.forceFit,sortable:this.sortableColumns,enableColumnMove:this.enableColumnMove,enableColumnResize:this.enableColumnResize,
columnLines:this.columnLines,sealed:this.sealedColumns},Ext.isObject(columns)&&(Ext.apply(headerCtCfg,columns),columns=columns.items,delete headerCtCfg.items),this.headerCt=headerCtCfg=new Ext.grid.header.Container(headerCtCfg)),Ext.isDefined(this.enableColumnHide)&&(headerCtCfg.enableColumnHide=this.enableColumnHide));this.scrollTask=new Ext.util.DelayedTask(this.syncHorizontalScroll,this);this.cls=(this.cls||'')+(' '+this.extraBaseCls);delete this.autoScroll;if(view=this.plugins&&Ext.Array.findBy(this.plugins,
function(p){return p.isBufferedRenderer}))this.bufferedRenderer=view;if(!this.hasView){if(selection.isBufferedStore&&!selection.getRemoteSort())for(view=0,len=columns.length;view<len;view++)columns[view].sortable=!1;this.relayHeaderCtEvents(headerCtCfg);this.features=this.features||[];Ext.isArray(this.features)||(this.features=[this.features]);this.viewConfig=this.viewConfig||{};view=this.getView();this.items=[view];this.hasView=!0;this.bindStore(selection,!0);this.mon(view,{viewready:this.onViewReady,
refresh:this.onRestoreHorzScroll,scope:this})}this.selModel=this.view.getSelectionModel();this.selModel.on({scope:this,lastselectedchanged:this.updateBindSelection,selectionchange:this.updateBindSelection});this.relayEvents(this.view,'beforeitemlongpress beforeitemmousedown beforeitemmouseup beforeitemmouseenter beforeitemmouseleave beforeitemclick beforeitemdblclick beforeitemcontextmenu itemlongpress itemmousedown itemmouseup itemmouseenter itemmouseleave itemclick itemdblclick itemcontextmenu beforecellclick cellclick beforecelldblclick celldblclick beforecellcontextmenu cellcontextmenu beforecellmousedown cellmousedown beforecellmouseup cellmouseup beforecellkeydown cellkeydown rowclick rowdblclick rowcontextmenu rowmousedown rowmouseup rowkeydown beforeitemkeydown itemkeydown beforeitemkeyup itemkeyup beforeitemkeypress itemkeypress beforecontainermousedown beforecontainermouseup beforecontainermouseover beforecontainermouseout beforecontainerclick beforecontainerdblclick beforecontainercontextmenu beforecontainerkeydown beforecontainerkeyup beforecontainerkeypress containermouseup containermousedown containermouseover containermouseout containerclick containerdblclick containercontextmenu containerkeydown containerkeyup containerkeypress beforeselect select beforedeselect deselect beforerowexit'.split(' '));
this.selModel.isSpreadsheetModel||this.relayEvents(this.view,['selectionchange']);headerCtCfg&&(headerCtCfg.view=this.view,(this.dockedItems=Ext.Array.from(this.dockedItems,!0)).unshift(headerCtCfg),headerCtCfg.add(columns));this.columns=this.headerCt.getGridColumns();Ext.panel.Panel.prototype.initComponent.call(this);this.syncHeaderVisibility();this.enableLocking&&this.afterInjectLockable();this.addStateEvents('columnresize columnmove columnhide columnshow sortchange filteractivate filterdeactivate filterchange groupchange'.split(' '))},
updateHideHeaders:function(hideHeaders){this.isConfiguring||this.syncHeaderVisibility()},beforeRender:function(){var bufferedRenderer=this.bufferedRenderer;this.lockable?this.getProtoBody().addCls(this.lockingBodyCls):(bufferedRenderer&&this.getSizeModel().height.auto&&(this.bufferedRenderer=bufferedRenderer=!1),bufferedRenderer&&!bufferedRenderer.isBufferedRenderer&&(bufferedRenderer={xclass:'Ext.grid.plugin.BufferedRenderer'},Ext.copy(bufferedRenderer,this,'variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer',
!0),this.bufferedRenderer=this.addPlugin(bufferedRenderer)),bufferedRenderer=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),bufferedRenderer['aria-readonly']=!this.isEditable,bufferedRenderer['aria-multiselectable']='SINGLE'!==this.selModel.selectionMode);Ext.panel.Panel.prototype.beforeRender.apply(this,arguments)},beforeLayout:function(){var lockable=this.mixins.lockable;lockable&&lockable.beforeLayout.call(this);Ext.panel.Panel.prototype.beforeLayout.call(this)},onHide:function(animateTarget,
cb,scope){this.getView().onOwnerGridHide();Ext.panel.Panel.prototype.onHide.call(this,animateTarget,cb,scope)},onShow:function(){Ext.panel.Panel.prototype.onShow.call(this);this.getView().onOwnerGridShow()},getHeaderContainer:function(){return this.getView().getHeaderCt()},getColumns:function(){return this.getColumnManager().getColumns()},getVisibleColumns:function(){return this.getVisibleColumnManager().getColumns()},getScrollable:function(){return this.scrollable||this.view.getScrollable()},focus:function(){var view=
this.getView();if(!view.isVisible(!0))return!1;view.focus()},disableColumnHeaders:function(){this.headerCt.disable()},enableColumnHeaders:function(){this.headerCt.enable()},hasLockedColumns:function(columns){var len;columns.isRootHeader?columns=columns.items.items:Ext.isObject(columns)&&(columns=columns.items);var i=0;for(len=columns.length;i<len;i++){var column=columns[i];if(!column.processed&&column.locked)return!0}},relayHeaderCtEvents:function(headerCt){this.relayEvents(headerCt,'columnresize columnmove columnhide columnshow columnschanged sortchange headerclick headercontextmenu headertriggerclick'.split(' '))},
getState:function(){var state=Ext.panel.Panel.prototype.getState.call(this),storeState=this.store.getState();state=this.addPropertyToState(state,'columns',this.headerCt.getColumnsState());storeState&&(state.storeState=storeState);return state},applyState:function(state){var sorter=state.sort,storeState=state.storeState,store=this.store,columns=state.columns=this.buildColumnHash(state.columns);Ext.panel.Panel.prototype.applyState.call(this,state);columns&&this.headerCt.applyColumnsState(columns,storeState);
store.isEmptyStore||(sorter?store.getRemoteSort()?store.sort({property:sorter.property,direction:sorter.direction,root:sorter.root},null,!1):store.sort(sorter.property,sorter.direction):storeState&&store.applyState(storeState))},buildColumnHash:function(columns){var len;if(columns){var result={};var i=0;for(len=columns.length;i<len;i++){var columnState=columns[i];columnState.index=i;columnState.columns&&(columnState.columns=this.buildColumnHash(columnState.columns));result[columnState.id]=columnState}return result}},
getStore:function(){return this.store},onViewRefresh:function(view,records){this.onItemsAdded(view,records,0)},onItemAdd:function(records,index,nodes,view){this.onItemsAdded(view,records,index)},onItemsAdded:function(view,records,index){var recCount=records.length,freeRowContexts=this.freeRowContexts,liveRowContexts=this.liveRowContexts||(this.liveRowContexts={}),i,rowContext,record;for(i=0;i<recCount;i++){var internalId=(record=records[i]).internalId;(rowContext=liveRowContexts[internalId])?rowContext.attach(view):
((rowContext=freeRowContexts&&freeRowContexts.shift())||(rowContext=new Ext.grid.RowContext({ownerGrid:this})),rowContext.attach(view)&&(this.liveRowContexts[internalId]=rowContext,rowContext.setRecord(record,index+i)))}},onItemRemove:function(records,index,nodes,view){records=this.freeRowContexts||(this.freeRowContexts=[]);index=this.liveRowContexts;var len=nodes.length,i,context;for(i=0;i<len;i++){var id=nodes[i].getAttribute('data-recordId');(context=index[id])&&context.detach(view)&&(records.push(context),
delete index[id])}},createManagedWidget:function(view,ownerId,widgetConfig,record){return this.liveRowContexts[record.internalId].getWidget(view,ownerId,widgetConfig)},destroyManagedWidgets:function(ownerId){var contexts=this.liveRowContexts,freeRowContexts=this.freeRowContexts,len=freeRowContexts&&freeRowContexts.length,recInternalId,rowWidgets;for(recInternalId in contexts)if(rowWidgets=contexts[recInternalId].widgets)Ext.destroy(rowWidgets[ownerId]),delete rowWidgets[ownerId];for(contexts=0;contexts<
len;contexts++)if(rowWidgets=freeRowContexts[contexts].widgets)Ext.destroy(rowWidgets[ownerId]),delete rowWidgets[ownerId]},getManagedWidgets:function(ownerId){var contexts=this.liveRowContexts,recInternalId,result=[];for(recInternalId in contexts)result.push(contexts[recInternalId].widgets[ownerId]);return result},getView:function(){if(!this.view){var viewConfig=this.viewConfig;var scroll=viewConfig.scroll||this.scroll;var scrollable=this.scrollable;null==scrollable&&null==viewConfig.scrollable&&
null!==scroll&&(!0===scroll||'both'===scroll?scrollable=!0:!1===scroll||'none'===scroll?scrollable=!1:'vertical'===scroll?scrollable={x:!1,y:!0}:'horizontal'===scroll&&(scrollable={x:!0,y:!1}));viewConfig=Ext.apply({grid:this,ownerGrid:this.ownerGrid,deferInitialRefresh:this.deferRowRender,variableRowHeight:this.variableRowHeight,preserveScrollOnRefresh:!0,trackOver:!1!==this.trackMouseOver,throttledUpdate:!0===this.throttledUpdate,xtype:this.viewType,store:this.store,headerCt:this.headerCt,columnLines:this.columnLines,
rowLines:this.rowLines,navigationModel:'grid',features:this.features,panel:this,emptyText:this.emptyText||''},this.viewConfig);'scrollable'in viewConfig||'scroll'in viewConfig||'autoScroll'in viewConfig||null==scrollable||(viewConfig.scrollable=scrollable);viewConfig.$initParent=this;Ext.create(viewConfig);delete viewConfig.$initParent;this.view.emptyText&&(this.view.emptyText='\x3cdiv class\x3d"'+this.emptyCls+'"\x3e'+this.view.emptyText+'\x3c/div\x3e');this.view.getComponentLayout().headerCt=this.headerCt;
this.mon(this.view,{uievent:this.processEvent,scope:this});this.hasListeners.viewcreated&&this.fireEvent('viewcreated',this,this.view)}return this.view},getEmptyText:function(){return this.view.emptyText},setEmptyText:function(emptyText){this.emptyText=emptyText;this.view.setEmptyText('\x3cdiv class\x3d"'+this.emptyCls+'"\x3e'+emptyText+'\x3c/div\x3e');return this},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){return this.ownerGrid.getColumnManager()},
getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,applyScrollable:function(scrollable){var view=this.view;(view=view&&(view.normalView||view))&&view.setScrollable(scrollable);return scrollable},processEvent:function(type,view,cell,recordIndex,cellIndex,e,record,row){var header=e.position.column;if(header)return header.processEvent.apply(header,arguments)},ensureVisible:function(record,options){this.doEnsureVisible(record,options)},
scrollByDeltaY:function(yDelta,animate){this.getView().scrollBy(null,yDelta,animate)},scrollByDeltaX:function(xDelta,animate){this.getView().scrollBy(xDelta,null,animate)},afterCollapse:function(){this.saveScrollPos();Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){Ext.panel.Panel.prototype.afterExpand.apply(this,arguments);this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:Ext.emptyFn,onHeaderMove:function(headerCt,
header,colsToMove,fromIdx,toIdx){!1===this.optimizedColumnMove?this.view.refreshView():this.view.moveColumn(fromIdx,toIdx,colsToMove);this.delayScroll()},onHeaderHide:function(headerCt,header){header=this.view;!headerCt.childHideCount&&header.refreshCounter&&header.refreshView()},onHeaderShow:function(headerCt,header){headerCt=this.view;headerCt.refreshCounter&&headerCt.refreshView()},onHeadersChanged:function(headerCt,header){this.rendered&&!this.reconfiguring&&(this.view.refreshView(),this.delayScroll())},
delayScroll:function(){var target=this.view;target&&this.scrollTask.delay(10,null,null,[target])},onViewReady:function(){this.fireEvent('viewready',this)},onRestoreHorzScroll:function(){this.scrollXPos&&this.syncHorizontalScroll(this,!0)},getScrollerOwner:function(){var rootCmp=this;this.scrollerOwner||(rootCmp=this.up('[scrollerOwner]'));return rootCmp},getLhsMarker:function(){return this.lhsMarker||(this.lhsMarker=Ext.DomHelper.append(this.el,{role:'presentation',cls:this.resizeMarkerCls},!0))},
getRhsMarker:function(){return this.rhsMarker||(this.rhsMarker=Ext.DomHelper.append(this.el,{role:'presentation',cls:this.resizeMarkerCls},!0))},getSelection:function(){return this.getSelectionModel().getSelection()},setSelection:function(selection){var current=this.selection;selection!==current&&(this.selection=selection,this.updateSelection(selection,current))},updateSelection:function(selection){if(!this.ignoreNextSelection){this.ignoreNextSelection=!0;var sm=this.getSelectionModel();selection?
sm.select(selection):sm.deselectAll();this.ignoreNextSelection=!1}this.publishState('selection',selection)},updateBindSelection:function(selModel,selection){selection=0<selection.length;var selected=null;this.hasHadSelection=this.hasHadSelection||selection;this.ignoreNextSelection||(this.ignoreNextSelection=!0,selection&&(selected=selModel.getLastSelected()),this.hasHadSelection&&this.setSelection(selected),this.ignoreNextSelection=!1)},updateFocused:function(record){this.getNavigationModel().setPosition(record)},
updateHeaderBorders:function(headerBorders){this[headerBorders?'removeCls':'addCls'](this.noHeaderBordersCls)},getNavigationModel:function(){return this.getView().getNavigationModel()},getSelectionModel:function(){return this.getView().getSelectionModel()},getScrollTarget:function(){var items=this.getScrollerOwner().query('tableview');return items[items.length-1]},syncHorizontalScroll:function(target,setBody){target=this.view.getScrollX();setBody=!0===setBody;this.rendered&&(setBody||target!==this.scrollXPos)&&
(setBody&&(setBody=this.getScrollTarget(),setBody.setScrollX(target)),this.headerCt.setScrollX(target),this.scrollXPos=target)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(store,initial){initial=this.getView();var oldStore=this.getStore();store?(this.store=store,initial.store!==store&&initial.bindStore(store,!1),this.mon(store,{load:this.onStoreLoad,scope:this}),this.storeRelayers=this.relayEvents(store,['filterchange','groupchange']),!this.reconfiguring&&
this.hasListeners.storechange&&store!==oldStore&&this.fireEvent('storechange',this,store,oldStore)):this.unbindStore()},unbindStore:function(){var store=this.store;if(store){store.trackStateChanges=!1;this.store=null;this.mun(store,{load:this.onStoreLoad,scope:this});Ext.destroy(this.storeRelayers);var view=this.view;view.store?view.bindStore(null):!store.destroyed&&store.autoDestroy&&store.destroy();!this.reconfiguring&&this.hasListeners.storechange&&this.fireEvent('storechange',this,null,store)}},
setColumns:function(columns){(columns.length||this.getColumnManager().getColumns().length)&&this.reconfigure(void 0,columns)},setStore:function(store){this.reconfigure(store,void 0,!0);this.isVisible(!0)?!store||!this.autoLoad||store.isEmptyStore||store.loading||store.isLoaded()||store.load():this.globalShowListener||(this.globalShowListener=Ext.GlobalEvents.on({show:this.onGlobalShow,scope:this,destroyable:!0}))},onGlobalShow:function(comp){var store=this.store;if(comp===this||comp.isAncestor(this)&&
this.isVisible(!0))!store||!this.autoLoad||store.isEmptyStore||store.loading||store.isLoaded()||store.load(),Ext.destroy(this.globalShowListener)},reconfigure:function(store,columns,allowUnbind,applyState){var oldStore=this.store,headerCt=this.headerCt,lockable=this.lockable,oldColumns=headerCt?headerCt.items.getRange():this.columns,view=this.getView(),scroller;1===arguments.length&&Ext.isArray(store)&&(columns=store,store=null);columns&&(columns=Ext.Array.slice(columns));this.reconfiguring=!0;if(store)var storeChanged=
(store=Ext.StoreManager.lookup(store))&&store!==oldStore;else allowUnbind&&(store=Ext.StoreManager.lookup('ext-empty-store'),storeChanged=store!==oldStore);this.fireEvent('beforereconfigure',this,store,columns,oldStore,oldColumns);Ext.suspendLayouts();this.rendered&&this.layoutCounter&&(scroller=this.getScrollable())&&scroller.scrollTo(0,0);if(lockable)this.reconfigureLockable(store,columns,allowUnbind);else{var block=view.blockRefresh;view.blockRefresh=!0;var restoreFocus=view.saveFocusState();storeChanged&&
(this.unbindStore(),this.bindStore(store));if(columns){delete this.scrollXPos;headerCt.removeAll();headerCt.add(columns);var columnsChanged=!0}headerCt.onOwnerGridReconfigure(storeChanged,columnsChanged);var refreshCounter=view.refreshCounter}this.stateful&&!1!==applyState&&(headerCt=(headerCt=this.getStateId())&&Ext.state.Manager.get(headerCt))&&this.applyState(headerCt);Ext.resumeLayouts(!0);this.reconfiguring=!1;lockable?this.afterReconfigureLockable():(view.blockRefresh=block,view.refreshCounter===
refreshCounter&&(view.refreshView(),restoreFocus()));this.fireEvent('reconfigure',this,store,columns,oldStore,oldColumns);delete this.reconfiguring;storeChanged&&(this.fireEvent('storechange',this,store,oldStore),!oldStore.destroyed&&oldStore.autoDestroy&&oldStore.destroy())},doDestroy:function(){var task=this.scrollTask,view=this.view;view&&(view.destroying=!0);this.lockable&&this.destroyLockable();task&&task.cancel();Ext.destroy(this.rowContextParent,this.plugins,this.focusEnterLeaveListeners,this.freeRowContents,
Ext.Object.getValues(this.liveRowContexts),this.lhsMarker,this.rhsMarker);Ext.panel.Panel.prototype.doDestroy.call(this);this.unbindStore()},getElementHeight:function(el){var rect=this.preciseHeight&&el.getBoundingClientRect();return rect?rect.height||rect.bottom-rect.top:el.offsetHeight},getElementSize:function(el){var rect=this.preciseHeight&&el.getBoundingClientRect();return{width:rect?rect.width||rect.right-rect.left:el.offsetWidth,height:rect?rect.height||rect.bottom-rect.top:el.offsetHeight}},
privates:{initFocusableElement:function(){},doEnsureVisible:function(record$jscomp$0,options){if(this.lockable)return this.ensureLockedVisible(record$jscomp$0,options);'number'===typeof record$jscomp$0||record$jscomp$0.isEntity||(record$jscomp$0=this.store.getById(record$jscomp$0));var me=this,view=me.getView(),domNode$jscomp$0=view.getNode(record$jscomp$0),isLocking=me.ownerGrid.lockable,cell,targetContext;if(options){var callback=options.callback;var scope=options.scope;var animate=options.animate;
var highlight=options.highlight;var select=options.select;var doFocus=options.focus;var column=options.column}me.deferredEnsureVisible&&me.deferredEnsureVisible.destroy();if(view.componentLayoutCounter)if('number'===typeof column&&(column=me.ownerGrid.getVisibleColumnManager().getColumns()[column]),domNode$jscomp$0){record$jscomp$0.isEntity||(record$jscomp$0=view.getRecord(domNode$jscomp$0));var verticalScroller=isLocking?me.ownerGrid.getScrollable():view.getScrollable();if(callback||select||doFocus)var internalCallback=
function(){view&&view.destroyed||(targetContext=(new Ext.grid.CellContext(view)).setPosition(record$jscomp$0,column||0),select&&view.getSelectionModel().selectByPosition(targetContext),doFocus&&view.getNavigationModel().setPosition(targetContext),Ext.callback(callback,scope||me,[!0,record$jscomp$0,domNode$jscomp$0]))};verticalScroller&&(column&&(cell=Ext.fly(domNode$jscomp$0).selectNode(column.getCellSelector())),isLocking&&column?(verticalScroller.ensureVisible(domNode$jscomp$0,{x:!1}),isLocking=
view.getScrollable().ensureVisible(cell||domNode$jscomp$0,{animation:animate,highlight})):isLocking=verticalScroller.ensureVisible(cell||domNode$jscomp$0,{animation:animate,highlight,x:!!column}),isLocking&&internalCallback&&isLocking.then(internalCallback))}else view.bufferedRenderer?view.bufferedRenderer.scrollTo(record$jscomp$0,{animate,highlight,select,focus:doFocus,column,callback:function(recordIdx,record,domNode){Ext.callback(callback,scope||me,[!0,record,domNode])}}):Ext.callback(callback,
scope||me,[!1,null]);else me.deferredEnsureVisible=view.on({resize:me.doEnsureVisible,args:Ext.Array.slice(arguments),scope:me,single:!0,destroyable:!0})},getFocusEl:function(){return this.getView().getFocusEl()},getRowContextViewModelParent:function(){var vm=this.lookupViewModel()||this.rowContextParent;vm||(this.rowContextParent=vm=new Ext.app.ViewModel);return vm},handleWidgetViewChange:function(view,ownerId){var contexts=this.liveRowContexts,freeRowContexts=this.freeRowContexts,len=freeRowContexts&&
freeRowContexts.length,recInternalId;for(recInternalId in contexts)contexts[recInternalId].handleWidgetViewChange(view,ownerId);for(contexts=0;contexts<len;contexts++)freeRowContexts[contexts].handleWidgetViewChange(view,ownerId)},initInheritedState:function(inheritedState,inheritedStateInner){inheritedState.inLockedGrid=!!this.isLocked;Ext.panel.Panel.prototype.initInheritedState.call(this,inheritedState,inheritedStateInner)},setActionableMode:function(enabled,position){var me=this.ownerGrid;if(!me.destroying&&
!1!==me.view.setActionableMode(enabled,position))return me.fireEvent('actionablemodechange',enabled),me[enabled?'addCls':'removeCls'](me.actionableModeCls),!0},getOverflowStyle:function(){this.scrollFlags=this._scrollFlags['false']['false'];return{overflowX:'hidden',overflowY:'hidden'}},getOverflowEl:function(){return null},shouldAutoHideHeaders:function(){var columns=this.headerCt.items.items,len=columns.length,autoHideHeaders=!!len,i;for(i=0;autoHideHeaders&&i<len;i++){var column=columns[i];if(!column.isEmptyText(column.text,
!0)||column.columns||column.isGroupHeader&&column.items.items.length)autoHideHeaders=!1}return autoHideHeaders},syncHeaderVisibility:function(){var headerCt=this.headerCt,hideHeaders=this.hideHeaders;if(this.lockable)this.syncLockableHeaderVisibility();else{null==hideHeaders&&(hideHeaders=this.shouldAutoHideHeaders());var currentHideHeaderState=0===headerCt.height;headerCt.rendered&&hideHeaders===currentHideHeaderState||(headerCt.setHeight(hideHeaders?0:null),headerCt.hiddenHeaders=hideHeaders,headerCt.toggleCls(this.hiddenHeaderCtCls,
hideHeaders),this.toggleCls(this.hiddenHeaderCls,hideHeaders),hideHeaders||(headerCt.setScrollable({x:!1,y:!1}),(hideHeaders=this.view.getScrollable())&&headerCt.getScrollable().addPartner(hideHeaders,'x')))}}}},1,['tablepanel'],['component','box','container','panel','tablepanel'],{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0},['widget.tablepanel'],0,[Ext.panel,'Table'],0);
Ext.define('Ext.theme.neptune.panel.Table',{override:'Ext.panel.Table',lockableBodyBorder:!0,initComponent:function(){(arguments.callee.$previous||Ext.panel.Panel.prototype.initComponent).call(this);this.hasOwnProperty('bodyBorder')||this.hideHeaders||!this.lockableBodyBorder&&this.lockable||(this.bodyBorder=!0)}});
Ext.cmd.derive('Ext.grid.ColumnLayout',Ext.layout.container.HBox,{type:'gridcolumn',firstHeaderCls:'x-column-header-first',lastHeaderCls:'x-column-header-last',initLayout:function(){Ext.layout.container.HBox.prototype.initLayout.call(this);void 0===this.scrollbarWidth&&(this.self.prototype.scrollbarWidth=Ext.scrollbar.width())},beginLayout:function(ownerContext){var owner=this.owner,firstCls=this.firstHeaderCls,lastCls=this.lastHeaderCls,bothCls=[firstCls,lastCls],items=this.getVisibleItems(),len=
items.length,i;Ext.layout.container.HBox.prototype.beginLayout.call(this,ownerContext);for(i=0;i<len;i++){var item=items[i];1===len?item.addCls(bothCls):0===i?(item.addCls(firstCls),item.removeCls(lastCls)):i===len-1?(item.removeCls(firstCls),item.addCls(lastCls)):item.removeCls(bothCls)}this.scrollbarWidth=0;owner.isRootHeader&&!owner.grid.isLocked&&this.determineScrollbarWidth(ownerContext);this.scrollbarWidth||(ownerContext.manageScrollbar=!1)},moveItemBefore:function(item,before){var prevOwner=
item.ownerCt,nextSibling=before&&before.nextSibling();item!==before&&prevOwner&&(prevOwner.remove(item,{destroy:!1,detach:!1}),before&&before.destroyed&&(before=nextSibling));return Ext.layout.container.HBox.prototype.moveItemBefore.call(this,item,before)},determineScrollbarWidth:function(ownerContext){var grid=this.owner.grid,reserveScrollbar=grid.reserveScrollbar,scrollable=grid.view.getScrollable();scrollable=!reserveScrollbar&&scrollable&&scrollable.getY();ownerContext.manageScrollbar=scrollable;
grid.ownerGrid.collapsed||!reserveScrollbar&&!scrollable||delete this.scrollbarWidth},calculate:function(ownerContext){var owner=this.owner,grid=owner.grid,viewContext=ownerContext.viewContext,state=ownerContext.state,context=ownerContext.context,len;Ext.layout.container.HBox.prototype.calculate.call(this,ownerContext);if(grid&&owner.isRootHeader&&state.parallelDone)if(owner=viewContext.lockingPartnerContext,grid.forceFit&&!state.reflexed&&this.convertWidthsToFlexes(ownerContext))this.cacheFlexes(ownerContext),
this.done=!1,ownerContext.invalidate({state:{reflexed:!0,scrollbarAdjustment:this.getScrollbarAdjustment(ownerContext)}});else{if(void 0===state.columnsChanged){var columns=ownerContext.target.getVisibleGridColumns();grid=!1;var i=0;for(len=columns.length;i<len;i++){var column=context.getCmp(columns[i]);column.lastBox&&column.props.width===column.lastBox.width||((grid||(grid=[]))[i]=column)}state.columnsChanged=grid;ownerContext.setProp('columnsChanged',grid)}ownerContext.manageScrollbar&&(state=
this.getScrollbarAdjustment(ownerContext))&&(state=viewContext.getProp('viewOverflowY'),void 0===state?this.done=!1:state||(owner&&(owner.invalidate(),owner.headerContext.invalidate()),viewContext.invalidate(),ownerContext.invalidate({state:{scrollbarAdjustment:0}})))}},finishedLayout:function(ownerContext){Ext.layout.container.HBox.prototype.finishedLayout.call(this,ownerContext);'rowgroup'===this.owner.ariaRole&&this.innerCt.dom.setAttribute('role','row');ownerContext.props.columnsChanged=null},
convertWidthsToFlexes:function(ownerContext){var totalWidth=0,calculated=this.sizeModels.calculated,i;var childItems=ownerContext.childItems;var len=childItems.length;for(i=0;i<len;i++){var childContext=childItems[i];var item=childContext.target;totalWidth+=childContext.props.width;item.fixed||!1===item.resizable||(item.flex=ownerContext.childItems[i].flex=childContext.props.width,item.width=null,childContext.widthModel=calculated)}return totalWidth!==ownerContext.props.width},getScrollbarAdjustment:function(ownerContext){var state=
ownerContext.state,grid=this.owner.grid,scrollbarAdjustment=state.scrollbarAdjustment;if(void 0===scrollbarAdjustment){scrollbarAdjustment=0;if(grid.reserveScrollbar||ownerContext.manageScrollbar&&!grid.ownerGrid.getSizeModel().height.shrinkWrap)scrollbarAdjustment=this.scrollbarWidth;state.scrollbarAdjustment=scrollbarAdjustment}return scrollbarAdjustment},getContainerSize:function(ownerContext){var needed,gotWidth,gotHeight;if(this.owner.isRootHeader){var got=Ext.layout.container.HBox.prototype.getContainerSize.call(this,
ownerContext);got.gotWidth&&(got.width-=this.getScrollbarAdjustment(ownerContext))}else{var padding=ownerContext.paddingContext.getPaddingInfo();got=needed=0;if(!ownerContext.widthModel.shrinkWrap){++needed;var width=ownerContext.getProp('innerWidth');if(gotWidth='number'===typeof width)++got,width-=padding.width,0>width&&(width=0)}if(!ownerContext.heightModel.shrinkWrap){++needed;var height=ownerContext.getProp('innerHeight');if(gotHeight='number'===typeof height)++got,height-=padding.height,0>height&&
(height=0)}return{width,height,needed,got,gotAll:got===needed,gotWidth,gotHeight}}return got},publishInnerCtSize:function(ownerContext){var owner=this.owner,adjustment=0;null!=ownerContext.peek('contentWidth')&&owner.isRootHeader&&(adjustment=-ownerContext.state.scrollbarAdjustment);return Ext.layout.container.HBox.prototype.publishInnerCtSize.call(this,ownerContext,adjustment)},roundFlex:function(width){return Math.round(width)}},0,0,0,0,['layout.gridcolumn'],0,[Ext.grid,'ColumnLayout'],0);
Ext.cmd.derive('Ext.grid.ColumnManager',Ext.Base,{alternateClassName:['Ext.grid.ColumnModel'],columns:null,constructor:function(visibleOnly,headerCt,secondHeaderCt){this.headerCt=headerCt;secondHeaderCt&&(this.secondHeaderCt=secondHeaderCt);this.visibleOnly=!!visibleOnly},getColumns:function(){this.columns||this.cacheColumns();return this.columns},hasVariableRowHeight:function(){var columns=this.getColumns(),len=columns.length,i;if(null==this.variableRowHeight)for(this.variableRowHeight=!1,i=0;!this.variableRowHeight&&
i<len;i++)this.variableRowHeight=!!columns[i].variableRowHeight;return this.variableRowHeight},getHeaderIndex:function(header){header.isGroupHeader&&(header=this.getHeaderColumns(header)[0]);return Ext.Array.indexOf(this.getColumns(),header)},getHeaderAtIndex:function(index){return this.getColumns()[index]||null},getPreviousSibling:function(header){header=this.getHeaderIndex(header);var col=null;0<header&&(col=this.getColumns()[header-1]);return col},getNextSibling:function(header){header=this.getHeaderIndex(header);
var col;-1!==header&&(col=this.getColumns()[header+1]);return col||null},getFirst:function(){var columns=this.getColumns();return 0<columns.length?columns[0]:null},getLast:function(){var columns=this.getColumns(),len=columns.length;return 0<len?columns[len-1]:null},getHeaderByDataIndex:function(dataIndex){var columns=this.getColumns(),len=columns.length,i;if(Ext.isEmpty(dataIndex))return null;for(i=0;i<len;++i){var header=columns[i];if(header.dataIndex===dataIndex)return header}return null},getHeaderById:function(id){var columns=
this.getColumns(),len=columns.length,i;for(i=0;i<len;++i){var header=columns[i];if(header.getItemId()===id)return header}return null},getVisibleHeaderClosestToIndex:function(index){(index=this.getHeaderAtIndex(index))&&index.hidden&&(index=index.next(':not([hidden])')||index.prev(':not([hidden])'));return index},cacheColumns:function(){var columns=this.getHeaderColumns(this.headerCt),second=this.secondHeaderCt;second&&(columns=columns.concat(this.getHeaderColumns(second)));this.columns=columns},getHeaderColumns:function(header){header=
this.visibleOnly?header.getVisibleGridColumns():header.getGridColumns();return Ext.Array.clone(header)},invalidate:function(){var root=this.rootColumns;this.columns=this.variableRowHeight=null;root&&root.invalidate()},destroy:function(){this.columns=this.rootColumns=null;this.callParent()}},1,0,0,0,0,0,[Ext.grid,'ColumnManager',Ext.grid,'ColumnModel'],function(){this.createAlias('indexOf','getHeaderIndex')});
Ext.cmd.derive('Ext.grid.NavigationModel',Ext.view.NavigationModel,{focusCls:'x-grid-item-focused',constructor:function(){this.onKeyPageDown=Ext.Function.createThrottled(this.onKeyPageDown,120,this);this.onKeyPageUp=Ext.Function.createThrottled(this.onKeyPageUp,120,this);Ext.view.NavigationModel.prototype.constructor.call(this)},getViewListeners:function(){return{focusmove:{element:'el',fn:this.onFocusMove},containermousedown:this.onContainerMouseDown,cellmousedown:this.onCellMouseDown,cellclick:this.onCellClick,
itemmousedown:this.onItemMouseDown,itemclick:this.onItemClick,itemcontextmenu:this.onItemClick,scope:this}},initKeyNav:function(view){this.keyNav||(this.keyNav=[],this.position=new Ext.grid.CellContext(view));view=new Ext.util.KeyNav({target:view,ignoreInputFields:!0,eventName:Ext.supports.SpecialKeyDownRepeat?'itemkeydown':'itemkeypress',defaultEventAction:'stopEvent',processEvent:this.processViewEvent,up:this.onKeyUp,down:this.onKeyDown,right:this.onKeyRight,left:this.onKeyLeft,pageDown:this.onKeyPageDown,
pageUp:this.onKeyPageUp,home:this.onKeyHome,end:this.onKeyEnd,space:this.onKeySpace,enter:this.onKeyEnter,esc:this.onKeyEsc,113:{ctrl:!1,shift:!1,alt:!1,handler:this.onKeyF2},tab:this.onKeyTab,A:{ctrl:!0,handler:this.onSelectAllKeyPress},scope:this});this.keyNav.push(view);this.onKeyNavCreate(view)},onKeyNavCreate:Ext.emptyFn,addKeyBindings:function(binding){var len=this.keyNav.length,i;for(i=0;i<len;i++)this.keyNav[i].addBindings(binding)},enable:function(){var len=this.keyNav.length,i;for(i=0;i<
len;i++)this.keyNav[i].enable();this.disabled=!1},disable:function(){var len=this.keyNav.length,i;for(i=0;i<len;i++)this.keyNav[i].disable();this.disabled=!0},processViewEvent:function(view,record,row,recordIndex,event){record=event.getKey();if(view.actionableMode){if(this.map.ignoreInputFields=!1,record===event.TAB||record===event.ESC||record===event.F2)return event}else return this.map.ignoreInputFields=!0,record===event.TAB?null:event},onContainerMouseDown:function(view,mousedownEvent){var context=
new Ext.grid.CellContext(view);Ext.view.NavigationModel.prototype.onContainerMouseDown.call(this,view,mousedownEvent);var lastFocused=view.lastFocused;(view=view.actionableMode&&view.actionPosition||lastFocused)&&'scrollbar'!==lastFocused&&(context.setPosition(view.record,view.column),mousedownEvent.position=context,this.attachClosestCell(mousedownEvent),this.position.isEqual(context)||this.setPosition(context,null,mousedownEvent))},onCellMouseDown:function(view,cell,cellIndex,record,row,recordIndex,
mousedownEvent){cellIndex=Ext.Component.from(mousedownEvent,cell);record=mousedownEvent.getTarget(this.isFocusableEl,cell);var ac;view.actionableMode?(record||(record=(ac=Ext.ComponentManager.getActiveComponent())&&ac!==view&&ac.owns(mousedownEvent)),record?view.setActionableMode(!0,mousedownEvent.position):view.setActionableMode(!1,mousedownEvent.position)):'touch'!==mousedownEvent.pointerType&&(!1!==mousedownEvent.position.column.cellFocusable?(record?(view.containsFocus||(view.containsFocus=!0,
view.toggleChildrenTabbability(!1)),!1!==view.setActionableMode(!0,mousedownEvent.position)&&record.focus()):cell.focus(),2===mousedownEvent.button&&this.fireNavigateEvent(mousedownEvent),cellIndex&&cellIndex.isFocusable&&cellIndex.isFocusable()&&(view.setActionableMode(!0,mousedownEvent.position),cellIndex.focus())):mousedownEvent.preventDefault(!0))},onCellClick:function(view,cell,cellIndex,record,row,recordIndex,clickEvent){cell=(cell=Ext.Component.from(clickEvent,cell))&&cell.isFocusable&&cell.isFocusable();
if(Ext.isIE10m||view.el.contains(Ext.Element.getActiveElement())||'touch'===clickEvent.pointerType)view.actionableMode?(clickEvent.position.isEqual(view.actionPosition)||cell||view.setActionableMode(!1,clickEvent.position),this.fireEvent('navigate',{view,navigationModel:this,keyEvent:clickEvent,previousPosition:this.previousPosition,previousRecordIndex:this.previousRecordIndex,previousRecord:this.previousRecord,previousItem:this.previousItem,previousCell:this.previousCell,previousColumnIndex:this.previousColumnIndex,
previousColumn:this.previousColumn,position:clickEvent.position,recordIndex:clickEvent.position.rowIdx,record:clickEvent.position.record,selectionStart:this.selectionStart,item:clickEvent.item,cell:clickEvent.position.cellElement,columnIndex:clickEvent.position.colIdx,column:clickEvent.position.column})):this.position.isEqual(clickEvent.position)||cell?(!Ext.isIE10m||this.record)&&this.fireNavigateEvent(clickEvent):!1!==clickEvent.position.column.cellFocusable?this.setPosition(clickEvent.position,
null,clickEvent):clickEvent.preventDefault()},onFocusMove:function(e){var view=Ext.Component.from(e.delegatedTarget,null,'tableview'),cell=e.target,isCell=Ext.fly(cell).is(view.cellSelector);if(view){if(e.toElement===view.el.dom)return view.actionableMode=!1,view.onFocusEnter(e);!view.actionableMode&&isCell?(e=view.getRecord(cell),cell=view.getHeaderByCell(cell),e&&cell&&(view=(new Ext.grid.CellContext(view)).setPosition(e,cell),view.isEqual(this.position)||this.setPosition(view))):(view.actionableMode||
view.activating)&&!isCell&&view.el.contains(e.target)&&view.el.dom!==e.target&&view.ownerGrid.fireEvent('cellactivate',view.ownerGrid,view.actionPosition)}},onItemMouseDown:function(view,record,item,index,mousedownEvent){mousedownEvent.position.cellElement||'touch'===mousedownEvent.pointerType||(view.enableTextSelection||mousedownEvent.preventDefault(),this.attachClosestCell(mousedownEvent),this.position.isEqual(mousedownEvent.position)||this.setPosition(mousedownEvent.position,null,mousedownEvent),
(view=view.getScrollable())&&view.restoreState())},onItemClick:function(view,record,item,index,clickEvent){clickEvent.position.cellElement||(this.attachClosestCell(clickEvent),'touch'===clickEvent.pointerType?this.setPosition(clickEvent.position,null,clickEvent):this.fireNavigateEvent(clickEvent))},attachClosestCell:function(event){var position=event.position,i;if(!position.cellElement){event=event.getX();var columns=position.view.getVisibleColumnManager().getColumns();var len=columns.length;for(i=
0;i<len;i++){var b=columns[i].getBox();if(event>=b.left&&event<b.right){position.setColumn(columns[i]);position.rowElement=position.getRow(!0);position.cellElement=position.getCell(!0);break}}}},deferSetPosition:function(delay,recordIndex,columnIndex,keyEvent,suppressEvent,preventNavigation){var setPositionTask=this.view.getFocusTask();setPositionTask.delay(delay,this.setPosition,this,[recordIndex,columnIndex,keyEvent,suppressEvent,preventNavigation]);return setPositionTask},setPosition:function(recordIndex,
columnIndex,keyEvent,suppressEvent,preventNavigation){var clearing=null==recordIndex&&null==columnIndex,isClear=null==this.record&&null==this.recordIndex&&null==this.item;var view=recordIndex&&recordIndex.isCellContext?recordIndex.view:keyEvent&&keyEvent.view?keyEvent.view:this.lastFocused?this.lastFocused.view:this.view;view.cancelFocusTask();if(!(view.destroyed||!view.refreshCounter||!view.ownerCt||clearing&&isClear)&&view.all.getCount()){var selModel=view.getSelectionModel();var dataSource=view.dataSource;
var columnManager=view.getVisibleColumnManager();var columns=columnManager.getColumns();if(recordIndex&&recordIndex.isCellContext){var newRecord=recordIndex.record;var newRecordIndex=recordIndex.rowIdx;var newColumnIndex=Math.min(recordIndex.colIdx,columns.length-1);isClear=columns[newColumnIndex];-1===dataSource.indexOf(newRecord)&&(columnIndex=view.getScrollable(),this.recordIndex=-1,columnIndex&&columnIndex.getPosition().y>=columnIndex.getMaxPosition().y-view.all.last(!0).offsetHeight&&recordIndex.rowIdx--,
newRecordIndex=Math.min(recordIndex.rowIdx,dataSource.getCount()-1),newRecord=dataSource.getAt(newRecordIndex))}else{if(clearing)newRecord=newRecordIndex=null;else if(null==columnIndex&&(columnIndex=this.lastFocused?this.lastFocused.column:0),'number'===typeof recordIndex)newRecordIndex=Math.max(Math.min(recordIndex,dataSource.getCount()-1),0),newRecord=dataSource.getAt(recordIndex);else if(recordIndex.isEntity)newRecord=recordIndex,newRecordIndex=dataSource.indexOf(newRecord);else if(recordIndex.tagName)newRecord=
view.getRecord(recordIndex),newRecordIndex=dataSource.indexOf(newRecord),-1===newRecordIndex&&(newRecord=null);else{if(isClear)return;clearing=!0;newRecord=newRecordIndex=null}newRecord?(-1===newRecordIndex&&(this.recordIndex=-1,newRecord=dataSource.getAt(0),newRecordIndex=0,columnIndex=null),null==columnIndex?(isClear=this.column)||(newColumnIndex=0,isClear=columns[0]):'number'===typeof columnIndex?(isClear=columns[columnIndex],newColumnIndex=columnIndex):(isClear=columnIndex,newColumnIndex=columnManager.indexOf(columnIndex))):
(clearing=!0,isClear=newColumnIndex=null)}isClear&&-1===columnManager.indexOf(isClear)&&(newColumnIndex=-1===newColumnIndex?0:Math.min(newColumnIndex,columns.length-1),isClear=columns[newColumnIndex]);if(view.actionableMode&&!clearing)return view.ownerGrid.setActionableMode(!1,(new Ext.grid.CellContext(view)).setPosition(newRecord,isClear));if(newRecordIndex===this.recordIndex&&newColumnIndex===this.columnIndex&&view===this.position.view)return this.focusPosition(this.position);this.cell&&this.cell.removeCls(this.focusCls);
this.previousRecordIndex=this.recordIndex;this.previousRecord=this.record;this.previousItem=this.item;this.previousCell=this.cell;this.previousColumn=this.column;this.previousColumnIndex=this.columnIndex;this.previousPosition=this.position.clone();this.selectionStart=selModel.selectionStart;this.position.setAll(view,this.recordIndex=newRecordIndex,this.columnIndex=newColumnIndex,this.record=newRecord,this.column=isClear);clearing?this.item=this.cell=null:this.focusPosition(this.position);suppressEvent||
(selModel.fireEvent('focuschange',selModel,this.previousRecord,this.record),view.fireEvent('rowfocus',this.record,this.item,this.recordIndex),view.fireEvent('cellfocus',this.record,this.cell,this.position));keyEvent&&!preventNavigation&&this.cell!==this.previousCell&&this.fireNavigateEvent(keyEvent)}},focusPosition:function(position){var row;this.item=this.cell=null;if(position&&position.record&&position.column){var view=position.view;(row=position.rowElement?this.item=position.rowElement:view.getRowByRecord(position.record))?
(this.cell=position.cellElement||Ext.fly(row).down(position.column.getCellSelector(),!0))?(this.cell=new Ext.dom.Fly(this.cell),view.lastFocused=this.lastFocused=this.position.clone(),(position=view.getScrollable())&&position.ensureVisible(this.cell),this.focusItem(this.cell),view.focusEl=this.cell):(this.position.setAll(),this.record=this.column=this.recordIndex=this.columnIndex=null):(row=view.dataSource.indexOf(position.record),this.position.setAll(),this.record=this.column=this.recordIndex=this.columnIndex=
null,-1!==row&&view.bufferedRenderer&&(this.lastKeyEvent=null,view.bufferedRenderer.scrollTo(row,!1,this.afterBufferedScrollTo,this)))}},focusItem:function(item){item.addCls(this.focusCls);item.focus()},getCell:function(){return this.cell},getPosition:function(skipChecks){var position=this.position;if(position.record&&position.column){if(skipChecks)return position;var view=position.view;var dataSource=view.dataSource;skipChecks=dataSource.indexOf(position.record);-1===skipChecks&&(skipChecks=position.rowIdx,
(position.record=dataSource.getAt(skipChecks))||(skipChecks=-1));if(-1===skipChecks||-1===view.getVisibleColumnManager().indexOf(position.column))position.setAll(),this.record=this.column=this.recordIndex=this.columnIndex=null;else return position}return null},getLastFocused:function(){var lastFocused=this.lastFocused;if(lastFocused&&lastFocused.record&&lastFocused.column){var view=lastFocused.view;if(-1!==view.dataSource.indexOf(lastFocused.record)&&-1!==view.getVisibleColumnManager().indexOf(lastFocused.column))return lastFocused}},
onKeyTab:function(keyEvent){var forward=!keyEvent.shiftKey,view=keyEvent.position.view;var ret=view.findFocusPosition(keyEvent.target,keyEvent.position,forward,keyEvent);var focusTarget=ret.target;ret=ret.position;if(focusTarget)this.actionPosition=ret.view.actionPosition=ret,Ext.fly(focusTarget).focus();else view.onRowExit(keyEvent,keyEvent.item,keyEvent.item[forward?'nextSibling':'previousSibling'],forward);keyEvent.preventDefault()},onKeyUp:function(keyEvent){var newRecord=keyEvent.view.walkRecs(keyEvent.record,
-1),pos=this.getPosition();newRecord&&(pos.setRow(newRecord),pos.getCell(!0)||pos.navigate(-1),this.setPosition(pos,null,keyEvent))},onKeyDown:function(keyEvent){var newRecord=keyEvent.record.isExpandingOrCollapsing?null:keyEvent.view.walkRecs(keyEvent.record,1),pos=this.getPosition();newRecord&&(pos.setRow(newRecord),pos.getCell(!0)||pos.navigate(-1),this.setPosition(pos,null,keyEvent))},onKeyRight:function(keyEvent){var newPosition=this.move('right',keyEvent);newPosition&&this.setPosition(newPosition,
null,keyEvent)},onKeyLeft:function(keyEvent){var newPosition=this.move('left',keyEvent);newPosition&&this.setPosition(newPosition,null,keyEvent)},onKeyEnter:function(keyEvent){var eventArgs=['cellclick',keyEvent.view,keyEvent.position.cellElement,keyEvent.position.colIdx,keyEvent.record,keyEvent.position.rowElement,keyEvent.recordIndex,keyEvent],actionCell=keyEvent.position.getCell(!0);actionCell&&(actionCell.querySelector('[tabIndex\x3d"-1"]')||(keyEvent.stopEvent(),keyEvent.view.fireEvent.apply(keyEvent.view,
eventArgs),eventArgs[0]='celldblclick',keyEvent.view.fireEvent.apply(keyEvent.view,eventArgs)),this.view.actionableMode||this.view.ownerGrid.setActionableMode(!0,this.getPosition()))},onKeyF2:function(keyEvent){keyEvent=this.view.ownerGrid;var actionableMode=keyEvent.actionableMode;keyEvent.setActionableMode(!actionableMode,actionableMode?null:this.getPosition())},onKeyEsc:function(keyEvent){keyEvent=this.view.ownerGrid;if(keyEvent.actionableMode)keyEvent.setActionableMode(!1);else return!0},move:function(dir,
keyEvent){var position=this.getPosition(),result=position;keyEvent=keyEvent.shiftKey&&('right'===dir||'left'===dir);if(position&&position.record)for(;result;)if((result=result.view.walkCells(result,dir,keyEvent?this.vetoRowChange:null,this))&&result.getCell(!0)&&!1!==result.column.cellFocusable)return result},vetoRowChange:function(newPosition){return this.getPosition().record===newPosition.record},onKeyPageDown:function(keyEvent){var view=Ext.Component.fromElement(keyEvent.target,void 0,'tableview'),
rowsVisible=this.getRowsVisible();rowsVisible&&(view.bufferedRenderer?(rowsVisible=Math.min(keyEvent.recordIndex+rowsVisible,view.dataSource.getCount()-1),this.lastKeyEvent=keyEvent,view.bufferedRenderer.scrollTo(view.dataSource.getAt(rowsVisible),!1,this.afterBufferedScrollTo,this)):(view=view.walkRecs(keyEvent.record,rowsVisible),this.setPosition(view,null,keyEvent)))},onKeyPageUp:function(keyEvent){var view=Ext.Component.fromElement(keyEvent.target,void 0,'tableview'),rowsVisible=this.getRowsVisible();
rowsVisible&&(view.bufferedRenderer?(rowsVisible=Math.max(keyEvent.recordIndex-rowsVisible,0),this.lastKeyEvent=keyEvent,view.bufferedRenderer.scrollTo(view.dataSource.getAt(rowsVisible),!1,this.afterBufferedScrollTo,this)):(view=view.walkRecs(keyEvent.record,-rowsVisible),this.setPosition(view,null,keyEvent)))},onKeyHome:function(keyEvent){var view=keyEvent.view;keyEvent.altKey?view.bufferedRenderer?(this.lastKeyEvent=keyEvent,view.bufferedRenderer.scrollTo(view.dataSource.first(),!1,this.afterBufferedScrollTo,
this)):this.setPosition(view.walkRecs(keyEvent.record,-view.dataSource.indexOf(keyEvent.record)),null,keyEvent):this.setPosition(keyEvent.record,0,keyEvent)},afterBufferedScrollTo:function(newIdx,newRecord){this.setPosition(newRecord,null,this.lastKeyEvent,null,!this.lastKeyEvent)},onKeyEnd:function(keyEvent){var view=keyEvent.view;keyEvent.altKey?view.bufferedRenderer?(this.lastKeyEvent=keyEvent,view.bufferedRenderer.scrollTo(view.dataSource.last(),!1,this.afterBufferedScrollTo,this)):this.setPosition(view.walkRecs(keyEvent.record,
view.dataSource.getCount()-1-view.dataSource.indexOf(keyEvent.record)),null,keyEvent):this.setPosition(keyEvent.record,keyEvent.view.getVisibleColumnManager().getColumns().length-1,keyEvent)},getRowsVisible:function(){var rowsVisible=!1,view=this.view.ownerGrid.getView(),firstRow=view.all.first();firstRow&&(rowsVisible=firstRow.getHeight(),view=view.bufferedRenderer?view.bufferedRenderer.viewClientHeight:view.el.getHeight(),rowsVisible=Math.floor(view/rowsVisible));return rowsVisible},fireNavigateEvent:function(keyEvent){this.fireEvent('navigate',
{view:this.position.view,navigationModel:this,keyEvent:keyEvent||new Ext.event.Event({}),previousPosition:this.previousPosition,previousRecordIndex:this.previousRecordIndex,previousRecord:this.previousRecord,previousItem:this.previousItem,previousCell:this.previousCell,previousColumnIndex:this.previousColumnIndex,previousColumn:this.previousColumn,position:this.position,recordIndex:this.recordIndex,record:this.record,selectionStart:this.selectionStart,item:this.item,cell:this.cell,columnIndex:this.columnIndex,
column:this.column})},isFocusableEl:function(el){return Ext.fly(el).isFocusable()}},1,0,0,0,['view.navigation.grid'],0,[Ext.grid,'NavigationModel'],0);
Ext.cmd.derive('Ext.view.TableLayout',Ext.layout.component.Auto,{type:'tableview',beginLayout:function(ownerContext){var owner=this.owner,ownerGrid=owner.ownerGrid;owner=owner.lockingPartner;var partnerContext=ownerContext.lockingPartnerContext,context=ownerContext.context,scrollable=ownerGrid.getScrollable();var partnerVisible=owner&&owner.grid.isVisible()&&!(owner.grid.collapsed||owner.grid.floatedFromCollapse);ownerContext.doSyncRowHeights=partnerVisible&&(ownerGrid.syncRowHeight||ownerGrid.syncRowHeightOnNextLayout);
ownerContext.allowScrollX=scrollable&&scrollable.config&&scrollable.config.x;this.columnFlusherId||(this.columnFlusherId=this.id+'-columns',this.rowHeightFlusherId=this.id+'-rows');Ext.layout.component.Auto.prototype.beginLayout.call(this,ownerContext);partnerVisible&&(!partnerContext&&owner.componentLayout.isRunning()&&((partnerContext=ownerContext.lockingPartnerContext=context.getCmp(owner)).lockingPartnerContext=ownerContext,partnerContext.lockingPartnerContext||(partnerContext.lockingPartnerContext=
ownerContext)),ownerContext.doSyncRowHeights&&(partnerContext&&!partnerContext.rowHeightSynchronizer&&(partnerContext.rowHeightSynchronizer=partnerContext.target.syncRowHeightBegin()),ownerContext.rowHeightSynchronizer=this.owner.syncRowHeightBegin()));(ownerContext.headerContext=context.getCmp(this.headerCt)).viewContext=ownerContext},beginLayoutCycle:function(ownerContext,firstCycle){Ext.layout.component.Auto.prototype.beginLayoutCycle.call(this,ownerContext,firstCycle);ownerContext.syncRowHeights&&
(ownerContext.target.syncRowHeightClear(ownerContext.rowHeightSynchronizer),ownerContext.syncRowHeights=!1)},calculate:function(ownerContext){var context=ownerContext.context,lockingPartnerContext=ownerContext.lockingPartnerContext,ownerCtContext=ownerContext.ownerCtContext,state=ownerContext.state,owner=this.owner,bodyDom=owner.body.dom,columnsChanged=ownerContext.headerContext.getProp('columnsChanged'),columnFlusher,overflowY;if(owner.all.getCount()||bodyDom&&owner.body.child('table',!0))if(1===
this.calcCount&&this.owner.bufferedRenderer&&this.owner.bufferedRenderer.beforeTableLayout(ownerContext),void 0===columnsChanged)this.done=!1;else{if(columnsChanged&&((columnFlusher=state.columnFlusher)||context.queueFlush(state.columnFlusher=columnFlusher={ownerContext,columnsChanged,layout:this,id:this.columnFlusherId,flush:this.flushColumnWidths},!0),!columnFlusher.flushed)){this.done=!1;return}if(ownerContext.doSyncRowHeights){if(!(columnsChanged=state.rowHeightFlusher)){(columnsChanged=state.rowHeights)||
(state.rowHeights=columnsChanged=ownerContext.rowHeightSynchronizer,this.owner.syncRowHeightMeasure(columnsChanged),ownerContext.setProp('rowHeights',columnsChanged));if(!(lockingPartnerContext=lockingPartnerContext.getProp('rowHeights'))){this.done=!1;return}context.queueFlush(state.rowHeightFlusher=columnsChanged={ownerContext,synchronizer:columnsChanged,otherSynchronizer:lockingPartnerContext,layout:this,id:this.rowHeightFlusherId,flush:this.flushRowHeights},!0)}if(!columnsChanged.flushed){this.done=
!1;return}}Ext.layout.component.Auto.prototype.calculate.call(this,ownerContext);if(!ownerContext.heightModel.shrinkWrap&&!ownerCtContext.heightModel.shrinkWrap){var overflowable=!0;var ctSize=ownerCtContext.target.layout.getContainerSize(ownerCtContext);if(!ctSize.gotHeight){this.done=!1;return}var bodyHeight=bodyDom.offsetHeight;bodyHeight>ctSize.height&&(overflowY=!0)}context=Ext.scrollbar.height();if(this.done&&ownerContext.allowScrollX&&context){if(!owner.lockingPartner){var overflowX=owner.isAutoTree?
!0:!!ownerContext.headerContext.state.boxPlan.tooNarrow;ownerContext.setProp('overflowX',overflowX)}overflowX&&bodyHeight&&overflowable&&(overflowY=bodyHeight+context>ctSize.height)}(this.done||null!=overflowY)&&ownerContext.setProp('viewOverflowY',!!overflowY)}else ownerContext.setProp('viewOverflowY',!1),Ext.layout.component.Auto.prototype.calculate.call(this,ownerContext)},measureContentHeight:function(ownerContext){var owner=this.owner,bodyDom=owner.body.dom;owner=owner.emptyEl;var bodyHeight=
0;owner&&(bodyHeight+=owner.offsetHeight);bodyDom&&(bodyHeight+=bodyDom.offsetHeight);ownerContext.headerContext.state.boxPlan.tooNarrow&&(bodyHeight+=Ext.scrollbar.height());return bodyHeight},flushColumnWidths:function(){var me=this.layout,ownerContext=this.ownerContext,columnsChanged=this.columnsChanged,owner=ownerContext.target,len=columnsChanged.length,column,i;if(ownerContext.state.columnFlusher===this){for(i=0;i<len;i++)if(column=columnsChanged[i]){var colWidth=column.props.width;owner.body.select(owner.getColumnSizerSelector(column.target)).setWidth(colWidth);
if(column.target.onCellsResized)column.target.onCellsResized(colWidth);if(column=column.lastBox)column.width=colWidth}this.flushed=!0;me.pending||ownerContext.context.queueLayout(me)}},flushRowHeights:function(){var me=this.layout,ownerContext=this.ownerContext;ownerContext.state.rowHeightFlusher===this&&(ownerContext.target.syncRowHeightFinish(this.synchronizer,this.otherSynchronizer),this.flushed=!0,ownerContext.syncRowHeights=!0,me.pending||ownerContext.context.queueLayout(me))},finishedLayout:function(ownerContext){var ownerGrid=
this.owner.ownerGrid,nodeContainer=Ext.fly(this.owner.getNodeContainer()),scroller=this.owner.getScrollable();Ext.layout.component.Auto.prototype.finishedLayout.call(this,ownerContext);nodeContainer&&nodeContainer.setWidth(ownerContext.headerContext.props.contentWidth);(nodeContainer=this.owner.bufferedRenderer)&&nodeContainer.afterTableLayout(ownerContext);ownerGrid&&(ownerGrid.syncRowHeightOnNextLayout=!1);!scroller||scroller.isScrolling||nodeContainer&&(0===nodeContainer.nextRefreshStartIndex||
this.owner.hasVariableRowHeight())||scroller.restoreState()},getLayoutItems:function(){return this.owner.getRefItems()},isValidParent:function(){return!0}},0,0,0,0,['layout.tableview'],0,[Ext.view,'TableLayout'],0);
Ext.cmd.derive('Ext.grid.locking.RowSynchronizer',Ext.Base,{constructor:function(view,rowEl){this.view=view;this.rowEl=rowEl;this.els={};this.add('data',view.rowSelector);for(view=view.rowTpl;view;view=view.nextTpl)view.beginRowSync&&view.beginRowSync(this)},add:function(name,selector){(selector=Ext.fly(this.rowEl).down(selector,!0))&&(this.els[name]={el:selector})},finish:function(other){var els=this.els,otherEls=other.els,otherEl,growth=0,otherGrowth=0,name;for(name in els){var otherHeight=(otherEl=
otherEls[name])?otherEl.height:0;otherEl=otherHeight-els[name].height;0<otherEl?(growth+=otherEl,Ext.fly(els[name].el).setHeight(otherHeight)):otherGrowth-=otherEl}otherHeight=other.rowHeight+otherGrowth;Ext.isIE9&&this.view.ownerGrid.rowLines&&otherHeight--;this.rowHeight+growth<otherHeight&&Ext.fly(this.rowEl).setHeight(otherHeight)},measure:function(){var els=this.els,grid=this.view.ownerGrid,name;this.rowHeight=grid.getElementHeight(this.rowEl);for(name in els)els[name].height=grid.getElementHeight(els[name].el)},
reset:function(){var els=this.els,name;this.rowEl.style.height='';for(name in els)els[name].el.style.height=''}},1,0,0,0,0,0,[Ext.grid.locking,'RowSynchronizer'],0);
Ext.cmd.derive('Ext.view.NodeCache',Ext.Base,{statics:{range:document.createRange&&document.createRange()},constructor:function(view){this.view=view;this.clear();this.el=new Ext.dom.Fly},destroy:function(){this.destroyed||(this.el.destroy(),this.el=this.view=null,this.destroyed=!0);this.callParent()},clear:function(removeDom){var elements=this.elements,range=this.statics().range,key;if(this.count&&removeDom)if(range&&Ext.getBody().contains(elements[0]))range.setStartBefore(elements[this.startIndex]),
range.setEndAfter(elements[this.endIndex]),range.deleteContents();else for(key in elements)Ext.removeNode(elements[key]);this.elements={};this.count=this.startIndex=0;this.endIndex=-1},fill:function(newElements,startIndex,fixedNodes){var elements=this.elements={},len;fixedNodes=fixedNodes||0;startIndex||(startIndex=0);var i=0;for(len=newElements.length-fixedNodes;i<len;i++)elements[startIndex+i]=newElements[i+fixedNodes];this.startIndex=startIndex;this.endIndex=startIndex+len-1;this.count=len;return this},
insert:function(insertPoint,nodes){var elements=this.elements,i,nodeCount=nodes.length;if(this.count){if(insertPoint<this.count)for(i=this.endIndex+nodeCount;i>=insertPoint+nodeCount;i--)elements[i]=elements[i-nodeCount],elements[i].setAttribute('data-recordIndex',i);this.endIndex+=nodeCount}else this.startIndex=insertPoint,this.endIndex=insertPoint+nodeCount-1;for(i=0;i<nodeCount;i++,insertPoint++)elements[insertPoint]=nodes[i],elements[insertPoint].setAttribute('data-recordIndex',insertPoint);this.count+=
nodeCount},invoke:function(fn,args){var element,i;fn=Ext.dom.Element.prototype[fn];for(i=this.startIndex;i<=this.endIndex;i++)(element=this.item(i))&&fn.apply(element,args);return this},item:function(index,asDom){var result=null;this.elements[index]&&(result=asDom?this.elements[index]:this.el.attach(this.elements[index]));return result},first:function(asDom){return this.item(this.startIndex,asDom)},last:function(asDom){return this.item(this.endIndex,asDom)},moveBlock:function(increment){var elements=
this.elements;if(increment){if(0>increment){var i=this.startIndex-1;var end=this.endIndex;var step=1}else i=this.endIndex+1,end=this.startIndex,step=-1;this.startIndex+=increment;this.endIndex+=increment;do{i+=step;var node=elements[i+increment]=elements[i];node.setAttribute('data-recordIndex',i+increment);(i<this.startIndex||i>this.endIndex)&&delete elements[i]}while(i!==end);delete elements[i]}},getCount:function(){return this.count},slice:function(start,end){var elements=this.elements,result=[];
end=end?Math.min(this.endIndex,end-1):this.endIndex;for(start=start||this.startIndex;start<=end;start++)result.push(elements[start]);return result},replaceElement:function(el,replacement,domReplace){var elements=this.elements,index='number'===typeof el?el:this.indexOf(el);-1<index&&(replacement=Ext.getDom(replacement),domReplace&&(el=elements[index],el.parentNode.insertBefore(replacement,el),Ext.removeNode(el),replacement.setAttribute('data-recordIndex',index)),this.elements[index]=replacement);return this},
indexOf:function(el){var elements=this.elements,index;el=Ext.getDom(el);for(index=this.startIndex;index<=this.endIndex;index++)if(elements[index]===el)return index;return-1},clip:function(removeEnd,removeCount){var elements=this.elements,removed=[],end;1===removeEnd?(removeEnd=this.startIndex,this.startIndex+=removeCount):(this.endIndex-=removeCount,removeEnd=this.endIndex+1);var i=removeEnd;for(end=removeEnd+removeCount-1;i<=end;i++){var el=elements[i];removed.push(el);Ext.removeNode(el);delete elements[i]}this.count-=
removeCount;this.view.fireItemMutationEvent('itemremove',this.view.dataSource.getRange(removeEnd,end),removeEnd,removed,this.view)},removeRange:function(start,end,removeDom){var elements=this.elements,removed=[],fromPos;end=null==end?this.endIndex+1:Math.min(this.endIndex+1,end+1);null==start&&(start=this.startIndex);var removeCount=end-start;var i=start;for(fromPos=end;i<=this.endIndex;i++,fromPos++)start=elements[i],i<end&&(removed.push(start),removeDom&&Ext.removeNode(start)),fromPos<=this.endIndex?
(start=elements[i]=elements[fromPos],start.setAttribute('data-recordIndex',i)):delete elements[i];this.count-=removeCount;this.endIndex-=removeCount;return removed},removeElement:function(keys,removeDom){var elements=this.elements,keyIndex,fromIndex;if(Ext.isArray(keys)){var inKeys=keys;keys=[];var deleteCount=inKeys.length;for(keyIndex=0;keyIndex<deleteCount;keyIndex++){var key=inKeys[keyIndex];'number'!==typeof key&&(key=this.indexOf(key));key>=this.startIndex&&key<=this.endIndex&&(keys[keys.length]=
key)}Ext.Array.sort(keys);deleteCount=keys.length}else{if(keys<this.startIndex||keys>this.endIndex)return;deleteCount=1;keys=[keys]}key=fromIndex=keys[0];for(keyIndex=0;key<=this.endIndex;key++,fromIndex++)keyIndex<deleteCount&&key===keys[keyIndex]&&(fromIndex++,keyIndex++,removeDom&&Ext.removeNode(elements[key])),fromIndex<=this.endIndex&&fromIndex>=this.startIndex?(inKeys=elements[key]=elements[fromIndex],inKeys.setAttribute('data-recordIndex',key)):delete elements[key];this.endIndex-=deleteCount;
this.count-=deleteCount},scroll:function(newRecords,direction,removeCount){var view=this.view,store=view.store,elements=this.elements,recCount=newRecords.length,nodeContainer=view.getNodeContainer(),range=this.statics().range;if(newRecords.length||removeCount){if(-1===direction){if(removeCount){direction=[];var removedItems=[];var removeStart=this.endIndex-removeCount+1;if(range)for(range.setStartBefore(elements[removeStart]),range.setEndAfter(elements[this.endIndex]),range.deleteContents(),range=
removeStart;range<=this.endIndex;range++){var el=elements[range];delete elements[range];direction.push(store.getByInternalId(el.getAttribute('data-recordId')));removedItems.push(el)}else for(range=removeStart;range<=this.endIndex;range++)el=elements[range],delete elements[range],Ext.removeNode(el),direction.push(store.getByInternalId(el.getAttribute('data-recordId'))),removedItems.push(el);view.fireItemMutationEvent('itemremove',direction,removeStart,removedItems,view);this.endIndex-=removeCount}if(newRecords.length){store=
view.bufferRender(newRecords,this.startIndex-=recCount);var removeEnd=store.children;for(range=0;range<recCount;range++)elements[this.startIndex+range]=removeEnd[range];nodeContainer.insertBefore(store.fragment,nodeContainer.firstChild);view.fireItemMutationEvent('itemadd',newRecords,this.startIndex,removeEnd,view)}}else{if(removeCount){direction=[];removedItems=[];removeEnd=this.startIndex+removeCount;if(range)for(range.setStartBefore(elements[this.startIndex]),range.setEndAfter(elements[removeEnd-
1]),range.deleteContents(),range=this.startIndex;range<removeEnd;range++)el=elements[range],delete elements[range],direction.push(store.getByInternalId(el.getAttribute('data-recordId'))),removedItems.push(el);else for(range=this.startIndex;range<removeEnd;range++)el=elements[range],delete elements[range],Ext.removeNode(el),direction.push(store.getByInternalId(el.getAttribute('data-recordId'))),removedItems.push(el);view.fireItemMutationEvent('itemremove',direction,this.startIndex,removedItems,view);
this.startIndex=removeEnd}store=view.bufferRender(newRecords,this.endIndex+1);removeEnd=store.children;for(range=0;range<recCount;range++)elements[this.endIndex+=1]=removeEnd[range];nodeContainer.appendChild(store.fragment);view.fireItemMutationEvent('itemadd',newRecords,this.endIndex+1,removeEnd,view)}this.count=this.endIndex-this.startIndex+1;return removeEnd}},sumHeights:function(){var result=0,elements=this.elements,i;for(i=this.startIndex;i<=this.endIndex;i++)result+=elements[i].offsetHeight;
return result}},1,0,0,0,0,0,[Ext.view,'NodeCache'],function(){Ext.dom.CompositeElementLite.importElementMethods.call(this)});
Ext.cmd.derive('Ext.scroll.TableScroller',Ext.scroll.Scroller,{config:{lockingScroller:null},privates:{getEnsureVisibleXY:function(el,options){var lockingScroller=this.getLockingScroller(),position=this.getPosition();el&&el.element&&!el.isElement&&(options=el,el=options.element);options=options||{};lockingScroller&&(position.y=lockingScroller.position.y);var newPosition=Ext.fly(el).getScrollIntoViewXY(this.getElement(),position.x,position.y);newPosition.x=!1===options.x?position.x:newPosition.x;lockingScroller&&
(newPosition.y=!1===options.y?position.y:Ext.fly(el).getScrollIntoViewXY(lockingScroller.getElement(),position.x,position.y).y);return newPosition},doScrollTo:function(x,y,animate){var lockingScroller;if(null!=y&&(lockingScroller=this.getLockingScroller())){var lockedPromise=lockingScroller.doScrollTo(null,y,animate);y=null}x=Ext.scroll.Scroller.prototype.doScrollTo.call(this,x,y,animate);lockedPromise&&(x=Ext.Promise.all([x,lockedPromise]));return x},restoreState:function(){var me=this,el=me.getScrollElement(),
lockingScroller=me.getLockingScroller();el&&(el=lockingScroller?lockingScroller.trackingScrollTop:me.trackingScrollTop,void 0!==el&&(me.restoreTimer||(me.restoreTimer=Ext.defer(function(){me.restoreTimer=null},50)),me.doScrollTo(me.trackingScrollLeft,el,!1)))}}},0,0,0,0,['scroller.table'],0,[Ext.scroll,'TableScroller'],0);
Ext.cmd.derive('Ext.view.Table',Ext.view.View,{alternateClassName:'Ext.grid.View',isTableView:!0,config:{selectionModel:{type:'rowmodel'}},inheritableStatics:{normalSideEvents:['deselect','select','beforedeselect','beforeselect','selectionchange'],events:'blur focus move resize destroy beforedestroy boxready afterrender render beforerender removed hide beforehide show beforeshow enable disable added deactivate beforedeactivate activate beforeactivate cellkeydown beforecellkeydown cellmouseup beforecellmouseup cellmousedown beforecellmousedown cellcontextmenu beforecellcontextmenu celldblclick beforecelldblclick cellclick beforecellclick refresh itemremove itemadd beforeitemupdate itemupdate viewready beforerefresh unhighlightitem highlightitem focuschange containerkeydown containercontextmenu containerdblclick containerclick containermouseout containermouseover containermouseup containermousedown beforecontainerkeydown beforecontainercontextmenu beforecontainerdblclick beforecontainerclick beforecontainermouseout beforecontainermouseover beforecontainermouseup beforecontainermousedown itemkeydown itemcontextmenu itemdblclick itemclick itemmouseleave itemmouseenter itemmouseup itemmousedown rowclick rowcontextmenu rowdblclick rowkeydown rowmouseup rowmousedown rowkeydown beforeitemkeydown beforeitemcontextmenu beforeitemdblclick beforeitemclick beforeitemmouseleave beforeitemmouseenter beforeitemmouseup beforeitemmousedown statesave beforestatesave staterestore beforestaterestore uievent groupcollapse groupexpand scroll'.split(' ')},
scrollable:!0,componentLayout:'tableview',baseCls:'x-grid-view',unselectableCls:'x-unselectable',firstCls:'x-grid-cell-first',lastCls:'x-grid-cell-last',itemCls:'x-grid-item',selectedItemCls:'x-grid-item-selected',selectedCellCls:'x-grid-cell-selected',focusedItemCls:'x-grid-item-focused',overItemCls:'x-grid-item-over',altRowCls:'x-grid-item-alt',dirtyCls:'x-grid-dirty-cell',rowClsRe:/(?:^|\s*)x-grid-item-alt(?:\s+|$)/g,cellRe:/x-grid-cell-([^\s]+)(?:\s|$)/,positionBody:!0,positionCells:!1,stripeOnUpdate:null,
actionableMode:!1,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,ariaRole:'rowgroup',rowAriaRole:'row',cellAriaRole:'gridcell',usageBitMask:1,tpl:['{%','view \x3d values.view;','if (!(columns \x3d values.columns)) {','columns \x3d values.columns \x3d view.ownerCt.getVisibleColumnManager().getColumns();','}','values.fullWidth \x3d 0;','for (i \x3d 0, len \x3d columns.length; i \x3c len; i++) {','column \x3d columns[i];','values.fullWidth +\x3d (column.cellWidth \x3d column.lastBox ? column.lastBox.width : column.width || column.minWidth);',
'}','tableCls\x3dvalues.tableCls\x3d[];','%}','\x3cdiv class\x3d"x-grid-item-container" role\x3d"presentation" style\x3d"width:{fullWidth}px"\x3e','{[view.renderTHead(values, out, parent)]}','{%','view.renderRows(values.rows, values.columns, values.viewStartIndex, out);','%}','{[view.renderTFoot(values, out, parent)]}','\x3c/div\x3e','{% ','view \x3d columns \x3d column \x3d null;','%}',{definitions:'var view, tableCls, columns, i, len, column;',priority:0}],outerRowTpl:['\x3ctable id\x3d"{rowId}" role\x3d"presentation" ',
'data-boundView\x3d"{view.id}" ','data-recordId\x3d"{record.internalId}" ','data-recordIndex\x3d"{recordIndex}" ','class\x3d"{[values.itemClasses.join(" ")]}" cellpadding\x3d"0" cellspacing\x3d"0" style\x3d"{itemStyle};width:0"\x3e','{%','this.nextTpl.applyOut(values, out, parent)','%}','\x3c/table\x3e',{priority:9999}],rowTpl:['{%','var dataRowCls \x3d values.recordIndex \x3d\x3d\x3d -1 ? "" : " x-grid-row";','%}','\x3ctr class\x3d"{[values.rowClasses.join(" ")]} {[dataRowCls]}"',' role\x3d"{rowRole}" {rowAttr:attributes}\x3e',
'\x3ctpl for\x3d"columns"\x3e{%','parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)','%}','\x3c/tpl\x3e','\x3c/tr\x3e',{priority:0}],cellTpl:['\x3ctd class\x3d"{tdCls}" {tdAttr} {cellAttr:attributes}',' style\x3d"width:{column.cellWidth}px;','{% if(values.tdStyle){out.push(values.tdStyle);}%}"','{% if (values.column.cellFocusable \x3d\x3d\x3d false) {%}',' role\x3d"presentation"','{% } else { %}',' role\x3d"{cellRole}" tabindex\x3d"-1"','{% } %}',
'  data-columnid\x3d"{[values.column.getItemId()]}"\x3e','\x3cdiv {unselectableAttr} class\x3d"x-grid-cell-inner {innerCls}" ','style\x3d"text-align:{align};','{% if (values.style) {out.push(values.style);} %}" ','{cellInnerAttr:attributes}\x3e{value}\x3c/div\x3e','\x3c/td\x3e',{priority:0}],refreshSelmodelOnRefresh:!1,scrollableType:'table',tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:['x-grid-cell x-grid-td']},constructor:function(config){config.grid.isTree&&(config.baseCls=
'x-tree-view');Ext.view.View.prototype.constructor.call(this,config)},hasVariableRowHeight:function(fromLockingPartner){return this.variableRowHeight||this.store.isGrouped()||this.getVisibleColumnManager().hasVariableRowHeight()||!fromLockingPartner&&this.lockingPartner&&this.lockingPartner.hasVariableRowHeight(!0)},initComponent:function(){this.columnLines&&this.addCls(this.grid.colLinesCls);this.rowLines&&this.addCls(this.grid.rowLinesCls);this.body=new Ext.dom.Fly;this.body.id=this.id+'gridBody';
this.trackOver||(this.overItemCls=null);this.headerCt.view=this;this.grid.view=this;this.initFeatures(this.grid);this.itemSelector=this.getItemSelector();this.all=new Ext.view.NodeCache(this);this.actionRowFly=new Ext.dom.Fly;Ext.view.View.prototype.initComponent.call(this)},applySelectionModel:function(selModel,oldSelModel){var grid=this.ownerGrid,defaultType=selModel.type,disableSelection=this.disableSelection||grid.disableSelection,allowDeselect=grid.allowDeselect;oldSelModel||selModel&&selModel.isSelectionModel||
(selModel=grid.selModel||selModel);selModel&&(selModel.isSelectionModel?(selModel.allowDeselect=void 0!==allowDeselect?allowDeselect:selModel.allowDeselect,selModel.locked=disableSelection):('string'===typeof selModel?selModel={type:selModel}:selModel.type=grid.selType||selModel.selType||selModel.type||defaultType,selModel.mode||(grid.simpleSelect?selModel.mode='SIMPLE':grid.multiSelect&&(selModel.mode='MULTI')),selModel=Ext.Factory.selection(Ext.applyIf({allowDeselect,locked:disableSelection},selModel))));
return selModel},updateSelectionModel:function(selModel,oldSelModel){oldSelModel&&(oldSelModel.un({scope:this,lastselectedchanged:this.updateBindSelection,selectionchange:this.updateBindSelection}),Ext.destroy(this.selModelRelayer));this.selModelRelayer=this.relayEvents(selModel,'selectionchange beforeselect beforedeselect select deselect focuschange'.split(' '));selModel.on({scope:this,lastselectedchanged:this.updateBindSelection,selectionchange:this.updateBindSelection});this.selModel=selModel},
getVisibleColumnManager:function(){return this.ownerCt.getVisibleColumnManager()},getColumnManager:function(){return this.ownerCt.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},moveColumn:function(fromIdx,toIdx,colsToMove){var multiMove=1<colsToMove,range=multiMove&&document.createRange?document.createRange():null,fragment=multiMove&&!range?document.createDocumentFragment():null,colCount=this.getGridColumns().length,lastIndex=colCount-
1,j,len;var doFirstLastClasses=(this.firstCls||this.lastCls)&&(0===toIdx||toIdx===colCount||0===fromIdx||fromIdx===lastIndex);if(this.rendered&&toIdx!==fromIdx){var rows=this.el.query(this.rowSelector);var i=0;for(len=rows.length;i<len;i++){var tr=rows[i];var cells=tr.childNodes;if(doFirstLastClasses){if(1===cells.length){Ext.fly(cells[0]).addCls(this.firstCls);Ext.fly(cells[0]).addCls(this.lastCls);continue}0===fromIdx?(Ext.fly(cells[0]).removeCls(this.firstCls),Ext.fly(cells[1]).addCls(this.firstCls)):
fromIdx===lastIndex&&(Ext.fly(cells[lastIndex]).removeCls(this.lastCls),Ext.fly(cells[lastIndex-1]).addCls(this.lastCls));0===toIdx?(Ext.fly(cells[0]).removeCls(this.firstCls),Ext.fly(cells[fromIdx]).addCls(this.firstCls)):toIdx===colCount&&(Ext.fly(cells[lastIndex]).removeCls(this.lastCls),Ext.fly(cells[fromIdx]).addCls(this.lastCls))}if(multiMove){if(range)range.setStartBefore(cells[fromIdx]),range.setEndAfter(cells[fromIdx+colsToMove-1]),fragment=range.extractContents();else for(j=0;j<colsToMove;j++)fragment.appendChild(cells[fromIdx]);
tr.insertBefore(fragment,cells[toIdx]||null)}else tr.insertBefore(cells[fromIdx],cells[toIdx]||null)}colCount=this.el.query('colgroup');i=0;for(len=colCount.length;i<len;i++)if(tr=colCount[i],multiMove){if(range)range.setStartBefore(tr.childNodes[fromIdx]),range.setEndAfter(tr.childNodes[fromIdx+colsToMove-1]),fragment=range.extractContents();else for(j=0;j<colsToMove;j++)fragment.appendChild(tr.childNodes[fromIdx]);tr.insertBefore(fragment,tr.childNodes[toIdx]||null)}else tr.insertBefore(tr.childNodes[fromIdx],
tr.childNodes[toIdx]||null)}},scrollToTop:Ext.emptyFn,addElListener:function(eventName,fn,scope){this.mon(this,eventName,fn,scope,{element:'el'})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(index){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(index)},getCell:function(record,column,returnElement){if(record=this.getRow(record))return'number'===typeof column&&(column=this.getHeaderAtIndex(column)),column=record.querySelector(column.getCellSelector()),
returnElement?Ext.get(column):column},getFeature:function(id){var features=this.featuresMC;if(features)return features.get(id)},findFeature:function(ftype){if(this.features)return Ext.Array.findBy(this.features,function(feature){if(feature.ftype===ftype)return!0})},initFeatures:function(grid){var len;this.tpl=this.lookupTpl('tpl');this.rowTpl=this.lookupTpl('rowTpl');this.addRowTpl(this.lookupTpl('outerRowTpl'));this.cellTpl=this.lookupTpl('cellTpl');this.featuresMC=new Ext.util.MixedCollection;var features=
this.features=this.constructFeatures();var i=0;for(len=features?features.length:0;i<len;i++){var feature=features[i];feature.view=this;feature.grid=grid;this.featuresMC.add(feature);feature.init(grid)}},renderTHead:function(values,out,parent){var headers=values.view.headerFns,len;if(headers){var i=0;for(len=headers.length;i<len;++i)headers[i].call(this,values,out,parent)}},addHeaderFn:function(fn){var headers=this.headerFns;headers||(headers=this.headerFns=[]);headers.push(fn)},renderTFoot:function(values,
out,parent){var footers=values.view.footerFns,len;if(footers){var i=0;for(len=footers.length;i<len;++i)footers[i].call(this,values,out,parent)}},addFooterFn:function(fn){var footers=this.footerFns;footers||(footers=this.footerFns=[]);footers.push(fn)},addTpl:function(newTpl){return this.insertTpl('tpl',newTpl)},addRowTpl:function(newTpl){return this.insertTpl('rowTpl',newTpl)},addCellTpl:function(newTpl){return this.insertTpl('cellTpl',newTpl)},insertTpl:function(which,newTpl){var tpl;newTpl=newTpl.isTemplate?
Ext.Object.chain(newTpl):new Ext.XTemplate('{%this.nextTpl.applyOut(values, out, parent);%}',newTpl);for(tpl=this[which];newTpl.priority<tpl.priority;tpl=tpl.nextTpl)var prevTpl=tpl;prevTpl?prevTpl.nextTpl=newTpl:this[which]=newTpl;newTpl.nextTpl=tpl;return newTpl},tplApplyOut:function(values,out,parent){this.before&&!1===this.before(values,out,parent)||(this.nextTpl.applyOut(values,out,parent),this.after&&this.after(values,out,parent))},constructFeatures:function(){var features=this.features,len;
if(features){var result=[];var i=0;for(len=features.length;i<len;i++){Ext.isString(features[i])&&(features[i]={ftype:features[i]});var feature=features[i];feature.isFeature||(feature=Ext.create('feature.'+feature.ftype,feature));result[i]=feature}}return result},beforeRender:function(){Ext.view.View.prototype.beforeRender.call(this);this.enableTextSelection||this.protoEl.unselectable()},updateScrollable:function(scrollable){var ownerGrid=this.grid.ownerGrid;!ownerGrid.lockable&&scrollable.isScroller&&
scrollable!==ownerGrid.scrollable&&(ownerGrid.scrollable=scrollable)},afterComponentLayout:function(width,height,oldWidth,oldHeight){var ownerGrid=this.grid.ownerGrid;ownerGrid.mixins.lockable&&ownerGrid.syncLockableLayout();Ext.view.View.prototype.afterComponentLayout.call(this,width,height,oldWidth,oldHeight)},getElConfig:function(){var config=Ext.view.View.prototype.getElConfig.call(this);delete config['aria-hidden'];delete config['aria-disabled'];return config},onBindStore:function(store){var bufferedRenderer=
this.bufferedRenderer;bufferedRenderer&&bufferedRenderer.store!==store&&bufferedRenderer.bindStore(store);this.all&&this.all.getCount()&&!this.grid.reconfiguring&&this.clearViewEl(!0);Ext.view.View.prototype.onBindStore.apply(this,arguments)},onOwnerGridHide:function(){var scroller=this.getScrollable(),bufferedRenderer=this.bufferedRederer;scroller&&scroller.suspendPartnerSync();bufferedRenderer&&bufferedRenderer.disable()},onOwnerGridShow:function(){var scroller=this.getScrollable(),bufferedRenderer=
this.bufferedRederer;scroller&&scroller.resumePartnerSync();bufferedRenderer&&bufferedRenderer.enable()},getStoreListeners:function(store){store=Ext.view.View.prototype.getStoreListeners.call(this,store);var dataSource=this.dataSource;dataSource&&dataSource.isFeatureStore&&(delete store.add,delete store.remove);this.bufferedRenderer&&delete store.clear;store.beforepageremove=this.beforePageRemove;return store},beforePageRemove:function(pageMap,pageNumber){var rows=this.all,pageSize=pageMap.getPageSize();
if(rows.startIndex>=(pageNumber-1)*pageSize&&rows.endIndex<=pageNumber*pageSize-1)return pageMap.get(pageNumber),!1},onViewScroll:function(scroller,x,y){this.destroyed||this.ignoreScroll||Ext.view.View.prototype.onViewScroll.call(this,scroller,x,y)},createRowElement:function(record,index,updateColumns){var div=this.renderBuffer;record=this.collectData([record],index);record.columns=updateColumns;this.tpl.overwrite(div,record);this.cleanupData();updateColumns=div.dom.querySelector(this.getNodeContainerSelector()).firstChild;
Ext.fly(updateColumns).saveTabbableState(this.saveTabOptions);return updateColumns},bufferRender:function(records,index){var div=this.renderBuffer,range=document.createRange?document.createRange():null;this.tpl.overwrite(div,this.collectData(records,index));this.cleanupData();div.saveTabbableState(this.saveTabOptions);div=div.dom.querySelector(this.getNodeContainerSelector());if(range)range.selectNodeContents(div),records=range.extractContents();else for(records=document.createDocumentFragment();div.firstChild;)records.appendChild(div.firstChild);
return{fragment:records,children:Ext.Array.toArray(records.childNodes)}},collectData:function(records,startIndex){var tableValues=this.tableValues;this.rowValues.view=this;tableValues.view=this;tableValues.rows=records;tableValues.columns=null;tableValues.viewStartIndex=startIndex;tableValues.tableStyle='width:'+this.headerCt.getTableWidth()+'px';return tableValues},cleanupData:function(){var tableValues=this.tableValues;tableValues.view=tableValues.columns=tableValues.rows=this.rowValues.view=null},
refreshSize:function(forceLayout){var bodySelector=this.getBodySelector(),lockingPartner=this.lockingPartner,restoreFocus;this.actionableMode||(restoreFocus=this.saveFocusState());bodySelector&&this.body.attach(this.el.dom.querySelector(bodySelector));this.hasLoadingHeight||(Ext.suspendLayouts(),Ext.view.View.prototype.refreshSize.call(this,forceLayout),(forceLayout||this.hasVariableRowHeight()&&this.dataSource.getCount())&&this.grid.updateLayout(),Ext.resumeLayouts(!lockingPartner||!lockingPartner.grid.isVisible()||
lockingPartner.all.getCount()===this.all.getCount()),restoreFocus&&restoreFocus())},isLayoutRoot:function(){return!1},clearViewEl:function(leaveNodeContainer){this.rendered&&(Ext.view.View.prototype.clearViewEl.call(this),leaveNodeContainer||(leaveNodeContainer=Ext.get(this.getNodeContainer()))&&leaveNodeContainer.dom!==this.getTargetEl().dom&&leaveNodeContainer.destroy())},getRefItems:function(deep){var rowContexts=this.ownerGrid.liveRowContexts,isLocked=!!this.isLockedView,result=Ext.view.View.prototype.getRefItems.call(this,
deep),i,recordId;for(recordId in rowContexts){var widgets=rowContexts[recordId].getWidgets();var widgetCount=widgets.length;for(i=0;i<widgetCount;i++){var widget=widgets[i];isLocked===widget.$fromLocked&&(result[result.length]=widget,deep&&widget.getRefItems&&result.push.apply(result,widget.getRefItems(!0)))}}return result},getMaskTarget:function(){return this.ownerCt.body},statics:{getBoundView:function(node){return Ext.getCmp(node.getAttribute('data-boundView'))}},getRecord:function(node){if(!this.store.destroyed){if(node.isModel)return node;
if(node=this.getNode(node))return this.dataSource.getByInternalId(node.getAttribute('data-recordId'))}},indexOf:function(node){return(node=this.getNode(node))||0===node?this.all.indexOf(node):-1},indexInStore:function(node){return node?this.dataSource.indexOf(this.getRecord(node)):-1},indexOfRow:function(record){var dataSource=this.dataSource;return record.isCollapsedPlaceholder?dataSource.indexOfPlaceholder(record):dataSource.indexOf(record)},renderRows:function(rows,columns,viewStartIndex,out){var rowValues=
this.rowValues,rowCount=rows.length;rowValues.view=this;rowValues.columns=columns;rowValues.rowRole=this.rowAriaRole;this.cellValues.cellRole=this.cellAriaRole;for(columns=0;columns<rowCount;columns++,viewStartIndex++)rowValues.itemClasses.length=rowValues.rowClasses.length=0,this.renderRow(rows[columns],viewStartIndex,out);rowValues.view=rowValues.columns=rowValues.record=null},renderColumnSizer:function(values,out){values=values.columns||this.getGridColumns();var len=values.length,i;out.push('\x3ccolgroup role\x3d"presentation"\x3e');
for(i=0;i<len;i++){var column=values[i];column=column.cellWidth?column.cellWidth:Ext.grid.header.Container.prototype.defaultWidth;out.push('\x3ccol role\x3d"presentation" class\x3d"','x-','grid-cell-',values[i].getItemId(),'" style\x3d"width:'+column+'px"\x3e')}out.push('\x3c/colgroup\x3e')},renderRow:function(record,rowIdx,out){var isMetadataRecord=-1===rowIdx,selModel=this.selectionModel,rowValues=this.rowValues,itemClasses=rowValues.itemClasses,rowClasses=rowValues.rowClasses,itemCls=this.itemCls,
rowTpl=this.rowTpl;rowValues.rowAttr={};rowValues.record=record;rowValues.recordId=record.internalId;rowValues.recordIndex=this.store.indexOf(record);rowValues.rowIndex=rowIdx;rowValues.rowId=this.getRowId(record);rowValues.itemCls=rowValues.rowCls='';rowValues.columns||(rowValues.columns=this.ownerCt.getVisibleColumnManager().getColumns());itemClasses.length=rowClasses.length=0;isMetadataRecord||(itemClasses[0]=itemCls,!this.ownerCt.disableSelection&&selModel.isRowSelected&&selModel.isRowSelected(record)&&
itemClasses.push(this.selectedItemCls),this.stripeRows&&0!==rowIdx%2&&itemClasses.push(this.altRowCls),this.getRowClass&&(record=this.getRowClass(record,rowIdx,null,this.dataSource))&&rowClasses.push(record));if(out)rowTpl.applyOut(rowValues,out,this.tableValues);else return rowTpl.apply(rowValues,this.tableValues)},renderCell:function(column,record,recordIndex,rowIndex,columnIndex,out){var renderer=column.renderer,selModel=this.selectionModel,cellValues=this.cellValues,classes=cellValues.classes,
fieldValue=record.data[column.dataIndex],cellTpl=this.cellTpl,enableTextSelection=column.enableTextSelection,lastFocused=this.navigationModel.getPosition();null==enableTextSelection&&(enableTextSelection=this.enableTextSelection);cellValues.record=record;cellValues.column=column;cellValues.recordIndex=recordIndex;cellValues.rowIndex=rowIndex;cellValues.columnIndex=cellValues.cellIndex=columnIndex;cellValues.align=column.textAlign;cellValues.innerCls=column.innerCls;cellValues.tdCls=cellValues.tdStyle=
cellValues.tdAttr=cellValues.style='';cellValues.unselectableAttr=enableTextSelection?'':'unselectable\x3d"on"';classes[1]=column.getCellId();rowIndex=2;renderer&&renderer.call?(columnIndex=4<renderer.length?this.ownerCt.columnManager.getHeaderIndex(column):columnIndex,renderer=renderer.call(column.usingDefaultRenderer?column:column.scope||this.ownerCt,fieldValue,cellValues,record,recordIndex,columnIndex,this.dataSource,this),cellValues.css&&(record.cssWarning=!0,cellValues.tdCls+=' '+cellValues.css,
cellValues.css=null),cellValues.tdCls&&(classes[rowIndex++]=cellValues.tdCls)):renderer=fieldValue;cellValues.value=null==renderer||0===renderer.length||Ext.isString(renderer)&&0===renderer.replace(/\s/g,'').length?column.emptyCellText:renderer;column.tdCls&&(classes[rowIndex++]=column.tdCls);this.markDirty&&record.dirty&&record.isModified(column.dataIndex)&&(classes[rowIndex++]=this.dirtyCls,column.dirtyTextElementId&&(cellValues.tdAttr=(cellValues.tdAttr?cellValues.tdAttr+' ':'')+'aria-describedby\x3d"'+
column.dirtyTextElementId+'"'));column.isFirstVisible&&(classes[rowIndex++]=this.firstCls);column.isLastVisible&&(classes[rowIndex++]=this.lastCls);enableTextSelection||(classes[rowIndex++]=this.unselectableCls);selModel&&(selModel.isCellModel||selModel.isSpreadsheetModel)&&selModel.isCellSelected(this,recordIndex,column)&&(classes[rowIndex++]=this.selectedCellCls);lastFocused&&lastFocused.record.id===record.id&&lastFocused.column===column&&(classes[rowIndex++]=this.focusedItemCls);classes.length=
rowIndex;cellValues.tdCls=classes.join(' ');cellTpl.applyOut(cellValues,out);cellValues.column=cellValues.record=null},getRow:function(nodeInfo){var rowSelector=this.rowSelector;if(!nodeInfo&&0!==nodeInfo||!this.rendered)return null;if(Ext.isString(nodeInfo))return(nodeInfo=Ext.getDom(nodeInfo))&&nodeInfo.querySelectorAll(rowSelector)[0];if(Ext.isNumber(nodeInfo))return(nodeInfo=this.all.item(nodeInfo,!0))&&nodeInfo.querySelectorAll(rowSelector)[0];if(nodeInfo.isModel)return this.getRowByRecord(nodeInfo);
nodeInfo=Ext.fly(nodeInfo.target||nodeInfo);return nodeInfo.is(this.itemSelector)?this.getRowFromItem(nodeInfo):nodeInfo.findParent(rowSelector,this.getTargetEl())},getRowId:function(record){return this.id+'-record-'+record.internalId},constructRowId:function(internalId){return this.id+'-record-'+internalId},getNodeById:function(id){id=this.constructRowId(id);return this.retrieveNode(id,!1)},getRowById:function(id){id=this.constructRowId(id);return this.retrieveNode(id,!0)},getNodeByRecord:function(record){return this.retrieveNode(this.getRowId(record),
!1)},getRowByRecord:function(record){return this.retrieveNode(this.getRowId(record),!0)},getRowFromItem:function(item){item=Ext.getDom(item).tBodies[0].childNodes;var len=item.length,i;for(i=0;i<len;i++)if(Ext.fly(item[i]).is(this.rowSelector))return item[i]},retrieveNode:function(id,dataRow){id=this.el.getById(id,!0);return dataRow&&id?id.querySelector(this.rowSelector,!0):id},updateIndexes:Ext.emptyFn,bodySelector:'div.x-grid-item-container',nodeContainerSelector:'div.x-grid-item-container',itemSelector:'table.x-grid-item',
rowSelector:'tr.x-grid-row',cellSelector:'td.x-grid-cell',sizerSelector:'.x-grid-cell',innerSelector:'div.x-grid-cell-inner',getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(header){header=this.sizerSelector+'-'+header.getItemId();return'td'+header+',col'+header},getItemSelector:function(){return this.itemSelector},getCellSelector:function(header){return header?header.getCellSelector():this.cellSelector},getCellInnerSelector:function(header){return this.getCellSelector(header)+
' '+this.innerSelector},addRowCls:function(rowInfo,cls){(rowInfo=this.getRow(rowInfo))&&Ext.fly(rowInfo).addCls(cls)},removeRowCls:function(rowInfo,cls){(rowInfo=this.getRow(rowInfo))&&Ext.fly(rowInfo).removeCls(cls)},onRowSelect:function(rowIdx){var rowNode;this.addItemCls(rowIdx,this.selectedItemCls);(rowNode=this.getRow(rowIdx))&&rowNode.setAttribute('aria-selected',!0);Ext.isIE8&&this.repaintBorder(rowIdx+1)},onRowDeselect:function(rowIdx){var rowNode;this.removeItemCls(rowIdx,this.selectedItemCls);
(rowNode=this.getRow(rowIdx))&&rowNode.removeAttribute('aria-selected');Ext.isIE8&&this.repaintBorder(rowIdx+1)},onCellSelect:function(position){if(position=this.getCellByPosition(position,!0))Ext.fly(position).addCls(this.selectedCellCls),position.setAttribute('aria-selected',!0)},onCellDeselect:function(position){if(position=this.getCellByPosition(position,!0))Ext.fly(position).removeCls(this.selectedCellCls),position.removeAttribute('aria-selected')},getCellInclusive:function(position,returnDom){if(position){var row=
this.getRow(position.row);if((position=this.ownerCt.getColumnManager().getHeaderAtIndex(position.column))&&row)return row=row.querySelector(this.getCellSelector(position)),returnDom?row:Ext.get(row)}return!1},getColumnByPosition:function(position){var column;if(position){if((column=position.column)&&!column.destroyed&&column.isColumn)return column;var view=position.view||this;column='number'===typeof column?column:position.colIdx;return view.getVisibleColumnManager().getHeaderAtIndex(column)}return!1},
getCellByPosition:function(position,returnDom){if(position){var view=position.view||this;var row=view.getRow(position.record||position.row);if((position=view.getColumnByPosition(position))&&row)return view=row.querySelector(view.getCellSelector(position)),returnDom?view:Ext.get(view)}return!1},onFocusEnter:function(e){var fromComponent=e.fromComponent,navigationModel=this.getNavigationModel();if(this.containsFocus)return Ext.Component.prototype.onFocusEnter.call(this,e);if(this.actionableMode){if(this.actionPosition){this.el.dom.setAttribute('tabIndex',
'-1');this.cellFocused=!0;return}this.ownerGrid.setActionableMode(!1)}e=e.event;if(!this.cellFocused&&this.all.getCount()&&this.dataSource.getCount()){var focusTarget=e.getTarget();if(focusTarget===this.el.dom){if('scrollbar'===this.lastFocused){e.relatedTarget&&e.relatedTarget.focus&&e.relatedTarget.focus();return}var focusPosition=this.getDefaultFocusPosition(fromComponent);if(!focusPosition){e.stopEvent();this.el.focus();return}focusTarget=null}else if(focusTarget===this.tabGuardEl)focusPosition=
(new Ext.grid.CellContext(this)).setPosition(this.all.endIndex,this.getVisibleColumnManager().getColumns().length-1),focusTarget=null;else if(fromComponent=e.getTarget(this.getCellSelector()))focusTarget===fromComponent?(focusPosition=(new Ext.grid.CellContext(this)).setPosition(this.getRecord(focusTarget),this.getHeaderByCell(fromComponent)),focusTarget=null):focusTarget&&Ext.fly(focusTarget).isFocusable()&&this.el.contains(focusTarget)&&(focusPosition=(new Ext.grid.CellContext(this)).setPosition(this.getRecord(focusTarget),
this.getHeaderByCell(fromComponent)))}focusPosition&&(this.toggleChildrenTabbability(!1),focusTarget&&(focusPosition.target=focusTarget,this.ownerGrid.setActionableMode(!0,focusPosition)&&(focusPosition=null)),focusPosition&&navigationModel.setPosition(focusPosition,null,e,null,!0),(this.cellFocused=this.el.contains(Ext.Element.getActiveElement()))&&this.el.dom.setAttribute('tabIndex','-1'));Ext.Component.prototype.onFocusEnter.call(this,e)},onFocusLeave:function(e){if(!this.destroying&&!this.refreshing){var isLeavingGrid=
!this.lockingPartner||!e.toComponent||e.toComponent!==this.lockingPartner&&!this.lockingPartner.isAncestor(e.toComponent);this.cellFocused&&(isLeavingGrid&&this.getNavigationModel().setPosition(null,null,e.event,null,!0),this.cellFocused=!1,this.focusEl=this.el,this.focusEl.dom.setAttribute('tabIndex',0));isLeavingGrid?this.ownerGrid.actionableMode&&(this.lastFocused=this.actionPosition,this.ownerGrid.setActionableMode(!1)):this.actionPosition=null;Ext.Component.prototype.onFocusLeave.call(this,e)}},
onRowFocus:function(rowIdx,highlight,suppressFocus){highlight?(this.addItemCls(rowIdx,this.focusedItemCls),suppressFocus||this.focusRow(rowIdx)):this.removeItemCls(rowIdx,this.focusedItemCls);Ext.isIE8&&this.repaintBorder(rowIdx+1)},focusRow:function(row,delay){var focusTask=this.getFocusTask();delay?focusTask.delay(Ext.isNumber(delay)?delay:10,this.focusRow,this,[row,!1]):(focusTask.cancel(),this.isVisible(!0)&&this.getNavigationModel().setPosition(this.getRecord(row)))},focusNode:function(row,delay){this.focusRow(row,
delay)},scrollRowIntoView:function(row,animate){(row=this.getRow(row))&&this.scrollElIntoView(row,!1,animate)},focusCell:function(position,delay){var focusTask=this.getFocusTask();delay?focusTask.delay(Ext.isNumber(delay)?delay:10,this.focusCell,this,[position,!1]):(focusTask.cancel(),this.isVisible(!0)&&this.getCellByPosition(position)&&this.getNavigationModel().setPosition(position))},findFocusPosition:function(from,currentPosition,forward,keyEvent){var cell=currentPosition.cellElement;keyEvent=
this.ownerGrid.actionables;var len=keyEvent.length;currentPosition=currentPosition.clone();var tabbableChildren=Ext.fly(cell).findTabbableElements();for(from=tabbableChildren[Ext.Array.indexOf(tabbableChildren,from)+(forward?1:-1)];!from&&(cell=cell[forward?'nextSibling':'previousSibling']);){currentPosition.setColumn(this.getHeaderByCell(cell));for(cell=0;cell<len;cell++)keyEvent[cell].activateCell(currentPosition);(cell=currentPosition.getCell(!0))&&(tabbableChildren=Ext.fly(cell).findTabbableElements()).length&&
(from=tabbableChildren[forward?0:tabbableChildren.length-1])}return{target:from,position:currentPosition}},getDefaultFocusPosition:function(fromComponent){var store=this.dataSource,focusPosition=this.lastFocused,newPosition=(new Ext.grid.CellContext(this)).setPosition(0,0);fromComponent&&(fromComponent.isColumn&&!1!==fromComponent.cellFocusable?(focusPosition||(focusPosition=newPosition),focusPosition.setColumn(fromComponent),focusPosition.setView(fromComponent.getView())):fromComponent.isTableView&&
fromComponent.lastFocused&&fromComponent.ownerGrid===this.ownerGrid&&(focusPosition=(new Ext.grid.CellContext(this)).setPosition(fromComponent.lastFocused.record,0)));focusPosition?(fromComponent=this.getScrollable(),(!store.contains(focusPosition.record)||fromComponent&&!fromComponent.isInView(focusPosition.getRow(!0)).y)&&focusPosition.setRow(store.getAt(Math.min(focusPosition.rowIdx,store.getCount()-1)))):(focusPosition=newPosition,(store=this.el.dom.querySelector(this.getCellSelector()+'[tabIndex\x3d"-1"]'))?
focusPosition.setPosition(this.getRecord(store),this.getHeaderByCell(store)):focusPosition=null);return focusPosition},getLastFocused:function(){var lastFocused=this.lastFocused;if(lastFocused&&lastFocused.record&&lastFocused.column&&-1!==this.dataSource.indexOf(lastFocused.record)&&-1!==this.getVisibleColumnManager().indexOf(lastFocused.column)&&this.getNode(lastFocused.record))return lastFocused},scrollCellIntoView:function(cell,animate){cell.isCellContext&&(cell=this.getCellByPosition(cell));cell&&
this.scrollElIntoView(cell,null,animate)},scrollElIntoView:function(el,hscroll,animate){var scroller=this.getScrollable();scroller&&scroller.ensureVisible(el,{animation:animate,x:hscroll})},syncRowHeightBegin:function(){var itemEls=this.all,ln=itemEls.count,synchronizer=[],RowSynchronizer=Ext.grid.locking.RowSynchronizer,j,rowSync;var i=0;for(j=itemEls.startIndex;i<ln;i++,j++)synchronizer[i]=rowSync=new RowSynchronizer(this,itemEls.elements[j]),rowSync.reset();return synchronizer},syncRowHeightClear:function(synchronizer){var ln=
this.all.count,i;for(i=0;i<ln;i++)synchronizer[i].reset()},syncRowHeightMeasure:function(synchronizer){var ln=synchronizer.length,i;for(i=0;i<ln;i++)synchronizer[i].measure()},syncRowHeightFinish:function(synchronizer,otherSynchronizer){var ln=synchronizer.length,bufferedRenderer=this.bufferedRenderer,i;for(i=0;i<ln;i++)synchronizer[i].finish(otherSynchronizer[i]);bufferedRenderer&&bufferedRenderer.syncRowHeightsFinish()},refreshNode:function(record){Ext.isNumber(record)&&(record=this.store.getAt(record));
this.handleUpdate(this.dataSource,record,null,null,null,!0)},handleUpdate:function(store,record,operation,changedFieldNames,info,allColumns){store=this.store.indexOf(record);var rowTpl=this.rowTpl;info=this.markDirty;var dirtyCls=this.dirtyCls,columnsToUpdate=[],hasVariableRowHeight=this.variableRowHeight,updateTypeFlags=0,ownerCt=this.ownerCt,cellFly=this.cellFly||(this.self.prototype.cellFly=new Ext.dom.Fly),oldDataRow,attLen,attrIndex;operation=operation||Ext.data.Model.EDIT;var clearDirty=operation!==
Ext.data.Model.EDIT;if(this.viewReady){this.updatingRows=!0;if(operation=this.getNodeByRecord(record)){if(record.isCollapsedPlaceholder){Ext.fly(operation).syncContent(this.createRowElement(record,this.indexOfRow(record)));return}var overItemCls=this.overItemCls;var columns=this.ownerCt.getVisibleColumnManager().getColumns();if(allColumns)columnsToUpdate=columns,updateTypeFlags=1;else{var attName=0;for(attLen=columns.length;attName<attLen;attName++)if(allColumns=columns[attName],allColumns.preventUpdate)(attrIndex=
operation.querySelector(allColumns.getCellSelector()))&&!clearDirty&&info&&(cellFly.attach(attrIndex),record.isModified(allColumns.dataIndex)?(cellFly.addCls(dirtyCls),allColumns.dirtyTextElementId&&attrIndex.setAttribute('aria-describedby',allColumns.dirtyTextElementId)):(cellFly.removeCls(dirtyCls),attrIndex.removeAttribute('aria-describedby')));else if(attrIndex=this.shouldUpdateCell(record,allColumns,changedFieldNames))updateTypeFlags|=attrIndex,columnsToUpdate[columnsToUpdate.length]=allColumns,
hasVariableRowHeight=hasVariableRowHeight||allColumns.variableRowHeight}this.hasListeners.beforeitemupdate&&this.fireEvent('beforeitemupdate',record,store,operation,columnsToUpdate);if(this.getRowClass||!this.getRowFromItem(operation)||updateTypeFlags&1||1<operation.tBodies[0].childNodes.length){cellFly=operation._extData;ownerCt=this.createRowElement(record,this.indexOfRow(record),columnsToUpdate);Ext.fly(operation,'_internal').hasCls(overItemCls)&&Ext.fly(ownerCt).addCls(overItemCls);if(Ext.isIE9m&&
operation.mergeAttributes)operation.mergeAttributes(ownerCt,!0);else for(allColumns=ownerCt.attributes,attLen=allColumns.length,attrIndex=0;attrIndex<attLen;attrIndex++)attName=allColumns[attrIndex].name,overItemCls=allColumns[attrIndex].value,'id'!==attName&&operation.getAttribute(attName)!==overItemCls&&operation.setAttribute(attName,overItemCls);cellFly&&(cellFly.isSynchronized=!1);for(columns.length&&(oldDataRow=this.getRow(operation))&&this.updateColumns(oldDataRow,ownerCt.querySelector(this.rowSelector),
columnsToUpdate,record);rowTpl&&(!rowTpl.syncContent||!1!==rowTpl.syncContent(operation,ownerCt,changedFieldNames?columnsToUpdate:null));)rowTpl=rowTpl.nextTpl}else for(attName=0,attLen=columnsToUpdate.length;attName<attLen;attName++)allColumns=columnsToUpdate[attName],changedFieldNames=allColumns.dataIndex,overItemCls=record.get(changedFieldNames),attrIndex=operation.querySelector(allColumns.getCellSelector()),cellFly.attach(attrIndex),!clearDirty&&info&&(record.isModified(allColumns.dataIndex)?
(cellFly.addCls(dirtyCls),allColumns.dirtyTextElementId&&attrIndex.setAttribute('aria-describedby',allColumns.dirtyTextElementId)):(cellFly.removeCls(dirtyCls),attrIndex.removeAttribute('aria-describedby'))),changedFieldNames=(changedFieldNames=allColumns.usingDefaultRenderer)?allColumns:allColumns.scope,allColumns.updater?Ext.callback(allColumns.updater,changedFieldNames,[attrIndex,overItemCls,record,this,this.dataSource],0,allColumns,ownerCt):(allColumns.renderer&&(overItemCls=Ext.callback(allColumns.renderer,
changedFieldNames,[overItemCls,null,record,0,0,this.dataSource,this],0,allColumns,ownerCt)),overItemCls=(changedFieldNames=null==overItemCls||0===overItemCls.length||Ext.isString(overItemCls)&&0===overItemCls.replace(/\s/g,'').length)?allColumns.emptyCellText:overItemCls,allColumns.producesHTML||changedFieldNames?attrIndex.querySelector(this.innerSelector).innerHTML=overItemCls:attrIndex.querySelector(this.innerSelector).childNodes[0].data=overItemCls),this.highlightClass&&(Ext.fly(attrIndex).addCls(this.highlightClass),
this.changedCells||(this.self.prototype.changedCells=[],this.prototype.clearChangedTask=new Ext.util.DelayedTask(this.clearChangedCells,this.prototype),this.clearChangedTask.delay(this.unhighlightDelay)),this.changedCells.push({cell:attrIndex,cls:this.highlightClass,expires:Ext.Date.now()+1E3}));clearDirty&&info&&!record.dirty&&Ext.fly(operation,'_internal').select('.'+dirtyCls).removeCls(dirtyCls).set({'aria-describedby':void 0});hasVariableRowHeight&&Ext.suspendLayouts();this.hasListeners.itemupdate&&
this.fireEvent('itemupdate',record,store,operation,this);hasVariableRowHeight&&(this.ownerGrid.updateLayout(),Ext.resumeLayouts(!0))}this.updatingRows=!1}},clearChangedCells:function(){var now=Ext.Date.now(),len;for(len=this.changedCells.length;0<len;){var changedCell=this.changedCells[0];if(changedCell.expires<=now)Ext.fly(changedCell.cell).removeCls(changedCell.highlightClass),Ext.Array.erase(this.changedCells,0,1),len--;else break}len&&this.clearChangedTask.delay(this.unhighlightDelay)},updateColumns:function(oldRow,
newRow,columnsToUpdate,record){this.getCellSelector();var colCount=columnsToUpdate.length,attrIndex,colIndex;if(oldRow.mergeAttributes)oldRow.mergeAttributes(newRow,!0);else{var newAttrs=newRow.attributes;var attLen=newAttrs.length;for(attrIndex=0;attrIndex<attLen;attrIndex++){var attName=newAttrs[attrIndex].name;var value=newAttrs[attrIndex].value;'id'!==attName&&oldRow.getAttribute(attName)!==value&&oldRow.setAttribute(attName,value)}}if(newAttrs=oldRow._extData)newAttrs.isSynchronized=!1;for(colIndex=
0;colIndex<colCount;colIndex++){var column=columnsToUpdate[colIndex];var cellSelector=this.getCellSelector(column);var oldCell=oldRow.querySelector(cellSelector);cellSelector=newRow.querySelector(cellSelector);newAttrs=cellSelector.attributes;attLen=newAttrs.length;for(attrIndex=0;attrIndex<attLen;attrIndex++)attName=newAttrs[attrIndex].name,value=newAttrs[attrIndex].value,'id'!==attName&&oldCell.getAttribute(attName)!==value&&oldCell.setAttribute(attName,value);if(newAttrs=oldCell._extData)newAttrs.isSynchronized=
!1;this.oldCellFly.attach(oldCell.querySelector(this.innerSelector)).syncContent(cellSelector.querySelector(this.innerSelector));if(record&&column.onItemAdd)column.onItemAdd([record])}},shouldUpdateCell:function(record,column,changedFieldNames){return column.shouldUpdateCell(record,changedFieldNames)},refresh:function(){this.destroying||(this.getVisibleColumnManager().getColumns().length?(Ext.view.View.prototype.refresh.apply(this,arguments),this.headerCt.setSortState()):(this.refreshCounter&&this.clearViewEl(!0),
this.addEmptyText()))},processContainerEvent:function(e){if((e=Ext.Component.from(e.target.parentNode))&&e.up(this.ownerCt))return!1},processItemEvent:function(record,item,rowIndex,e){var self=this.self,map=self.EventMap,type=e.type,features=this.features,len=features.length,i;var result=e.position=this.eventPosition||(this.eventPosition=new Ext.grid.CellContext);if(Ext.isIE&&'mouseup'===type&&!e.within(this.el))return!1;if(-1!==this.indexInStore(item)){var row=result.rowElement=item.querySelector(this.rowSelector);
var cell=e.getTarget(this.getCellSelector(),row);type=self.TouchEventMap[type]||type;if(cell){if(!cell.parentNode)return!1;(i=this.getHeaderByCell(cell))?self=this.ownerCt.getColumnManager().getHeaderIndex(i):(i=cell=null,self=-1)}else self=-1;result.setAll(this,rowIndex,i?this.getVisibleColumnManager().getHeaderIndex(i):-1,record,i);result.cellElement=cell;result=this.fireEvent('uievent',type,this,cell,rowIndex,self,e,record,row);if(!1===result||!1===Ext.view.View.prototype.processItemEvent.apply(this,
arguments))return!1;for(i=0;i<len;++i){var feature=features[i];if(feature.wrapsItem&&!1===feature.vetoEvent(record,row,rowIndex,e))return this.processSpecialEvent(e),!1}cell&&'mouseover'!==type&&'mouseout'!==type&&(result=!(!1===this['onBeforeCell'+map[type]](cell,self,record,row,rowIndex,e)||!1===this.fireEvent('beforecell'+type,this,cell,self,record,row,rowIndex,e)||!1===this['onCell'+map[type]](cell,self,record,row,rowIndex,e)||!1===this.fireEvent('cell'+type,this,cell,self,record,row,rowIndex,
e)));!1!==result&&(result=this.fireEvent('row'+type,this,record,row,rowIndex,e));return result}this.processSpecialEvent(e);'mouse'===e.pointerType&&e.preventDefault();return!1},processSpecialEvent:function(e){var features=this.features,ln=features.length,type=e.type,i,featureTarget,panel=this.ownerCt;Ext.view.View.prototype.processSpecialEvent.apply(this,arguments);if('mouseover'!==type&&'mouseout'!==type){type=this.self.TouchEventMap[type]||type;for(i=0;i<ln;i++){var feature=features[i];if(feature.hasFeatureEvent&&
(featureTarget=e.getTarget(feature.eventSelector,this.getTargetEl()))){var prefix=feature.eventPrefix;var beforeArgs=feature.getFireEventArgs('before'+prefix+type,this,featureTarget,e);feature=feature.getFireEventArgs(prefix+type,this,featureTarget,e);if(!1===this.fireEvent.apply(this,beforeArgs)||!1===panel.fireEvent.apply(panel,beforeArgs)||!1===this.fireEvent.apply(this,feature)||!1===panel.fireEvent.apply(panel,feature))return!1}}return!0}},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,
onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onCellKeyUp:Ext.emptyFn,onCellKeyPress:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,onBeforeCellKeyUp:Ext.emptyFn,onBeforeCellKeyPress:Ext.emptyFn,expandToFit:function(header){this.autoSizeColumn(header)},
autoSizeColumn:function(header){Ext.isNumber(header)&&(header=this.getGridColumns()[header]);header&&(header.isGroupHeader?header.autoSize():(delete header.flex,header.setWidth(this.getMaxContentWidth(header))))},getMaxContentWidth:function(header){var cells=this.getHeaderCells(header),originalWidth=header.getWidth(),columnSizers=this.getColumnResizers(header),ln=cells.length,max=Math.max,widthAdjust=0,i;0<ln&&(Ext.supports.ScrollWidthInlinePaddingBug&&(widthAdjust+=this.getCellPaddingAfter(cells[0])),
this.columnLines&&(widthAdjust+=Ext.fly(cells[0].parentNode).getBorderWidth('lr')));for(i=0;i<columnSizers.length;i++)columnSizers[i].setWidth(1);header.textEl.setStyle({'text-overflow':'clip',display:'table-cell'});var maxWidth=header.textEl.dom.offsetWidth+header.titleEl.getPadding('lr');header.textEl.setStyle({'text-overflow':'',display:''});for(i=0;i<ln;i++)maxWidth=max(maxWidth,cells[i].scrollWidth);maxWidth=max(maxWidth+widthAdjust+1,40);for(i=0;i<columnSizers.length;i++)columnSizers[i].setWidth(originalWidth);
return maxWidth},getColumnResizers:function(header){var features=this.features||[],resizers=[this.body.select(this.getColumnSizerSelector(header))],featureSizer,i;for(i=0;i<features.length;i++)(featureSizer=features[i].columnSizer)&&resizers.push(featureSizer.select(this.getColumnSizerSelector(header)));return resizers},getHeaderCells:function(header){var features=this.features||[],headerCells=this.el.query(header.getCellInnerSelector()),featureSizer,i;for(i=0;i<features.length;i++)(featureSizer=
features[i].columnSizer)&&(headerCells=headerCells.concat(featureSizer.query(header.getCellInnerSelector())));return headerCells},getPositionByEvent:function(e){var cellNode=e.getTarget(this.cellSelector);e=e.getTarget(this.itemSelector);e=this.getRecord(e);cellNode=this.getHeaderByCell(cellNode);return this.getPosition(e,cellNode)},getHeaderByCell:function(cell){return cell?this.ownerGrid.getVisibleColumnManager().getHeaderById(Ext.getDom(cell).getAttribute('data-columnId')):!1},walkCells:function(pos,
direction,verifierFn,scope){var result=pos.clone(),lockingPartner=this.lockingPartner&&this.lockingPartner.grid.isVisible()?this.lockingPartner:null,rowIdx=pos.rowIdx,maxRowIdx=this.dataSource.getCount()-1,columns=this.ownerCt.getVisibleColumnManager().getColumns();switch(direction.toLowerCase()){case 'right':if(pos.isLastColumn()){rowIdx=lockingPartner&&this.isLockedView?rowIdx:rowIdx+1;if(rowIdx>maxRowIdx)return!1;lockingPartner&&(result.view=lockingPartner);result.setPosition(rowIdx,0)}else result.navigate(1);
break;case 'left':if(pos.isFirstColumn()){rowIdx=lockingPartner&&this.isNormalView?rowIdx:rowIdx-1;if(0>rowIdx)return!1;lockingPartner&&(result.view=lockingPartner,columns=lockingPartner.getVisibleColumnManager().getColumns());result.setPosition(rowIdx,columns[columns.length-1])}else result.navigate(-1);break;case 'up':if(0===rowIdx)return!1;result.setRow(rowIdx-1);break;case 'down':if(rowIdx===maxRowIdx)return!1;result.setRow(rowIdx+1)}return verifierFn&&!0!==verifierFn.call(scope||this,result)?
!1:result},walkRows:function(startRow,distance){var store=this.dataSource,moved=0,lastValid=startRow,node,increment=(store=0>distance?0:store.getCount()-1)?1:-1;do{if(store?startRow>=store:startRow<=store)return lastValid||store;startRow+=increment;(node=Ext.fly(this.getRow(startRow)))&&node.isVisible(!0)&&(moved+=increment,lastValid=startRow)}while(moved!==distance);return startRow},walkRecs:function(startRec,distance){var store=this.dataSource,moved=0,lastValid=startRec,limit=0>distance?0:(store.isBufferedStore?
store.getTotalCount():store.getCount())-1,increment=limit?1:-1;startRec=store.indexOf(startRec);var node;do{if(limit?startRec>=limit:startRec<=limit)break;startRec+=increment;var rec=store.getAt(startRec);!rec.isCollapsedPlaceholder&&(node=Ext.fly(this.getNodeByRecord(rec)))&&node.isVisible(!0)&&(moved+=increment,lastValid=rec)}while(moved!==distance);return lastValid},getFirstVisibleRowIndex:function(){var result=this.indexOf(this.all.first())-1;var count=this.dataSource.isBufferedStore?this.dataSource.getTotalCount():
this.dataSource.getCount();do if(result+=1,result===count)return;while(!Ext.fly(this.getRow(result)).isVisible(!0));return result},getLastVisibleRowIndex:function(){var result=this.indexOf(this.all.last());do if(--result,-1===result)return;while(!Ext.fly(this.getRow(result)).isVisible(!0));return result},getHeaderCt:function(){return this.headerCt},getPosition:function(record,header){return(new Ext.grid.CellContext(this)).setPosition(record,header)},doDestroy:function(){var features=this.featuresMC,
feature,len;this.bindStore(null);if(features){var i=0;for(len=features.getCount();i<len;++i)(feature=features.getAt(i))&&!feature.destroyed&&feature.destroy()}this.all.destroy();this.body.destroy();this.actionRowFly.destroy();Ext.view.View.prototype.doDestroy.call(this)},onReplace:function(store,startIndex,oldRecords,newRecords){var bufferedRenderer=this.bufferedRenderer;if(this.rendered&&bufferedRenderer){var restoreFocus=this.saveFocusState();bufferedRenderer.onReplace(store,startIndex,oldRecords,
newRecords);restoreFocus()}else Ext.view.View.prototype.onReplace.apply(this,arguments);this.setPendingStripe(startIndex)},onResize:function(width,height,oldWidth,oldHeight){var bufferedRenderer=this.bufferedRenderer;if(bufferedRenderer)bufferedRenderer.onViewResize(this,width,height,oldWidth,oldHeight);Ext.view.View.prototype.onResize.call(this,width,height,oldWidth,oldHeight)},onAdd:function(store,records,index){var bufferedRenderer=this.bufferedRenderer;this.addingRows=!0;if(this.rendered&&bufferedRenderer&&
(bufferedRenderer.bodyTop||this.dataSource.getCount()+records.length>=bufferedRenderer.viewSize))bufferedRenderer.onReplace(store,index,[],records);else Ext.view.View.prototype.onAdd.apply(this,arguments);this.setPendingStripe(index);this.addingRows=!1},onRemove:function(store,records,index){var bufferedRenderer=this.bufferedRenderer;if(this.rendered&&bufferedRenderer&&this.dataSource.getCount()+records.length>=bufferedRenderer.viewSize){var restoreFocus=this.saveFocusState();bufferedRenderer.onReplace(store,
index,records,[]);restoreFocus()}else Ext.view.View.prototype.onRemove.apply(this,arguments);this.actionPosition&&-1!==Ext.Array.indexOf(records,this.actionPosition.record)&&(this.actionPosition=null);this.setPendingStripe(index)},saveFocusState:function(){var me=this,store=me.dataSource,actionableMode=me.actionableMode,navModel=me.getNavigationModel(),focusPosition=actionableMode?me.actionPosition:navModel.getPosition(!0),activeElement=Ext.fly(Ext.Element.getActiveElement()),focusCell=focusPosition&&
focusPosition.view===me&&Ext.fly(focusPosition.getCell(!0)),refocusRow,refocusCol,newRecord;if(!me.skipSaveFocusState&&focusCell&&focusCell.contains(activeElement)){focusPosition=focusPosition.clone();activeElement.suspendFocusEvents();if(actionableMode&&focusCell.dom!==activeElement.dom){var oldRecord=focusPosition.record;me.suspendActionableMode()}else actionableMode=!1,navModel.setPosition();activeElement.resumeFocusEvents();return!actionableMode&&store.isExpandingOrCollapsing?Ext.emptyFn:function(){store=
me.dataSource;if(store.getCount()){var all=me.all;refocusRow=Math.min(Math.max(focusPosition.rowIdx,all.startIndex),all.endIndex);refocusCol=Math.min(focusPosition.colIdx,me.getVisibleColumnManager().getColumns().length-1);oldRecord=focusPosition.record;focusPosition=(new Ext.grid.CellContext(me)).setPosition(oldRecord&&store.contains(oldRecord)&&!oldRecord.isCollapsedPlaceholder?oldRecord:refocusRow,refocusCol);newRecord=focusPosition.record;focusPosition.getCell(!0)&&(actionableMode&&oldRecord&&
newRecord&&oldRecord.getId()===newRecord.getId()?me.resumeActionableMode(focusPosition):(actionableMode&&me.setActionableMode(!1),navModel.setPosition(focusPosition,null,null,null,!0),navModel.getPosition()||focusPosition.column.focus()))}else focusPosition.column.focus()}}return Ext.emptyFn},onDataRefresh:function(store){var owner=this.ownerCt;if(owner&&2===owner.isCollapsingOrExpanding)owner.on('expand',this.onDataRefresh,this,{single:!0});else Ext.view.View.prototype.onDataRefresh.call(this,store)},
getViewRange:function(){return this.bufferedRenderer?this.bufferedRenderer.getViewRange():Ext.view.View.prototype.getViewRange.call(this)},setPendingStripe:function(index){var current=this.stripeOnUpdate;this.stripeOnUpdate=current=null===current?index:Math.min(current,index)},onEndUpdate:function(){var stripeOnUpdate=this.stripeOnUpdate,startIndex=this.all.startIndex;this.rendered&&(stripeOnUpdate||0===stripeOnUpdate)&&(stripeOnUpdate<startIndex&&(stripeOnUpdate=startIndex),this.doStripeRows(stripeOnUpdate),
this.stripeOnUpdate=null);Ext.view.View.prototype.onEndUpdate.apply(this,arguments)},doStripeRows:function(startRow,endRow){var rowsLn;if(this.rendered&&this.stripeRows){endRow=this.getNodes(startRow,endRow);var i=0;for(rowsLn=endRow.length;i<rowsLn;i++){var row=endRow[i];row.className=row.className.replace(this.rowClsRe,' ');startRow++;0===startRow%2&&(row.className+=' '+this.altRowCls)}}},hasActiveFeature:function(){return this.isGrouping&&this.store.isGrouped()||this.isRowWrapped},getCellPaddingAfter:function(cell){return Ext.fly(cell).getPadding('r')},
privates:{saveTabOptions:{skipSelf:!0,includeHidden:!0},collectNodes:function(targetEl){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},setActionableMode:function(enabled,position){var navModel=this.getNavigationModel(),actionables=this.grid.actionables,len=actionables.length,isActionable=!1,lockingPartner;if(this.actionableMode===enabled&&(!enabled||position.isEqual(this.actionPosition)))return!1;if(enabled)return position&&(position.view===this||position.view===(lockingPartner=
this.lockingPartner)&&lockingPartner.actionableMode)&&(isActionable=this.activateCell(position)),isActionable;isActionable=Ext.fly(Ext.Element.getActiveElement());this.el.contains(isActionable)&&!Ext.fly(isActionable).is(this.getCellSelector())&&(enabled=this.actionPosition&&this.actionPosition.record||this.getRecord(isActionable),isActionable=this.getHeaderByCell(isActionable.findParent(this.getCellSelector())),lockingPartner=position&&position.getCell(!0),position&&lockingPartner||(position=(new Ext.grid.CellContext(this)).setPosition(enabled||
0,isActionable||0),lockingPartner=position.getCell(!0)),Ext.fly(lockingPartner).focus(),isActionable=Ext.fly(Ext.Element.getActiveElement()),this.el.contains(isActionable)&&isActionable.is(this.getCellSelector())||(position=null));for(enabled=0;enabled<len;enabled++)actionables[enabled].deactivate&&actionables[enabled].deactivate();this.actionRow&&this.actionRow.saveTabbableState({skipSelf:!0,includeSaved:!1});if(this.destroyed)return!1;this.actionableMode=this.ownerGrid.actionableMode=!1;this.actionPosition=
navModel.actionPosition=this.actionRow=null;position&&navModel.setPosition(position)},activateCell:function(position){var lockingPartner=position.view!==this?this.lockingPartner:null,actionables=this.grid.actionables,len=actionables.length,navModel=this.getNavigationModel(),focusTarget=position.target,prevRow,tabbableChildren;position=position.clone();position.view.grid.ensureVisible(position.record,{column:position.column});var focusRow=this.all.item(position.rowIdx,!0);this.actionPosition&&(prevRow=
this.all.item(this.actionPosition.rowIdx,!0))&&focusRow!==prevRow&&Ext.fly(prevRow).saveTabbableState({skipSelf:!0,includeSaved:!1});this.activating=!0;if(!lockingPartner){Ext.fly(position.getCell(!0));this.actionPosition=position;for(prevRow=0;prevRow<len;prevRow++)var isActionable=isActionable||actionables[prevRow].activateCell(position,null,!0);var focusCell=Ext.fly(position.getCell(!0))}if(lockingPartner||focusCell&&focusCell.restoreTabbableState({skipSelf:!0}).length|(tabbableChildren=focusCell.findTabbableElements()).length||
isActionable){for(prevRow=0;prevRow<len;prevRow++)actionables[prevRow].activateRow&&actionables[prevRow].activateRow(focusRow);if(lockingPartner||tabbableChildren.length){Ext.fly(focusRow).restoreTabbableState({skipSelf:!0});if(lockingPartner)return this.actionableMode=!0,this.actionPosition=null,this.activating=!1,!0;if(tabbableChildren)return this.actionRow=this.actionRowFly.attach(focusRow),this.actionableMode=this.ownerGrid.actionableMode=!0,navModel.setPosition(),navModel.actionPosition=this.actionPosition=
position,focusTarget&&Ext.Array.contains(tabbableChildren,focusTarget)?Ext.fly(focusTarget).focus():Ext.fly(tabbableChildren[0]).focus(),this.activating=!1,!0}}this.activating=!1},suspendActionableMode:function(){var actionables=this.grid.actionables,len=actionables.length,i;for(i=0;i<len;i++)actionables[i].suspend()},resumeActionableMode:function(position){var actionables=this.grid.actionables,len=actionables.length,i;this.toggleChildrenTabbability(!1);for(i=0;i<len;i++)var activated=activated||
actionables[i].resume(position);activated||this.activateCell(position)},onRowExit:function(keyEvent,prevRow,newRow,forward,wrapDone){var me=this,direction=forward?'nextSibling':'previousSibling',lockingPartner=me.lockingPartner;lockingPartner&&lockingPartner.grid.isVisible()&&(newRow=me.all.indexOf(prevRow),forward?me.isNormalView&&newRow++:me.isLockedView&&newRow--,me.actionPosition=null,me=lockingPartner,newRow=me.all.item(newRow,!0));if(me.hasListeners.beforerowexit&&!1===me.fireEvent('beforerowexit',
me,keyEvent,prevRow,newRow,forward))return!1;me.findFirstActionableElement(keyEvent,newRow,direction,forward,wrapDone)},findFirstActionableElement:function(keyEvent,focusRow,direction,forward,wrapDone){var me=this,columns=me.getVisibleColumnManager().getColumns(),columnCount=columns.length,actionables=me.grid.actionables,actionableCount=actionables.length,position=new Ext.grid.CellContext(me),i;if(focusRow){position.setRow(focusRow);for(i=0;i<actionableCount;i++)actionables[i].activateRow&&actionables[i].activateRow(focusRow);
for(i=forward?0:columnCount-1;(forward?i<columnCount:-1<i)&&!focusTarget;i+=forward?1:-1){var focusCell=columns[i];position.setColumn(focusCell);focusCell=(focusRow.dom||focusRow).querySelector(position.column.getCellSelector());for(focusCell=0;focusCell<actionableCount;focusCell++)var isActionable=isActionable||actionables[focusCell].activateCell(position);if(focusCell=Ext.fly(position.getCell(!0)))if(focusRow=position.getNode(!0),focusCell.restoreTabbableState({skipSelf:!0}),(focusCell=focusCell.findTabbableElements()).length||
isActionable){var prevRow=me.actionRow&&me.actionRow.dom;me.actionRow=me.actionRowFly.attach(focusRow);me.actionRow.restoreTabbableState({skipSelf:!0});var focusTarget=focusCell[forward?0:focusCell.length-1]}}if(focusTarget)me.actionPosition=me.getNavigationModel().actionPosition=position,Ext.fly(focusTarget).focus(Ext.asyncFocus?1:0),prevRow&&focusRow!==prevRow&&Ext.fly(prevRow).saveTabbableState({skipSelf:!0,includeSaved:!1});else me.onRowExit(keyEvent,focusRow,me.all.item(position.rowIdx+(forward?
1:-1)),forward,wrapDone)}else wrapDone?me.ownerGrid.setActionableMode(!1):me.grid.ensureVisible(forward?0:me.dataSource.getCount()-1,{callback:function(success,record,row){success?me.findFirstActionableElement(keyEvent,row,direction,forward,!0):me.ownerGrid.setActionableMode(!1)}})},stretchHeight:function(height){var scroller=this.getScrollable(),stretchers=this.stretchers;if(height&&this.tabGuardEl){stretchers&&(stretchers[0].style.marginTop=stretchers[1].style.marginTop=this.el.dom.style.height=
0);this.el.dom.style.height=scroller.constrainScrollRange(height)+'px';var shortfall=height-this.el.dom.offsetHeight;0<shortfall&&(this.el.dom.style.height='',stretchers=this.getStretchers(),shortfall=height-this.el.dom.offsetHeight,0<shortfall&&(stretchers[0].style.marginTop=scroller.constrainScrollRange(shortfall)+'px',shortfall=height-this.el.dom.offsetHeight,0<shortfall&&(stretchers[1].style.marginTop=Math.min(shortfall,scroller.maxSpacerMargin||0)+'px')))}},getStretchers:function(){var stretchers=
this.stretchers;stretchers?this.el.appendChild(stretchers):(stretchers={cls:'x-scroller-spacer',style:'position:relative'},stretchers=this.stretchers=this.el.appendChild([stretchers,stretchers],!0));return stretchers}}},1,['gridview','tableview'],['component','box','dataview','tableview','gridview'],{component:!0,box:!0,dataview:!0,tableview:!0,gridview:!0},['widget.gridview','widget.tableview'],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.view,
'Table',Ext.grid,'View'],function(Table){Table.prototype.oldCellFly=new Ext.dom.Fly});
Ext.define('Ext.theme.material.view.Table',{override:'Ext.view.Table',mixins:[Ext.mixin.ItemRippler],config:{itemRipple:{color:'default'}},processItemEvent:function(record,item,rowIndex,e){var eventPosition;var result=(arguments.callee.$previous||Ext.view.View.prototype.processItemEvent).call(this,record,item,rowIndex,e);if('mousedown'===e.type){var rowElement=(eventPosition=this.eventPosition)&&this.eventPosition.rowElement;eventPosition=eventPosition&&this.eventPosition.cellElement;var selModel=
this.getSelectionModel().type;rowElement&&'rowmodel'===selModel?this.rippleItem(Ext.fly(rowElement),e):eventPosition&&'cellmodel'===selModel&&this.rippleItem(Ext.fly(eventPosition),e)}return result}});
Ext.cmd.derive('Ext.grid.Panel',Ext.panel.Table,{alternateClassName:['Ext.list.ListView','Ext.ListView','Ext.grid.GridPanel'],viewType:'tableview',ariaRole:'grid',lockable:!1,rowLines:!0},0,['grid','gridpanel'],'component box container panel tablepanel gridpanel grid'.split(' '),{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0,gridpanel:!0,grid:!0},['widget.grid','widget.gridpanel'],0,[Ext.grid,'Panel',Ext.list,'ListView',Ext,'ListView',Ext.grid,'GridPanel'],0);
Ext.cmd.derive('Ext.grid.RowContext',Ext.Base,{constructor:function(config){Ext.apply(this,config);this.widgets={};this.usage=0},setRecord:function(record,recordIndex){var viewModel=this.viewModel;this.record=record;this.recordIndex=recordIndex;viewModel&&(viewModel.set('record',record),viewModel.set('recordIndex',recordIndex))},attach:function(view){var was=this.usage;this.usage|=view.usageBitMask;return!was},detach:function(view){var widgets=this.widgets,usageBitMask=view.usageBitMask,viewModel=
this.viewModel,widgetId;if(!(this.usage&usageBitMask))return!1;this.usage&=~usageBitMask;if(usageBitMask=!this.usage)this.record=null,viewModel&&(viewModel.set('record'),viewModel.set('recordIndex'));for(widgetId in widgets){var widget=widgets[widgetId];if(view.isAncestor(widget)){if(viewModel=widget.getFocusEl())viewModel.isTabbable(!0)&&viewModel.saveTabbableState({includeHidden:!0}),viewModel.blur();widget.rendered&&widget.detachFromBody()}}return usageBitMask},getWidget:function(view,ownerId,
widgetCfg){var widgets=this.widgets||(this.widgets={}),ownerGrid=this.ownerGrid,rowViewModel=ownerGrid.rowViewModel,rowVM=this.viewModel;!widgetCfg.bind&&!rowViewModel||rowVM||('string'===typeof rowViewModel&&(rowViewModel={type:rowViewModel}),this.viewModel=rowVM=Ext.Factory.viewModel(Ext.merge({parent:ownerGrid.getRowContextViewModelParent(),data:{record:this.record,recordIndex:this.recordIndex}},rowViewModel)));(rowViewModel=widgets[ownerId])||(rowViewModel=widgets[ownerId]=Ext.widget(Ext.apply({ownerCmp:view,
_rowContext:this,$vmParent:rowVM||ownerGrid.getRowContextViewModelParent(),initInheritedState:this.initInheritedStateHook,lookupViewModel:this.lookupViewModelHook},widgetCfg)),rowViewModel.$fromLocked=!!view.isLockedView,rowViewModel.isWidget?rowViewModel.initBindable():rowViewModel.collectContainerElement=!0);return rowViewModel},getWidgets:function(){var widgets=this.widgets,id,result=[];for(id in widgets)result.push(widgets[id]);return result},handleWidgetViewChange:function(view,ownerId){if(ownerId=
this.widgets[ownerId])ownerId.ownerCmp=view,ownerId.$fromLocked=!!view.isLockedView},destroy:function(){var widgets=this.widgets,widgetId;for(widgetId in widgets){var widget=widgets[widgetId];widget._rowContext=null;widget.destroy()}Ext.destroy(this.viewModel);this.callParent()},privates:{initInheritedStateHook:function(inheritedState,inheritedStateInner){var vmParent=this.$vmParent;this.self.prototype.initInheritedState.call(this,inheritedState,inheritedStateInner);!inheritedState.hasOwnProperty('viewModel')&&
vmParent&&(inheritedState.viewModel=vmParent)},lookupViewModelHook:function(skipThis){(skipThis=skipThis?null:this.getViewModel())||(skipThis=this.$vmParent||null);return skipThis}}},1,0,0,0,0,0,[Ext.grid,'RowContext'],0);
Ext.cmd.derive('Ext.view.DropZone',Ext.dd.DropZone,{indicatorCls:'x-grid-drop-indicator',indicatorHtml:'\x3cdiv class\x3d"x-grid-drop-indicator-left" role\x3d"presentation"\x3e\x3c/div\x3e\x3cdiv class\x3d"x-grid-drop-indicator-right" role\x3d"presentation"\x3e\x3c/div\x3e',constructor:function(config){Ext.apply(this,config);this.ddGroup||(this.ddGroup='view-dd-zone-'+this.view.id);Ext.dd.DropZone.prototype.constructor.call(this,this.view.el)},fireViewEvent:function(){this.lock();var result=this.view.fireEvent.apply(this.view,
arguments);this.unlock();return result},getTargetFromEvent:function(e){var node=e.getTarget(this.view.getItemSelector()),len;if(!node){e=e.getY();var i=0;var nodeList=this.view.getNodes();for(len=nodeList.length;i<len;i++){var testNode=nodeList[i];var box=Ext.fly(testNode).getBox();if(e<=box.bottom)return testNode}}return node},getIndicator:function(){this.indicator||(this.indicator=new Ext.Component({ariaRole:'presentation',html:this.indicatorHtml,cls:this.indicatorCls,ownerCt:this.view,floating:!0,
alignOnScroll:!1,shadow:!1}));return this.indicator},getPosition:function(e,node){e=e.getXY()[1];node=Ext.fly(node).getRegion();return node.bottom-e>=(node.bottom-node.top)/2?'before':'after'},containsRecordAtOffset:function(records,record,offset){if(!record)return!1;var view=this.view;record=view.indexOf(record);return(view=(offset=view.getNode(record+offset))?view.getRecord(offset):null)&&Ext.Array.contains(records,view)},positionIndicator:function(node,data,e){var view=this.view;e=this.getPosition(e,
node);var overRecord=view.getRecord(node);data=data.records;if(Ext.Array.contains(data,overRecord)||('before'!==e||this.containsRecordAtOffset(data,overRecord,-1))&&('after'!==e||this.containsRecordAtOffset(data,overRecord,1)))this.invalidateDrop();else if(this.valid=!0,this.overRecord!==overRecord||this.currentPosition!==e)data=(data=(data=this.view.getScrollable())&&data.getElement())&&data.isScrollable()?data:Ext.fly(view.getNodeContainer()),data=data.getY(),data=Ext.fly(node).getY()-data-1,'after'===
e&&(data+=Ext.fly(node).getHeight()),this.getIndicator().setWidth(Ext.fly(view.el).getWidth()).showAt(0,data),this.overRecord=overRecord,this.currentPosition=e},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(node,dragZone,e,data){Ext.Array.contains(data.records,this.view.getRecord(node))||this.positionIndicator(node,data,e);return this.valid?this.dropAllowed:this.dropNotAllowed},notifyOut:function(node,dragZone,e,data){Ext.dd.DropZone.prototype.notifyOut.call(this,
node,dragZone,e,data);this.overRecord=this.currentPosition=null;this.valid=!1;this.indicator&&this.indicator.hide()},onContainerOver:function(dd,e,data){dd=this.view;dd.dataSource.getCount()?this.positionIndicator(dd.all.last(),data,e):(this.overRecord=this.currentPosition=null,this.getIndicator().setWidth(Ext.fly(dd.el).getWidth()).showAt(0,0),this.valid=!0);return this.dropAllowed},onContainerDrop:function(dd,e,data){return this.onNodeDrop(dd,null,e,data)},onNodeDrop:function(targetNode,dragZone,
e,data){var me=this,dropHandled=!1,overRecord=me.overRecord,currentPosition=me.currentPosition;dragZone={wait:!1,processDrop:function(){me.invalidateDrop();me.handleNodeDrop(data,overRecord,currentPosition);dropHandled=!0;me.fireViewEvent('drop',targetNode,data,overRecord,currentPosition)},cancelDrop:function(){me.invalidateDrop();dropHandled=!0}};e=!1;if(me.valid){e=me.fireViewEvent('beforedrop',targetNode,data,overRecord,currentPosition,dragZone);if(dragZone.wait)return;!1!==e&&(dropHandled||dragZone.processDrop())}return e},
destroy:function(){this.indicator=Ext.destroy(this.indicator);Ext.dd.DropZone.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.view,'DropZone'],0);
Ext.cmd.derive('Ext.grid.plugin.HeaderResizer',Ext.plugin.Abstract,{disabled:!1,config:{dynamic:!1},colHeaderCls:'x-column-header',minColWidth:40,maxColWidth:1E3,eResizeCursor:'col-resize',init:function(headerCt){this.headerCt=headerCt;headerCt.on('render',this.afterHeaderRender,this,{single:this});this.minColWidth||(this.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth)},destroy:function(){var tracker=this.tracker;tracker&&(tracker.destroy(),this.tracker=null);this.headerCt.un('render',
this.afterHeaderRender,this);this.headerCt=null;Ext.plugin.Abstract.prototype.destroy.call(this)},afterHeaderRender:function(){var headerCt=this.headerCt,el=headerCt.el;headerCt.mon(el,'mousemove',this.onHeaderCtMouseMove,this);this.markerOwner=this.ownerGrid=this.headerCt.up('tablepanel').ownerGrid;this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:this.onBeforeStart.bind(this),onStart:this.onStart.bind(this),onDrag:this.onDrag.bind(this),onEnd:this.onEnd.bind(this),onCancel:this.onCancel.bind(this),
tolerance:3,autoStart:300,el});headerCt.setTouchAction({panX:!1})},onHeaderCtMouseMove:function(e){this.headerCt.dragging||this.disabled?this.activeHd&&(this.activeHd.el.dom.style.cursor='',delete this.activeHd):'touch'!==e.pointerType&&this.findActiveHeader(e)},findActiveHeader:function(e){var headerCt=this.headerCt,headerEl=e.getTarget('.'+this.colHeaderCls,headerCt.el,!0),ownerGrid=this.ownerGrid,ownerLockable=ownerGrid.ownerLockable;this.activeHd=null;if(headerEl){headerEl=Ext.getCmp(headerEl.id);
if(headerEl.isAtEndEdge(e)){if(1===headerCt.visibleColumnManager.getColumns().length&&headerCt.forceFit)return;var resizeHeader=headerEl}else headerEl.isAtStartEdge(e)&&(e=headerCt.visibleColumnManager.getColumns(),headerCt=headerEl.isGroupHeader?headerEl.getGridColumns()[0]:headerEl,resizeHeader=e[Ext.Array.indexOf(e,headerCt)-1],resizeHeader||!ownerLockable||ownerGrid.isLocked||(e=ownerLockable.lockedGrid.headerCt.visibleColumnManager.getColumns(),resizeHeader=e[e.length-1]));resizeHeader?(resizeHeader.isGroupHeader&&
(e=resizeHeader.getGridColumns(),resizeHeader=e[e.length-1]),resizeHeader&&!resizeHeader.fixed&&!1!==resizeHeader.resizable&&(this.activeHd=resizeHeader,headerEl.el.dom.style.cursor=this.eResizeCursor,headerEl.triggerEl&&(headerEl.triggerEl.dom.style.cursor=this.eResizeCursor))):(headerEl.el.dom.style.cursor='',headerEl.triggerEl&&(headerEl.triggerEl.dom.style.cursor=''))}return this.activeHd},onBeforeStart:function(e){return(this.dragHd=this.activeHd||'touch'===e.pointerType&&this.findActiveHeader(e))&&
!this.headerCt.dragging?(e.claimGesture(),this.xDelta=this.dragHd.getX()+this.dragHd.getWidth()-this.tracker.getXY()[0],this.tracker.constrainTo=this.getConstrainRegion(),!0):this.headerCt.dragging=!1},onCancel:function(e){this.dragHd=this.activeHd=null;this.headerCt.dragging=!1},getConstrainRegion:function(){var dragHdEl=this.dragHd.el;var nextHd=this.ownerGrid;var widthModel=nextHd.getSizeModel().width,maxColWidth=widthModel.shrinkWrap?this.headerCt.getWidth()-this.headerCt.visibleColumnManager.getColumns().length*
this.minColWidth:this.maxColWidth;this.headerCt.forceFit?(nextHd=this.dragHd.nextNode('gridcolumn:not([hidden]):not([isGroupHeader])'))&&this.headerInSameGrid(nextHd)&&(maxColWidth=dragHdEl.getWidth()+(nextHd.getWidth()-this.minColWidth)):nextHd.isLocked&&widthModel.shrinkWrap&&(maxColWidth=this.dragHd.up('[scrollerOwner]').getTargetEl().getWidth(!0)-nextHd.getWidth()-(nextHd.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*this.minColWidth+Ext.scrollbar.width()));nextHd=this.adjustConstrainRegion(dragHdEl.getRegion(),
0,0,0,this.minColWidth);nextHd.right=dragHdEl.getX()+maxColWidth;return nextHd},onStart:function(e){var dragHd=this.dragHd;e=dragHd.el.getWidth();var headerCt=dragHd.getRootHeaderCt();this.headerCt.dragging=!0;this.origWidth=e;if(!this.dynamic){var markerOwner=this.markerOwner;markerOwner.frame&&markerOwner.resizable&&(this.gridOverflowSetting=markerOwner.el.dom.style.overflow,markerOwner.el.dom.style.overflow='hidden');dragHd=this.getLeftMarkerX(markerOwner);var lhsMarker=markerOwner.getLhsMarker();
var rhsMarker=markerOwner.getRhsMarker();var markerHeight=this.ownerGrid.body.getHeight()+headerCt.getHeight();headerCt=headerCt.getOffsetsTo(markerOwner)[1]-markerOwner.el.getBorderWidth('t');lhsMarker.dom.style.cursor=this.eResizeCursor;rhsMarker.dom.style.cursor=this.eResizeCursor;lhsMarker.setLocalY(headerCt);rhsMarker.setLocalY(headerCt);lhsMarker.setHeight(markerHeight);rhsMarker.setHeight(markerHeight);this.setMarkerX(lhsMarker,dragHd);this.setMarkerX(rhsMarker,dragHd+e)}},onDrag:function(e){this.dynamic?
this.doResize():this.setMarkerX(this.getMovingMarker(this.markerOwner),this.calculateDragX(this.markerOwner))},getMovingMarker:function(markerOwner){return markerOwner.getRhsMarker()},onEnd:function(e){var markerOwner=this.markerOwner;this.headerCt.dragging=!1;this.dragHd&&(this.dynamic||('gridOverflowSetting'in this&&(markerOwner.el.dom.style.overflow=this.gridOverflowSetting),this.setMarkerX(markerOwner.getLhsMarker(),-9999),this.setMarkerX(markerOwner.getRhsMarker(),-9999)),this.doResize(),'touch'!==
e.pointerType?(this.dragHd=null,this.activeHd.el.dom.style.cursor=this.eResizeCursor):this.dragHd=this.activeHd=null);this.headerCt.blockNextEvent()},doResize:function(){var dragHd=this.dragHd,offset=this.tracker.getOffset('point');dragHd&&offset[0]&&(dragHd.flex&&delete dragHd.flex,Ext.suspendLayouts(),this.adjustColumnWidth(offset[0]-this.xDelta),this.headerCt.forceFit&&((dragHd=dragHd.nextNode('gridcolumn:not([hidden]):not([isGroupHeader])'))&&!this.headerInSameGrid(dragHd)&&(dragHd=null),dragHd&&
(delete dragHd.flex,dragHd.setWidth(dragHd.getWidth()-offset[0]))),Ext.resumeLayouts(!0))},headerInSameGrid:function(header){var grid=this.dragHd.up('tablepanel');return!!header.up(grid)},disable:function(){var tracker=this.tracker;this.disabled=!0;tracker&&tracker.disable()},enable:function(){var tracker=this.tracker;this.disabled=!1;tracker&&tracker.enable()},calculateDragX:function(markerOwner){return this.tracker.getXY('point')[0]+this.xDelta-markerOwner.getX()-markerOwner.el.getBorderWidth('l')},
getLeftMarkerX:function(markerOwner){return this.dragHd.getX()-markerOwner.getX()-markerOwner.el.getBorderWidth('l')-1},setMarkerX:function(marker,x){marker.setLocalX(x)},adjustConstrainRegion:function(region,t,r,b,l){return region.adjust(t,r,b,l)},adjustColumnWidth:function(offsetX){this.dragHd.setWidth(this.origWidth+offsetX)}},0,0,0,0,['plugin.gridheaderresizer'],0,[Ext.grid.plugin,'HeaderResizer'],0);
Ext.cmd.derive('Ext.grid.header.DragZone',Ext.dd.DragZone,{colHeaderSelector:'.x-column-header',colInnerSelector:'.x-column-header-inner',maxProxyWidth:120,constructor:function(headerCt){this.headerCt=headerCt;this.ddGroup=this.getDDGroup();this.autoGroup=!0;Ext.dd.DragZone.prototype.constructor.call(this,headerCt.el);this.proxy.el.addCls('x-grid-col-dd')},getDDGroup:function(){return'header-dd-zone-'+this.headerCt.up('[scrollerOwner]').id},getDragData:function(e){if(e.getTarget(this.colInnerSelector)){var header=
e.getTarget(this.colHeaderSelector);if(header&&(header=Ext.getCmp(header.id),!this.headerCt.dragging&&header.draggable&&!header.isAtStartEdge(e)&&!header.isAtEndEdge(e)))return e=document.createElement('div'),e.role='presentation',e.innerHTML=header.text,{ddel:e,header}}return!1},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0;this.headerCt.hideMenu();Ext.dd.DragZone.prototype.onInitDrag.apply(this,arguments)},onDragDrop:function(){this.headerCt.dragging=
!1;Ext.dd.DragZone.prototype.onDragDrop.apply(this,arguments)},afterRepair:function(){Ext.dd.DragZone.prototype.afterRepair.call(this);this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}},1,0,0,0,0,0,[Ext.grid.header,'DragZone'],0);
Ext.cmd.derive('Ext.grid.header.DropZone',Ext.dd.DropZone,{colHeaderCls:'x-column-header',proxyOffsets:[-4,-9],constructor:function(headerCt){this.headerCt=headerCt;this.ddGroup=this.getDDGroup();this.autoGroup=!0;Ext.dd.DropZone.prototype.constructor.call(this,headerCt.el)},destroy:function(){Ext.destroy(this.topIndicator,this.bottomIndicator);Ext.dd.DropZone.prototype.destroy.call(this)},getDDGroup:function(){return'header-dd-zone-'+this.headerCt.up('[scrollerOwner]').id},getTargetFromEvent:function(e){return e.getTarget('.'+
this.colHeaderCls)},getTopIndicator:function(){this.topIndicator||(this.topIndicator=Ext.getBody().createChild({role:'presentation',cls:'x-col-move-top',html:'\x26#160;'}),this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2));return this.topIndicator},getBottomIndicator:function(){this.bottomIndicator||(this.bottomIndicator=Ext.getBody().createChild({role:'presentation',cls:'x-col-move-bottom',html:'\x26#160;'}));return this.bottomIndicator},getLocation:function(e,t){e=e.getXY()[0];
var region=Ext.fly(t).getRegion();return{pos:region.right-e<=(region.right-region.left)/2?'after':'before',header:Ext.getCmp(t.id),node:t}},positionIndicator:function(data,node,e){var dragHeader=data.header,dropLocation=this.getLocation(e,node);node=dropLocation.header;e=dropLocation.pos;if(node!==this.lastTargetHeader||e!==this.lastDropPos){var nextHd=dragHeader.nextSibling('gridcolumn:not([hidden])');var prevHd=dragHeader.previousSibling('gridcolumn:not([hidden])');if(node.isGroupsColumn&&'before'===
e||nextHd&&nextHd.isGroupsColumn&&'after'===e)return!1;this.lastTargetHeader=node;this.lastDropPos=e;if(!node.draggable&&'before'===e&&0===node.getIndex())return!1;data.dropLocation=dropLocation;if(dragHeader!==node&&('before'===e&&nextHd!==node||'after'===e&&prevHd!==node)&&!node.isDescendantOf(dragHeader)){data=Ext.dd.DragDropManager.getRelated(this);dragHeader=data.length;for(dropLocation=0;dropLocation<dragHeader;dropLocation++)nextHd=data[dropLocation],nextHd!==this&&nextHd.invalidateDrop&&nextHd.invalidateDrop();
this.valid=!0;data=this.getTopIndicator();dragHeader=this.getBottomIndicator();'before'===e?(e='bc-tl',dropLocation='tc-bl'):(e='bc-tr',dropLocation='tc-br');e=data.getAlignToXY(node.el,e);node=dragHeader.getAlignToXY(node.el,dropLocation);nextHd=this.headerCt.el;dropLocation=nextHd.getX()-this.indicatorXOffset;nextHd=nextHd.getX()+nextHd.getWidth();e[0]=Ext.Number.constrain(e[0],dropLocation,nextHd);node[0]=Ext.Number.constrain(node[0],dropLocation,nextHd);data.setXY(e);dragHeader.setXY(node);data.show();
dragHeader.show()}else this.invalidateDrop()}},invalidateDrop:function(){this.valid=!1;this.hideIndicators()},onNodeOver:function(node,dragZone,e,data){dragZone=data.header;if(data.header.el.dom===node)var doPosition=!1;else{data.isLock=data.isUnlock=data.crossPanel=!1;var to=this.getLocation(e,node).header;doPosition=dragZone.ownerCt===to.ownerCt;if(!doPosition&&!dragZone.ownerCt.isSealed()&&!to.ownerCt.isSealed()){doPosition=!0;var fromPanel=dragZone.up('tablepanel');to=to.up('tablepanel');fromPanel!==
to&&(data.crossPanel=!0,data.isLock=to.isLocked&&!fromPanel.isLocked,data.isUnlock=!to.isLocked&&fromPanel.isLocked,data.isUnlock&&!1===dragZone.lockable||data.isLock&&!dragZone.isLockable())&&(doPosition=!1)}}doPosition?this.positionIndicator(data,node,e):this.valid=!1;return this.valid?this.dropAllowed:this.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide();this.getBottomIndicator().hide();this.lastTargetHeader=this.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},
getNestedHeader:function(header,first){var items=header.items;header.isGroupHeader&&items.length&&(header=this.getNestedHeader(items[first?'last':'first'](),first));return header},onNodeDrop:function(node,dragZone,e,data){this.headerCt.blockNextEvent();if(this.valid){node=data.header;e=data.dropLocation;dragZone=e.pos;var targetHeader=e.header,fromCt=node.ownerCt,fromCtRoot=fromCt.getRootHeaderCt();e=targetHeader.ownerCt;var visibleColumnManager=this.headerCt.visibleColumnManager,visibleFromIdx=visibleColumnManager.getHeaderIndex(node);
if(data.isLock||data.isUnlock)fromCt=fromCt.up('[scrollerOwner]'),visibleColumnManager=e.items.indexOf(targetHeader),'after'===dragZone&&visibleColumnManager++,data.isLock?fromCt.lock(node,visibleColumnManager,e):fromCt.unlock(node,visibleColumnManager,e);else{visibleColumnManager='after'===dragZone?visibleColumnManager.getHeaderIndex(this.getNestedHeader(targetHeader,1))+1:visibleColumnManager.getHeaderIndex(this.getNestedHeader(targetHeader,0));this.invalidateDrop();var savedWidth=node.getWidth();
Ext.suspendLayouts();fromCtRoot.isDDMoveInGrid=!data.crossPanel;node.isGroupHeader&&targetHeader.isGroupHeader&&node.setNestedParent(targetHeader);'before'===dragZone?e.moveBefore(node,targetHeader):e.moveAfter(node,targetHeader);0<=visibleColumnManager&&(!targetHeader.isGroupHeader||targetHeader.items&&targetHeader.items.length)&&visibleFromIdx!==visibleColumnManager&&(data=node.isGroupHeader?node.query('gridcolumn:not([hidden]):not([isGroupHeader])').length:1,visibleFromIdx<=visibleColumnManager&&
1<data&&(visibleColumnManager-=data),e.getRootHeaderCt().grid.view.moveColumn(visibleFromIdx,visibleColumnManager,data));fromCtRoot.fireEvent('columnmove',fromCt,node,visibleFromIdx,visibleColumnManager);fromCtRoot.isDDMoveInGrid=!1;e.isGroupHeader&&!fromCt.isGroupHeader?fromCt!==e&&(node.savedFlex=node.flex,delete node.flex,node.width=savedWidth):!fromCt.isGroupHeader&&node.savedFlex&&(node.flex=node.savedFlex,delete node.width);Ext.resumeLayouts(!0);this.headerCt.grid.floated&&this.headerCt.grid.updateLayout()}}}},
1,0,0,0,0,0,[Ext.grid.header,'DropZone'],0);
Ext.cmd.derive('Ext.grid.plugin.HeaderReorderer',Ext.plugin.Abstract,{init:function(headerCt){this.headerCt=headerCt;headerCt.on({boxready:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){this.headerCt.un('boxready',this.onHeaderCtRender,this);Ext.destroy(this.dragZone,this.dropZone);this.headerCt=this.dragZone=this.dropZone=null;Ext.plugin.Abstract.prototype.destroy.call(this)},onHeaderCtRender:function(headerCt){this.dragZone=new Ext.grid.header.DragZone(this.headerCt);this.dropZone=
new Ext.grid.header.DropZone(this.headerCt);this.disabled&&this.dragZone.disable();headerCt.setTouchAction({panX:!1})},enable:function(){this.disabled=!1;this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0;this.dragZone&&this.dragZone.disable()}},0,0,0,0,['plugin.gridheaderreorderer'],0,[Ext.grid.plugin,'HeaderReorderer'],0);
Ext.cmd.derive('Ext.grid.header.Container',Ext.container.Container,{border:!0,baseCls:'x-grid-header-ct',dock:'top',weight:100,defaultType:'gridcolumn',defaultWidth:100,sortAscText:'Sort Ascending',sortDescText:'Sort Descending',sortClearText:'Clear Sort',columnsText:'Columns',headerOpenCls:'x-column-header-open',menuSortAscCls:'x-hmenu-sort-asc',menuSortDescCls:'x-hmenu-sort-desc',menuColsIcon:'x-cols-icon',blockEvents:!1,dragging:!1,sortOnClick:!0,focusableContainer:!1,childHideCount:0,sortable:!0,
enableColumnHide:!0,initComponent:function(){this.plugins=this.plugins||[];this.defaults=this.defaults||{};this.isColumn||(this.isRootHeader=!0,this.enableColumnResize&&(this.resizer=new Ext.grid.plugin.HeaderResizer,this.plugins.push(this.resizer)),this.enableColumnMove&&(this.reorderer=new Ext.grid.plugin.HeaderReorderer,this.plugins.push(this.reorderer)));this.isColumn&&!this.isGroupHeader?(this.items&&this.items.length||(this.isContainer=this.isFocusableContainer=!1,this.layout={type:'container',
calculate:Ext.emptyFn}),this.hasOwnProperty('focusable')||(this.focusable=!0)):(this.layout=Ext.apply({type:'gridcolumn',align:'stretch'},this.initialConfig.layout),this.defaults.columnLines=this.columnLines,this.isRootHeader?(this.hiddenHeaders||(this.focusableContainer=!0,this.ariaRole='rowgroup'),this.columnManager=new Ext.grid.ColumnManager(!1,this),this.visibleColumnManager=new Ext.grid.ColumnManager(!0,this),this.grid&&(this.grid.columnManager=this.columnManager,this.grid.visibleColumnManager=
this.visibleColumnManager)):(this.visibleColumnManager=new Ext.grid.ColumnManager(!0,this),this.columnManager=new Ext.grid.ColumnManager(!1,this)));this.menuTask=new Ext.util.DelayedTask(this.updateMenuDisabledState,this);Ext.container.Container.prototype.initComponent.call(this)},isNested:function(){return!!this.getRootHeaderCt().down('[isNestedParent]')},isNestedGroupHeader:function(){var items=this.getRefOwner().query('\x3e:not([hidden])');return 1===items.length&&items[0]===this},isSealed:function(){return!(!this.sealed&&
!this.getInherited().sealed)},maybeShowNestedGroupHeader:function(){var items=this.items,item;items&&1===items.length&&(item=items.getAt(0))&&item.hidden&&item.show()},setNestedParent:function(target){target.isNestedParent=!1;target.ownerCt.isNestedParent=!(1!==this.ownerCt.items.length||1!==target.ownerCt.items.length)},initEvents:function(){Ext.container.Container.prototype.initEvents.call(this);if(!this.isColumn&&!this.isGroupHeader){var onHeaderCtEvent=this.onHeaderCtEvent;onHeaderCtEvent={click:onHeaderCtEvent,
dblclick:onHeaderCtEvent,contextmenu:onHeaderCtEvent,mousedown:this.onHeaderCtMouseDown,mouseover:this.onHeaderCtMouseOver,mouseout:this.onHeaderCtMouseOut,scope:this};Ext.supports.Touch&&(onHeaderCtEvent.longpress=this.onHeaderCtLongPress);this.mon(this.el,onHeaderCtEvent)}},onHeaderCtEvent:function(e,t){var headerEl=this.getHeaderElByEvent(e);if(this.longPressFired)this.longPressFired=!1;else if(headerEl&&!this.blockEvents&&(headerEl=Ext.getCmp(headerEl.id))){var targetEl=headerEl[headerEl.clickTargetName];
if(!headerEl.isGroupHeader&&!headerEl.isContainer||e.within(targetEl))if('click'===e.type||'tap'===e.type)if(targetEl=headerEl.onTitleElClick(e,targetEl,this.sortOnClick))this.onHeaderTriggerClick(targetEl,e,'touch'===e.pointerType?targetEl.el:targetEl.triggerEl);else this.onHeaderClick(headerEl,e,t);else if('contextmenu'===e.type)this.onHeaderContextMenu(headerEl,e,t);else if('dblclick'===e.type)headerEl.onTitleElDblClick(e,targetEl.dom)}},blockNextEvent:function(){this.blockEvents=!0;this.unblockTimer||
(this.unblockTimer=Ext.asap(this.unblockEvents,this))},unblockEvents:function(){this.blockEvents=this.unblockTimer=!1},onHeaderCtMouseDown:function(e,target){target=Ext.Component.from(target);var len;if(!e.defaultPrevented&&target!==this){if(target.isGroupHeader){e=target.getVisibleGridColumns();var scrollable=this.getScrollable();var i=0;for(len=e.length;i<len;++i){var col=e[i];if(scrollable.doIsInView(col.el,!0).x){target=col;break}}}target.focus()}},onHeaderCtMouseOver:function(e,t){if(!e.within(this.el,
!0)&&(t=(t=e.getTarget('.'+Ext.grid.column.Column.prototype.baseCls))&&Ext.getCmp(t.id))){var targetEl=t[t.clickTargetName];if(e.within(targetEl))t.onTitleMouseOver(e,targetEl.dom)}},onHeaderCtMouseOut:function(e,t){t='.'+Ext.grid.column.Column.prototype.baseCls;var outHeaderEl=e.getTarget(t);t=e.getRelatedTarget(t);if(outHeaderEl!==t){if(outHeaderEl&&(outHeaderEl=Ext.getCmp(outHeaderEl.id))){var targetEl=outHeaderEl[outHeaderEl.clickTargetName];outHeaderEl.onTitleMouseOut(e,targetEl.dom)}t&&(outHeaderEl=
Ext.getCmp(t.id))&&(targetEl=outHeaderEl[outHeaderEl.clickTargetName],outHeaderEl.onTitleMouseOver(e,targetEl.dom))}},onHeaderCtLongPress:function(e){var headerEl=this.getHeaderElByEvent(e),header;headerEl&&(header=Ext.getCmp(headerEl.id))&&!header.menuDisabled&&(this.longPressFired=!0,this.showMenuBy(e,headerEl,header))},getHeaderElByEvent:function(e){return e.getTarget('.'+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){return this.hiddenHeaders?!1:Ext.container.Container.prototype.isLayoutRoot.call(this)},
getRootHeaderCt:function(){return this.isRootHeader?this:this.up('[isRootHeader]')},doDestroy:function(){this.menu&&this.menu.un('hide',this.onMenuHide,this);Ext.unasap(this.unblockTimer);this.menuTask.cancel();Ext.destroy(this.visibleColumnManager,this.columnManager,this.menu);Ext.container.Container.prototype.doDestroy.call(this)},removeAll:function(autoDestroy){this.suspendEvent('columnschanged');Ext.container.Container.prototype.removeAll.call(this,autoDestroy);this.resumeEvent('columnschanged');
this.fireEvent('columnschanged',this)},applyColumnsState:function(columnsState,storeState){if(columnsState){var items=this.items.items,count=items.length,i,moved=!1,newOrder=[],newCols=[],columnState;this.purgeCache();for(i=0;i<count;i++){var col=items[i];if(columnState=columnsState[col.getStateId()]){var index=columnState.index;newOrder[index]=col;i!==index&&(moved=!0);col.applyColumnState&&col.applyColumnState(columnState,storeState)}else newCols.push({index:i,column:col})}newOrder=Ext.Array.clean(newOrder);
if(columnsState=newCols.length)for(i=0;i<columnsState;i++)columnState=newCols[i],index=columnState.index,index<newOrder.length?(moved=!0,Ext.Array.splice(newOrder,index,0,columnState.column)):newOrder.push(columnState.column);moved&&(this.applyingState=!0,this.removeAll(!1),delete this.applyingState,this.add(newOrder))}},getColumnsState:function(){var columns=[],state;this.items.each(function(col){(state=col.getColumnState&&col.getColumnState())&&columns.push(state)});return columns},onAdd:function(c){Ext.container.Container.prototype.onAdd.apply(this,
arguments);var rootHeader=this.getRootHeaderCt();this.onHeadersChanged(c,rootHeader&&rootHeader.isDDMoveInGrid)},move:function(fromIdx,toIdx){var items=this.items;if(fromIdx.isComponent){var headerToMove=fromIdx;fromIdx=items.indexOf(headerToMove)}else headerToMove=items.getAt(fromIdx);headerToMove.visibleFromIdx=this.getRootHeaderCt().visibleColumnManager.indexOf(headerToMove);Ext.container.Container.prototype.move.apply(this,arguments)},onMove:function(headerToMove,fromIdx,toIdx){var gridHeaderCt=
this.getRootHeaderCt(),gridVisibleColumnManager=gridHeaderCt.visibleColumnManager,numColsToMove=1;this.onHeadersChanged(headerToMove,!0);gridVisibleColumnManager=gridVisibleColumnManager.indexOf(headerToMove);gridVisibleColumnManager>=headerToMove.visibleFromIdx&&gridVisibleColumnManager++;Ext.container.Container.prototype.onMove.apply(this,arguments);headerToMove.isGroupHeader&&(numColsToMove=headerToMove.visibleColumnManager.getColumns().length);gridHeaderCt.onHeaderMoved(headerToMove,numColsToMove,
headerToMove.visibleFromIdx,gridVisibleColumnManager)},maybeContinueRemove:function(){return this.isGroupHeader&&!this.applyingState&&!this.isNestedParent&&this.ownerCt&&!this.items.getCount()},onRemove:function(c,isDestroying){var ownerCt=this.ownerCt;Ext.container.Container.prototype.onRemove.call(this,c,isDestroying);if(!this.destroying){if(!this.getRootHeaderCt().isDDMoveInGrid)this.onHeadersChanged(c,!1);this.maybeContinueRemove()&&(c.rendered&&c.detachFromBody(),this.destroyAfterRemoving=!0,
Ext.suspendLayouts(),ownerCt.remove(this,!1),Ext.resumeLayouts(!0))}},onHeadersChanged:function(c,isMove){var gridPanel,gridHeaderCt=this.getRootHeaderCt();this.purgeHeaderCtCache(this);if(gridHeaderCt&&(gridHeaderCt.onColumnsChanged(),(gridPanel=gridHeaderCt.ownerCt)&&!isMove))gridPanel.onHeadersChanged(gridHeaderCt,c)},onHeaderMoved:function(header,colsToMove,fromIdx,toIdx){var gridSection=this.ownerCt;if(this.rendered){if(gridSection&&gridSection.onHeaderMove)gridSection.onHeaderMove(this,header,
colsToMove,fromIdx,toIdx);this.fireEvent('columnmove',this,header,fromIdx,toIdx)}},onColumnsChanged:function(){var menu=this.menu;if(this.rendered&&(this.fireEvent('columnschanged',this),menu)){var columnItemSeparator=menu.child('#columnItemSeparator');menu=menu.child('#columnItem');columnItemSeparator&&columnItemSeparator.destroy();menu&&menu.destroy()}},lookupComponent:function(comp){var result=Ext.container.Container.prototype.lookupComponent.apply(this,arguments);result.isGroupHeader||void 0!==
result.width||result.flex||(result.width=this.defaultWidth);return result},setSortState:function(){var store=this.up('[store]').store,columns=this.visibleColumnManager.getColumns(),len=columns.length,i,sorter;for(i=0;i<len;i++){var header=columns[i];(sorter=header.getSorter())?store.getSorters().contains(sorter)||(sorter=null):sorter=store.getSorters().get(header.getSortParam());header.setSortState(sorter)}},getHeaderMenu:function(){var menu=this.getMenu();return menu&&(menu=menu.child('#columnItem'))?
menu.menu:null},onHeaderVisibilityChange:function(header,visible){var menu=this.getHeaderMenu();this.purgeHeaderCtCache(header.ownerCt);menu&&((header=this.getMenuItemForHeader(menu,header))&&header.setChecked(visible,!0),menu.isVisible()&&this.menuTask.delay(50))},updateMenuDisabledState:function(menu){var columns=this.query('gridcolumn:not([hidden])'),i,len=columns.length,checkItem;menu||(menu=this.getMenu());for(i=0;i<len;++i){var item=columns[i];if(checkItem=this.getMenuItemForHeader(menu,item))item=
item.isHideable()?'enable':'disable',checkItem.menu&&(item+='CheckChange'),checkItem[item]()}},getMenuItemForHeader:function(menu,header){return header?menu.down('menucheckitem[headerId\x3d'+header.id+']'):null},onHeaderShow:function(header){var ownerCt=this.ownerCt,lastHiddenHeader=header.lastHiddenHeader;ownerCt&&(this.forceFit&&delete this.flex,lastHiddenHeader&&!header.query('[hidden\x3dfalse]').length&&(lastHiddenHeader.show(),header.lastHiddenHeader=null),this.onHeaderVisibilityChange(header,
!0),ownerCt.onHeaderShow(this,header),this.fireEvent('columnshow',this,header),this.fireEvent('columnschanged',this))},onHeaderHide:function(header){var ownerCt=this.ownerCt;ownerCt&&(this.onHeaderVisibilityChange(header,!1),ownerCt.onHeaderHide(this,header),this.fireEvent('columnhide',this,header),this.fireEvent('columnschanged',this))},onHeaderResize:function(header,w){var gridSection=this.ownerCt;if(gridSection)gridSection.onHeaderResize(this,header,w);this.fireEvent('columnresize',this,header,
w)},onHeaderClick:function(header,e,t){var selModel=header.getView().getSelectionModel();header.fireEvent('headerclick',this,header,e,t);t=this.fireEvent('headerclick',this,header,e,t);if(!1!==t&&selModel.onHeaderClick)selModel.onHeaderClick(this,header,e);return t},onHeaderContextMenu:function(header,e,t){header.fireEvent('headercontextmenu',this,header,e,t);this.fireEvent('headercontextmenu',this,header,e,t)},onHeaderTriggerClick:function(header,e,t){!1!==header.fireEvent('headertriggerclick',this,
header,e,t)&&!1!==this.fireEvent('headertriggerclick',this,header,e,t)&&(header.activeMenu?e.pointerType?header.activeMenu.hide():header.activeMenu.focus():this.showMenuBy(e,t,header))},showMenuBy:function(clickEvent,t,header){var menu=this.getMenu(),ascItem=menu.down('#ascItem'),descItem=menu.down('#descItem');menu.activeHeader=menu.ownerCmp=header;header.setMenuActive(menu);header=header.sortable?'enable':'disable';if(ascItem)ascItem[header]();if(descItem)descItem[header]();menu.autoFocus=!clickEvent||
clickEvent.keyCode;menu.showBy(t,'tl-bl?');if(!menu.isVisible())this.onMenuHide(menu)},hideMenu:function(){this.menu&&this.menu.hide()},onMenuHide:function(menu){menu.activeHeader.setMenuActive(!1)},purgeHeaderCtCache:function(headerCt){for(;headerCt;){headerCt.purgeCache();if(headerCt.isRootHeader)break;headerCt=headerCt.ownerCt}},purgeCache:function(){var visibleColumnManager=this.visibleColumnManager,columnManager=this.columnManager;this.gridVisibleColumns=this.gridDataColumns=this.hideableColumns=
null;visibleColumnManager&&(visibleColumnManager.invalidate(),columnManager.invalidate())},getMenu:function(){var grid=this.view&&this.view.ownerGrid;this.menu||(this.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:this.getMenuItems(),listeners:{beforeshow:this.beforeMenuShow,hide:this.onMenuHide,scope:this}}),this.fireEvent('menucreate',this,this.menu),grid&&grid.fireEvent('headermenucreate',grid,this.menu,this));return this.menu},beforeMenuShow:function(menu){if(!menu.child('#columnItem')){var hideableColumns=
this.enableColumnHide?this.getColumnMenu(this):null;var insertPoint=this.sortable?2:0;hideableColumns&&hideableColumns.length&&menu.insert(insertPoint,[{itemId:'columnItemSeparator',xtype:'menuseparator'},{itemId:'columnItem',text:this.columnsText,iconCls:this.menuColsIcon,menu:{items:hideableColumns},hideOnClick:!1}])}this.updateMenuDisabledState(this.menu)},getMenuItems:function(){var menuItems=[],hideableColumns=this.enableColumnHide?this.getColumnMenu(this):null;this.sortable&&(menuItems=[{itemId:'ascItem',
text:this.sortAscText,iconCls:this.menuSortAscCls,handler:this.onSortAscClick,scope:this},{itemId:'descItem',text:this.sortDescText,iconCls:this.menuSortDescCls,handler:this.onSortDescClick,scope:this}]);hideableColumns&&hideableColumns.length&&(this.sortable&&menuItems.push({itemId:'columnItemSeparator',xtype:'menuseparator'}),menuItems.push({itemId:'columnItem',text:this.columnsText,iconCls:this.menuColsIcon,menu:hideableColumns,hideOnClick:!1}));return menuItems},onSortAscClick:function(){this.getMenu().activeHeader.sort('ASC')},
onSortDescClick:function(){this.getMenu().activeHeader.sort('DESC')},getColumnMenu:function(headerContainer){var menuItems=[],i=0;headerContainer=headerContainer.query('\x3egridcolumn[hideable]');for(var itemsLn=headerContainer.length;i<itemsLn;i++){var item=headerContainer[i];item=new Ext.menu.CheckItem({text:item.menuText||item.text,checked:!item.hidden,hideOnClick:!1,headerId:item.id,menu:item.isGroupHeader?this.getColumnMenu(item):void 0,checkHandler:this.onColumnCheckChange,scope:this});menuItems.push(item)}return menuItems.length?
menuItems:null},onColumnCheckChange:function(checkItem,checked){checkItem=Ext.getCmp(checkItem.headerId);if(checkItem.rendered)checkItem[checked?'show':'hide']();else checkItem.hidden=!checked},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){var fullWidth=0,headers=this.getVisibleGridColumns(),headersLn=headers.length,i;for(i=0;i<headersLn;i++)fullWidth+=headers[i].getCellWidth()||0;return fullWidth},getVisibleGridColumns:function(){var i;if(this.gridVisibleColumns)return this.gridVisibleColumns;
var allColumns=this.getGridColumns();var rootHeader=this.getRootHeaderCt();var result=[];var len=allColumns.length;for(i=0;i<len;i++){var column=allColumns[i];column.hidden||column.isColumnHidden(rootHeader)||(result[result.length]=column)}return this.gridVisibleColumns=result},isColumnHidden:function(rootHeader){for(var owner=this.getRefOwner();owner&&owner!==rootHeader;){if(owner.hidden)return!0;owner=owner.getRefOwner()}return!1},getGridColumns:function(inResult,hiddenAncestor){if(!inResult&&this.gridDataColumns)return this.gridDataColumns;
var result=inResult||[],items,len;hiddenAncestor=hiddenAncestor||this.hidden;if(this.items&&(items=this.items.items)){var i=0;for(len=items.length;i<len;i++){var item=items[i];item.isGroupHeader?(item.visibleIndex=result.length,item.getGridColumns(result,hiddenAncestor)):(item.hiddenAncestor=hiddenAncestor,result.push(item))}}inResult||(this.gridDataColumns=result);if(!inResult&&len){i=0;for(len=result.length;i<len;i++)if(item=result[i],item.fullColumnIndex=i,item.isFirstVisible=item.isLastVisible=
!1,!item.hidden&&!item.hiddenAncestor){lastVisibleColumn||(item.isFirstVisible=!0);var lastVisibleColumn=item}lastVisibleColumn&&(lastVisibleColumn.isLastVisible=!0)}return result},getHideableColumns:function(){var result=this.hideableColumns;result||(result=this.hideableColumns=this.query('[hideable]'));return result},getHeaderIndex:function(header){this.columnManager||(this.columnManager=this.getRootHeaderCt().columnManager);return this.columnManager.getHeaderIndex(header)},getHeaderAtIndex:function(index){this.columnManager||
(this.columnManager=this.getRootHeaderCt().columnManager);return this.columnManager.getHeaderAtIndex(index)},getVisibleHeaderClosestToIndex:function(index){this.visibleColumnManager||(this.visibleColumnManager=this.getRootHeaderCt().visibleColumnManager);return this.visibleColumnManager.getVisibleHeaderClosestToIndex(index)},applyForceFit:function(header){var view=this.view,minWidth=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,useMinWidthForFlex=!1,defaultWidth=Ext.grid.header.Container.prototype.defaultWidth,
availFlex=this.el.dom.clientWidth-(view.el.dom.scrollHeight>view.el.dom.clientHeight?Ext.scrollbar.width():0),totalFlex=0,items=this.getVisibleGridColumns(),hidden=header.hidden;Ext.suspendLayouts();var len=availFlex-(items.length+1)*minWidth;header.flex=null;if(hidden){var myWidth=header.width||header.savedWidth||Math.floor(len/(items.length+1));header.savedWidth=null}else myWidth=view.getMaxContentWidth(header);if(myWidth>len)header.width=len,useMinWidthForFlex=!0;else for(header.width=myWidth,
availFlex-=myWidth+defaultWidth,view=0,len=items.length;view<len;view++)hidden=items[view],hidden!==header&&(hidden.flex=hidden.flex||hidden.width||hidden.getWidth(),totalFlex+=hidden.flex,hidden.width=null);view=0;for(len=items.length;view<len;view++)hidden=items[view],myWidth=hidden===header,useMinWidthForFlex&&!myWidth?(hidden.flex=minWidth,hidden.width=null):myWidth||(myWidth=hidden.flex||defaultWidth,hidden.flex=Math.max(Math.ceil(myWidth/totalFlex*availFlex),minWidth),hidden.width=null),hidden.setWidth(hidden.width||
hidden.flex);Ext.resumeLayouts(!0)},autoSizeColumn:function(header){var view=this.view;view&&(view.autoSizeColumn(header),this.forceFit&&this.applyForceFit(header))},getRefItems:function(deep){deep=Ext.container.Container.prototype.getRefItems.call(this,deep);this.menu&&deep.push(this.menu);return deep},initInheritedState:function(inheritedState,inheritedStateInner){this.sealed&&(inheritedState.sealed=!0);Ext.container.Container.prototype.initInheritedState.call(this,inheritedState,inheritedStateInner)},
privates:{beginChildHide:function(){++this.childHideCount},endChildHide:function(){--this.childHideCount},getFocusables:function(){return this.isRootHeader?this.getVisibleGridColumns():this.items.items},initFocusableContainerKeyNav:function(el){this.focusableKeyNav||(this.focusableKeyNav=new Ext.util.KeyNav({target:el,scope:this,down:this.showHeaderMenu,left:this.onFocusableContainerLeftKey,right:this.onFocusableContainerRightKey,home:this.onHomeKey,end:this.onEndKey,space:this.onHeaderActivate,enter:this.onHeaderActivate}))},
onHomeKey:function(e){return this.focusChild(null,!0,e)},onEndKey:function(e){return this.focusChild(null,!1,e)},showHeaderMenu:function(e){var column=this.getFocusableFromEvent(e);if(column&&column.isColumn&&column.triggerEl)this.onHeaderTriggerClick(column,e,column.triggerEl)},onHeaderActivate:function(e){var column=this.getFocusableFromEvent(e);if(column&&column.isColumn){var view=column.getView();if(column.sortable&&this.sortOnClick){var lastFocused=view.getNavigationModel().getLastFocused();
column.toggleSortState();lastFocused&&view.ownerCt.ensureVisible(lastFocused.record)}else if(e.getKey()===e.SPACE)column.onTitleElClick(e,e.target,this.sortOnClick);return this.onHeaderClick(column,e,column.el)}},onOwnerGridReconfigure:function(storeChanged,columnsChanged){!this.rendered||this.destroying||this.destroyed||!storeChanged&&!columnsChanged||(Ext.Component.layoutSuspendCount?this.$initFocusableContainerAfterLayout=!0:this.initFocusableContainer())}}},0,['headercontainer'],['component',
'box','container','headercontainer'],{component:!0,box:!0,container:!0,headercontainer:!0},['widget.headercontainer'],0,[Ext.grid.header,'Container'],0);
Ext.cmd.derive('Ext.grid.column.Column',Ext.grid.header.Container,{alternateClassName:'Ext.grid.Column',config:{triggerVisible:!1,sorter:null,grouper:null,groupFormatter:!1,summaries:{$value:{count:!0},lazy:!0,merge:function(newValue,oldValue){return this.mergeSets(newValue,oldValue)}},filterType:null,align:'start'},baseCls:'x-column-header',hoverCls:'x-column-header-over',ariaRole:'columnheader',focusableContainer:!1,sortState:null,possibleSortStates:['ASC','DESC'],ariaSortStates:{ASC:'ascending',
DESC:'descending'},childEls:['titleEl','triggerEl','textEl','textContainerEl','textInnerEl'],headerWrap:!1,renderTpl:['\x3cdiv id\x3d"{id}-titleEl" data-ref\x3d"titleEl" role\x3d"presentation"','{tipMarkup}class\x3d"','x-','column-header-inner\x3ctpl if\x3d"!$comp.isContainer"\x3e ','x-','leaf-column-header\x3c/tpl\x3e','\x3ctpl if\x3d"empty"\x3e ','x-','column-header-inner-empty\x3c/tpl\x3e"\x3e','\x3cdiv id\x3d"{id}-textContainerEl" data-ref\x3d"textContainerEl" role\x3d"presentation" class\x3d"',
'x-','column-header-text-container"\x3e','\x3cdiv role\x3d"presentation" class\x3d"','x-','column-header-text-wrapper"\x3e','\x3cdiv id\x3d"{id}-textEl" data-ref\x3d"textEl" role\x3d"presentation" class\x3d"','x-','column-header-text','{childElCls}"\x3e','\x3cspan id\x3d"{id}-textInnerEl" data-ref\x3d"textInnerEl" role\x3d"presentation" class\x3d"','x-','column-header-text-inner"\x3e{text}\x3c/span\x3e','\x3c/div\x3e','{%','values.$comp.afterText(out, values);','%}','\x3c/div\x3e','\x3c/div\x3e',
'\x3ctpl if\x3d"!menuDisabled"\x3e','\x3cdiv id\x3d"{id}-triggerEl" data-ref\x3d"triggerEl" role\x3d"presentation" unselectable\x3d"on" class\x3d"','x-','column-header-trigger','{childElCls}" style\x3d"{triggerStyle}"\x3e\x3c/div\x3e','\x3c/tpl\x3e','\x3c/div\x3e','{%this.renderContainer(out,values)%}'],dataIndex:null,text:' ',menuText:null,emptyCellText:' ',sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,draggable:!0,tooltipType:'qtip',initDraggable:Ext.emptyFn,tdCls:'',dirtyText:'Cell value has been edited',
producesHTML:!0,ignoreExport:!1,exportStyle:null,exportRenderer:!1,exportSummaryRenderer:!1,grouperIdPrefix:'x-gridgrouper',isHeader:!0,isColumn:!0,scrollable:!1,requiresMenu:!1,tabIndex:-1,ascSortCls:'x-column-header-sort-ASC',descSortCls:'x-column-header-sort-DESC',componentLayout:'columncomponent',groupSubHeaderCls:'x-group-sub-header',groupHeaderCls:'x-group-header',clickTargetName:'titleEl',detachOnRemove:!0,initResizable:Ext.emptyFn,rendererNames:{column:'renderer',edit:'editRenderer',summary:'summaryRenderer'},
formatterNames:{column:'formatter',edit:'editFormatter',summary:'summaryFormatter'},initComponent:function(){this.rendererScope||(this.rendererScope=this.scope);null!=this.header&&(this.text=this.header,this.header=null);this.cellWrap&&(this.tdCls=(this.tdCls||'')+' x-wrap-cell');null!=this.columns?(this.isGroupHeader=!0,this.ariaRole='presentation',this.items=this.columns,this.columns=null,this.cls=(this.cls||'')+' '+this.groupHeaderCls,this.sortable=this.resizable=!1,this.align='center'):this.flex&&
(this.minWidth=this.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth);this.addCls('x-column-header-align-'+this.getMappedAlignment(this.align));this.setupRenderer();this.setupRenderer('edit');this.setupRenderer('summary');Ext.grid.header.Container.prototype.initComponent.call(this)},beforeLayout:function(){var items=this.items,colCount=0,flex=this.flex,i;if(flex&&this.isGroupHeader){Ext.isArray(items)||(items=items.items);var len=items.length;for(i=0;!hasFlexedChildren&&i<len;i++){var item=
items[i];if(item.isColumn&&!item.hidden){++colCount;var hasFlexedChildren=item.flex}}!hasFlexedChildren&&colCount&&(this.savedFlex=flex,this.flex=null)}Ext.grid.header.Container.prototype.beforeLayout.call(this)},onAdded:function(container,pos,instanced){Ext.grid.header.Container.prototype.onAdded.call(this,container,pos,instanced);this.view=this.rootHeaderCt=this.cellSelector=this.visibleIndex=null;this.headerId||this.calculateHeaderId();this.configureStateInfo()},_initSorterFn:function(a,b){var scope=
this.column.resolveListenerScope(),name=this.methodName;name=scope&&scope[name];var ret=0;name&&(this.setSorterFn(name),this.column=null,ret=name.call(scope,a,b));return ret},applySorter:function(sorter){var sorterFn=sorter?sorter.sorterFn:null;'string'===typeof sorterFn?(sorter=new Ext.util.Sorter(Ext.applyIf({sorterFn:this._initSorterFn},sorter)),sorter.methodName=sorterFn,sorter.column=this):(sorterFn=this.getRootHeaderCt().up('tablepanel'),sorter=sorterFn.store.getData().getSorters().decodeSorter(sorter));
return sorter},updateAlign:function(align){this.textAlign=this.getMappedAlignment(align)},bindFormatter:function(format){var me=this;return function(v){return format(v,me.rendererScope||me.resolveListenerScope())}},bindRenderer:function(renderer){var me=this;me.hasCustomRenderer=!0;return function(){return Ext.callback(renderer,me.rendererScope,arguments,0,me)}},setupRenderer:function(type){type=type||'column';var format=this[this.formatterNames[type]];var renderer=this[this.rendererNames[type]];
var isColumnRenderer='column'===type;if(format)renderer=Ext.app.bind.Parser.fly(format),format=renderer.compileFormat(),renderer.release(),this[this.formatterNames[type]]=null,this[this.rendererNames[type]]=this.bindFormatter(format);else if(renderer){if('string'===typeof renderer){renderer=this[this.rendererNames[type]]=this.bindRenderer(renderer);var dynamic=!0}isColumnRenderer&&(this.hasCustomRenderer=dynamic||this.shouldFlagCustomRenderer(renderer))}else isColumnRenderer&&this.defaultRenderer&&
(this.renderer=this.defaultRenderer,this.usingDefaultRenderer=!0)},getView:function(){var rootHeaderCt;!this.view&&(rootHeaderCt=this.getRootHeaderCt())&&(this.view=rootHeaderCt.view);return this.view},onFocusLeave:function(e){Ext.grid.header.Container.prototype.onFocusLeave.call(this,e);this.activeMenu&&this.activeMenu.hide()},initItems:function(){Ext.grid.header.Container.prototype.initItems.apply(this,arguments);this.isGroupHeader&&(this.config.hidden||!this.hasVisibleChildColumns())&&this.hide()},
hasVisibleChildColumns:function(){var items=this.items.items,len=items.length,i;for(i=0;i<len;++i){var item=items[i];if(item.isColumn&&!item.hidden)return!0}return!1},onAdd:function(child){child.isColumn&&(child.isSubHeader=!0,child.addCls(this.groupSubHeaderCls));this.isGroupHeader&&this.hidden&&this.hasVisibleChildColumns()&&this.show();Ext.grid.header.Container.prototype.onAdd.call(this,child)},onRemove:function(child,isDestroying){child.isSubHeader&&(child.isSubHeader=!1,child.removeCls(this.groupSubHeaderCls));
Ext.grid.header.Container.prototype.onRemove.call(this,child,isDestroying);this.destroyed||this.destroying||this.hasVisibleChildColumns()||!this.ownerCt||this.ownerCt.isNested()||this.hide()},initRenderData:function(){var tipMarkup='',tip=this.tooltip,text=this.text,attr='qtip'===this.tooltipType?'data-qtip':'title';Ext.isEmpty(tip)||(tipMarkup=attr+'\x3d"'+tip+'" ');return Ext.applyIf(Ext.grid.header.Container.prototype.initRenderData.apply(this,arguments),{text,empty:this.isEmptyText(text),menuDisabled:this.menuDisabled,
tipMarkup,triggerStyle:this.getTriggerVisible()?'display:block':''})},applyColumnState:function(state,storeState){var sorter=this.getSorter();storeState=storeState&&storeState.sorters;var len,i;if(!1!==this.getStateful()){if(sorter&&storeState&&(len=storeState.length)){var mySorterId=sorter.getId();for(i=0;i<len;i++)if(storeState[i].id===mySorterId){sorter.setDirection(storeState[i].direction);storeState[i]=sorter;break}}this.applyColumnsState(state.columns);null!=state.hidden&&(this.hidden=state.hidden);
null!=state.locked&&(this.locked=state.locked);null!=state.sortable&&(this.sortable=state.sortable);null!=state.width?(this.flex=null,this.width=state.width):null!=state.flex&&(this.width=null,this.flex=state.flex)}},getColumnState:function(){var items=this.items.items,state={id:this.getStateId()};if(!1!==this.getStateful())return this.savePropsToState(['hidden','sortable','locked','flex','width'],state),this.isGroupHeader&&items&&items.length&&(state.columns=this.getColumnsState()),'width'in state&&
delete state.flex,state},setText:function(text){this.text=text;if(this.rendered){var grid=this.getView().ownerGrid;this.textInnerEl.setHtml(text);this.titleEl.toggleCls('x-column-header-inner-empty',this.isEmptyText(text));grid.syncHeaderVisibility()}},getIndex:function(){return this.isGroupColumn?!1:this.getRootHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return null!=this.visibleIndex?this.visibleIndex:this.isGroupColumn?!1:Ext.Array.indexOf(this.getRootHeaderCt().getVisibleGridColumns(),
this)},getLabelChain:function(){for(var child=this,labels=[];child=child.up('headercontainer');)child.text&&labels.unshift(Ext.util.Format.stripTags(child.text));return labels},beforeRender:function(){var rootHeaderCt=this.getRootHeaderCt(),isSortable=this.isSortable();this.textAlign=this.getMappedAlignment(this.getAlign());Ext.grid.header.Container.prototype.beforeRender.call(this);this.requiresMenu||isSortable||this.groupable||this.lockable||!1!==rootHeaderCt.grid.enableColumnHide&&rootHeaderCt.getHideableColumns().length||
(this.menuDisabled=!0);this.cellWrap&&(this.variableRowHeight=!0);rootHeaderCt=this.ariaRenderAttributes||(this.ariaRenderAttributes={});rootHeaderCt['aria-readonly']=!0;isSortable&&(rootHeaderCt['aria-sort']=this.ariaSortStates[this.sortState]);this.isSubHeader&&(isSortable=this.getLabelChain(),this.text&&isSortable.push(Ext.util.Format.stripTags(this.text)),isSortable.length&&(rootHeaderCt['aria-label']=isSortable.join(' ')));this.protoEl.unselectable()},getTriggerElWidth:function(){var triggerEl=
this.triggerEl,width=this.self.triggerElWidth;triggerEl&&void 0===width&&(triggerEl.setStyle('display','block'),width=this.self.triggerElWidth=triggerEl.getWidth(),triggerEl.setStyle('display',''));return width},afterComponentLayout:function(width,height,oldWidth,oldHeight){var rootHeaderCt=this.getRootHeaderCt(),savedFlex=this.savedFlex;Ext.grid.header.Container.prototype.afterComponentLayout.call(this,width,height,oldWidth,oldHeight);if(rootHeaderCt&&(null!=oldWidth||this.flex)&&width!==oldWidth)rootHeaderCt.onHeaderResize(this,
width);savedFlex&&(this.flex=savedFlex,delete this.savedFlex)},doDestroy:function(){Ext.destroy(this.field,this.editor);Ext.grid.header.Container.prototype.doDestroy.call(this)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(e){if(this.triggerEl)this.onTitleElClick(e,this.triggerEl.dom||this.el.dom)},onEnterKey:function(e){this.onTitleElClick(e,this.el.dom)},onTitleElDblClick:function(e){this.isAtStartEdge(e)?
(e=this.previousNode('gridcolumn:not([hidden]):not([isGroupHeader])'))&&e.getRootHeaderCt()===this.getRootHeaderCt()&&e.autoSize():this.isAtEndEdge(e)&&(this.isGroupHeader&&e.getPoint().isContainedBy(this.layout.innerCt)?(e=this.query('gridcolumn:not([hidden]):not([isGroupHeader])'),e[e.length-1].autoSize()):(e=this.getRootHeaderCt(),1===e.visibleColumnManager.getColumns().length&&e.forceFit||this.autoSize()))},autoSize:function(){var i;if(this.resizable)if(this.isGroupHeader){var leafColumns=this.query('gridcolumn:not([hidden]):not([isGroupHeader])');
var numLeaves=leafColumns.length;var headerCt=this.getRootHeaderCt();Ext.suspendLayouts();for(i=0;i<numLeaves;i++)headerCt.autoSizeColumn(leafColumns[i]);Ext.resumeLayouts(!0)}else this.getRootHeaderCt().autoSizeColumn(this)},isEmptyText:function(text,visual){return visual?0===Ext.String.trim(text).length:null==text||''===text},onTitleElClick:function(e,t,sortOnClick){var activeHeader;if('touch'===e.pointerType){t=this.previousSibling(':not([hidden])');if(!this.menuDisabled){var tapMargin=parseInt(this.triggerEl.getStyle('width'),
10);isNaN(tapMargin)&&(tapMargin=3*this.getHandleWidth(e));this.isAtEndEdge(e,tapMargin)&&(activeHeader=this)}!activeHeader&&t&&!t.menuDisabled&&this.isAtStartEdge(e)&&(activeHeader=t)}else activeHeader=(activeHeader=this.triggerEl)&&(e.target===activeHeader.dom||t===activeHeader||e.within(activeHeader))?this:null;!1!==sortOnClick&&(e.getKey()||!activeHeader&&this.isSortZone(e))&&this.toggleSortState();return activeHeader},processEvent:function(type,view,cell,recordIndex,cellIndex,e){return this.fireEvent.apply(this,
arguments)},isSortable:function(){var rootHeader=this.getRootHeaderCt();rootHeader=rootHeader?rootHeader.grid:null;var sortable=this.sortable;rootHeader&&!1===rootHeader.sortableColumns&&(sortable=!1);return sortable},toggleSortState:function(){this.isSortable()&&this.sort()},sort:function(direction){var grid=this.up('tablepanel'),store=grid.store,storeIsSorted=store.isSorted(),storeSorters=storeIsSorted&&store.getSorters(),sorter=this.getSorter();storeSorters=storeSorters&&storeSorters.indexOf(sorter);
Ext.suspendLayouts();if(sorter){var currentDirection=sorter.getDirection();direction&&currentDirection===direction&&storeIsSorted&&-1!==storeSorters||(storeIsSorted&&-1!==storeSorters||currentDirection===direction||sorter.setDirection(direction),store.sort(sorter,grid.multiColumnSort?'multi':'replace'))}else store.sort(this.getSortParam(),direction,grid.multiColumnSort?'multi':'replace');Ext.resumeLayouts(!0)},getSortParam:function(){return this.dataIndex},setSortState:function(sorter){sorter=sorter&&
sorter.getDirection();var ascCls=this.ascSortCls,descCls=this.descSortCls,rootHeaderCt=this.getRootHeaderCt(),ariaDom=this.ariaEl.dom;switch(sorter){case 'DESC':if(!this.hasCls(descCls)){this.addCls(descCls);this.sortState='DESC';var changed=!0}this.removeCls(ascCls);break;case 'ASC':this.hasCls(ascCls)||(this.addCls(ascCls),this.sortState='ASC',changed=!0);this.removeCls(descCls);break;default:this.removeCls([ascCls,descCls]),this.sortState=null}ariaDom&&(this.sortState?ariaDom.setAttribute('aria-sort',
this.ariaSortStates[this.sortState]):ariaDom.removeAttribute('aria-sort'));changed&&rootHeaderCt.fireEvent('sortchange',rootHeaderCt,this,sorter)},isHideable:function(){var result={hideCandidate:this,result:this.hideable};result.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[result]);return result.result},hasOtherMenuEnabledChildren:function(result){if(!this.isXType('headercontainer'))return result.result=!1;var visibleChildren=this.query('\x3egridcolumn:not([hidden]):not([menuDisabled])');
var count=visibleChildren.length;Ext.Array.contains(visibleChildren,result.hideCandidate)&&count--;if(count)return!1;result.hideCandidate=this},isLockable:function(){var result={result:!1!==this.lockable};result.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[result]);return result.result},isLocked:function(){null==this.locked&&(this.locked=this.getInherited().inLockedGrid);return this.locked},hasMultipleVisibleChildren:function(result){if(!this.isXType('headercontainer'))return result.result=
!1;if(1<this.query('\x3egridcolumn:not([hidden])').length)return!1},hide:function(){var rootHeaderCt=this.getRootHeaderCt(),owner=this.getRefOwner();if(owner.constructing)return Ext.grid.header.Container.prototype.hide.call(this),this;if(this.rendered&&!this.isVisible())return this;rootHeaderCt.forceFit&&(this.visibleSiblingCount=rootHeaderCt.getVisibleGridColumns().length-1,this.flex&&(this.savedWidth=this.getWidth(),this.flex=null));rootHeaderCt.beginChildHide();Ext.suspendLayouts();owner.isGroupHeader&&
(this.isNestedGroupHeader()&&owner.hide(),this.isSubHeader&&!this.isGroupHeader&&1===owner.query('\x3egridcolumn:not([hidden])').length&&(owner.lastHiddenHeader=this));Ext.grid.header.Container.prototype.hide.call(this);rootHeaderCt.endChildHide();rootHeaderCt.onHeaderHide(this);Ext.resumeLayouts(!0);return this},show:function(){var rootHeaderCt=this.getRootHeaderCt(),ownerCt=this.getRefOwner();if(this.isVisible())return this;ownerCt.isGroupHeader&&(ownerCt.lastHiddenHeader=null);this.rendered&&rootHeaderCt.forceFit&&
rootHeaderCt.applyForceFit(this);Ext.suspendLayouts();this.isSubHeader&&ownerCt.hidden&&ownerCt.show(!1,!0);Ext.grid.header.Container.prototype.show.apply(this,arguments);this.isGroupHeader&&this.maybeShowNestedGroupHeader();if(ownerCt=this.getRootHeaderCt())ownerCt.onHeaderShow(this);Ext.resumeLayouts(!0);return this},shouldUpdateCell:function(record,changedFieldNames){var i;if(!this.preventUpdate){if(this.hasCustomRenderer)return 1;if(changedFieldNames){var len=changedFieldNames.length;for(i=0;i<
len;++i){var field=changedFieldNames[i];if(field===this.dataIndex||field===record.idProperty)return 2}}else return 2}},getCellWidth:function(){var result;this.rendered&&this.componentLayout&&this.componentLayout.lastComponentSize?result=this.componentLayout.lastComponentSize.width:this.width?result=this.width:this.isColumn||(result=this.getTableWidth());return result},getCellId:function(){return'x-grid-cell-'+this.getItemId()},getCellSelector:function(){if(!this.cellSelector){var view=this.getView();
this.cellSelector=(view?view.getCellSelector():'')+'.'+this.getCellId()}return this.cellSelector},getCellInnerSelector:function(){return this.getCellSelector()+' .x-grid-cell-inner'},isAtStartEdge:function(e){var offset=e.getXY()[0]-this.getX();return 0>offset&&0===this.getIndex()?!1:offset<this.getHandleWidth(e)},isAtEndEdge:function(e,margin){return this.getX()+this.getWidth()-e.getXY()[0]<=(margin||this.getHandleWidth(e))},isSortZone:function(e){var zone=!this.isAtStartEdge(e)&&!this.isAtEndEdge(e);
zone&&(e=Ext.Component.from(e))&&(e=e.focusable?e:e.up(':focusable'),zone=e===this);return zone},getHandleWidth:function(e){return'touch'===e.pointerType?10:4},setMenuActive:function(menu){this.activeMenu=menu;this.titleEl[menu?'addCls':'removeCls'](this.headerOpenCls)},getListOfSummaries:function(){var ret=[],v=this.getSummaries()||{},keys=Ext.Object.getAllKeys(v),len=keys.length,i;for(i=0;i<len;i++){var key=keys[i];v[key]&&ret.push(key)}return ret},applySummaries:function(newValue,oldValue){return this.self.getConfigurator().configs.summaries.mergeSets(newValue)},
applyGrouper:function(grouper){var field=this.displayField||this.dataIndex;grouper&&(grouper.isGrouper||(grouper=new Ext.util.Grouper(Ext.apply({property:field,root:'data'},grouper))));return grouper},getGrouper:function(){null==this.grouper&&this.groupable&&this.setGrouper(!0);return this.grouper},updateGroupFormatter:function(formatter){var grouper=this.getGrouper();grouper&&grouper.setFormatter(formatter)},privates:{_alignMap:{start:'left',end:'right'},afterText:function(out,values){this.dirtyText&&
(this.dirtyTextElementId=this.id+'-dirty-cell-text',out.push('\x3cspan id\x3d"'+this.dirtyTextElementId+'" class\x3d"x-hidden-offsets"\x3e'+this.dirtyText+'\x3c/span\x3e'))},calculateHeaderId:function(){var items,len;if(!this.headerId){var ownerGrid=this.up('tablepanel');if(!ownerGrid)return;if(items=this.items.items){var i=0;for(len=items.length;i<len;++i){var item=items[i];item.isColumn&&item.calculateHeaderId()}}ownerGrid=ownerGrid?ownerGrid.ownerGrid:this.getRootHeaderCt();ownerGrid.headerCounter=
(ownerGrid.headerCounter||0)+1;this.headerId='h'+ownerGrid.headerCounter}this.configureStateInfo()},getMappedAlignment:function(align){return this._alignMap[align]||align},configureStateInfo:function(){this.stateId||(this.stateId=this.initialConfig.id||this.headerId);var sorter=this.getSorter();this.hasSetSorter||!sorter||sorter.initialConfig.id||!this.dataIndex&&!this.stateId||(sorter.setId((this.dataIndex||this.stateId)+'-sorter'),this.hasSetSorter=!0);sorter=this.getGrouper();this.hasSetGrouper||
!sorter||sorter.initialConfig.id||!this.dataIndex&&!this.stateId||(sorter.setId((this.stateId||this.dataIndex)+'-grouper'),this.hasSetGrouper=!0)},onLock:function(header){var items=this.items.items,len=items.length,i;for(i=0;i<len;++i){var item=items[i];if(item.isColumn)item.onLock(header)}},onUnlock:function(header){var items=this.items.items,len=items.length,i;for(i=0;i<len;++i){var item=items[i];if(item.isColumn)item.onUnlock(header)}},shouldFlagCustomRenderer:function(renderer){return 1<renderer.length}},
deprecated:{5:{methods:{bindRenderer:function(renderer){return function(value){return Ext.util.Format[renderer](value)}}}}}},0,['gridcolumn'],['component','box','container','headercontainer','gridcolumn'],{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0},['widget.gridcolumn'],0,[Ext.grid.column,'Column',Ext.grid,'Column'],0);
Ext.define('Ext.theme.triton.grid.column.Column',{override:'Ext.grid.column.Column',compatibility:Ext.isIE8,onTitleMouseOver:function(){var triggerEl=this.triggerEl;arguments.callee.$previous.apply(this,arguments);triggerEl&&triggerEl.syncRepaint()}});
Ext.cmd.derive('Ext.grid.column.Check',Ext.grid.column.Column,{alternateClassName:['Ext.ux.CheckColumn','Ext.grid.column.CheckColumn'],isCheckColumn:!0,config:{headerCheckbox:!1},align:'center',triggerEvent:'click',invert:!1,ignoreExport:!0,stopSelection:!0,headerCheckedCls:'x-grid-hd-checker-on',headerCheckboxCls:'x-column-header-checkbox',checkboxCls:'x-grid-checkcolumn',checkboxCheckedCls:'x-grid-checkcolumn-checked',innerCls:'x-grid-checkcolumn-cell-inner',clickTargetName:'el',defaultFilterType:'boolean',
checkboxAriaRole:'button',constructor:function(config){this.scope=this;Ext.grid.column.Column.prototype.constructor.call(this,config)},afterComponentLayout:function(){Ext.grid.column.Column.prototype.afterComponentLayout.apply(this,arguments);this.useAriaElements&&this.headerCheckbox&&this.updateHeaderAriaDescription(this.areAllChecked());this.storeListeners||(this.updateHeaderState(),this.storeListeners=this.getView().dataSource.on({datachanged:this.onDataChanged,scope:this,destroyable:!0}))},onRemoved:function(){Ext.grid.column.Column.prototype.onRemoved.apply(this,
arguments);this.storeListeners=Ext.destroy(this.storeListeners)},onDataChanged:function(store,records){this.updateHeaderState()},updateHeaderCheckbox:function(headerCheckbox){headerCheckbox?(this.addCls('x-column-header-checkbox'),this.sortable=!1,this.useAriaElements&&this.updateHeaderAriaDescription(this.areAllChecked())):(this.removeCls('x-column-header-checkbox'),this.useAriaElements&&this.ariaEl.dom&&this.ariaEl.dom.removeAttribute('aria-describedby'));this.updateHeaderState()},processEvent:function(type,
view,cell,recordIndex,cellIndex,e,record,row){var key='keydown'===type&&e.getKey(),isClick=type===this.triggerEvent,disabled=this.disabled;e.stopSelection=!key&&this.stopSelection;if(disabled||!isClick&&key!==e.ENTER&&key!==e.SPACE)var ret=Ext.grid.column.Column.prototype.processEvent.apply(this,arguments);else key=!this.isRecordChecked(record),!1!==this.fireEvent('beforecheckchange',this,recordIndex,key,record,e)&&(this.setRecordCheck(record,recordIndex,key,cell,e),isClick&&!view.actionableMode&&
e.preventDefault(),this.hasListeners.checkchange&&this.fireEvent('checkchange',this,recordIndex,key,record,e));return ret},onTitleElClick:function(e,t,sortOnClick){if(this.disabled||!e.keyCode&&this.text&&!Ext.fly(e.target).hasCls(this.headerCheckboxCls))return Ext.grid.column.Column.prototype.onTitleElClick.call(this,e,t,sortOnClick);this.toggleAll(e)},toggleAll:function(e){var me=this,view=me.getView(),store=view.getStore(),checked=!me.allChecked;if(!1!==me.fireEvent('beforeheadercheckchange',me,
checked,e)){if(me.hasListeners.checkchange||me.hasListeners.beforecheckchange)e.position=new Ext.grid.CellContext(view);store.each(function(record,recordIndex){me.setRecordCheck(record,recordIndex,checked,view.getCell(record,me))});me.setHeaderStatus(checked,e);me.fireEvent('headercheckchange',me,checked,e)}},setHeaderStatus:function(checked,e){this.allChecked!==checked&&(this.allChecked=checked,this.headerCheckbox&&(this[checked?'addCls':'removeCls'](this.headerCheckedCls),this.useAriaElements&&
this.updateHeaderAriaDescription(checked)))},updateHeaderState:function(e){this.headerStateTimer||(this.headerStateTimer=Ext.raf(this.doUpdateHeaderState,this))},doUpdateHeaderState:function(e){this.headerStateTimer=null;!this.destroyed&&this.headerCheckbox&&this.setHeaderStatus(this.areAllChecked(),e)},onEnable:function(){Ext.grid.column.Column.prototype.onEnable.apply(this,arguments);this._setDisabled(!1)},onDisable:function(){this._setDisabled(!0)},_setDisabled:function(disabled){var cls=this.disabledCls;
var items=this.up('tablepanel').el.select(this.getCellSelector());disabled?items.addCls(cls):items.removeCls(cls)},defaultRenderer:function(value,cellValues){var cls=this.checkboxCls;this.invert&&(value=!value);this.disabled&&(cellValues.tdCls+=' '+this.disabledCls);if(value){cls+=' '+this.checkboxCheckedCls;var tip=this.checkedTooltip}else tip=this.tooltip;tip&&(cellValues.tdAttr+=' data-qtip\x3d"'+Ext.htmlEncode(tip)+'"');this.useAriaElements&&(cellValues.tdAttr+=' aria-describedby\x3d"'+this.id+
'-cell-description'+(value?'':'-not')+'-selected"');this.updateHeaderState();return'\x3cspan class\x3d"'+cls+'" role\x3d"'+this.checkboxAriaRole+'" aria-label\x3d"'+this.text+'"'+(this.ariaStaticRoles[this.checkboxAriaRole]?'':' tabIndex\x3d"0"')+'\x3e\x3c/span\x3e'},isRecordChecked:function(record){var prop=this.property;return prop?record[prop]:record.get(this.dataIndex)},areAllChecked:function(){var store=this.getView().getStore(),i;if(!store.isBufferedStore&&0<store.getCount()){store=store.getData().items;
var len=store.length;for(i=0;i<len;++i)if(!this.isRecordChecked(store[i]))return!1;return!0}},setRecordCheck:function(record,recordIndex,checked,cell){recordIndex=this.property;(recordIndex?record[recordIndex]:record.get(this.dataIndex))!=checked&&(recordIndex?(record[recordIndex]=checked,this.updater(cell,checked)):record.set(this.dataIndex,checked))},updater:function(cell,value){var tip;this.invert&&(value=!value);(tip=value?this.checkedTooltip:this.tooltip)?cell.setAttribute('data-qtip',tip):cell.removeAttribute('data-qtip');
this.useAriaElements&&this.updateCellAriaDescription(null,value,cell);cell=Ext.fly(cell);cell[this.disabled?'addCls':'removeCls'](this.disabledCls);Ext.fly(cell.down(this.getView().innerSelector,!0).firstChild)[value?'addCls':'removeCls']('x-grid-checkcolumn-checked');this.updateHeaderState()},updateHeaderAriaDescription:function(isSelected){this.useAriaElements&&this.ariaEl.dom&&this.ariaEl.dom.setAttribute('aria-describedby',this.id+'-header-description'+(isSelected?'':'-not')+'-selected')},updateCellAriaDescription:function(record,
isSelected,cell){this.useAriaElements&&(cell=cell||this.getView().getCell(record,this))&&cell.setAttribute('aria-describedby',this.id+'-cell-description'+(isSelected?'':'-not')+'-selected')},doDestroy:function(){Ext.unraf(this.headerStateTimer);Ext.grid.column.Column.prototype.doDestroy.call(this)},privates:{afterText:function(out,values){values=this.id;out.push('\x3cspan role\x3d"presentation" class\x3d"',this.headerCheckboxCls,'"\x3e\x3c/span\x3e');this.useAriaElements&&out.push('\x3cspan id\x3d"'+
values+'-header-description-selected" class\x3d"x-hidden-offsets"\x3e'+this.headerDeselectText+'\x3c/span\x3e\x3cspan id\x3d"'+values+'-header-description-not-selected" class\x3d"x-hidden-offsets"\x3e'+this.headerSelectText+'\x3c/span\x3e\x3cspan id\x3d"'+values+'-cell-description-selected" class\x3d"x-hidden-offsets"\x3e'+this.rowDeselectText+'\x3c/span\x3e\x3cspan id\x3d"'+values+'-cell-description-not-selected" class\x3d"x-hidden-offsets"\x3e'+this.rowSelectText+'\x3c/span\x3e')}}},1,['checkcolumn'],
'component box container headercontainer gridcolumn checkcolumn'.split(' '),{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,checkcolumn:!0},['widget.checkcolumn'],0,[Ext.grid.column,'Check',Ext.ux,'CheckColumn',Ext.grid.column,'CheckColumn'],0);Ext.define('Ext.theme.triton.grid.column.Check',{override:'Ext.grid.column.Check',compatibility:Ext.isIE8,setRecordCheck:function(record,index,checked,cell){arguments.callee.$previous.apply(this,arguments);Ext.fly(cell).syncRepaint()}});
Ext.cmd.derive('Ext.grid.column.Date',Ext.grid.column.Column,{alternateClassName:'Ext.grid.DateColumn',isDateColumn:!0,defaultFilterType:'date',producesHTML:!1,summaries:{min:!0,max:!0,count:!1},initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat);Ext.grid.column.Column.prototype.initComponent.apply(this,arguments)},defaultRenderer:function(value){return Ext.util.Format.date(value,this.format)},updater:function(cell,value){Ext.fly(cell).down(this.getView().innerSelector,!0).innerHTML=
Ext.grid.column.Date.prototype.defaultRenderer.call(this,value)}},0,['datecolumn'],'component box container headercontainer gridcolumn datecolumn'.split(' '),{component:!0,box:!0,container:!0,headercontainer:!0,gridcolumn:!0,datecolumn:!0},['widget.datecolumn'],0,[Ext.grid.column,'Date',Ext.grid,'DateColumn'],0);
Ext.cmd.derive('Ext.grid.feature.Feature',Ext.util.Observable,{wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,columnSizer:null,constructor:function(config){this.initialConfig=config;Ext.util.Observable.prototype.constructor.apply(this,arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,getFireEventArgs:function(eventName,view,featureTarget,e){return[eventName,view,featureTarget,e]},vetoEvent:Ext.emptyFn,
enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}},1,0,0,0,['feature.feature'],0,[Ext.grid.feature,'Feature'],0);
Ext.cmd.derive('Ext.grid.feature.RowBody',Ext.grid.feature.Feature,{rowBodyCls:'x-grid-row-body',innerSelector:'.x-grid-rowbody',rowBodyHiddenCls:'x-grid-row-body-hidden',rowBodyTdSelector:'td.x-grid-cell-rowbody',eventPrefix:'rowbody',eventSelector:'tr.x-grid-rowbody-tr',bodyBefore:!1,outerTpl:{fn:function(out,values,parent){var me=this.rowBody,view=values.view,columns=view.getVisibleColumnManager().getColumns(),rowValues=view.rowValues,rowExpanderCol=me.rowExpander&&me.rowExpander.expanderColumn;
rowValues.rowBodyColspan=columns.length;rowValues.rowBodyCls=me.rowBodyCls;rowValues.rowIdCls=me.rowIdCls;rowExpanderCol&&rowExpanderCol.getView()===view?(view.grid.removeCls('x-grid-hide-row-expander-spacer'),rowValues.addSpacerCell=!0,--rowValues.rowBodyColspan,rowValues.spacerCellCls='x-grid-cell x-grid-row-expander-spacer x-grid-cell-special'):(view.grid.addCls('x-grid-hide-row-expander-spacer'),rowValues.addSpacerCell=!1);this.nextTpl.applyOut(values,out,parent);rowValues.rowBodyCls=rowValues.rowBodyColspan=
rowValues.rowBody=null},priority:100},extraRowTpl:['{%','if(this.rowBody.bodyBefore) {','values.view.renderColumnSizer(values, out);','} else {','this.nextTpl.applyOut(values, out, parent);','}','values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);','%}','\x3ctr class\x3d"x-grid-rowbody-tr {rowBodyCls} {rowIdCls}" {ariaRowAttr}\x3e','\x3ctpl if\x3d"addSpacerCell"\x3e','\x3ctd class\x3d"{spacerCellCls}"\x3e\x3c/td\x3e','\x3c/tpl\x3e','\x3ctd class\x3d"x-grid-td x-grid-cell-rowbody" colspan\x3d"{rowBodyColspan}" {ariaCellAttr}\x3e',
'\x3cdiv class\x3d"x-grid-rowbody {rowBodyDivCls}" {ariaCellInnerAttr}\x3e{rowBody}\x3c/div\x3e','\x3c/td\x3e','\x3c/tr\x3e','{%','if(this.rowBody.bodyBefore) {','this.nextTpl.applyOut(values, out, parent);','}','%}',{priority:100,beginRowSync:function(rowSync){rowSync.add('rowBody',this.owner.eventSelector)},syncContent:function(destRow,sourceRow,columnsToUpdate){columnsToUpdate=this.rowBody;var sourceRowBody;columnsToUpdate.doSync&&(destRow=Ext.fly(destRow).down(columnsToUpdate.eventSelector,!0))&&
(sourceRowBody=Ext.fly(sourceRow).down(columnsToUpdate.eventSelector,!0))&&Ext.fly(destRow).syncContent(sourceRowBody)}}],doSync:!0,init:function(grid){var view=this.view=grid.getView();grid.variableRowHeight=view.variableRowHeight=!0;view.rowBodyFeature=this;view.headerCt.on({columnschanged:this.onColumnsChanged,scope:this});view.addTpl(this.outerTpl).rowBody=this;view.addRowTpl(Ext.XTemplate.getTpl(this,'extraRowTpl')).rowBody=this;Ext.grid.feature.Feature.prototype.init.apply(this,arguments)},
getSelectedRow:function(view,rowIndex){return(view=view.getNode(rowIndex))?Ext.fly(view).down(this.eventSelector):null},onColumnsChanged:function(headerCt){var view=this.view,i;if(view.rendered){view=view.el.query(this.rowBodyTdSelector);headerCt=headerCt.getVisibleGridColumns().length;var len=view.length;for(i=0;i<len;++i)view[i].setAttribute('colSpan',headerCt)}},setupRowData:function(record,rowIndex,rowValues){this.getAdditionalData&&Ext.apply(rowValues,this.getAdditionalData(record.data,rowIndex,
record,rowValues))}},0,0,0,0,['feature.rowbody'],0,[Ext.grid.feature,'RowBody'],0);
Ext.cmd.derive('Ext.menu.Item',Ext.Component,{alternateClassName:'Ext.menu.TextItem',isMenuItem:!0,config:{glyph:null},activated:!1,activeCls:'x-menu-item-active',clickHideDelay:0,destroyMenu:!0,disabledCls:'x-menu-item-disabled',emptyText:' ',hideOnClick:!0,menuAlign:'tl-tr?',menuExpandDelay:200,menuHideDelay:200,tooltipType:'qtip',focusable:!0,ariaRole:'menuitem',ariaEl:'itemEl',baseCls:'x-menu-item',arrowCls:'x-menu-item-arrow',baseIconCls:'x-menu-item-icon',textCls:'x-menu-item-text',indentCls:'x-menu-item-indent',
indentNoSeparatorCls:'x-menu-item-indent-no-separator',indentRightIconCls:'x-menu-item-indent-right-icon',indentRightArrowCls:'x-menu-item-indent-right-arrow',linkCls:'x-menu-item-link',linkHrefCls:'x-menu-item-link-href',childEls:['itemEl','iconEl','textEl','arrowEl'],renderTpl:'\x3ctpl if\x3d"plain"\x3e{text}\x3ctpl else\x3e\x3ca id\x3d"{id}-itemEl" data-ref\x3d"itemEl" class\x3d"{linkCls}\x3ctpl if\x3d"hasHref"\x3e {linkHrefCls}\x3c/tpl\x3e{childElCls}" href\x3d"{href}" \x3ctpl if\x3d"hrefTarget"\x3e target\x3d"{hrefTarget}"\x3c/tpl\x3e hidefocus\x3d"true" unselectable\x3d"on"\x3ctpl if\x3d"tabIndex !\x3d null"\x3e tabindex\x3d"{tabIndex}"\x3c/tpl\x3e\x3ctpl foreach\x3d"ariaAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e\x3e\x3cspan id\x3d"{id}-textEl" data-ref\x3d"textEl" class\x3d"{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable\x3d"on" role\x3d"presentation"\x3e{text}\x3c/span\x3e\x3ctpl if\x3d"hasIcon"\x3e\x3cdiv role\x3d"presentation" id\x3d"{id}-iconEl" data-ref\x3d"iconEl" class\x3d"{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style\x3d"\x3ctpl if\x3d"icon"\x3ebackground-image:url({icon});\x3c/tpl\x3e\x3ctpl if\x3d"glyph"\x3e\x3ctpl if\x3d"glyphFontFamily"\x3efont-family:{glyphFontFamily};\x3c/tpl\x3e"\x3e{glyph}\x3ctpl else\x3e"\x3e\x3c/tpl\x3e\x3c/div\x3e\x3c/tpl\x3e\x3ctpl if\x3d"showCheckbox"\x3e\x3cdiv role\x3d"presentation" id\x3d"{id}-checkEl" data-ref\x3d"checkEl" class\x3d"{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon \x26\x26 !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"\x3e\x3c/div\x3e\x3c/tpl\x3e\x3ctpl if\x3d"hasMenu"\x3e\x3cdiv role\x3d"presentation" id\x3d"{id}-arrowEl" data-ref\x3d"arrowEl" class\x3d"{arrowCls} {arrowCls}-{ui}{childElCls}"\x3e\x3c/div\x3e\x3c/tpl\x3e\x3c/a\x3e\x3c/tpl\x3e',
autoEl:{role:'presentation'},maskOnDisable:!1,iconAlign:'left',initComponent:function(){var cls=this.cls?[this.cls]:[];this.hasOwnProperty('canActivate')&&(this.focusable=this.canActivate);this.plain&&cls.push('x-menu-item-plain');cls.length&&(this.cls=cls.join(' '));this.menu&&(cls=this.menu,this.menu=null,this.setMenu(cls));Ext.Component.prototype.initComponent.apply(this,arguments)},canFocus:function(){return this.focusable&&this.rendered&&!1!==this.canActivate&&!this.destroying&&!this.destroyed&&
this.isVisible(!0)},onFocus:function(e){Ext.Component.prototype.onFocus.call(this,e);this.plain||this.addCls(this.activeCls);this.activated=!0;this.hasListeners.activate&&this.fireEvent('activate',this)},onFocusLeave:function(e){Ext.Component.prototype.onFocusLeave.call(this,e);this.plain||this.removeCls(this.activeCls);this.doHideMenu();this.activated=!1;this.hasListeners.deactivate&&this.fireEvent('deactivate',this)},doHideMenu:function(){var menu=this.menu;this.cancelDeferExpand();menu&&menu.isVisible()&&
menu.hide()},deferHideParentMenus:function(){var menu;for(menu=this.getRefOwner();menu&&(menu.isMenu&&menu.floating||menu.isMenuItem);menu=menu.getRefOwner())menu.isMenu&&menu.hide()},expandMenu:function(event,delay){!this.disabled&&this.activated&&this.menu&&(this.hideOnClick=!1,this.cancelDeferHide(),delay=null==delay?this.menuExpandDelay:delay,0===delay?this.doExpandMenu(event):(this.cancelDeferExpand(),this.expandMenuTimer=Ext.defer(this.doExpandMenu,delay,this,[event])))},doExpandMenu:function(clickEvent){var menu=
this.menu;menu.isVisible()?clickEvent&&'keydown'===clickEvent.type&&menu.focus():(this.parentMenu.activeChild=menu,menu.ownerCmp=this,menu.parentMenu=this.parentMenu,menu.constrainTo=document.body,menu.autoFocus=!clickEvent||!clickEvent.pointerType,menu.showBy(this,this.menuAlign),(clickEvent=this.ariaEl.dom)&&clickEvent.setAttribute('aria-owns',menu.id))},getRefItems:function(deep){var menu=this.menu;if(menu){var items=menu.getRefItems(deep);items.unshift(menu)}return items||[]},getValue:function(){return this.value},
hideMenu:function(delay){this.menu&&(this.cancelDeferExpand(),this.hideMenuTimer=Ext.defer(this.doHideMenu,Ext.isNumber(delay)?delay:this.menuHideDelay,this))},onClick:function(e){var clickHideDelay=this.clickHideDelay,browserEvent=e.browserEvent;if(!this.href||this.disabled)if(e.stopEvent(),this.disabled)return!1;if(!(this.disabled||this.handlingClick||(this.hideOnClick&&!this.menu&&(clickHideDelay?this.deferHideParentMenusTimer=Ext.defer(this.deferHideParentMenus,clickHideDelay,this):this.deferHideParentMenus()),
clickHideDelay=this.fireEvent('click',this,e),this.destroyed||(!1!==clickHideDelay&&this.handler&&Ext.callback(this.handler,this.scope,[this,e],0,this),this.destroyed))))return browserEvent=Ext.isIE9m?!1===browserEvent.returnValue?!0:!1:!!browserEvent.defaultPrevented,this.href&&'click'!==e.type&&!browserEvent&&(this.handlingClick=!0,this.itemEl.dom.click(),this.handlingClick=!1),this.hideOnClick||this.hasFocus||this.focus(),clickHideDelay},onRemoved:function(){this.activated&&this.parentMenu.activeItem===
this&&this.parentMenu.deactivateActiveItem();Ext.Component.prototype.onRemoved.apply(this,arguments);this.parentMenu=this.ownerCmp=null},doDestroy:function(){this.rendered&&this.clearTip();this.cancelDeferExpand();this.cancelDeferHide();Ext.undefer(this.deferHideParentMenusTimer);this.setMenu(null);Ext.Component.prototype.doDestroy.call(this)},beforeRender:function(){var glyph=this.glyph,hasIcon=!!(this.icon||this.iconCls||glyph),hasMenu=!!this.menu,rightIcon='right'===this.iconAlign&&!hasMenu,isCheckItem=
this.isMenuCheckItem,indentCls=[],ownerCt=this.ownerCt,isOwnerPlain=ownerCt.plain;this.plain&&(this.ariaEl='el');Ext.Component.prototype.beforeRender.call(this);hasIcon&&hasMenu&&this.showCheckbox&&(hasIcon=!1);if(glyph){var glyphFontFamily=glyph.fontFamily;glyph=glyph.character}if(!isOwnerPlain||hasIcon&&!rightIcon||isCheckItem)ownerCt.showSeparator&&!isOwnerPlain?indentCls.push(this.indentCls):indentCls.push(this.indentNoSeparatorCls);hasMenu?indentCls.push(this.indentRightArrowCls):hasIcon&&(rightIcon||
isCheckItem)&&indentCls.push(this.indentRightIconCls);Ext.applyIf(this.renderData,{hasHref:!!this.href,href:this.href||'#',hrefTarget:this.hrefTarget,icon:this.icon,iconCls:this.iconCls,glyph,glyphCls:glyph?'x-menu-item-glyph':void 0,glyphFontFamily,hasIcon,hasMenu,indent:!isOwnerPlain||hasIcon||isCheckItem,isCheckItem,rightIcon,plain:this.plain,text:this.getDisplayText(),arrowCls:this.arrowCls,baseIconCls:this.baseIconCls,textCls:this.textCls,indentCls:indentCls.join(' '),linkCls:this.linkCls,linkHrefCls:this.linkHrefCls,
groupCls:this.group?this.groupCls:'',tabIndex:this.tabIndex})},onRender:function(){Ext.Component.prototype.onRender.apply(this,arguments);this.tooltip&&this.setTooltip(this.tooltip,!0)},getMenu:function(){return this.menu||null},setMenu:function(menu,destroyMenu){var oldMenu=this.menu,arrowEl=this.arrowEl,ariaDom=this.ariaEl.dom;oldMenu&&(oldMenu.ownerCmp=oldMenu.parentMenu=null,(!0===destroyMenu||!1!==destroyMenu&&this.destroyMenu)&&Ext.destroy(oldMenu),ariaDom?(ariaDom.removeAttribute('aria-haspopup'),
ariaDom.removeAttribute('aria-owns')):(destroyMenu=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),delete destroyMenu['aria-haspopup'],delete destroyMenu['aria-owns']));menu?(destroyMenu=menu.isMenu,menu=this.menu=Ext.menu.Manager.get(menu,{ownerCmp:this,focusOnToFront:!1}),menu.setOwnerCmp(this,destroyMenu),ariaDom?(ariaDom.setAttribute('aria-haspopup',!0),ariaDom.setAttribute('aria-owns',menu.id)):(destroyMenu=this.ariaRenderAttributes||(this.ariaRenderAttributes={}),destroyMenu['aria-haspopup']=
!0,menu.hidden||(destroyMenu['aria-owns']=menu.id))):menu=this.menu=null;if(menu&&this.rendered&&!this.destroying&&arrowEl)arrowEl[menu?'addCls':'removeCls'](this.arrowCls)},setHandler:function(fn,scope){this.handler=fn||null;this.scope=scope},setIcon:function(icon){var iconEl=this.iconEl,oldIcon=this.icon;this.glyph&&this.setGlyph(null);iconEl&&iconEl.setStyle('background-image',icon?'url('+icon+')':'');this.icon=icon;this.fireEvent('iconchange',this,oldIcon,icon)},setIconCls:function(iconCls){var iconEl=
this.iconEl,oldCls=this.iconCls;this.glyph&&this.setGlyph(null);iconEl&&(iconEl.setStyle('background-image',''),this.iconCls&&iconEl.removeCls(this.iconCls),iconCls&&iconEl.addCls(iconCls));this.iconCls=iconCls;this.fireEvent('iconchange',this,oldCls,iconCls)},setText:function(text){var el=this.textEl||this.el,oldText=this.text;this.text=text;this.rendered&&(el.setHtml(this.getDisplayText()),this.updateLayout());this.fireEvent('textchange',this,oldText,text)},getTipAttr:function(){return'qtip'===
this.tooltipType?'data-qtip':'title'},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(tooltip,initial){this.rendered?(initial||this.clearTip(),Ext.quickTipsActive&&Ext.isObject(tooltip)?(Ext.tip.QuickTipManager.register(Ext.apply({target:this.itemEl.id},tooltip)),this.tooltip=tooltip):this.itemEl.dom.setAttribute(this.getTipAttr(),tooltip)):this.tooltip=tooltip;return this},getFocusEl:function(){return this.plain?
this.el:this.itemEl},getFocusClsEl:function(){return this.el},getDisplayText:function(){return this.text||this.emptyText},privates:{cancelDeferExpand:function(){window.clearTimeout(this.expandMenuTimer)},cancelDeferHide:function(){window.clearTimeout(this.hideMenuTimer)}},applyGlyph:function(glyph,oldGlyph){glyph&&(glyph.isGlyph||(glyph=new Ext.Glyph(glyph)),glyph.isEqual(oldGlyph)&&(glyph=void 0));return glyph},updateGlyph:function(glyph,oldGlyph){if(oldGlyph=this.iconEl)oldGlyph.setStyle('background-image',
'none'),this.icon=null,glyph?(oldGlyph.dom.innerHTML=glyph.character,oldGlyph.setStyle(glyph.getStyle())):oldGlyph.dom.innerHTML=''}},0,['menuitem'],['component','box','menuitem'],{component:!0,box:!0,menuitem:!0},['widget.menuitem'],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.menu,'Item',Ext.menu,'TextItem'],0);
Ext.define('Ext.theme.triton.menu.Item',{override:'Ext.menu.Item',compatibility:Ext.isIE8,onFocus:function(e){(arguments.callee.$previous||Ext.Component.prototype.onFocus).call(this,e);this.repaintIcons()},onFocusLeave:function(e){(arguments.callee.$previous||Ext.Component.prototype.onFocusLeave).call(this,e);this.repaintIcons()},privates:{repaintIcons:function(){var iconEl=this.iconEl,arrowEl=this.arrowEl,checkEl=this.checkEl;iconEl&&iconEl.syncRepaint();arrowEl&&arrowEl.syncRepaint();checkEl&&checkEl.syncRepaint()}}});
Ext.cmd.derive('Ext.menu.CheckItem',Ext.menu.Item,{checkedCls:'x-menu-item-checked',uncheckedCls:'x-menu-item-unchecked',groupCls:'x-menu-group-icon',hideOnClick:!1,checkChangeDisabled:!1,submenuText:'{0} submenu',ariaRole:'menuitemcheckbox',childEls:['checkEl'],defaultBindProperty:'checked',showCheckbox:!0,isMenuCheckItem:!0,checkboxCls:'x-menu-item-checkbox',initComponent:function(){var checked=this.checked;this.checkedConfigure=checked;this.checked=!!checked;Ext.menu.Item.prototype.initComponent.call(this);
this.group&&(Ext.menu.Manager.registerCheckable(this),!1!==this.initialConfig.hideOnClick&&(this.hideOnClick=!0))},beforeRender:function(){Ext.menu.Item.prototype.beforeRender.call(this);Ext.apply(this.renderData,{checkboxCls:this.checkboxCls,showCheckbox:this.showCheckbox});var ariaAttr=this.ariaRenderAttributes||(this.ariaRenderAttributes={});ariaAttr['aria-checked']=this.menu?'mixed':this.checked;this.menu&&(ariaAttr['aria-label']=Ext.String.formatEncode(this.submenuText,this.text))},afterRender:function(){Ext.menu.Item.prototype.afterRender.call(this);
this.checked=!this.checked;this.initial=!0;this.setChecked(!this.checked,!0);this.initial=!1;this.checkChangeDisabled&&this.disableCheckChange();if(Ext.isGecko&&this.checkEl)this.checkEl.on('mousedown',this.onMouseDownCheck)},disableCheckChange:function(){var checkEl=this.checkEl;checkEl&&checkEl.addCls(this.disabledCls);Ext.isIE8&&this.rendered&&this.el.repaint();this.checkChangeDisabled=!0},enableCheckChange:function(){var checkEl=this.checkEl;checkEl&&checkEl.removeCls(this.disabledCls);this.checkChangeDisabled=
!1},onMouseDownCheck:function(e){e.preventDefault()},onClick:function(e){return this.disabled||this.checkChangeDisabled||this.checked&&this.group||this.menu&&'touch'===e.pointerType&&!this.checkEl.contains(e.target)||(this.setChecked(!this.checked),'keydown'!==e.type||!this.menu)?Ext.menu.Item.prototype.onClick.call(this,e):!1},doDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);Ext.menu.Item.prototype.doDestroy.call(this)},setText:function(text){var ariaDom=this.ariaEl.dom;Ext.menu.Item.prototype.setText.call(this,
text);ariaDom&&this.menu&&ariaDom.setAttribute('aria-label',Ext.String.formatEncode(this.submenuText,text))},setChecked:function(checked,suppressEvents){var checkedCls=this.checkedCls,uncheckedCls=this.uncheckedCls,el=this.el,ariaDom=this.ariaEl.dom,checkedConfigure=this.checkedConfigure;this.checked===checked||!suppressEvents&&!1===this.fireEvent('beforecheckchange',this,checked)||(el&&(checked?(el.addCls(checkedCls),el.removeCls(uncheckedCls)):(el.addCls(uncheckedCls),el.removeCls(checkedCls))),
ariaDom&&ariaDom.setAttribute('aria-checked',this.menu?'mixed':!!checked),this.checkedConfigure=this.checked=checked,Ext.menu.Manager.onCheckChange(this,checked),this.initial&&null==checkedConfigure||this.publishState('checked',checked),suppressEvents||(Ext.callback(this.checkHandler,this.scope,[this,checked],0,this),this.fireEvent('checkchange',this,checked)))}},0,['menucheckitem'],['component','box','menuitem','menucheckitem'],{component:!0,box:!0,menuitem:!0,menucheckitem:!0},['widget.menucheckitem'],
0,[Ext.menu,'CheckItem'],0);Ext.cmd.derive('Ext.menu.Separator',Ext.menu.Item,{focusable:!1,canActivate:!1,hideOnClick:!1,plain:!0,separatorCls:'x-menu-item-separator',text:'\x26#160;',ariaRole:'separator',beforeRender:function(){this.addCls(this.separatorCls);Ext.menu.Item.prototype.beforeRender.call(this)}},0,['menuseparator'],['component','box','menuitem','menuseparator'],{component:!0,box:!0,menuitem:!0,menuseparator:!0},['widget.menuseparator'],0,[Ext.menu,'Separator'],0);
Ext.define('Ext.theme.neptune.menu.Separator',{override:'Ext.menu.Separator',border:!0});
Ext.cmd.derive('Ext.menu.Menu',Ext.panel.Panel,{defaultType:'menuitem',enableKeyNav:!0,allowOtherMenus:!1,ariaRole:'menu',floating:!0,constrain:!0,hidden:!0,hideMode:'visibility',ignoreParentClicks:!1,mouseLeaveDelay:50,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,defaultAlign:'tl-bl?',focusOnToFront:!1,bringParentToFront:!1,alignOnScroll:!1,focusable:!0,tabIndex:-1,focusableContainer:!0,defaultFocus:':focusable',allowFocusingDisabledChildren:!0,menuClickBuffer:0,baseCls:'x-menu',
_iconSeparatorCls:'x-menu-icon-separator',_itemCmpCls:'x-menu-item-cmp',layout:{type:'vbox',align:'stretchmax',overflowHandler:'Scroller'},initComponent:function(){var cls=['x-menu'],bodyCls=this.bodyCls?[this.bodyCls]:[],isFloating=!1!==this.floating,listeners={element:'el',click:this.onClick,mouseover:this.onMouseOver,scope:this};Ext.supports.Touch&&(listeners.pointerdown=this.onMouseOver);this.on(listeners);this.on({beforeshow:this.onBeforeShow,scope:this});this.plain&&cls.push('x-menu-plain');
this.cls=cls.join(' ');bodyCls.push('x-menu-body',Ext.dom.Element.unselectableCls);this.bodyCls=bodyCls.join(' ');isFloating?void 0===this.minWidth&&(this.minWidth=this.defaultMinWidth):(this.hidden=!!this.initialConfig.hidden,this.constrain=!1);Ext.panel.Panel.prototype.initComponent.call(this);Ext.override(this.getLayout(),{configureItem:this.configureItem});this.itemOverTask=new Ext.util.DelayedTask(this.handleItemOver,this)},initFloatConstrain:Ext.emptyFn,getInherited:function(){var result=Ext.panel.Panel.prototype.getInherited.call(this);
this.floating&&(result.hidden=this.hidden);return result},beforeRender:function(){Ext.panel.Panel.prototype.beforeRender.call(this);this.getSizeModel().width.shrinkWrap||(this.layout.align='stretch');this.floating&&(this.ariaRenderAttributes=this.ariaRenderAttributes||{},this.ariaRenderAttributes['aria-expanded']=!!this.autoShow)},onBoxReady:function(width,height){var iconSeparatorCls=this._iconSeparatorCls,keyNav=this.focusableKeyNav;keyNav?keyNav.map.addBinding([{key:Ext.event.Event.ESC,handler:this.onEscapeKey,
scope:this},{key:/[\w]/,handler:this.onShortcutKey,scope:this,shift:!1,ctrl:!1,alt:!1}]):this.escapeKeyNav=new Ext.util.KeyNav({target:this.el,eventName:'keydown',scope:this,esc:this.onEscapeKey});Ext.panel.Panel.prototype.onBoxReady.call(this,width,height);this.showSeparator&&(this.iconSepEl=this.body.insertFirst({role:'presentation',cls:iconSeparatorCls+' '+iconSeparatorCls+'-'+this.ui,html:'\x26#160;'}));if(Ext.supports.Touch||Ext.supports.MSPointerEvents||Ext.supports.PointerEvents)this.el.on({scope:this,
click:this.preventClick,translate:!1});this.mouseMonitor=this.el.monitorMouseLeave(this.mouseLeaveDelay,this.onMouseLeave,this)},onFocusEnter:function(e){Ext.panel.Panel.prototype.onFocusEnter.call(this,e);this.mixins.focusablecontainer.onFocusEnter.call(this,e);if(this.floating){var hierarchyState=this.getInherited();hierarchyState.topmostFocusEvent||(hierarchyState.topmostFocusEvent=e)}},onFocusLeave:function(e){Ext.panel.Panel.prototype.onFocusLeave.call(this,e);this.lastFocusedChild=null;this.mixins.focusablecontainer.onFocusLeave.call(this,
e);this.floating&&this.hide()},handleItemOver:function(e,item){item.containsFocus||'mouse'!==e.pointerType&&!item.isMenuItem||item.focus();item.expandMenu&&item.expandMenu(e)},canActivateItem:function(item){return item&&item.isFocusable()},deactivateActiveItem:function(){var activeItem=this.lastFocusedChild;activeItem&&activeItem.blur()},getItemFromEvent:function(e){var renderTarget=this.layout.getRenderTarget().dom;for(e=e.getTarget();e.parentNode!==renderTarget;)if(e=e.parentNode,!e)return;return Ext.getCmp(e.id)},
lookupComponent:function(cmp){'string'===typeof cmp?cmp='@'===cmp[0]?Ext.panel.Panel.prototype.lookupComponent.call(this,cmp):this.lookupItemFromString(cmp):Ext.isObject(cmp)&&(cmp=this.lookupItemFromObject(cmp));cmp.dock||(cmp.minWidth=cmp.minWidth||this.minWidth);return cmp},lookupItemFromObject:function(cmp){var type=this.defaultType;cmp.isComponent||(!cmp.xtype&&Ext.isBoolean(cmp.checked)&&(type='menucheckitem'),cmp=Ext.ComponentManager.create(cmp,type));cmp.isMenuItem&&(cmp.parentMenu=this);
return cmp},lookupItemFromString:function(cmp){return'separator'===cmp||'-'===cmp?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:cmp})},configureItem:function(cmp){var me=this.owner,ui=me.ui;if(cmp.isMenuItem)cmp.setUI(ui);else if(1<me.items.getCount()&&!cmp.rendered&&!cmp.dock){var cls=me._itemCmpCls;cls=[cls,cls+'-'+ui];me.plain||!1===cmp.indent&&'no-icon'!==cmp.iconCls||cls.push('x-menu-item-indent-'+ui);cmp.rendered?cmp.el.addCls(cls):cmp.cls=(cmp.cls||'')+
' '+cls.join(' ');cmp.$extraMenuCls=cls}this.callParent(arguments)},onRemove:function(cmp){Ext.panel.Panel.prototype.onRemove.call(this,cmp);!cmp.destroyed&&cmp.$extraMenuCls&&cmp.el.removeCls(cmp.$extraMenuCls)},onClick:function(e){var item,clickResult,iskeyEvent='keydown'===e.type;if(this.disabled)e.stopEvent();else{if((item=this.getItemFromEvent(e))&&item.isMenuItem){item.menu&&this.ignoreParentClicks?e.stopEvent():clickResult=item.onClick(e);if(this.destroyed)return;item.menu&&!1!==clickResult&&
iskeyEvent&&item.expandMenu(e,0)}if(!item||item.disabled)item=void 0;this.fireEvent('click',this,item,e)}},doDestroy:function(){this.escapeKeyNav&&this.escapeKeyNav.destroy();this.itemOverTask.cancel();this.parentMenu=this.ownerCmp=this.escapeKeyNav=null;this.rendered&&(this.el.un(this.mouseMonitor),Ext.destroy(this.iconSepEl));Ext.menu.Manager.onHide(this);Ext.panel.Panel.prototype.doDestroy.call(this)},onMouseLeave:function(e){this.itemOverTask&&this.itemOverTask.cancel();this.disabled||this.fireEvent('mouseleave',
this,e)},onMouseOver:function(e){var fromEl=e.getRelatedTarget();fromEl=!this.el.contains(fromEl);var item=this.getItemFromEvent(e),parentMenu=this.parentMenu,ownerCmp=this.ownerCmp;fromEl&&parentMenu&&(parentMenu.setActiveItem(ownerCmp),ownerCmp.cancelDeferHide(),parentMenu.mouseMonitor.mouseenter(),parentMenu.itemOverTask.cancel());this.disabled||(item&&('touch'===e.pointerType?this.handleItemOver(e,item):this.itemOverTask.delay(this.expanded?this.mouseLeaveDelay:0,null,null,[e,item])),fromEl&&
this.fireEvent('mouseenter',this,e),this.fireEvent('mouseover',this,item,e))},setActiveItem:function(item){item&&item!==this.lastFocusedChild&&this.focusChild(item,1)},onEscapeKey:function(){this.floating&&this.hide()},onShortcutKey:function(keyCode,e){keyCode=String.fromCharCode(e.getCharCode());e=this.query('\x3e[text]');var len=e.length,item=this.lastFocusedChild,focusIndex=Ext.Array.indexOf(e,item),i=focusIndex;if(0!==len)for(;;){++i===len&&(i=0);item=e[i];if(i===focusIndex)break;if(item.text&&
item.text[0].toUpperCase()===keyCode){item.focus();break}}},onBeforeShow:function(){if(Ext.Date.getElapsed(this.lastHide)<this.menuClickBuffer)return!1},beforeShow:function(){var parent;this.floating&&((parent=this.hasFloatMenuParent())||this.allowOtherMenus||Ext.menu.Manager.hideAll());Ext.panel.Panel.prototype.beforeShow.call(this)},afterShow:function(animateTarget,callback,scope){var ariaDom=this.ariaEl.dom;Ext.panel.Panel.prototype.afterShow.call(this,animateTarget,callback,scope);Ext.menu.Manager.onShow(this);
this.parentMenu&&(this.parentMenu.expanded=!0);this.floating&&ariaDom&&ariaDom.setAttribute('aria-expanded',!0);this.floating&&(this.maxHeight=this.savedMaxHeight);this.autoFocus&&this.focus()},onHide:function(animateTarget,cb,scope){var ariaDom=this.ariaEl.dom;Ext.panel.Panel.prototype.onHide.call(this,animateTarget,cb,scope);this.lastHide=Ext.Date.now();Ext.menu.Manager.onHide(this);this.parentMenu&&(this.parentMenu.expanded=!1);this.floating&&ariaDom&&ariaDom.setAttribute('aria-expanded',!1)},
afterHide:function(cb,scope){Ext.panel.Panel.prototype.afterHide.call(this,cb,scope);delete this.getInherited().topmostFocusEvent},preventClick:function(e){var item=this.getItemFromEvent(e);item&&item.isMenuItem&&!item.href&&e.preventDefault()},privates:{applyDefaults:function(config){Ext.isString(config)||(config=Ext.panel.Panel.prototype.applyDefaults.call(this,config));return config},initFocusableElement:function(){var tabIndex=this.tabIndex,el=this.el;this.floating&&null!=tabIndex&&el&&el.dom&&
(el.dom.setAttribute('tabIndex',tabIndex),el.dom.setAttribute('data-componentid',this.id))},processFocusableContainerKeyEvent:function(e){if(e.keyCode===e.ESC)e.target=this.el.dom;else if(e.keyCode===e.TAB&&Ext.fly(e.target).is('input[type\x3dtext],textarea'))e.preventDefault(),e.target=this.getItemFromEvent(e).el.dom,e.shiftKey?(e.shiftKey=!1,e.keyCode=e.UP):e.keyCode=e.DOWN;else return Ext.panel.Panel.prototype.processFocusableContainerKeyEvent.call(this,e);return e},onFocusableContainerTabKey:function(e){this.floating&&
(e.shiftKey?e.preventDefault():this.focusEnterEvent=this.getInherited().topmostFocusEvent,this.hide())},onFocusableContainerEnterKey:function(e){this.onClick(e)},onFocusableContainerSpaceKey:function(e){this.onClick(e)},onFocusableContainerLeftKey:function(e){e.preventDefault();this.parentMenu&&(this.ownerCmp.focus(),this.hide())},onFocusableContainerRightKey:function(e){var focusItem=this.lastFocusedChild;e.preventDefault();focusItem&&focusItem.expandMenu&&focusItem.expandMenu(e,0)},hasFloatMenuParent:function(){return this.parentMenu||
this.up('menu[floating\x3dtrue]')},setOwnerCmp:function(comp,instanced){this.parentMenu=comp.isMenuItem?comp:null;this.ownerCmp=comp;this.registerWithOwnerCt();delete this.hierarchicallyHidden;this.onInheritedAdd(comp,instanced);this.containerOnAdded(comp,instanced)}}},0,['menu'],['component','box','container','panel','menu'],{component:!0,box:!0,container:!0,panel:!0,menu:!0},['widget.menu'],0,[Ext.menu,'Menu'],0);Ext.define('Ext.theme.neptune.menu.Menu',{override:'Ext.menu.Menu',showSeparator:!1});
Ext.define('Ext.theme.triton.menu.Menu',{override:'Ext.menu.Menu',compatibility:Ext.isIE8,afterShow:function(){var item,len;(arguments.callee.$previous||Ext.panel.Panel.prototype.afterShow).apply(this,arguments);var items=this.items.getRange();var i=0;for(len=items.length;i<len;i++)(item=items[i])&&item.repaintIcons&&item.repaintIcons()}});Ext.define('Ext.theme.material.menu.Menu',{override:'Ext.menu.Menu',ripple:{color:'default'}});
Ext.cmd.derive('Ext.grid.locking.HeaderContainer',Ext.grid.header.Container,{headerCtRelayEvents:'blur focus move resize destroy beforedestroy boxready afterrender render beforerender removed hide beforehide show beforeshow enable disable added deactivate beforedeactivate activate beforeactivate remove add beforeremove beforeadd afterlayout menucreate sortchange columnschanged columnshow columnhide columnmove headertriggerclick headercontextmenu headerclick columnresize statesave beforestatesave staterestore beforestaterestore'.split(' '),
constructor:function(lockable){var lockedGrid=lockable.lockedGrid,normalGrid=lockable.normalGrid;this.lockable=lockable;Ext.grid.header.Container.prototype.constructor.call(this);lockedGrid.visibleColumnManager.rootColumns=normalGrid.visibleColumnManager.rootColumns=lockable.visibleColumnManager=this.visibleColumnManager=new Ext.grid.ColumnManager(!0,lockedGrid.headerCt,normalGrid.headerCt);lockedGrid.columnManager.rootColumns=normalGrid.columnManager.rootColumns=lockable.columnManager=this.columnManager=
new Ext.grid.ColumnManager(!1,lockedGrid.headerCt,normalGrid.headerCt);this.lockedEventRelayers=this.relayEvents(lockedGrid.headerCt,this.headerCtRelayEvents);this.normalEventRelayers=this.relayEvents(normalGrid.headerCt,this.headerCtRelayEvents)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},
getColumnsState:function(){var locked=this.lockable.lockedGrid.headerCt.getColumnsState(),normal=this.lockable.normalGrid.headerCt.getColumnsState();return locked.concat(normal)},applyColumnsState:function(columnsState,storeState){var lockedGrid=this.lockable.lockedGrid,normalGrid=this.lockable.normalGrid,lockedHeaderCt=lockedGrid.headerCt,normalHeaderCt=this.lockable.normalGrid.headerCt,columns=lockedHeaderCt.items.items.concat(normalHeaderCt.items.items),length=columns.length,i,colState;for(i=0;i<
length;i++){var column=columns[i];if(colState=columnsState[column.getStateId()]){var lockedCount=null!=colState.locked&&!!column.locked!==colState.locked;column.applyColumnState&&column.applyColumnState(colState,storeState);lockedCount&&(column.locked?lockedHeaderCt:normalHeaderCt).add(column)}}lockedCount=lockedHeaderCt.items.items.length;for(i=0;i<length;i++)column=columns[i],(colState=columnsState[column.getStateId()])&&!column.locked&&(colState.index=Math.max(0,colState.index-lockedCount));lockedHeaderCt.applyColumnsState(columnsState,
storeState);normalHeaderCt.applyColumnsState(columnsState,storeState);lockedGrid.getVisibleColumnManager().getColumns().length||lockedGrid.hide();normalGrid.getVisibleColumnManager().getColumns().length||normalGrid.hide()},disable:function(){var topGrid=this.lockable;topGrid.lockedGrid.headerCt.disable();topGrid.normalGrid.headerCt.disable()},enable:function(){var topGrid=this.lockable;topGrid.lockedGrid.headerCt.enable();topGrid.normalGrid.headerCt.enable()}},1,0,['component','box','container','headercontainer'],
{component:!0,box:!0,container:!0,headercontainer:!0},0,0,[Ext.grid.locking,'HeaderContainer'],0);
Ext.cmd.derive('Ext.grid.locking.View',Ext.Base,{alternateClassName:'Ext.grid.LockingView',isLockingView:!0,loadMask:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(config){var ext=Ext,lockedView,normalView;this.ownerGrid=config.ownerGrid;this.ownerGrid.view=this;this.navigationModel='treepanel'===config.locked.xtype?new ext.tree.NavigationModel(this):new ext.grid.NavigationModel(this);config.locked.viewConfig.bindStore=config.normal.viewConfig.bindStore=
this.subViewBindStore;config.normal.viewConfig.isNormalView=config.locked.viewConfig.isLockedView=!0;config.locked.viewConfig.navigationModel=config.normal.viewConfig.navigationModel=this.navigationModel;this.lockedGrid=this.ownerGrid.lockedGrid=ext.ComponentManager.create(config.locked);this.lockedView=lockedView=this.lockedGrid.getView();this.selModel=config.normal.viewConfig.selModel=lockedView.getSelectionModel();this.lockedGrid.isTree&&(this.lockedView.animate=!1,config.normal.store=lockedView.store,
config.normal.viewConfig.stripeRows=this.lockedView.stripeRows,config.normal.rowLines=this.lockedGrid.rowLines);this.normalGrid=this.ownerGrid.normalGrid=ext.ComponentManager.create(config.normal);lockedView.lockingPartner=normalView=this.normalView=this.normalGrid.getView();normalView.lockingPartner=lockedView;Ext.override(this.normalGrid,{beforeRender:this.beforeNormalGridRender});this.loadMask=void 0!==config.loadMask?config.loadMask:this.loadMask;this.mixins.observable.constructor.call(this);
this.lockedViewEventRelayers=this.relayEvents(lockedView,ext.view.Table.events);this.normalViewEventRelayers=this.relayEvents(normalView,ext.view.Table.events.concat(ext.view.Table.normalSideEvents));normalView.on({scope:this,itemmouseleave:this.onItemMouseLeave,itemmouseenter:this.onItemMouseEnter});lockedView.on({scope:this,itemmouseleave:this.onItemMouseLeave,itemmouseenter:this.onItemMouseEnter});this.loadingText=normalView.loadingText;this.loadingCls=normalView.loadingCls;this.loadingUseMsg=
normalView.loadingUseMsg;this.itemSelector=this.getItemSelector();this.all=normalView.all;this.bindStore(normalView.dataSource,!0,'dataSource')},subViewBindStore:function(store,initial){var grid=this.ownerGrid;this.destroying||this.destroyed||grid.destroying||grid.destroyed||(this.isNormalView&&(grid=this.getSelectionModel(),grid.bindStore(store,initial),grid.bindComponent(this)),this.refreshNeeded=!0)},beforeNormalGridRender:function(){this.ownerGrid.lockedGrid.getHeader()&&!this.title&&(this.title=
' ');this.callParent()},onPanelRender:function(el){var mask=this.loadMask,cfg={target:this.ownerGrid,msg:this.loadingText,msgCls:this.loadingCls,useMsg:this.loadingUseMsg,store:this.ownerGrid.store};this.el=el;this.rendered=!0;this.fireEvent('render',this);mask&&(Ext.isObject(mask)&&(cfg=Ext.apply(cfg,mask)),this.loadMask=new Ext.LoadMask(cfg))},getRefOwner:function(){return this.ownerGrid},getVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},
getGridColumns:function(){return this.getVisibleColumnManager().getColumns()},getEl:function(column){return column.getView().getEl()},getCellSelector:function(){return this.normalView.getCellSelector()},getItemSelector:function(){return this.normalView.getItemSelector()},onItemMouseEnter:function(view,record){var locked=this.lockedView,other=this.normalView;view.trackOver&&(view!==locked&&(other=locked),view=other.getNode(record),other.highlightItem(view))},onItemMouseLeave:function(view,record){record=
this.lockedView;var other=this.normalView;view.trackOver&&(view!==record&&(other=record),other.clearHighlight())},relayFn:function(name,args){var view=this.lockedView;args=args||[];this.relayingOperation=!0;view[name].apply(view,args);view=this.normalView;view[name].apply(view,args);this.relayingOperation=!1},getSelectionModel:function(){return this.normalView.getSelectionModel()},getNavigationModel:function(){return this.navigationModel},getStore:function(){return this.ownerGrid.store},onBindStore:function(store){var lockedView=
this.lockedView,normalView=this.normalView;!normalView.componentLayoutCounter||lockedView.blockRefresh&&normalView.blockRefresh||(Ext.suspendLayouts(),lockedView.doFirstRefresh(store),normalView.doFirstRefresh(store),Ext.resumeLayouts(!0))},getStoreListeners:function(){return{priority:1E3,refresh:this.onDataRefresh,replace:this.onReplace,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.onDataRefresh,beginupdate:this.onBeginUpdate,endupdate:this.onEndUpdate}},onOwnerGridHide:function(){Ext.suspendLayouts();
this.relayFn('onOwnerGridHide',arguments);Ext.resumeLayouts(!0)},onOwnerGridShow:function(){Ext.suspendLayouts();this.relayFn('onOwnerGridShow',arguments);Ext.resumeLayouts(!0)},onBeginUpdate:function(){Ext.suspendLayouts();this.relayFn('onBeginUpdate',arguments);Ext.resumeLayouts(!0)},onEndUpdate:function(){Ext.suspendLayouts();this.relayFn('onEndUpdate',arguments);Ext.resumeLayouts(!0)},onDataRefresh:function(){Ext.suspendLayouts();this.relayFn('onDataRefresh',arguments);Ext.resumeLayouts(!0)},
onReplace:function(){Ext.suspendLayouts();this.relayFn('onReplace',arguments);Ext.resumeLayouts(!0)},onAdd:function(){Ext.suspendLayouts();this.relayFn('onAdd',arguments);Ext.resumeLayouts(!0)},onRemove:function(){Ext.suspendLayouts();this.relayFn('onRemove',arguments);Ext.resumeLayouts(!0)},setActionableMode:function(enabled,position){var targetView;if(enabled){position||(position=this.getNavigationModel().getPosition());if(position){position=position.clone();position.view=targetView=position.column.getView();
var result=targetView.setActionableMode(enabled,position);!1!==result&&targetView.lockingPartner.grid.isVisible()&&(targetView.lockingPartner.setActionableMode(enabled,position),targetView.lockingPartner.actionableMode||(targetView.setActionableMode(!1),result=!1));return result}return!1}this.relayFn('setActionableMode',[!1,position])},onUpdate:function(){Ext.suspendLayouts();this.relayFn('onUpdate',arguments);Ext.resumeLayouts(!0)},refresh:function(){var lockedView=this.lockedView,normalView=this.normalView,
bufferedRenderer=normalView.bufferedRenderer,items=normalView.all;items=normalView.refreshCounter&&items.getCount()&&normalView.preserveScrollOnRefresh&&normalView.ownerGrid.getScrollable();Ext.suspendLayouts();bufferedRenderer&&(lockedView.beforeRefreshStartIndex=lockedView.all.startIndex,normalView.beforeRefreshStartIndex=normalView.all.startIndex);if(items){var scrollPos=Ext.clone(items.getPosition());scrollPos.x||scrollPos.y||(scrollPos=null)}lockedView.clearViewEl(!0);normalView.clearViewEl(!0);
normalView.refresh();lockedView.refresh();items&&items.scrollTo(scrollPos);Ext.resumeLayouts(!0)},refreshView:function(){var lockedView=this.lockedView,normalView=this.normalView,startIndex=normalView.all.startIndex;Ext.suspendLayouts();lockedView.clearViewEl(!0);normalView.clearViewEl(!0);normalView.refreshView(startIndex);lockedView.refreshView(startIndex);Ext.resumeLayouts(!0)},setScrollable:function(scrollable){Ext.suspendLayouts();this.lockedView.setScrollable(scrollable);scrollable.isScroller&&
(scrollable=new Ext.scroll.Scroller(scrollable.initialConfig));this.normalView.setScrollable(scrollable);Ext.resumeLayouts(!0)},getNode:function(nodeInfo){return this.normalView.getNode(nodeInfo)},getRow:function(nodeInfo){return this.normalView.getRow(nodeInfo)},getCell:function(record,column,returnElement){record=column.getView().getRow(record).querySelector(column.getCellSelector());return returnElement?Ext.get(record):record},indexOf:function(record){var result=this.lockedView.indexOf(record);
result||(result=this.normalView.indexOf(record));return result},focus:function(){var target=this.ownerGrid.down('\x3etablepanel:not(hidden)\x3etableview');target&&target.focus()},focusRow:function(row){var lastFocused=this.getNavigationModel().lastFocused;(lastFocused?lastFocused.view:this.normalView).focusRow(row)},focusCell:function(position){position.view.focusCell(position)},onRowFocus:function(){this.relayFn('onRowFocus',arguments)},cancelFocusTask:function(){this.lockedView.cancelFocusTask();
this.normalView.cancelFocusTask()},isVisible:function(deep){return this.ownerGrid.isVisible(deep)},getCellInclusive:function(pos,returnDom){var col=pos.column,lockedSize=this.lockedGrid.getColumnManager().getColumns().length;return col>=lockedSize?(pos=Ext.apply({},pos),pos.column-=lockedSize,this.normalView.getCellInclusive(pos,returnDom)):this.lockedView.getCellInclusive(pos,returnDom)},getHeaderByCell:function(cell){return cell?this.getVisibleColumnManager().getHeaderById(cell.getAttribute('data-columnId')):
!1},onRowSelect:function(){this.relayFn('onRowSelect',arguments)},onRowDeselect:function(){this.relayFn('onRowDeselect',arguments)},onCellSelect:function(cellContext){cellContext.column.getView().onCellSelect({record:cellContext.record,column:cellContext.column})},onCellDeselect:function(cellContext){cellContext.column.getView().onCellDeselect({record:cellContext.record,column:cellContext.column})},getCellByPosition:function(pos,returnDom){var view=pos.view,col=pos.column;view===this&&(pos=(new Ext.grid.CellContext(col.getView())).setPosition(pos.record,
pos.column));return view.getCellByPosition(pos,returnDom)},getRecord:function(node){var result=this.lockedView.getRecord(node);result||(result=this.normalView.getRecord(node));return result},scrollBy:function(){var scroller=this.ownerGrid.getScrollable();scroller.scrollBy.apply(scroller,arguments)},ensureVisible:function(){var normal=this.normalView;normal.ensureVisible.apply(normal,arguments)},disable:function(){this.relayFn('disable',arguments)},enable:function(){this.relayFn('enable',arguments)},
addElListener:function(){this.relayFn('addElListener',arguments)},refreshNode:function(){this.relayFn('refreshNode',arguments)},addRowCls:function(){this.relayFn('addRowCls',arguments)},removeRowCls:function(){this.relayFn('removeRowCls',arguments)},destroy:function(){this.rendered=!1;this.bindStore(null,!1,'dataSource');Ext.destroy(this.selModel,this.navigationModel,this.loadMask);this.lockedView.lockingPartner=this.normalView.lockingPartner=null;this.callParent()}},1,0,0,0,0,[[Ext.util.Observable.prototype.mixinId||
Ext.util.Observable.$className,Ext.util.Observable],[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.mixin.Focusable.prototype.mixinId||Ext.mixin.Focusable.$className,Ext.mixin.Focusable]],[Ext.grid.locking,'View',Ext.grid,'LockingView'],function(){this.borrow(Ext.Component,['up']);this.borrow(Ext.view.AbstractView,['doFirstRefresh','applyFirstRefresh']);this.borrow(Ext.view.Table,['cellSelector','selectedCellCls','selectedItemCls'])});
Ext.cmd.derive('Ext.scroll.LockingScroller',Ext.scroll.Scroller,{config:{lockedScroller:null,normalScroller:null},scrollTo:function(x,y,animate){var lockedX,lockedPromise;Ext.isObject(x)&&(lockedX=x.lockedX)&&(lockedPromise=this.getLockedScroller().scrollTo(lockedX,null,animate));x=Ext.scroll.Scroller.prototype.scrollTo.call(this,x,y,animate);lockedPromise&&(x=Ext.Promise.all([x,lockedPromise]));return x},updateLockedScroller:function(lockedScroller){lockedScroller.on('scroll','onLockedScroll',this);
lockedScroller.setLockingScroller(this)},updateNormalScroller:function(normalScroller){normalScroller.on('scroll','onNormalScroll',this);normalScroller.setLockingScroller(this)},updateTouchAction:function(touchAction,oldTouchAction){Ext.scroll.Scroller.prototype.updateTouchAction.call(this,touchAction,oldTouchAction);this.getLockedScroller().setTouchAction(touchAction);this.getNormalScroller().setTouchAction(touchAction)},getPosition:function(){var position=Ext.scroll.Scroller.prototype.getPosition.call(this);
position.x=this.getNormalScroller().getPosition().x;position.lockedX=this.getLockedScroller().getPosition().x;return position},privates:{updateSpacerXY:function(pos){var lockedScroller=this.getLockedScroller(),normalScroller=this.getNormalScroller();lockedScroller=lockedScroller.component;normalScroller=normalScroller.component;var height=pos.y+(normalScroller.headerCt.tooNarrow||lockedScroller.headerCt.tooNarrow?Ext.scrollbar.height():0);normalScroller.stretchHeight(height);lockedScroller.stretchHeight(height);
Ext.scroll.Scroller.prototype.updateSpacerXY.call(this,pos)},doScrollTo:function(x,y,animate){if(null!=x){var normalPromise=this.getNormalScroller().scrollTo(x,null,animate);x=null}x=Ext.scroll.Scroller.prototype.doScrollTo.call(this,x,y,animate);normalPromise&&(x=Ext.Promise.all([x,normalPromise]));return x},onLockedScroll:function(lockedScroller,x,y){this.position.lockedX=x},onNormalScroll:function(normalScroller,x,y){this.position.x=x},readPosition:function(position){position=(position=Ext.scroll.Scroller.prototype.readPosition.call(this,
position))||{};position.x=this.getNormalScroller().getPosition().x;return position}}},0,0,0,0,['scroller.locking'],0,[Ext.scroll,'LockingScroller'],0);
Ext.cmd.derive('Ext.grid.locking.Lockable',Ext.Base,{alternateClassName:'Ext.grid.Lockable',syncRowHeight:!0,headerCounter:0,lockedGridCls:'x-grid-inner-locked',normalGridCls:'x-grid-inner-normal',lockingBodyCls:'x-grid-locking-body',scrollContainerCls:'x-grid-scroll-container',scrollBodyCls:'x-grid-scroll-body',scrollbarClipperCls:'x-grid-scrollbar-clipper',scrollbarCls:'x-grid-scrollbar',scrollbarVisibleCls:'x-grid-scrollbar-visible',lockText:'Lock',unlockText:'Unlock',bothCfgCopy:'hideHeaders enableColumnHide enableColumnMove enableColumnResize sortableColumns multiColumnSort columnLines rowLines variableRowHeight numFromEdge trailingBufferZone leadingBufferZone scrollToLoadBuffer syncRowHeight'.split(' '),
normalCfgCopy:['scroll'],lockedCfgCopy:[],determineXTypeToCreate:function(lockedSide){return this.subGridXType?this.subGridXType:lockedSide?this.isXType('treepanel')?'treepanel':'gridpanel':'gridpanel'},injectLockable:function(){this.focusable=!1;this.hasView=this.lockable=!0;var store=this.store=Ext.StoreManager.lookup(this.store),lockedViewConfig=this.lockedViewConfig,normalViewConfig=this.normalViewConfig,viewConfig=this.viewConfig,loadMaskCfg=viewConfig&&viewConfig.loadMask;loadMaskCfg=void 0!==
loadMaskCfg?loadMaskCfg:this.loadMask;var bufferedRenderer=this.bufferedRenderer;var allFeatures=this.constructLockableFeatures();this.scrollable=new Ext.scroll.LockingScroller({component:this,x:!1,y:!0});this.features=null;var allPlugins=this.constructLockablePlugins();this.plugins=allPlugins.topPlugins;var lockedGrid={id:this.id+'-locked',$initParent:this,isLocked:!0,bufferedRenderer,ownerGrid:this,ownerLockable:this,xtype:this.determineXTypeToCreate(!0),store,scrollerOwner:!1,animate:!1,border:!1,
cls:this.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||this.ownerGrid.normalGrid.floatedFromCollapse},features:allFeatures.lockedFeatures,plugins:allPlugins.lockedPlugins};bufferedRenderer={id:this.id+'-normal',$initParent:this,isLocked:!1,bufferedRenderer,ownerGrid:this,ownerLockable:this,xtype:this.determineXTypeToCreate(),store,reserveScrollbar:this.reserveScrollbar,scrollerOwner:!1,border:!1,cls:this.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||
this.ownerGrid.lockedGrid.floatedFromCollapse},features:allFeatures.normalFeatures,plugins:allPlugins.normalPlugins};this.addCls('x-grid-locked');Ext.copy(bufferedRenderer,this,this.bothCfgCopy,!0);Ext.copy(lockedGrid,this,this.bothCfgCopy,!0);Ext.copy(bufferedRenderer,this,this.normalCfgCopy,!0);Ext.copy(lockedGrid,this,this.lockedCfgCopy,!0);Ext.apply(bufferedRenderer,this.normalGridConfig);Ext.apply(lockedGrid,this.lockedGridConfig);for(allFeatures=0;allFeatures<this.normalCfgCopy.length;allFeatures++)delete this[this.normalCfgCopy[allFeatures]];
for(allFeatures=0;allFeatures<this.lockedCfgCopy.length;allFeatures++)delete this[this.lockedCfgCopy[allFeatures]];this.addStateEvents(['lockcolumn','unlockcolumn']);allFeatures=this.processColumns(this.columns||[],lockedGrid);lockedGrid.columns=allFeatures.locked;lockedGrid.columns.items.length||(lockedGrid.hidden=!0);bufferedRenderer.columns=allFeatures.normal;bufferedRenderer.columns.items.length||(bufferedRenderer.hidden=!0);bufferedRenderer.flex=1;lockedGrid.viewConfig=lockedViewConfig=Ext.apply({usageBitMask:2},
lockedViewConfig);bufferedRenderer.viewConfig=normalViewConfig=Ext.apply({},normalViewConfig);lockedViewConfig.loadingUseMsg=!1;lockedViewConfig.loadMask=!1;normalViewConfig.loadMask=!1;Ext.applyIf(lockedViewConfig,viewConfig);Ext.applyIf(normalViewConfig,viewConfig);this.layout===Ext.panel.Table.prototype.layout&&(this.layout={type:'hbox',align:'stretch'});this.getLayout();'border'===this.layout.type&&(this.split&&(lockedGrid.split=this.split),lockedGrid.region||(lockedGrid.region='west'),bufferedRenderer.region||
(bufferedRenderer.region='center'),this.addCls('x-grid-locked-split'));this.layout instanceof Ext.layout.container.Box||(this.split=!1);this.view=new Ext.grid.locking.View({loadMask:loadMaskCfg,locked:lockedGrid,normal:bufferedRenderer,ownerGrid:this});this.view.relayEvents(this.scrollable,['scroll']);lockedGrid=this.lockedGrid;bufferedRenderer=this.normalGrid;lockedGrid.on({beginfloat:this.onBeginLockedFloat,endfloat:this.onEndLockedFloat,scope:this});var setWidth=lockedGrid.setWidth;lockedGrid.setWidth=
function(){lockedGrid.shrinkWrapColumns=!1;setWidth.apply(lockedGrid,arguments)};lockedGrid.getVisibleColumnManager().getColumns().length||lockedGrid.hide();bufferedRenderer.getVisibleColumnManager().getColumns().length||bufferedRenderer.hide();lockedViewConfig=lockedGrid.headerCt;normalViewConfig=bufferedRenderer.headerCt;this.headerCt=this.view.headerCt=new Ext.grid.locking.HeaderContainer(this);lockedViewConfig.lockedCt=!0;lockedViewConfig.lockableInjected=!0;normalViewConfig.lockableInjected=
!0;lockedViewConfig.on({add:this.delaySyncLockedWidth,remove:this.delaySyncLockedWidth,columnshow:this.delaySyncLockedWidth,columnhide:this.delaySyncLockedWidth,sortchange:this.onLockedHeaderSortChange,columnresize:this.delaySyncLockedWidth,scope:this});normalViewConfig.on({add:this.delaySyncLockedWidth,remove:this.delaySyncLockedWidth,columnshow:this.delaySyncLockedWidth,columnhide:this.delaySyncLockedWidth,sortchange:this.onNormalHeaderSortChange,scope:this});this.modifyHeaderCt();this.items=[lockedGrid];
this.split&&(this.addCls('x-grid-locked-split'),this.items[1]=Ext.apply({xtype:'splitter'},this.split));this.items.push(bufferedRenderer);this.relayHeaderCtEvents(lockedViewConfig);this.relayHeaderCtEvents(normalViewConfig);this.storeRelayers=this.relayEvents(store,['filterchange','groupchange','beforeload','load']);this.gridRelayers=this.relayEvents(bufferedRenderer,['viewready'])},afterInjectLockable:function(){var me=this;me.maskElement='scrollContainer';if(me.disableOnRender)me.on('afterrender',
function(){me.unmask()},{single:!0});delete me.lockedGrid.$initParent;delete me.normalGrid.$initParent},syncLockableHeaderVisibility:function(){var hideHeaders=this.hideHeaders,locked=this.lockedGrid,normal=this.normalGrid;null===hideHeaders&&(hideHeaders=locked.shouldAutoHideHeaders()&&normal.shouldAutoHideHeaders());locked.hideHeaders=normal.hideHeaders=hideHeaders;locked.syncHeaderVisibility();normal.syncHeaderVisibility()},getLockingViewConfig:function(){return{xclass:'Ext.grid.locking.View',
locked:this.lockedGrid,normal:this.normalGrid,panel:this}},onBeginLockedFloat:function(locked){var el=locked.getContentTarget().dom,lockedHeaderCt=this.lockedGrid.headerCt,normalHeaderCt=this.normalGrid.headerCt,headerCtHeight=Math.max(normalHeaderCt.getHeight(),lockedHeaderCt.getHeight());lockedHeaderCt.minHeight=headerCtHeight;normalHeaderCt.minHeight=headerCtHeight;locked.el.addCls(Ext.panel.Panel.floatCls);el.firstChild!==locked.view.el.dom&&el.appendChild(locked.view.el.dom);locked.body.dom.scrollTop=
this.getScrollable().getPosition().y},onEndLockedFloat:function(){var locked=this.lockedGrid;locked.collapsed?locked.el.removeCls(Ext.panel.Panel.floatCls):this.lockedGrid.headerCt.minHeight=this.normalGrid.headerCt.minHeight=null;this.lockedScrollbarClipper.appendChild(locked.view.el.dom);this.doSyncLockableLayout()},beforeLayout:function(){var lockedGrid=this.lockedGrid,normalGrid=this.normalGrid;if(lockedGrid&&normalGrid){lockedGrid.getSizeModel().width.shrinkWrap&&(lockedGrid.gridPanelBorderWidth=
lockedGrid.el.getBorderWidth('lr'),lockedGrid.shrinkWrapColumns=!0);if(lockedGrid.shrinkWrapColumns){var totalColumnWidth=lockedGrid.headerCt.getTableWidth();lockedGrid.setWidth(totalColumnWidth+lockedGrid.gridPanelBorderWidth);lockedGrid.shrinkWrapColumns=!0}this.scrollContainer||this.initScrollContainer();this.lastScrollPos=Ext.clone(this.getScrollable().getPosition());lockedGrid.view.el.setStyle('margin-bottom','');normalGrid.view.el.setStyle('margin-bottom','')}},syncLockableLayout:function(){this.afterLayoutListener||
(this.afterLayoutListener=Ext.on({afterlayout:this.doSyncLockableLayout,scope:this,single:!0}))},doSyncLockableLayout:function(){var collapseExpand=this.isCollapsingOrExpanding,lockedGrid=this.lockedGrid,normalGrid=this.normalGrid,scrollContainerHeight,scrollerElHeight;this.afterLayoutListener=null;if(collapseExpand){if(2===collapseExpand)this.on('expand','doSyncLockableLayout',this,{single:!0})}else if(lockedGrid&&normalGrid){var lockedGridVisible=lockedGrid.isVisible(!0)&&!lockedGrid.collapsed;
var normalGridVisible=normalGrid.isVisible(!0);var lockedViewEl=lockedGrid.view.el;collapseExpand=normalGrid.view.el;var scrollBodyDom=this.scrollBody.dom;var lockedViewRegion=lockedGridVisible?lockedGrid.body.getRegion(!0):new Ext.util.Region(0,0,0,0);var normalViewRegion=normalGridVisible?normalGrid.body.getRegion(!0):new Ext.util.Region(0,0,0,0);var scrollbarSize=Ext.scrollbar.size();var scrollbarWidth=scrollbarSize.width;var scrollbarHeight=scrollerElHeight=scrollbarSize.height;scrollbarSize=
normalGridVisible?normalViewRegion.width:0;var normalViewX=lockedGridVisible?normalGridVisible?normalViewRegion.x-lockedViewRegion.x:lockedViewRegion.width:0;var hasHorizontalScrollbar=normalGrid.headerCt.tooNarrow||lockedGrid.headerCt.tooNarrow?scrollbarHeight:0;var scrollBodyHeight=scrollContainerHeight=normalViewRegion.height||lockedViewRegion.height;var lockedScrollbar=this.lockedScrollbar;var normalScrollbar=this.normalScrollbar;var scrollbarVisibleCls=this.scrollbarVisibleCls;scrollContainerHeight=
this.getScrollable();Ext.supports.CannotScrollExactHeight&&(scrollerElHeight+=1);hasHorizontalScrollbar&&(lockedViewEl.setStyle('margin-bottom',-scrollbarHeight+'px'),collapseExpand.setStyle('margin-bottom',-scrollbarHeight+'px'),scrollBodyHeight-=scrollbarHeight,lockedGridVisible&&lockedGrid.view.body.dom&&this.lockedScrollbarScroller.setSize({x:lockedGrid.headerCt.getTableWidth()}),normalGrid.view.body.dom&&this.normalScrollbarScroller.setSize({x:normalGrid.headerCt.getTableWidth()}));this.scrollBody.setHeight(scrollBodyHeight);
lockedViewEl.dom.style.height=collapseExpand.dom.style.height='';lockedViewEl=this.scrollable.getSize().y+hasHorizontalScrollbar;normalGrid.view.stretchHeight(lockedViewEl);lockedGrid.view.stretchHeight(lockedViewEl);(lockedGrid=scrollbarWidth&&scrollBodyDom.scrollHeight>scrollBodyDom.clientHeight)&&scrollbarSize&&(scrollbarSize-=scrollbarWidth,collapseExpand.setStyle('width',scrollbarSize+'px'));lockedScrollbar.toggleCls(scrollbarVisibleCls,lockedGridVisible&&!!hasHorizontalScrollbar);normalScrollbar.toggleCls(scrollbarVisibleCls,
!!hasHorizontalScrollbar);this.normalScrollbarClipper.toggleCls(this.scrollbarClipperCls+'-floated',!!this.normalGrid.floatedFromCollapse);this.normalScrollbar.toggleCls(this.scrollbarCls+'-floated',!!this.normalGrid.floatedFromCollapse);this.lockedScrollbarClipper.toggleCls(this.scrollbarClipperCls+'-floated',!!this.lockedGrid.floatedFromCollapse);this.lockedScrollbar.toggleCls(this.scrollbarCls+'-floated',!!this.lockedGrid.floatedFromCollapse);lockedScrollbar.setSize(this.lockedScrollbarClipper.dom.offsetWidth,
scrollerElHeight);normalScrollbar.setSize(scrollbarSize,scrollerElHeight);this.setNormalScrollerX(normalViewX);normalGrid=lockedGridVisible&&normalGridVisible?lockedViewRegion.union(normalViewRegion):lockedGridVisible?lockedViewRegion:normalViewRegion;this.scrollContainer.setBox(normalGrid);this.onSyncLockableLayout(lockedGrid,normalGrid.width);Ext.Object.equals(scrollContainerHeight.getPosition(),this.lastScrollPos)||scrollContainerHeight.scrollTo(this.lastScrollPos)}},onSyncLockableLayout:Ext.emptyFn,
setNormalScrollerX:function(x){this.normalScrollbar.setLocalX(x);this.normalScrollbarClipper.setLocalX(x)},getScrollExtraCls:function(){return''},initScrollContainer:function(){var extraCls=this.getScrollExtraCls(),scrollContainer=this.scrollContainer=this.body.insertFirst({cls:[this.scrollContainerCls,extraCls]}),scrollBody=this.scrollBody=scrollContainer.appendChild({cls:this.scrollBodyCls}),lockedScrollbar=this.lockedScrollbar=scrollContainer.appendChild({cls:[this.scrollbarCls,this.scrollbarCls+
'-locked',extraCls]}),normalScrollbar=this.normalScrollbar=scrollContainer.appendChild({cls:[this.scrollbarCls,extraCls]}),lockedView=this.lockedGrid.view,normalView=this.normalGrid.view;scrollContainer=lockedView.getScrollable();var normalScroller=normalView.getScrollable(),Scroller=Ext.scroll.Scroller;lockedView.stretchHeight(0);normalView.stretchHeight(0);this.scrollable.setConfig({element:scrollBody,lockedScroller:scrollContainer,normalScroller});var lockedScrollbarClipper=this.lockedScrollbarClipper=
scrollBody.appendChild({cls:[this.scrollbarClipperCls,this.scrollbarClipperCls+'-locked',extraCls]});extraCls=this.normalScrollbarClipper=scrollBody.appendChild({cls:[this.scrollbarClipperCls,extraCls]});lockedScrollbarClipper.appendChild(lockedView.el);extraCls.appendChild(normalView.el);lockedView.ignoreDomPosition=!0;normalView.ignoreDomPosition=!0;lockedScrollbar=this.lockedScrollbarScroller=new Scroller({element:lockedScrollbar,x:'scroll',y:!1,rtl:scrollContainer.getRtl&&scrollContainer.getRtl()});
normalScrollbar=this.normalScrollbarScroller=new Scroller({element:normalScrollbar,x:'scroll',y:!1,rtl:normalScroller.getRtl&&normalScroller.getRtl()});this.initScrollers();lockedScrollbar.addPartner(scrollContainer,'x');normalScrollbar.addPartner(normalScroller,'x');this.view.onPanelRender(scrollBody)},initScrollers:Ext.emptyFn,processColumns:function(columns,lockedGrid){lockedGrid=new Ext.grid.header.Container({$initParent:this});var lockedHeaders=[],normalHeaders=[];var i={itemId:'lockedHeaderCt',
stretchMaxPartner:'^^\x3e\x3e#normalHeaderCt',items:lockedHeaders};var len={itemId:'normalHeaderCt',stretchMaxPartner:'^^\x3e\x3e#lockedHeaderCt',items:normalHeaders};var result={locked:i,normal:len};Ext.isObject(columns)&&(Ext.applyIf(i,columns),Ext.applyIf(len,columns),i=Ext.apply({},columns),delete i.items,Ext.apply(lockedGrid,i),columns=columns.items);lockedGrid.constructing=!0;i=0;for(len=columns.length;i<len;++i){var column=columns[i];column.isComponent||(column=lockedGrid.applyDefaults(column),
column.$initParent=lockedGrid,column=lockedGrid.lookupComponent(column),delete column.$initParent);column.processed=!0;column.locked||column.autoLock?lockedHeaders.push(column):normalHeaders.push(column)}this.fireEvent('processcolumns',this,lockedHeaders,normalHeaders);lockedGrid.destroy();return result},ensureLockedVisible:function(record,options){var column=options&&options.column,lockedGrid=this.lockedGrid;column=column?column.getView().ownerCt:lockedGrid.isVisible()?lockedGrid:this.normalGrid;
column.ensureVisible.apply(column,arguments)},syncRowHeights:function(){if(!this.destroyed){var normalView=this.normalGrid.getView(),lockedView=this.lockedGrid.getView(),normalSync=normalView.syncRowHeightBegin(),lockedSync=lockedView.syncRowHeightBegin();normalView.syncRowHeightMeasure(normalSync);lockedView.syncRowHeightMeasure(lockedSync);normalView.syncRowHeightFinish(normalSync,lockedSync);lockedView.syncRowHeightFinish(lockedSync,normalSync);normalView=normalView.getScrollY();lockedView.setScrollY(normalView);
this.syncRowHeightOnNextLayout=!1}},modifyHeaderCt:function(){this.lockedGrid.headerCt.getMenuItems=this.getMenuItems(this.lockedGrid.headerCt.getMenuItems,!0);this.normalGrid.headerCt.getMenuItems=this.getMenuItems(this.normalGrid.headerCt.getMenuItems,!1);this.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(this.lockedGrid.headerCt.showMenuBy,this.showMenuBy);this.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(this.normalGrid.headerCt.showMenuBy,this.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},
onLockMenuClick:function(){this.lock()},showMenuBy:function(clickEvent,t,header){t=this.getMenu();clickEvent=t.down('#unlockItem');t=t.down('#lockItem');var sep=clickEvent.prev();!1===header.lockable?(sep.hide(),clickEvent.hide(),t.hide()):(sep.show(),clickEvent.show(),t.show(),clickEvent.initialConfig.disabled||clickEvent.setDisabled(!1===header.lockable),t.initialConfig.disabled||t.setDisabled(!header.isLockable()))},getMenuItems:function(getMenuItems,locked){var unlockText=this.unlockText,lockText=
this.lockText,unlockHandler=this.onUnlockMenuClick.bind(this),lockHandler=this.onLockMenuClick.bind(this);return function(){var o=getMenuItems.call(this);o.push('-',{itemId:'unlockItem',iconCls:'x-hmenu-unlock',text:unlockText,handler:unlockHandler,disabled:!locked});o.push({itemId:'lockItem',iconCls:'x-hmenu-lock',text:lockText,handler:lockHandler,disabled:locked});return o}},delaySyncLockedWidth:function(){var task=this.syncLockedWidthTask||(this.syncLockedWidthTask=new Ext.util.DelayedTask(this.syncLockedWidth,
this));this.reconfiguring||(Ext.Component.layoutSuspendCount&&0!==this.syncTaskDelay?task.delay(1):this.syncLockedWidth())},syncLockedWidth:function(){var rendered=this.rendered,locked=this.lockedGrid,normal=this.normalGrid,lockedColCount=locked.getVisibleColumnManager().getColumns().length,normalColCount=normal.getVisibleColumnManager().getColumns().length,task=this.syncLockedWidthTask;task&&task.cancel();if(!this.reconfiguring)return Ext.suspendLayouts(),normalColCount?(normal.show(),lockedColCount?
('border'===this.layout.type?locked.region=locked.initialConfig.region:locked.flex=locked.initialConfig.flex,rendered&&locked.shrinkWrapColumns&&!locked.headerCt.forceFit&&(delete locked.flex,locked.width=locked.headerCt.getTableWidth()+locked.gridPanelBorderWidth,locked.updateLayout()),locked.addCls(this.lockedGridCls),locked.show(),locked.split&&(this.child('splitter').show(),this.addCls('x-grid-locked-split'))):(locked.hide(),rendered&&locked.getView().clearViewEl(!0),locked.split&&(this.child('splitter').hide(),
this.removeCls('x-grid-locked-split')))):(normal.hide(),delete locked.width,'border'===this.layout.type?(locked.region='center',normal.region='west'):locked.flex=1,locked.removeCls(this.lockedGridCls),locked.show()),Ext.resumeLayouts(!0),{locked:!!lockedColCount,normal:!!normalColCount}},onLockedHeaderSortChange:Ext.emptyFn,onNormalHeaderSortChange:Ext.emptyFn,lock:function(activeHd,toIdx,toCt){var normalGrid=this.normalGrid,lockedGrid=this.lockedGrid,normalView=normalGrid.view,lockedView=lockedGrid.view,
normalScroller=normalView.getScrollable(),lockedScroller=lockedView.getScrollable(),normalHCt=normalGrid.headerCt;activeHd=activeHd||normalHCt.getMenu().activeHeader;activeHd.unlockedWidth=activeHd.width;activeHd.flex&&(activeHd.lockedWidth?(activeHd.width=activeHd.lockedWidth,activeHd.lockedWidth=null):activeHd.width=activeHd.lastBox.width,activeHd.flex=null);toCt=toCt||lockedGrid.headerCt;if(!activeHd.ownerCt||activeHd.isLockable())Ext.suspendLayouts(),normalScroller&&(normalScroller.suspendPartnerSync(),
lockedScroller.suspendPartnerSync()),lockedGrid.hidden&&(!lockedGrid.componentLayoutCounter&&(lockedGrid.height=normalGrid.lastBox.height,normalHCt=lockedView.bufferedRenderer)&&(normalHCt.rowHeight=normalView.bufferedRenderer.rowHeight,normalHCt.onViewResize(lockedView,0,normalGrid.body.lastBox.height)),lockedGrid.show()),lockedGrid.reconfiguring=normalGrid.reconfiguring=!0,activeHd.ownerCmp=activeHd.ownerCt,activeHd.locked=!0,Ext.isDefined(toIdx)?toCt.insert(toIdx,activeHd):toCt.add(activeHd),lockedGrid.reconfiguring=
normalGrid.reconfiguring=!1,activeHd.ownerCmp=null,activeHd.rootHeaderCt=null,activeHd.view=lockedView,toIdx=this.syncLockedWidth(),normalGrid.getView().refreshNeeded=toIdx.normal,lockedGrid.getView().refreshNeeded=toIdx.locked,activeHd.onLock(activeHd),this.fireEvent('lockcolumn',this,activeHd),Ext.resumeLayouts(!0),normalScroller&&(normalScroller.resumePartnerSync(!0),lockedScroller.resumePartnerSync())},unlock:function(activeHd,toIdx,toCt){var normalGrid=this.normalGrid,lockedGrid=this.lockedGrid,
normalView=normalGrid.view,lockedView=lockedGrid.view,startIndex=normalView.all.startIndex,lockedHCt=lockedGrid.headerCt;Ext.isDefined(toIdx)||(toIdx=0);activeHd=activeHd||lockedHCt.getMenu().activeHeader;activeHd.lockedWidth=activeHd.width;activeHd.flex&&(activeHd.unlockedWidth?(activeHd.width=activeHd.unlockedWidth,activeHd.unlockedWidth=null):activeHd.width=activeHd.lastBox.width,activeHd.flex=null);toCt=toCt||normalGrid.headerCt;Ext.suspendLayouts();lockedGrid.reconfiguring=normalGrid.reconfiguring=
!0;(activeHd.ownerCmp=activeHd.ownerCt)&&activeHd.ownerCt.remove(activeHd,!1);activeHd.locked=!1;toCt.insert(toIdx,activeHd);lockedGrid.reconfiguring=normalGrid.reconfiguring=!1;activeHd.ownerCmp=null;activeHd.rootHeaderCt=null;activeHd.view=normalView;toIdx=this.syncLockedWidth();toIdx.locked&&lockedView.clearViewEl(!0);toIdx.normal&&normalView.clearViewEl(!0);toIdx.normal&&normalGrid.getView().refreshView(startIndex);toIdx.locked&&lockedGrid.getView().refreshView(startIndex);activeHd.onUnlock(activeHd);
this.fireEvent('unlockcolumn',this,activeHd);Ext.resumeLayouts(!0)},reconfigureLockable:function(store,columns,allowUnbind){var oldStore=this.store,lockedGrid=this.lockedGrid,normalGrid=this.normalGrid,lockedView=lockedGrid.view,normalView=normalGrid.view;!store&&allowUnbind&&(store=Ext.StoreManager.lookup('ext-empty-store'));store&&store!==oldStore&&(this.store=store=Ext.data.StoreManager.lookup(store),lockedView.blockRefresh=normalView.blockRefresh=!0,lockedGrid.bindStore(store),lockedView.store=
store,lockedView.dataSource.isFeatureStore||(lockedView.dataSource=store),lockedView.bufferedRenderer&&lockedView.bufferedRenderer.bindStore(store),normalGrid.bindStore(store),normalView.store=store,normalView.dataSource.isFeatureStore||(normalView.dataSource=store),normalView.bufferedRenderer&&normalView.bufferedRenderer.bindStore(store),this.view.store=store,(allowUnbind=this.view.loadMask)&&allowUnbind.isLoadMask&&allowUnbind.bindStore(store),this.view.bindStore(normalView.dataSource,!1,'dataSource'),
lockedView.blockRefresh=normalView.blockRefresh=!1);columns&&(lockedGrid.reconfiguring=normalGrid.reconfiguring=!0,store=lockedGrid.getVisibleColumnManager().getColumns().length,lockedGrid.headerCt.removeAll(),normalGrid.headerCt.removeAll(),columns=this.processColumns(columns,lockedGrid),lockedView=columns.locked.items,lockedView.length&&(store||(lockedGrid.view.refreshNeeded=!0),lockedGrid.headerCt.add(lockedView)),normalGrid.headerCt.add(columns.normal.items),lockedGrid.reconfiguring=normalGrid.reconfiguring=
!1,this.syncLockedWidth());this.refreshCounter=normalView.refreshCounter},afterReconfigureLockable:function(){this.syncLockedWidth();this.refreshCounter===this.normalGrid.getView().refreshCounter&&this.view.refreshView()},constructLockableFeatures:function(){var features=this.features,featureClone,len;if(features){Ext.isArray(features)||(features=[features]);var lockedFeatures=[];var normalFeatures=[];var i=0;for(len=features.length;i<len;i++){var feature=features[i];feature.isFeature||(feature=Ext.create('feature.'+
feature.ftype,feature));switch(feature.lockableScope){case 'locked':lockedFeatures.push(feature);break;case 'normal':normalFeatures.push(feature);break;default:feature.lockableScope='both',lockedFeatures.push(feature),normalFeatures.push(featureClone=feature.clone()),featureClone.lockingPartner=feature,feature.lockingPartner=featureClone}}}return{normalFeatures,lockedFeatures}},constructLockablePlugins:function(){var plugins=this.plugins,lockedPlugin,len;if(plugins){Ext.isArray(plugins)||(plugins=
[plugins]);var topPlugins=[];var lockedPlugins=[];var normalPlugins=[];var i=0;for(len=plugins.length;i<len;i++){var plugin=plugins[i];if(plugin.init)var normalPlugin=plugin.lockableScope;else normalPlugin=plugin.ptype?Ext.ClassManager.getByAlias('plugin.'+plugin.ptype):Ext.ClassManager.get(plugin.xclass),normalPlugin=normalPlugin.prototype.lockableScope;switch(normalPlugin){case 'both':lockedPlugins.push(lockedPlugin=plugin.clonePlugin());normalPlugins.push(normalPlugin=plugin.clonePlugin());lockedPlugin.lockingPartner=
normalPlugin;normalPlugin.lockingPartner=lockedPlugin;Ext.destroy(plugin);break;case 'locked':lockedPlugins.push(plugin);break;case 'normal':normalPlugins.push(plugin);break;default:topPlugins.push(plugin)}}}return{topPlugins,normalPlugins,lockedPlugins}},destroyLockable:function(){var task=this.syncLockedWidthTask;task&&(task.cancel(),this.syncLockedWidthTask=null);this.lockedGrid&&this.lockedGrid.headerCt&&(this.lockedGrid.headerCt.showMenuBy=null);this.normalGrid&&this.normalGrid.headerCt&&(this.normalGrid.headerCt.showMenuBy=
null);Ext.destroy(this.normalScrollbarClipper,this.lockedScrollbarClipper,this.normalScrollbar,this.lockedScrollbar,this.scrollBody,this.scrollContainer,this.normalScrollbarScroller,this.lockedScrollbarScroller,this.view,this.headerCt)}},0,0,0,0,0,0,[Ext.grid.locking,'Lockable',Ext.grid,'Lockable'],function(){this.borrow(Ext.Component,['constructPlugin'])});
Ext.cmd.derive('Ext.grid.plugin.BufferedRenderer',Ext.plugin.Abstract,{isBufferedRenderer:!0,lockableScope:'both',numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,scrollTop:0,lastScrollDirection:1,bodyTop:0,scrollHeight:0,loadId:0,newFocusTarget:null,lastFocusedMultiRange:null,colHeader:null,lastFocusedElement:null,init:function(grid){var view=grid.view,viewListeners={beforerefresh:this.onViewBeforeRefresh,refresh:this.onViewRefresh,
columnschanged:this.checkVariableRowHeight,scope:this,destroyable:!0},scrollerListeners={scroll:this.onViewScroll,scope:this},initialConfig=view.initialConfig;this.scroller=view.lockingPartner?view.ownerGrid.scrollable:view.getScrollable();if(grid.isTree||grid.ownerLockable&&grid.ownerLockable.isTree)view.blockRefresh=!1,initialConfig&&void 0===initialConfig.loadMask&&(view.loadMask=!0);view.positionBody&&(viewListeners.refresh=this.onViewRefresh);this.grid=grid;this.view=view;this.isRTL=view.getInherited().rtl;
view.bufferedRenderer=this;view.preserveScrollOnRefresh=!0;view.animate=!1;this.bindStore(view.dataSource);view.hasOwnProperty('rowHeight')&&(this.rowHeight=view.rowHeight);this.position=0;this.viewListeners=view.on(viewListeners);this.scroller&&(this.scrollListeners=this.scroller.on(scrollerListeners))},checkVariableRowHeight:function(){var hadVariableRowHeight=this.variableRowHeight;this.variableRowHeight=this.view.hasVariableRowHeight();!!this.variableRowHeight!==!!hadVariableRowHeight&&delete this.rowHeight},
bindStore:function(newStore){var currentStore=this.store;currentStore&&currentStore.isFeatureStore||(currentStore&&this.unbindStore(),this.storeListeners=newStore.on({scope:this,groupschange:this.onStoreGroupChange,groupchange:this.onStoreGroupChange,clear:this.onStoreClear,beforeload:this.onBeforeStoreLoad,load:this.onStoreLoad,destroyable:!0}),this.store=newStore,this.setBodyTop(this.position=this.scrollTop=0),delete this.viewSize,delete this.rowHeight,newStore.isBufferedStore&&newStore.setViewSize(this.viewSize))},
unbindStore:function(){this.storeListeners.destroy();this.storeListeners=this.store=null},onBeforeStoreLoad:function(store){var view=this.view;view&&view.refreshCounter&&(store.isTreeStore||view.preserveScrollOnReload?this.nextRefreshStartIndex=view.all.startIndex:0!==this.scrollTop&&(this.setBodyTop(this.bodyTop=this.scrollTop=this.position=this.scrollHeight=this.nextRefreshStartIndex=0),this.scroller.scrollTo(null,0)),this.lastScrollDirection=this.scrollOffset=null);this.disable()},onStoreLoad:function(){this.isStoreLoading=
!0;this.enable()},onStoreClear:function(){var view=this.view;view.rendered&&!this.store.destroyed&&(0!==this.scrollTop&&(this.bodyTop=this.scrollTop=this.position=this.scrollHeight=0,this.nextRefreshStartIndex=null,this.scroller.scrollTo(null,0)),view.refresh(),this.lastScrollDirection=this.scrollOffset=null)},onStoreGroupChange:function(store){this.refreshSize()},onViewBeforeRefresh:function(view){this.beforeRefreshStartIndex=view.all.startIndex},onViewRefresh:function(view,records){var rows=view.all,
height;this.checkVariableRowHeight();if(view.componentLayoutCounter||!view.headerCt.down('{flex}')&&!this.variableRowHeight){if(this.skipNextRefreshSize=!1,!this.refreshing){this.refreshSize();if(this.scroller)if(this.scrollTop!==this.scroller.getPosition().y)this.onViewScroll();else this.hasOwnProperty('bodyTop')||(this.bodyTop=rows.startIndex*this.rowHeight,this.scroller.scrollTo(null,this.bodyTop)),this.setBodyTop(this.bodyTop),(height=view.lastBox&&view.lastBox.height)&&rows.getCount()&&(this.onViewResize(view,
null,height),records&&rows.getCount()!==records.length&&(records.length=0,records.push.apply(records,this.store.getRange(rows.startIndex,rows.endIndex))));view.lockingPartner?(records=view.beforeRefreshStartIndex,view.beforeRefreshStartIndex=null):(records=this.beforeRefreshStartIndex,this.beforeRefreshStartIndex=null);records&&this.refreshView(records)}}else view.on({boxready:Ext.Function.pass(this.onViewRefresh,[view,records],this),single:!0}),this.skipNextRefreshSize=!0},beforeTableLayout:function(ownerContext){var dom=
this.view.body.dom;dom&&(dom=this.grid.getElementSize(dom),ownerContext.bodyHeight=dom.height,ownerContext.bodyWidth=dom.width)},afterTableLayout:function(ownerContext){var view=this.view;if(ownerContext.bodyHeight&&view.body.dom){delete this.rowHeight;this.refreshSize();var renderedBlockHeight=this.grid.getElementHeight(view.body.dom);renderedBlockHeight!==ownerContext.bodyHeight&&(this.onViewResize(view,null,view.el.lastBox.height),renderedBlockHeight=this.bodyHeight,renderedBlockHeight<ownerContext.bodyHeight&&
(this.viewSize>=this.store.getCount()?this.setBodyTop(0):(this.bodyTop>this.scrollTop||this.bodyTop+renderedBlockHeight<this.scrollTop+this.viewClientHeight)&&this.setBodyTop(this.scrollTop-this.trailingBufferZone*this.rowHeight)),view.all.endIndex===view.dataSource.getCount()-1&&this.stretchView(view,this.scrollHeight=this.bodyTop+renderedBlockHeight-1))}},refreshSize:function(){var view=this.view,skipNextRefreshSize=this.skipNextRefreshSize||Ext.Component.pendingLayouts&&Ext.Component.layoutSuspendCount||
!view.body.dom;this.skipNextRefreshSize=!1;skipNextRefreshSize||(this.bodyHeight=this.grid.getElementHeight(view.body.dom),this.scrollHeight=this.getScrollHeight(),this.stretchView(view,this.scrollHeight))},onViewResize:function(view,width,height,oldWidth,oldHeight){this.refreshSize();oldHeight&&height===oldHeight||(Ext.suspendLayouts(),this.viewClientHeight=height||view.el.dom.clientHeight,view=Math.ceil(height/Math.min(this.getThemeRowHeight(),this.rowHeight))+this.trailingBufferZone+this.leadingBufferZone,
this.viewSize=this.setViewSize(view),Ext.resumeLayouts(!0))},stretchView:function(view,scrollRange){if(this.scrollTop>scrollRange){var newY=null==this.nextRefreshStartIndex?this.bodyHeight:scrollRange-this.bodyHeight;this.position=this.scrollTop=Math.max(newY,0);this.scroller.scrollTo(null,this.scrollTop)}this.bodyTop>scrollRange&&view.body.translate(null,this.bodyTop=this.position);view.getScrollable()&&this.refreshScroller(view,scrollRange)},refreshScroller:function(view,scrollRange){var scroller=
view.getScrollable();scroller&&(scroller.setElementSize&&scroller.setElementSize(),scroller.setSize({x:view.headerCt.getTableWidth(),y:view.lockingPartner?null:scrollRange}),view.lockingPartner&&this.scroller.setSize({x:0,y:scrollRange}))},setViewSize:function(viewSize,fromLockingPartner){var me=this,store=me.store,view=me.view,ownerGrid,rows=view.all,elCount=rows.getCount(),storeCount=store.getCount(),lockingPartner=me.view.lockingPartner&&me.view.lockingPartner.bufferedRenderer,diff=elCount-viewSize,
oldTop=0;var end$jscomp$0=Math.max(0,storeCount-1);var pointyEnd=Ext.Number.sign(me.getFirstVisibleRowIndex()-rows.startIndex-(rows.endIndex-me.getLastVisibleRowIndex()));lockingPartner&&!fromLockingPartner&&lockingPartner.setViewSize(viewSize,!0);if(diff=elCount-viewSize){me.scrollTop=me.scroller?me.scroller.getPosition().y:0;me.viewSize=viewSize;store.isBufferedStore&&store.setViewSize(viewSize);if(elCount){var start$jscomp$0=Math.max(0,Math.min(rows.startIndex,storeCount-viewSize));end$jscomp$0=
Math.min(start$jscomp$0+viewSize-1,end$jscomp$0);start$jscomp$0===rows.startIndex&&end$jscomp$0===rows.endIndex?0>diff&&me.handleViewScroll(pointyEnd):(lockingPartner&&lockingPartner.disable(),0>diff?storeCount>viewSize&&storeCount>elCount?store.getRange(start$jscomp$0,end$jscomp$0,{callback:function(newRecords,start,end){ownerGrid=view.ownerGrid;end>rows.endIndex&&rows.scroll(Ext.Array.slice(newRecords,rows.endIndex+1,Infinity),1,0);start<rows.startIndex&&(oldTop=rows.first(!0),rows.scroll(Ext.Array.slice(newRecords,
0,rows.startIndex-start),-1,0),me.bodyTop-=oldTop.offsetTop);me.setBodyTop(me.bodyTop);lockingPartner&&!fromLockingPartner&&(ownerGrid.syncRowHeight||ownerGrid.syncRowHeightOnNextLayout)&&(lockingPartner.setViewSize(viewSize,!0),ownerGrid.syncRowHeights())}}):me.refreshView(0):(1===pointyEnd&&(oldTop=rows.item(rows.startIndex+diff,!0).offsetTop),rows.clip(pointyEnd,diff),me.setBodyTop(me.bodyTop+oldTop),lockingPartner&&0<lockingPartner.view.all.count&&(lockingPartner.view.all.clip(pointyEnd,diff),
lockingPartner.setBodyTop(lockingPartner.bodyTop+oldTop))),lockingPartner&&lockingPartner.enable())}me.refreshSize()}return viewSize},getViewRange:function(){var view=this.view,rows=view.all,rowCount=rows.getCount(),lockingPartnerRows=view.lockingPartner&&view.lockingPartner.all;view=this.store;var startIndex=0;!this.hasOwnProperty('viewSize')&&this.ownerCt&&this.ownerCt.height&&(this.viewSize=Math.ceil(this.ownerCt.height/this.rowHeight));if(!view.data.getCount())return[];!rowCount&&lockingPartnerRows&&
lockingPartnerRows.getCount()?(startIndex=lockingPartnerRows.startIndex,rows=Math.min(lockingPartnerRows.endIndex,startIndex+this.viewSize-1,view.getCount()-1)):(rowCount?startIndex=rows.startIndex:view.isBufferedStore&&(view.currentPage||(view.currentPage=1),startIndex=rows.startIndex=(view.currentPage-1)*(view.pageSize||1),view.currentPage=1),rows=startIndex+(this.viewSize||view.defaultViewSize)-1);return view.getRange(startIndex,rows)},onReplace:function(store,startIndex,oldRecords,newRecords){var scroller=
this.scroller,view=this.view,rows=view.all,renderedSize=rows.getCount(),lastAffectedIndex=startIndex+oldRecords.length-1,recordIncrement=newRecords.length-oldRecords.length,scrollIncrement=recordIncrement*this.rowHeight;if(startIndex>=rows.startIndex+this.viewSize)this.refreshSize();else if(renderedSize&&lastAffectedIndex<rows.startIndex&&rows.getCount()>=this.viewSize)rows.moveBlock(recordIncrement),this.refreshSize(),oldRecords=rows.startIndex,0<recordIncrement&&(this.doNotMirror=!0,this.handleViewScroll(-1),
this.doNotMirror=!1),rows.startIndex===oldRecords?rows.startIndex&&(this.setBodyTop(this.bodyTop+=scrollIncrement),view.suspendEvent('scroll'),view.scrollBy(0,scrollIncrement),view.resumeEvent('scroll'),this.position=this.scrollTop=this.scroller.getPosition().y):(view.suspendEvent('scroll'),view.scrollBy(0,(oldRecords-rows.startIndex)*this.rowHeight),view.resumeEvent('scroll')),view.refreshSize(rows.getCount()!==renderedSize);else if(renderedSize&&startIndex>rows.endIndex){this.refreshSize();if(0<
recordIncrement)this.onRangeFetched(null,rows.startIndex,Math.min(store.getCount(),rows.startIndex+this.viewSize)-1);view.refreshSize(rows.getCount()!==renderedSize)}else startIndex<rows.startIndex&&lastAffectedIndex<=rows.endIndex?(renderedSize=view.preserveScrollOnRefresh,view.preserveScrollOnRefresh=!1,this.refreshView(rows.startIndex-oldRecords.length+newRecords.length),view.preserveScrollOnRefresh=renderedSize):(startIndex<rows.startIndex&&lastAffectedIndex<=rows.endIndex&&scrollIncrement&&this.doVerticalScroll(scroller,
this.scrollTop+=scrollIncrement,!0),this.refreshView(rows.startIndex,scrollIncrement))},doVerticalScroll:function(scroller,pos,supressEvents){scroller&&(supressEvents&&scroller.suspendEvent('scroll'),scroller.scrollTo(null,this.position=pos),supressEvents&&scroller.resumeEvent('scroll'))},scrollTo:function(recordIdx,options){var args=arguments,me=this,view=me.view,lockingPartner=view.lockingPartner&&view.lockingPartner.grid.isVisible()&&view.lockingPartner.bufferedRenderer,store=me.store,total=store.getCount(),
startIdx,targetRow;void 0===options||options instanceof Object||(options={select:args[1],callback:args[2],scope:args[3]});if(view.dataSource.isMultigroupStore){var record=recordIdx.isEntity?recordIdx:view.store.getAt(Math.min(Math.max(recordIdx,0),view.store.getCount()-1));!view.dataSource.isExpandingOrCollapsing&&view.dataSource.isInCollapsedGroup(record)&&view.dataSource.expandToRecord(record);recordIdx=view.dataSource.indexOf(record)}else if((startIdx=view.dataSource.groupingFeature)&&startIdx.collapsible)record=
recordIdx.isEntity?recordIdx:view.store.getAt(Math.min(Math.max(recordIdx,0),view.store.getCount()-1)),(args=startIdx.getMetaGroup(record))&&args.isCollapsed?startIdx.isExpandingOrCollapsing||record===args.placeholder?(record=args.placeholder,recordIdx=startIdx.indexOfPlaceholder(record)):(startIdx.expand(startIdx.getGroup(record).getGroupKey()),total=store.getCount(),recordIdx=startIdx.indexOf(record)):recordIdx=startIdx.indexOf(record);else if(recordIdx.isEntity){if(record=recordIdx,recordIdx=store.indexOf(record),
-1===recordIdx)return}else recordIdx=Math.min(Math.max(recordIdx,0),total-1),record=store.getAt(recordIdx);if(record&&(targetRow=view.getNode(record)))view.grid.ensureVisible(record,options),me.onViewScroll();else{if(recordIdx<view.all.startIndex){var direction=-1;startIdx=Math.max(Math.min(recordIdx-Math.floor((me.leadingBufferZone+me.trailingBufferZone)/2),total-me.viewSize+1),0);total=Math.min(startIdx+me.viewSize-1,total-1)}else direction=1,total=Math.min(recordIdx+Math.floor((me.leadingBufferZone+
me.trailingBufferZone)/2),total-1),startIdx=Math.max(total-(me.viewSize-1),0);var tableTop=Math.max(startIdx*me.rowHeight,0);store.getRange(startIdx,total,{callback:function(range,start,end){me.renderRange(start,end,!0);record=store.data.getRange(recordIdx,recordIdx+1)[0];targetRow=view.getNode(record);view.body.translate(null,me.bodyTop=tableTop);1===direction&&view.hasVariableRowHeight()&&me.refreshSize();lockingPartner&&(lockingPartner.renderRange(start,end,!0),me.syncRowHeights(),lockingPartner.view.body.translate(null,
lockingPartner.bodyTop=tableTop),1===direction&&lockingPartner.refreshSize());targetRow&&(view.grid.ensureVisible(record,options),me.scrollTop=me.position=me.scroller.getPosition().y,lockingPartner&&(lockingPartner.position=lockingPartner.scrollTop=me.scrollTop))}})}},onViewScroll:function(scroller,x,scrollTop){scroller=this.view.body.dom;x=this.store.getCount();null==scrollTop&&(scrollTop=this.scroller.getPosition().y);this.scrollTop=scrollTop;scroller&&!(this.disabled||x<this.viewSize)&&(scrollTop-=
this.position,scroller=0<scrollTop?1:-1,20<=Math.abs(scrollTop)||scroller!==this.lastScrollDirection)&&(this.lastScrollDirection=scroller,this.handleViewScroll(this.lastScrollDirection,scrollTop))},handleViewScroll:function(direction,vscrollDistance){var rows=this.view.all,storeCount=this.store.getCount(),viewSize=this.viewSize,lastItemIndex=storeCount-1;storeCount=Math.max(0,storeCount-viewSize);if(-1===direction){if(rows.startIndex&&this.topOfViewCloseToEdge()){var requestStart=Math.max(0,this.getLastVisibleRowIndex()+
this.trailingBufferZone-viewSize);requestStart>rows.startIndex&&(requestStart=Math.max(0,rows.startIndex+Math.floor(vscrollDistance/this.rowHeight)))}}else rows.endIndex<lastItemIndex&&this.bottomOfViewCloseToEdge()&&(requestStart=Math.max(0,Math.min(this.getFirstVisibleRowIndex()-this.trailingBufferZone,storeCount)));if(null==requestStart)this.position=this.scrollTop,this.loadId++;else if(direction=Math.min(requestStart+viewSize-1,lastItemIndex),this.variableRowHeight&&direction===rows.endIndex&&
direction<lastItemIndex&&(direction++,requestStart++),requestStart!==rows.startIndex||direction!==rows.endIndex)return this.scroller.trackingScrollTop=this.scrollTop,this.renderRange(requestStart,direction),!0},bottomOfViewCloseToEdge:function(){return this.variableRowHeight?this.bodyTop+this.bodyHeight<this.scrollTop+this.view.lastBox.height+this.numFromEdge*this.rowHeight:this.view.all.endIndex-this.getLastVisibleRowIndex()<this.numFromEdge},topOfViewCloseToEdge:function(){return this.variableRowHeight?
this.bodyTop>this.scrollTop-this.numFromEdge*this.rowHeight:this.getFirstVisibleRowIndex()-this.view.all.startIndex<this.numFromEdge},refreshView:function(startIndex,scrollIncrement){var viewSize=this.viewSize,view=this.view,rows=view.all,store=this.store,storeCount=store.getCount(),maxIndex=Math.max(0,storeCount-1),lockingPartnerRows=view.lockingPartner&&view.lockingPartner.all;scrollIncrement=this.bodyTop&&view.preserveScrollOnRefresh||scrollIncrement;if(storeCount)storeCount<viewSize?(startIndex=
0,rows=maxIndex,this.nextRefreshStartIndex=scrollIncrement?null:0):null==startIndex&&!rows.getCount()&&lockingPartnerRows&&lockingPartnerRows.getCount()?(startIndex=lockingPartnerRows.startIndex,rows=Math.min(lockingPartnerRows.endIndex,startIndex+viewSize-1,maxIndex)):(null==startIndex&&(startIndex=null==this.nextRefreshStartIndex||scrollIncrement?rows.startIndex:this.nextRefreshStartIndex,this.nextRefreshStartIndex=null),startIndex=Math.max(0,Math.min(startIndex,maxIndex-viewSize+1)),rows=Math.min(startIndex+
viewSize-1,maxIndex),rows-startIndex+1>viewSize&&(startIndex=rows-viewSize+1));else return this.doRefreshView([],0,0);0===startIndex&&-1===rows?this.doRefreshView([],0,0):store.getRange(startIndex,rows,{callback:this.doRefreshView,scope:this})},doRefreshView:function(range,startIndex,endIndex){endIndex=this.view;var scroller=this.scroller,rows=endIndex.all,previousStartIndex=rows.startIndex,previousEndIndex=rows.endIndex,prevRowCount=rows.getCount(),viewMoved=startIndex!==rows.startIndex&&!this.isStoreLoading,
calculatedTop=-1,scrollIncrement;this.isStoreLoading=!1;endIndex.refreshing=this.refreshing=!0;if(endIndex.refreshCounter){if(endIndex.hasListeners.beforerefresh&&!1===endIndex.fireEvent('beforerefresh',endIndex))return endIndex.refreshNeeded=endIndex.refreshing=this.refreshing=!1;var restoreFocus=endIndex.saveFocusState();endIndex.clearViewEl(!0);endIndex.refreshCounter++;range.length?(endIndex.doAdd(range,startIndex),viewMoved&&(previousStartIndex=rows.item(previousStartIndex,!0),previousEndIndex=
rows.item(previousEndIndex,!0),previousStartIndex?scrollIncrement=-previousStartIndex.offsetTop:previousEndIndex&&(scrollIncrement=rows.last(!0).offsetTop-previousEndIndex.offsetTop),scrollIncrement?this.scrollTop=(calculatedTop=Math.max(this.bodyTop+scrollIncrement,0))?this.scrollTop+scrollIncrement:0:(calculatedTop=startIndex*this.rowHeight,this.scrollTop=Math.max(calculatedTop+this.rowHeight*(calculatedTop<this.bodyTop?this.leadingBufferZone:this.trailingBufferZone),0)))):(this.scrollTop=calculatedTop=
this.position=0,endIndex.addEmptyText());-1!==calculatedTop&&(this.setBodyTop(calculatedTop),this.doVerticalScroll(scroller,this.scrollTop,!0));this.refreshSize();endIndex.refreshSize(rows.getCount()!==prevRowCount);endIndex.fireItemMutationEvent('refresh',endIndex,range);restoreFocus();endIndex.preserveScrollOnRefresh&&restoreFocus!==Ext.emptyFn&&this.doVerticalScroll(scroller,this.scrollTop,!0);endIndex.headerCt.setSortState()}else endIndex.refresh();endIndex.refreshNeeded=endIndex.refreshing=this.refreshing=
!1},renderRange:function(start,end,forceSynchronous){var rows=this.view.all,store=this.store;if(rows.startIndex!==start||rows.endIndex!==end)if(start!==rows.startIndex||end!==rows.endIndex)if(store.rangeCached(start,end))if(this.cancelLoad(),this.synchronousRender||forceSynchronous)this.onRangeFetched(null,start,end);else this.renderTask||(this.renderTask=new Ext.util.DelayedTask(this.onRangeFetched,this)),this.renderTask.delay(-1,null,null,[null,start,end]);else this.attemptLoad(start,end,this.scrollTop)},
onRangeFetched:function(range,start,end){var view=this.view,scroller=this.scroller,viewEl=view.el,rows=view.all,increment=0,partnerView=!this.doNotMirror&&view.lockingPartner,partnerColManger=partnerView&&partnerView.getVisibleColumnManager(),partnerViewConfigured=partnerColManger&&partnerColManger.getColumns().length;partnerColManger=partnerViewConfigured&&partnerView.bufferedRenderer;var partnerRows=partnerViewConfigured&&partnerView.all,variableRowHeight=this.variableRowHeight;partnerViewConfigured=
partnerViewConfigured&&partnerView.ownerCt.isVisible()&&(view.ownerGrid.syncRowHeight||view.ownerGrid.syncRowHeightOnNextLayout||partnerColManger.variableRowHeight!==variableRowHeight);var focusedView,noOverlap;if(!view.destroyed){if(range)this.scrollTop=scroller.getPosition().y;else if(range=this.store.getRange(start,end),!range)return;var activeEl=Ext.fly(Ext.Element.getActiveElement());viewEl.contains(activeEl)?focusedView=view:partnerView&&partnerView.el.contains(activeEl)&&(focusedView=partnerView);
focusedView&&activeEl.suspendFocusEvents();viewEl=start*this.rowHeight;if(start<rows.startIndex&&end>rows.endIndex){scroller=rows.startIndex-start;view.clearViewEl(!0);end=view.doAdd(range,start);view.fireItemMutationEvent('itemadd',range,start,end,view);if(partnerColManger){partnerView.clearViewEl(!0);var partnerNewRows=partnerView.doAdd(range,start);partnerView.fireItemMutationEvent('itemadd',range,start,partnerNewRows,partnerView);partnerViewConfigured&&(this.syncRowHeights(end,partnerNewRows),
partnerViewConfigured=!1)}for(start=0;start<scroller;start++)increment-=this.grid.getElementHeight(end[start]);increment=this.bodyTop+increment}else{if(noOverlap=this.teleported||start>rows.endIndex||end<rows.startIndex)view.clearViewEl(!0),this.teleported=!1;rows.getCount()?end>rows.endIndex?(partnerView=Math.max(start-rows.startIndex,0),variableRowHeight&&(increment=rows.item(rows.startIndex+partnerView,!0).offsetTop),start=Ext.Array.slice(range,rows.endIndex+1-start),end=rows.scroll(start,1,partnerView),
partnerColManger&&(partnerNewRows=partnerRows.scroll(start,1,partnerView)),increment=variableRowHeight?this.bodyTop+increment:viewEl):(partnerView=Math.max(rows.endIndex-end,0),increment=rows.startIndex,start=Ext.Array.slice(range,0,rows.startIndex-start),end=rows.scroll(start,-1,partnerView),partnerColManger&&(partnerNewRows=partnerRows.scroll(start,-1,partnerView)),partnerViewConfigured&&(this.syncRowHeights(end,partnerNewRows),partnerViewConfigured=!1),variableRowHeight)?(increment=this.bodyTop-
rows.item(increment,!0).offsetTop,rows.startIndex)?0>increment&&(increment=rows.startIndex*this.rowHeight,this.doVerticalScroll(scroller,this.scrollTop+=increment),increment=this.bodyTop+increment):increment&&(this.doVerticalScroll(scroller,this.scrollTop-=increment),increment=0):increment=viewEl:(end=view.doAdd(range,start),view.fireItemMutationEvent('itemadd',range,start,end,view),partnerColManger&&(partnerView.clearViewEl(!0),partnerNewRows=partnerColManger.view.doAdd(range,start),partnerView.fireItemMutationEvent('itemadd',
range,start,partnerNewRows,partnerView)),increment=viewEl,noOverlap&&variableRowHeight&&(scroller=this.scrollTop<this.position?this.leadingBufferZone:this.trailingBufferZone,start>scroller&&(increment=Math.max(this.scrollTop-rows.item(rows.startIndex+scroller-1,!0).offsetTop,0))));this.position=this.scrollTop}focusedView&&(activeEl.resumeFocusEvents(),focusedView.el.contains(activeEl)||(start=focusedView.actionableMode?focusedView.actionPosition:focusedView.lastFocused)&&start.column&&(focusedView.renderingRows=
!0,focusedView.onFocusLeave({}),focusedView.renderingRows=!1,this.lastFocusedElement=focusedView,this.newFocusTarget=this.getNewFocusTarget(start),this.newFocusTarget.focus(),this.lastFocusedMultiRange=!1,this.colHeader=start.column));!this.lastFocusedElement||this.newFocusTarget!==this.colHeader||this.lastFocusedMultiRange||view.actionableMode||(view=this.lastFocusedElement,Ext.Array.contains(this.store.getRange(rows.startIndex,rows.endIndex),view.lastFocused.record)&&(view.focus(),this.lastFocusedMultiRange=
!0));increment=Math.max(Math.floor(increment),0);view.positionBody&&this.setBodyTop(increment,!0);partnerColManger?(partnerColManger.scrollTop=this.scrollTop,partnerColManger.bodyTop!==increment&&partnerColManger.setBodyTop(increment,!0),partnerViewConfigured&&this.syncRowHeights(end,partnerNewRows)):variableRowHeight&&(delete this.rowHeight,this.refreshSize());return end}},getNewFocusTarget:function(pos){var view=pos.view,grid=view.grid;pos=pos.column;var hiddenHeaders=pos.isHidden()||grid.hideHeaders;
return pos.focusable&&!hiddenHeaders?pos:(pos=pos.el.findTabbableElements())&&pos.length?pos[0]:grid.findFocusTarget()||view.el},syncRowHeights:function(itemEls,partnerItemEls){var ln=0,otherLn=1,mySynchronizer=[],otherSynchronizer=[],RowSynchronizer=Ext.grid.locking.RowSynchronizer,i,rowSync;itemEls&&partnerItemEls&&(ln=itemEls.length,otherLn=partnerItemEls.length);ln!==otherLn&&(itemEls=this.view.all.slice(),partnerItemEls=this.view.lockingPartner.all.slice(),ln=otherLn=itemEls.length);for(i=0;i<
ln;i++)mySynchronizer[i]=rowSync=new RowSynchronizer(this.view,itemEls[i]),rowSync.measure();for(i=0;i<otherLn;i++)otherSynchronizer[i]=rowSync=new RowSynchronizer(this.view.lockingPartner,partnerItemEls[i]),rowSync.measure();for(i=0;i<ln;i++)mySynchronizer[i].finish(otherSynchronizer[i]),otherSynchronizer[i].finish(mySynchronizer[i]);this.syncRowHeightsFinish()},syncRowHeightsFinish:function(){var view=this.view,lockingPartner=view.lockingPartner.bufferedRenderer,ownerGrid=view.ownerGrid,scrollable=
view.getScrollable();ownerGrid.syncRowHeightOnNextLayout=!1;view.componentLayoutCounter&&(delete this.rowHeight,this.refreshSize(),delete lockingPartner.rowHeight,lockingPartner.refreshSize());scrollable&&scrollable.restoreState()},setBodyTop:function(bodyTop,skipStretchView){var view=this.view,rows=view.all,store=this.store,body=view.body;body.dom&&(this.translateBody(body,bodyTop),this.variableRowHeight?(this.bodyHeight=this.grid.getElementHeight(body.dom),rows.endIndex===store.getCount()-1?this.scrollHeight=
bodyTop+this.bodyHeight-1:this.scrollHeight=this.getScrollHeight(),skipStretchView||this.stretchView(view,this.scrollHeight)):this.bodyHeight=rows.getCount()*this.rowHeight)},translateBody:function(body,bodyTop){body.translate(null,this.bodyTop=bodyTop)},getFirstVisibleRowIndex:function(startRow,endRow,viewportTop,viewportBottom){var rows=this.view.all,elements=rows.elements,clientHeight=this.viewClientHeight;var targetTop=this.bodyTop;if(rows.getCount()&&this.variableRowHeight){if(arguments.length){if(startRow===
endRow)return endRow;rows=startRow+Math.floor((endRow-startRow)/2)}else{startRow=rows.startIndex;endRow=rows.endIndex;viewportTop=this.scrollTop;viewportBottom=viewportTop+clientHeight;if(targetTop>viewportBottom||targetTop+this.bodyHeight<viewportTop)return this.teleported=!0,Math.floor(this.scrollTop/this.rowHeight);rows=startRow+Math.min(this.numFromEdge+(-1===this.lastScrollDirection?this.leadingBufferZone:this.trailingBufferZone),Math.floor((endRow-startRow)/2))}targetTop+=elements[rows].offsetTop;
if(targetTop+this.grid.getElementHeight(elements[rows])<=viewportTop)return this.getFirstVisibleRowIndex(rows+1,endRow,viewportTop,viewportBottom);if(targetTop<=viewportTop)return rows;if(rows!==startRow)return this.getFirstVisibleRowIndex(startRow,rows-1,viewportTop,viewportBottom)}return Math.floor(this.scrollTop/this.rowHeight)},getLastVisibleRowIndex:function(startRow,endRow,viewportTop,viewportBottom){var rows=this.view.all,elements=rows.elements,clientHeight=this.viewClientHeight;var targetTop=
this.bodyTop;if(rows.getCount()&&this.variableRowHeight){if(arguments.length){if(startRow===endRow)return endRow;var target=startRow+Math.floor((endRow-startRow)/2)}else{startRow=rows.startIndex;endRow=rows.endIndex;viewportTop=this.scrollTop;viewportBottom=viewportTop+clientHeight;if(targetTop>viewportBottom||targetTop+this.bodyHeight<viewportTop)return this.teleported=!0,Math.floor(this.scrollTop/this.rowHeight)+Math.ceil(clientHeight/this.rowHeight);target=endRow-Math.min(this.numFromEdge+(1===
this.lastScrollDirection?this.leadingBufferZone:this.trailingBufferZone),Math.floor((endRow-startRow)/2))}targetTop+=elements[target].offsetTop;if(targetTop>viewportBottom)return this.getLastVisibleRowIndex(startRow,target-1,viewportTop,viewportBottom);elements=targetTop+this.grid.getElementHeight(elements[target]);if(elements>=viewportBottom)return target;if(target!==endRow)return this.getLastVisibleRowIndex(target+1,endRow,viewportTop,viewportBottom)}return Math.min(this.getFirstVisibleRowIndex()+
Math.ceil(clientHeight/this.rowHeight),rows.endIndex)},getScrollHeight:function(){var rows=this.view.all,recCount=this.store.getCount(),rowCount=rows.getCount();if(!recCount)return 0;if(!this.hasOwnProperty('rowHeight'))if(rowCount)if(this.variableRowHeight)this.rowHeight=Math.floor(this.bodyHeight/rowCount);else{var row=rows.first();var rowHeight=row.getHeight();Ext.isIE8&&(row=row.getBorderWidth('b'),0<row&&(rowHeight-=row));this.rowHeight=rowHeight}else delete this.rowHeight;this.variableRowHeight?
rows.endIndex===recCount-1?recCount=this.bodyTop+this.bodyHeight-1:(recCount=Math.floor((recCount-rowCount)*this.rowHeight)+this.bodyHeight,recCount+=this.bodyTop-rows.startIndex*this.rowHeight):recCount=Math.floor(recCount*this.rowHeight);return this.scrollHeight=recCount},getThemeRowHeight:function(){if(!this.themeRowHeight){var testEl=Ext.getBody().createChild({cls:'x-theme-row-height-el'});this.self.prototype.themeRowHeight=testEl.dom.offsetHeight;testEl.destroy()}return this.themeRowHeight},
attemptLoad:function(start,end,loadScrollPosition){this.scrollToLoadBuffer?(this.loadTask||(this.loadTask=new Ext.util.DelayedTask),this.loadTask.delay(this.scrollToLoadBuffer,this.doAttemptLoad,this,[start,end,loadScrollPosition])):this.doAttemptLoad(start,end,loadScrollPosition)},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(start$jscomp$0,end$jscomp$0,loadScrollPosition){var me=this;me.destroyed||me.store.getRange(start$jscomp$0,end$jscomp$0,{loadId:++me.loadId,
callback:function(range,start,end,options){if(options.loadId===me.loadId&&me.scrollTop===loadScrollPosition)me.onRangeFetched(range,start,end)},fireEvent:!1})},destroy:function(){this.cancelLoad();this.store&&this.unbindStore();Ext.destroy(this.viewListeners,this.stretcher,this.gridListeners,this.scrollListeners);Ext.plugin.Abstract.prototype.destroy.call(this)}},0,0,0,0,['plugin.bufferedrenderer'],0,[Ext.grid.plugin,'BufferedRenderer'],0);
Ext.cmd.derive('Ext.grid.plugin.RowExpander',Ext.plugin.Abstract,{lockableScope:'top',columnWidth:24,rowBodyTpl:null,lockedTpl:null,expandOnDblClick:!0,selectRowOnExpand:!1,scrollIntoViewOnExpand:!0,headerWidth:24,bodyBefore:!1,rowBodyTrSelector:'.x-grid-rowbody-tr',rowBodyHiddenCls:'x-grid-row-body-hidden',rowCollapsedCls:'x-grid-row-collapsed',addCollapsedCls:{fn:function(out,values,parent){var me=this.rowExpander;me.recordsExpanded[values.record.internalId]||values.itemClasses.push(me.rowCollapsedCls);
this.nextTpl.applyOut(values,out,parent)},syncRowHeights:function(lockedItem,normalItem){this.rowExpander.syncRowHeights(lockedItem,normalItem)},priority:2E4},setCmp:function(grid){Ext.plugin.Abstract.prototype.setCmp.call(this,grid);this.recordsExpanded={};this.rowBodyTpl=Ext.XTemplate.getTpl(this,'rowBodyTpl');var features=this.getFeatureConfig(grid);grid.features=grid.features?Ext.Array.push(features,grid.features):features},getFeatureConfig:function(grid){var features=[],featuresCfg={ftype:'rowbody',
rowExpander:this,rowIdCls:this.rowIdCls,bodyBefore:this.bodyBefore,recordsExpanded:this.recordsExpanded,rowBodyHiddenCls:this.rowBodyHiddenCls,rowCollapsedCls:this.rowCollapsedCls,setupRowData:this.getRowBodyFeatureData,setup:this.setup};features.push(Ext.apply({lockableScope:'normal',getRowBodyContents:this.getRowBodyContentsFn(this.rowBodyTpl)},featuresCfg));grid.enableLocking&&features.push(Ext.apply({lockableScope:'locked',getRowBodyContents:this.lockedTpl?this.getRowBodyContentsFn(this.lockedTpl):
function(){return''}},featuresCfg));return features},getRowBodyContentsFn:function(rowBodyTpl){var me=this;return function(rowValues){rowBodyTpl.owner=me;return rowBodyTpl.applyTemplate(rowValues.record.getData())}},init:function(grid){var ownerLockable=grid.lockable&&grid;if(ownerLockable){this.lockedGrid=ownerLockable.lockedGrid;this.normalGrid=ownerLockable.normalGrid;var lockedView=this.lockedView=this.lockedGrid.getView();var normalView=this.normalView=this.normalGrid.getView()}Ext.plugin.Abstract.prototype.init.call(this,
grid);this.grid=grid;var view=this.view=grid.getView();ownerLockable?(this.bindView(lockedView),this.bindView(normalView),this.addExpander(this.lockedGrid.headerCt.items.getCount()?this.lockedGrid:this.normalGrid),lockedView.addRowTpl(this.addCollapsedCls).rowExpander=normalView.addRowTpl(this.addCollapsedCls).rowExpander=lockedView.rowExpander=normalView.rowExpander=this,ownerLockable.mon(ownerLockable,{processcolumns:this.onLockableProcessColumns,lockcolumn:this.onColumnLock,unlockcolumn:this.onColumnUnlock,
scope:this})):(this.bindView(view),view.addRowTpl(this.addCollapsedCls).rowExpander=view.rowExpander=this,this.addExpander(grid),grid.on('beforereconfigure',this.beforeReconfigure,this))},onItemAdd:function(newRecords,startIndex,newItems){startIndex=this.grid.lockable;newItems=newItems.length;var i;for(i=0;i<newItems;i++){var record=newRecords[i];if(!record.isNonData&&this.recordsExpanded[record.internalId]){startIndex&&(this.grid.syncRowHeightOnNextLayout=!0);break}}},beforeReconfigure:function(grid,
store,columns,oldStore,oldColumns){columns&&(this.expanderColumn=new Ext.grid.column.Column(this.getHeaderConfig()),columns.unshift(this.expanderColumn))},onLockableProcessColumns:function(lockable,lockedHeaders,normalHeaders){this.addExpander(lockedHeaders.length?lockable.lockedGrid:lockable.normalGrid)},addExpander:function(expanderGrid){var selModel=expanderGrid.getSelectionModel(),checkBoxPosition=selModel.injectCheckbox;this.expanderColumn=expanderGrid.headerCt.insert(0,this.getHeaderConfig());
if(0===checkBoxPosition||'first'===checkBoxPosition)checkBoxPosition=1;selModel.injectCheckbox=checkBoxPosition},getRowBodyFeatureData:function(record,idx,rowValues){this.self.prototype.setupRowData.apply(this,arguments);rowValues.rowBody=this.getRowBodyContents(rowValues);rowValues.rowBodyCls=this.recordsExpanded[record.internalId]?'':this.rowBodyHiddenCls},bindView:function(view){var listeners={itemkeydown:this.onKeyDown,scope:this};this.expandOnDblClick&&(listeners.itemdblclick=this.onDblClick);
this.grid.lockable&&(listeners.itemadd=this.onItemAdd);view.on(listeners)},onKeyDown:function(view,record,row,rowIdx,e){var key=e.getKey();view.getNavigationModel().getPosition()&&(row=Ext.fly(row),view=row.hasCls(this.rowCollapsedCls),((107===key||187===key&&e.shiftKey)&&view||(109===key||189===key)&&!view)&&this.toggleRow(rowIdx,record))},onDblClick:function(view,record,row,rowIdx,e){this.toggleRow(rowIdx,record)},toggleRow:function(rowIdx,record){if(!record.isNonData){var view=this.normalView||
this.view,fireView=view,rowNode=view.getNode(rowIdx),normalRow=Ext.fly(rowNode),nextBd=normalRow.down(this.rowBodyTrSelector,!0),wasCollapsed=normalRow.hasCls(this.rowCollapsedCls),addOrRemoveCls=wasCollapsed?'removeCls':'addCls',ownerLockable=this.grid.lockable&&this.grid;normalRow[addOrRemoveCls](this.rowCollapsedCls);Ext.fly(nextBd)[addOrRemoveCls](this.rowBodyHiddenCls);this.recordsExpanded[record.internalId]=wasCollapsed;Ext.suspendLayouts();ownerLockable&&(fireView=ownerLockable.getView(),this.lockedGrid.isVisible()&&
(view=this.lockedView,view.lockingPartner.updateLayout(),normalRow=Ext.fly(view.getNode(rowIdx)))&&(normalRow[addOrRemoveCls](this.rowCollapsedCls),nextBd=normalRow.down(this.rowBodyTrSelector,!0),Ext.fly(nextBd)[addOrRemoveCls](this.rowBodyHiddenCls)),ownerLockable.syncRowHeightOnNextLayout=!0);fireView.fireEvent(wasCollapsed?'expandbody':'collapsebody',rowNode,record,nextBd);view.refreshSize(!0);Ext.resumeLayouts(!0);this.scrollIntoViewOnExpand&&wasCollapsed&&this.grid.ensureVisible(rowIdx)}},syncRowHeights:function(lockedItem,
normalItem){lockedItem=Ext.fly(lockedItem).down(this.rowBodyTrSelector);normalItem=Ext.fly(normalItem).down(this.rowBodyTrSelector);var lockedHeight,normalHeight;normalItem.isVisible()?(lockedHeight=lockedItem.getHeight())!==(normalHeight=normalItem.getHeight())&&(lockedHeight>normalHeight?normalItem.setHeight(lockedHeight):lockedItem.setHeight(normalHeight)):lockedItem.dom.style.height=normalItem.dom.style.height=''},onColumnUnlock:function(lockable,column){lockable=lockable||this.grid;column=lockable.lockedGrid.visibleColumnManager.getColumns();
1===column.length&&(lockable.normalGrid.removeCls('x-grid-hide-row-expander-spacer'),lockable.lockedGrid.addCls('x-grid-hide-row-expander-spacer'),column[0]===this.expanderColumn?lockable.unlock(this.expanderColumn):lockable.lock(this.expanderColumn,0))},onColumnLock:function(lockable,column){lockable=lockable||this.grid;1===this.lockedGrid.visibleColumnManager.getColumns().length&&(this.lockedGrid.headerCt.insert(0,this.expanderColumn),lockable.normalGrid.addCls('x-grid-hide-row-expander-spacer'),
lockable.lockedGrid.removeCls('x-grid-hide-row-expander-spacer'))},getHeaderConfig:function(){var me=this,lockable=me.grid.lockable&&me.grid;return{width:me.headerWidth,ignoreExport:!0,lockable:!1,autoLock:!0,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:'x-grid-cell-special',innerCls:'x-grid-cell-inner-row-expander',renderer:function(value,metaData,record){return'\x3cdiv class\x3d"x-'+(record.isNonData?'grid-row-non-expander':'grid-row-expander')+'" role\x3d"presentation" tabIndex\x3d"0"\x3e\x3c/div\x3e'},
processEvent:function(type,view,cell,rowIndex,cellIndex,e,record){view='touch'===e.pointerType;cellIndex=!!e.getTarget('.x-grid-row-expander');'click'===type&&cellIndex||'keydown'===type&&e.getKey()===e.SPACE?(view&&cell.focus(),me.toggleRow(rowIndex,record,e),e.stopSelection=!me.selectRowOnExpand):'mousedown'===e.type&&!view&&cellIndex&&e.preventDefault()},isLocked:function(){return lockable&&(lockable.lockedGrid.isVisible()||this.locked)},editRenderer:function(){return'\x26#160;'}}}},0,0,0,0,['plugin.rowexpander'],
0,[Ext.grid.plugin,'RowExpander'],0);Ext.define('Ext.theme.triton.grid.plugin.RowExpander',{override:'Ext.grid.plugin.RowExpander',headerWidth:32});
Ext.cmd.derive('Ext.util.Queue',Ext.Base,{constructor:function(){this.clear()},add:function(obj,replace){var key=this.getKey(obj),prevEntry;(prevEntry=this.map[key])?replace&&(this.map[key]=obj,this.items[Ext.Array.indexOf(this.items,prevEntry)]=obj):(++this.length,this.items.push(obj),this.map[key]=obj);return obj},clear:function(){var items=this.items;this.items=[];this.map={};this.length=0;return items},contains:function(obj){obj=this.getKey(obj);return this.map.hasOwnProperty(obj)},getCount:function(){return this.length},
getKey:function(obj){return obj.id},remove:function(obj){var key=this.getKey(obj),items=this.items;if(this.map[key]){var index=Ext.Array.indexOf(items,obj);Ext.Array.erase(items,index,1);delete this.map[key];--this.length}return obj}},1,0,0,0,0,0,[Ext.util,'Queue'],0);
Ext.cmd.derive('Ext.layout.ContextItem',Ext.Base,{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(config){var sizeModels=
Ext.layout.SizeModel.sizeModels,configured=sizeModels.configured;sizeModels=sizeModels.shrinkWrap;var ownerCt,ownerCtContext,heightModel,optOut;Ext.apply(this,config);var target=this.target;var el=this.el;this.id=target.id;this.flushedProps={};this.props=config={};this.styles={};if(target.isComponent){if(this.wrapsComponent=!0,this.framing=target.frameSize||null,this.isComponentChild=target.ownerLayout&&target.ownerLayout.isComponentLayout,el=target.lastBox,(ownerCt=target.ownerCt)&&(ownerCtContext=
ownerCt.el&&this.context.items[ownerCt.el.id])&&(this.ownerCtContext=ownerCtContext),this.sizeModel=ownerCt=target.getSizeModel(ownerCtContext&&ownerCtContext.widthModel.pairsByHeightOrdinal[ownerCtContext.heightModel.ordinal]),this.widthModel=ownerCtContext=ownerCt.width,this.heightModel=heightModel=ownerCt.height,el&&!1===el.invalid){var sameWidth=target.width===(ownerCt=el.width);var sameHeight=target.height===(target=el.height);ownerCtContext===sizeModels&&heightModel===sizeModels?optOut=!0:ownerCtContext===
configured&&sameWidth&&(optOut=heightModel===sizeModels||heightModel===configured&&sameHeight);optOut&&(this.optOut=!0,config.width=ownerCt,config.height=target)}}else el=el.lastBox;this.lastBox=el},init:function(full,options){var oldProps=this.props,oldDirty=this.dirty,ownerCtContext=this.ownerCtContext,ownerLayout=this.target.ownerLayout,firstTime=!this.state,ret=full||firstTime,children,n,oldHeightModel=this.heightModel,oldWidthModel=this.widthModel,remainingCount=0;this.dirty=this.invalid=!1;
this.props={};this.remainingChildDimensions=0;this.boxChildren&&(this.boxChildren.length=0);firstTime||(this.clearAllBlocks('blocks'),this.clearAllBlocks('domBlocks'));if(!this.wrapsComponent)return ret;var target=this.target;this.state={};if(firstTime)target.beforeLayout&&target.beforeLayout!==Ext.emptyFn&&target.beforeLayout(),!ownerCtContext&&(children=target.ownerCt)&&(ownerCtContext=this.context.items[children.el.id]),ownerCtContext?(this.ownerCtContext=ownerCtContext,this.isBoxParent=ownerLayout&&
ownerLayout.isItemBoxParent(this)):this.isTopLevel=!0,this.frameBodyContext=this.getEl('frameBody');else{ownerCtContext=this.ownerCtContext;this.isTopLevel=!ownerCtContext;children=this.children;var i=0;for(n=children.length;i<n;++i)children[i].init(!0)}this.hasRawContent=!(target.isContainer&&0<target.items.items.length);full?(this.widthModel=this.heightModel=null,full=target.getSizeModel(ownerCtContext&&ownerCtContext.widthModel.pairsByHeightOrdinal[ownerCtContext.heightModel.ordinal]),firstTime&&
(this.sizeModel=full),this.widthModel=full.width,this.heightModel=full.height,ownerCtContext&&!this.isComponentChild&&(ownerLayout.needsItemSize||!target.liquidLayout?ownerCtContext.remainingChildDimensions+=2:(this.widthModel.calculated&&++ownerCtContext.remainingChildDimensions,this.heightModel.calculated&&++ownerCtContext.remainingChildDimensions))):oldProps&&(this.recoverProp('x',oldProps,oldDirty),this.recoverProp('y',oldProps,oldDirty),this.widthModel.calculated?this.recoverProp('width',oldProps,
oldDirty):'width'in oldProps&&++remainingCount,this.heightModel.calculated?this.recoverProp('height',oldProps,oldDirty):'height'in oldProps&&++remainingCount,ownerCtContext&&!this.isComponentChild&&(ownerCtContext.remainingChildDimensions+=remainingCount));oldProps&&ownerLayout&&ownerLayout.manageMargins&&(this.recoverProp('margin-top',oldProps,oldDirty),this.recoverProp('margin-right',oldProps,oldDirty),this.recoverProp('margin-bottom',oldProps,oldDirty),this.recoverProp('margin-left',oldProps,oldDirty));
options&&(oldProps=options.heightModel,(oldDirty=options.widthModel)&&oldProps&&oldWidthModel&&oldHeightModel&&oldWidthModel.shrinkWrap&&oldHeightModel.shrinkWrap&&oldDirty.constrainedMax&&oldProps.constrainedMin&&(oldProps=null),oldDirty&&(this.widthModel=oldDirty),oldProps&&(this.heightModel=oldProps),options.state&&Ext.apply(this.state,options.state));return ret},initContinue:function(full){var ownerCtContext=this.ownerCtContext,widthModel=this.widthModel,inheritedState=this.target.getInherited();
widthModel.fixed?inheritedState.inShrinkWrapTable=!1:delete inheritedState.inShrinkWrapTable;full&&(ownerCtContext&&widthModel.shrinkWrap?(ownerCtContext=ownerCtContext.isBoxParent?ownerCtContext:ownerCtContext.boxParent)&&ownerCtContext.addBoxChild(this):widthModel.natural&&(this.boxParent=ownerCtContext));return full},initDone:function(containerLayoutDone){var props=this.props,state=this.state;0===this.remainingChildDimensions&&(props.containerChildrenSizeDone=!0);containerLayoutDone&&(props.containerLayoutDone=
!0);this.boxChildren&&this.boxChildren.length&&this.widthModel.shrinkWrap&&(this.el.setWidth(1E4),state.blocks=(state.blocks||0)+1)},initAnimation:function(){var target=this.target,ownerCtContext=this.ownerCtContext;ownerCtContext&&ownerCtContext.isTopLevel?this.animatePolicy=target.ownerLayout.getAnimatePolicy(this):!ownerCtContext&&target.isCollapsingOrExpanding&&target.animCollapse&&(this.animatePolicy=target.componentLayout.getAnimatePolicy(this));this.animatePolicy&&this.context.queueAnimation(this)},
addBlock:function(name,layout,propName){name=this[name]||(this[name]={});propName=name[propName]||(name[propName]={});propName[layout.id]||(propName[layout.id]=layout,++layout.blockCount,++this.context.blockCount)},addBoxChild:function(boxChildItem){var children=boxChildItem.widthModel;boxChildItem.boxParent=this;boxChildItem.measuresBox=children.shrinkWrap?boxChildItem.hasRawContent:children.natural;boxChildItem.measuresBox&&((children=this.boxChildren)?children.push(boxChildItem):this.boxChildren=
[boxChildItem])},addPositionStyles:function(styles,props){var x=props.x;props=props.y;var count=0;void 0!==x&&(styles[this.translateProps.x]=x+'px',++count);void 0!==props&&(styles.top=props+'px',++count);return count},addTrigger:function(propName,inDom){var name=inDom?'domTriggers':'triggers',collection=this[name]||(this[name]={});name=this.context;var layout=name.currentLayout;collection=collection[propName]||(collection[propName]={});collection[layout.id]||(collection[layout.id]=layout,++layout.triggerCount,
collection=name.triggers[inDom?'dom':'data'],(collection[layout.id]||(collection[layout.id]=[])).push({item:this,prop:propName}),void 0!==this.props[propName]&&(inDom&&this.dirty&&propName in this.dirty||++layout.firedTriggers))},boxChildMeasured:function(){var state=this.state;(state.boxesMeasured=(state.boxesMeasured||0)+1)===this.boxChildren.length&&(state.clearBoxWidth=1,++this.context.progressCount,this.markDirty())},borderNames:['border-top-width','border-right-width','border-bottom-width',
'border-left-width'],marginNames:['margin-top','margin-right','margin-bottom','margin-left'],paddingNames:['padding-top','padding-right','padding-bottom','padding-left'],trblNames:['top','right','bottom','left'],cacheMissHandlers:{borderInfo:function(me){me=me.getStyles(me.borderNames,me.trblNames);me.width=me.left+me.right;me.height=me.top+me.bottom;return me},marginInfo:function(me){me=me.getStyles(me.marginNames,me.trblNames);me.width=me.left+me.right;me.height=me.top+me.bottom;return me},paddingInfo:function(me){me=
(me.frameBodyContext||me).getStyles(me.paddingNames,me.trblNames);me.width=me.left+me.right;me.height=me.top+me.bottom;return me}},checkCache:function(entry){return this.cacheMissHandlers[entry](this)},clearAllBlocks:function(name){var collection=this[name],propName;if(collection)for(propName in collection)this.clearBlocks(name,propName)},clearBlocks:function(name,propName){var collection=this[name];name=collection&&collection[propName];var layoutId;if(name)for(layoutId in delete collection[propName],
propName=this.context,name)collection=name[layoutId],--propName.blockCount,--collection.blockCount||collection.pending||collection.done||propName.queueLayout(collection)},block:function(layout,propName){this.addBlock('blocks',layout,propName)},domBlock:function(layout,propName){this.addBlock('domBlocks',layout,propName)},fireTriggers:function(name,propName){propName=(name=this[name])&&name[propName];name=this.context;var layoutId;if(propName)for(layoutId in propName){var layout=propName[layoutId];
++layout.firedTriggers;layout.done||layout.blockCount||layout.pending||name.queueLayout(layout)}},flush:function(){var dirty=this.dirty,state=this.state,targetEl=this.el;this.dirtyCount=0;'attributes'in this&&(targetEl.set(this.attributes),delete this.attributes);'innerHTML'in this&&(targetEl.innerHTML=this.innerHTML,delete this.innerHTML);state&&state.clearBoxWidth&&(state.clearBoxWidth=0,this.el.setStyle('width',null),--state.blocks||this.context.queueItemLayouts(this));dirty&&(delete this.dirty,
this.writeProps(dirty,!0))},flushAnimations:function(){var me=this,animateFrom=me.previousSize,propsLen;if(animateFrom){var target=me.target;var targetAnim=target.getAnimationProps();var duration=targetAnim.duration;var animateProps=Ext.Object.getKeys(me.animatePolicy);targetAnim=Ext.apply({},{from:{},to:{},duration:duration||Ext.fx.Anim.prototype.duration},targetAnim);var j=duration=0;for(propsLen=animateProps.length;j<propsLen;j++){var propName=animateProps[j];var oldValue=animateFrom[propName];
var newValue=me.peek(propName);oldValue!==newValue&&null!=newValue&&(propName=me.translateProps[propName]||propName,targetAnim.from[propName]=oldValue,targetAnim.to[propName]=newValue,++duration)}duration?(1===me.isCollapsingOrExpanding?target.componentLayout.undoLayout(me):me.writeProps(targetAnim.from),me.el.animate(targetAnim),animateFrom=Ext.fx.Manager.getFxQueue(me.el.id),targetAnim=animateFrom[animateFrom.length-1],target.$layoutAnim=targetAnim,targetAnim.on({afteranimate:function(){delete target.$layoutAnim;
if(!target.destroying&&!target.destroyed){var flag=me.isCollapsingOrExpanding;1===flag?(target.componentLayout.redoLayout(me),target.afterCollapse(!0)):2===flag&&target.afterExpand(!0);target.hasListeners.afterlayoutanimation&&target.fireEvent('afterlayoutanimation',target)}}})):(animateFrom=me.isCollapsingOrExpanding,1===animateFrom?target.afterCollapse(!0):2===animateFrom&&target.afterExpand(!0))}},getBorderInfo:function(){var info=this.borderInfo;info||(this.borderInfo=info=this.checkCache('borderInfo'));
return info},getEl:function(nameOrEl,owner){var elContext;if(nameOrEl){if(!nameOrEl.dom){var src=this.target;owner&&(src=owner);nameOrEl=src[nameOrEl];if('function'===typeof nameOrEl&&(nameOrEl=nameOrEl.call(src),nameOrEl===this.el))return this}nameOrEl&&(elContext=this.context.getEl(this,nameOrEl))}return elContext||null},getFrameInfo:function(){var info=this.frameInfo;if(!info){info=this.framing;var border=this.getBorderInfo();this.frameInfo=info=info?{top:info.top+border.top,right:info.right+border.right,
bottom:info.bottom+border.bottom,left:info.left+border.left,width:info.width+border.width,height:info.height+border.height}:border}return info},getMarginInfo:function(){var info=this.marginInfo;if(!info){if(this.wrapsComponent){var comp=this.target;var ownerLayoutId=(info=comp.ownerLayout)?info.id:null;var manageMargins=info&&info.manageMargins;(info=comp.margin$)&&info.ownerId!==ownerLayoutId&&(info=null);info||(info=this.parseMargins(comp,comp.margin)||this.checkCache('marginInfo'),manageMargins&&
(this.setProp('margin-top',0),this.setProp('margin-right',0),this.setProp('margin-bottom',0),this.setProp('margin-left',0)),info.ownerId=ownerLayoutId,comp.margin$=info);info.width=info.left+info.right;info.height=info.top+info.bottom}else info=this.checkCache('marginInfo');this.marginInfo=info}return info},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var info=this.paddingInfo;info||(this.paddingInfo=info=this.checkCache('paddingInfo'));
return info},getProp:function(propName){var result=this.props[propName];this.addTrigger(propName);return result},getDomProp:function(propName){var result=this.dirty&&propName in this.dirty?void 0:this.props[propName];this.addTrigger(propName,!0);return result},getStyle:function(styleName){var styles=this.styles;if(styleName in styles)var value=styles[styleName];else{var info=this.styleInfo[styleName];value=this.el.getStyle(styleName);info&&info.parseInt&&(value=parseInt(value,10)||0);styles[styleName]=
value}return value},getStyles:function(styleNames,altNames){var styleCache=this.styles,values={},hits=0,n=styleNames.length,i;altNames=altNames||styleNames;for(i=0;i<n;++i){var name=styleNames[i];if(name in styleCache){if(values[altNames[i]]=styleCache[name],++hits,i&&1===hits){var missing=styleNames.slice(0,i);var missingAltNames=altNames.slice(0,i)}}else hits&&((missing||(missing=[])).push(name),(missingAltNames||(missingAltNames=[])).push(altNames[i]))}if(hits<n)for(missing=missing||styleNames,
missingAltNames=missingAltNames||altNames,altNames=this.styleInfo,hits=this.el.getStyle(missing),i=missing.length;i--;)name=missing[i],styleNames=altNames[name],n=hits[name],styleNames&&styleNames.parseInt&&(n=parseInt(n,10)||0),values[missingAltNames[i]]=n,styleCache[name]=n;return values},hasProp:function(propName){return null!=this.getProp(propName)},hasDomProp:function(propName){return null!=this.getDomProp(propName)},invalidate:function(options){this.context.queueInvalidate(this,options)},markDirty:function(){1===
++this.dirtyCount&&this.context.queueFlush(this)},onBoxMeasured:function(){var boxParent=this.boxParent,state=this.state;boxParent&&boxParent.widthModel.shrinkWrap&&!state.boxMeasured&&this.measuresBox&&(state.boxMeasured=1,boxParent.boxChildMeasured())},parseMargins:function(comp,margins){!0===margins&&(margins=5);var type=typeof margins;if('string'===type||'number'===type)var ret=comp.parseBox(margins);else margins&&(ret={top:0,right:0,bottom:0,left:0},margins&&Ext.apply(ret,comp.parseBox(margins)));
return ret},peek:function(propName){return this.props[propName]},recalculateSizeModel:function(){var target=this.target,componentLayout=target.componentLayout,ownerCtContext=this.ownerCtContext,oldContext=componentLayout.ownerContext;componentLayout.ownerContext=null;this.sizeModel=target=target.getSizeModel(ownerCtContext&&ownerCtContext.widthModel.pairsByHeightOrdinal[ownerCtContext.heightModel.ordinal]);this.widthModel=target.width;this.heightModel=target.height;oldContext&&(componentLayout.ownerContext=
this)},recoverProp:function(propName,oldProps,oldDirty){var props=this.props;propName in oldProps&&(props[propName]=oldProps[propName],oldDirty&&propName in oldDirty&&(oldProps=this.dirty||(this.dirty={}),oldProps[propName]=oldDirty[propName]))},redo:function(deep){var len;this.revertProps(this.props);if(deep&&this.wrapsComponent){if(this.childItems){var i=0;var items=this.childItems;for(len=items.length;i<len;i++)items[i].redo(deep)}i=0;items=this.children;for(len=items.length;i<len;i++)items[i].redo()}},
removeEl:function(nameOrEl,owner){if(nameOrEl){if(!nameOrEl.dom){var src=this.target;owner&&(src=owner);nameOrEl=src[nameOrEl];if('function'===typeof nameOrEl&&(nameOrEl=nameOrEl.call(src),nameOrEl===this.el))return this}nameOrEl&&this.context.removeEl(nameOrEl,this)}},revertProps:function(props){var name,flushed=this.flushedProps,reverted={};for(name in props)flushed.hasOwnProperty(name)&&(reverted[name]=props[name]);this.writeProps(reverted)},setAttribute:function(name,value){this.attributes||(this.attributes=
{});this.attributes[name]=value;this.markDirty()},setBox:function(box){'left'in box&&this.setProp('x',box.left);'top'in box&&this.setProp('y',box.top);this.setSize(box.width,box.height)},setContentHeight:function(height,measured){return!measured&&this.hasRawContent?1:this.setProp('contentHeight',height)},setContentWidth:function(width,measured){return!measured&&this.hasRawContent?1:this.setProp('contentWidth',width)},setContentSize:function(width,height,measured){return 2===this.setContentWidth(width,
measured)+this.setContentHeight(height,measured)},setProp:function(propName,value,dirty){var valueType=typeof value;if('undefined'===valueType||'number'===valueType&&isNaN(value))return 0;if(this.props[propName]===value)return 1;this.props[propName]=value;++this.context.progressCount;if(!1===dirty)this.fireTriggers('domTriggers',propName),this.clearBlocks('domBlocks',propName);else if(dirty=this.styleInfo[propName])this.dirty||(this.dirty={}),this.dirty[propName]=value,this.markDirty();this.fireTriggers('triggers',
propName);this.clearBlocks('blocks',propName);return 1},setHeight:function(height,dirty){var comp=this.target,ownerCtContext=this.ownerCtContext;0>height&&(height=0);if(this.wrapsComponent){var min=this.collapsedVert?0:comp.minHeight||0;height=Ext.Number.constrain(height,min,comp.maxHeight);comp=this.props.height;if(!this.setProp('height',height,dirty))return NaN;ownerCtContext&&!this.isComponentChild&&isNaN(comp)&&((comp=--ownerCtContext.remainingChildDimensions)||ownerCtContext.setProp('containerChildrenSizeDone',
!0));if(ownerCtContext=this.frameBodyContext)comp=this.getFrameInfo(),ownerCtContext[this.el.vertical?'setWidth':'setHeight'](height-comp.height,dirty)}else if(!this.setProp('height',height,dirty))return NaN;return height},setWidth:function(width,dirty){var comp=this.target,ownerCtContext=this.ownerCtContext;0>width&&(width=0);if(this.wrapsComponent){var min=this.collapsedHorz?0:comp.minWidth||0;width=Ext.Number.constrain(width,min,comp.maxWidth);comp=this.props.width;if(!this.setProp('width',width,
dirty))return NaN;ownerCtContext&&!this.isComponentChild&&isNaN(comp)&&((comp=--ownerCtContext.remainingChildDimensions)||ownerCtContext.setProp('containerChildrenSizeDone',!0));if(ownerCtContext=this.frameBodyContext)comp=this.getFrameInfo(),ownerCtContext.setWidth(width-comp.width,dirty)}else if(!this.setProp('width',width,dirty))return NaN;return width},setSize:function(width,height,dirty){this.setWidth(width,dirty);this.setHeight(height,dirty)},translateProps:{x:'left',y:'top'},undo:function(deep){var len;
this.revertProps(this.lastBox);if(deep&&this.wrapsComponent){if(this.childItems){var i=0;var items=this.childItems;for(len=items.length;i<len;i++)items[i].undo(deep)}i=0;items=this.children;for(len=items.length;i<len;i++)items[i].undo()}},unsetProp:function(propName){var dirty=this.dirty;delete this.props[propName];dirty&&delete dirty[propName]},writeProps:function(dirtyProps,flushing){if(dirtyProps&&'object'===typeof dirtyProps){var el=this.el,target=this.target,styleInfo=this.styleInfo,styles={},
width=dirtyProps.width,height=dirtyProps.height,styleCount=0,info,propName,numericValue,hasWidth,hasHeight,scroller;'displayed'in dirtyProps&&el.setDisplayed(dirtyProps.displayed);for(propName in dirtyProps)flushing&&(this.fireTriggers('domTriggers',propName),this.clearBlocks('domBlocks',propName),this.flushedProps[propName]=1),(info=styleInfo[propName])&&info.dom&&(info.suffix&&(numericValue=parseInt(dirtyProps[propName],10))?styles[propName]=numericValue+info.suffix:styles[propName]=dirtyProps[propName],
++styleCount);if('x'in dirtyProps||'y'in dirtyProps)target.isComponent?target.setPosition(dirtyProps.x,dirtyProps.y):styleCount+=this.addPositionStyles(styles,dirtyProps);'overflowX'in dirtyProps&&(scroller=target.getScrollable())&&scroller.setX(dirtyProps.overflowX);'overflowY'in dirtyProps&&(scroller||(scroller=target.getScrollable()))&&scroller.setY(dirtyProps.overflowY);this.wrapsComponent&&Ext.isIE9&&((hasWidth=void 0!==width&&this.hasOverflowY)||(hasHeight=void 0!==height&&this.hasOverflowX))&&
(dirtyProps=this.isAbsolute,void 0===dirtyProps&&(dirtyProps=this.target.getTargetEl(),dirtyProps=dirtyProps.getStyle('position'),this.isAbsolute=dirtyProps='absolute'===dirtyProps),dirtyProps&&(dirtyProps=Ext.scrollbar.size(),hasWidth&&(width=parseInt(width,10)+dirtyProps.width,styles.width=width+'px',++styleCount),hasHeight&&(height=parseInt(height,10)+dirtyProps.height,styles.height=height+'px',++styleCount)));styleCount&&el.setStyle(styles)}}},1,0,0,0,0,0,[Ext.layout,'ContextItem'],function(){var px=
{dom:!0,parseInt:!0,suffix:'px'},isDom={dom:!0},faux={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:faux,containerLayoutDone:faux,displayed:faux,done:faux,x:faux,y:faux,columnsChanged:faux,rowHeights:faux,viewOverflowY:faux,overflowX:faux,overflowY:faux,left:px,top:px,right:px,bottom:px,width:px,height:px,'border-top-width':px,'border-right-width':px,'border-bottom-width':px,'border-left-width':px,'margin-top':px,'margin-right':px,'margin-bottom':px,'margin-left':px,'padding-top':px,
'padding-right':px,'padding-bottom':px,'padding-left':px,'line-height':isDom,display:isDom,clear:isDom}});
Ext.cmd.derive('Ext.layout.Context',Ext.Base,{remainingLayouts:0,state:0,cycleWatchDog:200,constructor:function(config){Ext.apply(this,config);this.items={};this.layouts={};this.calcCount=this.flushCount=this.cycleCount=this.blockCount=0;this.animateQueue=this.newQueue();this.completionQueue=this.newQueue();this.finalizeQueue=this.newQueue();this.finishQueue=this.newQueue();this.flushQueue=this.newQueue();this.invalidateData={};this.layoutQueue=this.newQueue();this.invalidQueue=[];this.triggers={data:{},
dom:{}}},callLayout:function(layout,methodName){this.currentLayout=layout;layout[methodName](this.getCmp(layout.owner))},cancelComponent:function(comp,isChild,isDestroying){var components=comp,isArray=!comp.isComponent,length=isArray?components.length:1,i,k,klen,newQueue;for(i=0;i<length;++i){isArray&&(comp=components[i]);isDestroying&&(comp.ownerCt?(k=this.items[comp.ownerCt.el.id])&&Ext.Array.remove(k.childItems,this.getCmp(comp)):comp.rendered&&this.removeEl(comp.el));if(!isChild){var oldQueue=
this.invalidQueue;if(klen=oldQueue.length)for(this.invalidQueue=newQueue=[],k=0;k<klen;++k){var entry=oldQueue[k];var temp=entry.item.target;temp===comp||temp.up(comp)||newQueue.push(entry)}}k=comp.componentLayout;this.cancelLayout(k);comp.destroying||(k.getLayoutItems&&(k=k.getLayoutItems(),k.length&&this.cancelComponent(k,!0)),comp.isContainer&&!comp.collapsed&&(k=comp.layout,this.cancelLayout(k),k=k.getVisibleItems(),k.length&&this.cancelComponent(k,!0)))}},cancelLayout:function(layout){this.completionQueue.remove(layout);
this.finalizeQueue.remove(layout);this.finishQueue.remove(layout);this.layoutQueue.remove(layout);layout.running&&this.layoutDone(layout);layout.ownerContext=null},clearTriggers:function(layout,inDom){layout=layout.id;var collection=this.triggers[inDom?'dom':'data'],triggers=collection&&collection[layout],length=triggers&&triggers.length||0,i;for(i=0;i<length;++i){var trigger=triggers[i];collection=trigger.item;collection=inDom?collection.domTriggers:collection.triggers;delete collection[trigger.prop][layout]}},
flush:function(){var items=this.flushQueue.clear(),length=items.length,i;if(length)for(++this.flushCount,i=0;i<length;++i)items[i].flush()},flushAnimations:function(){var items=this.animateQueue.clear(),len=items.length,i;if(len){for(i=0;i<len;i++)!1!==items[i].target.animate&&items[i].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var queue=this.invalidQueue,length=queue&&queue.length,entry,i;this.invalidQueue=[];if(length){var components=[];for(i=0;i<length;++i){var comp=
(entry=queue[i]).item.target;comp.container.isDetachedBody||(components.push(comp),entry.options&&(this.invalidateData[comp.id]=entry.options))}this.invalidate(components,null)}},flushLayouts:function(queueName,methodName,dontClear){queueName=dontClear?this[queueName].items:this[queueName].clear();dontClear=queueName.length;var i;if(dontClear){for(i=0;i<dontClear;++i){var layout=queueName[i];layout.running||this.callLayout(layout,methodName)}this.currentLayout=null}},getCmp:function(cmp){return this.getItem(cmp,
cmp.el)},getEl:function(parent,el){el=this.getItem(el,el,parent);el.parent||(el.parent=parent,parent.children.length?parent.children.push(el):parent.children=[el]);return el},getItem:function(target,el,componentContext){var id=el.id,items=this.items;return items[id]||(items[id]=new Ext.layout.ContextItem({context:this,target,el,componentContext}))},handleFailure:function(){var layouts=this.layouts,key;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(key in layouts){var layout=layouts[key];layouts.hasOwnProperty(key)&&
(layout.running=!1,layout.ownerContext=null)}},invalidate:function(components,full){var isArray=!components.isComponent,length;var i=0;for(length=isArray?components.length:1;i<length;++i){var comp=isArray?components[i]:components;if(comp.rendered&&!comp.hidden){var containerLayoutDone=comp.ownerLayout;var componentLayout=comp.componentLayout;var skipLayout=!1;containerLayoutDone&&containerLayoutDone.needsItemSize||!comp.liquidLayout||(skipLayout=!0);if(!skipLayout||containerLayoutDone&&containerLayoutDone.setsItemSize){var item=
this.getCmp(comp);var firstTime=!item.state;var layout=comp.isContainer&&!comp.collapsed?comp.layout:null;var invalidateOptions=this.invalidateData[item.id];delete this.invalidateData[item.id];var token=item.init(full,invalidateOptions)}skipLayout||(invalidateOptions&&this.processInvalidate(invalidateOptions,item,'before'),componentLayout.beforeLayoutCycle&&componentLayout.beforeLayoutCycle(item),layout&&layout.beforeLayoutCycle&&layout.beforeLayoutCycle(item),token=item.initContinue(token),containerLayoutDone=
!0,componentLayout.getLayoutItems&&(componentLayout.renderChildren(),comp=componentLayout.getLayoutItems(),comp.length&&this.invalidate(comp,!0)),layout&&(containerLayoutDone=!1,layout.renderChildren(),layout.needsItemSize||layout.activeItemCount)&&(comp=layout.getVisibleItems(),comp.length&&this.invalidate(comp,!0)),item.initDone(containerLayoutDone),this.resetLayout(componentLayout,item,firstTime),layout&&this.resetLayout(layout,item,firstTime),item.initAnimation(),invalidateOptions&&this.processInvalidate(invalidateOptions,
item,'after'))}}this.currentLayout=null},isDescendant:function(ancestor,descendant){if(ancestor.isContainer)for(descendant=descendant.ownerCt;descendant;descendant=descendant.ownerCt)if(descendant===ancestor)return!0;return!1},layoutDone:function(layout){var ownerContext=layout.ownerContext;layout.running=!1;if(layout.isComponentLayout){if(ownerContext.measuresBox)ownerContext.onBoxMeasured();ownerContext.setProp('done',!0)}else ownerContext.setProp('containerLayoutDone',!0);--this.remainingLayouts;
++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(options,item,name){if(options[name]){var currentLayout=this.currentLayout;this.currentLayout=options.layout||null;options[name](item,options);this.currentLayout=currentLayout}},queueAnimation:function(item){this.animateQueue.add(item)},queueCompletion:function(layout){this.completionQueue.add(layout)},queueFinalize:function(layout){this.finalizeQueue.add(layout)},queueFlush:function(item,replace){this.flushQueue.add(item,
replace)},chainFns:function(oldOptions,newOptions,funcName){var me=this,oldLayout=oldOptions.layout,newLayout=newOptions.layout,oldFn=oldOptions[funcName],newFn=newOptions[funcName];return function(contextItem){var prev=me.currentLayout;oldFn&&(me.currentLayout=oldLayout,oldFn.call(oldOptions.scope||oldOptions,contextItem,oldOptions));me.currentLayout=newLayout;newFn.call(newOptions.scope||newOptions,contextItem,newOptions);me.currentLayout=prev}},purgeInvalidates:function(){var newQueue=[],oldQueue=
this.invalidQueue,oldLength=oldQueue.length,oldIndex,newIndex;for(oldIndex=0;oldIndex<oldLength;++oldIndex){var oldEntry=oldQueue[oldIndex];var oldComp=oldEntry.item.target;var keep=!0;for(newIndex=newQueue.length;newIndex--;){var newEntry=newQueue[newIndex];newEntry=newEntry.item.target;if(oldComp.isLayoutChild(newEntry)){keep=!1;break}newEntry.isLayoutChild(oldComp)&&Ext.Array.erase(newQueue,newIndex,1)}keep&&newQueue.push(oldEntry)}this.invalidQueue=newQueue},queueInvalidate:function(item,options){var newQueue=
[],oldQueue=this.invalidQueue,index=oldQueue.length,oldState;if(item.isComponent){var comp=item;(item=this.items[comp.el.id])?item.recalculateSizeModel():item=this.getCmp(comp)}else comp=item.target;for(item.invalid=!0;index--;){var old=oldQueue[index];var oldComp=old.item.target;if(!comp.isFloating&&comp.up(oldComp))return;if(oldComp===comp){(item=old.options)?options&&(options.widthModel&&(item.widthModel=options.widthModel),options.heightModel&&(item.heightModel=options.heightModel),(oldState=
item.state)?options.state&&Ext.apply(oldState,options.state):item.state=options.state,options.before&&(item.before=this.chainFns(item,options,'before')),options.after&&(item.after=this.chainFns(item,options,'after'))):old.options=options;return}oldComp.isLayoutChild(comp)||newQueue.push(old)}newQueue.push({item,options});this.invalidQueue=newQueue},queueItemLayouts:function(item){item=item.isComponent?item:item.target;var layout=item.componentLayout;layout.pending||layout.invalid||layout.done||this.queueLayout(layout);
layout=item.layout;!layout||layout.pending||layout.invalid||layout.done||item.collapsed||this.queueLayout(layout)},queueLayout:function(layout){this.layoutQueue.add(layout);layout.pending=!0},removeEl:function(el,parent){el=el.id;parent=parent?parent.children:null;var items=this.items;parent&&Ext.Array.remove(parent,items[el]);delete items[el]},resetLayout:function(layout,ownerContext,firstTime){this.currentLayout=layout;layout.done=!1;layout.pending=!0;layout.firedTriggers=0;this.layoutQueue.add(layout);
firstTime?(this.layouts[layout.id]=layout,layout.running=!0,layout.finishedLayout&&this.finishQueue.add(layout),++this.remainingLayouts,++layout.layoutCount,layout.ownerContext=ownerContext,layout.beginCount=0,layout.blockCount=0,layout.calcCount=0,layout.triggerCount=0,layout.initialized||layout.initLayout(),layout.beginLayout(ownerContext)):(++layout.beginCount,layout.running||(++this.remainingLayouts,layout.running=!0,layout.ownerContext=ownerContext,layout.isComponentLayout&&ownerContext.unsetProp('done'),
this.completionQueue.remove(layout),this.finalizeQueue.remove(layout)));layout.beginLayoutCycle(ownerContext,firstTime)},run:function(){var flushed=!1,watchDog=this.cycleWatchDog;this.purgeInvalidates();this.flushInvalidates();Ext.layoutUpdates=(Ext.layoutUpdates||0)+1;this.state=1;this.totalCount=this.layoutQueue.getCount();for(this.flush();(this.remainingLayouts||this.invalidQueue.length)&&watchDog--;){this.invalidQueue.length&&this.flushInvalidates();if(this.runCycle())flushed=!1;else if(!flushed)this.flush(),
flushed=!0,this.flushLayouts('completionQueue','completeLayout');else if(!this.invalidQueue.length){this.state=2;break}this.remainingLayouts||this.invalidQueue.length||(this.flush(),this.flushLayouts('completionQueue','completeLayout'),this.flushLayouts('finalizeQueue','finalizeLayout'))}return this.runComplete()},runComplete:function(){this.state=2;if(this.remainingLayouts)return this.handleFailure(),!1;this.flush();this.flushLayouts('finishQueue','finishedLayout',!0);this.flushLayouts('finishQueue',
'notifyOwner');this.flush();this.flushAnimations();return!0},runCycle:function(){var layouts=this.layoutQueue.clear(),length=layouts.length,i;++this.cycleCount;for(i=this.progressCount=0;i<length;++i)this.runLayout(this.currentLayout=layouts[i]);this.currentLayout=null;return 0<this.progressCount},runLayout:function(layout){var ownerContext=this.getCmp(layout.owner);layout.pending=!1;ownerContext.state.blocks||(layout.done=!0,++layout.calcCount,++this.calcCount,layout.calculate(ownerContext),layout.done?
(this.layoutDone(layout),layout.completeLayout&&this.queueCompletion(layout),layout.finalizeLayout&&this.queueFinalize(layout)):layout.pending||layout.invalid||layout.blockCount+layout.triggerCount-layout.firedTriggers||this.queueLayout(layout))},setItemSize:function(item,width,height){var items=item,len=1,i;item.isComposite?(items=item.elements,len=items.length,item=items[0]):item.dom||item.el||(len=items.length,item=items[0]);for(i=0;i<len;)item=this.get(item),item.setSize(width,height),item=items[++i]}},
1,0,0,0,0,0,[Ext.layout,'Context'],0);
Ext.cmd.derive('Ext.layout.component.Body',Ext.layout.component.Auto,{type:'body',beginLayout:function(ownerContext){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);ownerContext.bodyContext=ownerContext.getEl('body')},beginLayoutCycle:function(ownerContext,firstCycle){var lastWidthModel=this.lastWidthModel,lastHeightModel=this.lastHeightModel,body=this.owner.body;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);lastWidthModel&&lastWidthModel.fixed&&
ownerContext.widthModel.shrinkWrap&&body.setWidth(null);lastHeightModel&&lastHeightModel.fixed&&ownerContext.heightModel.shrinkWrap&&body.setHeight(null)},calculateOwnerHeightFromContentHeight:function(ownerContext,contentHeight){var height=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments);ownerContext.targetContext!==ownerContext&&(height+=ownerContext.getPaddingInfo().height);return height},calculateOwnerWidthFromContentWidth:function(ownerContext,contentWidth){var width=
Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.apply(this,arguments);ownerContext.targetContext!==ownerContext&&(width+=ownerContext.getPaddingInfo().width);return width},measureContentWidth:function(ownerContext){return ownerContext.bodyContext.setWidth(ownerContext.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(ownerContext){return ownerContext.bodyContext.setHeight(ownerContext.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(ownerContext,
height){height-=ownerContext.getFrameInfo().height;ownerContext.targetContext!==ownerContext&&(height-=ownerContext.getPaddingInfo().height);return ownerContext.bodyContext.setHeight(height,!ownerContext.heightModel.natural)},publishInnerWidth:function(ownerContext,width){width-=ownerContext.getFrameInfo().width;ownerContext.targetContext!==ownerContext&&(width-=ownerContext.getPaddingInfo().width);ownerContext.bodyContext.setWidth(width,!ownerContext.widthModel.natural)}},0,0,0,0,['layout.body'],
0,[Ext.layout.component,'Body'],0);
Ext.cmd.derive('Ext.layout.component.FieldSet',Ext.layout.component.Body,{type:'fieldset',defaultCollapsedWidth:100,beforeLayoutCycle:function(ownerContext){ownerContext.target.collapsed&&(ownerContext.heightModel=this.sizeModels.shrinkWrap)},beginLayout:function(ownerContext){var legend=this.owner.legend;Ext.layout.component.Body.prototype.beginLayout.call(this,ownerContext);legend&&(ownerContext.legendContext=ownerContext.context.getCmp(legend))},beginLayoutCycle:function(ownerContext){var target=ownerContext.target;
Ext.layout.component.Body.prototype.beginLayoutCycle.apply(this,arguments);target.collapsed&&(ownerContext.setContentHeight(0),ownerContext.restoreMinHeight=target.minHeight,delete target.minHeight,ownerContext.widthModel.shrinkWrap&&(target=this.lastComponentSize,ownerContext.setContentWidth(target&&target.contentWidth||this.defaultCollapsedWidth)))},finishedLayout:function(ownerContext){var owner=this.owner,restore=ownerContext.restoreMinHeight;Ext.layout.component.Body.prototype.finishedLayout.apply(this,
arguments);restore&&(owner.minHeight=restore)},calculateOwnerWidthFromContentWidth:function(ownerContext,contentWidth){var legendContext=ownerContext.legendContext;legendContext&&(contentWidth=Math.max(contentWidth,legendContext.getProp('width')));return Ext.layout.component.Body.prototype.calculateOwnerWidthFromContentWidth.call(this,ownerContext,contentWidth)},calculateOwnerHeightFromContentHeight:function(ownerContext,contentHeight){contentHeight=ownerContext.getBorderInfo();var legendContext=
ownerContext.legendContext;return ownerContext.getProp('contentHeight')+ownerContext.getPaddingInfo().height+(Ext.isIE8?ownerContext.bodyContext.getPaddingInfo().top:0)+(legendContext?legendContext.getProp('height'):contentHeight.top)+contentHeight.bottom},publishInnerHeight:function(ownerContext,height){var legendContext=ownerContext.legendContext,legendHeight=0;legendContext&&(legendHeight=legendContext.getProp('height'));void 0===legendHeight?this.done=!1:Ext.layout.component.Body.prototype.publishInnerHeight.call(this,
ownerContext,height-legendHeight)},getLayoutItems:function(){var legend=this.owner.legend;return legend?[legend]:[]}},0,0,0,0,['layout.fieldset'],0,[Ext.layout.component,'FieldSet'],0);
Ext.cmd.derive('Ext.resizer.BorderSplitter',Ext.resizer.Splitter,{collapseTarget:null,getTrackerConfig:function(){var trackerConfig=Ext.resizer.Splitter.prototype.getTrackerConfig.call(this);trackerConfig.xclass='Ext.resizer.BorderSplitterTracker';return trackerConfig},onTargetCollapse:function(target){Ext.resizer.Splitter.prototype.onTargetCollapse.call(this,target);!1!==this.performCollapse&&'mini'===target.collapseMode&&target.addCls(target.baseCls+'-'+target.collapsedCls+'-mini')},onTargetExpand:function(target){Ext.resizer.Splitter.prototype.onTargetExpand.call(this,
target);!1!==this.performCollapse&&'mini'===target.collapseMode&&target.removeCls(target.baseCls+'-'+target.collapsedCls+'-mini')}},0,['bordersplitter'],['component','box','splitter','bordersplitter'],{component:!0,box:!0,splitter:!0,bordersplitter:!0},['widget.bordersplitter'],0,[Ext.resizer,'BorderSplitter'],0);
Ext.cmd.derive('Ext.layout.container.Border',Ext.layout.container.Container,{alternateClassName:'Ext.layout.BorderLayout',targetCls:'x-border-layout-ct',itemCls:['x-border-item','x-box-item'],type:'border',isBorderLayout:!0,padding:void 0,percentageRe:/(\d+)%/,horzPositionProp:'left',padOnContainerProp:'left',padNotOnContainerProp:'right',axisProps:{horz:{borderBegin:'west',borderEnd:'east',horizontal:!0,posProp:'x',sizeProp:'width',sizePropCap:'Width'},vert:{borderBegin:'north',borderEnd:'south',
horizontal:!1,posProp:'y',sizeProp:'height',sizePropCap:'Height'}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:'placeholder',regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(ownerContext,regions,name){var props=this.axisProps[name],isVert=!props.horizontal,sizeProp=props.sizeProp,totalFlex=0,childItems=ownerContext.childItems,length=childItems.length,i,region,match;for(i=0;i<length;++i){var childContext=childItems[i];var comp=childContext.target;
childContext.layoutPos={};if(comp.region)if(childContext.region=region=comp.region,childContext.isCenter=comp.isCenter,childContext.isHorz=comp.isHorz,childContext.isVert=comp.isVert,childContext.weight=comp.weight||this.regionWeights[region]||0,comp.weight=childContext.weight,regions[comp.id]=childContext,comp.isCenter){var center=childContext;var centerFlex=comp.flex;ownerContext.centerRegion=center}else if(isVert===childContext.isVert){childContext.reverseWeighting=region===props.borderEnd;region=
comp[sizeProp];var type=typeof region;comp.collapsed||('string'===type&&(match=this.percentageRe.exec(region))?childContext.percentage=parseInt(match[1],10):comp.flex&&(totalFlex+=childContext.flex=comp.flex))}}center&&(ownerContext=center.target,(regions=ownerContext.placeholderFor)?centerFlex||isVert!==regions.collapsedVertical()||(centerFlex=0,center.collapseAxis=name):ownerContext.collapsed&&isVert===ownerContext.collapsedVertical()&&(centerFlex=0,center.collapseAxis=name));null==centerFlex&&
(centerFlex=1);return Ext.apply({before:isVert?'top':'left',totalFlex:totalFlex+centerFlex},props)},beginLayout:function(ownerContext){var items=this.getLayoutItems(),pad=this.padding,type=typeof pad,padOnContainer=!1;if(pad){if('string'===type||'number'===type)pad=Ext.util.Format.parseBox(pad)}else pad=ownerContext.getEl('getTargetEl').getPaddingInfo(),padOnContainer=!0;ownerContext.outerPad=pad;ownerContext.padOnContainer=padOnContainer;type=0;for(pad=items.length;type<pad;++type){var childContext=
items[type];if(padOnContainer=this.getSplitterTarget(childContext)){var regions=void 0;var hidden=!!childContext.hidden;padOnContainer.split?hidden!==padOnContainer.hidden&&(regions=!padOnContainer.hidden):padOnContainer.isCollapsingOrExpanding&&(regions=!!padOnContainer.collapsed);regions?childContext.show():!1===regions&&childContext.hide()}}Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);items=ownerContext.childItems;pad=items.length;regions={};ownerContext.borderAxisHorz=
this.beginAxis(ownerContext,regions,'horz');ownerContext.borderAxisVert=this.beginAxis(ownerContext,regions,'vert');for(type=0;type<pad;++type)if(childContext=items[type],padOnContainer=this.getSplitterTarget(childContext.target))hidden=regions[padOnContainer.id],hidden||(hidden=ownerContext.getEl(padOnContainer.el,this),hidden.region=padOnContainer.region),childContext.collapseTarget=padOnContainer=hidden,childContext.weight=padOnContainer.weight,childContext.reverseWeighting=padOnContainer.reverseWeighting,
padOnContainer.splitter=childContext,childContext.isHorz=padOnContainer.isHorz,childContext.isVert=padOnContainer.isVert;this.sortWeightedItems(items,'reverseWeighting');this.setupSplitterNeighbors(items)},calculate:function(ownerContext){var containerSize=this.getContainerSize(ownerContext),childItems=ownerContext.childItems,length=childItems.length,horz=ownerContext.borderAxisHorz,vert=ownerContext.borderAxisVert,pad=ownerContext.outerPad,padOnContainer=ownerContext.padOnContainer;horz.begin=pad[this.padOnContainerProp];
vert.begin=pad.top;var horzPercentTotal=horz.end=horz.flexSpace=containerSize.width+(padOnContainer?pad[this.padOnContainerProp]:-pad[this.padNotOnContainerProp]);padOnContainer=vert.end=vert.flexSpace=containerSize.height+(padOnContainer?pad.top:-pad.bottom);for(containerSize=0;containerSize<length;++containerSize){pad=childItems[containerSize];var childMargins=pad.getMarginInfo();if(pad.isHorz||pad.isCenter)horz.addUnflexed(childMargins.width),horzPercentTotal-=childMargins.width;if(pad.isVert||
pad.isCenter)vert.addUnflexed(childMargins.height),padOnContainer-=childMargins.height;if(!pad.flex&&!pad.percentage)if(pad.isHorz||pad.isCenter&&'horz'===pad.collapseAxis)childMargins=pad.getProp('width'),horz.addUnflexed(childMargins),pad.collapseTarget&&(horzPercentTotal-=childMargins);else if(pad.isVert||pad.isCenter&&'vert'===pad.collapseAxis)childMargins=pad.getProp('height'),vert.addUnflexed(childMargins),pad.collapseTarget&&(padOnContainer-=childMargins)}for(containerSize=0;containerSize<
length;++containerSize)pad=childItems[containerSize],pad.getMarginInfo(),pad.percentage&&(pad.isHorz?(childMargins=Math.ceil(horzPercentTotal*pad.percentage/100),childMargins=pad.setWidth(childMargins),horz.addUnflexed(childMargins)):pad.isVert&&(childMargins=Math.ceil(padOnContainer*pad.percentage/100),childMargins=pad.setHeight(childMargins),vert.addUnflexed(childMargins)));for(containerSize=0;containerSize<length;++containerSize)pad=childItems[containerSize],pad.isCenter||(this.calculateChildAxis(pad,
horz),this.calculateChildAxis(pad,vert));2>this.finishAxis(ownerContext,vert)+this.finishAxis(ownerContext,horz)?this.done=!1:this.finishPositions(childItems)},calculateChildAxis:function(childContext,axis){var collapseTarget=childContext.collapseTarget,setSizeMethod='set'+axis.sizePropCap,sizeProp=axis.sizeProp,childMarginSize=childContext.getMarginInfo()[sizeProp];if(collapseTarget)var region=collapseTarget.region;else{region=childContext.region;var flex=childContext.flex}(collapseTarget=region===
axis.borderBegin)||region===axis.borderEnd?(flex?(sizeProp=Math.ceil(flex/axis.totalFlex*axis.flexSpace),sizeProp=childContext[setSizeMethod](sizeProp)):sizeProp=childContext.percentage?childContext.peek(sizeProp):childContext.getProp(sizeProp),sizeProp+=childMarginSize,collapseTarget?(setSizeMethod=axis.begin,axis.begin+=sizeProp):axis.end=setSizeMethod=axis.end-sizeProp):(childContext[setSizeMethod](axis.end-axis.begin-childMarginSize),setSizeMethod=axis.begin);childContext.layoutPos[axis.posProp]=
setSizeMethod},eachItem:function(region,fn,scope){var items=this.getLayoutItems(),i=0;Ext.isFunction(region)&&(scope=fn=region);for(i;i<items.length;i++){var item=items[i];if((!region||item.region===region)&&!1===fn.call(scope,item))break}},finishAxis:function(ownerContext,axis){var size=axis.end-axis.begin;if(ownerContext=ownerContext.centerRegion)ownerContext['set'+axis.sizePropCap](size-ownerContext.getMarginInfo()[axis.sizeProp]),ownerContext.layoutPos[axis.posProp]=axis.begin;return Ext.isNumber(size)?
1:0},finishPositions:function(childItems){var length=childItems.length,index,marginProp=this.horzPositionProp;for(index=0;index<length;++index){var childContext=childItems[index];childContext.setProp('x',childContext.layoutPos.x+childContext.marginInfo[marginProp]);childContext.setProp('y',childContext.layoutPos.y+childContext.marginInfo.top)}},getLayoutItems:function(){var owner=this.owner;owner=owner&&owner.items&&owner.items.items||[];for(var length=owner.length,items=[],i=0,ownerItem,placeholderFor;i<
length;i++)ownerItem=owner[i],placeholderFor=ownerItem.placeholderFor,!ownerItem.hidden&&(ownerItem.floated&&2!==ownerItem.isCollapsingOrExpanding||placeholderFor&&2===placeholderFor.isCollapsingOrExpanding)||items.push(ownerItem);return items},getPlaceholder:function(comp){return comp.getPlaceholder&&comp.getPlaceholder()},getMaxWeight:function(region){return this.getMinMaxWeight(region)},getMinWeight:function(region){return this.getMinMaxWeight(region,!0)},getMinMaxWeight:function(region,min){var weight=
null;this.eachItem(region,function(item){if(item.hasOwnProperty('weight'))if(null===weight)weight=item.weight;else if(min&&item.weight<weight||item.weight>weight)weight=item.weight},this);return weight},getSplitterTarget:function(splitter){return(splitter=splitter.collapseTarget)&&splitter.collapsed?splitter.placeholder||splitter:splitter},isItemBoxParent:function(itemContext){return!0},isItemShrinkWrap:function(item){return!0},insertSplitter:function(item,index,hidden,splitterCfg){var region=item.region;
hidden=Ext.apply({xtype:'bordersplitter',collapseTarget:item,id:item.id+'-splitter',hidden,canResize:!1!==item.splitterResize,splitterFor:item,synthetic:!0},splitterCfg);'mini'===item.collapseMode&&(hidden.collapsedCls=item.collapsedCls);item.splitter=this.owner.add(index+('south'===region||'east'===region?0:1),hidden)},getMoveAfterIndex:function(after){var index=Ext.layout.container.Container.prototype.getMoveAfterIndex.apply(this,arguments);after.splitter&&index++;return index},moveItemBefore:function(item,
before){if(before&&before.splitter){var beforeRegion=before.region;if('south'===beforeRegion||'east'===beforeRegion)before=before.splitter}return Ext.layout.container.Container.prototype.moveItemBefore.call(this,item,before)},onAdd:function(item,index){var placeholderFor=item.placeholderFor,region=item.region;Ext.layout.container.Container.prototype.onAdd.apply(this,arguments);if(region){Ext.apply(item,this.regionFlags[region]);this.owner.isViewport&&(item.isViewportBorderChild=!0);item.initBorderRegion&&
item.initBorderRegion();if(placeholderFor='center'===region)this.centerRegion=item;else{region=item.split;var hidden=!!item.hidden;if('object'===typeof region){var cfg=region;region=!0}!item.isHorz&&!item.isVert||!region&&'mini'!==item.collapseMode||('mini'===item.collapseMode&&item.collapsed?hidden=!1:region||(hidden=!0),this.insertSplitter(item,index,hidden,cfg))}placeholderFor||item.hasOwnProperty('collapseMode')||(item.collapseMode=this.panelCollapseMode);item.hasOwnProperty('animCollapse')||
(item.animCollapse='placeholder'!==item.collapseMode?!1:this.panelCollapseAnimate);hidden&&item.placeholder&&item.placeholder.isVisible()&&this.owner.insert(index,item.placeholder)}else placeholderFor&&(Ext.apply(item,this.regionFlags[placeholderFor.region]),item.region=placeholderFor.region,item.weight=placeholderFor.weight)},onDestroy:function(){this.centerRegion=null;Ext.layout.container.Container.prototype.onDestroy.call(this)},onRemove:function(comp,isDestroying){var splitter=comp.splitter,owner=
this.owner,destroying=owner.destroying;comp.region&&(comp.isCenter&&(this.centerRegion=null),delete comp.isCenter,delete comp.isHorz,delete comp.isVert,splitter&&!owner.destroying&&owner.doRemove(splitter,!0),delete comp.splitter);Ext.layout.container.Container.prototype.onRemove.apply(this,arguments);!destroying&&!isDestroying&&comp.rendered&&(splitter=comp.getEl())&&(splitter.setStyle('top',''),splitter.setStyle(this.horzPositionProp,''))},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},
south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:'top'},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:'bottom'},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:'left'},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:'right'}},setupSplitterNeighbors:function(items){var edgeRegions={},length=items.length,touchedRegions=this.touchedRegions,
i,count,edge;for(i=0;i<length;++i){var comp=items[i].target;var region=comp.region;if(comp.isCenter)var center=comp;else if(region){var touched=touchedRegions[region];var j=0;for(count=touched.length;j<count;++j)(edge=edgeRegions[touched[j]])&&edge.neighbors.push(comp);if(j=comp.placeholderFor?comp.placeholderFor.splitter:comp.splitter)j.neighbors=[];edgeRegions[region]=j}}if(center)for(touched=touchedRegions.center,j=0,count=touched.length;j<count;++j)(edge=edgeRegions[touched[j]])&&edge.neighbors.push(center)},
touchedRegions:{center:['north','south','east','west'],north:['north','east','west'],south:['south','east','west'],east:['east','north','south'],west:['west','north','south']},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(item){var policies=this.sizePolicies,collapseTarget;if(item.isCenter)return(collapseTarget=item.placeholderFor)?
collapseTarget.collapsedVertical()?policies.vert:policies.horz:item.collapsed?item.collapsedVertical()?policies.vert:policies.horz:policies.flexAll;if(collapseTarget=item.collapseTarget)return collapseTarget.isVert?policies.vert:policies.horz;if(item.region){if(item.isVert){collapseTarget=item.height;var policy=policies.vert}else collapseTarget=item.width,policy=policies.horz;return item.flex||'string'===typeof collapseTarget&&this.percentageRe.test(collapseTarget)?policies.flexAll:policy}return this.autoSizePolicy}},
0,0,0,0,['layout.border'],0,[Ext.layout.container,'Border',Ext.layout,'BorderLayout'],function(){var methods={addUnflexed:function(px){this.flexSpace=Math.max(this.flexSpace-px,0)}},props=this.prototype.axisProps;Ext.apply(props.horz,methods);Ext.apply(props.vert,methods)});
Ext.cmd.derive('Ext.layout.container.Card',Ext.layout.container.Fit,{alternateClassName:'Ext.layout.CardLayout',type:'card',hideInactive:!0,deferredRender:!1,getRenderTree:function(){var activeItem=this.getActiveItem();if(activeItem){if(activeItem.hasListeners.beforeactivate&&!1===activeItem.fireEvent('beforeactivate',activeItem))activeItem=this.activeItem=this.owner.activeItem=null;else if(activeItem.hasListeners.activate)activeItem.on({boxready:function(){activeItem.fireEvent('activate',activeItem)},
single:!0});if(this.deferredRender){if(activeItem)return this.getItemsRenderTree([activeItem])}else return Ext.layout.container.Fit.prototype.getRenderTree.apply(this,arguments)}},renderChildren:function(){var active=this.getActiveItem();this.deferredRender?active&&this.renderItems([active],this.getRenderTarget()):Ext.layout.container.Fit.prototype.renderChildren.call(this)},isValidParent:function(item,target,position){return(item=item.el?item.el.dom:Ext.getDom(item))&&item.parentNode===(target.dom||
target)||!1},getActiveItem:function(){var result=this.parseActiveItem(void 0===this.activeItem?this.owner&&this.owner.activeItem:this.activeItem);result&&-1!==this.owner.items.indexOf(result)&&(this.activeItem=result);return null==result?null:this.activeItem||this.owner.activeItem},parseActiveItem:function(item){return item&&item.isComponent?item:'number'===typeof item||void 0===item?this.getLayoutItems()[item||0]:null===item?null:this.owner.getComponent(item)},configureItem:function(item){item.setHiddenState(item!==
this.getActiveItem());Ext.layout.container.Fit.prototype.configureItem.apply(this,arguments)},onAdd:function(item,pos){Ext.layout.container.Fit.prototype.onAdd.call(this,item,pos);this.setItemHideMode(item)},onRemove:function(component){Ext.layout.container.Fit.prototype.onRemove.call(this,component);this.resetItemHideMode(component);component===this.activeItem&&(this.activeItem=void 0)},getAnimation:function(newCard,owner){newCard=(newCard||{}).cardSwitchAnimation;return!1===newCard?!1:newCard||
owner.cardSwitchAnimation},getNext:function(JSCompiler_OptimizeArgumentsArray_p1){var items=this.getLayoutItems(),index=Ext.Array.indexOf(items,this.activeItem);return items[index+1]||(JSCompiler_OptimizeArgumentsArray_p1?items[0]:!1)},next:function(JSCompiler_OptimizeArgumentsArray_p2,JSCompiler_OptimizeArgumentsArray_p3){return this.setActiveItem(this.getNext(JSCompiler_OptimizeArgumentsArray_p3),JSCompiler_OptimizeArgumentsArray_p2)},getPrev:function(JSCompiler_OptimizeArgumentsArray_p4){var items=
this.getLayoutItems(),index=Ext.Array.indexOf(items,this.activeItem);return items[index-1]||(JSCompiler_OptimizeArgumentsArray_p4?items[items.length-1]:!1)},prev:function(JSCompiler_OptimizeArgumentsArray_p5,JSCompiler_OptimizeArgumentsArray_p6){return this.setActiveItem(this.getPrev(JSCompiler_OptimizeArgumentsArray_p6),JSCompiler_OptimizeArgumentsArray_p5)},setActiveItem:function(newCard){var owner=this.owner,oldCard=this.activeItem,rendered=owner.rendered;newCard=this.parseActiveItem(newCard);
-1===owner.items.indexOf(newCard)&&(Ext.suspendLayouts(),newCard=owner.add(newCard),Ext.resumeLayouts());if(newCard&&oldCard!==newCard){if(!1===newCard.fireEvent('beforeactivate',newCard,oldCard)||oldCard&&!1===oldCard.fireEvent('beforedeactivate',oldCard,newCard))return!1;if(rendered){Ext.suspendLayouts();newCard.rendered||this.renderItem(newCard,this.getRenderTarget(),owner.items.length);if(oldCard&&this.hideInactive){var focusNewCard=oldCard.el.contains(Ext.Element.getActiveElement());oldCard.hide();
if(oldCard.hidden)oldCard.hiddenByLayout=!0,oldCard.fireEvent('deactivate',oldCard,newCard);else return!1}newCard.hidden&&newCard.show();newCard.hidden?this.activeItem=newCard=null:(this.activeItem=newCard,focusNewCard&&(newCard.defaultFocus||(newCard.defaultFocus=':focusable'),newCard.focus()));Ext.resumeLayouts(!0)}else this.activeItem=newCard;newCard.fireEvent('activate',newCard,oldCard);return this.activeItem}return!1},resetItemHideMode:function(item){item.hideMode=item.originalHideMode;delete item.originalHideMode},
setItemHideMode:function(item){item.originalHideMode=item.hideMode;item.hideMode='offsets'}},0,0,0,0,['layout.card'],0,[Ext.layout.container,'Card',Ext.layout,'CardLayout'],0);
Ext.cmd.derive('Ext.resizer.BorderSplitterTracker',Ext.resizer.SplitterTracker,{getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var splitter=this.splitter,collapseTarget=splitter.collapseTarget,defaultSplitMin=splitter.defaultSplitMin,sizePropCap=splitter.vertical?'Width':'Height',minSizeProp='min'+sizePropCap,maxSizeProp='max'+sizePropCap;sizePropCap='get'+sizePropCap;var neighbors=splitter.neighbors,length=neighbors.length,box=collapseTarget.el.getBox(),left=box.x,top=box.y,
right=box.right;box=box.bottom;var size=splitter.vertical?right-left:box-top,i;var minRange=(collapseTarget[minSizeProp]||Math.min(size,defaultSplitMin))-size;collapseTarget=(collapseTarget=collapseTarget[maxSizeProp])?collapseTarget-size:1E9;var targetSize=size;for(i=0;i<length;++i){var neighbor=neighbors[i];size=neighbor[sizePropCap]();var neighborMaxSize=neighbor[maxSizeProp];null===neighborMaxSize&&(neighborMaxSize=void 0);neighborMaxSize=size-neighborMaxSize;size-=neighbor[minSizeProp]||Math.min(size,
defaultSplitMin);isNaN(neighborMaxSize)||minRange<neighborMaxSize&&(minRange=neighborMaxSize);collapseTarget>size&&(collapseTarget=size)}if(2>collapseTarget-minRange)return null;box=new Ext.util.Region(top,right,box,left);this.constraintAdjusters[this.getCollapseDirection()](box,minRange,collapseTarget,splitter);this.dragInfo={minRange,maxRange:collapseTarget,targetSize};return box},constraintAdjusters:{left:function(box,minRange,maxRange,splitter){box[0]=box.x=box.left=box.right+minRange;box.right+=
maxRange+splitter.getWidth()},top:function(box,minRange,maxRange,splitter){box[1]=box.y=box.top=box.bottom+minRange;box.bottom+=maxRange+splitter.getHeight()},bottom:function(box,minRange,maxRange,splitter){box.bottom=box.top-minRange;box.top-=maxRange+splitter.getHeight()},right:function(box,minRange,maxRange,splitter){box.right=box.left-minRange;box[0]=box.x=box.left=box.x-maxRange+splitter.getWidth()}},onBeforeStart:function(e){var splitter=this.splitter;e=splitter.collapseTarget;splitter=splitter.neighbors;
var length=splitter.length,i;if(e.collapsed)return!1;for(i=0;i<length;++i){var neighbor=splitter[i];if(neighbor.collapsed&&neighbor.isHorz===e.isHorz)return!1}return(this.constrainTo=this.calculateConstrainRegion())?!0:!1},performResize:function(e,offset){var splitter=this.splitter,collapseDirection=splitter.getCollapseDirection();e=splitter.collapseTarget;var adjusters=this.splitAdjusters[splitter.vertical?'horz':'vert'];offset=offset[adjusters.index];var dragInfo=this.dragInfo;if('right'===collapseDirection||
'bottom'===collapseDirection)offset=-offset;if(offset=Math.min(Math.max(dragInfo.minRange,offset),dragInfo.maxRange))(splitter=splitter.ownerCt).suspendLayouts(),adjusters.adjustTarget(e,dragInfo.targetSize,offset),splitter.resumeLayouts(!0)},splitAdjusters:{horz:{index:0,adjustTarget:function(target,size,delta){target.flex=null;target.setSize(size+delta)}},vert:{index:1,adjustTarget:function(target,targetSize,delta){target.flex=null;target.setSize(void 0,targetSize+delta)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}},
0,0,0,0,0,0,[Ext.resizer,'BorderSplitterTracker'],0);
Ext.cmd.derive('Ext.resizer.ResizeTracker',Ext.dd.DragTracker,{dynamic:!0,preserveRatio:!1,preventDefault:!1,constrainTo:null,proxyCls:'x-resizable-proxy',constructor:function(config){var me=this;config.el||(me.el=config.target.isComponent?config.target.getEl():config.target);Ext.dd.DragTracker.prototype.constructor.apply(this,arguments);if(me.preserveRatio&&me.minWidth&&me.minHeight){var widthRatio=me.minWidth/me.el.getWidth();var heightRatio=me.minHeight/me.el.getHeight();heightRatio>widthRatio?
me.minWidth=me.el.getWidth()*heightRatio:me.minHeight=me.el.getHeight()*widthRatio}if(me.throttle){var throttledResizeFn=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(me,arguments)},me.throttle);me.resize=function(box,direction,atEnd){atEnd?Ext.resizer.ResizeTracker.prototype.resize.apply(me,arguments):throttledResizeFn.apply(null,arguments)}}},onBeforeStart:function(e){this.startBox=this.target.getBox()},getProxy:function(){this.dynamic||this.proxy||(this.proxy=
this.createProxy(this.target||this.el),this.hideProxy=!0);if(this.proxy)return this.proxy.show(),this.proxy},createProxy:function(target){var cls=this.proxyCls;target=target.isComponent?target.getProxy().addCls(cls):target.createProxy({tag:'div',role:'presentation',cls,id:target.id+'-rzproxy'},Ext.getBody());target.removeCls('x-proxy-el');return target},onStart:function(e){this.activeResizeHandle=Ext.get(this.getDragTarget().id);this.dynamic||this.resize(this.startBox)},onMouseDown:function(e,target){Ext.dd.DragTracker.prototype.onMouseDown.call(this,
e,target);Ext.dom.Element.maskIframes()},onMouseUp:function(e){Ext.dd.DragTracker.prototype.onMouseUp.call(this,e);Ext.dom.Element.unmaskIframes()},onDrag:function(e){(this.dynamic||this.proxy)&&this.updateDimensions(e)},updateDimensions:function(e,atEnd){var region=this.activeResizeHandle.region,offset=this.getOffset(this.constrainTo?'dragTarget':null),box=this.startBox,widthAdjust=0,heightAdjust=0,adjustX=0,adjustY=0;region=this.convertRegionName(region);switch(region){case 'south':heightAdjust=
offset[1];var axis=2;break;case 'north':heightAdjust=-offset[1];adjustY=-heightAdjust;axis=2;break;case 'east':widthAdjust=offset[0];axis=1;break;case 'west':widthAdjust=-offset[0];adjustX=-widthAdjust;axis=1;break;case 'northeast':heightAdjust=-offset[1];adjustY=-heightAdjust;widthAdjust=offset[0];var dragRatio=[box.x,box.y+box.height];axis=3;break;case 'southeast':heightAdjust=offset[1];widthAdjust=offset[0];dragRatio=[box.x,box.y];axis=3;break;case 'southwest':widthAdjust=-offset[0];adjustX=-widthAdjust;
heightAdjust=offset[1];dragRatio=[box.x+box.width,box.y];axis=3;break;case 'northwest':heightAdjust=-offset[1],adjustY=-heightAdjust,widthAdjust=-offset[0],adjustX=-widthAdjust,dragRatio=[box.x+box.width,box.y+box.height],axis=3}offset={width:box.width+widthAdjust,height:box.height+heightAdjust,x:box.x+adjustX,y:box.y+adjustY};widthAdjust=Ext.Number.snap(offset.width,this.widthIncrement);heightAdjust=Ext.Number.snap(offset.height,this.heightIncrement);if(widthAdjust!==offset.width||heightAdjust!==
offset.height){switch(region){case 'northeast':offset.y-=heightAdjust-offset.height;break;case 'north':offset.y-=heightAdjust-offset.height;break;case 'southwest':offset.x-=widthAdjust-offset.width;break;case 'west':offset.x-=widthAdjust-offset.width;break;case 'northwest':offset.x-=widthAdjust-offset.width,offset.y-=heightAdjust-offset.height}offset.width=widthAdjust;offset.height=heightAdjust}offset.width<this.minWidth||offset.width>this.maxWidth?(offset.width=Ext.Number.constrain(offset.width,
this.minWidth,this.maxWidth),adjustX&&(offset.x=box.x+(box.width-offset.width))):this.lastX=offset.x;offset.height<this.minHeight||offset.height>this.maxHeight?(offset.height=Ext.Number.constrain(offset.height,this.minHeight,this.maxHeight),adjustY&&(offset.y=box.y+(box.height-offset.height))):this.lastY=offset.y;if(this.preserveRatio||e.shiftKey)e=this.startBox.width/this.startBox.height,adjustX=Math.min(Math.max(this.minHeight,offset.width/e),this.maxHeight),adjustY=Math.min(Math.max(this.minWidth,
offset.height*e),this.maxWidth),1===axis?offset.height=adjustX:2===axis?offset.width=adjustY:(dragRatio=Math.abs(dragRatio[0]-this.lastXY[0])/Math.abs(dragRatio[1]-this.lastXY[1]),dragRatio>e?offset.height=adjustX:offset.width=adjustY,'northeast'===region?offset.y=box.y-(offset.height-box.height):'northwest'===region?(offset.y=box.y-(offset.height-box.height),offset.x=box.x-(offset.width-box.width)):'southwest'===region&&(offset.x=box.x-(offset.width-box.width)));this.setPosition=offset.x!==this.startBox.x||
offset.y!==this.startBox.y;this.resize(offset,atEnd)},resize:function(box,atEnd){var setPosition=this.setPosition;if(this.dynamic||!this.dynamic&&atEnd)setPosition?this.target.setBox(box):this.target.setSize(box.width,box.height);atEnd||(atEnd=this.getProxy())&&atEnd!==this.target&&(setPosition||this.hideProxy?atEnd.setBox(box):atEnd.setSize(box.width,box.height))},onEnd:function(e){this.updateDimensions(e,!0);this.proxy&&this.hideProxy&&this.proxy.hide()},convertRegionName:function(name){return name}},
1,0,0,0,0,0,[Ext.resizer,'ResizeTracker'],0);
Ext.cmd.derive('Ext.resizer.Resizer',Ext.Base,{alternateClassName:'Ext.Resizable',handleCls:'x-resizable-handle',overCls:'x-resizable-handle-over',pinnedCls:'x-resizable-pinned',wrapCls:'x-resizable-wrap',wrappedCls:'x-resizable-wrapped',delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:'s e se',height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1E4,maxWidth:1E4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:'north',s:'south',e:'east',w:'west',
se:'southeast',sw:'southwest',nw:'northwest',ne:'northeast'},touchActionMap:{n:{panY:!1},s:{panY:!1},e:{panX:!1},w:{panX:!1},se:{panX:!1,panY:!1},sw:{panX:!1,panY:!1},nw:{panX:!1,panY:!1},ne:{panX:!1,panY:!1}},ariaRole:'presentation',constructor:function(config,JSCompiler_OptimizeArgumentsArray_p7){var unselectableCls=Ext.dom.Element.unselectableCls,handleEls=[],handle;if(Ext.isString(config)||Ext.isElement(config)||config.dom){var resizeTarget=config;config=JSCompiler_OptimizeArgumentsArray_p7||
{};config.target=resizeTarget}this.mixins.observable.constructor.call(this,config);(resizeTarget=this.target)?resizeTarget.isComponent?(resizeTarget.addClsWithUI('resizable'),resizeTarget.minWidth&&(this.minWidth=resizeTarget.minWidth),resizeTarget.minHeight&&(this.minHeight=resizeTarget.minHeight),resizeTarget.maxWidth&&(this.maxWidth=resizeTarget.maxWidth),resizeTarget.maxHeight&&(this.maxHeight=resizeTarget.maxHeight),resizeTarget.floating&&!this.hasOwnProperty('handles')&&(this.handles='n ne e se s sw w nw'),
this.el=resizeTarget.getEl()):resizeTarget=this.el=this.target=Ext.get(resizeTarget):resizeTarget=this.target=this.el=Ext.get(this.el);this.el.addCls(Ext.Component.prototype.borderBoxCls);Ext.isNumber(this.width)&&(this.width=Ext.Number.constrain(this.width,this.minWidth,this.maxWidth));Ext.isNumber(this.height)&&(this.height=Ext.Number.constrain(this.height,this.minHeight,this.maxHeight));null===this.width&&null===this.height||this.target.setSize(this.width,this.height);config=this.el.dom.tagName.toUpperCase();
if('TEXTAREA'===config||'IMG'===config||'TABLE'===config||this.el.isStyle('display','table')){this.originalTarget=this.target;JSCompiler_OptimizeArgumentsArray_p7=resizeTarget.isComponent?resizeTarget.getEl():resizeTarget;this.el.addCls(this.wrappedCls);this.target=this.el=this.el.wrap({role:'presentation',cls:this.wrapCls,id:this.el.id+'-rzwrap',style:JSCompiler_OptimizeArgumentsArray_p7.getStyle(['margin-top','margin-bottom'])});var handles=JSCompiler_OptimizeArgumentsArray_p7.getPositioning();
this.el.setPositioning(handles);JSCompiler_OptimizeArgumentsArray_p7.clearPositioning();config=JSCompiler_OptimizeArgumentsArray_p7.getBox();'absolute'!==handles.position&&(config.x=0,config.y=0);this.el.setBox(config);JSCompiler_OptimizeArgumentsArray_p7.setStyle('position','absolute');this.isTargetWrapped=!0}this.el.position();this.pinned&&this.el.addCls(this.pinnedCls);this.resizeTracker=new Ext.resizer.ResizeTracker({disabled:this.disabled,target:resizeTarget,el:this.el,constrainTo:this.constrainTo,
handleCls:this.handleCls,overCls:this.overCls,throttle:this.throttle,proxy:this.originalTarget?this.el:null,dynamic:this.originalTarget?!0:this.dynamic,originalTarget:this.originalTarget,delegate:'.'+this.handleCls,preserveRatio:this.preserveRatio,heightIncrement:this.heightIncrement,widthIncrement:this.widthIncrement,minHeight:this.minHeight,maxHeight:this.maxHeight,minWidth:this.minWidth,maxWidth:this.maxWidth});this.resizeTracker.on({mousedown:this.onBeforeResize,drag:this.onResize,dragend:this.onResizeEnd,
scope:this});'all'===this.handles&&(this.handles='n s e w ne nw se sw');handles=this.handles=this.handles.split(this.delimiterRe);config=this.possiblePositions;JSCompiler_OptimizeArgumentsArray_p7=handles.length;resizeTarget=this.handleCls+' '+this.handleCls+'-{0}';if(this.target.isComponent){var i=this.target.baseCls;resizeTarget+=' '+i+'-handle '+i+'-handle-{0}';Ext.supports.CSS3BorderRadius&&(resizeTarget+=' '+i+'-handle-{0}-br')}for(i=0;i<JSCompiler_OptimizeArgumentsArray_p7;i++)if((handle=handles[i])&&
config[handle]){var pos=config[handle];var handleEl=this[pos]=this.el.createChild({id:this.el.id+'-'+pos+'-handle',cls:Ext.String.format(resizeTarget,pos)+' '+unselectableCls,role:'presentation'});handleEl.region=pos;this.transparent&&handleEl.setOpacity(0);handleEl.setTouchAction(this.touchActionMap[handle]);handleEls.push(handleEl)}this.resizeTracker.handleEls=handleEls},disable:function(){this.disabled=!0;this.resizeTracker.disable()},enable:function(){this.disabled=!1;this.resizeTracker.enable()},
onBeforeResize:function(tracker,e){tracker=this.fireResizeEvent('beforeresize',tracker,e);!1!==tracker&&this.el.unselectable();return tracker},onResize:function(tracker,e){return this.fireResizeEvent('resizedrag',tracker,e)},onResizeEnd:function(tracker,e){this.el.selectable();return this.fireResizeEvent('resize',tracker,e)},fireResizeEvent:function(name,tracker,e){if(this.hasListeners[name])return tracker=this.el.getBox(),this.fireEvent(name,this,tracker.width,tracker.height,e)},resizeTo:function(width,
height){this.target.setSize(width,height);this.fireEvent('resize',this,width,height,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var handles=this.handles,len=handles.length,positions=this.possiblePositions,handle,i;this.resizeTracker.destroy();this.isTargetWrapped&&this.target.destroy();for(i=0;i<len;i++){var pos=positions[handles[i]];if(handle=this[pos])handle.destroy(),this[pos]=null}this.callParent()}},1,0,0,0,0,[['observable',Ext.util.Observable]],
[Ext.resizer,'Resizer',Ext,'Resizable'],0);
Ext.cmd.derive('Ext.selection.CellModel',Ext.selection.DataViewModel,{isCellModel:!0,deselectOnContainerClick:!1,enableKeyNav:!0,preventWrap:!1,bindComponent:function(view){this.view&&this.gridListeners&&this.gridListeners.destroy();Ext.selection.DataViewModel.prototype.bindComponent.call(this,view);view&&(view=view.grid||view.ownerCt,!1!==view.optimizedColumnMove&&(this.gridListeners=view.on({columnmove:this.onColumnMove,scope:this,destroyable:!0})))},getViewListeners:function(){var result=Ext.selection.DataViewModel.prototype.getViewListeners.call(this);
result.refresh=this.onViewRefresh;return result},getHeaderCt:function(){var selection=this.navigationModel.getPosition();return(selection?selection.view:this.primaryView).headerCt},onNavigate:function(e){e.record&&!e.keyEvent.stopSelection&&this.setPosition(e.position)},selectWithEvent:function(record,e){this.select(record)},select:function(pos,keepExisting,suppressEvent){keepExisting=this.getPosition();var store=this.view.store;if(pos||0===pos)pos.isModel?(pos=store.indexOf(pos),pos=-1!==pos?{row:pos,
column:keepExisting?keepExisting.column:0}:null):'number'===typeof pos&&(pos={row:pos,column:0});pos?this.selectByPosition(pos,suppressEvent):this.deselect()},getCurrentPosition:function(){var position=this.selecting?this.nextSelection:this.selection;return position?{view:position.view,record:position.record,row:position.rowIdx,columnHeader:position.column,column:position.view.getColumnManager().indexOf(position.column)}:position},getPosition:function(){return(this.selecting?this.nextSelection:this.selection)||
null},setCurrentPosition:function(pos,suppressEvent,preventCheck){pos&&!pos.isCellContext&&(pos=(new Ext.grid.CellContext(this.view)).setPosition({row:pos.row,column:'number'===typeof pos.column?this.view.getColumnManager().getColumns()[pos.column]:pos.column}));return this.setPosition(pos,suppressEvent,preventCheck)},setPosition:function(pos,suppressEvent,preventCheck){var last=this.selection;pos&&(pos=pos.isCellContext?pos.clone():(new Ext.grid.CellContext(this.view)).setPosition(pos));if(!preventCheck&&
last)if(pos&&pos.record===last.record&&pos.column===last.column&&pos.view===last.view)pos=null;else this.onCellDeselect(this.selection,suppressEvent);if(pos)return this.nextSelection=pos,this.selecting=!0,this.onCellSelect(this.nextSelection,suppressEvent),this.selecting=!1,this.selection=pos},isCellSelected:function(view,row,column){var pos=this.getPosition();if(pos&&pos.view===view)return view=(new Ext.grid.CellContext(view)).setPosition({row,column:'number'===typeof column?view.getColumnManager().getColumns()[column]:
column}),view.record===pos.record&&view.column===pos.column},onStoreRemove:function(store,records,indices){var pos=this.getPosition();Ext.selection.DataViewModel.prototype.onStoreRemove.apply(this,arguments);pos&&store.isMoving(pos.record)||(pos&&store.getCount()&&-1!==store.indexOf(pos.record)?pos.setRow(pos.record):this.selection=null)},onStoreClear:function(){Ext.selection.DataViewModel.prototype.onStoreClear.apply(this,arguments);this.selection=null},onStoreAdd:function(){var pos=this.getPosition();
Ext.selection.DataViewModel.prototype.onStoreAdd.apply(this,arguments);pos?pos.setRow(pos.record):this.selection=null},updateSelectedInstances:function(selected){var pos=this.getPosition(),selRec=selected.getAt(0);selRec&&pos&&pos.record.id===selRec.id&&pos.setRow(selRec);Ext.selection.DataViewModel.prototype.updateSelectedInstances.call(this,selected);0===selected.length&&selRec&&(this.selection=null)},onCellClick:function(view,cell,cellIndex,record,row,recordIndex,e){-1!==recordIndex&&this.setPosition(e.position)},
onCellSelect:function(position,supressEvent){position&&void 0!==position.rowIdx&&-1<position.rowIdx&&this.doSelect(position.record,!1,supressEvent)},onCellDeselect:function(position,supressEvent){position&&void 0!==position.rowIdx&&this.doDeselect(position.record,supressEvent)},onSelectChange:function(record,isSelected,suppressEvent,commitFn){if(isSelected){var pos=this.nextSelection;var eventName='select'}else pos=this.selection,eventName='deselect';var view=pos.view||this.primaryView;if(!1!==(suppressEvent||
this.fireEvent('before'+eventName,this,record,pos.rowIdx,pos.colIdx))&&!1!==commitFn()){if(isSelected)view.onCellSelect(pos);else view.onCellDeselect(pos),delete this.selection;suppressEvent||this.fireEvent(eventName,this,record,pos.rowIdx,pos.colIdx)}},refresh:function(){var pos=this.getPosition(),selRowIdx;pos&&-1!==(selRowIdx=this.store.indexOf(this.selected.last()))&&(pos.rowIdx=selRowIdx)},onColumnMove:function(headerCt,header,fromIdx,toIdx){if(headerCt=headerCt.up('tablepanel'))this.onViewRefresh(headerCt.view)},
onUpdate:function(record){this.isSelected(record)&&(record=this.selecting?this.nextSelection:this.selection,this.view.onCellSelect(record))},onViewRefresh:function(view){var pos=this.getPosition(),headerCt=view.headerCt;if(pos&&pos.view===view){var record=pos.record;(pos=view.getColumnByPosition(pos))&&!pos.isDescendantOf(headerCt)&&(pos=headerCt.queryById(pos.id)||headerCt.down('[text\x3d"'+pos.text+'"]')||headerCt.down('[dataIndex\x3d"'+pos.dataIndex+'"]'));pos&&record?-1!==view.store.indexOfId(record.getId())&&
(view=(new Ext.grid.CellContext(view)).setPosition({row:record,column:pos}),this.setPosition(view)):this.selection=null}},selectByPosition:function(position,suppressEvent){this.setPosition(position,suppressEvent)}},0,0,0,0,['selection.cellmodel'],0,[Ext.selection,'CellModel'],0);
Ext.cmd.derive('Ext.selection.RowModel',Ext.selection.DataViewModel,{enableKeyNav:!0,isRowModel:!0,deselectOnContainerClick:!1,onUpdate:function(record){var view=this.view;if(view&&this.isSelected(record)){var index=view.indexOf(record);view.onRowSelect(index);if(record===this.lastFocused)view.onRowFocus(index,!0)}},onSelectChange:function(record,isSelected,suppressEvent,commitFn){var views=this.views||[this.view],viewsLn=views.length,recordIndex=this.store.indexOf(record),eventName=isSelected?'select':
'deselect';if(!1!==(suppressEvent||this.fireEvent('before'+eventName,this,record,recordIndex))&&!1!==commitFn()){for(commitFn=0;commitFn<viewsLn;commitFn++){var view=views[commitFn];recordIndex=view.indexOf(record);if(-1!==view.indexOf(record))if(isSelected)view.onRowSelect(recordIndex,suppressEvent);else view.onRowDeselect(recordIndex,suppressEvent)}suppressEvent||this.fireEvent(eventName,this,record,recordIndex)}},getCurrentPosition:function(){var firstSelection=this.selected.getAt(0);if(firstSelection)return(new Ext.grid.CellContext(this.view)).setPosition(this.store.indexOf(firstSelection),
0)},selectByPosition:function(position,keepExisting){position.isCellContext||(position=(new Ext.grid.CellContext(this.view)).setPosition(position.row,position.column));this.select(position.record,keepExisting)},selectNext:function(keepExisting,suppressEvent){var store=this.store,selection=this.getSelection();selection=this.view.indexOf(selection[selection.length-1])+1;selection===store.getCount()||0===selection?keepExisting=!1:(this.doSelect(selection,keepExisting,suppressEvent),keepExisting=!0);
return keepExisting},selectPrevious:function(keepExisting,suppressEvent){var record=this.getSelection()[0];record=this.view.indexOf(record)-1;0>record?keepExisting=!1:(this.doSelect(record,keepExisting,suppressEvent),keepExisting=!0);return keepExisting},isRowSelected:function(record){return this.isSelected(record)},isCellSelected:function(view,record,columnHeader){return this.isSelected(record)},vetoSelection:function(e){var navModel=this.view.getNavigationModel(),key=e.getKey();return(key===e.RIGHT||
key===e.LEFT)&&navModel.previousRecord===navModel.record||Ext.selection.DataViewModel.prototype.vetoSelection.call(this,e)}},0,0,0,0,['selection.rowmodel'],0,[Ext.selection,'RowModel'],0);
Ext.cmd.derive('Ext.selection.CheckboxModel',Ext.selection.RowModel,{mode:'MULTI',injectCheckbox:0,checkOnly:!1,locked:!1,showHeaderCheckbox:void 0,headerText:void 0,headerAriaLabel:'Row selector',headerSelectText:'Press Space to select all rows',headerDeselectText:'Press Space to deselect all rows',rowSelectText:'Press Space to select this row',rowDeselectText:'Press Space to deselect this row',allowDeselect:!0,headerWidth:24,checkerOnCls:'x-grid-hd-checker-on',tdCls:'x-grid-cell-special x-selmodel-column',
constructor:function(){Ext.selection.RowModel.prototype.constructor.apply(this,arguments);'SINGLE'===this.mode&&(this.showHeaderCheckbox=!1)},beforeViewRender:function(view){var ownerLockable=view.grid.ownerLockable,isLocked=this.locked||this.config&&this.config.locked;Ext.selection.RowModel.prototype.beforeViewRender.apply(this,arguments);!1!==this.injectCheckbox&&(ownerLockable&&!this.lockListeners&&(this.lockListeners=ownerLockable.mon(ownerLockable,{lockcolumn:this.onColumnLock,unlockcolumn:this.onColumnUnlock,
scope:this,destroyable:!0})),!ownerLockable||view.isLockedView&&(this.hasLockedHeader()||isLocked)||view.isNormalView&&!this.column)&&(this.addCheckbox(view),this.mon(view.ownerGrid,{beforereconfigure:this.onBeforeReconfigure,reconfigure:this.onReconfigure,scope:this}))},onColumnUnlock:function(lockable,column){column=this.injectCheckbox;var lockedColumns=lockable.lockedGrid.visibleColumnManager.getColumns();1===lockedColumns.length&&lockedColumns[0]===this.column&&('first'===column?column=0:'last'===
column&&(column=lockable.normalGrid.visibleColumnManager.getColumns().length),lockable.unlock(this.column,column))},onColumnLock:function(lockable,column){column=this.injectCheckbox;1===lockable.lockedGrid.visibleColumnManager.getColumns().length&&('first'===column?column=0:'last'===column&&(column=lockable.lockedGrid.visibleColumnManager.getColumns().length),lockable.lock(this.column,column))},bindComponent:function(view){this.sortable=!1;Ext.selection.RowModel.prototype.bindComponent.apply(this,
arguments)},hasLockedHeader:function(){var columns=this.view.ownerGrid.getVisibleColumnManager().getColumns(),len=columns.length,i;for(i=0;i<len;i++)if(columns[i].locked)return!0;return!1},addCheckbox:function(view){var checkboxIndex=this.injectCheckbox,headerCt=view.headerCt;!1!==checkboxIndex&&('first'===checkboxIndex?checkboxIndex=0:'last'===checkboxIndex&&(checkboxIndex=headerCt.getColumnCount()),Ext.suspendLayouts(),view.getStore().isBufferedStore&&(this.showHeaderCheckbox=!1),this.column=headerCt.add(checkboxIndex,
this.column||this.getHeaderConfig()),Ext.resumeLayouts())},onBeforeReconfigure:function(grid,store,columns,oldStore,oldColumns){grid=this.column;store=grid.ownerCt;columns&&store&&store.remove(grid,!1)},onReconfigure:function(grid,store,columns){columns&&(grid.lockable?grid.lockedGrid.isVisible()?grid.lock(this.column,0):grid.unlock(this.column,0):this.addCheckbox(this.view),grid.view.refreshView())},onHeaderClick:function(headerCt,header,e){headerCt=this.store;var len;if(!1!==this.showHeaderCheckbox&&
header===this.column&&'SINGLE'!==this.mode)if(e.stopEvent(),header=header.el.hasCls('x-grid-hd-checker-on')){header=[];var selections=this.getSelection();e=0;for(len=selections.length;e<len;++e){var selection=selections[e];-1<headerCt.indexOf(selection)&&header.push(selection)}0<header.length&&this.deselect(header)}else this.selectAll()},getHeaderConfig:function(){var showCheck=!1!==this.showHeaderCheckbox,htmlEncode=Ext.String.htmlEncode;showCheck={xtype:'checkcolumn',headerCheckbox:showCheck,isCheckerHd:showCheck,
ignoreExport:!0,text:this.headerText,width:this.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,checkOnly:this.checkOnly,checkboxAriaRole:'presentation',tdCls:'x-selmodel-checkbox '+this.tdCls,cls:'x-selmodel-column',editRenderer:this.editRenderer||this.renderEmpty,locked:this.hasLockedHeader(),processEvent:Ext.emptyFn,renderer:this.renderer||this.defaultRenderer,toggleAll:Ext.emptyFn,setRecordCheck:Ext.emptyFn,isRecordChecked:this.isRowSelected.bind(this)};this.checkOnly?
(showCheck.useAriaElements=!0,showCheck.ariaLabel=htmlEncode(this.headerAriaLabel),showCheck.headerSelectText=htmlEncode(this.headerSelectText),showCheck.headerDeselectText=htmlEncode(this.headerDeselectText),showCheck.rowSelectText=htmlEncode(this.rowSelectText),showCheck.rowDeselectText=htmlEncode(this.rowDeselectText)):showCheck.ariaRole='presentation';return showCheck},toggleRecord:function(record,recordIndex,checked,cell){this[checked?'select':'deselect']([record],'SINGLE'!==this.mode)},renderEmpty:function(){return'\x26#160;'},
refresh:function(){Ext.selection.RowModel.prototype.refresh.apply(this,arguments);this.updateHeaderState()},selectByPosition:function(position,keepExisting){position.isCellContext||(position=(new Ext.grid.CellContext(this.view)).setPosition(position.row,position.column));this.checkOnly&&position.column!==this.column||Ext.selection.RowModel.prototype.selectByPosition.call(this,position,keepExisting)},onSelectChange:function(record,isSelected){Ext.selection.RowModel.prototype.onSelectChange.apply(this,
arguments);this.column&&this.column.updateCellAriaDescription(record,isSelected);this.suspendChange||this.updateHeaderState()},onStoreLoad:function(){Ext.selection.RowModel.prototype.onStoreLoad.apply(this,arguments);this.updateHeaderState()},onStoreAdd:function(){Ext.selection.RowModel.prototype.onStoreAdd.apply(this,arguments);this.updateHeaderState()},onStoreRemove:function(){Ext.selection.RowModel.prototype.onStoreRemove.apply(this,arguments);this.updateHeaderState()},onStoreRefresh:function(){Ext.selection.RowModel.prototype.onStoreRefresh.apply(this,
arguments);this.updateHeaderState()},maybeFireSelectionChange:function(fireEvent){fireEvent&&!this.suspendChange&&this.updateHeaderState();Ext.selection.RowModel.prototype.maybeFireSelectionChange.apply(this,arguments)},resumeChanges:function(){Ext.selection.RowModel.prototype.resumeChanges.call(this);this.suspendChange||this.updateHeaderState()},updateHeaderState:function(){var store=this.store,storeCount=store.getCount(),views=this.views,hdSelectStatus=!1,selectedCount=0,len;if(!store.isBufferedStore&&
0<storeCount){hdSelectStatus=this.selected;var i=0;for(len=hdSelectStatus.getCount();i<len;++i)-1<store.indexOfId(hdSelectStatus.getAt(i).id)&&++selectedCount;hdSelectStatus=storeCount===selectedCount}views&&views.length&&this.column.setHeaderStatus(hdSelectStatus)},vetoSelection:function(e){var column=this.column;if(this.checkOnly){var veto=e.type===column.triggerEvent&&e.getTarget(this.column.getCellSelector());column=e.getKey()===e.SPACE&&e.position.column===column;veto=!(veto||column)}return veto||
Ext.selection.RowModel.prototype.vetoSelection.call(this,e)},privates:{onBeforeNavigate:function(metaEvent){var e=metaEvent.keyEvent;'SINGLE'!==this.selectionMode&&(metaEvent.ctrlKey=metaEvent.ctrlKey||e.ctrlKey||e.type===this.column.triggerEvent&&!e.shiftKey||e.getKey()===e.SPACE)},selectWithEventMulti:function(record,e,isSelected){e.shiftKey||e.ctrlKey||!e.getTarget(this.column.getCellSelector())?Ext.selection.RowModel.prototype.selectWithEventMulti.call(this,record,e,isSelected):isSelected?this.doDeselect(record):
this.doSelect(record,!0)}}},1,0,0,0,['selection.checkboxmodel'],0,[Ext.selection,'CheckboxModel'],function(CheckboxModel){CheckboxModel.prototype.checkSelector='.'+Ext.grid.column.Check.prototype.checkboxCls});Ext.define('Ext.theme.triton.selection.CheckboxModel',{override:'Ext.selection.CheckboxModel',headerWidth:32,onHeaderClick:function(headerCt,header,e){(arguments.callee.$previous||Ext.selection.RowModel.prototype.onHeaderClick).call(this,headerCt,header,e);Ext.isIE8&&header.getView().ownerGrid.el.syncRepaint()}});
Ext.cmd.derive('Ext.selection.TreeModel',Ext.selection.RowModel,{selectOnExpanderClick:!1,constructor:function(config){Ext.selection.RowModel.prototype.constructor.call(this,config);this.pruneRemoved&&(this.pruneRemoved=!1,this.pruneRemovedNodes=!0)},getStoreListeners:function(){var result=Ext.selection.RowModel.prototype.getStoreListeners.call(this);result.noderemove=this.onNodeRemove;return result},onNodeRemove:function(parent,node,isMove){isMove||(parent=[],this.gatherSelected(node,parent),parent.length&&
this.deselect(parent))},pruneRemovedOnRefresh:function(){return this.pruneRemovedNodes},vetoSelection:function(e){var view=this.view;return!this.selectOnExpanderClick&&'click'===e.type&&e.getTarget(view.expanderSelector||view.lockingPartner&&view.lockingPartner.expanderSelector)||Ext.selection.RowModel.prototype.vetoSelection.call(this,e)},privates:{gatherSelected:function(node,toDeselect){var childNodes=node.childNodes,len;this.selected.containsKey(node.id)&&toDeselect.push(node);if(childNodes)for(node=
0,len=childNodes.length;node<len;++node){var child=childNodes[node];this.gatherSelected(child,toDeselect)}}}},1,0,0,0,['selection.treemodel'],0,[Ext.selection,'TreeModel'],0);
Ext.cmd.derive('Ext.slider.Thumb',Ext.Base,{overCls:'x-slider-thumb-over',constructor:function(config){Ext.apply(this,config||{},{cls:'x-slider-thumb',constrain:!1});this.callParent([config])},render:function(){this.el=this.slider.innerEl.insertFirst(this.getElConfig());this.onRender()},onRender:function(){var touchAction={};touchAction[this.slider.vertical?'panY':'panX']=!1;this.el.setTouchAction(touchAction);this.disabled&&this.disable();this.initEvents()},getElConfig:function(){var slider=this.slider,
style={};style[slider.vertical?'bottom':slider.horizontalProp]=slider.calculateThumbPosition(slider.normalizeValue(this.value))+'%';return{style,id:this.id,cls:this.cls,role:'presentation'}},move:function(v,animate){var el=this.el,slider=this.slider;slider=slider.vertical?'bottom':slider.horizontalProp;v+='%';if(animate){var to={};to[slider]=v;if(!Ext.supports.GetPositionPercentage){var from={};from[slider]=el.dom.style[slider]}v={target:el,duration:350,from,to,scope:this,callback:this.onAnimComplete};
!0!==animate&&Ext.apply(v,animate);this.anim=new Ext.fx.Anim(v)}else el.dom.style[slider]=v},onAnimComplete:function(){this.anim=null},enable:function(){var el=this.el;this.disabled=!1;el&&el.removeCls(this.slider.disabledCls)},disable:function(){var el=this.el;this.disabled=!0;el&&el.addCls(this.slider.disabledCls)},initEvents:function(){this.tracker=new Ext.dd.DragTracker({el:this.el,onBeforeStart:this.onBeforeDragStart.bind(this),onStart:this.onDragStart.bind(this),onDrag:this.onDrag.bind(this),
onEnd:this.onDragEnd.bind(this),tolerance:3,autoStart:300});this.el.hover(this.addOverCls,this.removeOverCls,this)},addOverCls:function(){this.disabled||this.el.addCls(this.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},onBeforeDragStart:function(e){e=this.el;var trackerXY=this.tracker.getXY(),delta=this.pointerOffset=e.getXY();if(this.disabled)return!1;delta[0]+=Math.floor(e.getWidth()/2)-trackerXY[0];delta[1]+=Math.floor(e.getHeight()/2)-trackerXY[1];this.slider.promoteThumb(this);
return!0},onDragStart:function(e){var slider=this.slider;slider.onDragStart(this,e);this.el.addCls('x-slider-thumb-drag');this.dragging=this.slider.dragging=!0;this.dragStartValue=this.value;slider.fireEvent('dragstart',slider,e,this)},onDrag:function(e){var slider=this.slider,index=this.index,newValue=this.getValueFromTracker();if(void 0!==newValue){if(this.constrain){var above=slider.thumbs[index+1];var below=slider.thumbs[index-1];void 0!==below&&newValue<=below.value&&(newValue=below.value);void 0!==
above&&newValue>=above.value&&(newValue=above.value)}slider.setValue(index,newValue,!1);slider.fireEvent('drag',slider,e,this)}},getValueFromTracker:function(){var slider=this.slider,trackerXY=this.tracker.getXY();trackerXY[0]+=this.pointerOffset[0];trackerXY[1]+=this.pointerOffset[1];trackerXY=slider.getTrackpoint(trackerXY);if(null!=trackerXY)return slider.reversePixelValue(trackerXY)},onDragEnd:function(e){var slider=this.slider,value=this.value;slider.onDragEnd(this,e);this.el.removeCls('x-slider-thumb-drag');
this.dragging=slider.dragging=!1;slider.fireEvent('dragend',slider,e);this.dragStartValue!==value&&slider.fireEvent('changecomplete',slider,value,this)},destroy:function(){var anim=this.anim;anim&&anim.end();this.el=this.tracker=this.anim=Ext.destroy(this.el,this.tracker);this.callParent()}},1,0,0,0,0,0,[Ext.slider,'Thumb'],0);
Ext.cmd.derive('Ext.slider.Tip',Ext.tip.Tip,{offsets:null,align:null,position:'',minWidth:10,defaultVerticalPosition:'left',defaultHorizontalPosition:'top',isSliderTip:!0,init:function(slider){this.position||(this.position=slider.vertical?this.defaultVerticalPosition:this.defaultHorizontalPosition);switch(this.position){case 'top':var offsets=[0,-10];var align='b-t?';break;case 'bottom':offsets=[0,10];align='t-b?';break;case 'left':offsets=[-10,0];align='r-l?';break;case 'right':offsets=[10,0],align=
'l-r?'}this.align||(this.align=align);this.offsets||(this.offsets=offsets);slider.on({scope:this,dragstart:this.onSlide,drag:this.onSlide,dragend:this.hide,destroy:this.destroy})},onSlide:function(slider,e,thumb){this.update(this.getText(thumb));this.show();this.el.alignTo(thumb.el,this.align,this.offsets)},getText:function(thumb){return String(thumb.value)}},0,['slidertip'],'component box container panel tip slidertip'.split(' '),{component:!0,box:!0,container:!0,panel:!0,tip:!0,slidertip:!0},['widget.slidertip'],
0,[Ext.slider,'Tip'],0);
Ext.cmd.derive('Ext.slider.Multi',Ext.form.field.Base,{alternateClassName:'Ext.slider.MultiSlider',vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,pageSize:10,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,useTips:!0,tipText:null,defaultBindProperty:'value',publishes:['value'],thumbPerValue:!1,ariaRole:'slider',focusable:!0,needArrowKeys:!0,tabIndex:0,skipLabelForAttribute:!0,focusCls:'slider-focus',childEls:['endEl','innerEl'],fieldSubTpl:['\x3cdiv id\x3d"{id}" data-ref\x3d"inputEl" {inputAttrTpl}',
' class\x3d"','x-','slider {fieldCls} {vertical}','{childElCls}"','\x3ctpl if\x3d"tabIdx !\x3d null"\x3e tabindex\x3d"{tabIdx}"\x3c/tpl\x3e','\x3ctpl foreach\x3d"ariaElAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e','\x3ctpl foreach\x3d"inputElAriaAttributes"\x3e {$}\x3d"{.}"\x3c/tpl\x3e','\x3e','\x3cdiv id\x3d"{cmpId}-endEl" data-ref\x3d"endEl" class\x3d"x-slider-end" role\x3d"presentation"\x3e','\x3cdiv id\x3d"{cmpId}-innerEl" data-ref\x3d"innerEl" class\x3d"x-slider-inner" role\x3d"presentation"\x3e',
'{%this.renderThumbs(out, values)%}','\x3c/div\x3e','\x3c/div\x3e','\x3c/div\x3e',{renderThumbs:function(out,values){values=values.$comp;for(var i=0,thumbs=values.thumbs,len=thumbs.length,thumb;i<len;i++)thumb=thumbs[i],thumb=thumb.getElConfig(),thumb.id=values.id+'-thumb-'+i,Ext.DomHelper.generateMarkup(thumb,out)},disableFormats:!0}],horizontalProp:'left',initValue:function(){var extValueFrom=Ext.valueFrom,thumbPerValue=this.thumbPerValue;this.originalValue=extValueFrom=extValueFrom(this.values,
[extValueFrom(this.value,extValueFrom(this.minValue,0))]);this.initializingValues=!0;this.updateValues(extValueFrom);this.initializingValues=!1;this.thumbPerValue=thumbPerValue},initComponent:function(){var me=this,tipText=me.tipText,p;me.thumbs=[];me.keyIncrement=Math.max(me.increment,me.keyIncrement);me.extraFieldBodyCls='x-slider-ct-'+(me.vertical?'vert':'horz');Ext.form.field.Base.prototype.initComponent.call(this);if(me.useTips){var tipPlug={};Ext.isObject(me.useTips)?Ext.apply(tipPlug,me.useTips):
tipText&&(tipPlug.getText=tipText);'string'===typeof(tipText=tipPlug.getText)&&(tipPlug.getText=function(thumb){return Ext.callback(tipText,null,[thumb],0,me,me)});var plugins=me.plugins=me.plugins||[];var pLen=plugins.length;for(p=0;p<pLen;p++)if(plugins[p].isSliderTip){var hasTip=!0;break}hasTip||me.plugins.push(new Ext.slider.Tip(tipPlug))}},addThumb:function(value){value=new Ext.slider.Thumb({ownerCt:this,value,slider:this,index:this.thumbs.length,constrain:this.constrainThumbs,disabled:!!this.readOnly});
this.thumbs.push(value);this.rendered&&value.render();return value},promoteThumb:function(topThumb){var thumbs=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),ln=thumbs.length,zIndex=1E4;thumbs[0]!==topThumb&&(Ext.Array.remove(thumbs,topThumb),thumbs.unshift(topThumb));for(topThumb=0;topThumb<ln;topThumb++)thumbs[topThumb].el.setStyle('zIndex',zIndex),zIndex-=1E3},getSubTplData:function(fieldData){var ariaAttr;fieldData=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,
fieldData),{$comp:this,vertical:this.vertical?'x-slider-vert':'x-slider-horz',minValue:this.minValue,maxValue:this.maxValue,value:this.value,tabIdx:this.tabIndex,childElCls:''});if(ariaAttr=fieldData.inputElAriaAttributes)ariaAttr['aria-labelledby']||(ariaAttr['aria-labelledby']=this.id+'-labelEl'),ariaAttr['aria-orientation']=this.vertical?'vertical':'horizontal',ariaAttr['aria-valuemin']=this.minValue,ariaAttr['aria-valuemax']=this.maxValue,ariaAttr['aria-valuenow']=this.value;return fieldData},
onRender:function(){var thumbs=this.thumbs,len=thumbs.length,i;(arguments.callee.$previous||Ext.form.field.Base.prototype.onRender).apply(this,arguments);for(i=0;i<len;i++){var thumb=thumbs[i];thumb.el=this.el.getById(this.id+'-thumb-'+i);thumb.onRender()}},initEvents:function(){Ext.form.field.Base.prototype.initEvents.call(this);this.mon(this.el,{scope:this,mousedown:this.onMouseDown,keydown:this.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(xy){var vertical=this.vertical,
sliderTrack=this.innerEl;if(vertical){var positionProperty='top';var trackLength=sliderTrack.getHeight()}else positionProperty=this.horizontalProp,trackLength=sliderTrack.getWidth();xy=this.transformTrackPoints(sliderTrack.translatePoints(xy));xy=Ext.Number.constrain(xy[positionProperty],0,trackLength);return vertical?trackLength-xy:xy},transformTrackPoints:Ext.identityFn,checkChange:Ext.emptyFn,onMouseDown:function(e){var thumbClicked=!1,i=0,thumbs=this.thumbs,len=thumbs.length;if(!this.disabled){for(;!thumbClicked&&
i<len;i++)thumbClicked=thumbClicked||e.target===thumbs[i].el.dom;this.focus();if(this.clickToChange&&!thumbClicked&&(e=this.getTrackpoint(e.getXY()),void 0!==e))this.onClickChange(e)}},onClickChange:function(trackPoint){var thumb=this.getNearest(trackPoint);thumb.disabled||(thumb=thumb.index,this.setValue(thumb,Ext.util.Format.round(this.reversePixelValue(trackPoint),this.decimalPrecision),void 0,!0))},getNearest:function(trackPoint){trackPoint=this.reversePixelValue(trackPoint);for(var nearestDistance=
this.getRange()+5,nearest=null,i=0,len=this.thumbs.length,thumb,value,dist;i<len;i++)thumb=this.thumbs[i],value=thumb.value,dist=Math.abs(value-trackPoint),Math.abs(dist)<=nearestDistance&&!(nearest&&nearest.value==value&&value>trackPoint&&thumb.index>nearest.index)&&(nearest=thumb,nearestDistance=dist);return nearest},onKeyDown:function(e){var ariaDom=this.ariaEl.dom;var k=e.getKey();if(this.disabled||1!==this.thumbs.length)k!==e.TAB&&e.preventDefault();else{switch(k){case e.UP:case e.RIGHT:var val=
e.ctrlKey?this.maxValue:this.getValue(0)+this.keyIncrement;break;case e.DOWN:case e.LEFT:val=e.ctrlKey?this.minValue:this.getValue(0)-this.keyIncrement;break;case e.HOME:val=this.minValue;break;case e.END:val=this.maxValue;break;case e.PAGE_UP:val=this.getValue(0)+this.pageSize;break;case e.PAGE_DOWN:val=this.getValue(0)-this.pageSize}void 0!==val&&(e.stopEvent(),val=this.normalizeValue(val),this.setValue(0,val,void 0,!0),ariaDom&&ariaDom.setAttribute('aria-valuenow',val))}},normalizeValue:function(value){value=
Ext.Number[this.zeroBasedSnapping?'snap':'snapInRange'](value,this.increment,this.minValue,this.maxValue);value=Ext.util.Format.round(value,this.decimalPrecision);return value=Ext.Number.constrain(value,this.minValue,this.maxValue)},setMinValue:function(val){var thumbs=this.thumbs,len=thumbs.length,ariaDom=this.ariaEl.dom,i;this.minValue=val;for(i=0;i<len;++i){var thumb=thumbs[i];thumb.value<val&&this.setValue(i,val,!1)}ariaDom&&ariaDom.setAttribute('aria-valuemin',val);this.syncThumbs()},setMaxValue:function(val){var thumbs=
this.thumbs,len=thumbs.length,ariaDom=this.ariaEl.dom,i;this.maxValue=val;for(i=0;i<len;++i){var thumb=thumbs[i];thumb.value>val&&this.setValue(i,val,!1)}ariaDom&&ariaDom.setAttribute('aria-valuemax',val);this.syncThumbs()},setValue:function(index,value,animate,changeComplete){var ariaDom=this.ariaEl.dom;if(Ext.isArray(index))return this.updateValues(index,value),this;var thumb=this.thumbs[index];value=this.normalizeValue(value);value!==thumb.value&&!1!==this.fireEvent('beforechange',this,value,thumb.value,
thumb,'update')&&(thumb.value=value,this.rendered&&(animate=Ext.isDefined(animate)?!1===animate?!1:animate:this.animate,thumb.move(this.calculateThumbPosition(value),animate),0===index&&ariaDom&&ariaDom.setAttribute('aria-valuenow',value),this.fireEvent('change',this,value,thumb,'update'),this.checkDirty(),changeComplete&&this.fireEvent('changecomplete',this,value,thumb)));return this},calculateThumbPosition:function(v){v=(v-this.minValue)/this.getRange()*100;isNaN(v)&&(v=0);return v},getRatio:function(){var innerEl=
this.innerEl;innerEl=this.vertical?innerEl.getHeight():innerEl.getWidth();var valueRange=this.getRange();return 0===valueRange?innerEl:innerEl/valueRange},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(pos){return this.minValue+pos/this.getRatio()},reversePercentageValue:function(pos){return this.minValue+this.getRange()*(pos/100)},onDisable:function(){var i=0,thumbs=this.thumbs,len=thumbs.length;for(Ext.form.field.Base.prototype.onDisable.call(this);i<len;i++){var thumb=
thumbs[i];var el=thumb.el;thumb.disable();Ext.isIE&&(thumb=el.getXY(),el.hide(),this.innerEl.addCls(this.disabledCls).dom.disabled=!0,this.thumbHolder||(this.thumbHolder=this.endEl.createChild({role:'presentation',cls:'x-slider-thumb '+this.disabledCls})),this.thumbHolder.show().setXY(thumb))}},onEnable:function(){var i=0,thumbs=this.thumbs,len=thumbs.length;for(Ext.form.field.Base.prototype.onEnable.call(this);i<len;i++){var thumb=thumbs[i];var el=thumb.el;thumb.enable();Ext.isIE&&(this.innerEl.removeCls(this.disabledCls).dom.disabled=
!1,this.thumbHolder&&this.thumbHolder.hide(),el.show(),this.syncThumbs())}},syncThumbs:function(){if(this.rendered)for(var thumbs=this.thumbs,length=thumbs.length,i=0;i<length;i++)thumbs[i].move(this.calculateThumbPosition(thumbs[i].value))},getValue:function(index){return Ext.isNumber(index)?this.thumbs[index].value:this.getValues()},getValues:function(){for(var values=[],i=0,thumbs=this.thumbs,len=thumbs.length;i<len;i++)values.push(thumbs[i].value);return values},getSubmitValue:function(){return this.disabled||
!this.submitValue?null:this.getValue()},reset:function(){var arr=[].concat(this.originalValue);this.updateValues(arr);this.clearInvalid();delete this.wasValid},updateValues:function(values,animate,supressEvents){var len=values.length,thumbs=this.thumbs,thumbLen=thumbs.length,newValues=[];supressEvents=this.initializingValues||supressEvents;var i;for(i=0;i<len;i++){var thumb=thumbs[i];var value=values[i];thumb?this.setValue(i,value,animate):newValues.push(value)}if(this.thumbPerValue||this.initializingValues){values=
newValues.length;len=thumbLen-len;for(i=0;i<values;i++)if(value=newValues[i],supressEvents||!1!==this.fireEvent('beforechange',this,value,null,null,'add'))thumb=this.addThumb(this.normalizeValue(value)),supressEvents||this.fireEvent('change',this,value,thumb,'add'),this.checkDirty();for(i=0;i<len;i++)if(thumb=thumbs[thumbs.length-1],supressEvents||!1!==this.fireEvent('beforechange',this,null,thumb.value,thumb,'remove'))this.removeThumb(thumb),supressEvents||this.fireEvent('change',this,null,null,
'remove'),this.checkDirty()}return this},removeThumb:function(thumb){var thumbs=this.thumbs;if(Ext.isNumber(thumb)){var index=thumb;thumb=thumbs[index]}else index=this.findThumbIndex(thumb);thumb&&Ext.isNumber(index)&&(thumbs.splice(index,1),this.thumbStack=Ext.Array.slice(this.thumbs),Ext.destroy(thumb))},findThumbIndex:function(thumb){var thumbs=this.thumbs,len=thumbs.length,index=null,i;for(i=0;i<len;i++)if(thumbs[i]===thumb){index=i;break}return index},setReadOnly:function(readOnly){var thumbs=
this.thumbs,len=thumbs.length,i=0;Ext.form.field.Base.prototype.setReadOnly.apply(this,arguments);for(readOnly=this.readOnly;i<len;++i)readOnly?thumbs[i].disable():thumbs[i].enable()},doDestroy:function(){this.rendered&&Ext.destroy(this.thumbs);this.thumbHolder&&(this.thumbHolder.destroy(),this.thumbHolder=null);Ext.form.field.Base.prototype.doDestroy.call(this)}},0,['multislider'],['component','box','field','multislider'],{component:!0,box:!0,field:!0,multislider:!0},['widget.multislider'],0,[Ext.slider,
'Multi',Ext.slider,'MultiSlider'],0);
Ext.cmd.derive('Ext.slider.Single',Ext.slider.Multi,{alternateClassName:['Ext.Slider','Ext.form.SliderField','Ext.slider.SingleSlider','Ext.slider.Slider'],initComponent:function(){this.publishOnComplete&&(this.valuePublishEvent='changecomplete');Ext.slider.Multi.prototype.initComponent.call(this)},publishOnComplete:!0,getValue:function(){return Ext.slider.Multi.prototype.getValue.call(this,0)},setValue:function(value,animate){var args=arguments,len=args.length;if(1===len||3>=len&&'number'!==typeof args[1])args=
Ext.toArray(args),args.unshift(0);return Ext.slider.Multi.prototype.setValue.apply(this,args)},getNearest:function(){return this.thumbs[0]}},0,['slider','sliderfield'],'component box field multislider slider sliderfield'.split(' '),{component:!0,box:!0,field:!0,multislider:!0,slider:!0,sliderfield:!0},['widget.slider','widget.sliderfield'],0,[Ext.slider,'Single',Ext,'Slider',Ext.form,'SliderField',Ext.slider,'SingleSlider',Ext.slider,'Slider'],0);
Ext.cmd.derive('Ext.tab.Tab',Ext.button.Button,{isTab:!0,baseCls:'x-tab',closeElOverCls:'x-tab-close-btn-over',closeElPressedCls:'x-tab-close-btn-pressed',config:{rotation:'default',tabPosition:'top'},closable:!0,closeText:'removable',active:!1,childEls:['closeEl'],scale:!1,ariaRole:'tab',tabIndex:-1,keyMap:{scope:'this',DELETE:'onDeleteKey'},_btnWrapCls:'x-tab-wrap',_btnCls:'x-tab-button',_baseIconCls:'x-tab-icon-el',_glyphCls:'x-tab-glyph',_innerCls:'x-tab-inner',_textCls:'x-tab-text',_noTextCls:'x-tab-no-text',
_hasIconCls:'x-tab-icon',_activeCls:'x-tab-active',_closableCls:'x-tab-closable',overCls:'x-tab-over',_pressedCls:'x-tab-pressed',_disabledCls:'x-tab-disabled',_rotateClasses:{1:'x-tab-rotate-right',2:'x-tab-rotate-left'},_positions:{top:{'default':'top',0:'top',1:'left',2:'right'},right:{'default':'top',0:'right',1:'top',2:'bottom'},bottom:{'default':'bottom',0:'bottom',1:'right',2:'left'},left:{'default':'top',0:'left',1:'bottom',2:'top'}},_defaultRotations:{top:0,right:1,bottom:0,left:2},initComponent:function(){this.card&&
this.setCard(this.card);Ext.button.Button.prototype.initComponent.apply(this,arguments)},getActualRotation:function(){var rotation=this.getRotation();return'default'!==rotation?rotation:this._defaultRotations[this.getTabPosition()]},updateRotation:function(){this.syncRotationAndPosition()},updateTabPosition:function(){this.syncRotationAndPosition()},syncRotationAndPosition:function(){var rotateClasses=this._rotateClasses,position=this.getTabPosition(),rotation=this.getActualRotation(),oldRotateCls=
this._rotateCls;rotateClasses=this._rotateCls=rotateClasses[rotation];var oldPositionCls=this._positionCls;position=this._positionCls=this._positions[position][rotation];oldRotateCls!==rotateClasses&&(oldRotateCls&&this.removeCls(oldRotateCls),rotateClasses&&this.addCls(rotateClasses));oldPositionCls!==position&&(oldPositionCls&&this.removeClsWithUI(oldPositionCls),position&&this.addClsWithUI(position),this.rendered&&this.updateFrame());this.rendered&&this.setElOrientation()},onAdded:function(container,
pos,instanced){Ext.button.Button.prototype.onAdded.call(this,container,pos,instanced);this.syncRotationAndPosition()},getTemplateArgs:function(){var result=Ext.button.Button.prototype.getTemplateArgs.call(this);result.closable=this.closable;result.closeText=this.closeText;return result},beforeRender:function(){var tabBar=this.up('tabbar'),tabPanel=this.up('tabpanel');Ext.button.Button.prototype.beforeRender.call(this);this.ariaRenderAttributes=this.ariaRenderAttributes||{};this.active?(this.ariaRenderAttributes['aria-selected']=
!0,this.addCls(this._activeCls)):this.ariaRenderAttributes['aria-selected']=!1;this.syncClosableCls();this.minWidth||(this.minWidth=tabBar?tabBar.minTabWidth:this.minWidth,!this.minWidth&&tabPanel&&(this.minWidth=tabPanel.minTabWidth),this.minWidth&&this.iconCls&&(this.minWidth+=25));this.maxWidth||(this.maxWidth=tabBar?tabBar.maxTabWidth:this.maxWidth,!this.maxWidth&&tabPanel&&(this.maxWidth=tabPanel.maxTabWidth))},onRender:function(){this.setElOrientation();Ext.button.Button.prototype.onRender.apply(this,
arguments);this.closable&&(this.closeEl.addClsOnOver(this.closeElOverCls),this.closeEl.addClsOnClick(this.closeElPressedCls))},setElOrientation:function(){var rotation=this.getActualRotation(),el=this.el;rotation?el.setVertical(1===rotation?90:270):el.setHorizontal()},enable:function(silent){Ext.button.Button.prototype.enable.apply(this,arguments);this.removeCls(this._disabledCls);return this},disable:function(silent){Ext.button.Button.prototype.disable.apply(this,arguments);this.addCls(this._disabledCls);
return this},setClosable:function(closable){closable=!arguments.length||!!closable;this.closable!==closable&&(this.closable=closable,this.card&&(this.card.closable=closable),this.syncClosableCls(),this.rendered&&(this.syncClosableElements(),this.updateLayout()))},syncClosableElements:function(){var closeEl=this.closeEl;this.closable?(closeEl||(closeEl=this.closeEl=this.btnWrap.insertSibling({tag:'span',id:this.id+'-closeEl',cls:this.baseCls+'-close-btn',html:this.closeText},'after')),closeEl.addClsOnOver(this.closeElOverCls),
closeEl.addClsOnClick(this.closeElPressedCls)):closeEl&&(closeEl.destroy(),delete this.closeEl)},syncClosableCls:function(){var closableCls=this._closableCls;this.closable?this.addCls(closableCls):this.removeCls(closableCls)},setCard:function(card){this.card=card;card.iconAlign&&this.setIconAlign(card.iconAlign);card.textAlign&&this.setTextAlign(card.textAlign);this.setText(this.title||card.title);this.setIconCls(this.iconCls||card.iconCls);this.setIcon(this.icon||card.icon);this.setGlyph(this.glyph||
card.glyph)},onCloseClick:function(){!1!==this.fireEvent('beforeclose',this)&&(this.tabBar?this.tabBar.closeTab(this):this.fireClose())},fireClose:function(){this.fireEvent('close',this)},onEnterKey:function(e){if(this.tabBar)return this.tabBar.onClick(e,this.el),e.stopEvent(),!1},onDeleteKey:function(e){if(this.closable)return this.onCloseClick(),e.stopEvent(),!1},beforeClick:function(isCloseClick){isCloseClick||this.focus()},activate:function(supressEvent){var card=this.card,ariaDom=this.ariaEl.dom;
this.active=!0;this.addCls(this._activeCls);ariaDom?ariaDom.setAttribute('aria-selected',!0):(this.ariaRenderAttributes=this.ariaRenderAttributes||{},this.ariaRenderAttributes['aria-selected']=!0);card&&(card.ariaEl.dom?card.ariaEl.dom.setAttribute('aria-expanded',!0):(card.ariaRenderAttributes=card.ariaRenderAttributes||{},card.ariaRenderAttributes['aria-expanded']=!0));!0!==supressEvent&&this.fireEvent('activate',this)},deactivate:function(supressEvent){var card=this.card,ariaDom=this.ariaEl.dom;
this.active=!1;this.removeCls(this._activeCls);ariaDom?ariaDom.setAttribute('aria-selected',!1):(this.ariaRenderAttributes=this.ariaRenderAttributes||{},this.ariaRenderAttributes['aria-selected']=!1);card&&(card.ariaEl.dom?card.ariaEl.dom.setAttribute('aria-expanded',!1):(card.ariaRenderAttributes=card.ariaRenderAttributes||{},card.ariaRenderAttributes['aria-expanded']=!1));!0!==supressEvent&&this.fireEvent('deactivate',this)},privates:{getFramingInfoCls:function(){return this.baseCls+'-'+this.ui+
'-'+this._positionCls},wrapPrimaryEl:function(dom){Ext.Button.superclass.wrapPrimaryEl.call(this,dom)}}},0,['tab'],['component','box','button','tab'],{component:!0,box:!0,button:!0,tab:!0},['widget.tab'],0,[Ext.tab,'Tab'],0);Ext.define('Ext.theme.material.tab.Tab',{override:'Ext.tab.Tab',ripple:{color:'default'}});
Ext.cmd.derive('Ext.tab.Bar',Ext.panel.Bar,{baseCls:'x-tab-bar',componentLayout:'body',isTabBar:!0,config:{tabRotation:'default',tabStretchMax:!0,activateOnFocus:!0},defaultType:'tab',plain:!1,ensureActiveVisibleOnChange:!0,ariaRole:'tablist',focusableContainer:!0,childEls:['body','strip'],_stripCls:'x-tab-bar-strip',_baseBodyCls:'x-tab-bar-body',renderTpl:'\x3ctpl if\x3d"hasTabGuard"\x3e{% this.renderTabGuard(out, values, \'before\'); %}\x3c/tpl\x3e\x3cdiv id\x3d"{id}-body" data-ref\x3d"body" role\x3d"presentation" class\x3d"{baseBodyCls} {baseBodyCls}-{ui} {bodyCls} {bodyTargetCls}{childElCls}"\x3ctpl if\x3d"bodyStyle"\x3e style\x3d"{bodyStyle}"\x3c/tpl\x3e\x3e{%this.renderContainer(out,values)%}\x3c/div\x3e\x3ctpl if\x3d"hasTabGuard"\x3e{% this.renderTabGuard(out, values, \'after\'); %}\x3c/tpl\x3e\x3cdiv id\x3d"{id}-strip" data-ref\x3d"strip" role\x3d"presentation" class\x3d"{stripCls} {stripCls}-{ui}{childElCls}"\x3e\x3c/div\x3e',
_reverseDockNames:{left:'right',right:'left'},_layoutAlign:{top:'end',right:'begin',bottom:'begin',left:'end'},initComponent:function(){var initialLayout=this.initialConfig.layout,initialAlign=initialLayout&&initialLayout.align;initialLayout=initialLayout&&initialLayout.overflowHandler;this.plain&&this.addCls(this.baseCls+'-plain');this.layout=Ext.apply({align:initialAlign||(this.getTabStretchMax()?'stretchmax':this._layoutAlign[this.dock]),overflowHandler:initialLayout||'scroller'},this.layout);
Ext.panel.Bar.prototype.initComponent.call(this);this.on({click:this.onClick,element:'el',scope:this})},ensureTabVisible:function(tab){var tabPanel=this.tabPanel,overflowHandler=this.layout.overflowHandler;this.rendered&&overflowHandler&&this.tooNarrow&&overflowHandler.scrollToItem&&(!tab&&0!==tab||tab.isTab||(Ext.isNumber(tab)?tab=this.items.getAt(tab):tab.isComponent&&tabPanel&&tabPanel.items.contains(tab)&&(tab=tab.tab)),tab||(tab=this.activeTab),tab&&overflowHandler.scrollToItem(tab))},initRenderData:function(){return Ext.apply(Ext.panel.Bar.prototype.initRenderData.call(this),
{bodyCls:this.bodyCls,baseBodyCls:this._baseBodyCls,bodyTargetCls:this.bodyTargetCls,stripCls:this._stripCls,dock:this.dock})},setDock:function(dock){var items=this.items,ownerCt=this.ownerCt,ln;if(items=items&&items.items){var i=0;for(ln=items.length;i<ln;i++){var item=items[i];item.isTab&&item.setTabPosition(dock)}}this.rendered&&(this.resetItemMargins(),ownerCt&&ownerCt.isHeader&&ownerCt.resetItemMargins(),this.needsScroll=!0);Ext.panel.Bar.prototype.setDock.call(this,dock)},updateTabRotation:function(tabRotation){var items=
this.items,ln;if(items=items&&items.items){var i=0;for(ln=items.length;i<ln;i++){var item=items[i];item.isTab&&item.setRotation(tabRotation)}}this.rendered&&(this.resetItemMargins(),this.needsScroll=!0,this.updateLayout())},onRender:function(){var overflowHandler=this.layout.overflowHandler;Ext.panel.Bar.prototype.onRender.call(this);if(Ext.isIE8&&this.vertical)this.el.on({mousemove:this.onMouseMove,scope:this});if(overflowHandler&&'menu'===overflowHandler.type)overflowHandler.menu.on('click','onOverflowMenuItemClick',
this)},afterLayout:function(){this.adjustTabPositions();Ext.panel.Bar.prototype.afterLayout.apply(this,arguments)},onAdd:function(tab,pos){var fn=this.onTabContentChange;this.ensureActiveVisibleOnChange&&(tab.barListeners=tab.on({scope:this,destroyable:!0,glyphchange:fn,iconchange:fn,textchange:fn}));Ext.panel.Bar.prototype.onAdd.call(this,tab,pos)},onAdded:function(container,pos,instanced){container.isHeader&&this.addCls(container.baseCls+'-'+container.ui+'-tab-bar');Ext.panel.Bar.prototype.onAdded.call(this,
container,pos,instanced)},onRemove:function(tab,destroying){this.ensureActiveVisibleOnChange&&(destroying||tab.barListeners.destroy(),tab.barListeners=null);tab===this.previousTab&&(this.previousTab=null);Ext.panel.Bar.prototype.onRemove.call(this,tab,destroying)},onRemoved:function(destroying){var ownerCt=this.ownerCt;ownerCt.isHeader&&this.removeCls(ownerCt.baseCls+'-'+ownerCt.ui+'-tab-bar');Ext.panel.Bar.prototype.onRemoved.call(this,destroying)},onTabContentChange:function(tab){tab===this.activeTab&&
this.ensureTabVisible(tab)},afterComponentLayout:function(width){var needsScroll=this.needsScroll,overflowHandler=this.layout.overflowHandler;Ext.panel.Bar.prototype.afterComponentLayout.apply(this,arguments);overflowHandler&&needsScroll&&this.tooNarrow&&overflowHandler.scrollToItem&&overflowHandler.scrollToItem(this.activeTab);delete this.needsScroll},onMouseMove:function(e){var overTab=this._overTab;if(!e.getTarget('.x-box-scroller')){var tab=this.getTabInfoFromPoint(e.getXY()).tab;tab!==overTab&&
(overTab&&overTab.rendered&&(overTab.onMouseLeave(e),this._overTab=null),tab?(tab.onMouseEnter(e),this._overTab=tab,tab.disabled||this.el.setStyle('cursor','pointer')):this.el.setStyle('cursor','default'))}},onMouseLeave:function(e){var overTab=this._overTab;if(overTab&&overTab.rendered)overTab.onMouseLeave(e)},getTabInfoFromPoint:function(xy){var tabs=this.items.items,length=tabs.length,innerCt=this.layout.innerCt,innerCtXY=innerCt.getXY();xy=new Ext.util.Point(xy[0],xy[1]);for(var i=0,lastBox,tabRegion,
close,closeXY,closeX,closeHeight,tabWidth,tab;i<length;i++)if(tab=tabs[i],(lastBox=tab.lastBox)&&tab.isTab&&(closeX=innerCtXY[0]+lastBox.x,closeXY=innerCtXY[1]-innerCt.dom.scrollTop+lastBox.y,tabWidth=lastBox.width,lastBox=lastBox.height,tabRegion=new Ext.util.Region(closeXY,closeX+tabWidth,closeXY+lastBox,closeX),tabRegion.contains(xy))){if(tabs=tab.closeEl)void 0===this._isTabReversed&&(this._isTabReversed=closeHeight=-1!==tab.btnWrap.dom.currentStyle.filter.indexOf('rotation\x3d2')),length=closeHeight?
this._reverseDockNames[this.dock]:this.dock,close=tabs.getWidth(),closeHeight=tabs.getHeight(),closeXY=this.getCloseXY(tabs,closeX,closeXY,tabWidth,lastBox,close,closeHeight,length),closeX=closeXY[0],closeXY=closeXY[1],closeX=new Ext.util.Region(closeXY,closeX+close,closeXY+closeHeight,closeX),close=closeX.contains(xy);break}return{tab,close}},getCloseXY:function(closeEl,tabX,tabY,tabWidth,tabHeight,closeWidth,closeHeight,direction){closeEl=closeEl.getXY();'right'===direction?(tabWidth=tabX+tabWidth-
(closeEl[1]-tabY+closeHeight),tabX=tabY+(closeEl[0]-tabX)):(tabWidth=tabX+(closeEl[1]-tabY),tabX=tabY+tabX+tabHeight-closeEl[0]-closeWidth);return[tabWidth,tabX]},closeTab:function(toClose){var card=toClose.card,tabPanel=this.tabPanel;if(card&&!1===card.fireEvent('beforeclose',card))return!1;var toActivate=this.findNextActivatable(toClose);Ext.suspendLayouts();toActivate&&(tabPanel?tabPanel.setActiveTab(toActivate.card):this.setActiveTab(toActivate),toActivate.focus());if(tabPanel&&card)if(delete toClose.ownerCt,
card.fireEvent('close',card),tabPanel.remove(card),card.ownerCt!==tabPanel)toClose.fireClose(),this.remove(toClose);else return toClose.ownerCt=this,Ext.resumeLayouts(!0),!1;Ext.resumeLayouts(!0)},findNextActivatable:function(toClose){var previousTab=this.previousTab,nextTab;toClose.active&&1<this.items.getCount()&&(nextTab=previousTab&&previousTab!==toClose&&!previousTab.disabled?previousTab:toClose.next('tab[disabled\x3dfalse]')||toClose.prev('tab[disabled\x3dfalse]'));return nextTab||this.activeTab},
setActiveTab:function(tab,initial){tab.disabled||tab===this.activeTab||(this.activeTab&&(this.activeTab.destroyed?this.previousTab=null:(this.previousTab=this.activeTab,this.activeTab.deactivate(),this.deactivateFocusable(this.activeTab))),tab.activate(),this.activateFocusable(tab),this.activeTab=tab,this.needsScroll=!0,initial||(this.fireEvent('change',this,tab,tab.card),this.updateLayout()))},privates:{adjustTabPositions:function(){var items=this.items.items,i=items.length,prop;if(!Ext.isIE8)for(prop=
this._getTabAdjustProp();i--;){var tab=items[i];var el=tab.el;var lastBox=tab.lastBox;var rotation=tab.isTab?tab.getActualRotation():0;1===rotation&&tab.isVisible()?el.setStyle(prop,lastBox.x+lastBox.width+'px'):2===rotation&&tab.isVisible()&&el.setStyle(prop,lastBox.x-lastBox.height+'px')}},applyTargetCls:function(targetCls){this.bodyTargetCls=targetCls},_getTabAdjustProp:function(){return'left'},getTargetEl:function(){return this.body||this.frameBody||this.el},onClick:function(e,target){if(!e.getTarget('.x-box-scroller')){if(Ext.isIE8&&
this.vertical){target=this.getTabInfoFromPoint(e.getXY());var tabEl=target.tab;target=target.close}else target=(tabEl=(tabEl=e.getTarget('.'+Ext.tab.Tab.prototype.baseCls))&&Ext.getCmp(tabEl.id))&&tabEl.closeEl&&target===tabEl.closeEl.dom;target&&e.preventDefault();if(tabEl&&tabEl.isDisabled&&!tabEl.isDisabled())if(tabEl.beforeClick(target),tabEl.closable&&target)tabEl.onCloseClick();else this.doActivateTab(tabEl)}},onOverflowMenuItemClick:function(menu,item,e,eOpts){menu=item&&item.masterComponent;
item=this.layout.overflowHandler;menu&&!menu.isDisabled()&&(this.doActivateTab(menu),item.menuTrigger&&item.menuTrigger.focus())},doActivateTab:function(tab){var tabPanel=this.tabPanel;tabPanel?tab.disabled||tabPanel.setActiveTab(tab.card):this.setActiveTab(tab)},onFocusableContainerFocus:function(e){(e=this.mixins.focusablecontainer.onFocusableContainerFocus.call(this,e))&&e.isTab&&this.doActivateTab(e)},onFocusableContainerFocusEnter:function(e){(e=this.mixins.focusablecontainer.onFocusableContainerFocusEnter.call(this,
e))&&e.isTab&&this.doActivateTab(e)},focusChild:function(child,forward){child=this.mixins.focusablecontainer.focusChild.call(this,child,forward);this.activateOnFocus&&child&&child.isTab&&this.doActivateTab(child)}}},0,['tabbar'],['component','box','container','tabbar'],{component:!0,box:!0,container:!0,tabbar:!0},['widget.tabbar'],0,[Ext.tab,'Bar'],0);
Ext.cmd.derive('Ext.tab.Panel',Ext.panel.Panel,{alternateClassName:['Ext.TabPanel'],config:{tabBar:void 0,tabPosition:'top',tabRotation:'default',tabStretchMax:!0},removePanelHeader:!0,plain:!1,itemCls:'x-tabpanel-child',minTabWidth:void 0,maxTabWidth:void 0,deferredRender:!0,_defaultTabRotation:{top:0,right:1,bottom:0,left:2},initComponent:function(){var activeTab=null!==this.activeTab?this.activeTab||0:null;var dockedItems=this.header;var tabBarHeaderPosition=this.tabBarHeaderPosition,tabBar=this.getTabBar();
this.layout=Ext.apply({type:'card',deferredRender:this.deferredRender,itemCls:this.itemCls,activeItem:activeTab},this.layout);if(null!=tabBarHeaderPosition){dockedItems=this.header=Ext.apply({},dockedItems);var headerItems=dockedItems.items=dockedItems.items?dockedItems.items.slice():[];dockedItems.itemPosition=tabBarHeaderPosition;headerItems.push(tabBar);dockedItems.hasTabBar=!0}else dockedItems=[].concat(this.dockedItems||[]),dockedItems.push(tabBar),this.dockedItems=dockedItems;Ext.panel.Panel.prototype.initComponent.apply(this,
arguments);(activeTab=this.activeTab=this.getComponent(activeTab))&&tabBar.setActiveTab(activeTab.tab,!0)},onRender:function(){var items=this.items.items,len=items.length,i;Ext.panel.Panel.prototype.onRender.apply(this,arguments);for(i=0;i<len;++i)items[i].getBind()},setActiveTab:function(card){if(!Ext.isObject(card)||card.isComponent)card=this.getComponent(card);var previous=this.getActiveTab();if(card){Ext.suspendLayouts();card.isComponent||(card=this.add(card));if(previous===card||!1===this.fireEvent('beforetabchange',
this,card,previous))return Ext.resumeLayouts(!0),previous;this.activeTab=card;this.layout.setActiveItem(card);(card=this.activeTab=this.layout.getActiveItem())&&card!==previous?(this.tabBar.setActiveTab(card.tab),Ext.resumeLayouts(!0),previous!==card&&this.fireEvent('tabchange',this,card,previous)):Ext.resumeLayouts(!0);return card}return previous},setActiveItem:function(item){return this.setActiveTab(item)},getActiveTab:function(){var result=this.getComponent(this.activeTab);result&&-1!==this.items.indexOf(result)?
this.activeTab=result:this.activeTab=void 0;return this.activeTab},applyTabBar:function(tabBar){var dock=null!=this.tabBarHeaderPosition?this.getHeaderPosition():this.getTabPosition();return new Ext.tab.Bar(Ext.apply({ui:this.ui,dock,tabRotation:this.getTabRotation(),vertical:'left'===dock||'right'===dock,plain:this.plain,tabStretchMax:this.getTabStretchMax(),tabPanel:this},tabBar))},updateHeaderPosition:function(headerPosition,oldHeaderPosition){var tabBar=this.getTabBar();tabBar&&null!=this.tabBarHeaderPosition&&
tabBar.setDock(headerPosition);Ext.panel.Panel.prototype.updateHeaderPosition.call(this,headerPosition,oldHeaderPosition)},updateTabPosition:function(tabPosition){var tabBar=this.getTabBar();tabBar&&null==this.tabBarHeaderPosition&&tabBar.setDock(tabPosition)},updateTabRotation:function(tabRotation){var tabBar=this.getTabBar();tabBar&&tabBar.setTabRotation(tabRotation)},onAdd:function(item,index){var cfg=Ext.apply({},item.tabConfig),tabBar=this.getTabBar();tabBar={xtype:'tab',title:item.title,icon:item.icon,
iconCls:item.iconCls,glyph:item.glyph,ui:tabBar.ui,card:item,disabled:item.disabled,closable:item.closable,hidden:item.hidden&&!item.hiddenByLayout,tooltip:item.tooltip,tabBar,tabPosition:tabBar.dock,rotation:tabBar.getTabRotation()};void 0!==item.closeText&&(tabBar.closeText=item.closeText);cfg=Ext.applyIf(cfg,tabBar);item.tab=this.tabBar.insert(index,cfg);item.ariaRole='tabpanel';(index=item.ariaEl.dom)?index.setAttribute('aria-labelledby',item.tab.id):(item.ariaRenderAttributes=item.ariaRenderAttributes||
{},item.ariaRenderAttributes['aria-labelledby']=item.tab.id);item.on({scope:this,enable:this.onItemEnable,disable:this.onItemDisable,beforeshow:this.onItemBeforeShow,iconchange:this.onItemIconChange,iconclschange:this.onItemIconClsChange,glyphchange:this.onItemGlyphChange,titlechange:this.onItemTitleChange});item.isPanel&&(this.removePanelHeader&&(item.rendered?item.header&&item.header.hide():item.header=!1),item.isPanel&&this.border&&item.setBorder(!1));this.rendered&&item.getBind();this.rendered&&
this.loader&&void 0===this.activeTab&&null!==this.layout.activeItem&&this.setActiveTab(0)},onMove:function(item,fromIdx,toIdx){var tabBar=this.getTabBar();Ext.panel.Panel.prototype.onMove.call(this,item,fromIdx,toIdx);tabBar.items.indexOf(item.tab)!==toIdx&&tabBar.move(item.tab,toIdx)},onItemEnable:function(item){item.tab.enable()},onItemDisable:function(item){item.tab.disable()},onItemBeforeShow:function(item){if(item!==this.activeTab)return this.setActiveTab(item),!1},onItemGlyphChange:function(item,
newGlyph){item.tab.setGlyph(newGlyph)},onItemIconChange:function(item,newIcon){item.tab.setIcon(newIcon)},onItemIconClsChange:function(item,newIconCls){item.tab.setIconCls(newIconCls)},onItemTitleChange:function(item,newTitle){item.tab.setText(newTitle)},onRemove:function(item,destroying){item.un({scope:this,enable:this.onItemEnable,disable:this.onItemDisable,beforeshow:this.onItemBeforeShow,iconchange:this.onItemIconChange,iconclschange:this.onItemIconClsChange,glyphchange:this.onItemGlyphChange,
titlechange:this.onItemTitleChange});item.tab&&!this.destroying&&item.tab.ownerCt===this.tabBar&&this.tabBar.remove(item.tab)},enable:function(){var activeTab=null!==this.activeTab?this.activeTab||0:null,wasDisabled=this.disabled;Ext.panel.Panel.prototype.enable.apply(this,arguments);wasDisabled&&(activeTab=activeTab.isComponent?activeTab:this.getComponent(activeTab))&&this.getTabBar().setActiveTab(activeTab.tab);return this},privates:{doRemove:function(item,autoDestroy){var toActivate;Ext.suspendLayouts();
this.removingAll||this.destroying||1===this.items.getCount()?this.activeTab=null:item.tab&&-1!==(toActivate=this.tabBar.items.indexOf(this.tabBar.findNextActivatable(item.tab)))&&this.setActiveTab(toActivate);Ext.panel.Panel.prototype.doRemove.call(this,item,autoDestroy);Ext.resumeLayouts();item.tab&&(delete item.tab.card,delete item.tab)}}},0,['tabpanel'],['component','box','container','panel','tabpanel'],{component:!0,box:!0,container:!0,panel:!0,tabpanel:!0},['widget.tabpanel'],0,[Ext.tab,'Panel',
Ext,'TabPanel'],0);
Ext.cmd.derive('Ext.toolbar.Breadcrumb',Ext.container.Container,{isBreadcrumb:!0,baseCls:'x-breadcrumb',layout:{type:'hbox',align:'middle'},config:{buttonUI:'plain-toolbar',displayField:'text',overflowHandler:null,showIcons:null,showMenuIcons:null,store:null,useSplitButtons:!0},renderConfig:{selection:'root'},publishes:['selection'],twoWayBindable:['selection'],_breadcrumbCls:'x-breadcrumb',_btnCls:'x-breadcrumb-btn',_folderIconCls:'x-breadcrumb-icon-folder',_leafIconCls:'x-breadcrumb-icon-leaf',focusableContainer:!0,
initComponent:function(){var layout=this.layout,overflowHandler=this.getOverflowHandler();'string'===typeof layout&&(layout={type:layout});overflowHandler&&(layout.overflowHandler=overflowHandler);this.layout=layout;this.defaultButtonUI=this.getButtonUI();this._buttons=[];this.addCls([this._breadcrumbCls,this._breadcrumbCls+'-'+this.ui]);Ext.container.Container.prototype.initComponent.call(this)},doDestroy:function(){Ext.destroy(this._buttons);this.setStore(null);Ext.container.Container.prototype.doDestroy.call(this)},
onRemove:function(component,destroying){Ext.container.Container.prototype.onRemove.call(this,component,destroying);delete component._breadcrumbNodeId},afterComponentLayout:function(){var overflowHandler=this.layout.overflowHandler;Ext.container.Container.prototype.afterComponentLayout.apply(this,arguments);overflowHandler&&this.tooNarrow&&overflowHandler.scrollToItem&&overflowHandler.scrollToItem(this.getSelection().get('depth'))},applySelection:function(node){return node=this.getStore()?'root'===
node?this.getStore().getRoot():node:null},updateSelection:function(node,prevNode){var buttons=this._buttons,itemCount=Ext.ComponentQuery.query('[isCrumb]',this.getRefItems()).length,needsSync=this._needsSync,displayField=this.getDisplayField(),i;Ext.suspendLayouts();if(node){var currentNode=node;var depth=node.get('depth');var newItemCount=depth+1;for(i=depth;currentNode;){var showIcons=currentNode.getId();var button=buttons[i];if(!needsSync&&button&&button._breadcrumbNodeId===showIcons)break;showIcons=
currentNode.get(displayField);button?button.setText(showIcons):button=buttons[i]=Ext.create({isCrumb:!0,xtype:this.getUseSplitButtons()?'splitbutton':'button',ui:this.getButtonUI(),componentCls:this._btnCls+' '+this._btnCls+'-'+this.ui,separateArrowStyling:!1,text:showIcons,showEmptyMenu:!0,menu:{listeners:{click:'_onMenuClick',beforeshow:'_onMenuBeforeShow',scope:this}},handler:'_onButtonClick',scope:this});showIcons=this.getShowIcons();if(!1!==showIcons){var glyph=currentNode.get('glyph');var icon=
currentNode.get('icon');var iconCls=currentNode.get('iconCls');glyph?(button.setGlyph(glyph),button.setIcon(null),button.setIconCls(iconCls)):icon?(button.setGlyph(null),button.setIconCls(null),button.setIcon(icon)):iconCls?(button.setGlyph(null),button.setIcon(null),button.setIconCls(iconCls)):showIcons?(button.setGlyph(null),button.setIcon(null),button.setIconCls((currentNode.isLeaf()?this._leafIconCls:this._folderIconCls)+'-'+this.ui)):(button.setGlyph(null),button.setIcon(null),button.setIconCls(null))}button.setArrowVisible(currentNode.hasChildNodes());
button._breadcrumbNodeId=currentNode.getId();currentNode=currentNode.parentNode;i--}if(newItemCount>itemCount)buttons=buttons.slice(itemCount,depth+1),this.add(buttons);else for(i=itemCount-1;i>=newItemCount;i--)this.remove(buttons[i],!1)}else for(i=0;i<buttons.length;i++)this.remove(buttons[i],!1);Ext.resumeLayouts(!0);this.fireEvent('selectionchange',this,node,prevNode);this._shouldFireChangeEvent&&this.fireEvent('change',this,node,prevNode);this._shouldFireChangeEvent=!0;this._needsSync=!1},applyUseSplitButtons:function(useSplitButtons,
oldUseSplitButtons){this.rendered&&useSplitButtons!==oldUseSplitButtons&&Ext.raise("Cannot reconfigure 'useSplitButtons' config of Ext.toolbar.Breadcrumb after initial render");return useSplitButtons},applyStore:function(store){store&&(store=Ext.data.StoreManager.lookup(store));return store},updateStore:function(store,oldStore){this._needsSync=!0;store&&!this.isConfiguring&&this.setSelection(store.getRoot())},privates:{_onButtonClick:function(button,e){this.getUseSplitButtons()&&this.setSelection(this.getStore().getNodeById(button._breadcrumbNodeId))},
_onMenuClick:function(menu,item,e){item&&(item=this.getStore().getNodeById(item._breadcrumbNodeId),this.setSelection(item),(item=this._buttons[item.getDepth()])&&item.focus())},_onMenuBeforeShow:function(menu){var node=this.getStore().getNodeById(menu.ownerCmp._breadcrumbNodeId),displayField=this.getDisplayField(),showMenuIcons=this.getShowMenuIcons(),ln;if(node.hasChildNodes()){node=node.childNodes;var items=[];var i=0;for(ln=node.length;i<ln;i++){var child=node[i];var item={text:child.get(displayField),
_breadcrumbNodeId:child.getId()};if(!1!==showMenuIcons){var glyph=child.get('glyph');var icon=child.get('icon');var iconCls=child.get('iconCls');glyph?(item.glyph=glyph,item.iconCls=iconCls):icon?item.icon=icon:iconCls?item.iconCls=iconCls:showMenuIcons&&(item.iconCls=(child.isLeaf()?this._leafIconCls:this._folderIconCls)+'-'+this.ui)}items.push(item)}menu.removeAll();menu.add(items)}else return!1}}},0,['breadcrumb'],['component','box','container','breadcrumb'],{component:!0,box:!0,container:!0,breadcrumb:!0},
['widget.breadcrumb'],0,[Ext.toolbar,'Breadcrumb'],0);Ext.cmd.derive('Ext.toolbar.Fill',Ext.Component,{alternateClassName:'Ext.Toolbar.Fill',ariaRole:'presentation',isFill:!0,flex:1},0,['tbfill'],['component','box','tbfill'],{component:!0,box:!0,tbfill:!0},['widget.tbfill'],0,[Ext.toolbar,'Fill',Ext.Toolbar,'Fill'],0);
Ext.cmd.derive('Ext.toolbar.Spacer',Ext.Component,{alternateClassName:'Ext.Toolbar.Spacer',baseCls:'x-toolbar-spacer',ariaRole:'presentation'},0,['tbspacer'],['component','box','tbspacer'],{component:!0,box:!0,tbspacer:!0},['widget.tbspacer'],0,[Ext.toolbar,'Spacer',Ext.Toolbar,'Spacer'],0);
Ext.cmd.derive('Ext.tree.Column',Ext.grid.column.Column,{tdCls:'x-grid-cell-treecolumn',autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:'x-tree-icon',checkboxCls:'x-tree-checkbox',elbowCls:'x-tree-elbow',expanderCls:'x-tree-expander',textCls:'x-tree-node-text',innerCls:'x-grid-cell-inner-treecolumn',customIconCls:'x-tree-icon-custom',isTreeColumn:!0,cellTpl:'\x3ctpl for\x3d"lines"\x3e;\x3cdiv class\x3d"{parent.childCls} {parent.elbowCls}-img ;{parent.elbowCls}-\x3ctpl if\x3d"."\x3eline\x3ctpl else\x3eempty\x3c/tpl\x3e" role\x3d"presentation"\x3e\x3c/div\x3e;\x3c/tpl\x3e;\x3cdiv class\x3d"{childCls} {elbowCls}-img {elbowCls};\x3ctpl if\x3d"isLast"\x3e-end\x3c/tpl\x3e\x3ctpl if\x3d"expandable"\x3e-plus {expanderCls}\x3c/tpl\x3e" role\x3d"presentation"\x3e\x3c/div\x3e;\x3ctpl if\x3d"checked !\x3d\x3d null"\x3e;\x3cdiv role\x3d"button" {ariaCellCheckboxAttr}; class\x3d"{childCls} {checkboxCls}\x3ctpl if\x3d"checked"\x3e {checkboxCls}-checked\x3c/tpl\x3e"\x3e\x3c/div\x3e;\x3c/tpl\x3e;\x3ctpl if\x3d"glyph"\x3e;\x3cspan class\x3d"{baseIconCls}" ;\x3ctpl if\x3d"glyphFontFamily"\x3e;style\x3d"font-family:{glyphFontFamily}";\x3c/tpl\x3e;\x3e{glyph}\x3c/span\x3e;\x3ctpl else\x3e;\x3ctpl if\x3d"icon"\x3e;\x3cimg src\x3d"{blankUrl}";\x3ctpl else\x3e;\x3cdiv;\x3c/tpl\x3e; role\x3d"presentation" class\x3d"{childCls} {baseIconCls} {customIconCls} ;{baseIconCls}-\x3ctpl if\x3d"leaf"\x3eleaf\x3ctpl else\x3e\x3ctpl if\x3d"expanded"\x3eparent-expanded\x3ctpl else\x3eparent\x3c/tpl\x3e\x3c/tpl\x3e {iconCls}" ;\x3ctpl if\x3d"icon"\x3estyle\x3d"background-image:url({icon})"/\x3e\x3ctpl else\x3e\x3e\x3c/div\x3e\x3c/tpl\x3e;\x3c/tpl\x3e;\x3ctpl if\x3d"href"\x3e;\x3ca href\x3d"{href}" role\x3d"link" target\x3d"{hrefTarget}" class\x3d"{textCls} {childCls}"\x3e{value}\x3c/a\x3e;\x3ctpl else\x3e;\x3cspan class\x3d"{textCls} {childCls}"\x3e{value}\x3c/span\x3e;\x3c/tpl\x3e'.split(';'),
uiFields:{checked:1,icon:1,iconCls:1},rowFields:{expanded:1,loaded:1,expandable:1,leaf:1,loading:1,qtip:1,qtitle:1,cls:1},initComponent:function(){this.rendererScope=this.scope;this.setupRenderer();this.innerRenderer=this.renderer;this.renderer=this.treeRenderer;Ext.grid.column.Column.prototype.initComponent.call(this);this.scope=this},treeRenderer:function(value,metaData,record,rowIdx,colIdx,store,view){var cls=record.get('cls');metaData&&cls&&(metaData.tdCls+=' '+cls);value=this.initTemplateRendererData(value,
metaData,record,rowIdx,colIdx,store,view);return this.lookupTpl('cellTpl').apply(value)},initTemplateRendererData:function(value,metaData,record,rowIdx,colIdx,store,view){for(var innerRenderer=this.innerRenderer,data=record.data,parent=record.parentNode,rootVisible=view.rootVisible,lines=[],parentData,glyphFontFamily;parent&&(rootVisible||0<parent.data.depth);)parentData=parent.data,lines[rootVisible?parentData.depth:parentData.depth-1]=parent.isLastVisible()?0:1,parent=parent.parentNode;metaData?
metaData.iconCls=metaData.icon=metaData.glyph=null:metaData={};value=innerRenderer?innerRenderer.apply(this.rendererScope,arguments):value;if(innerRenderer=metaData.glyph||data.glyph)innerRenderer=Ext.Glyph.fly(innerRenderer),glyphFontFamily=innerRenderer.fontFamily,innerRenderer=innerRenderer.character;return{record,baseIconCls:this.iconCls,customIconCls:data.icon||data.iconCls?this.customIconCls:'',glyph:innerRenderer,glyphFontFamily,iconCls:metaData.iconCls||data.iconCls,icon:metaData.icon||data.icon,
checkboxCls:this.checkboxCls,checked:data.checked,elbowCls:this.elbowCls,expanderCls:this.expanderCls,textCls:this.textCls,leaf:data.leaf,expandable:record.isExpandable(),expanded:data.expanded,isLast:record.isLastVisible(),blankUrl:Ext.BLANK_IMAGE_URL,href:data.href,hrefTarget:data.hrefTarget,lines,metaData,childCls:this.getChildCls?this.getChildCls()+' ':'',value:value||store.defaultRootText}},shouldUpdateCell:function(record,changedFieldNames){var i=0,len;if(this.hasCustomRenderer)return 1;if(changedFieldNames)for(len=
changedFieldNames.length;i<len;++i){var field=changedFieldNames[i];if(this.rowFields[field])return 1;if(this.uiFields[field])return 2}return Ext.grid.column.Column.prototype.shouldUpdateCell.call(this,record,changedFieldNames)},privates:{shouldFlagCustomRenderer:function(){return this.hasCustomRenderer||this.innerRenderer&&1<this.innerRenderer.length}}},0,['treecolumn'],'component box container headercontainer gridcolumn treecolumn'.split(' '),{component:!0,box:!0,container:!0,headercontainer:!0,
gridcolumn:!0,treecolumn:!0},['widget.treecolumn'],0,[Ext.tree,'Column'],0);
Ext.cmd.derive('Ext.tree.NavigationModel',Ext.grid.NavigationModel,{initKeyNav:function(view){var columns=this.view.ownerGrid.columns;this.isTreeGrid=columns&&1<columns.length;Ext.grid.NavigationModel.prototype.initKeyNav.call(this,view);this.view.grid.on({columnschanged:this.onColumnsChanged,scope:this})},onKeyNavCreate:function(keyNav){var fn=this.onAsterisk;keyNav.map.addBinding([{key:'8',shift:!0,handler:fn,scope:this},{key:Ext.event.Event.NUM_MULTIPLY,handler:fn,scope:this}])},onColumnsChanged:function(){this.isTreeGrid=
1<this.view.ownerGrid.getVisibleColumnManager().getColumns().length},onCellClick:function(view,cell,cellIndex,record,row,recordIndex,clickEvent){Ext.grid.NavigationModel.prototype.onCellClick.call(this,view,cell,cellIndex,record,row,recordIndex,clickEvent);return!clickEvent.nodeToggled},onKeyLeft:function(keyEvent){var view=keyEvent.view,record=this.record;if(this.isTreeGrid&&!keyEvent.ctrlKey)return Ext.grid.NavigationModel.prototype.onKeyLeft.call(this,keyEvent);keyEvent.position.column.isTreeColumn&&
record.isExpanded()?view.collapse(record):(record=record.parentNode,!record||record.isRoot()&&!view.rootVisible||this.setPosition(record,null,keyEvent))},onKeyRight:function(keyEvent){var record=this.record;if(this.isTreeGrid&&!keyEvent.ctrlKey)return Ext.grid.NavigationModel.prototype.onKeyRight.call(this,keyEvent);record.isLeaf()||(keyEvent.position.column.isTreeColumn&&!record.isExpanded()?keyEvent.view.expand(record):record.isExpanded()&&(record=record.childNodes[0])&&this.setPosition(record))},
onKeyEnter:function(keyEvent){null!=this.record.data.checked?this.toggleCheck(keyEvent):Ext.grid.NavigationModel.prototype.onKeyEnter.call(this,keyEvent)},onKeySpace:function(keyEvent){null!=this.record.data.checked?this.toggleCheck(keyEvent):Ext.grid.NavigationModel.prototype.onKeySpace.call(this,keyEvent)},toggleCheck:function(keyEvent){this.view.onCheckChange(keyEvent)},onAsterisk:function(keyEvent){this.view.ownerGrid.expandAll()}},0,0,0,0,['view.navigation.tree'],0,[Ext.tree,'NavigationModel'],
0);
Ext.cmd.derive('Ext.tree.View',Ext.view.Table,{config:{selectionModel:{type:'treemodel'}},isTreeView:!0,loadingCls:'x-grid-tree-loading',expandedCls:'x-grid-tree-node-expanded',leafCls:'x-grid-tree-node-leaf',expanderSelector:'.x-tree-expander',checkboxSelector:'.x-tree-checkbox',expanderIconOverCls:'x-tree-expander-over',nodeAnimWrapCls:'x-tree-animator-wrap',loadMask:!1,rootVisible:!0,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,treeRowTpl:['{%','this.processRowValues(values);','this.nextTpl.applyOut(values, out, parent);',
'%}',{priority:10,processRowValues:function(rowValues){var record=rowValues.record,view=rowValues.view;rowValues.rowAttr['data-qtip']=record.get('qtip')||'';rowValues.rowAttr['data-qtitle']=record.get('qtitle')||'';rowValues.rowAttr['aria-level']=record.getDepth()+1;record.isLeaf()?rowValues.rowClasses.push(view.leafCls):record.isExpanded()?(rowValues.rowClasses.push(view.expandedCls),rowValues.rowAttr['aria-expanded']=!0):rowValues.rowAttr['aria-expanded']=!1;record.isLoading()&&rowValues.rowClasses.push(view.loadingCls)}}],
initComponent:function(){this.bufferedRenderer?this.animate=!1:void 0===this.initialConfig.animate&&(this.animate=Ext.enableFx);this.store=this.panel.getStore();this.onRootChange(this.store.getRoot());this.animQueue={};this.animWraps={};Ext.view.Table.prototype.initComponent.call(this);this.store.setRootVisible(this.rootVisible);this.addRowTpl(this.lookupTpl('treeRowTpl'))},onFillComplete:function(treeStore,fillRoot,newNodes){treeStore=this.store.indexOf(newNodes[0]);fillRoot.triggerUIUpdate();newNodes.length&&
-1!==treeStore&&(this.onAdd(this.store,newNodes,treeStore),this.refreshPartner())},refreshPartner:function(){var partner=this.lockingPartner;partner&&partner.refresh()},afterRender:function(){Ext.view.Table.prototype.afterRender.call(this);this.el.on({scope:this,delegate:this.expanderSelector,mouseover:this.onExpanderMouseOver,mouseout:this.onExpanderMouseOut})},processUIEvent:function(e){return e.getTarget('.'+this.nodeAnimWrapCls,this.el)?!1:Ext.view.Table.prototype.processUIEvent.call(this,e)},
setRootNode:function(node){this.node=node},getChecked:function(){var checked=[];this.node.cascade(function(rec){rec.get('checked')&&checked.push(rec)});return checked},isItemChecked:function(rec){return rec.get('checked')},createAnimWrap:function(record,index){index=this.getNode(record);var tmpEl=Ext.fly(index).insertSibling({role:'presentation',tag:'div',cls:this.nodeAnimWrapCls},'after');return{record,node:index,el:tmpEl,expanding:!1,collapsing:!1,animateEl:tmpEl,targetEl:tmpEl}},getAnimWrap:function(parent,
bubble){if(!this.animate)return null;var wraps=this.animWraps,wrap=wraps[parent.internalId];if(!1!==bubble)for(;!wrap&&parent;)(parent=parent.parentNode)&&(wrap=wraps[parent.internalId]);return wrap},doAdd:function(records,index){var parent=records[0].parentNode,all=this.all,animWrap=this.getAnimWrap(parent);if(!animWrap||!animWrap.expanding)return Ext.view.Table.prototype.doAdd.call(this,records,index);records=this.bufferRender(records,index,!0);var children=records.children;parent=animWrap.record;
animWrap=animWrap.targetEl;var childNodes=animWrap.dom.childNodes;var len=childNodes.length;parent=index-this.indexInStore(parent)-1;!len||parent>=len?animWrap.appendChild(records.fragment,!0):Ext.fly(childNodes[parent]).insertSibling(children,'before',!0);all.insert(index,children);return children},onRemove:function(ds,records,index){if(this.viewReady){var empty=0===this.store.getCount();if(this.bufferedRenderer)return Ext.view.Table.prototype.onRemove.call(this,ds,records,index);ds=this.all.slice(index,
index+records.length);if(empty)this.refresh();else{empty=records.length-1;for(index+=empty;0<=empty;--empty,--index)this.doRemove(records[empty],index);this.refreshSizePending=!0}this.fireItemMutationEvent('itemremove',records,index,ds,this)}},doRemove:function(record,index){var all=this.all,animWrap=this.getAnimWrap(record),item=all.item(index);item=item?item.dom:null;if(!item||!animWrap||!animWrap.collapsing)return Ext.view.Table.prototype.doRemove.call(this,record,index);animWrap.targetEl.dom.insertBefore(item,
animWrap.targetEl.dom.firstChild);all.removeElement(index)},onBeforeExpand:function(parent,records,index){this.rendered&&this.all.getCount()&&this.animate&&this.getNode(parent)&&((records=this.getAnimWrap(parent,!1))?records.collapsing&&records.targetEl.select(this.itemSelector).destroy():(records=this.animWraps[parent.internalId]=this.createAnimWrap(parent),records.animateEl.setHeight(0)),records.expanding=!0,records.collapsing=!1)},onExpand:function(parent){var me=this,queue=me.animQueue,id=parent.getId(),
node=me.getNode(parent),index=node?me.indexOf(node):-1,animWrap;me.singleExpand&&me.ensureSingleExpand(parent);if(-1!==index)if(animWrap=me.getAnimWrap(parent,!1)){var animateEl=animWrap.animateEl;var targetEl=animWrap.targetEl;animateEl.stopAnimation();queue[id]=!0;Ext.on('idle',function(){animateEl.dom.style.height='0px'},null,{single:!0});animateEl.animate({from:{height:0},to:{height:targetEl.dom.scrollHeight},duration:me.expandDuration,listeners:{afteranimate:function(){var items=targetEl.dom.childNodes,
activeEl=Ext.Element.getActiveElement();items.length&&(targetEl.contains(activeEl)||(activeEl=null),animWrap.el.insertSibling(items,'before',!0),activeEl&&Ext.fly(activeEl).focus());animWrap.el.destroy();queue[id]=null;me.destroyed||(me.animWraps[animWrap.record.internalId]=null)}},callback:function(){parent.isExpandingOrCollapsing=!1;me.destroyed||me.refreshSize(!0);me.fireEvent('afteritemexpand',parent,index,node)}})}else parent.isExpandingOrCollapsing=!1,me.fireEvent('afteritemexpand',parent,index,
node)},onBeforeCollapse:function(parent,records,index,callback,scope){this.rendered&&this.all.getCount()&&(this.animate?parent.getTreeStore().isVisible(parent)&&((records=this.getAnimWrap(parent))?records.expanding&&records.targetEl.select(this.itemSelector).destroy():records=this.animWraps[parent.internalId]=this.createAnimWrap(parent,index),records.expanding=!1,records.collapsing=!0,records.callback=callback,records.scope=scope):(this.onCollapseCallback=callback,this.onCollapseScope=scope))},onCollapse:function(parent){var me=
this,queue=me.animQueue,id=parent.getId(),node=me.getNode(parent),index=node?me.indexOf(node):-1,animWrap=me.getAnimWrap(parent);if(me.all.getCount()&&parent.isVisible())if(animWrap){var animateEl=animWrap.animateEl;queue[id]=!0;animateEl.stopAnimation();animateEl.animate({to:{height:0},duration:me.collapseDuration,listeners:{afteranimate:function(){animWrap.el.destroy();queue[id]=null;me.destroyed||(me.animWraps[animWrap.record.internalId]=null)}},callback:function(){parent.isExpandingOrCollapsing=
!1;me.destroyed||me.refreshSize(!0);me.fireEvent('afteritemcollapse',parent,index,node);Ext.callback(animWrap.callback,animWrap.scope);animWrap.callback=animWrap.scope=null}})}else parent.isExpandingOrCollapsing=!1,me.fireEvent('afteritemcollapse',parent,index,node),Ext.callback(me.onCollapseCallback,me.onCollapseScope),me.onCollapseCallback=me.onCollapseScope=null},isAnimating:function(node){return!!this.animQueue[node.getId()]},expand:function(record,deep,callback,scope){var doAnimate=!!this.animate;
if(!doAnimate||!record.isExpandingOrCollapsing)return record.isLeaf()||(record.isExpandingOrCollapsing=doAnimate),Ext.suspendLayouts(),record=record.expand(deep,callback,scope),Ext.resumeLayouts(!0),record},collapse:function(record,deep,callback,scope){var doAnimate=!!this.animate;if(!doAnimate||!record.isExpandingOrCollapsing)return record.isLeaf()||(record.isExpandingOrCollapsing=doAnimate),record.collapse(deep,callback,scope)},toggle:function(record,deep,callback,scope){record.isExpanded()?this.collapse(record,
deep,callback,scope):this.expand(record,deep,callback,scope)},onItemDblClick:function(record,item,index,e){var editingPlugin=this.editingPlugin;Ext.view.Table.prototype.onItemDblClick.call(this,record,item,index,e);!this.toggleOnDblClick||!record.isExpandable()||editingPlugin&&2===editingPlugin.clicksToEdit||this.toggle(record)},onCellClick:function(cell,cellIndex,record,row,rowIndex,e){var column=e.position.column;if(column.isTreeColumn)return e.getTarget(this.checkboxSelector,cell)&&null!=record.get('checked')?
(this.onCheckChange(e),column.stopSelection&&(e.stopSelection=!0)):e.getTarget(this.expanderSelector,cell)&&record.isExpandable()&&(this.getNavigationModel().setPosition(e.position),this.toggle(record,e.ctrlKey),e.nodeToggled=!0),Ext.view.Table.prototype.onCellClick.call(this,cell,cellIndex,record,row,rowIndex,e)},onCheckChange:function(e){var record=e.record,wasChecked=record.get('checked');this.setChecked(record,1===wasChecked?!0:!wasChecked,e)},setChecked:function(record,meChecked,e,options){var checkPropagation=
this.checkPropagationFlags[this.ownerGrid.checkPropagation.toLowerCase()],halfCheckedValue=this.ownerGrid.triStateCheckbox?1:!1,progagateCheck=(!options||!1!==options.propagateCheck)&&checkPropagation&1,checkParent=(!options||!1!==options.checkParent)&&checkPropagation&2,matchedChildCount=0,parentNode,i;if(!1!==this.fireEvent('beforecheckchange',record,record.data.checked,e)){if(1!==meChecked&&progagateCheck){progagateCheck=record.childNodes;checkPropagation=progagateCheck.length;for(i=0;i<checkPropagation;i++)this.setChecked(progagateCheck[i],
meChecked,e,{checkParent:!1}),progagateCheck[i].get('checked')===meChecked&&matchedChildCount++;matchedChildCount!==checkPropagation&&(meChecked=matchedChildCount?halfCheckedValue:!1)}if(record.get('checked')!==meChecked&&(record.set('checked',meChecked,options),this.fireEvent('checkchange',record,meChecked,e),checkParent&&(parentNode=record.parentNode)&&null!=parentNode.data.checked)){progagateCheck=parentNode.childNodes;checkPropagation=progagateCheck.length;if(meChecked!==halfCheckedValue)if(1===
checkPropagation)halfCheckedValue=meChecked;else{record=meChecked=!1;for(i=0;!(record&&meChecked)&i<checkPropagation;i++)1===progagateCheck[i].data.checked?record=meChecked=!0:progagateCheck[i].data.checked?record=!0:meChecked=!0;halfCheckedValue=record&&meChecked?halfCheckedValue:record?!0:!1}parentNode.get('checked')!==halfCheckedValue&&this.setChecked(parentNode,halfCheckedValue,e,{propagateCheck:!1})}}},onExpanderMouseOver:function(e){Ext.fly(e.getTarget(this.cellSelector,10)).addCls(this.expanderIconOverCls)},
onExpanderMouseOut:function(e){Ext.fly(e.getTarget(this.cellSelector,10)).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){return Ext.apply(Ext.view.Table.prototype.getStoreListeners.call(this),{rootchange:this.onRootChange,fillcomplete:this.onFillComplete})},onBindStore:function(store,initial,propName,oldStore){var oldRoot=oldStore&&oldStore.getRootNode(),newRoot=store&&store.getRootNode();Ext.view.Table.prototype.onBindStore.call(this,store,initial,propName,oldStore);if(newRoot!==
oldRoot)this.onRootChange(newRoot,oldRoot)},onRootChange:function(newRoot,oldRoot){var grid=this.grid;oldRoot&&(this.rootListeners.destroy(),this.rootListeners=null);newRoot&&(this.rootListeners=newRoot.on({beforeexpand:this.onBeforeExpand,expand:this.onExpand,beforecollapse:this.onBeforeCollapse,collapse:this.onCollapse,destroyable:!0,scope:this}),grid.addRelayers(newRoot))},ensureSingleExpand:function(node){var parent=node.parentNode;parent&&parent.eachChild(function(child){child!==node&&child.isExpanded()&&
child.collapse()})},privates:{checkPropagationFlags:{none:0,down:1,up:2,both:3},deferRefreshForLoad:function(store){var ret=Ext.view.Table.prototype.deferRefreshForLoad.call(this,store),options;ret&&(options=(options=store.lastOptions)&&options.node)&&options!==store.getRoot()&&(ret=!1);return ret}}},0,['treeview'],'component box dataview tableview gridview treeview'.split(' '),{component:!0,box:!0,dataview:!0,tableview:!0,gridview:!0,treeview:!0},['widget.treeview'],0,[Ext.tree,'View'],0);
Ext.define('Ext.theme.material.tree.View',{override:'Ext.tree.View',config:{color:'default'}});
Ext.cmd.derive('Ext.tree.Panel',Ext.panel.Table,{alternateClassName:['Ext.tree.TreePanel','Ext.TreePanel'],viewType:'treeview',treeCls:'x-tree-panel',rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},ariaRole:'treegrid',rootVisible:!0,displayField:'text',root:null,checkPropagation:'none',normalCfgCopy:'displayField root singleExpand useArrows lines rootVisible scroll'.split(' '),lockedCfgCopy:'displayField root singleExpand useArrows lines rootVisible'.split(' '),
isTree:!0,arrowCls:'x-tree-arrows',linesCls:'x-tree-lines',noLinesCls:'x-tree-no-lines',autoWidthCls:'x-autowidth-table',constructor:function(config){config=config||{};void 0===config.animate&&(config.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx);this.enableAnimations=config.animate;delete config.animate;Ext.panel.Table.prototype.constructor.call(this,config)},initComponent:function(){var cls=[this.treeCls],autoTree;this.useArrows&&(cls.push(this.arrowCls),this.lines=!1);this.lines?
cls.push(this.linesCls):this.useArrows||cls.push(this.noLinesCls);var store=this.applyStore(this.store);store.getRoot()||store.setRoot({});store.setRootVisible(this.rootVisible);this.columns||(this.isAutoTree=autoTree=!0);this.viewConfig=Ext.apply({rootVisible:this.rootVisible,animate:this.enableAnimations,singleExpand:this.singleExpand,node:store.getRoot(),navigationModel:'tree',isAutoTree:autoTree},this.viewConfig);autoTree&&(this.addCls(this.autoWidthCls),this.columns=[{xtype:'treecolumn',text:!0===
this.hideHeaders?'Name':null,flex:1,dataIndex:this.displayField}]);this.cls&&cls.push(this.cls);this.cls=cls.join(' ');Ext.panel.Table.prototype.initComponent.call(this);cls=this.getView();this.relayEvents(cls,['beforecheckchange','checkchange','afteritemexpand','afteritemcollapse'])},applyStore:function(store){Ext.isString(store)?store=this.store=Ext.StoreMgr.lookup(store):store&&store.isStore?this.root&&(store=this.store=Ext.data.StoreManager.lookup(store),store.setRoot(this.root),void 0!==this.folderSort&&
(store.folderSort=this.folderSort,store.sort())):(store=Ext.apply({type:'tree',proxy:'memory'},store),this.root&&(store.root=this.root),this.fields?store.fields=this.fields:this.model&&(store.model=this.model),this.folderSort&&(store.folderSort=this.folderSort),store=this.store=Ext.StoreMgr.lookup(store));return store},setRoot:function(root){this.store.setRoot(root)},setStore:function(store){store=this.applyStore(store);store.getRoot()||store.setRoot({});store.setRootVisible(this.rootVisible);this.enableLocking?
this.reconfigure(store):(this.view&&this.view.setRootNode(store.getRootNode()),this.bindStore(store))},bindStore:function(store,initial){var root=store.getRoot();Ext.panel.Table.prototype.bindStore.apply(this,arguments);store.singleExpand=this.singleExpand;this.storeListeners=this.mon(store,{destroyable:!0,rootchange:this.onRootChange,scope:this});this.storeRelayers=this.relayEvents(store,['beforeload','load']);this.rootVisible||store.autoLoad||root.isExpanded()||root.isLoading()||(root.isLoaded()?
(root.data.expanded=!0,store.onNodeExpand(root,root.childNodes)):!1===store.autoLoad||store.hasPendingLoad()||(root.data.expanded=!1,root.expand()));store.ownerTree=this;initial||this.view.setRootNode(root)},addRelayers:function(newRoot){this.rootRelayers&&(this.rootRelayers.destroy(),this.rootRelayers=null);this.rootRelayers=this.mon(newRoot,{destroyable:!0,append:this.createRelayer('itemappend'),remove:this.createRelayer('itemremove'),move:this.createRelayer('itemmove',[0,4]),insert:this.createRelayer('iteminsert'),
beforeappend:this.createRelayer('beforeitemappend'),beforeremove:this.createRelayer('beforeitemremove'),beforemove:this.createRelayer('beforeitemmove'),beforeinsert:this.createRelayer('beforeiteminsert'),expand:this.createRelayer('itemexpand',[0,1]),collapse:this.createRelayer('itemcollapse',[0,1]),beforeexpand:this.createRelayer('beforeitemexpand',[0,1]),beforecollapse:this.createRelayer('beforeitemcollapse',[0,1]),scope:this})},unbindStore:function(){var store=this.store;store&&(Ext.panel.Table.prototype.unbindStore.call(this),
Ext.destroy(this.storeListeners,this.storeRelayers,this.rootRelayers),delete store.ownerTree,store.singleExpand=null)},setRootNode:function(){return this.store.setRoot.apply(this.store,arguments)},getRootNode:function(){return this.store.getRoot()},onRootChange:function(root){this.view.setRootNode(root)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(rec){return rec.get('checked')},expandNode:function(record,deep,callback,scope){return this.getView().expand(record,
deep,callback,scope||this)},collapseNode:function(record,deep,callback,scope){return this.getView().collapse(record,deep,callback,scope||this)},expandAll:function(callback,scope){var root=this.getRootNode();root&&(Ext.suspendLayouts(),root.expand(!0,callback,scope||this),Ext.resumeLayouts(!0))},collapseAll:function(callback,scope){var root=this.getRootNode(),view=this.getView();view.scrollable&&(view.scrollable.doScrollTo(0,0),view.scrollable.updateDomScrollPosition());root&&(Ext.suspendLayouts(),
scope=scope||this,view.rootVisible?root.collapse(!0,callback,scope):root.collapseChildren(!0,callback,scope),Ext.resumeLayouts(!0))},expandPath:function(path,options){var args=arguments,me=this,view=me.view,field=options&&options.field||me.store.model.idProperty,separator=options&&options.separator||'/';if(options&&'object'===typeof options){field=options.field||me.store.model.idProperty;separator=options.separator||'/';var callback=options.callback;var scope=options.scope;var select=options.select;
var doFocus=options.focus}else field=args[1]||me.store.model.idProperty,separator=args[2]||'/',callback=args[3],scope=args[4];if(Ext.isEmpty(path))return Ext.callback(callback,scope||me,[!1,null]);var keys=path.split(separator);if(separator=!keys[0]){args=me.getRootNode();var index=1}else args=me.store.findNode(field,keys[0]),index=0;if(!args||separator&&args.get(field)+''!==keys[1])return Ext.callback(callback,scope||me,[!1,args]);var expander=function(newChildren){var node=this,len,value;if(++index===
keys.length)return select&&view.getSelectionModel().select(node),doFocus&&view.getNavigationModel().setPosition(node,0),Ext.callback(callback,scope||me,[!0,node,view.getNode(node)]);var i=0;for(len=newChildren?newChildren.length:0;i<len;i++){node=newChildren[i];if((value=node.get(field))||0===value)value=value.toString();if(value===keys[index])return node.expand(!1,expander)}node=this;Ext.callback(callback,scope||me,[!1,node,view.getNode(node)])};args.expand(!1,expander)},ensureVisible:function(path,
options){if(path.isEntity||'number'===typeof path)return Ext.panel.Table.prototype.ensureVisible.call(this,path,options);var me=this,field=options&&options.field||me.store.model.idProperty,separator=options&&options.separator||'/';var onLastExpanded=function(success,lastExpanded,lastExpandedHtmlNode,targetNode){!targetNode&&success&&lastExpanded&&(targetNode=lastExpanded.findChild(field,last));targetNode?me.doEnsureVisible(targetNode,options):Ext.callback(callback,scope||me,[!1,lastExpanded])};if(options){var callback=
options.callback;var scope=options.scope}path=path.split(separator);var rooted=!path[0];var last=path.pop();!path.length||rooted&&1===path.length?(separator=me.store.findNode(field,last))?((path=separator.parentNode)&&!path.isExpanded()&&path.expand(),onLastExpanded(!0,null,null,separator)):Ext.callback(callback,scope||me,[!1,null]):me.expandPath(path.join(separator),field,separator,onLastExpanded)},selectPath:function(path,field,separator,callback,scope){this.ensureVisible(path,{field,separator,
select:!0,callback,scope})}},1,['treepanel'],'component box container panel tablepanel treepanel'.split(' '),{component:!0,box:!0,container:!0,panel:!0,tablepanel:!0,treepanel:!0},['widget.treepanel'],0,[Ext.tree,'Panel',Ext.tree,'TreePanel',Ext,'TreePanel'],0);
Ext.cmd.derive('Ext.view.DragZone',Ext.dd.DragZone,{containerScroll:!1,constructor:function(config){var ownerCt;Ext.apply(this,config);this.ddGroup||(this.ddGroup='view-dd-zone-'+this.view.id);config=this.view;config.setItemsDraggable(!0);config=(ownerCt=config.ownerCt)?ownerCt.getTargetEl().dom:config.el.dom.parentNode;Ext.dd.DragZone.prototype.constructor.call(this,config);this.ddel=document.createElement('div');this.ddel.className='x-grid-dd-wrap'},init:function(id,sGroup,config){var eventSpec=
{itemmousedown:this.onItemMouseDown,scope:this};Ext.supports.Touch&&(eventSpec.itemlongpress=this.onItemLongPress,eventSpec.contextmenu={element:'el',fn:this.onViewContextMenu});this.initTarget(id,sGroup,config);this.view.mon(this.view,eventSpec)},onValidDrop:function(target,e,id){Ext.dd.DragZone.prototype.onValidDrop.call(this,target,e,id);target.el.contains(Ext.Element.getActiveElement())||target.el.focus()},onViewContextMenu:function(e){'mouse'!==e.pointerType&&e.preventDefault()},onItemMouseDown:function(view,
record,item,index,e){if('mouse'===e.pointerType)this.onTriggerGesture(view,record,item,index,e)},onItemLongPress:function(view,record,item,index,e){if('mouse'!==e.pointerType)this.onTriggerGesture(view,record,item,index,e)},onTriggerGesture:function(view,record,item,index,e){'touch'===e.pointerType&&'longpress'!==e.type||e.position&&e.position.isEqual(e.view.actionPosition)||this.isPreventDrag(e,record,item,index)||(view=view.getNavigationModel(),e.position?view.setPosition(e.position):view.setPosition(index),
this.handleMouseDown(e))},isPreventDrag:function(e,record,item,index){return!!e.isInputFieldEvent},getDragData:function(e){var view=this.view,item=e.getTarget(view.getItemSelector());if(item)return{copy:view.copy||view.allowCopy&&e.ctrlKey,event:e,view,ddel:this.ddel,item,records:view.getSelectionModel().getSelection(),fromPosition:Ext.fly(item).getXY()}},onInitDrag:function(x,y){var data=this.dragData,view=data.view,selectionModel=view.getSelectionModel();view=view.getRecord(data.item);selectionModel.isSelected(view)||
selectionModel.selectWithEvent(view,this.DDMInstance.mousedownEvent);data.records=selectionModel.getSelection();Ext.fly(this.ddel).setHtml(this.getDragText());this.proxy.update(this.ddel);this.onStartDrag(x,y);return!0},getDragText:function(){var count=this.dragData.records.length;return Ext.String.format(this.dragText,count,1===count?'':'s')},getRepairXY:function(e,data){return data?data.fromPosition:!1}},1,0,0,0,0,0,[Ext.view,'DragZone'],0);
Ext.cmd.derive('Ext.window.Toast',Ext.window.Window,{isToast:!0,cls:'x-toast',bodyPadding:10,autoClose:!0,plain:!1,draggable:!1,resizable:!1,shadow:!1,focus:Ext.emptyFn,anchor:null,useXAxis:!1,align:'t',alwaysOnTop:!0,spacing:6,paddingX:30,paddingY:10,slideInAnimation:'easeIn',slideBackAnimation:'bounceOut',slideInDuration:500,slideBackDuration:500,hideDuration:500,autoCloseDelay:3E3,stickOnClick:!1,stickWhileHover:!0,closeOnMouseDown:!1,closable:!1,minHeight:1,focusable:!1,isHiding:!1,isFading:!1,
destroyAfterHide:!1,closeOnMouseOut:!1,xPos:0,yPos:0,constructor:function(config){config=config||{};void 0===config.animate&&(config.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx);this.enableAnimations=config.animate;delete config.animate;Ext.window.Window.prototype.constructor.call(this,config)},initComponent:function(){this.autoClose&&null==this.closable&&(this.closable=!1);this.updateAlignment(this.align);this.setAnchor(this.anchor);Ext.window.Window.prototype.initComponent.call(this)},
onRender:function(){Ext.window.Window.prototype.onRender.apply(this,arguments);this.el.hover(this.onMouseEnter,this.onMouseLeave,this);if(this.closeOnMouseDown)Ext.getDoc().on('mousedown',this.onDocumentMousedown,this)},alignmentProps:{br:{paddingFactorX:-1,paddingFactorY:-1,siblingAlignment:'br-br',anchorAlign:'tr-br'},bl:{paddingFactorX:1,paddingFactorY:-1,siblingAlignment:'bl-bl',anchorAlign:'tl-bl'},tr:{paddingFactorX:-1,paddingFactorY:1,siblingAlignment:'tr-tr',anchorAlign:'br-tr'},tl:{paddingFactorX:1,
paddingFactorY:1,siblingAlignment:'tl-tl',anchorAlign:'bl-tl'},b:{paddingFactorX:0,paddingFactorY:-1,siblingAlignment:'b-b',useXAxis:0,anchorAlign:'t-b'},t:{paddingFactorX:0,paddingFactorY:1,siblingAlignment:'t-t',useXAxis:0,anchorAlign:'b-t'},l:{paddingFactorX:1,paddingFactorY:0,siblingAlignment:'l-l',useXAxis:1,anchorAlign:'r-l'},r:{paddingFactorX:-1,paddingFactorY:0,siblingAlignment:'r-r',useXAxis:1,anchorAlign:'l-r'},x:{br:{anchorAlign:'bl-br'},bl:{anchorAlign:'br-bl'},tr:{anchorAlign:'tl-tr'},
tl:{anchorAlign:'tr-tl'}}},updateAlignment:function(align){var alignmentProps=this.alignmentProps,props=alignmentProps[align];(align=alignmentProps.x[align])&&this.useXAxis&&Ext.applyIf(this,align);Ext.applyIf(this,props)},getXposAlignedToAnchor:function(){var align=this.align,anchor=this.anchor;anchor=anchor&&anchor.el;var el=this.el,xPos=0;anchor&&anchor.dom&&(this.useXAxis?'br'===align||'tr'===align||'r'===align?(xPos+=anchor.getAnchorXY('r')[0],xPos-=el.getWidth()+this.paddingX):(xPos+=anchor.getAnchorXY('l')[0],
xPos+=this.paddingX):xPos=el.getLeft());return xPos},getYposAlignedToAnchor:function(){var align=this.align,anchor=this.anchor;anchor=anchor&&anchor.el;var el=this.el,yPos=0;anchor&&anchor.dom&&(this.useXAxis?yPos=el.getTop():'br'===align||'bl'===align||'b'===align?(yPos+=anchor.getAnchorXY('b')[1],yPos-=el.getHeight()+this.paddingY):(yPos+=anchor.getAnchorXY('t')[1],yPos+=this.paddingY));return yPos},getXposAlignedToSibling:function(sibling){var align=this.align,el=this.el;return this.useXAxis?'tl'===
align||'bl'===align||'l'===align?sibling.xPos+sibling.el.getWidth()+sibling.spacing:sibling.xPos-el.getWidth()-this.spacing:el.getLeft()},getYposAlignedToSibling:function(sibling){var align=this.align,el=this.el;return this.useXAxis?el.getTop():'tr'===align||'tl'===align||'t'===align?sibling.yPos+sibling.el.getHeight()+sibling.spacing:sibling.yPos-el.getHeight()-sibling.spacing},getToasts:function(){var anchor=this.anchor,alignment=this.anchorAlign;anchor=anchor.activeToasts||(anchor.activeToasts=
{});return anchor[alignment]||(anchor[alignment]=[])},setAnchor:function(anchor){this.anchor=anchor='string'===typeof anchor?Ext.getCmp(anchor):anchor;anchor||(anchor=Ext.window.Toast,this.anchor=anchor.bodyAnchor||(anchor.bodyAnchor={el:Ext.getBody()}))},beforeShow:function(){var me=this;if(me.stickOnClick)me.body.on('click',function(){me.cancelAutoClose()});me.autoClose&&!me.closeTask&&(me.closeTask=new Ext.util.DelayedTask(me.doAutoClose,me));me.el.setX(-1E4);me.el.setOpacity(1)},afterShow:function(){var el=
this.el,sibling;Ext.window.Window.prototype.afterShow.apply(this,arguments);var activeToasts=this.getToasts();(sibling=(sibling=activeToasts.length)&&activeToasts[sibling-1])?(el.alignTo(sibling.el,this.siblingAlignment,[0,0]),this.xPos=this.getXposAlignedToSibling(sibling),this.yPos=this.getYposAlignedToSibling(sibling)):(el.alignTo(this.anchor.el,this.anchorAlign,[this.paddingX*this.paddingFactorX,this.paddingY*this.paddingFactorY],!1),this.xPos=this.getXposAlignedToAnchor(),this.yPos=this.getYposAlignedToAnchor());
Ext.Array.include(activeToasts,this);this.enableAnimations?(activeToasts=el.getXY(),el.animate({from:{x:activeToasts[0],y:activeToasts[1]},to:{x:this.xPos,y:this.yPos,opacity:1},easing:this.slideInAnimation,duration:this.slideInDuration,dynamic:!0,callback:this.afterPositioned,scope:this})):(this.setLocalXY(this.xPos,this.yPos),this.afterPositioned())},afterPositioned:function(){this.destroying||this.destroyed||!this.autoClose||this.closeTask.delay(this.autoCloseDelay)},onDocumentMousedown:function(e){this.isVisible()&&
!this.owns(e.getTarget())&&this.hide()},slideBack:function(){var anchor=this.anchor;anchor=anchor&&anchor.el;var el=this.el,activeToasts=this.getToasts(),index=Ext.Array.indexOf(activeToasts,this);!this.isHiding&&el&&el.dom&&anchor&&anchor.isVisible()&&(index?(this.xPos=this.getXposAlignedToSibling(activeToasts[index-1]),this.yPos=this.getYposAlignedToSibling(activeToasts[index-1])):(this.xPos=this.getXposAlignedToAnchor(),this.yPos=this.getYposAlignedToAnchor()),this.stopAnimation(),this.enableAnimations&&
el.animate({to:{x:this.xPos,y:this.yPos},easing:this.slideBackAnimation,duration:this.slideBackDuration,dynamic:!0}))},update:function(){this.isVisible()&&(this.isHiding=!0,this.hide());Ext.window.Window.prototype.update.apply(this,arguments);this.show()},cancelAutoClose:function(){var closeTask=this.closeTask;closeTask&&closeTask.cancel()},doAutoClose:function(){this.stickWhileHover&&this.mouseIsOver?this.closeOnMouseOut=!0:this.close()},doDestroy:function(){this.removeFromAnchor();this.cancelAutoClose();
Ext.window.Window.prototype.doDestroy.call(this)},onMouseEnter:function(){this.mouseIsOver=!0},onMouseLeave:function(){this.mouseIsOver=!1;this.closeOnMouseOut&&(this.closeOnMouseOut=!1,this.close())},removeFromAnchor:function(){if(this.anchor){var activeToasts=this.getToasts();var index=Ext.Array.indexOf(activeToasts,this);if(-1!==index)for(Ext.Array.erase(activeToasts,index,1);index<activeToasts.length;index++)activeToasts[index].slideBack()}},getFocusEl:Ext.emptyFn,hide:function(){var el=this.el;
this.cancelAutoClose();this.isHiding?this.isFading||(Ext.window.Window.prototype.hide.apply(this,arguments),this.isHiding=!1):(this.isFading=this.isHiding=!0,this.cancelAutoClose(),el&&(!this.enableAnimations||this.destroying||this.destroyed?(this.isFading=!1,this.hide(this.animateTarget,this.doClose,this)):el.fadeOut({opacity:0,easing:'easeIn',duration:this.hideDuration,listeners:{scope:this,afteranimate:function(){this.isFading=!1;this.destroying||this.destroyed||this.hide(this.animateTarget,this.doClose,
this)}}})));return this}},1,['toast'],'component box container panel window toast'.split(' '),{component:!0,box:!0,container:!0,panel:!0,window:!0,toast:!0},['widget.toast'],0,[Ext.window,'Toast'],function(Toast){Ext.toast=function(message,title,align,iconCls){var config=message;Ext.isString(message)&&(config={title,html:message,iconCls},align&&(config.align=align));message=new Toast(config);message.show();return message}});
Ext.cmd.derive('Ext.theme.Material',Ext.Base,{singleton:!0,_autoUpdateMeta:!0,_defaultWeight:'500',_colors:{red:{50:'#ffebee',100:'#ffcdd2',200:'#ef9a9a',300:'#e57373',400:'#ef5350',500:'#f44336',600:'#e53935',700:'#d32f2f',800:'#c62828',900:'#b71c1c',a100:'#ff8a80',a200:'#ff5252',a400:'#ff1744',a700:'#d50000'},pink:{50:'#fce4ec',100:'#f8bbd0',200:'#f48fb1',300:'#f06292',400:'#ec407a',500:'#e91e63',600:'#d81b60',700:'#c2185b',800:'#ad1457',900:'#880e4f',a100:'#ff80ab',a200:'#ff4081',a400:'#f50057',
a700:'#c51162'},purple:{50:'#f3e5f5',100:'#e1bee7',200:'#ce93d8',300:'#ba68c8',400:'#ab47bc',500:'#9c27b0',600:'#8e24aa',700:'#7b1fa2',800:'#6a1b9a',900:'#4a148c',a100:'#ea80fc',a200:'#e040fb',a400:'#d500f9',a700:'#aa00ff'},'deep-purple':{50:'#ede7f6',100:'#d1c4e9',200:'#b39ddb',300:'#9575cd',400:'#7e57c2',500:'#673ab7',600:'#5e35b1',700:'#512da8',800:'#4527a0',900:'#311b92',a100:'#b388ff',a200:'#7c4dff',a400:'#651fff',a700:'#6200ea'},indigo:{50:'#e8eaf6',100:'#c5cae9',200:'#9fa8da',300:'#7986cb',
400:'#5c6bc0',500:'#3f51b5',600:'#3949ab',700:'#303f9f',800:'#283593',900:'#1a237e',a100:'#8c9eff',a200:'#536dfe',a400:'#3d5afe',a700:'#304ffe'},blue:{50:'#e3f2fd',100:'#bbdefb',200:'#90caf9',300:'#64b5f6',400:'#42a5f5',500:'#2196f3',600:'#1e88e5',700:'#1976d2',800:'#1565c0',900:'#0d47a1',a100:'#82b1ff',a200:'#448aff',a400:'#2979ff',a700:'#2962ff'},'light-blue':{50:'#e1f5fe',100:'#b3e5fc',200:'#81d4fa',300:'#4fc3f7',400:'#29b6f6',500:'#03a9f4',600:'#039be5',700:'#0288d1',800:'#0277bd',900:'#01579b',
a100:'#80d8ff',a200:'#40c4ff',a400:'#00b0ff',a700:'#0091ea'},cyan:{50:'#e0f7fa',100:'#b2ebf2',200:'#80deea',300:'#4dd0e1',400:'#26c6da',500:'#00bcd4',600:'#00acc1',700:'#0097a7',800:'#00838f',900:'#006064',a100:'#84ffff',a200:'#18ffff',a400:'#00e5ff',a700:'#00b8d4'},teal:{50:'#e0f2f1',100:'#b2dfdb',200:'#80cbc4',300:'#4db6ac',400:'#26a69a',500:'#009688',600:'#00897b',700:'#00796b',800:'#00695c',900:'#004d40',a100:'#a7ffeb',a200:'#64ffda',a400:'#1de9b6',a700:'#00bfa5'},green:{50:'#e8f5e9',100:'#c8e6c9',
200:'#a5d6a7',300:'#81c784',400:'#66bb6a',500:'#4caf50',600:'#43a047',700:'#388e3c',800:'#2e7d32',900:'#1b5e20',a100:'#b9f6ca',a200:'#69f0ae',a400:'#00e676',a700:'#00c853'},'light-green':{50:'#f1f8e9',100:'#dcedc8',200:'#c5e1a5',300:'#aed581',400:'#9ccc65',500:'#8bc34a',600:'#7cb342',700:'#689f38',800:'#558b2f',900:'#33691e',a100:'#ccff90',a200:'#b2ff59',a400:'#76ff03',a700:'#64dd17'},lime:{50:'#f9fbe7',100:'#f0f4c3',200:'#e6ee9c',300:'#dce775',400:'#d4e157',500:'#cddc39',600:'#c0ca33',700:'#afb42b',
800:'#9e9d24',900:'#827717',a100:'#f4ff81',a200:'#eeff41',a400:'#c6ff00',a700:'#aeea00'},yellow:{50:'#fffde7',100:'#fff9c4',200:'#fff59d',300:'#fff176',400:'#ffee58',500:'#ffeb3b',600:'#fdd835',700:'#fbc02d',800:'#f9a825',900:'#f57f17',a100:'#ffff8d',a200:'#ffff00',a400:'#ffea00',a700:'#ffd600'},amber:{50:'#fff8e1',100:'#ffecb3',200:'#ffe082',300:'#ffd54f',400:'#ffca28',500:'#ffc107',600:'#ffb300',700:'#ffa000',800:'#ff8f00',900:'#ff6f00',a100:'#ffe57f',a200:'#ffd740',a400:'#ffc400',a700:'#ffab00'},
orange:{50:'#fff3e0',100:'#ffe0b2',200:'#ffcc80',300:'#ffb74d',400:'#ffa726',500:'#ff9800',600:'#fb8c00',700:'#f57c00',800:'#ef6c00',900:'#e65100',a100:'#ffd180',a200:'#ffab40',a400:'#ff9100',a700:'#ff6d00'},'deep-orange':{50:'#fbe9e7',100:'#ffccbc',200:'#ffab91',300:'#ff8a65',400:'#ff7043',500:'#ff5722',600:'#f4511e',700:'#e64a19',800:'#d84315',900:'#bf360c',a100:'#ff9e80',a200:'#ff6e40',a400:'#ff3d00',a700:'#dd2c00'},brown:{50:'#efebe9',100:'#d7ccc8',200:'#bcaaa4',300:'#a1887f',400:'#8d6e63',500:'#795548',
600:'#6d4c41',700:'#5d4037',800:'#4e342e',900:'#3e2723'},grey:{50:'#fafafa',100:'#f5f5f5',200:'#eeeeee',300:'#e0e0e0',400:'#bdbdbd',500:'#9e9e9e',600:'#757575',700:'#616161',800:'#424242',900:'#212121'},'blue-grey':{50:'#eceff1',100:'#cfd8dc',200:'#b0bec5',300:'#90a4ae',400:'#78909c',500:'#607d8b',600:'#546e7a',700:'#455a64',800:'#37474f',900:'#263238',1E3:'#11171a'}},hasFashion:function(){return!!window.Fashion&&!!Fashion.css&&Fashion.css.setVariables},setAutoUpdateMeta:function(value){this._autoUpdateMeta=
value},getAutoUpdateMeta:function(){return this._autoUpdateMeta},getDefaultWeight:function(){return this._defaultWeight},setDarkMode:function(value){this.hasFashion()&&Fashion.css.setVariables({'dark-mode':value?'true':'false'})},setColors:function(colorsConfig){var obj={};if(this.hasFashion()){colorsConfig=Ext.merge({baseWeight:this.getDefaultWeight(),accentWeight:this.getDefaultWeight()},colorsConfig);var baseColor=this._colors[colorsConfig.base];var accentColor=this._colors[colorsConfig.accent];
baseColor?baseColor[colorsConfig.baseWeight]?(obj['base-color-name']=colorsConfig.base,this.getAutoUpdateMeta()&&this.updateMetaThemeColor(colorsConfig.base,colorsConfig.baseWeight)):Ext.Logger.warn('Base color weight: '+colorsConfig.baseWeight+' is not a valid weight',this):colorsConfig.base&&Ext.Logger.warn('Base color: '+colorsConfig.base+' is not a valid material color',this);accentColor?accentColor[colorsConfig.accentWeight]?obj['accent-color-name']=colorsConfig.accent:Ext.Logger.warn('Accent color weight: '+
colorsConfig.accentWeight+' is not a valid weight',this):colorsConfig.accent&&Ext.Logger.warn('Accent color: '+colorsConfig.accent+' is not a valid material color',this);null!==colorsConfig.darkMode&&(obj['dark-mode']=colorsConfig.darkMode?'true':'false');Fashion.css.setVariables(obj)}},updateMetaThemeColor:function(colorName,weight){colorName=this._colors[colorName];var toolbarIsDynamic=Ext.manifest.material.toolbar.dynamic;weight||(weight=this.getDefaultWeight());Ext.platformTags.android&&Ext.platformTags.chrome&&
toolbarIsDynamic&&colorName&&(colorName=colorName[weight],(weight=Ext.query('meta[name\x3d"theme-color"]')[0])&&weight.setAttribute('content',colorName))},getColors:function(){return this._colors}},0,0,0,0,0,0,[Ext.theme,'Material'],0);var color,toolbarIsDynamic,head,meta;
Ext.platformTags.android&&Ext.platformTags.chrome&&Ext.manifest.material&&Ext.manifest.material.toolbar&&(color=Ext.manifest.material.toolbar.color,toolbarIsDynamic=Ext.manifest.material.toolbar.dynamic,head=document.head,toolbarIsDynamic&&Ext.supports.CSSVariables&&(color=getComputedStyle(document.body).getPropertyValue('--primary-color-md'),color=color.replace(/ /g,'').replace(/^#(?:\\3)?/,'#')),color&&(meta=document.createElement('meta'),meta.setAttribute('name','theme-color'),meta.setAttribute('content',
color),head.appendChild(meta)));Ext.namespace('Ext.theme.is').Material=!0;Ext.theme.name='Material';
Ext.cmd.derive('Ext.package.Entry',Ext.Base,{count:0,loaded:!1,constructor:function(name){var me=this;me.packageName=name;me.jsUrl=Ext.getResourcePath(name+'.js',null,name);me.cssUrl=Ext.getResourcePath(name+'.css',null,name);me.promise=new Ext.Promise(function(resolve,reject){me.resolveFn=resolve;me.rejectFn=reject})},getRequires:function(){var metadata=this.metadata,reqs=this._requires,requires;if(!reqs){reqs=[];if(metadata&&(requires=metadata.requires)&&requires.length)for(var i=0;i<requires.length;i++)metadata=
requires[i],metadata!=this.packageName&&reqs.push(metadata);this._requires=reqs}return reqs},beginLoad:function(){this.loaded||(this.block(),this.loadStyle(),this.loadScript(),this.unblock())},loadStyle:function(){var metadata=this.metadata,required=metadata&&metadata.required;metadata=metadata&&metadata.css;if(!1!==metadata&&!0!==required)if(Array.isArray(metadata))for(i=0;i<metadata.length;i++)this.load(metadata[i].path.replaceAll('${package.dir}/',Ext.getResourcePath('',null,this.packageName)));
else!1!==metadata&&!0!==required&&this.load(this.cssUrl)},loadScript:function(){var metadata=this.metadata,files=metadata&&metadata.files,manifest=Ext.manifest;manifest=manifest&&manifest.loadOrder;var paths=[],js=metadata.js;if(files&&manifest){for(metadata=0;metadata<files.length;metadata++)paths.push(manifest[files[metadata]].path);this.load(paths)}else if(metadata&&!metadata.included)if(Array.isArray(js))for(metadata=0;metadata<js.length;metadata++)this.load(js[metadata].path.replaceAll('${package.dir}/',
Ext.getResourcePath('',null,this.packageName)));else this.load(this.jsUrl)},load:function(url){var me=this;me.block();Ext.Boot.load({url,success:function(){me.unblock()},failure:function(){url.endsWith('.css')?me.unblock():me.error||(me.error=Error('Failed to load "'+url+'"'),me.error.url=url,me.unblock())}})},block:function(){this.count++},_wait:function(className){var me=this;me.block();Ext.require(className,function(){me.unblock()})},_getPendingClasses:function(){var CM=Ext.ClassManager,classState=
CM&&CM.classState,className;if(CM.getPendingClasses)return CM.getPendingClasses();if(classState){CM=[];for(className in classState)className&&'null'!==className&&30>classState[className]&&CM.push(className);return CM}},unblock:function(){if(!this.error&&1<this.count)this.count--;else{this.count=0;var pending=this._getPendingClasses();pending&&pending.length?this._wait(pending):this.notify()}},notify:function(){this.resolveFn&&(this.count=0,this.error?this.rejectFn(this.error):(this.loaded=!0,this.resolveFn(this)),
this.resolveFn=this.rejectFn=null)}},1,0,0,0,0,0,[Ext['package'],'Entry'],0);
Ext.cmd.derive('Ext.Package',Ext.Base,{singleton:!0,isLoaded:function(pkgName){return(pkgName=this.getEntry(pkgName))?pkgName.loaded:!1},load:function(pkgName){if(!this.getPackages()[pkgName])return Ext.Promise.reject(Error('Cannot load package "'+pkgName+'"'));pkgName=this.getEntry(pkgName);this._queue(pkgName);this._loading||this._advance();return pkgName.promise},_entryMap:{},_usesMap:null,_packagesMap:null,_loadQueue:[],_loading:!1,_advance:function(){var me=this,next=me._loadQueue.shift();next?
(me._loading=!0,next.beginLoad(),next.promise.then(function(){me._advance()},function(){me._advance()})):me._loading=!1},getPackages:function(){var map=this._packagesMap;map||(this._packagesMap=map=(map=Ext.manifest&&Ext.manifest.packages)||{});return map},_queue:function(entry){var i;if(!entry.queued&&!entry.loaded){entry.queued=!0;var reqs=entry.getRequires();for(i=0;i<reqs.length;i++){var req=reqs[i];req=this.getEntry(req);this._queue(req)}this._loadQueue.push(entry)}return entry},loadAllScripts:function(packageName,
scripts){this.getEntry(packageName).load(scripts)},getEntry:function(pkgName){var entryMap=this._entryMap,entry=entryMap[pkgName];!entry&&(entryMap[pkgName]=entry=new Ext['package'].Entry(pkgName),pkgName=this.getPackages()[pkgName])&&(entry.metadata=pkgName);return entry}},0,0,0,0,0,0,[Ext,'Package'],0);Ext.cmd.derive('coon.core.data.request.file.FileLoader',Ext.Base,{},0,0,0,0,0,0,[coon.core.data.request.file,'FileLoader'],0);
Ext.cmd.derive('coon.core.data.pageMap.RecordPosition',Ext.Base,{config:{page:void 0,index:void 0},statics:{create:function(data){1<arguments.length?data=[arguments[0],arguments[1]]:Ext.isArray(data)||Ext.raise({msg:'static method expects an array or two arguments representing page and index',arguments});return Ext.create('coon.core.data.pageMap.RecordPosition',{page:data[0],index:data[1]})}},constructor:function(cfg){cfg&&Object.prototype.hasOwnProperty.call(cfg,'page')&&Object.prototype.hasOwnProperty.call(cfg,
'index')||Ext.raise({msg:"'cfg' needs both 'page'- and  'index'-property",cfg});this.initConfig(cfg)},applyPage:function(page){void 0!==this.getPage()&&Ext.raise({msg:"'page' was already defined",page:this.getPage()});page=parseInt(page,10);Ext.isNumber(page)||Ext.raise({msg:"'page' must be a number",page});1>page&&Ext.raise({msg:"a page's value must not be less than 1",page});return page},applyIndex:function(index){void 0!==this.getIndex()&&Ext.raise({msg:"'index' was already defined",index:this.getIndex()});
index=parseInt(index,10);Ext.isNumber(index)||Ext.raise({msg:"'index' must be a number",index});0>index&&Ext.raise({msg:'index value must not be less than 0',index});return index},equalTo:function(target){target instanceof coon.core.data.pageMap.RecordPosition||Ext.raise({msg:"'target' must be an instance of coon.core.data.pageMap.RecordPosition",target});return this===target||this.getPage()===target.getPage()&&this.getIndex()===target.getIndex()},lessThan:function(target){target instanceof coon.core.data.pageMap.RecordPosition||
Ext.raise({msg:"'target' must be an instance of coon.core.data.pageMap.RecordPosition",target});return this.getPage()<target.getPage()||this.getPage()===target.getPage()&&this.getIndex()<target.getIndex()},greaterThan:function(target){target instanceof coon.core.data.pageMap.RecordPosition||Ext.raise({msg:"'target' must be an instance of coon.core.data.pageMap.RecordPosition",target});return this.getPage()>target.getPage()||this.getPage()===target.getPage()&&this.getIndex()>target.getIndex()}},1,
0,0,0,0,0,[coon.core.data.pageMap,'RecordPosition'],0);
Ext.cmd.derive('coon.core.data.pageMap.ArgumentFilter',Ext.Base,{filterPageValue:function(page){page=parseInt(page,10);(!Ext.isNumber(page)||1>page)&&Ext.raise({msg:"'page' must be a number greater than 0",page});return page},filterPageMapValue:function(pageMap){pageMap instanceof Ext.data.PageMap||Ext.raise({msg:"'pageMap' must be an instance of Ext.data.PageMap",pageMap});return pageMap},filterPageMapOrFeederValue:function(value){value instanceof Ext.data.PageMap||value instanceof coon.core.data.pageMap.PageMapFeeder||
Ext.raise({msg:"'value' must be an instance of Ext.data.PageMap or coon.core.data.pageMap.PageMapFeeder",value});return value},filterFeederValue:function(feeder){feeder instanceof coon.core.data.pageMap.PageMapFeeder||Ext.raise({msg:"'value' must be an instance of coon.core.data.pageMap.PageMapFeeder",feeder});return feeder},filterRecordValue:function(record){record instanceof Ext.data.Model||Ext.raise({msg:"'record' must be an instance of Ext.data.Model",record});return record},filterRecordPositionValue:function(position,
pageSize=0){position instanceof coon.core.data.pageMap.RecordPosition||Ext.raise({msg:"'position' must be an instance of coon.core.data.pageMap.RecordPosition",position});this.filterIndexValue(position.getIndex(),pageSize);return position},filterIndexValue:function(index,size=0){index=parseInt(index,10);size=parseInt(size,10);Ext.isNumber(size)||Ext.raise({msg:"'size' must be a number",size});(!Ext.isNumber(index)||0>index||0<size&&index>=size)&&Ext.raise({msg:"'index' is out of bounds; index: "+
index+'; size: '+size,index});return index},filterRecordsArray:function(records){Ext.isArray(records)&&0!==records.length?Ext.Array.forEach(records,function(value){value instanceof Ext.data.Model||Ext.raise({msg:"'records' must be an array of Ext.data.Model instances",records})}):Ext.raise({msg:"'records' must be a none-empty array",records});return records}},0,0,0,0,0,0,[coon.core.data.pageMap,'ArgumentFilter'],0);
Ext.cmd.derive('coon.core.env.VendorBase',Ext.Base,{getPathForResource(){},get(){},getEnvironment(){},getManifest(key){},getPackage(){},getPackages(){},async loadPackage(){}},0,0,0,0,0,0,[coon.core.env,'VendorBase'],0);
Ext.define('coon.core.env.ext.VendorBase',{extend:'coon.core.env.VendorBase',get(key){return l8.unchain(key,this.getEnvironment())},getPathForResource(path,pckg){return Ext.getResourcePath(path,null,pckg?pckg:'')},getEnvironment(){return Ext},getManifest(key){return key?l8.unchain(key,Ext.manifest):Ext.manifest},getPackage(packageName){return l8.unchain('packages.'+packageName,this.getManifest())},getPackages(){return l8.unchain('packages',this.getManifest())},async loadPackage(packageName){return Ext.Package.load(packageName)}});
Ext.define('coon.core.data.pageMap.PageRange',{config:{pages:void 0},statics:{create:function(data){1!==arguments.length||Ext.isArray(arguments[0])?1<arguments.length&&(data=Array.prototype.slice.apply(arguments,[0])):data=[arguments[0]];Ext.isArray(data)||Ext.raise({msg:'static method expects an array or arguments representing a page range',arguments});return Ext.create('coon.core.data.pageMap.PageRange',{pages:data})},createFor:function(start,end){return Ext.create('coon.core.data.pageMap.PageRange',
{pages:l8.createRange(start,end)})}},constructor:function(cfg){cfg=cfg||{};Object.prototype.hasOwnProperty.call(cfg,'pages')||Ext.raise({msg:"'pages' must be specified",cfg});this.initConfig(cfg)},applyPages:function(pages){void 0!==this.getPages()&&Ext.raise({msg:"'pages' was already defined",pages:this.getPages()});Ext.isArray(pages)||Ext.raise({msg:"'pages' must be an array",pages});pages=pages.map(function(v){return parseInt(v,10)});(1>pages[0]||isNaN(pages[0]))&&Ext.raise({msg:"a page range's first page must not be less than 1 and must be a number",
pages});if(1===pages.length)return pages;for(var i=1,len=pages.length;i<len;i++)1!==pages[i]-pages[i-1]&&Ext.raise({msg:"'pages' was converted to a numeric list but it seems to be not an ordered list of numeric data",pages});return pages},getFirst:function(){return this.getPages()[0]},getLast:function(){return this.getPages()[this.getPages().length-1]},getLength:function(){return this.getPages().length},equalTo:function(target){target instanceof coon.core.data.pageMap.PageRange||Ext.raise({msg:"'target' must be an instance of coon.core.data.pageMap.PageRange",
target});var tF=target.getPages();var tL=this.getLength();return this===target||this.getPages().filter(function(v,index){return tF[index]&&tF[index]===v}).length===tL},contains:function(position){position instanceof coon.core.data.pageMap.RecordPosition||Ext.raise({msg:"'position' must be an instance of coon.core.data.pageMap.RecordPosition",position});return-1!==this.toArray().indexOf(position.getPage())},toArray:function(){return this.getPages().slice(0)}});
Ext.cmd.derive('coon.core.data.pageMap.IndexRange',Ext.Base,{config:{start:void 0,end:void 0},constructor:function(cfg){cfg=cfg||{};Object.prototype.hasOwnProperty.call(cfg,'start')||Ext.raise({msg:"'start' must be specified",cfg});Object.prototype.hasOwnProperty.call(cfg,'end')||Ext.raise({msg:"'end' must be specified",cfg});this.initConfig(cfg);this.getStart().lessThan(this.getEnd())||this.getStart().equalTo(this.getEnd())||Ext.raise({msg:"'start' must be less than or equal to 'end'",start:cfg.start,
end:cfg.end})},applyStart:function(start){void 0!==this.getStart()&&Ext.raise({msg:"'start' was already defined",start:this.getStart()});return start instanceof coon.core.data.pageMap.RecordPosition?start:coon.core.data.pageMap.RecordPosition.create(start)},applyEnd:function(end){void 0!==this.getEnd()&&Ext.raise({msg:"'end' was already defined",end:this.getEnd()});return end instanceof coon.core.data.pageMap.RecordPosition?end:coon.core.data.pageMap.RecordPosition.create(end)},contains:function(target){var targets=
[].concat(target),len;var i=0;for(len=targets.length;i<len;i++)targets[i]instanceof coon.core.data.pageMap.RecordPosition||Ext.raise({msg:"'target' must be an instance of coon.core.data.pageMap.RecordPosition",targets});target=this.getStart();var end=this.getEnd();i=0;for(len=targets.length;i<len;i++)if(target.equalTo(targets[i])||end.equalTo(targets[i])||targets[i].greaterThan(target)&&targets[i].lessThan(end))return!0;return!1}},1,0,0,0,0,0,[coon.core.data.pageMap,'IndexRange'],0);
Ext.define('coon.core.data.pageMap.PageMapUtil',{singleton:!0,mixins:['coon.core.data.pageMap.ArgumentFilter'],storeIndexToPosition:function(index,pageMap,ignoreTotalCount=!1){index=Ext.isNumber(index)?parseInt(index,10):-1;0>index&&Ext.raise({msg:"'index' must be a number greater than -1",index});pageMap=this.filterPageMapValue(pageMap);!ignoreTotalCount&&index>=pageMap.getStore().getTotalCount()&&Ext.raise({msg:"'index' of position exceeds the total count of the PageMap's store",totalCount:pageMap.getStore().getTotalCount(),
index});return Ext.create('coon.core.data.pageMap.RecordPosition',{page:Math.floor(index/pageMap.getPageSize())+1,index:index%pageMap.getPageSize()})},positionToStoreIndex:function(position,pageMap){position instanceof coon.core.data.pageMap.RecordPosition||Ext.raise({msg:"'position' must be an instance of coon.core.data.pageMap.RecordPosition",position});pageMap=this.filterPageMapValue(pageMap);position.getIndex()>=pageMap.getPageSize()&&Ext.raise({msg:"'index' of position exceeds the configured pageSize of the pageMap",
pageSize:pageMap.getPageSize(),position});return(position.getPage()-1)*pageMap.getPageSize()+position.getIndex()},moveRecord:function(from,to,pageMapOrFeeder){let fromRecord;let feeder,toIndex;from=this.filterRecordPositionValue(from);to=this.filterRecordPositionValue(to);pageMapOrFeeder=this.filterPageMapOrFeederValue(pageMapOrFeeder);if(from.equalTo(to))return!0;fromRecord=this.getRecordAt(from,pageMapOrFeeder);var toRecord=this.getRecordAt(to,pageMapOrFeeder);var fromRange=fromRecord?this.getPageRangeForRecord(fromRecord,
pageMapOrFeeder):null;toRecord=toRecord?this.getPageRangeForRecord(toRecord,pageMapOrFeeder):null;fromRange&&toRecord||Ext.raise({msg:'could not determine the ranges of the records being moved',fromRange,toRange:toRecord});toRecord.equalTo(fromRange)||Ext.raise({msg:'source- and target-positions are not in the same page range',fromRange,toRange:toRecord});fromRange=to.getPage();toRecord=from.getPage();from=from.getIndex();toIndex=to.getIndex();to=pageMapOrFeeder instanceof Ext.data.PageMap?pageMapOrFeeder:
pageMapOrFeeder.getPageMap();feeder=pageMapOrFeeder instanceof Ext.data.PageMap?null:pageMapOrFeeder;pageMapOrFeeder=to.map;var fromFeed=feeder?feeder.getFeedAt(toRecord):null;let toFeed=feeder?feeder.getFeedAt(fromRange):null,maintainPages=[];fromFeed?fromFeed.removeAt(from):(pageMapOrFeeder[toRecord].value.splice(from,1),maintainPages.push(toRecord));for(fromFeed=fromRange;fromFeed>toRecord;fromFeed--){var feed=feeder?feeder.getFeedAt(fromFeed):null,pop=feed?feed.extract(1):pageMapOrFeeder[fromFeed].value.shift();
pop=feed?pop[0]:pop;feed||maintainPages.push(fromFeed);var targetPage=(feed=feeder?feeder.getFeedAt(fromFeed-1):null)?null:pageMapOrFeeder[fromFeed-1].value;pop&&(feed?feed.fill([pop]):targetPage.push(pop))}for(fromFeed=fromRange;fromFeed<toRecord;fromFeed++)pop=(feed=feeder?feeder.getFeedAt(fromFeed):null)?feed.extract(1):pageMapOrFeeder[fromFeed].value.pop(),pop=feed?pop[0]:pop,feed||maintainPages.push(fromFeed),targetPage=(feed=feeder?feeder.getFeedAt(fromFeed+1):null)?null:pageMapOrFeeder[fromFeed+
1].value,pop&&(feed?feed.fill([pop]):targetPage.unshift(pop));toFeed?toFeed.insertAt([fromRecord],toIndex):((toRecord===fromRange&&from<toIndex||toRecord<fromRange)&&toIndex--,pageMapOrFeeder[fromRange].value.splice(Math.max(0,toIndex),0,fromRecord));maintainPages.length&&this.maintainIndexMap(coon.core.data.pageMap.PageRange.createFor(Math.min(...maintainPages),Math.max(...maintainPages)),to);return!0},maintainIndexMap:function(pageRange,pageMap){let indexMap;var values;pageRange instanceof coon.core.data.pageMap.PageRange||
Ext.raise({msg:"'pageRange' must be an instance of coon.core.data.pageMap.PageRange",pageRange});pageMap=this.filterPageMapValue(pageMap);var pageSize=pageMap.getPageSize();pageSize*=pageRange.getFirst()-1;var start=pageRange.getFirst();pageRange=pageRange.getLast();for(indexMap=pageMap.indexMap;start<=pageRange;start++){(values=pageMap.map[start])||Ext.raise({msg:'the index for the specified PageRange does not exist in the PageMap',page:start});values=values.value;for(var a=0,lena=values.length;a<
lena;a++)indexMap[values[a].internalId]=pageSize++}return!0},getNeighbour:function(position,pageMapOrFeeder,left=!0){let pageSize;pageMapOrFeeder=this.filterPageMapOrFeederValue(pageMapOrFeeder);pageSize=pageMapOrFeeder instanceof Ext.data.PageMap?pageMapOrFeeder.getPageSize():pageMapOrFeeder.getPageMap().getPageSize();position=this.filterRecordPositionValue(position,pageSize);var neighbourPage=position.getPage();position=position.getIndex();left?(left=0<=position-1?position-1:pageSize-1,neighbourPage=
0<=position-1?neighbourPage:neighbourPage-1):(left=position+1<pageSize?position+1:0,neighbourPage=position+1<pageSize?neighbourPage:neighbourPage+1);return this.getRecordAt(coon.core.data.pageMap.RecordPosition.create(neighbourPage,left),pageMapOrFeeder)},getRecordAt:function(position,pageMapOrFeeder){let map;let isPageMap;pageMapOrFeeder=this.filterPageMapOrFeederValue(pageMapOrFeeder);var page=(isPageMap=pageMapOrFeeder instanceof Ext.data.PageMap)?pageMapOrFeeder.getPageSize():pageMapOrFeeder.getPageMap().getPageSize();
position=this.filterRecordPositionValue(position,page);page=position.getPage();position=position.getIndex();map=isPageMap?pageMapOrFeeder.map:pageMapOrFeeder.getPageMap().map;if(map[page]&&map[page].value[position])return map[page].value[position];if(!isPageMap&&(pageMapOrFeeder=pageMapOrFeeder.getFeedAt(page))&&pageMapOrFeeder.getAt(position))return pageMapOrFeeder.getAt(position)},getPageRangeForRecord:function(record,pageMapOrFeeder){return Ext.create('coon.core.data.pageMap.PageRange',{pages:this.getRangeForRecord(record,
pageMapOrFeeder)})},getRightSideRange:function(record,pageMap){const range=this.getRangeForRecord(record,pageMap),pagePos=pageMap.getPageFromRecordIndex(pageMap.indexOf(record));return Ext.create('coon.core.data.pageMap.PageRange',{pages:range.filter(function(value){return value>=pagePos})})},getRangeForRecord:function(record,pageMapOrFeeder){var RecordPosition=coon.core.data.pageMap.RecordPosition;let feeder;record instanceof Ext.data.Model||Ext.raise({msg:"'record' must be an instance of Ext.data.Model",
record});pageMapOrFeeder=this.filterPageMapOrFeederValue(pageMapOrFeeder);var pages=[];if(pageMapOrFeeder instanceof Ext.data.PageMap){var pageMap=pageMapOrFeeder;var index=pageMapOrFeeder.indexOf(record);if(-1!==index){var page=pageMapOrFeeder.getPageFromRecordIndex(pageMapOrFeeder.indexOf(record));page=RecordPosition.create(page,index)}}else pageMap=pageMapOrFeeder.getPageMap(),feeder=pageMapOrFeeder,page=this.findRecord(record,feeder);page||Ext.raise({msg:"'record' cannot be found in current data sets",
record,pageMapOrFeeder});for(var i$jscomp$0 in pageMap.map)pages.push(i$jscomp$0);if(feeder){for(let i in feeder.feed)pages.push(i);record=page.getPage();pages=l8.listNeighbours(pages,record);pageMapOrFeeder=[];for(let i=pages.indexOf(record),len=pages.length;i<len;i++){index=pages[i];if(i$jscomp$0=feeder.getFeedAt(index)){if(i$jscomp$0.getNext()===record+1){pageMapOrFeeder.push(index);continue}if(i$jscomp$0.getPrevious()>=record-1){pageMapOrFeeder.push(index);break}}pageMapOrFeeder.push(index)}for(pageMap=
pages.indexOf(record);0<=pageMap;pageMap--){index=pages[pageMap];if(i$jscomp$0=feeder.getFeedAt(index)){RecordPosition=i$jscomp$0.getNext();i$jscomp$0=i$jscomp$0.getPrevious();if(RecordPosition===record+1)break;if(pages[pageMap]!==record&&i$jscomp$0<record)break;if(i$jscomp$0===record-1){pageMapOrFeeder.push(index);continue}if(RecordPosition<=record+1){pageMapOrFeeder.push(index);break}}pageMapOrFeeder.push(index)}pages=pageMapOrFeeder}return l8.listNeighbours(pages,page.getPage())},getRightSidePageRangeForPage:function(page,
pageMap,flat=!1){let found=[],tmp,fill=!1;pageMap=this.filterPageMapValue(pageMap);page=this.filterPageValue(page);pageMap=this.getAvailablePageRanges(pageMap);for(var i=0,len=pageMap.length;i<len;i++)tmp=pageMap[i].toArray(),!0===fill&&(!0!==flat?found.push(Ext.create('coon.core.data.pageMap.PageRange',{pages:tmp})):found=found.concat(tmp)),fill||-1===tmp.indexOf(page)||(fill=!0);return found.length?found:null},getPageRangeForPage:function(page,pageMap,flat=!1){let found=[],tmp;pageMap=this.filterPageMapValue(pageMap);
page=this.filterPageValue(page);pageMap=this.getAvailablePageRanges(pageMap);for(var i=0,len=pageMap.length;i<len;i++)tmp=pageMap[i].toArray(),-1!==tmp.indexOf(page)&&found.push(tmp);if(!found.length)return null;1<found.length&&Ext.raise({msg:"'range' has more than one entry for page",range:pageMap,page});return!0!==flat?Ext.create('coon.core.data.pageMap.PageRange',{pages:found[0]}):found[0]},getAvailableRanges:function(pageMapFeeder){let pageRanges=[];pageMapFeeder instanceof coon.core.data.pageMap.PageMapFeeder||
Ext.raise({msg:"'pageMapFeeder' must be an instance of coon.core.data.pageMap.PageMapFeeder",pageMapFeeder});pageMapFeeder=pageMapFeeder.groupWithFeeds();for(var i=0,len=pageMapFeeder?pageMapFeeder.length:-1;i<len;i++)pageRanges.push(Ext.create('coon.core.data.pageMap.PageRange',{pages:pageMapFeeder[i]}));return pageRanges},getAvailablePageRanges:function(pageMap){let ranges=[],pageRanges=[],i;pageMap=this.filterPageMapValue(pageMap);for(i in pageMap.map)ranges.push(i);ranges=l8.groupIndices(ranges);
i=0;for(pageMap=ranges.length;i<pageMap;i++)pageRanges.push(Ext.create('coon.core.data.pageMap.PageRange',{pages:ranges[i]}));return pageRanges},isFirstPageLoaded:function(pageMap){pageMap=this.filterPageMapValue(pageMap);return!!pageMap.map[1]},isLastPageLoaded:function(pageMap){pageMap=this.filterPageMapValue(pageMap);var pageRanges=this.getAvailablePageRanges(pageMap);const store=pageMap.getStore();pageMap=pageMap.getPageSize();pageRanges=pageRanges[pageRanges.length-1].getLast();return pageMap*
pageRanges>=store.getTotalCount()},getLastPossiblePageNumber:function(pageMap){let store;pageMap=this.filterPageMapValue(pageMap);store=pageMap.getStore();pageMap=pageMap.getPageSize();return Math.ceil(store.getTotalCount()/pageMap)},storeIndexToRange:function(start,end,pageMap,ignoreTotalCount=!1){pageMap=this.filterPageMapValue(pageMap);Ext.isNumber(start)&&Ext.isNumber(end)||Ext.raise({msg:"'start' and 'end' must be a number.",start,end});start=parseInt(start,10);end=parseInt(end,10);(0>start||
0>end)&&Ext.raise({msg:"'start' and 'end' must be greater than or equal to 0",start,end});start>end&&Ext.raise({msg:"'start' must be less than or equal to 'end'",start,end});start=this.storeIndexToPosition(start,pageMap,ignoreTotalCount);end=this.storeIndexToPosition(end,pageMap,ignoreTotalCount);return Ext.create('coon.core.data.pageMap.IndexRange',{start,end})},getRecordBy:function(func,feeder){Ext.isFunction(func)||Ext.raise({msg:'"func" must be a Function',func});feeder=this.filterFeederValue(feeder);
var map=feeder.getPageMap().map;let page,a,i,lena;for(i in map)for(page=map[i].value,a=0,lena=page.length;a<lena;a++)if(!0===func.apply(null,[page[a]]))return page[a];map=feeder.feed;let feed;for(feed in map)for(page=map[feed].data,i=0,feeder=page.length;i<feeder;i++)if(!0===func.apply(null,[page[i]]))return page[i];return null},getRecordById:function(id,feeder){return this.getRecordBy(function(rec){if(rec.getId()===id)return!0},feeder)},findRecord:function(record,feeder){record=this.filterRecordValue(record);
feeder=this.filterFeederValue(feeder);let pageMap=feeder.getPageMap(),index=pageMap.indexOf(record);if(-1!==index)return this.storeIndexToPosition(index,pageMap);feeder=feeder.feed;let feed;for(feed in feeder)if(index=feeder[feed].indexOf(record),-1!==index)return Ext.create('coon.core.data.pageMap.RecordPosition',{page:feed,index});return null}});
Ext.cmd.derive('coon.core.data.pageMap.Feed',Ext.Base,{config:{size:void 0,previous:void 0,next:void 0},data:null,constructor:function(cfg){var hasOwnProperty=Object.prototype.hasOwnProperty;cfg=cfg||{};hasOwnProperty.call(cfg,'size')||Ext.raise({msg:"'size' is required for this class",cfg});hasOwnProperty.call(cfg,'previous')||hasOwnProperty.call(cfg,'next')||Ext.raise({msg:"'previous' or 'next' is required for this class",cfg});hasOwnProperty.call(cfg,'previous')&&hasOwnProperty.call(cfg,'next')&&
Ext.raise({msg:"either 'previous' or 'next' must be set, but not both",cfg});this.initConfig(cfg)},hasUndefined:function(){return 0!==this.getSize()-this.data.length},fill:function(records,reverseDirection=!1){const size=this.getSize();return(!0===reverseDirection?this.getPrevious():!this.getPrevious())?this.insertAt(records,size-1,reverseDirection):this.insertAt(records,0,reverseDirection)},indexOf:function(record){const isStart=!this.getPrevious();let index=-1,i,len,rec;record=this.filterRecordValue(record);
i=0;for(len=this.data.length;i<len;i++)if(rec=this.data[i],rec.getId()===record.getId()&&rec===record){index=i;break}return-1===index?-1:isStart?this.getSize()-(this.data.length-index):index},removeAt:function(index){const size=this.getSize(),isStart=!this.getPrevious();index=this.filterIndexValue(index,size);isStart&&(index-=size-this.data.length);if(this.data[index])return this.data.splice(index,1)[0]},replaceWith:function(index,record){var size=this.getSize();const isStart=!this.getPrevious();
index=this.filterIndexValue(index,size);record=this.filterRecordValue(record);isStart&&(index-=size-this.data.length);this.data[index]||Ext.raise({msg:'no record to replace at target index '+index,index});size=this.data[index];this.data[index]=record;return size},insertAt:function(records,index,reverseDirection=!1){const size=this.getSize(),data=this.data;reverseDirection=!0===reverseDirection?!!this.getPrevious():!this.getPrevious();records=this.filterRecordsArray(records);index=this.filterIndexValue(index,
size);let tmp=[];for(let i=0,len=records.length;i<len;i++)tmp.push(records[i]);reverseDirection&&(index-=size-this.data.length);data[index]||(index=reverseDirection?-1:this.data.length);records=[];Array.prototype.splice.apply(data,[index+(reverseDirection?1:0),0].concat(tmp));index=data.length;index>size&&(records=reverseDirection?data.splice(0,index-size):data.splice(size,index-size));return records},extract:function(count,reverseDirection=!1){const size=this.getSize();reverseDirection=!0===reverseDirection?
!!this.getPrevious():!this.getPrevious();count=parseInt(count,10);(!Ext.isNumber(count)||1>count||count>size)&&Ext.raise({msg:"'count' is out of bounds",count});return reverseDirection?count=this.data.splice(Math.max(0,this.data.length-count),count):count=this.data.splice(0,count)},getAt:function(index){const size=this.getSize(),isStart=!this.getPrevious();index=parseInt(index,10);(0>index||index>size-1)&&Ext.raise({msg:"'index' is out of bounds",index});return isStart?this.data[index-(size-this.data.length)]:
this.data[index]},toArray:function(){return this.data},getFreeSpace:function(){return this.getSize()-this.data.length},isEmpty:function(){return 0===this.data.length},applySize:function(size){void 0!==this.getSize()&&Ext.raise({msg:"'size' is already set",size:this.getSize()});size=parseInt(size,10);(!Ext.isNumber(size)||1>size)&&Ext.raise({msg:"'size' must be a number greater than 0",size});this.data=[];return size},applyPrevious:function(previous){return this.setPageHint('previous',previous)},applyNext:function(next){return this.setPageHint('next',
next)},setPageHint:function(type,value){const getter='get'+type[0].toUpperCase()+type.substring(1),pend='next'===type?'previous':'next',pendGetter='get'+pend[0].toUpperCase()+pend.substring(1);if(!this['is'+type[0].toUpperCase()+type.substring(1)+'Initializing'])return void 0!==this[getter]()&&Ext.raise({msg:"'"+type+"' is already set",value:this[getter]()}),void 0!==this[pendGetter]()&&Ext.raise({msg:"'"+pend+"' is already set, cannot set both",value:this[pendGetter]()}),this.filterPageValue(value)}},
1,0,0,0,0,[[coon.core.data.pageMap.ArgumentFilter.prototype.mixinId||coon.core.data.pageMap.ArgumentFilter.$className,coon.core.data.pageMap.ArgumentFilter]],[coon.core.data.pageMap,'Feed'],0);
Ext.cmd.derive('coon.core.data.pageMap.Operation',Ext.Base,{statics:{MOVE:0,REMOVE:-1,ADD:1},config:{result:null,type:void 0},constructor:function(cfg){cfg=cfg||{};Object.prototype.hasOwnProperty.call(cfg,'type')||Ext.raise({msg:"'type' is required for configuring this instance",cfg});this.setType(cfg.type);Object.prototype.hasOwnProperty.call(cfg,'result')&&this.setResult(cfg.result)},applyType:function(type){const statics=this.statics();-1===[statics.MOVE,statics.ADD,statics.REMOVE].indexOf(type)&&
Ext.raise({msg:"invalid value for 'type'",type});void 0!==this.getType()&&Ext.raise({msg:"the 'type' for this operation was already set",type:this.getType()});return type},applyResult:function(result){const statics=this.statics(),type=this.getType();void 0===type&&Ext.raise({msg:"Unexpected missing 'type' for this instance",type});Ext.isObject(result)||Ext.raise({msg:"'result' must be an object",result});this.getResult()&&Ext.raise({msg:"the 'result' for this operation was already set",request:this.getResult()});
Object.prototype.hasOwnProperty.call(result,'success')||Ext.raise({msg:"'success' is required for this result",result});!Object.prototype.hasOwnProperty.call(result,'to')||result.to instanceof coon.core.data.pageMap.RecordPosition||Ext.raise({msg:"'to' must be an instance of coon.core.data.pageMap.RecordPosition",to:result.to});!Object.prototype.hasOwnProperty.call(result,'from')||result.from instanceof coon.core.data.pageMap.RecordPosition||Ext.raise({msg:"'from' must be an instance of coon.core.data.pageMap.RecordPosition",
from:result.from});!Object.prototype.hasOwnProperty.call(result,'record')||result.record instanceof Ext.data.Model||Ext.raise({msg:"'record' must be an instance of Ext.data.Model",record:result.record});-1!==[statics.MOVE,statics.REMOVE].indexOf(type)&&result.success&&!Object.prototype.hasOwnProperty.call(result,'from')&&Ext.raise({msg:"'from' is required for this result",result});-1!==[statics.MOVE,statics.ADD].indexOf(type)&&result.success&&!Object.prototype.hasOwnProperty.call(result,'to')&&Ext.raise({msg:"'to' is required for this result",
result});-1!==[statics.MOVE,statics.REMOVE,statics.ADD].indexOf(type)&&(Object.prototype.hasOwnProperty.call(result,'record')||Ext.raise({msg:"'record' is required for this result",result}));return result}},1,0,0,0,0,0,[coon.core.data.pageMap,'Operation'],0);
Ext.define('coon.core.data.pageMap.IndexLookup',{findInsertIndex:function(record,pageMapFeeder){const pageMap=pageMapFeeder.getPageMap();var PageMapUtil=coon.core.data.pageMap.PageMapUtil,sorters=pageMap.getStore().getSorters();const ranges=PageMapUtil.getAvailableRanges(pageMapFeeder),lastPage=PageMapUtil.getLastPossiblePageNumber(pageMap);let property,dir,first,last;let recordPosition;1!==sorters.length&&Ext.raise({msg:"there must be one sorter configured for the PageMap's store",sorters});if(!ranges.length)return 1;
property=sorters.getAt(0).getProperty();dir=sorters.getAt(0).getDirection();record.getField(property)||Ext.raise({msg:'Unexpected missing field definition: "'+property+'"',property});sorters=record.getField(property).compare;PageMapUtil=(recordPosition=PageMapUtil.findRecord(record,pageMapFeeder))?record.getId():void 0;for(var i=0,len=ranges.length;i<len;i++){var range=ranges[i];first=range.getFirst();last=range.getLast();range=this.scanRangeForIndex(first,last,record.get(property),property,dir,sorters,
PageMapUtil,pageMapFeeder,recordPosition);if(Ext.isArray(range))break;if(-1===range){if(1===first)return pageMapFeeder.getFeedAt(first)?-1:[1,0];if(1===previousIndex)return 0}if(1===range&&last===lastPage){var previousIndex=pageMapFeeder.getFeedAt(last);if(void 0===PageMapUtil&&(previousIndex&&0===previousIndex.getFreeSpace()||pageMap.map[last]&&pageMap.map[last].value.length===pageMap.getPageSize()))return[last+1,0];if(previousIndex&&0<previousIndex.getFreeSpace()||pageMap.map[last]&&pageMap.map[last].value.length<
pageMap.getPageSize())return[last,previousIndex?previousIndex.getSize()-previousIndex.getFreeSpace():pageMap.map[last].value.length]}previousIndex=range}return range},scanRangeForIndex:function(start,end,value,property,direction,cmpFunc,ignoreId,pageMapFeeder,recordPosition){const map=pageMapFeeder.getPageMap().map,PageMapUtil=coon.core.data.pageMap.PageMapUtil,RecordPosition=coon.core.data.pageMap.RecordPosition;let pageIterate;let neighbour,i;for(i=start;i<=end;i++)Object.prototype.hasOwnProperty.call(map,
i)||pageMapFeeder.getFeedAt(i)||Ext.raise({msg:'page not available in PageMap and not available as Feed',page:i,map});for(i=start;i<=end;i++){let feed=pageMapFeeder.getFeedAt(i),lena=feed?feed.getSize():map[i].value.length,hasNext=feed&&feed.getNext();pageIterate=i;for(var a=0;a<lena;a++){var cmpRecord=feed?feed.getAt(a):map[i].value[a];if(!(void 0!==ignoreId&&cmpRecord&&ignoreId===cmpRecord.getId()||feed&&void 0===cmpRecord))switch(cmpRecord=cmpFunc.apply(null,[value,cmpRecord.get(property)]),!0){case 0===
cmpRecord:return recordPosition&&(start=RecordPosition.create(pageIterate,a),start.lessThan(recordPosition)?neighbour=PageMapUtil.getNeighbour(RecordPosition.create(recordPosition.getPage(),recordPosition.getIndex()),pageMapFeeder,!0):start.greaterThan(recordPosition)&&(neighbour=PageMapUtil.getNeighbour(RecordPosition.create(recordPosition.getPage(),recordPosition.getIndex()),pageMapFeeder,!1)),neighbour&&0===cmpFunc.apply(null,[value,neighbour.get(property)]))?[recordPosition.getPage(),recordPosition.getIndex()]:
[pageIterate,a];case 'ASC'===direction&&-1===cmpRecord:return 0===a||hasNext&&feed.getFreeSpace()===a?-1:[pageIterate,a-(hasNext?1:0)];case 'DESC'===direction&&1===cmpRecord:return 0===a&&pageIterate===start||hasNext&&feed.getFreeSpace()===a?-1:[pageIterate,a]}}}return 1}});
Ext.define('coon.core.data.pageMap.PageMapFeeder',{mixins:['coon.core.data.pageMap.ArgumentFilter','Ext.mixin.Observable'],statics:{ACTION_ADD:1,ACTION_REMOVE:-1},config:{pageMap:null},indexLookup:null,feed:null,sanitizerSuspended:!1,constructor:function(cfg){cfg=cfg||{};Object.prototype.hasOwnProperty.call(cfg,'pageMap')||Ext.raise({msg:"'pageMap' is required for this class",cfg});this.initConfig(cfg);this.mixins.observable.constructor.call(this);this.feed={}},reset:function(){this.feed={};this.sanitizerSuspended=
!1},applyPageMap:function(pageMap){this.getPageMap()&&Ext.raise({msg:"'pageMap' is already set",pageMap:this.getPageMap()});pageMap instanceof Ext.data.PageMap||Ext.raise({msg:"'pageMap' must be an instance of Ext.data.PageMap",pageMap});let store=pageMap.getStore();store&&store instanceof Ext.data.BufferedStore||Ext.raise({msg:"'pageMap' must be configured with a valid store",pageMap});store.on('clear',this.reset,this);return pageMap},destroy:function(){this.getPageMap().getStore().un('clear',this.reset,
this);this.callParent(arguments)},update:function(record){const pageMap=this.getPageMap();var lookup=this.getIndexLookup(),RecordPosition=coon.core.data.pageMap.RecordPosition;const op=Ext.create('coon.core.data.pageMap.Operation',{type:coon.core.data.pageMap.Operation.MOVE}),createResult=function(cfg){cfg.record=record;op.setResult(cfg);return op},updateTotalCount=function(){let store=pageMap.getStore();store.totalCount=store.getTotalCount()+1};this.filterRecordValue(record);var pos=lookup.findInsertIndex(record,
this);if(Ext.isArray(pos))return RecordPosition=RecordPosition.create(pos),pos[0]===pos[1]?createResult({success:!0,from:RecordPosition,to:RecordPosition}):this.moveRecord(record,RecordPosition);pos=this.removeRecord(record);if(!pos.getResult().success)return updateTotalCount(),createResult({success:!1});pos=pos.getResult().from;lookup=lookup.findInsertIndex(record,this);if(Ext.isArray(lookup))pos=RecordPosition.create(lookup);else return updateTotalCount(),createResult({success:!1,from:pos});return this.addRecord(record,
pos)},remove:function(record){return this.removeRecord(record)},add:function(record){var pageMap=this.getPageMap();const map=pageMap.map;var PageMapUtil=coon.core.data.pageMap.PageMapUtil,lookup=this.getIndexLookup();const lastPossPage=PageMapUtil.getLastPossiblePageNumber(pageMap),RecordPosition=coon.core.data.pageMap.RecordPosition;PageMapUtil=Ext.create('coon.core.data.pageMap.Operation',{type:coon.core.data.pageMap.Operation.ADD});this.filterRecordValue(record);lookup=lookup.findInsertIndex(record,
this);let pos=null,createPage=!1;if(Ext.isArray(lookup))pos=RecordPosition.create(lookup),lastPossPage!==pos.getPage()-1||map[pos.getPage()]||(createPage=!0);else if(1===lookup)if(0===pageMap.getCount())createPage=!0,pos=RecordPosition.create(1,0);else return pageMap=pageMap.getStore(),pageMap.totalCount=pageMap.getTotalCount()+1,PageMapUtil.setResult({success:!1,record}),PageMapUtil;createPage&&pageMap.add(pos.getPage(),[]);return this.addRecord(record,pos)},moveRecord:function(record,to){var pageMap=
this.getPageMap();const PageMapUtil=coon.core.data.pageMap.PageMapUtil;var Operation=coon.core.data.pageMap.Operation;Operation=Ext.create(Operation,{type:Operation.MOVE});const result={};to=this.filterRecordPositionValue(to,pageMap.getPageSize());result.to=to;let from=PageMapUtil.findRecord(record,this);from||Ext.raise({msg:"'record' cannot be found in PageMap and cannot be found in Feeds",record});result.from=from;result.record=record;let targetPage=to.getPage();pageMap.peekPage(targetPage)||this.getFeedAt(targetPage)||
Ext.raise({msg:'the page of the requested position does not exist; page: '+targetPage,to});if(PageMapUtil.getPageRangeForRecord(record,this).contains(to))return PageMapUtil.moveRecord(from,to,this)?result.success=!0:result.success=!1,Operation.setResult(result),Operation;this.sanitizerSuspended=!0;pageMap=Ext.create('Ext.data.Model');this.replaceWith(from,pageMap);this.addRecord(record,to);this.removeRecord(pageMap);this.sanitizerSuspended=!1;this.sanitizeFeedsForPage(Math.min(to.getPage(),from.getPage()),
null,!0);result.success=!0;Operation.setResult(result);return Operation},addRecord:function(record,to){const me=this,pageMap=me.getPageMap(),map=pageMap.map;var ADD=me.statics().ACTION_ADD;const op=Ext.create('coon.core.data.pageMap.Operation',{type:coon.core.data.pageMap.Operation.ADD}),pageSize=pageMap.getPageSize();var l8core=l8;const PageRange=coon.core.data.pageMap.PageRange,PageMapUtil=coon.core.data.pageMap.PageMapUtil,maintainRanges=[];let page,index;record=me.filterRecordValue(record);to=
me.filterRecordPositionValue(to,pageSize);page=to.getPage();index=to.getIndex();pageMap.peekPage(page)||me.getFeedAt(page)||Ext.raise({msg:"the requested 'page' does not exist in PageMap and does not exist in Feeds",page});ADD=me.prepareForAction(page,ADD);let records=[record];page<ADD[0][0]&&ADD[0].unshift(page);let insertIndex=index,internalId,previousPage;Ext.Array.each(ADD,function(range){let currentPage=range[0];for(range=1===range.length?range[0]:range[1];currentPage<=range;){let feed=me.getFeedAt(currentPage);
insertIndex=currentPage===page?index:0;feed?(previousPage&&(me.getFeedAt(previousPage)&&!me.canServeFromFeed(previousPage,currentPage)||feed.getPrevious()!==previousPage)&&(records=[]),records.length?(internalId=records[0].internalId,records=feed.insertAt(records,insertIndex,!!feed.getNext())):records=feed.extract(1),internalId&&delete pageMap.indexMap[internalId]):(map[currentPage].value.splice(insertIndex,0,records[0]),maintainRanges.push(currentPage),records=map[currentPage].value.splice(pageSize,
1));previousPage=currentPage;currentPage++}});Ext.Array.each(l8core.groupIndices(maintainRanges),function(range){PageMapUtil.maintainIndexMap(PageRange.createFor(range[0],range[range.length-1]),pageMap)});me.sanitizeFeedsForPage(page,me.statics().ACTION_ADD,!0);l8core=pageMap.getStore();l8core.totalCount=l8core.getTotalCount()+1;return function(cfg){op.setResult(cfg);return op}({success:!0,record,to})},removeRecord:function(record){const me=this,pageMap=me.getPageMap(),map=pageMap.map;var REMOVE=
me.statics().ACTION_REMOVE;const op=Ext.create('coon.core.data.pageMap.Operation',{type:coon.core.data.pageMap.Operation.REMOVE}),l8core=l8,PageRange=coon.core.data.pageMap.PageRange,PageMapUtil=coon.core.data.pageMap.PageMapUtil,maintainRanges=[],createResult=function(cfg){op.setResult(cfg);return op},updateStoreCount=function(){let store=pageMap.getStore();store.totalCount=store.getTotalCount()-1};let position=PageMapUtil.findRecord(record,me);if(!position)return updateStoreCount(),createResult({success:!1,
record});let page$jscomp$0=position.getPage();var index=position.getIndex();REMOVE=me.prepareForAction(page$jscomp$0,REMOVE);if(null===REMOVE&&page$jscomp$0!==PageMapUtil.getLastPossiblePageNumber(pageMap))return updateStoreCount(),createResult({success:!1,record,from:position});PageMapUtil.getRecordAt(position,me)!==record&&Ext.raise({msg:Ext.String.format('Unexpected error: record is not available at page {0} and index {1} anymore',page$jscomp$0,index),record});let records=null;REMOVE&&(page$jscomp$0+
1<REMOVE[0][0]&&REMOVE[0].unshift(page$jscomp$0+1),Ext.Array.each(REMOVE.reverse(),function(range){let start=range[0];range=range[range.length-1];do a:{let tmp=void 0;var currentPage=range,currentRecords=records,recordsAreFromPage=range+1?range+1:-1;let isPage=!!pageMap.peekPage(currentPage),page=isPage?pageMap.peekPage(currentPage).value:me.getFeedAt(currentPage);if(isPage)maintainRanges.push(currentPage),tmp=page.splice(0,1),currentRecords&&currentRecords.length&&page.push(currentRecords[0]);else{page.getNext()?
0===page.getFreeSpace()&&(tmp=page.extract(1,!0)):tmp=page.extract(1);if(me.getFeedAt(recordsAreFromPage))if(!me.canServeFromFeed(recordsAreFromPage,currentPage)){records=tmp;break a}else if(page.getPrevious()&&currentRecords&&currentRecords.length){page.fill(currentRecords,!0);records=tmp;break a}page.getNext(recordsAreFromPage)&&currentRecords&&currentRecords.length&&page.fill(currentRecords)}records=tmp}while(range-- >start)}));(REMOVE=me.getFeedAt(page$jscomp$0))?(REMOVE.removeAt(index),records&&
REMOVE.fill(records)):(index=map[page$jscomp$0].value.splice(index,1),records&&map[page$jscomp$0].value.push(records[0]),delete pageMap.indexMap[index[0].internalId],maintainRanges.push(page$jscomp$0));Ext.Array.each(l8core.groupIndices(maintainRanges),function(range){PageMapUtil.maintainIndexMap(PageRange.createFor(range[0],range[range.length-1]),pageMap)});me.sanitizeFeedsForPage(page$jscomp$0,me.statics().ACTION_REMOVE,!0);updateStoreCount();return createResult({success:!0,record,from:position})},
sanitizeFeedsForPage:function(page,action=null,finalizing=!1){const pageMap=this.getPageMap();var PageMapUtil=coon.core.data.pageMap.PageMapUtil;const ADD=this.statics().ACTION_ADD,REMOVE=this.statics().ACTION_REMOVE;if(!0===this.sanitizerSuspended)return!1;!0!==finalizing&&-1===[ADD,REMOVE].indexOf(action)&&Ext.raise({msg:"'action' must be any of ACTION_ADD or ACTION_REMOVE when finalizing",action});page=this.filterPageValue(page);if(!this.getFeedAt(page)&&!pageMap.peekPage(page))return!1;var currentPageRange=
PageMapUtil.getPageRangeForPage(page,pageMap,!0);PageMapUtil=PageMapUtil.getRightSidePageRangeForPage(page,pageMap,!0);let i,len;for(i in this.feed)i=this.filterPageValue(i),this.isPageCandidate(i)?pageMap.peekPage(i)?this.removeFeedAt(i):this.swapFeedToMap(i):this.getFeedAt(i).isEmpty()&&this.removeFeedAt(i);currentPageRange=null!==currentPageRange?currentPageRange:[];currentPageRange=currentPageRange.concat(null!==PageMapUtil?PageMapUtil:[]);currentPageRange.splice(0,currentPageRange.indexOf(page)+
1);i=0;for(len=currentPageRange.length;i<len;i++)PageMapUtil=currentPageRange[i],action===ADD?pageMap.peekPage(PageMapUtil-1)||!this.getFeedAt(PageMapUtil+1)||this.getFeedAt(PageMapUtil-1)&&this.getFeedAt(PageMapUtil-1).getNext()===PageMapUtil||this.getFeedAt(PageMapUtil+1).getPrevious()!==PageMapUtil||(this.removePageAt(PageMapUtil),this.removeFeedAt(i+1)):action!==REMOVE||pageMap.peekPage(PageMapUtil+1)||!this.getFeedAt(PageMapUtil-1)||this.getFeedAt(PageMapUtil+1)&&this.getFeedAt(PageMapUtil+1).getPrevious()===
PageMapUtil||this.getFeedAt(PageMapUtil-1).getNext()!==PageMapUtil||(this.removePageAt(PageMapUtil),this.removeFeedAt(i-1)),pageMap.peekPage(PageMapUtil-1)||pageMap.peekPage(PageMapUtil+1)||this.hasPreviousFeed(PageMapUtil)||this.hasNextFeed(PageMapUtil)||this.removePageAt(PageMapUtil);!0===finalizing&&(this.hasPreviousFeed(page)||this.hasNextFeed(page)||!pageMap.peekPage(page)||pageMap.peekPage(page).value.length||this.removePageAt(page));return!0},removeFeedAt:function(page){page=this.filterPageValue(page);
if(!this.getFeedAt(page))return!1;delete this.feed[page];return!0},swapFeedToMap:function(page){const pageMap=this.getPageMap();let feed,feedData,data;page=this.filterPageValue(page);pageMap.peekPage(page)&&Ext.raise({msg:"'page' does still exist in page map",page});(feed=this.getFeedAt(page))||Ext.raise({msg:"the feed for the specified 'page' does not exist",page});feedData=this.getFeedAt(page).toArray();data=[];for(var i=0,len=feedData.length;i<len;i++)data.push(feedData[i]);this.removeFeedAt(page);
pageMap.addPage(page,data);return feed},swapMapToFeed:function(page,targetPage){var pageMap=this.getPageMap();let feedData;page=this.filterPageValue(page);targetPage=this.filterPageValue(targetPage);pageMap.peekPage(page)||Ext.raise({msg:"'page' does not exist in page map",page});this.getFeedAt(page)&&Ext.raise({msg:"the feed for the specified 'page' already exists and is not empty",page});feedData=[];pageMap=pageMap.peekPage(page).value;for(var i=0,len=pageMap.length;i<len;i++)feedData.push(pageMap[i]);
this.removePageAt(page);page=this.createFeedAt(page,targetPage);page.fill(feedData);return page},findFeedIndexesForActionAtPage:function(page$jscomp$0,action){const me=this,ADD=me.statics().ACTION_ADD,REMOVE=me.statics().ACTION_REMOVE,pageMap=me.getPageMap(),isAdd=action===ADD,isAlreadyMarkedAsFeed=function(indexes,page){for(let i=0,len=indexes.length;i<len;i++)if(indexes[i][0]===page||indexes[i][1]===page)return!0;return!1};page$jscomp$0=me.filterPageValue(page$jscomp$0);-1===[ADD,REMOVE].indexOf(action)&&
Ext.raise({msg:"'action' must be any of ACTION_ADD or ACTION_REMOVE",action});if(!isAdd&&!pageMap.peekPage(page$jscomp$0+1)&&!me.getFeedAt(page$jscomp$0+1))return null;let found=me.groupWithFeedsForPage(page$jscomp$0),indexes$jscomp$0=[],grp,end;if(null===found)return null;Ext.Array.each(found,function(range,foundIndex){grp=[];end=range.length-1;!isAdd&&range[end-1]&&foundIndex===found.length-1&&me.getFeedAt(range[end-1])||(-1!==range.indexOf(page$jscomp$0)?isAdd&&range.indexOf(page$jscomp$0)===end&&
(me.getFeedAt(page$jscomp$0)?1===range.length&&indexes$jscomp$0.push([page$jscomp$0]):indexes$jscomp$0.push([page$jscomp$0+1])):grp.push(isAdd||me.getFeedAt(range[0])||isAlreadyMarkedAsFeed(indexes$jscomp$0,range[0]-1)?range[0]:range[0]-1),1!==range.length&&(grp.push(!isAdd||me.getFeedAt(range[end])||found[foundIndex+1]&&found[foundIndex+1][0]===range[end]+1?range[end]:range[end]+1),grp.length&&indexes$jscomp$0.push(grp)))});return indexes$jscomp$0},fillFeed:function(page,records){records=[].concat(records);
page=this.filterPageValue(page);this.feed[page]||Ext.raise({msg:"the feed for the requested 'page' does not exist",page});return this.feed[page].fill(records)},createFeedAt:function(page,targetPage){const pageMap=this.getPageMap();var pageSize=pageMap.getPageSize();let position;page=this.filterPageValue(page);targetPage=this.filterPageValue(targetPage);1!==Math.abs(targetPage-page)&&Ext.raise({msg:'"targetPage" value must be 1 less or more than "page".',targetPage,page});pageMap.peekPage(page)&&Ext.raise({msg:'Unexpected page at '+
page,page:pageMap.peekPage(page)});pageMap.peekPage(page-1)||pageMap.peekPage(page+1)||Ext.raise({msg:'Feed for the requested "page" must have at least one neighbour page',page:pageMap.peekPage(page)});switch(!0){case 0>targetPage-page:position=['previous',targetPage];break;case 0<targetPage-page:position=['next',targetPage]}(targetPage=this.getFeedAt(page))&&('previous'===position[0]&&targetPage.getPrevious()!==position[1]||'next'===position[0]&&targetPage.getNext()!==position[1])&&Ext.raise({msg:Ext.String.format('The computed previous/next values for the existing feed do not match is current values. Requested: {0}: {1}; available: {2}, {3}',
position[0],position[1],targetPage.getPrevious()?'previous':'next',targetPage.getPrevious()?targetPage.getPrevious():targetPage.getNext()),computed:position,previous:targetPage.getPrevious(),next:targetPage.getNext()});targetPage||(pageSize={size:pageSize},'next'===position[0]?pageSize.next=position[1]:pageSize.previous=position[1],Ext.apply(pageSize,{}),targetPage=Ext.create('coon.core.data.pageMap.Feed',pageSize),this.feed[page]=targetPage);return targetPage},isPageCandidate:function(page){const PageMapUtil=
coon.core.data.pageMap.PageMapUtil;let feed;page=this.filterPageValue(page);feed=this.getFeedAt(page);return!feed||feed.hasUndefined()&&page!==PageMapUtil.getLastPossiblePageNumber(this.getPageMap())?!1:!0},getFeedAt:function(page){page=this.filterPageValue(page);return this.feed[page]?this.feed[page]:null},hasPreviousFeed:function(page){page=this.filterPageValue(page);return 1<page&&null!==this.getFeedAt(page-1)&&this.getFeedAt(page-1).getNext()===page},hasNextFeed:function(page){page=this.filterPageValue(page);
return null!==this.getFeedAt(page+1)&&this.getFeedAt(page+1).getPrevious()===page},groupWithFeedsForPage:function(page){return this.groupWithFeeds(page)},groupWithFeeds:function(page=0){var pageMap=this.getPageMap();const range=[],found=[],current=[];let i;if(0!==page&&(page=this.filterPageValue(page),!pageMap.peekPage(page)&&!this.getFeedAt(page)))return null;for(i in pageMap.map)i=parseInt(i,10),i>=page&&range.push(i);for(i in this.feed)i=parseInt(i,10),i>=page&&range.push(i);if(!range.length)return null;
range.sort(function(a,b){return a-b});i=0;for(page=range.length;i<page;i++){pageMap=this.getFeedAt(range[i]);let currentPage=range[i];i===page-1||pageMap&&pageMap.getPrevious()||range[i+1]-1!==currentPage||this.getFeedAt(range[i+1])&&this.getFeedAt(range[i+1]).getPrevious()!==currentPage?(current.push(range[i]),found.push(current.splice(0,current.length))):current.push(range[i])}return found},prepareForAction:function(page,action){const me=this,ADD=me.statics().ACTION_ADD,REMOVE=me.statics().ACTION_REMOVE,
pageMap=me.getPageMap(),isAdd=action===ADD;page=me.filterPageValue(page);-1===[ADD,REMOVE].indexOf(action)&&Ext.raise({msg:"'action' must be any of ACTION_ADD or ACTION_REMOVE",action});me.sanitizeFeedsForPage(page,action);page=me.findFeedIndexesForActionAtPage(page,action);if(null===page)return null;let createAndSwap=function(at,targetPage){pageMap.peekPage(at)&&me.swapMapToFeed(at,targetPage);me.createFeedAt(at,targetPage)},length;Ext.Array.each(page,function(range,feedIndex){Ext.Array.each(range,
function(currentPage,rangeIndex){length=range.length;1<length?1===Math.abs(range[1]-range[0])?isAdd?createAndSwap(range[0],range[1]):createAndSwap(range[1],range[0]):(createAndSwap(range[0],range[0]+1),createAndSwap(range[1],range[1]-1)):createAndSwap(range[0],range[0]-1)})});return page},canServeFromFeed:function(fromIndex,toIndex){const pageMap=this.getPageMap();fromIndex=this.filterPageValue(fromIndex);toIndex=this.filterPageValue(toIndex);let feed=this.getFeedAt(fromIndex);feed||Ext.raise({msg:"The Feed at 'fromIndex' "+
fromIndex+' does not exist.',fromIndex});return 1!==Math.abs(fromIndex-toIndex)?!1:pageMap.peekPage(toIndex)&&feed.getFreeSpace()<feed.getSize()&&(feed.getPrevious()===toIndex||feed.getNext()===toIndex)?!0:(fromIndex=this.getFeedAt(toIndex))?0<fromIndex.getFreeSpace()&&0===feed.getFreeSpace()?!0:!1:!1},replaceWith:function(position,record){const pageMap=this.getPageMap(),map=pageMap.map;position=this.filterRecordPositionValue(position,pageMap.getPageSize());record=this.filterRecordValue(record);let page=
position.getPage(),index=position.getIndex(),feed=this.getFeedAt(page);map[page]||feed||Ext.raise({msg:"the requested position's page does not exist in the PageMAp and does not exist in Feeds",position});if(feed)return feed.replaceWith(index,record);position=map[page].value[index];map[page].value[index]=record;pageMap.indexMap[record.internalId]=pageMap.indexMap[position.internalId];delete pageMap.indexMap[position.internalId];return position},getIndexLookup:function(){this.indexLookup||(this.indexLookup=
Ext.create('coon.core.data.pageMap.IndexLookup'));return this.indexLookup},removePageAt:function(page){const pageMap=this.getPageMap();pageMap.removeAtKey(page);pageMap.peekPage(page)&&(this.hasListener('cn_core-pagemapfeeder-pageremoveveto')?this.fireEvent('cn_core-pagemapfeeder-pageremoveveto',this,page):Ext.raise({msg:'someone unexpectedly vetoed removing the page at '+page+', and no listener is registered for handling this.',page}))}});
Ext.cmd.derive('coon.core.exception.Exception',Ext.Base,{alternateClassName:'coon.core.Exception',getMessage(){return this.msg},getCause(){return this.cause},constructor(cfg,cause){this.msg='object'===typeof cfg?cfg.msg||cfg.message:'string'===typeof cfg?cfg:void 0;this.cause=cause;Object.freeze(this)}},1,0,0,0,0,0,[coon.core.exception,'Exception',coon.core,'Exception'],0);
Ext.cmd.derive('coon.core.exception.IllegalArgumentException',coon.core.exception.Exception,{alternateClassName:'coon.core.IllegalArgumentException'},0,0,0,0,0,0,[coon.core.exception,'IllegalArgumentException',coon.core,'IllegalArgumentException'],0);
Ext.cmd.derive('coon.core.exception.UnsupportedOperationException',coon.core.exception.Exception,{alternateClassName:'coon.core.UnsupportedOperationException'},0,0,0,0,0,0,[coon.core.exception,'UnsupportedOperationException',coon.core,'UnsupportedOperationException'],0);
Ext.cmd.derive('coon.core.exception.MissingPropertyException',coon.core.exception.Exception,{alternateClassName:'coon.core.MissingPropertyException'},0,0,0,0,0,0,[coon.core.exception,'MissingPropertyException',coon.core,'MissingPropertyException'],0);
Ext.cmd.derive('coon.core.Environment',Ext.Base,{singleton:!0,config:{vendorBase:void 0},applyVendorBase(vendorBase){if(void 0!==this.getVendorBase())throw new coon.core.UnsupportedOperationException('The "VendorBase" has already been configured');if(!(vendorBase instanceof coon.core.env.VendorBase))throw new coon.core.IllegalArgumentException('"vendorBase" must be an instance of coon.core.env.VendorBase');return vendorBase},get(key){return this.delegate('get',arguments)},getPathForResource(path,
pkg){return this.delegate('getPathForResource',arguments)},getEnvironment(){return this.delegate('getEnvironment',arguments)},getManifest(key){return this.delegate('getManifest',arguments)},getPackage(packageName){return this.delegate('getPackage',arguments)},getPackages(){return this.delegate('getPackages',arguments)},async loadPackage(packageName){const vendorBase=this.getVendorBase();if(!vendorBase)throw new coon.core.MissingPropertyException('no VendorBase configured for the Environment');return await vendorBase.loadPackage(packageName)},
privates:{delegate(fnName,args){const vendorBase=this.getVendorBase();if(!vendorBase)throw new coon.core.MissingPropertyException('no VendorBase configured for the Environment');return vendorBase[fnName].apply(vendorBase,args)}}},0,0,0,0,0,0,[coon.core,'Environment'],0);Ext.cmd.derive('coon.core.app.ApplicationException',coon.core.exception.Exception,{},0,0,0,0,0,0,[coon.core.app,'ApplicationException'],0);
Ext.cmd.derive('coon.core.app.ConfigurationException',coon.core.app.ApplicationException,{},0,0,0,0,0,0,[coon.core.app,'ConfigurationException'],0);Ext.cmd.derive('coon.core.exception.ParseException',coon.core.exception.Exception,{alternateClassName:'coon.core.ParseException'},0,0,0,0,0,0,[coon.core.exception,'ParseException',coon.core,'ParseException'],0);
Ext.define('coon.core.app.ConfigLoader',{constructor(fileLoader){if(!(fileLoader instanceof coon.core.data.request.file.FileLoader))throw new coon.core.exception.IllegalArgumentException('\fileLoader" must be an instance of coon.core.data.request.file.FileLoader');Object.defineProperty(this,'fileLoader',{value:fileLoader,writable:!1,configurable:!1})},async load(domain,url,configPath,registerConfig){if(!url){var paths=this.getPathForDomain(domain);let exists=await this.fileLoader.ping(paths.environment);
url=url?url:exists?paths.environment:paths['default'];if(url!==paths.environment&&!1===await this.fileLoader.ping(url))return}paths={};let txt;try{txt=await this.fileLoader.load(url)}catch(e){throw new coon.core.app.ConfigurationException(e,e);}try{txt&&(paths=JSON.parse(txt))}catch(e){throw new coon.core.exception.ParseException(e);}paths=configPath?l8.unchain(configPath,paths,{}):paths;!1!==registerConfig&&coon.core.ConfigManager.register(domain,paths);return paths},privates:{getFileNameForDomain(domain){const env=
coon.core.Environment.getManifest('coon-js.env');return{'default':domain+'.conf.json',environment:env?domain+'.'+env+'.conf.json':void 0}},getPathForDomain(domain){const Environment=coon.core.Environment;domain=this.getFileNameForDomain(domain);let resourcePath=Environment.getManifest('coon-js.resourcePath');resourcePath=resourcePath?resourcePath+'/':'';return{'default':Environment.getPathForResource(resourcePath+domain['default']),environment:domain.environment?Environment.getPathForResource(resourcePath+
domain.environment):void 0}}}});
Ext.define('coon.core.app.BatchConfigLoader',{constructor(configLoader){if(!(configLoader instanceof coon.core.app.ConfigLoader))throw new coon.core.exception.IllegalArgumentException('configLoader must be an instanceof coon.core.app.ConfigLoader');this.configLoader=configLoader},addDomain(domain,defaultConfig,fileName){this.domains||(this.domains={});if(this.domains[domain])return!1;this.domains[domain]={defaultConfig};l8.isString(fileName)&&(this.domains[domain].fileName=fileName);return!0},async load(){const me=
this;var entries=Object.entries(me.domains||{});entries=await Promise.all(entries.map(async(entry)=>{let result,domain;domain=entry[0];entry=entry[1];try{result=await me.loadDomain(domain,entry)}catch(e){result=e}return[domain,result]}));return Object.fromEntries(entries)},async loadDomain(domain,domainConfig){const Manager=coon.core.ConfigManager,configLoader=this.configLoader;try{let url,fileName=domainConfig.fileName;fileName&&(url=this.resolveFileLocation(fileName,domain));await configLoader.load(domain,
url)}catch(e){if(!((e.getCause()||{})instanceof coon.core.data.request.HttpRequestException))throw e;}return Manager.get(domain)||Manager.register(domain,domainConfig.defaultConfig)},resolveFileLocation(file,pkg){const Environment=coon.core.Environment;if(-1!==file.indexOf('/')){file=file.replace('${coon-js.resourcePath}','${coon_js.resourcePath}');file=l8.template.esix.make(file);const pkgInfo=Environment.getPackage(pkg);pkg=!0===pkgInfo.included&&!0===pkgInfo.required?Environment.getPathForResource(''):
Environment.getPathForResource(pkg);return file.render({coon_js:{resourcePath:Environment.getPathForResource(Environment.getManifest('coon-js.resourcePath'))},'package':{resourcePath:pkg}})}return Environment.getPathForResource(file,pkg)}});Ext.cmd.derive('coon.core.data.request.HttpRequestException',coon.core.exception.Exception,{},0,0,0,0,0,0,[coon.core.data.request,'HttpRequestException'],0);
Ext.cmd.derive('coon.core.data.request.file.XmlHttpRequestFileLoader',coon.core.data.request.file.FileLoader,{async load(url){if('string'!==typeof url)throw new coon.core.exception.IllegalArgumentException('FileLoader needs an url');return await new Promise((resolve,reject)=>{const request=new XMLHttpRequest;request.open('GET',url);request.onload=(progressEvent)=>{progressEvent=progressEvent.target;200===progressEvent.status?resolve(progressEvent.responseText):reject(new coon.core.data.request.HttpRequestException(progressEvent.status+
' '+progressEvent.statusText))};request.onerror=(progressEvent)=>{reject(new coon.core.data.request.HttpRequestException(`An unexpected error occured while trying to load from ${progressEvent.target.responseURL}`))};request.send()})}},0,0,0,0,0,0,[coon.core.data.request.file,'XmlHttpRequestFileLoader'],0);
Ext.define('coon.core.app.ApplicationUtil',{constructor(){this.configLoader=Ext.create('coon.core.app.ConfigLoader',coon.core.FileLoader);this.batchConfigLoader=Ext.create('coon.core.app.BatchConfigLoader',this.configLoader)},getCoonPackages:(manifestPackages)=>{const packages={};Object.entries(manifestPackages).forEach((entry)=>{let [packageName,packageConfig]=entry;entry=l8.unchain('coon-js.package',packageConfig);void 0!==entry&&(packages[packageName]=Ext.clone(packageConfig),l8.isObject(entry.autoLoad)&&
!0===entry.autoLoad.registerController&&(packages[packageName]['coon-js']['package'].controller=`${packageConfig.namespace}.app.PackageController`))});return packages},getApplicationConfigUrls:()=>{const Environment=coon.core.Environment,applicationName=Environment.getManifest('name'),env=Environment.getManifest('coon-js.env'),envPath=env?'coon-js/'+[applicationName,'.',env,'.conf.json'].join(''):void 0;return{'default':Environment.getPathForResource('coon-js/'+applicationName+'.conf.json'),environment:env?
Environment.getPathForResource(envPath):void 0}},getPackageNameForController(controller,manifestPackages){if(!l8.isObject(manifestPackages))throw'"manifestPackages" must be an object';manifestPackages=this.getCoonPackages(manifestPackages);let found;Object.entries(manifestPackages).some((entry)=>{let [packageName,config]=entry;if(config['coon-js']['package'].controller===controller)return found=packageName,!0});return found},getControllerPlugins(manifestPackages,forController){return this.getPluginsForType('controller',
manifestPackages,forController)},getComponentPlugins(manifestPackages,forController){return this.getPluginsForType('components',manifestPackages,forController)},getPluginsForType(pluginType,manifestPackages,forController){const types=['controller','components'];if(!types.includes(pluginType))throw Error(`"pluginType" must be one of ${types.join(', ')}`);const me=this,coonPackages=me.getCoonPackages(manifestPackages),pluginMap={};Object.entries(coonPackages).forEach((entry)=>{let [packageName,packageConfig]=
entry;entry=[].concat(coon.core.ConfigManager.get(packageName,`plugins.${pluginType}`,null)||l8.unchain(`coon-js.package.config.plugins.${pluginType}`,packageConfig,[]));if(entry.length){var ctrl=l8.unchain('coon-js.package.controller',packageConfig);void 0!==forController&&ctrl!==forController||entry.forEach(function(plugin){let fqn=plugin;l8.isString(plugin)&&(fqn=me.getFqnForPlugin(plugin,coonPackages,'controller'));fqn&&(pluginMap[ctrl]=pluginMap[ctrl]||[],pluginMap[ctrl].push(fqn))})}});return pluginMap},
getApplicationPlugins(plugins,manifestPackages){const me=this,coonPackages=me.getCoonPackages(manifestPackages),fqns=[];plugins.forEach((plugin)=>{(plugin=me.getFqnForPlugin(plugin,coonPackages,'application'))&&fqns.push(plugin)});return fqns},async loadApplicationConfig(){const appName=coon.core.Environment.getManifest('name'),loadedConfig=await this.configLoader.load(appName,void 0,appName,!1);coon.core.ConfigManager.register(appName,loadedConfig&&loadedConfig.application);return loadedConfig},
async loadPackages(manifestPackages){const batchLoader=this.batchConfigLoader;manifestPackages=this.getCoonPackages(manifestPackages);const controllers=[];manifestPackages=Object.entries(manifestPackages);manifestPackages.forEach((entry)=>{let [name,packageConfig]=entry;entry=l8.unchain('coon-js.package.controller',packageConfig);let config=l8.unchain('coon-js.package.config',packageConfig),loadFromFile=l8.unchain('coon-js.package.loadFromFile',packageConfig);entry&&controllers.push(entry);config&&
(l8.isObject(config)&&!1===loadFromFile?coon.core.ConfigManager.register(name,config):l8.isString(config)?batchLoader.addDomain(name,{},config):(!0===config||l8.isObject(config))&&batchLoader.addDomain(name,l8.isObject(config)?config:void 0))});await batchLoader.load();await Promise.all(manifestPackages.map(async(entry)=>{let [name,config]=entry;if(!config.included&&!1!==l8.unchain('coon-js.package.autoLoad',config))return await coon.core.Environment.loadPackage(name)}));return controllers},getFqnForPlugin:function(plugin,
coonPackages,type){type=(''+type).toLowerCase();if(-1!==['application','controller'].indexOf(type)){var fqn;Object.entries(coonPackages).some((entry)=>{var [,entry]=entry;if(coon.core.Environment.getPackage(plugin))return fqn=`${coon.core.Environment.getPackage(plugin).namespace}.app.plugin.`+`${'application'===type?'Application':'Controller'}Plugin`,!0;if(0===plugin.indexOf(entry.namespace))return fqn=plugin,!0});fqn||0!==plugin.indexOf(coon.core.Environment.getManifest().namespace+'.')||(fqn=plugin);
return fqn}}});Ext.cmd.derive('coon.core.app.plugin.Plugin',Ext.Base,{constructor(cfg){cfg=cfg||{};Object.assign(this,cfg)},getId(){return this.id?this.id:Ext.getClassName(this)}},1,0,0,0,0,0,[coon.core.app.plugin,'Plugin'],0);Ext.cmd.derive('coon.core.app.plugin.ControllerPlugin',coon.core.app.plugin.Plugin,{},0,0,0,0,0,0,[coon.core.app.plugin,'ControllerPlugin'],0);
Ext.define('coon.core.app.plugin.ComponentPluginMixin',{registerComponentPlugin(pluginCfg){const args=pluginCfg.args||[],cmp$jscomp$0=pluginCfg.cmp,eventHook=pluginCfg.event,isPlugin=!!pluginCfg.pclass,fqn=isPlugin?pluginCfg.pclass:pluginCfg.fclass;if(!Ext.ClassManager.get(fqn))throw new coon.core.app.ApplicationException(`Could not find the ${isPlugin?'plugin':'feature'} "${fqn}". `+"Make sure it is loaded with it's owning package.");const cb=isPlugin?(cmp)=>cmp.addPlugin(Ext.create(fqn,...args)):
(cmp)=>cmp.features.push(Ext.create(fqn,...args));pluginCfg=l8.chain(`${cmp$jscomp$0}.${eventHook}`,{},()=>cb);this.control(pluginCfg);return pluginCfg}});
Ext.define('coon.core.app.PackageController',{extend:'Ext.app.Controller',mixins:['coon.core.app.plugin.ComponentPluginMixin'],plugins:null,constructor:function(cfg){Ext.app.Controller.prototype.constructor.apply(this,arguments);this.plugins=[]},configureView:Ext.emptyFn,addPlugin:function(plugin){plugin instanceof coon.core.app.plugin.ControllerPlugin||Ext.raise('plugin must be an instance of coon.core.app.plugin.ControllerPlugin');this.plugins.some((plug)=>{if(plug===plugin||plug.getId()===plugin.getId())return!0})||
this.plugins.push(plugin);return this},visitPlugins:function(app){const me=this;me.plugins&&me.plugins.forEach(function(plugin){try{plugin.run(me)}catch(e){Ext.raise({msg:'Executing the PluginController failed.',reason:e})}})},preLaunchHook:Ext.emptyFn,postLaunchHook:Ext.emptyFn,isActionRoutable:function(){return this.isMainViewAvailable()},updateRoutes:function(routes){for(var url in routes)Ext.isObject(routes[url])||(routes[url]={action:routes[url],before:'onBeforePackageRoute'})},isMainViewAvailable:function(){this.getApplication()||
Ext.raise({source:Ext.getClassName(this),application:this.getApplication(),msg:Ext.getClassName(this)+' is apparently not used in an application'});return!!this.getApplication().getMainView()},privates:{onBeforePackageRoute:function(){var action=arguments[arguments.length-1],app=this.getApplication();this.getApplication()||Ext.raise({source:Ext.getClassName(this),application:this.getApplication(),msg:Ext.getClassName(this)+' is apparently not used in an application'});if(!1===app.shouldPackageRoute(this,
action))return app.interceptAction(action);action.resume()}}});Ext.define('coon.core.overrides.core.app.PackageController',{override:'coon.core.app.PackageController',applyId:function(id){return id||Ext.app.Controller.getFullName(this.$className,'controller',this.$namespace).absoluteName}});Ext.cmd.derive('coon.core.app.plugin.ApplicationPlugin',coon.core.app.plugin.Plugin,{},0,0,0,0,0,0,[coon.core.app.plugin,'ApplicationPlugin'],0);
Ext.cmd.derive('coon.core.service.Service',Ext.Base,{},0,0,0,0,0,0,[coon.core.service,'Service'],0);
Ext.cmd.derive('coon.core.ServiceLocator',Ext.Base,{singleton:!0,register(className,service){this.services||(this.services={});if(this.services[className])throw Error(`A service for "${className}" was already registered.`);const extClass=Ext.ClassManager.get(className);if(!extClass)throw Error(`Could not find the service "${className}". `+"Make sure it is loaded with it's owning package.");if(!(service instanceof coon.core.service.Service))throw Error('the submitted service must be an instance of coon.core.service.Service');
if(!(service instanceof extClass))throw Error(`"${service.$className}" must be an instance of ${className}`);return this.services[className]=service},resolve(className){return this.services?this.services[className]:void 0}},0,0,0,0,0,0,[coon.core,'ServiceLocator'],0);
Ext.define('coon.core.app.Application',{extend:'Ext.app.Application',mixins:['coon.core.app.plugin.ComponentPluginMixin'],constructor(config){config=config||{};coon.core.Environment.setVendorBase(new coon.core.env.ext.VendorBase);this.applicationUtil=new coon.core.app.ApplicationUtil;Ext.Function.interceptAfter(this,'launch',this.runPostLaunch,this);this.launch=Ext.Function.createInterceptor(this.launch,this.launchHook,this);this.pluginMap={};Ext.app.Application.prototype.constructor.call(this,config)},
applyMainView(value){this.getMainView()&&Ext.raise({msg:'mainView was already set.'});if(Ext.isObject(value)&&!0===value.cn_prelaunch)return(value=value.view)&&!Ext.Object.isEmpty(value)||Ext.raise({msg:'Unexpected empty value for view.'}),Ext.isString(value)&&!l8.unchain(value,window)&&Ext.raise({msg:'The class "'+value+'" was not loaded and cannot be used as the mainView.'}),Ext.app.Application.prototype.applyMainView.call(this,value);this.applicationView=value},preLaunchHookProcess(){this.getMainView()&&
Ext.raise({sourceClass:'coon.core.app.Application',mainView:this.getMainView(),msg:'coon.core.app.Application#preLaunchHookProcess cannot be run since mainView was already initialized.'});this.visitPlugins();for(var ctrl,res=!0,controllers=this.controllers.getRange(),i=0,len=controllers.length;i<len;i++)ctrl=controllers[i],ctrl instanceof coon.core.app.PackageController&&(ctrl.visitPlugins(this),!1!==res&&Ext.isFunction(ctrl.preLaunchHook)&&(res=ctrl.preLaunchHook(this)));return!1!==res},launchHook(){return!1!==
this.preLaunchHookProcess()?(this.setMainView({cn_prelaunch:!0,view:this.applicationView}),Ext.isModern&&Ext.Viewport.add(this.getMainView()),!0):!1},runPostLaunch(){this.postLaunchHookProcess();this.releaseLastRouteAction(this.routeActionStack)},releaseLastRouteAction(routeActionStack){if(!routeActionStack||!routeActionStack.length)return!1;let action=routeActionStack.pop();for(;routeActionStack.length;)routeActionStack.pop().stop();action.resume();return!0},interceptAction(action){this.routeActionStack||
(this.routeActionStack=[]);this.routeActionStack.push(action);return!1},shouldPackageRoute(packageController,action){return packageController.isActionRoutable(action)},postLaunchHookProcess:Ext.emptyFn,getPackageConfig(controller,key){const ConfigManager=coon.core.ConfigManager;controller=[this.applicationUtil.getPackageNameForController(Ext.getClassName(controller),coon.core.Environment.getPackages())];void 0!==key&&controller.push(key);return coon.core.ConfigManager.get.apply(ConfigManager,controller)},
async onProfilesReady(){const me=this,conf=await me.applicationUtil.loadApplicationConfig();me.controllers=(me.controllers||[]).concat(await me.initPackagesAndConfiguration(conf.packages));await me.initApplicationConfigurationAndPlugins(l8.unchain('plugins',conf,[]));Object.entries(conf.services||{}).forEach((service)=>{const [serviceKey,cfg]=service;me.registerService(serviceKey,cfg)});return Ext.app.Application.prototype.onProfilesReady.call(me)},async initApplicationConfigurationAndPlugins(conf){const me=
this,applicationPlugins=me.applicationUtil.getApplicationPlugins(l8.unchain('application',conf,[]),coon.core.Environment.getPackages());conf=l8.unchain('components',conf,[]);await applicationPlugins.forEach(async(plugin)=>await me.addApplicationPlugin(plugin));conf.forEach((pluginCfg)=>me.registerComponentPlugin(pluginCfg));Ext.app.addNamespaces(applicationPlugins);return{applicationPlugins,componentPlugins:conf}},async initPackagesAndConfiguration(appConfiguredPackages){appConfiguredPackages=appConfiguredPackages||
{};const envPackages=this.applicationUtil.getCoonPackages(coon.core.Environment.getPackages()),res={},appPackages=appConfiguredPackages&&Object.keys(appConfiguredPackages);Object.entries(envPackages).forEach((entry)=>{const [key,value]=entry;appConfiguredPackages[key]||(appConfiguredPackages[key]=value)});Object.entries(appConfiguredPackages).forEach((entry)=>{const pckg=entry[0];entry=l8.unchain('coon-js.package',entry[1],entry[1]);if(!0===entry.autoLoad||l8.isObject(entry.autoLoad)){let namespace=
envPackages[pckg].namespace;l8.chain(`${pckg}.coon-js.package`,res,{});entry.autoLoad&&l8.chain(`${pckg}.coon-js.package.autoLoad`,res,entry.autoLoad);entry.config&&(l8.chain(`${pckg}.coon-js.package.config`,res,entry.config),appPackages.includes(pckg)&&l8.chain(`${pckg}.coon-js.package.loadFromFile`,res,!l8.isObject(entry.config)));l8.chain(`${pckg}.namespace`,res,namespace)}});const packageControllers=await this.applicationUtil.loadPackages(res);Ext.app.addNamespaces(packageControllers);return packageControllers},
getController:function(name,preventCreate){const controller=Ext.app.Application.prototype.getController.apply(this,arguments);if(!0!==preventCreate&&controller instanceof coon.core.app.PackageController){const fqn=Ext.getClassName(controller);var pckgs=coon.core.Environment.getPackages()||{};const ctrlPlugins=this.applicationUtil.getControllerPlugins(pckgs,fqn);pckgs=this.applicationUtil.getComponentPlugins(pckgs,fqn);if(!ctrlPlugins[fqn]&&!pckgs[fqn])return controller;ctrlPlugins[fqn].forEach((plugin)=>
{let inst,xclass=l8.isString(plugin)?plugin:plugin.xclass;plugin=l8.isString(plugin)?[]:plugin.args;try{inst=Ext.create(xclass,...plugin)}catch(e){throw new coon.core.app.ApplicationException(`Could not create instance for specified PluginController "${xclass}"`,e);}controller.addPlugin(inst)});pckgs[fqn].forEach((pluginCfg)=>controller.registerComponentPlugin(pluginCfg))}return controller},addApplicationPlugin(plugin){if('string'===typeof plugin){if(!Ext.ClassManager.get(plugin))throw new coon.core.app.ApplicationException(`Could not find the plugin "${plugin}". Make sure it is loaded with it's owning package.`);
plugin=Ext.create(plugin)}if(!(plugin instanceof coon.core.app.plugin.ApplicationPlugin))throw new coon.core.app.ApplicationException('"plugin" must be an instance of coon.core.app.plugin.ApplicationPlugin');this.applicationPlugins||(this.applicationPlugins=[]);if(this.applicationPlugins.some((plug)=>plug.getId()===plugin.getId()))return this;this.applicationPlugins.push(plugin);return this},visitPlugins:function(){const me=this;(me.applicationPlugins||[]).forEach((plugin)=>plugin.run(me))},registerService(className,
cfg){var args=cfg.args||[];cfg=cfg.xclass;if(!Ext.ClassManager.get(cfg))throw new coon.core.app.ApplicationException(`Could not find the service "${cfg}". `+"Make sure it is loaded with it's owning package.");args=Ext.create(cfg,...args);return coon.core.ServiceLocator.register(className,args)}});Ext.define('coon.core.FileLoader',{extend:'coon.core.data.request.file.FileLoader',singleton:!0,async load(url){return await l8.load(url)},async ping(url){return await l8.ping(url)}});
Ext.cmd.derive('coon.core.exception.AlreadyExistsException',coon.core.exception.Exception,{alternateClassName:'coon.core.AlreadyExistsException'},0,0,0,0,0,0,[coon.core.exception,'AlreadyExistsException',coon.core,'AlreadyExistsException'],0);
Ext.define('coon.core.ConfigManager',{singleton:!0,configs:null,register:function(domain,config){if(!domain||!Ext.isString(domain))return null;this.configs||(this.configs={});if(this.configs[domain])throw new coon.core.exception.AlreadyExistsException('domain "'+domain+'" was already registered.');return this.configs[domain]=config},get:function(domain,key,defaultValue){if(this.configs){if(1===arguments.length)return this.configs[domain];var value=l8.unchain(key,this.configs[domain]);return void 0===
value?defaultValue:value}}});Ext.define('coon.core.Template',{singleton:!0,constructor(){this.templateClass=l8.template.esix.StringTemplate},async load(url,cache){cache=!1!==cache;this.cache=this.cache||{};let txt,inst;if(cache&&this.cache[url])return this.cache[url];try{return txt=await coon.core.FileLoader.load(url),inst=new this.templateClass(txt),cache&&(this.cache[url]=inst),inst}catch(e){throw Error(`An error occured while trying to load the template from ${url}`,e);}}});
Ext.cmd.derive('coon.core.Theme',Ext.Base,{config:{defaultMode:void 0,mode:void 0,modes:void 0},constructor:function(cfg){this.initConfig(cfg)},updateModes:function(){let defaultMode=this.findDefaultMode();defaultMode||(Object.entries(this.getModes())[0][1]['default']=!0);defaultMode=this.findDefaultMode();this.setDefaultMode(defaultMode);this.setMode(this.getDefaultMode())},applyMode:function(mode){const modes=this.getModes();if(modes&&modes[mode])return mode},applyDefaultMode:function(mode){const modes=
this.getModes();if(modes){var found=void 0;Object.entries(modes).some(function(entry){if(entry[0]===mode)return entry[1]['default']=!0,found=mode,!0});void 0!==found&&Object.entries(modes).forEach(function(entry){entry[0]!==found&&(entry[1]['default']=!1)});return found}},get:function(key){const modes=this.getModes(),mode=this.getMode();if(modes&&mode)return key?modes[mode].config[key]:modes[mode].config},set:function(key,value){const modes=this.getModes(),mode=this.getMode();modes&&mode&&(modes[mode].config[key]=
value);return this},privates:{findDefaultMode:function(){var modes=this.getModes();if(modes&&(modes=Object.entries(modes).find((entry)=>!0===entry[1]['default'])))return modes[0]}}},1,0,0,0,0,0,[coon.core,'Theme'],0);
Ext.cmd.derive('coon.core.ThemeManager',Ext.Base,{singleton:!0,config:{theme:void 0},applyTheme:function(theme){this.getTheme()&&Ext.raise('"theme" was already set.');theme instanceof coon.core.Theme||Ext.raise('"theme" must be an instance of coon.core.Theme');return theme}},0,0,0,0,0,0,[coon.core,'ThemeManager'],0);
Ext.cmd.derive('coon.core.data.request.FormData',Ext.data.request.Ajax,{openRequest:function(options,requestOptions){var xhr=Ext.data.request.Ajax.prototype.openRequest.apply(this,arguments);requestOptions.data instanceof FormData&&(this.options.headers=Ext.applyIf({'Content-Type':null},this.options.headers),this.async&&xhr.upload&&(xhr.upload.onprogress=Ext.Function.bind(this.onProgress,this)));return xhr},privates:{onProgress:function(evt){var options=this.options;options.progressCallback&&Ext.callback(options.progressCallback,
options.progressScope,[evt,options])}}},0,0,0,0,['request.cn_core-datarequestformdata'],0,[coon.core.data.request,'FormData'],0);
Ext.cmd.derive('coon.core.data.AjaxForm',Ext.data.Connection,{singleton:!0,autoAbort:!1,setOptions:function(options,scope){var newOptions=this.callParent(arguments);options.formData instanceof FormData&&(newOptions.data=options.formData);return newOptions},createRequest:function(options,requestOptions){options.type='cn_core-datarequestformdata';return this.callParent([options,requestOptions])}},0,0,0,0,0,0,[coon.core.data,'AjaxForm'],0);
Ext.cmd.derive('coon.core.data.BaseModel',Ext.data.Model,{},0,0,0,0,0,0,[coon.core.data,'BaseModel'],0);Ext.cmd.derive('coon.core.data.BaseTreeModel',Ext.data.TreeModel,{},0,0,0,0,0,0,[coon.core.data,'BaseTreeModel'],0);Ext.cmd.derive('coon.core.data.FormDataRequest',Ext.data.Request,{config:{progressCallback:void 0,progressScope:void 0,formData:void 0}},0,0,0,0,0,0,[coon.core.data,'FormDataRequest'],0);
Ext.cmd.derive('coon.core.data.Session',Ext.data.Session,{batchVisitorClassName:'Ext.data.session.BatchVisitor',getSaveBatch:function(sort){var visitor=this.createVisitor();this.visitData(visitor);return visitor.getBatch(sort)},privates:{createVisitor:function(){var cls=this.batchVisitorClassName;if(!Ext.ClassManager.get(cls)){var cn=Ext.getClassName(this);Ext.raise({sourceClass:cn,batchVisitorClassName:cls,msg:cn+' requires batchVisitorClassName to be loaded.'})}var inst=Ext.create(cls);inst instanceof
Ext.data.session.BatchVisitor||(cn=Ext.getClassName(this),Ext.raise({sourceClass:cn,batchVisitorClassName:cls,msg:cls+' needs to inherit from Ext.data.session.BatchVisitor.'}));return inst}}},0,0,0,0,0,0,[coon.core.data,'Session'],0);
Ext.cmd.derive('coon.core.data.field.Blob',Ext.data.field.Field,{defaultValue:null,convert:function(v){return v instanceof Blob?v:null},compare:function(value1,value2){return value1 instanceof Blob||value2 instanceof Blob?!(value1 instanceof Blob)&&value2 instanceof Blob?-1:value1 instanceof Blob&&!(value2 instanceof Blob)?1:value1===value2?0:!(value1.size<value2.size)&&value1.size>value2.size?1:-1:0}},0,0,0,0,['data.field.cn_core-datafieldblob'],0,[coon.core.data.field,'Blob'],0);
Ext.cmd.derive('coon.core.data.field.CompoundKeyField',Ext.data.field.String,{validators:'presence',critical:!0,convert:function(v){if(''!==v&&null!==v&&void 0!==v)return String(v)}},0,0,0,0,['data.field.cn_core-datafieldcompoundkey'],0,[coon.core.data.field,'CompoundKeyField'],0);
Ext.cmd.derive('coon.core.data.field.EmailAddress',Ext.data.field.Field,{defaultValue:null,convert:function(v){if(!Ext.isString(v)&&!Ext.isObject(v))return null;if(Ext.isString(v))return{address:v,name:v};if(!Object.prototype.hasOwnProperty.call(v,'address'))return null;v=Ext.copy({},v,'name,address');Object.prototype.hasOwnProperty.call(v,'name')||(v.name=v.address);return v},serialize:function(v){return Ext.isObject(v)?Ext.JSON.encode(v):null},compare:function(value1,value2){return!Ext.isObject(value1)&&
!Ext.isObject(value2)||Ext.Object.isEmpty(value1)&&Ext.Object.isEmpty(value2)?0:Ext.isObject(value1)&&Ext.isObject(value2)?!Object.prototype.hasOwnProperty.call(value1,'address')&&Object.prototype.hasOwnProperty.call(value2,'address')||!Object.prototype.hasOwnProperty.call(value1,'name')&&Object.prototype.hasOwnProperty.call(value2,'name')?-1:(value1.address+'').toLowerCase()===(value2.address+'').toLowerCase()&&(value1.name+'').toLowerCase()===(value2.name+'').toLowerCase()?0:1:Ext.isObject(value1)?
1:-1}},0,0,0,0,['data.field.cn_core-datafieldemailaddress'],0,[coon.core.data.field,'EmailAddress'],0);
Ext.cmd.derive('coon.core.data.field.EmailAddressCollection',Ext.data.field.Field,{constructor:function(config){void 0!==this.defaultValue||config&&Object.prototype.hasOwnProperty.call(config,'defaultValue')||(this.defaultValue=[]);Ext.data.field.Field.prototype.constructor.apply(this,arguments)},convert:function(v){if(!Ext.isString(v)&&!Ext.isArray(v))return[];if(Ext.isString(v))return[{address:v,name:v}];v=Ext.clone(v);for(var i=0,len=v.length;i<len;i++)Ext.isString(v[i])?v[i]={address:v[i],name:v[i]}:
v[i]&&!Object.prototype.hasOwnProperty.call(v[i],'name')&&(v[i].name=v[i].address);return v},serialize:function(v){Ext.isArray(v)||(v=[]);return Ext.JSON.encode(v)},compare:function(value1,value2){if(!Ext.isArray(value1)&&!Ext.isArray(value2))return 0;if(!Ext.isArray(value1)||!Ext.isArray(value2))return Ext.isArray(value1)?1:-1;if(value1.length<value2.length)return-1;if(value1.length>value2.length)return 1;if(value1.length===value2.length){for(var found,i=0,len=value1.length;i<len;i++){found=!1;if(!Object.prototype.hasOwnProperty.call(value1[i],
'address'))return-1;for(var a=0;a<len;a++){if(!Object.prototype.hasOwnProperty.call(value2[a],'address'))return-1;if((value1[i].address+'').toLowerCase()===(value2[a].address+'').toLowerCase()){found=!0;break}}if(!found)return-1}return 0}return-1}},1,0,0,0,['data.field.cn_core-datafieldemailaddresscollection'],0,[coon.core.data.field,'EmailAddressCollection'],0);
Ext.cmd.derive('coon.core.data.field.FileSize',Ext.data.field.Field,{sortType:'asInt',convert:Ext.util.Format.fileSize},0,0,0,0,['data.field.cn_core-datafieldfilesize'],0,[coon.core.data.field,'FileSize'],0);Ext.cmd.derive('coon.core.data.operation.Upload',Ext.data.operation.Create,{config:{progressCallback:void 0,progressScope:void 0}},0,0,0,0,['data.operation.cn_core-dataoperationupload'],0,[coon.core.data.operation,'Upload'],0);
Ext.cmd.derive('coon.core.data.writer.FormData',Ext.data.writer.Json,{writeRecords:function(request,data){if('create'!==request.getAction()||!(request instanceof coon.core.data.FormDataRequest))return Ext.data.writer.Json.prototype.writeRecords.apply(this,arguments);if(!request.getFormData()){var formData=new FormData;request.setFormData(formData)}formData=request.getFormData();for(var i=0,len=data.length;i<len;i++){var d=data[i];var key='data['+i+']';var fileCount=0;for(var a in d)if(Object.prototype.hasOwnProperty.call(d,
a))if(d[a]instanceof Blob){var fileKey='file['+i+']['+fileCount++ +']';formData.set(fileKey,d[a])}else formData.set(key+'['+a+']',d[a])}request.setFormData(formData);return request}},0,0,0,0,['writer.cn_core-datawriterformdata'],0,[coon.core.data.writer,'FormData'],0);
Ext.cmd.derive('coon.core.data.proxy.RestForm',Ext.data.proxy.Rest,{config:{writer:'cn_core-datawriterformdata'},buildRequest:function(operation){var config=Ext.data.proxy.Rest.prototype.buildRequest.apply(this,arguments);'create'===operation.getAction()&&(operation instanceof coon.core.data.operation.Upload||Ext.raise({source:Ext.getClassName(this),msg:Ext.getClassName(this)+'.buildRequest() needs an operation of the type coon.core.data.operation.Upload'}),config=Ext.apply({progressCallback:operation.getProgressCallback(),
progressScope:operation.getProgressScope()},config.getCurrentConfig()),config=Ext.create('coon.core.data.FormDataRequest',config));return config},sendRequest:function(request){if('create'!==request.getAction())return Ext.data.proxy.Rest.prototype.sendRequest.apply(this,arguments);request.setRawRequest(coon.core.data.AjaxForm.request(request.getCurrentConfig()));return this.lastRequest=request},createOperation:function(action,config){'create'===action&&(action='cn_core-dataoperationupload');return Ext.data.proxy.Rest.prototype.createOperation.call(this,
action,config)}},0,0,0,0,['proxy.cn_core-dataproxyrestform'],0,[coon.core.data.proxy,'RestForm'],0);
Ext.cmd.derive('coon.core.data.schema.BaseSchema',Ext.data.schema.Schema,{constructor:function(config){config=config||{};config.id=this.id||config.id;config.id&&'default'!==(config.id+'').toLowerCase()||Ext.raise({sourceClass:Ext.getClassName(this),id:config.id,msg:Ext.getClassName(this)+' requires id to be defined to anything other than "default"'});config.namespace||this.defaultConfig.namespace||Ext.raise({sourceClass:Ext.getClassName(this),namespace:config.namespace,msg:Ext.getClassName(this)+
' requires property "namespace" to be defined, either as class-property or constructor argument'});Ext.data.schema.Schema.prototype.constructor.call(this,config)}},1,0,0,0,['schema.cn_core-baseschema'],0,[coon.core.data.schema,'BaseSchema'],0);
Ext.cmd.derive('coon.core.data.session.SplitBatchVisitor',Ext.data.session.BatchVisitor,{getBatch:function(sort){var batch=Ext.data.session.BatchVisitor.prototype.getBatch.apply(this,arguments),ops=batch?batch.getOperations():[];batch=batch?Ext.create('Ext.data.Batch'):null;for(var i=0,len=ops.length;i<len;i++)if('create'!==ops[i].getAction())batch.add(ops[i]);else for(var recs=ops[i].getRecords(),operation,a=0,lena=recs.length;a<lena;a++)operation=recs[a].getProxy(),operation=operation.createOperation(ops[i].getAction(),
{records:[recs[a]]}),operation.entityType=Ext.getClass(recs[a]),batch.add(operation);batch&&!1!==sort&&batch.sort();return batch}},0,0,0,0,0,0,[coon.core.data.session,'SplitBatchVisitor'],0);
Ext.cmd.derive('coon.core.data.validator.EmailAddressCollection',Ext.data.validator.Validator,{type:'cn_core-datavalidatoremailaddresscollection',config:{message:'Must be an array of objects containing an address property.',allowEmpty:!1},validate:function(value){var valid=Ext.isArray(value);if(valid){for(var i=0,len=value.length;i<len;i++)if(!Ext.isObject(value[i])||!Object.prototype.hasOwnProperty.call(value[i],'address')){valid=!1;break}0===len&&(valid=!!this.getAllowEmpty())}return valid?!0:this.getMessage()}},
0,0,0,0,['data.validator.cn_core-datavalidatoremailaddresscollection'],0,[coon.core.data.validator,'EmailAddressCollection'],0);Ext.cmd.derive('coon.core.service.UserImageService',coon.core.service.Service,{},0,0,0,0,0,0,[coon.core.service,'UserImageService'],0);Ext.define('coon.core.service.GravatarService',{extend:'coon.core.service.UserImageService',getImageSrc(ident,options){return`https://www.gravatar.com/avatar/${l8.md5(ident)}?d\x3dblank`}});
Ext.cmd.derive('coon.core.util.Date',Ext.Base,{singleton:!0,getHumanReadableDate:function(date){var today=new Date;today.setHours(0);today.setMinutes(0);today.setSeconds(0);today=Ext.Date.diff(today,date,Ext.Date.DAY);return 0===today?Ext.util.Format.date(date,'H:i'):-6<=today&&-1>=today?Ext.util.Format.date(date,'l, H:i'):Ext.util.Format.date(date,'d.m.Y, H:i')}},0,0,0,0,0,0,[coon.core.util,'Date'],0);
Ext.cmd.derive('coon.core.util.Mime',Ext.Base,{singleton:!0,isImage:function(mimeType){return null!==(mimeType+'').match(/image\/./i)}},0,0,0,0,0,0,[coon.core.util,'Mime'],0);Ext.cmd.derive('coon.comp.container.Viewport',Ext.container.Viewport,{addPostLaunchInfo:Ext.emptyFn,activateViewForHash:Ext.emptyFn,cleanup:Ext.emptyFn},0,0,['component','box','container','viewport'],{component:!0,box:!0,container:!0,viewport:!0},0,0,[coon.comp.container,'Viewport'],0);
Ext.define('coon.comp.app.Application',{extend:'coon.core.app.Application',postLaunchHookProcess:function(){for(var ctrl,controllers=this.controllers.getRange(),mainView=this.getMainView(),i=0,len=controllers.length;i<len;i++)ctrl=controllers[i],ctrl instanceof coon.core.app.PackageController&&Ext.isFunction(ctrl.postLaunchHook)&&(ctrl=ctrl.postLaunchHook(),void 0!==ctrl&&mainView.addPostLaunchInfo(ctrl))},activateViewForHash:function(hash){return this.getMainView().activateViewForHash(hash,this.getDefaultToken())},
applyMainView:function(view){const appView=coon.core.app.Application.prototype.applyMainView.apply(this,arguments);void 0===appView||appView instanceof coon.comp.container.Viewport||Ext.raise({msg:"coon.comp.app.Application's mainView must be an instance of coon.comp.container.Viewport."});return appView}});
Ext.define('coon.comp.component.AbstractAnnouncementBar',{extend:'Ext.Component',inheritableStatics:{INFO:1,WARNING:2,ALERT:3,SUCCESS:4},hidden:!0,config:{message:void 0,link:void 0,type:void 0,callback:Ext.emptyFn,yes:void 0,no:void 0,yesText:'yes',noText:'no'},defaultYesText:'yes',defaultNoText:'no',cls:'cn_comp-announcementbar',afterRender(){Ext.Component.prototype.afterRender.apply(this,arguments);this.getYes()||this.yesEl.hide();this.getNo()||this.noEl.hide();this.el.on('click',this.onClick,
this)},handleLinkClick(bar,type){switch(type){case 'yes':bar=this.getYes();break;case 'no':bar=this.getNo();break;default:bar=this.getCallback()}l8.isFunction(bar)&&bar(this);this.hide()},onClick(evt,el){evt=el.className;if('div'===el.tagName.toLowerCase())switch(evt){case 'link':return this.handleLinkClick.apply(this);case 'yes':return this.handleLinkClick.apply(this,[this,'yes']);case 'no':return this.handleLinkClick.apply(this,[this,'no'])}},close(){this.destroy()},updateMessage(msg){this.msgEl&&
this.msgEl.update(msg)},updateLink(link){this.linkEl&&this.linkEl.update(link)},applyYes(yesCallback){l8.isPlainObject(yesCallback)?(this.setYesText(yesCallback.text),yesCallback=yesCallback.callback||(()=>{})):this.setYesText(this.defaultYesText);this.yesEl&&this.yesEl[yesCallback?'show':'hide']();return yesCallback},updateYesText(yesText){this.yesEl&&this.yesEl.update(yesText)},applyNo(noCallback){l8.isPlainObject(noCallback)?(this.setNoText(noCallback.text),noCallback=noCallback.callback||(()=>
{})):this.setNoText(this.defaultNoText);this.noEl&&this.noEl[noCallback?'show':'hide']();return noCallback},updateNoText(noText){this.noEl&&this.noEl.update(noText)},updateNo(noCallback){this.noEl&&this.noEl[noCallback?'show':'hide']()},applyType(type){return this.translateType(type)},updateType(type,oldType){const el=this.barEl;el&&(el.removeCls(oldType),el.addCls(type))},setAnnouncement(announcement={}){announcement.message&&this.setMessage(announcement.message);announcement.type&&this.setType(announcement.type);
announcement.link&&this.setLink(announcement.link);announcement.callback&&this.setCallback(announcement.callback);this.setYes(announcement.yes?announcement.yes:null);this.setNo(announcement.no?announcement.no:null);this.show();return this},translateType(type){const types={},statics=this.statics();types[statics.INFO]='info';types[statics.ALERT]='alert';types[statics.WARNING]='warning';types[statics.SUCCESS]='success';return types[type]?types[type]:Object.values(types).includes(type)?type:'info'},bindStore:Ext.emptyFn,
getStoreListeners:Ext.emptyFn,onLoad:Ext.emptyFn,onBeforeLoad:Ext.emptyFn},(AnnouncementBar)=>{coon.Announcement=function(){let announcementBar;const stack=[],processStack=()=>{stack.length&&announcementBar.setAnnouncement(stack.shift())};return{close(){announcementBar&&announcementBar.close();announcementBar=null},register(target){announcementBar=target;announcementBar.on('hide',processStack,null);return announcementBar},show(announcement){if(!announcementBar||announcementBar.isVisible())stack.push(announcement);
else return announcementBar.setAnnouncement(announcement)}}}()});
Ext.cmd.derive('coon.comp.list.Tree',Ext.list.Tree,{previousWidth:null,defaultWidth:250,constructor:function(config){config=config||{};if(config.width)var width=config.width;else this.defaultConfig.width&&(width=this.defaultConfig.width);width&&(this.defaultWidth=width);Ext.list.Tree.prototype.constructor.apply(this,arguments)},setHidden:function(hide){hide?(this.previousWidth=this.getWidth(),this.setWidth(0)):this.setWidth(this.previousWidth?this.previousWidth:this.defaultWidth)},isHidden:function(){return 0===
this.getWidth()},isVisible:function(){return!this.isHidden()}},1,['cn_comp-listtree'],['widget','treelist','cn_comp-listtree'],{widget:!0,treelist:!0,'cn_comp-listtree':!0},['widget.cn_comp-listtree'],0,[coon.comp.list,'Tree'],0);
Ext.cmd.derive('coon.comp.window.LockingWindow',Ext.window.Window,{cls:'cn_comp-lockingwindow',autoShow:!0,titleAlign:'center',maximized:!0,modal:!0,closable:!1,resizable:!1,constructor:function(config){config=config||{};delete config.maximized;delete config.modal;delete config.closable;delete config.resizable;Ext.window.Window.prototype.constructor.apply(this,arguments);Ext.isModern&&!0===this.autoShow&&this.show()}},1,['cn_comp-lockingwindow'],'component box container panel window cn_comp-lockingwindow'.split(' '),
{component:!0,box:!0,container:!0,panel:!0,window:!0,'cn_comp-lockingwindow':!0},['widget.cn_comp-lockingwindow'],0,[coon.comp.window,'LockingWindow'],0);Ext.cmd.derive('coon.comp.Img',Ext.Img,{},0,0,['component','box','image','imagecomponent'],{component:!0,box:!0,image:!0,imagecomponent:!0},0,0,[coon.comp,'Img'],0);
Ext.define('coon.comp.component.AnnouncementBar',{extend:'coon.comp.component.AbstractAnnouncementBar',alias:'widget.cn_comp-announcementbar',renderTpl:['\x3cdiv id\x3d"{id}-barEl" data-ref\x3d"barEl" class\x3d"wrap {type}" role\x3d"presentation"\x3e\x3cdiv class\x3d"msgWrap"\x3e\x3cdiv id\x3d"{id}-msgEl" class\x3d"msg" data-ref\x3d"msgEl"\x3e{message}\x3c/div\x3e\x3cdiv data-ref\x3d"yesEl" id\x3d"{id}-yesEl" class\x3d"yes"\x3e{yesText}\x3c/div\x3e\x3cdiv data-ref\x3d"noEl" id\x3d"{id}-noEl" class\x3d"no"\x3e{noText}\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"{id}-linkEl" class\x3d"link" data-ref\x3d"linkEl" \x3e{link}\x3c/div\x3e\x3c/div\x3e'],childEls:['linkEl',
'msgEl','barEl','yesEl','noEl'],initRenderData(){const result=coon.comp.component.AbstractAnnouncementBar.prototype.initRenderData.apply(this,arguments);result.type=this.translateType(this.type);result.message=this.message;result.link=this.link;result.className=this.cls;result.yes=this.yes;result.yesText=this.yesText;result.no=this.no;result.noText=this.noText;return result}});
Ext.cmd.derive('coon.comp.component.Iframe',Ext.Component,{renderTpl:['\x3ciframe sandbox\x3d"{sandbox}" scrolling\x3d"{scrolling}" id\x3d"{id}-cn_iframeEl" data-ref\x3d"cn_iframeEl" name\x3d"{name}" width\x3d"100%" height\x3d"100%" frameborder\x3d"0"\x3e\x3c/iframe\x3e'],childEls:['cn_iframeEl'],name:void 0,scrolling:void 0,sandbox:'allow-same-origin',initComponent:function(){Ext.Component.prototype.initComponent.call(this);this.name=this.name||this.id+'-frame'},initEvents:function(){Ext.Component.prototype.initEvents.apply(this,
arguments);this.cn_iframeEl.on('load',this.onLoad,this)},onLoad:function(){this.fireEvent('load',this)},initRenderData:function(){return Ext.apply(Ext.Component.prototype.initRenderData.apply(this,arguments),{name:this.name,sandbox:this.sandbox,scrolling:this.scrolling})},getBody:function(){return this.cn_iframeEl.dom.contentWindow.document.body},setSrcDoc:function(value){value||(value='');this.fireEvent('beforesrcdoc',this,value);this.cn_iframeEl.dom.srcdoc=value},getSrcDoc:function(){return this.cn_iframeEl.dom.srcdoc}},
0,['cn_comp-iframe'],['component','box','cn_comp-iframe'],{component:!0,box:!0,'cn_comp-iframe':!0},['widget.cn_comp-iframe'],0,[coon.comp.component,'Iframe'],0);
Ext.cmd.derive('coon.comp.component.LoadMask',Ext.LoadMask,{cls:'x-mask cn_comp-loadmask',childEls:['msgWrapEl','msgEl','msgTextEl','msgActionEl','bar'],msgWidth:200,waitTimer:null,glyphCls:'',progress:0,renderTpl:'\x3cdiv id\x3d"{id}-msgWrapEl" data-ref\x3d"msgWrapEl" class\x3d"{[values.$comp.msgWrapCls]}" role\x3d"presentation"\x3e;\x3cdiv class\x3d"badge {glyphCls}"\x3e\x3c/div\x3e\x3cdiv style\x3d"width:{msgWidth}px"\x3e;\x3cdiv id\x3d"{id}-msgEl" data-ref\x3d"msgEl" class\x3d"{[values.$comp.msgCls]} ;x-;mask-msg-inner {childElCls}" role\x3d"presentation"\x3e;\x3cdiv id\x3d"{id}-msgTextEl" data-ref\x3d"msgTextEl" class\x3d";x-;mask-msg-text;{childElCls}" role\x3d"presentation"\x3e{msg}\x3c/div\x3e;\x3c/div\x3e;\x3cdiv class\x3d"progress"\x3e\x3cdiv id\x3d"{id}-bar" data-ref\x3d"bar"\x3e\x3c/div\x3e\x3c/div\x3e;\x3cdiv id\x3d"{id}-msgActionEl" data-ref\x3d"msgActionEl"\x3e{msgAction}\x3c/div\x3e;\x3c/div\x3e\x3c/div\x3e'.split(';'),initRenderData:function(){var result=
Ext.LoadMask.prototype.initRenderData.apply(this,arguments);result.msgAction=this.msgAction||'';result.msgWidth=this.msgWidth||200;result.glyphCls=this.glyphCls;return result},afterRender:function(){Ext.LoadMask.prototype.afterRender.apply(this,arguments);this.updateProgress(this.progress);if(this.target&&this.target.isComponent)this.target.on('destroy',this.destroy,this)},updateActionMsg:function(value){this.msgActionEl.setHtml(value);return this},updateMsg:function(value){this.msgTextEl.setHtml(value);
return this},updateProgress:function(value,isInternal){value=value||0;!0!==isInternal&&this.clearTimer();this.bar.setStyle('width',100*value+'%');return this},loopProgress:function(config){var me=this;if(!me.waitTimer){config=config||{};var interval=config.interval||500;var increment=config.increment||10;me.setTransitionDuration(interval/1E3);me.waitTimer=Ext.TaskManager.start({run:function(i){me.updateProgress(me.calculatePercFromTask(increment,i),!0)},interval,duration:config.duration,onStop:function(){me.resetProgress()}})}return me},
resetBar:function(){this.updateProgress(0);this.clearTimer()},clearTimer:function(){this.waitTimer&&(this.waitTimer.onStop=null,Ext.TaskManager.stop(this.waitTimer),this.waitTimer=null)},hide:function(){this.resetBar();return Ext.LoadMask.prototype.hide.call(this)},resetProgress:function(hide){this.resetBar();!0===hide&&this.hide();return this},calculatePercFromTask:function(increment,iteration){return(iteration-1)%(increment+1)*(100/increment)*.01},doDestroy:function(){this.clearTimer();Ext.LoadMask.prototype.doDestroy.call(this)},
setTransitionDuration:function(value){this.bar.setStyle('transitionDuration',value+'s')}},0,0,['component','box','loadmask'],{component:!0,box:!0,loadmask:!0},0,0,[coon.comp.component,'LoadMask'],0);
Ext.cmd.derive('coon.comp.component.MessageMask',Ext.LoadMask,{statics:{YESNO:1,OK:2,OKCANCEL:3,QUESTION:'far fa-question-circle',FAILURE:'far fa-frown',ERROR:'fa fa-exclamation-circle'},childEls:['yesButton','noButton','okButton','cancelButton','textfield'],renderTpl:'\x3cdiv id\x3d"{id}-msgWrapEl" data-ref\x3d"msgWrapEl" class\x3d"{[values.$comp.msgWrapCls]}" role\x3d"presentation"\x3e;\x3cdiv id\x3d"{id}-msgEl" data-ref\x3d"msgEl" class\x3d"{[values.$comp.msgCls]} ;x-;mask-msg-inner {childElCls}" role\x3d"presentation"\x3e;\x3cdiv class\x3d"badge {glyphCls}"\x3e\x3c/div\x3e;\x3cdiv id\x3d"{id}-msgTextEl" data-ref\x3d"msgTextEl" class\x3d";x-;mask-msg-text;{childElCls}" role\x3d"presentation"\x3e{msg}\x3c/div\x3e;\x3cdiv class\x3d"message"\x3e{message}\x3c/div\x3e;\x3cdiv class\x3d"textInput"\x3e\x3cinput type\x3d"text" id\x3d"{id}-textfield" data-ref\x3d"textfield" class\x3d"x-form-text-default" placeholder\x3d"{emptyText}"/\x3e\x3c/div\x3e;\x3cdiv class\x3d"actionBox"\x3e;\x3cdiv class\x3d"left"\x3e\x3cspan data-ref\x3d"yesButton" id\x3d"{id}-yesButton" class\x3d"button" role\x3d"button"\x3e{yes}\x3c/span\x3e\x3c/div\x3e;\x3cdiv class\x3d"right"\x3e\x3cspan data-ref\x3d"noButton" id\x3d"{id}-noButton" class\x3d"button" role\x3d"button"\x3e{no}\x3c/span\x3e\x3c/div\x3e;\x3cdiv class\x3d"left"\x3e\x3cspan data-ref\x3d"okButton" id\x3d"{id}-okButton" class\x3d"button" role\x3d"button"\x3e{ok}\x3c/span\x3e\x3c/div\x3e;\x3cdiv class\x3d"right"\x3e\x3cspan data-ref\x3d"cancelButton" id\x3d"{id}-cancelButton" class\x3d"button" role\x3d"button"\x3e{cancel}\x3c/span\x3e\x3c/div\x3e;\x3c/div\x3e;\x3c/div\x3e;\x3c/div\x3e'.split(';'),cls:'x-mask cn_comp-messagemask',
dialogStyle:!0,msg:void 0,input:null,buttonText:{yes:'Yes',no:'No',ok:'Ok',cancel:'Cancel'},buttonIds:['yesButton','noButton','okButton','cancelButton'],callback:void 0,scope:void 0,icon:void 0,constructor:function(config){config=config||{};config.msg=config.title;!1===config.dialogStyle&&(this.dialogStyle=!1);!1!==this.dialogStyle&&(this.cls+=' dialog');delete config.title;Ext.LoadMask.prototype.constructor.call(this,config)},initRenderData:function(){var result=Ext.LoadMask.prototype.initRenderData.apply(this,
arguments);result.yes=this.buttonText.yes;result.no=this.buttonText.no;result.ok=this.buttonText.ok;result.cancel=this.buttonText.cancel;result.emptyText=Ext.isObject(this.input)&&this.input.emptyText?this.input.emptyText:'';result.message=this.message;result.glyphCls=this.icon;return result},afterRender:function(){Ext.LoadMask.prototype.afterRender.apply(this,arguments);this.el.on('click',this.onClick,this);switch(this.buttons){case this.statics().YESNO:this.okButton.dom.parentNode.style.display=
'none';this.cancelButton.dom.parentNode.style.display='none';break;case this.statics().OK:this.yesButton.dom.parentNode.style.display='none';this.noButton.dom.parentNode.style.display='none';this.cancelButton.dom.parentNode.style.display='none';break;case this.statics().OKCANCEL:this.yesButton.dom.parentNode.style.display='none';this.noButton.dom.parentNode.style.display='none';break;default:this.yesButton.dom.parentNode.style.display='none',this.noButton.dom.parentNode.style.display='none',this.cancelButton.dom.parentNode.style.display=
'none',this.okButton.dom.parentNode.style.display='none'}this.input?(this.textfield.focus(100),this.mon(this.textfield,'keydown',this.handleTextFieldKeyDown,this)):this.textfield.dom.parentNode.style.display='none'},handleButtonClick:function(type,inputValue){this.callback&&this.callback.apply(this.scope,arguments);this.close()},getButtonIdForIndex:function(index){var value=this.buttonIds[index];value||Ext.raise({index,msg:'no value found for "index"'});return value},onClick:function(evt,el){evt=
el.id.split('-').pop();evt=this.buttonIds.indexOf(evt);'span'===el.tagName.toLowerCase()&&-1!==evt&&(el=[this.getButtonIdForIndex(evt)],this.input&&el.push(this.textfield.dom.value),this.handleButtonClick.apply(this,el))},close:function(){this.destroy()},bindStore:Ext.emptyFn,getStoreListeners:Ext.emptyFn,onLoad:Ext.emptyFn,onBeforeLoad:Ext.emptyFn,privates:{handleTextFieldKeyDown:function(evt,source){evt.keyCode===Ext.event.Event.ENTER&&this.handleButtonClick('okButton',source.value)}}},1,0,['component',
'box','loadmask'],{component:!0,box:!0,loadmask:!0},0,0,[coon.comp.component,'MessageMask'],0);
Ext.cmd.derive('coon.comp.form.AutoCompleteForm',Ext.form.Panel,{referenceHolder:!0,defaultFocus:'textfield:focusable:not([hidden]):not([disabled]):not([value])',autoCompleteTrigger:!1,submitHelperButton:null,initComponent(){let cfgObject,listen;this.defaultFakeActionUrl=coon.core.Environment.getPathForResource('html/blank.html','extjs-lib-comp');cfgObject={tag:'form',method:'post'};this.formName&&(cfgObject.name=this.formName);this.autoEl=Ext.applyIf(this.autoEl||{},cfgObject);Ext.form.Panel.prototype.initComponent.call(this);
listen={render:'doAutoComplete',scope:this,single:!0};Ext.each(this.query('textfield'),function(field){field.on(listen)});!1!==this.autoCompleteTrigger&&(this.sanitizeAutoCompleteTrigger(this.autoCompleteTrigger),this.on('afterrender',this.createFakeSubmitHelper,this,{single:!0}))},privates:{sanitizeAutoCompleteTrigger:function(options){options.actionUrl&&Ext.isString(options.actionUrl)||(options.actionUrl=this.defaultFakeActionUrl);options.actionUrl&&options.reference&&Ext.isString(options.actionUrl)&&
Ext.isString(options.reference)||Ext.raise({sourceClass:Ext.getClassName(this),actionUrl:options.actionUrl,reference:options.reference,msg:Ext.getClassName(this)+' needs actionUrl and reference to be configured as strings'});return{actionUrl:options.actionUrl}},doAutoComplete:function(field){field.inputEl&&!1!==field.autoComplete&&field.inputEl.set({autocomplete:'on'})},createFakeSubmitHelper:function(){var btn=this.lookup(this.autoCompleteTrigger.reference);btn?(this.submitHelperButton=Ext.DomHelper.append(this.el.dom,
{tag:'input',type:'submit',style:'display:none'}),Ext.fly(this.el.dom).on('submit',this.onDomFormSubmit,this),btn.on('click',this.triggerFakeSubmit,this)):Ext.raise({sourceClass:Ext.getClassName(this),reference:this.autoCompleteTrigger.reference,msg:Ext.getClassName(this)+'#autoCompleteTrigger (Object) needs reference to be representing an existing component'})},onDomFormSubmit:function(evt){evt.preventDefault();evt=new XMLHttpRequest;evt.open('POST',this.autoCompleteTrigger.actionUrl,!0);evt.setRequestHeader('Content-type',
'application/x-www-form-urlencoded');evt.send();return!1},triggerFakeSubmit:function(){var btn=this.submitHelperButton;btn||Ext.raise({sourceClass:Ext.getClassName(this),msg:Ext.getClassName(this)+' cannot find the fake submit button'});btn.click()}}},0,['cn_comp-autocompleteform'],'component box container panel form cn_comp-autocompleteform'.split(' '),{component:!0,box:!0,container:!0,panel:!0,form:!0,'cn_comp-autocompleteform':!0},['widget.cn_comp-autocompleteform'],0,[coon.comp.form,'AutoCompleteForm'],
0);
Ext.cmd.derive('coon.comp.form.field.FileButton',Ext.form.field.FileButton,{afterTpl:['\x3cinput id\x3d"{id}-fileInputEl" data-ref\x3d"fileInputEl" class\x3d"{childElCls} {inputCls}" ','type\x3d"file" size\x3d"1" name\x3d"{inputName}" multiple\x3d"true" unselectable\x3d"on" ','\x3ctpl if\x3d"accept !\x3d null"\x3eaccept\x3d"{accept}"\x3c/tpl\x3e','\x3ctpl if\x3d"tabIndex !\x3d null"\x3etabindex\x3d"{tabIndex}"\x3c/tpl\x3e','\x3e'],fireChange:function(evt){var fileDom=this.fileInputEl.dom;this.fireEvent('change',this,
evt,fileDom.value,fileDom.files)}},0,['cn_comp-formfieldfilebutton'],['component','box','button','filebutton','cn_comp-formfieldfilebutton'],{component:!0,box:!0,button:!0,filebutton:!0,'cn_comp-formfieldfilebutton':!0},['widget.cn_comp-formfieldfilebutton'],0,[coon.comp.form.field,'FileButton'],0);
Ext.define('coon.comp.grid.feature.Livegrid',{extend:'Ext.grid.feature.Feature',alias:'feature.cn_comp-gridfeature-livegrid',pageMapFeeder:null,vetoedPages:null,init:function(grid){grid.multiColumnSort&&Ext.raise({msg:'Livegrid does not work with grid\'s "multiColumnSort"-functionality enabled',multiColumnSort:grid.multiColumnSort});this.configure(grid.getStore());grid.on('reconfigure',this.onGridReconfigure,this);Ext.grid.feature.Feature.prototype.init.apply(this,arguments);this.swapSaveFocusState();
this.mon(this.grid.view.getScrollable(),'scroll',this.onScroll,this);this.vetoedPages=[]},isConfigured:function(){return!!this.pageMapFeeder},getRecordById:function(id){return coon.core.data.pageMap.PageMapUtil.getRecordById(id,this.pageMapFeeder)},add:function(record){var op=this.pageMapFeeder.add(record);record=[];op&&(op=op.getResult(),op.to&&record.push(op.to));return this.refreshView(record,!1)},onScroll:function(scroller,x,scrollTop){scroller=this.vetoedPages;var len=scroller.length;if(len){var rowHeight=
this.grid.view.bufferedRenderer.rowHeight;x=this.getPageMap();var pageSize=x.getPageSize();scrollTop=Math.round(scrollTop/rowHeight);for(var end,i=len-1;0<=i;i--)len=scroller[i],rowHeight=(len-1)*pageSize,end=rowHeight+(pageSize-1),rowHeight<=scrollTop&&scrollTop<=end||(x.suspendEvents(),x.removeAtKey(len),x.resumeEvents(),scroller.splice(i,1))}},onPageRemoveVeto:function(pageMapFeeder,pageNumber){-1===this.vetoedPages.indexOf(pageNumber)&&this.vetoedPages.push(pageNumber)},remove:function(record){const selModel=
this.grid.getSelectionModel();var op=this.pageMapFeeder.remove(record);let pos=[];op&&(op=op.getResult(),selModel.isSelected(record)&&selModel.deselect(record),op.from&&pos.push(op.from));return this.refreshView(pos,!1)},onStoreUpdate:function(store,record,operation){operation=this.grid.store.getSorters();store=this.grid.getSelectionModel();operation=operation&&operation.getAt(0)?operation.getAt(0).getProperty():null;var prev=record.previousValues;if(!operation||!prev||!Object.prototype.hasOwnProperty.call(prev,
operation))return!1;prev=this.pageMapFeeder.update(record);operation=[];prev&&(prev=prev.getResult(),prev.to&&operation.push(prev.to),prev.from&&operation.push(prev.from));return this.refreshView(operation,store.isSelected(record))},refreshView:function(positions,ensureVisible=!0){const grid=this.grid,view=grid.getView(),pageMap=this.getPageMap(),PageMapUtil=coon.core.data.pageMap.PageMapUtil,viewRange=this.getCurrentViewRange();let i,len,indexes=[],renderGuess=!1;i=0;for(len=positions.length;i<len;i++)indexes.push(PageMapUtil.positionToStoreIndex(positions[i],
pageMap));grid.getStore().isLoaded()&&view.rendered&&Ext.Object.isEmpty(view.all.elements)&&(renderGuess=!0);return renderGuess||viewRange.contains(positions)?(indexes.push(view.all.startIndex),view.refreshView(Math.min(...indexes)),!1!==ensureVisible&&(positions=grid.getSelection(),positions.length&&grid.ensureVisible(positions[0])),!0):!1},getCurrentViewRange:function(){const rows=this.grid.getView().all;return-1===rows.endIndex?null:coon.core.data.pageMap.PageMapUtil.storeIndexToRange(rows.startIndex,
rows.endIndex,this.getPageMap(),!0)},getPageMap:function(){return this.grid.getStore().getData()},onCacheMiss:function(store,start,end){store=this.getPageMap();var PageMapUtil=coon.core.data.pageMap.PageMapUtil;const pageMapFeeder=this.pageMapFeeder;start=PageMapUtil.storeIndexToPosition(start,store);PageMapUtil=PageMapUtil.storeIndexToPosition(end,store);end=Math.min(start.getPage(),PageMapUtil.getPage());for(start=Math.max(start.getPage(),PageMapUtil.getPage());end<=start;end++)!store.peekPage(end)&&
pageMapFeeder.getFeedAt(end)&&pageMapFeeder.removeFeedAt(end)},onPageAdd:function(pageMap,pageNumber){this.cleanFeedsAndVetoed(pageNumber)},onPageRemove:function(pageMap,pageNumber){this.cleanFeedsAndVetoed(pageNumber)},onBeforePrefetch:function(store,operation){store=operation.getPage();operation=coon.core.data.pageMap.RecordPosition;return this.pageMapFeeder.getFeedAt(store)&&!this.getCurrentViewRange().contains(operation.create(store,0))?!1:!0},onGridReconfigure:function(grid,store,columns,oldStore,
oldColumns){store&&store!==oldStore&&this.configure(store)},configure:function(store){if(store&&store.isEmptyStore)return!1;store&&store instanceof Ext.data.BufferedStore||Ext.raise({msg:"'store' must be an instance of Ext.data.BufferedStore",store});let pageMap=store.getData();this.mun(store,'update',this.onStoreUpdate,this);this.mon(store,'update',this.onStoreUpdate,this);this.mun(store,'beforeprefetch',this.onBeforePrefetch,this);this.mon(store,'beforeprefetch',this.onBeforePrefetch,this);this.mun(store,
'pageadd',this.onPageAdd,this);this.mon(store,'pageadd',this.onPageAdd,this);this.mun(store,'pageremove',this.onPageRemove,this);this.mon(store,'pageremove',this.onPageRemove,this);this.mun(store,'cachemiss',this.onCacheMiss,this);this.mon(store,'cachemiss',this.onCacheMiss,this);this.pageMapFeeder&&(this.mun(this.pageMapFeeder,'cn_core-pagemapfeeder-pageremoveveto',this.onPageRemoveVeto,this),this.pageMapFeeder.destroy(),this.pageMapFeeder=null);this.pageMapFeeder=Ext.create('coon.core.data.pageMap.PageMapFeeder',
{pageMap});this.mon(this.pageMapFeeder,'cn_core-pagemapfeeder-pageremoveveto',this.onPageRemoveVeto,this);return!0},swapSaveFocusState:function(){this.view.saveFocusState=coon.comp.grid.feature.Livegrid.prototype.saveFocusState;return!0},saveFocusState:function(){const me=this;let tmp=me.all.getCount,res=Ext.view.Table.prototype.saveFocusState.apply(me,arguments);return function(){me.all.getCount=function(){return me.dataSource.getTotalCount()};res.apply(me);me.all.getCount=tmp}},cleanFeedsAndVetoed:function(pageNumber){const vetoedPages=
this.vetoedPages;this.pageMapFeeder.removeFeedAt(pageNumber);pageNumber=vetoedPages.indexOf(pageNumber);-1!==pageNumber&&vetoedPages.splice(pageNumber,1)}});
Ext.cmd.derive('coon.comp.grid.feature.RowBodySwitch',Ext.grid.feature.RowBody,{enableCls:'cn_comp-rowbodyswitch-enable',disableCls:'cn_comp-rowbodyswitch-disable',previewColumnConfig:null,variableRowHeight:!0,columnConfig:null,init:function(grid){if(grid.rendered)this.initFeatureForGrid(grid);else grid.on('afterrender',this.initFeatureForGrid,this,{single:!0});Ext.grid.feature.RowBody.prototype.init.apply(this,arguments);!1===this.variableRowHeight&&(grid.variableRowHeight=grid.view.variableRowHeight=
!1)},initFeatureForGrid:function(grid){this.disabled?grid.view.addCls(this.disableCls):(this.saveColumns(),grid.view.addCls(this.enableCls),this.restoreColumns(this.previewColumnConfig),grid.setHideHeaders(!0))},disable:function(){this.view.grid.rendered||Ext.raise({msg:'Cannot disable since grid was not rendered yet.'});Ext.grid.feature.RowBody.prototype.disable.apply(this,arguments);this.restoreColumns(this.columnConfig);this.disablePreview(!0)},enable:function(){this.view.grid.rendered||Ext.raise({msg:'Cannot enable since grid was not rendered yet.'});
Ext.grid.feature.RowBody.prototype.enable.apply(this,arguments);this.saveColumns();this.restoreColumns(this.previewColumnConfig);this.disablePreview(!1)},disablePreview:function(disable){var view=this.view,grid=view.grid,gridBody=grid.body;disable=!!disable;grid.setHideHeaders(!disable);disable?(gridBody.removeCls('x-noborder-trbl').addCls('x-noborder-rbl'),view.addCls(this.disableCls).removeCls(this.enableCls)):(gridBody.removeCls('x-noborder-rbl').addCls('x-noborder-trbl'),view.addCls(this.enableCls).removeCls(this.disableCls));
view.refresh()},saveColumns:function(){for(var columns=this.view.grid.getColumns(),columnConfig={},col,i=0,len=columns.length;i<len;i++)col=columns[i],columnConfig[col.dataIndex]={hidden:col.rendered?col.isHidden():!0===col.hidden,width:col.rendered?0===col.getWidth()?void 0:col.getWidth():col.width?col.width:void 0},void 0===columnConfig[col.dataIndex].width&&delete columnConfig[col.dataIndex].width,!col.rendered&&col.flex&&(delete columnConfig[col.dataIndex].width,columnConfig[col.dataIndex].flex=
col.flex);this.columnConfig=columnConfig},restoreColumns:function(columnConfig){var grid=this.view.grid,columns=grid.getColumns(),dataIndex=null,restoreCount=0,len;for(dataIndex in columnConfig)if(Object.prototype.hasOwnProperty.call(columnConfig,dataIndex)){var i=0;for(len=columns.length;i<len;i++){var col=columns[i];col.setVisible(!0);if(col.dataIndex===dataIndex){grid.headerCt.move(i,restoreCount);columns=grid.getColumns();break}}restoreCount++}columns=grid.getColumns();i=0;for(len=columns.length;i<
len;i++)col=columns[i],grid=columnConfig[col.dataIndex],!0===grid.hidden&&col.setVisible(!1),void 0!==grid.flex?col.setFlex(grid.flex):void 0!==grid.width&&col.setWidth(grid.wdth)}},0,0,0,0,['feature.cn_comp-gridfeature-rowbodyswitch'],0,[coon.comp.grid.feature,'RowBodySwitch'],0);
Ext.cmd.derive('coon.comp.grid.feature.RowFlyMenu',Ext.grid.feature.Feature,{cls:'cn_comp-rowflymenu',idToActionMap:null,menu:null,items:null,alignTo:'tr-tr',currentRecord:null,init:function(grid){this.menu=this.buildMenu(this.items);this.mon(this.menu,{tap:this.onMenuClick,mouseover:this.onMenuMouseOver,mouseout:this.onMenuMouseOut,scope:this});delete this.items;this.installListeners(grid);Ext.grid.feature.Feature.prototype.init.apply(this,arguments)},onMenuMouseOver:function(evt,target){-1!==target.className.indexOf('cn-item')&&
(this.grid.on('beforeselect',this.preventSelection),Ext.fly(target).addCls('cn-over'))},onMenuMouseOut:function(evt,target){-1!==target.className.indexOf('cn-item')&&(this.grid.un('beforeselect',this.preventSelection),Ext.fly(target).removeCls('cn-over'))},onMenuClick:function(evt,target){const action=this.idToActionMap[target.id];evt.stopEvent();action&&this.fireEvent('itemclick',this,target,action,this.currentRecord)},onItemMouseEnter:function(view,record,item,index,e,eOpts){this.disabled||(e.stopEvent(),
this.currentRecord=record,!1===this.fireEvent('beforemenushow',this,item,record)?this.currentRecord=null:(Ext.fly(item).appendChild(this.menu),this.menu.show(),this.menu.alignTo.apply(this.menu,[item].concat(this.alignTo))))},onItemMouseLeave:function(view,record,item,index,e,eOpts){this.disabled||(e.stopEvent(),this.detachMenuAndUnset())},installListeners:function(grid){grid.view.on('beforerefresh',this.onBeforeGridViewRefresh,this);grid.on('itemmouseenter',this.onItemMouseEnter,this);grid.on('itemmouseleave',
this.onItemMouseLeave,this);grid.on('beforeitemkeydown',this.onBeforeItemKeyDown,this)},buildMenu:function(items){items=this.processItems(items);items=Ext.Element.create({tag:'div',cls:this.cls,children:items},!0);items=Ext.create('Ext.Element',items);items.skipGarbageCollection=!0;return items},processItems:function(items){let childs=[],item;this.idToActionMap={};for(let i=0,len=items.length;i<len;i++)item=Ext.apply({},items[i]),item.tag=item.tag?item.tag:'div',item.cls=item.cls?'cn-item '+item.cls:
'cn-item',item.id=item.id?item.id:Ext.id(),item.action&&(this.idToActionMap[item.id]=item.action,delete item.action),childs.push(item);return childs},disable:function(){this.detachMenuAndUnset();Ext.grid.feature.Feature.prototype.disable.apply(this,arguments)},onBeforeGridViewRefresh:function(){this.detachMenuAndUnset()},detachMenuAndUnset:function(){const menu=this.menu;menu.dom.parentNode&&Ext.fly(menu.dom.parentNode).removeChild(menu);this.grid.un('beforeselect',this.preventSelection);this.currentRecord=
null},destroy:function(){this.menu&&(this.menu.destroy(),this.menu=null);return Ext.grid.feature.Feature.prototype.destroy.apply(this,arguments)},preventSelection:function(){return!1},onBeforeItemKeyDown:function(){this.detachMenuAndUnset()}},0,0,0,0,['feature.cn_comp-gridfeature-rowflymenu'],0,[coon.comp.grid.feature,'RowFlyMenu'],0);
Ext.cmd.derive('coon.comp.window.Toast',Ext.window.Toast,{cls:'cn_comp-toast',context:'',bodyPadding:'14 28 14 68',align:'tr',autoClose:!0,constructor:function(cfg){cfg.context&&(cfg.cls=this.cls+' '+cfg.context);Ext.window.Toast.prototype.constructor.call(this,cfg)}},1,['cn_comp-toast'],'component box container panel window toast cn_comp-toast'.split(' '),{component:!0,box:!0,container:!0,panel:!0,window:!0,toast:!0,'cn_comp-toast':!0},['widget.cn_comp-toast'],0,[coon.comp.window,'Toast'],function(Toast){coon.Toast=
function(){const show=function(message,context){message=new Toast({context,html:message});message.show();return message};return{fail:function(message){return show(message,'error')},warn:function(message){return show(message,'warning')},info:function(message){return show(message,'info')}}}()});
Ext.define('conjoon.overrides.coon.comp.window.Toast',{override:'coon.comp.window.Toast',constructor:function(){(arguments.callee.$previous||Ext.window.Toast.prototype.constructor).apply(this,arguments);this.paddingX=10;this.anchor=Ext.getApplication().getMainView().down('cn_navport-tbar')}});
Ext.define('coon.navport.app.PackageController',{extend:'coon.core.app.PackageController',listen:{controller:{'#':{unmatchedroute:'onUnmatchedRoute'}}},autoDefaultToken:null,init:function(app){app.getDefaultToken()||(this.autoDefaultToken=Ext.id(),app.setDefaultToken(this.autoDefaultToken))},onUnmatchedRoute:function(hash){this.onBeforePackageRoute({stop:Ext.emptyFn,resume:this.processRouteFor.bind(this,hash)})},processRouteFor:function(hash){this.autoDefaultToken&&hash===this.autoDefaultToken?this.getApplication().getMainView().cleanup():
this.getApplication().activateViewForHash(hash)}});Ext.cmd.derive('coon.navport.data.schema.BaseSchema',coon.core.data.schema.BaseSchema,{namespace:'coon.navport.model',id:'cn_navport-baseschema'},0,0,0,0,['schema.cn_navport-baseschema'],0,[coon.navport.data.schema,'BaseSchema'],0);Ext.cmd.derive('coon.navport.mixin.ViewportManageable',Ext.Base,{canNavigationViewportCloseView:function(){return!0}},0,0,0,0,0,0,[coon.navport.mixin,'ViewportManageable'],0);
Ext.cmd.derive('coon.navport.model.NavigationModel',Ext.data.TreeModel,{schema:'cn_navport-baseschema',fields:[{name:'route',type:'string',validators:[{type:'presence'}]},{name:'text',type:'string',validators:[{type:'presence'}]},{name:'view',type:'auto'},{name:'packageController',type:'string'},{name:'inheritNodeNav',type:'bool',defaultValue:!1}],toUrl:function(){return this.get('route')}},0,0,0,0,0,0,[coon.navport.model,'NavigationModel'],0);
Ext.cmd.derive('coon.navport.store.NavigationTreeStore',Ext.data.TreeStore,{model:'coon.navport.model.NavigationModel',root:{expanded:!0,children:[]}},0,0,0,0,['store.cn_navport-navtreestore'],0,[coon.navport.store,'NavigationTreeStore'],0);
Ext.cmd.derive('coon.navport.view.controller.NavigationToolbarViewController',Ext.app.ViewController,{nodeNavItemIds:null,activeNodeId:null,nodeNavInsertPosition:2,permaNavIndex:3,buildPermaNavItems:function(items){const view=this.getView();var passItems=items,index=!1;items.items&&(passItems=items.items,index=items.index?items.index:!1);let maxIndex=index;!1===index&&(maxIndex=0,view.items.items.forEach((item)=>maxIndex=item.cn_index>maxIndex?item.cn_index+1:maxIndex));items=this.buildToolbarItems(passItems,
!1);passItems=[];items.map((item)=>item.cn_index=maxIndex++);index=0;for(var len=items.length;index<len;index++)passItems.push(view.insert(view.items.findInsertionIndex(items[index],(item,itemNext)=>item.cn_index<itemNext.cn_index?-1:item.cn_index>itemNext.cn_index?1:0),items[index]).getItemId());return passItems},buildNodeNavItems:function(items,id){items=this.buildToolbarItems(items,!0);for(var view=this.getView(),itemIds=[],i=items.length-1;-1<i;i--)itemIds.push(view.insert(this.nodeNavInsertPosition,
items[i]).getItemId()),this.permaNavIndex++;this.nodeNavItemIds||(this.nodeNavItemIds={});this.nodeNavItemIds[id]=itemIds;return itemIds.reverse()},activateNavigationForNode:function(nodeId){var activeId=this.activeNodeId,len;if(!this.nodeNavItemIds)return null;if(nodeId===activeId)return nodeId;this.activeNodeId=nodeId;if(this.nodeNavItemIds[activeId]){activeId=this.nodeNavItemIds[activeId];var i=0;for(len=activeId.length;i<len;i++)this.switchItemVisibility(activeId[i],!1)}if(!this.nodeNavItemIds[nodeId])return null;
if(this.nodeNavItemIds[nodeId])for(activeId=this.nodeNavItemIds[nodeId],i=0,len=activeId.length;i<len;i++)this.switchItemVisibility(activeId[i],!0);return nodeId},hasNodeNavigation:function(id){return this.nodeNavItemIds&&!!this.nodeNavItemIds[id]},buildToolbarItems:function(items,initialHide){var itemsToAdd=[],end;Ext.isArray(items)||Ext.raise({sourceClass:Ext.getClassName(this),items,msg:Ext.getClassName(this)+'#buildToolbarItems needs items to be an array'});var start=-1;for(end=items.length-1;start++<
end;){var item=items[start];Ext.isObject(item)&&(Ext.isString(item.xtype)||Ext.isString(item.xclass))||Ext.raise({sourceClass:Ext.getClassName(this),item,msg:Ext.getClassName(this)+'#buildToolbarItems found an invalid configuration for an item'});item.itemId||(item.itemId=Ext.id());initialHide&&(item.cn_hidden=item.hidden,item.hidden=!0);itemsToAdd.push(item)}return itemsToAdd},switchItemVisibility:function(itemId,show){itemId=this.getView().down('#'+itemId);if(show){if(!itemId.cn_hidden)return itemId.suspendEvents(),
itemId.setHidden(!1),itemId.resumeEvents(),!0}else itemId.cn_hidden=itemId.isHidden(),itemId.suspendEvents(),itemId.setHidden(!0),itemId.resumeEvents();return!1}},0,0,0,0,['controller.cn_navport-navigationtoolbarviewcontroller'],0,[coon.navport.view.controller,'NavigationToolbarViewController'],0);
Ext.cmd.derive('coon.navport.view.AbstractNavigationToolbar',Ext.Toolbar,{cls:'cn_navport-tbar',controller:'cn_navport-navigationtoolbarviewcontroller',items:[{xtype:'component',reference:'cn_navport_ref_applogo'},{margin:'0 0 0 8',xtype:'button',reference:'cn_navport_ref_hidenavbtn',text:'Hide Navigation',tooltip:{title:'Show / hide navigation',text:'Adjusts visibility of the main navigation.'}},'-\x3e'],addPermanentNavigation:function(items){return this.getController().buildPermaNavItems(items)},
addNodeNavigation:function(items,id){return this.getController().buildNodeNavItems(items,id)},hasNodeNavigation:function(id){return this.getController().hasNodeNavigation(id)},showNavigationForNode:function(id){this.getController().activateNavigationForNode(id)}},0,0,['component','box','container','toolbar'],{component:!0,box:!0,container:!0,toolbar:!0},0,0,[coon.navport.view,'AbstractNavigationToolbar'],0);
Ext.cmd.derive('coon.navport.view.NavigationToolbar',coon.navport.view.AbstractNavigationToolbar,{},0,['cn_navport-tbar'],['component','box','container','toolbar','cn_navport-tbar'],{component:!0,box:!0,container:!0,toolbar:!0,'cn_navport-tbar':!0},['widget.cn_navport-tbar'],0,[coon.navport.view,'NavigationToolbar'],0);
Ext.define('conjoon.theme.material.overrides.cn_navport.view.NavigationToolbar',{override:'coon.navport.view.NavigationToolbar',initComponent:function(){const title=coon.core.ConfigManager.get('conjoon','title','conjoon');Ext.apply(this.items[0],{cls:'conjoon-logo',html:`\x3cdiv class\x3d"main-logo"\x3e\x3cdiv class\x3d"fas fa-envelope logo"\x3e\x3c/div\x3e${title}\x3c/div\x3e`,width:250});delete this.items[1].text;this.items[1].iconCls='fas fa-bars';(arguments.callee.$previous||coon.navport.view.AbstractNavigationToolbar.prototype.initComponent).call(this)}});
Ext.cmd.derive('coon.navport.view.pages.Page404',coon.comp.window.LockingWindow,{cls:'cn_navport-pg404',layout:{type:'vbox',align:'center',pack:'center'},homeToken:null,items:[{cls:'inner-container',xtype:'container',width:600,layout:{type:'vbox',align:'stretch',pack:'center'},items:[{cls:'top-text',xtype:'label',text:'404'},{cls:'descr',flex:1,xtype:'label',data:{route:void 0},tpl:'\x3cdiv\x3eSeems like the page you\'ve requested could not be found!\x3c/div\x3e\x3cdiv\x3eReturn to the \x3ca href\x3d"#{route}"\x3e Home page \x3c/a\x3e\x3c/div\x3e'}]}],
constructor:function(){coon.comp.window.LockingWindow.prototype.constructor.apply(this,arguments);this.down('label[cls\x3ddescr]').setData({route:this.homeToken})}},1,['cn_navport-pg404'],'component box container panel window cn_comp-lockingwindow cn_navport-pg404'.split(' '),{component:!0,box:!0,container:!0,panel:!0,window:!0,'cn_comp-lockingwindow':!0,'cn_navport-pg404':!0},['widget.cn_navport-pg404'],[[coon.navport.mixin.ViewportManageable.prototype.mixinId||coon.navport.mixin.ViewportManageable.$className,
coon.navport.mixin.ViewportManageable]],[coon.navport.view.pages,'Page404'],0);
Ext.cmd.derive('coon.navport.view.controller.NavigationViewportController',Ext.app.ViewController,{currentView:null,control:{'cn_navport-navtree':{selectionchange:'onNavigationTreeSelectionChange'},'cn_navport-tbar \x3e button[reference\x3dcn_navport_ref_hidenavbtn]':Ext.isModern?{tap:'onHideNavigationClick'}:{click:'onHideNavigationClick'}},addPermaNavItems:function(items){return this.lookup('cn_navport_ref_tbar').addPermanentNavigation(items)},addMainNavigationItems:function(items){var tbar=this.lookup('cn_navport_ref_tbar'),
store=this.getView().lookup('cn_navport_ref_conwrap').lookup('cn_navport_ref_navtree').getStore(),nodeNavItems;Ext.isArray(items)||Ext.raise({sourceClass:Ext.getClassName(this),items,msg:Ext.getClassName(this)+'#addNavigationItems needs items to be an array'});for(var i=0,len=items.length;i<len;i++){var navItem=items[i];[navItem,nodeNavItems]=this.createNavigationModelFrom(navItem);for(let [nodeId,nodeNav]of Object.entries(nodeNavItems))tbar.addNodeNavigation(nodeNav,nodeId);store.getRootNode().appendChild(navItem)}},
hideNavigation:function(hide){var contentWrap=this.getView().lookup('cn_navport_ref_conwrap');contentWrap.lookup('cn_navport_ref_navtree').setHidden(!0===hide);contentWrap.updateLayout({isRoot:!0})},addViewForHash:function(hash,defaultToken){var conwrap=this.lookup('cn_navport_ref_conwrap'),navTree=conwrap.lookup('cn_navport_ref_navtree'),store=navTree.getStore();conwrap=conwrap.lookup('cn_navport_ref_conctr');hash=(hash||'').toLowerCase();if(''===hash)return null;if(store=store.getRoot().findChildBy(function(record){if((record.get('route')||
'').toLowerCase()===hash)return!0},null,!0)){navTree.suspendEvents();navTree.setSelection(store);navTree.resumeEvents();this.activateNodeNavigation(store);if(store.get('view')){navTree=store.get('view');let pctrl,configurable=!1;store.get('packageController')&&(configurable=(pctrl=Ext.getApplication().getController(store.get('packageController')))&&Ext.isFunction(pctrl.configureView));Ext.isString(navTree)&&(navTree={xclass:navTree});navTree.id?defaultToken=Ext.ComponentManager.get(navTree.id):(navTree.cn_routeId=
hash,defaultToken=conwrap.down('component[cn_routeId\x3d'+hash+']'));defaultToken?(configurable&&(defaultToken=pctrl.configureView(defaultToken,!1,hash,store)),conwrap.setActiveItem(defaultToken)):(defaultToken=Ext.create(navTree),configurable&&(defaultToken=pctrl.configureView(defaultToken,!0,hash,store)),defaultToken instanceof Ext.Window||(Ext.suspendLayouts(),configurable&&(defaultToken=pctrl.configureView(defaultToken,!1,hash,store)),conwrap.setActiveItem(conwrap.add(defaultToken)),Ext.resumeLayouts(!0)));
defaultToken.isFocusable(!0)&&defaultToken.focus();return this.currentView=defaultToken}return null}this.nodeNotFound(hash,defaultToken)},nodeNotFound:function(hash,defaultToken){this.currentView=this.getView().showUnmatchedRouteNotification(hash,defaultToken)},onNavigationTreeSelectionChange:function(tree,node){null!==node&&this.redirectTo(node)},onHideNavigationClick:function(btn){btn=this.getView().lookup('cn_navport_ref_conwrap').lookup('cn_navport_ref_navtree');this.hideNavigation(!0===btn.isVisible())},
privates:{activateNodeNavigation:function(node){const tbar=this.lookup('cn_navport_ref_tbar');let idForNodeNav;for(;node;){idForNodeNav=node.getId();if(!node.get('inheritNodeNav'))break;node=node.parentNode}tbar.showNavigationForNode(idForNodeNav);tbar.hasNodeNavigation(idForNodeNav)||(idForNodeNav=null);return idForNodeNav},isCurrentViewClosable:function(){return this.currentView&&Ext.isFunction(this.currentView.canNavigationViewportCloseView)?this.currentView.canNavigationViewportCloseView():!1},
closeCurrentView:function(){this.currentView.close();this.currentView=null},createNavigationModelFrom:function(config){for(var me=this,mandatoryFields=['text','route'],manField,nodeNavItems={},a=0,lena=mandatoryFields.length;a<lena;a++)manField=mandatoryFields[a],Object.prototype.hasOwnProperty.call(config,manField)&&config[manField]||Ext.raise({sourceClass:Ext.getClassName(this),config,msg:Ext.getClassName(this)+'#createNavigationModelFrom found an invalid configuration for a navigation item'});
void 0===config.leaf&&(void 0===config.children?config.leaf=!0:Ext.isArray(config.children)&&(config.leaf=!1));mandatoryFields=Ext.copy({},config,'leaf,route,view,id,text,iconCls,packageController,inheritNodeNav');let node=Ext.create('coon.navport.model.NavigationModel',mandatoryFields);Ext.isArray(config.nodeNav)&&config.nodeNav.length&&(nodeNavItems[node.getId()]=config.nodeNav);config.children&&config.children.forEach(function(child){let [subNode,subNodeNav]=me.createNavigationModelFrom(child);
Ext.apply(nodeNavItems,subNodeNav);node.appendChild(subNode)});return[node,nodeNavItems]}}},0,0,0,0,['controller.cn_navport-ctrl'],0,[coon.navport.view.controller,'NavigationViewportController'],0);
Ext.cmd.derive('coon.navport.view.NavigationTree',coon.comp.list.Tree,{cls:'cn_navport-navtree',store:{type:'cn_navport-navtreestore'},expanderOnly:!1,expanderFirst:!1},0,['cn_navport-navtree'],['widget','treelist','cn_comp-listtree','cn_navport-navtree'],{widget:!0,treelist:!0,'cn_comp-listtree':!0,'cn_navport-navtree':!0},['widget.cn_navport-navtree'],0,[coon.navport.view,'NavigationTree'],0);
Ext.define('conjoon.theme.material.overrides.cn_navport.view.NavigationTree',{override:'coon.navport.view.NavigationTree',ui:'cn_navport-navtree'});Ext.cmd.derive('coon.navport.view.ContentContainer',Ext.Container,{cls:'cn_navport-conctr',layout:{type:'card',anchor:'100%'}},0,['cn_navport-conctr'],['component','box','container','cn_navport-conctr'],{component:!0,box:!0,container:!0,'cn_navport-conctr':!0},['widget.cn_navport-conctr'],0,[coon.navport.view,'ContentContainer'],0);
Ext.cmd.derive('coon.navport.view.ContentWrap',Ext.container.Container,{cls:'cn_navport-conwrap',referenceHolder:!0,layout:Ext.apply({type:'hbox',align:'stretch'},Ext.isModern?{}:{animate:!0,animatePolicy:{x:!0,width:!0}}),items:[{reference:'cn_navport_ref_navtree',xtype:'cn_navport-navtree',width:250},{reference:'cn_navport_ref_conctr',flex:1,xtype:'cn_navport-conctr'}]},0,['cn_navport-conwrap'],['component','box','container','cn_navport-conwrap'],{component:!0,box:!0,container:!0,'cn_navport-conwrap':!0},
['widget.cn_navport-conwrap'],0,[coon.navport.view,'ContentWrap'],0);
Ext.define('coon.navport.view.AbstractNavigationViewport',{extend:'coon.comp.container.Viewport',referenceHolder:!0,controller:'cn_navport-ctrl',cls:'cn_navport',layout:{type:'vbox',align:'stretch'},items:[{xtype:'cn_comp-announcementbar'},{reference:'cn_navport_ref_tbar',xtype:'cn_navport-tbar'},{reference:'cn_navport_ref_conwrap',xtype:'cn_navport-conwrap',flex:1}],addPostLaunchInfo(info){Object.prototype.hasOwnProperty.call(info,'navigation')&&this.getController().addMainNavigationItems(info.navigation);
Object.prototype.hasOwnProperty.call(info,'permaNav')&&this.getController().addPermaNavItems(info.permaNav)},hideNavigation(hide){this.getController().hideNavigation(hide)},showUnmatchedRouteNotification(missingHash,defaultToken){return Ext.create('coon.navport.view.pages.Page404',{title:Ext.String.format('"{0}" not found',missingHash),homeToken:defaultToken})},activateViewForHash(hash,defaultToken){this.cleanup();return this.getController().addViewForHash(hash,defaultToken)},cleanup(){const ctrl=
this.getController();ctrl.isCurrentViewClosable()&&ctrl.closeCurrentView()}});Ext.define('coon.navport.view.NavigationViewport',{extend:'coon.navport.view.AbstractNavigationViewport',alias:'widget.cn_navport',initComponent(){coon.navport.view.AbstractNavigationViewport.prototype.initComponent.apply(this,arguments);coon.Announcement.register(this.down('cn_comp-announcementbar'))}});Ext.define(null,{override:'Ext.dom.Element',ripple:Ext.emptyFn});
Ext.cmd.derive('conjoon.theme.material.Theme',coon.core.Theme,{modes:{dark:{name:'Dark Mode','default':!0,config:{'dark-mode':'true','accent-color':'#35baf6','accent-light-color':'#007bb3','accent-foreground-color':'rgba(107, 107, 107, 0.4)','base-color':'#35baf6','overlay-color':'rgba(0, 0 , 0, .6)',color:'#d6d6d6','selected-background-color':'#3e4953','base-dark-color':'#3e4953'}},light:{name:'Light Mode','default':!1,config:{'dark-mode':'false','accent-color':'#35baf6','accent-light-color':'#007bb3',
'accent-foreground-color':'rgba(107, 107, 107, 1)','base-foreground-color':'#333333','base-color':'#35baf6','overlay-color':'rgba(0, 0 , 0, .5)',color:'#484848'}}},updateMode:function(mode){window.Fashion&&(mode=this.getModes()[mode],Fashion.css.setVariables(mode.config))},get:function(key){var value=coon.core.Theme.prototype.get.apply(this,arguments);!value&&window.Fashion&&(value=Fashion.css.getVariables(),value=key?value[key]:value);return value},set:function(key,value){coon.core.Theme.prototype.set.apply(this,
arguments);window.Fashion&&Fashion.css.setVariables({[key]:value});return this}},0,0,0,0,0,0,[conjoon.theme.material,'Theme'],0);
Ext.cmd.derive('conjoon.theme.material.plugin.ModeSwitchPlugin',Ext.plugin.Abstract,{init:function(targetCmp){const theme=coon.core.ThemeManager.getTheme();if(!(targetCmp instanceof coon.navport.view.NavigationToolbar))throw Error('"targetCmp" must be an instance of coon.navport.view.NavigationToolbar');targetCmp.addPermanentNavigation({index:1,items:[{xtype:'button',iconCls:'light'===theme.getMode()?'fas fa-sun':'fas fa-moon',scale:'small',handler:(btn)=>{btn.setIconCls('light'===theme.getMode()?
'fas fa-moon':'fas fa-sun');theme.setMode('light'===theme.getMode()?'dark':'light')}}]})}},0,0,0,0,0,0,[conjoon.theme.material.plugin,'ModeSwitchPlugin'],0);Ext.namespace('Ext.theme.is')['coon-js-theme']=!0;Ext.theme.name='extjs-theme-material';
Ext.define('conjoon.plugin.TitleChangePlugin',{extend:'coon.core.app.plugin.ApplicationPlugin',run:function(controller){if(this.initialized)return!1;Ext.GlobalEvents.on('conjoon.application.TitleAvailable',this.onTitleAvailable,this);return this.initialized=!0},onTitleAvailable(source,title){source=l8.template.esix.make(coon.core.ConfigManager.get('conjoon','titleTpl')).render({title});return document.title=source},destroy(){Ext.GlobalEvents.un('conjoon.application.TitleAvailable',this.onTitleAvailable,
this);this.callParent(arguments)}});
Ext.cmd.derive('conjoon.view.main.controller.ViewportController',coon.navport.view.controller.NavigationViewportController,{onHideNavigationClick:function(btn){btn=this.getView().lookup('cn_navport_ref_conwrap').lookup('cn_navport_ref_navtree');this.hideNavigation(!btn.getMicro())},hideNavigation:function(hide){var view=this.getView(),contentWrap=view.lookup('cn_navport_ref_conwrap'),navTree=contentWrap.lookup('cn_navport_ref_navtree');view=view.lookup('cn_navport_ref_tbar').lookup('cn_navport_ref_applogo');var newWidth=
hide?64:250;view.animate({dynamic:!0,to:{width:newWidth}});navTree.setWidth(newWidth);navTree.setMicro(hide);contentWrap.updateLayout({isRoot:!0})}},0,0,0,0,['controller.cn_app-mainviewport-ctrl'],0,[conjoon.view.main.controller,'ViewportController'],0);Ext.define('conjoon.view.main.Viewport',{extend:'coon.navport.view.NavigationViewport',controller:'cn_app-mainviewport-ctrl'});
Ext.define('conjoon.Application',{extend:'coon.comp.app.Application',controllers:['coon.navport.app.PackageController'],name:'conjoon',mainView:'conjoon.view.main.Viewport',launch(){Ext.fireEvent('conjoon.application.TitleAvailable',this,coon.core.ConfigManager.get('conjoon','tagline'));['denied','granted'].includes(Notification.permission)||coon.Announcement.show({message:'Would you like to receive desktop notifications from conjoon?',yes:{text:'Options...',callback:()=>Notification.requestPermission()},
type:'info'});const announcement=coon.core.ConfigManager.get('conjoon','announcement');announcement&&coon.Announcement.show({message:announcement.message,type:'success'})},launchHook:function(){Ext.getBody().removeCls('launching');const splash=document.getElementById('splash');splash&&splash.parentNode.removeChild(splash);Ext.ariaWarn=Ext.emptyFn;return coon.comp.app.Application.prototype.launchHook.apply(this,arguments)},onAppUpdate(){coon.Announcement.show({message:'This application has an update, reload?',
yes:()=>window.location.reload(),no:(bar)=>bar.hide(),type:'warning'})}});
Ext.define('conjoon.plugin.WorkbenchQuotes',{extend:'Ext.plugin.Abstract',id:'conjoon-workbenchquotes',constructor(cfg){if(!cfg.url)throw Error('"url" missing for WorkbenchQuotes');if(!cfg.template)throw Error('"template" missing for WorkbenchQuotes');this.template=cfg.template;this.url=cfg.url},async init(targetCmp){if(!(targetCmp instanceof coon.navport.view.ContentContainer))throw Error('"targetCmp" must be an instance of coon.navport.view.ContentContainer');const quotes=await this.loadQuotes();
return await this.renderQuote(this.getRandomQuote(quotes),targetCmp)},async renderQuote(quote,targetCmp){const target=targetCmp.el.dom;if(0!==target.childNodes.length)this.destroy();else{var html='-';try{var tpl=await coon.core.Template.load(this.template);html=tpl.render({quote})}catch(e){this.destroy();return}targetCmp.on('beforeadd',this.onBeforeContainerAdd,this,{single:!0});return target.innerHTML=html}},onBeforeContainerAdd(targetCmp){for(targetCmp=targetCmp.el.dom;targetCmp.childNodes.length;)targetCmp.removeChild(targetCmp.lastChild);
this.destroy()},getRandomQuote(quotes){return quotes[Math.floor(Math.random()*(quotes.length-1+1))+0]},async loadQuotes(){let res,quotes;try{res=await l8.load(this.url),quotes=JSON.parse(res)}catch(e){quotes=[{text:'Sorry, I have no quote for you today.',author:'conjoon.org'}]}return quotes}});Ext.application({name:'conjoon',extend:'conjoon.Application'});"use strict";var _get=function get(a,c,d){if(a===null){a=Function.prototype;}var b=Object.getOwnPropertyDescriptor(a,c);if(b===undefined){var f=Object.getPrototypeOf(a);if(f===null){return undefined}else {return get(f,c,d)}}else if("value" in b){return b.value}else {var e=b.get;if(e===undefined){return undefined}return e.call(d)}};var _createClass=function(){function defineProperties(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;if("value" in a){a.writable=!0;}Object.defineProperty(d,a.key,a)}}return function(a,c,b){if(c){defineProperties(a.prototype,c);}if(b){defineProperties(a,b);}return a}}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _possibleConstructorReturn(b,a){if(!b){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return a&&(typeof a==="object"||typeof a==="function")?a:b}function _inherits(b,a){if(typeof a!=="function"&&a!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});if(a){Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a;}}function _classCallCheck(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(a,b,c){if(b in a){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0})}else {a[b]=c}return a}(function(b){if((typeof exports==="undefined"?"undefined":_typeof(exports))==="object"&&typeof module!=="undefined"){module.exports=b()}else if(typeof define==="function"&&define.amd){define([],b)}else {var a;if(typeof window!=="undefined"){a=window}else if(typeof global!=="undefined"){a=global}else if(typeof self!=="undefined"){a=self}else {a=this}a.Fashion=b()}})(function(){var b,c,a;return function(){function r(a,b,d){function o(c,i){if(!b[c]){if(!a[c]){var h="function"==typeof require&&require;if(!i&&h){return h(c,!0);}if(e){return e(c,!0);}var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}var f=b[c]={exports:{}};a[c][0].call(f.exports,function(e){var f=a[c][1][e];return o(f||e)},f,f.exports,r,a,b,d)}return b[c].exports}for(var e="function"==typeof require&&require,c=0;c<d.length;c++){o(d[c])}return o}return r}()({1:[function(a,e,g){var b;var c=a('./src/export/Base.js');var d=a('./src/export/css/CssVariableManager.js'),f=new d();c.apply(c,(b={css:f,CssExport:d,Types:a('./src/export/type/Types.js'),ValueParser:a('./src/export/parse/ValueParser.js'),Type:a('./src/export/type/Type.js'),Bool:a('./src/export/type/Bool.js'),Literal:a('./src/export/type/Literal.js'),ParentheticalExpression:a('./src/export/type/ParentheticalExpression.js'),Text:a('./src/export/type/Text.js'),Numeric:a('./src/export/type/Numeric.js'),List:a('./src/export/type/List.js'),Map:a('./src/export/type/Map.js'),Color:a('./src/export/type/Color.js'),ColorRGBA:a('./src/export/type/ColorRGBA.js'),ColorHSLA:a('./src/export/type/ColorHSLA.js'),ColorStop:a('./src/export/type/ColorStop.js'),FunctionCall:a('./src/export/type/FunctionCall.js'),LinearGradient:a('./src/export/type/LinearGradient.js'),RadialGradient:a('./src/export/type/RadialGradient.js'),Statics:a('./src/export/type/Statics.js'),SourceBuilder:a('./src/export/type/SourceBuilder.js')},_defineProperty(b,"Types",a('./src/export/type/Types.js')),_defineProperty(b,"TypeVisitor",a('./src/export/type/TypeVisitor.js')),_defineProperty(b,"Output",a('./src/export/Output.js')),_defineProperty(b,"Runtime",a('./src/export/Runtime.js')),b));e.exports=c},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,c,d){"use strict";function getJsName(a){return a.replace(/\-/g,'_').replace(/\//g,'_fs_').replace(/\\/g,'_bs_')}var a=function(){function NameConverter(){_classCallCheck(this,NameConverter);this.variableNameMap={}}_createClass(NameConverter,[{key:"convertName",value:function convertName(b){var f=this.variableNameMap,a=f[b];if(a===undefined){a=f[b]=getJsName(b)}return a}}]);return NameConverter}();var b=new a();c.exports={NameConverter:a,getJsName:function getJsName(a){return b.convertName(a)}}},{}],3:[function(e,f,h){"use strict";var d=e('./../NameConverter.js');var b={trace:!1};var a=function a(b){_classCallCheck(this,a);if(b){merge(this,b)}};var c=function(){function BaseSet(){_classCallCheck(this,BaseSet)}_createClass(BaseSet,[{key:"first",value:function first(){return _first(this.items)}},{key:"last",value:function last(){return _last(this.items)}},{key:"tail",value:function tail(){return _tail(this.items)}}]);return BaseSet}();c.prototype.items=null;function _chainFunc(){}function apply(a,b){a=a||{};if(b){for(var c in b){a[c]=b[c]}}return a}function merge(a,g){a=a||{};var c,b,d;if(g){for(c in g){b=g[c];if(b&&b.constructor===Object){d=a[c];if(d&&d.constructor===Object){merge(d,b)}else {a[c]=b}}else {a[c]=b}}}return a}var g=Object.create||function(a){_chainFunc.prototype=a;return new _chainFunc()};function createMessage(b,a){if(a&&a.isFashionScanner){b+=': '+a.currentFile+':'+a.lineNumber}else if(a){b+=': '+a.file+':'+a.lineNumber}return b}function isFunction(a){return a&&typeof a==='function'}function trace(a,c){if(b.trace){console.log(createMessage('[DBG] '+a,c))}}function debug(a,b){console.log(createMessage('[DBG] '+a,b))}function log(a,b){console.log(createMessage('[LOG] '+a,b))}function info(a,b){console.log(createMessage('[INF] '+a,b))}function warn(a,b){console.log(createMessage('[WRN] '+a,b))}function error(a,b){console.log(createMessage('[ERR] '+a,b))}function raise(a,b){if(Fashion.inspect){debugger}if(typeof a!=='string'){b=a;a=b.message;delete b.message}var c=new Error(a);c.$isFashionError=!0;throw apply(c,b)}function raiseAt(c,a,d){var b;if(a){c=createMessage(c,a);if(a.isFashionScanner){b={file:a.currentFile,lineNumber:a.lineNumber}}else {b={node:a,lineNumber:a.lineNumber,file:a.file}}}if(d){if(!b){b={}}b.fashionStack=d}raise(c,b)}function filter(c,g){var b=[];for(var a=0;a<c.length;a++){var d=c[a];if(g(d,a)){b.push(d)}}return b}function convert(c,d){var b=[];for(var a=0;a<c.length;a++){b.push(d(c[a]))}return b}function _first(a){return a.length&&a[0]}function _last(a){return a.length&&a[a.length-1]}function _tail(a){if(a.length>2){return a.slice(1)}return []}function getAllKeys(a,k){var g=[],i={},c,b,j,d;for(;a&&a!==k;a=Object.getPrototypeOf(a)){d=Object.getOwnPropertyNames(a);for(c=0,j=d.length;c<j;++c){b=d[c];if(!i[b]){i[b]=!0;g.push(b)}}}return g}function mixin(i,b){if(!Array.isArray(b)){b=Array.prototype.slice.call(arguments,1)}var g=i.prototype;for(var d=0;d<b.length;d++){var j=b[d],c=j.prototype;getAllKeys(c,a.prototype).forEach(function(a){if(a in c){if(!(a in g)){g[a]=c[a]}}})}}function flatten(g,b,a){a=a||[];b=typeof b==='undefined'?1000:b;for(var d=0;d<g.length;d++){var c=g[d];if(Array.isArray(c)&&b){flatten(c,b-1,a)}else {a.push(c)}}return a}f.exports={EmptyArray:[],getJsName:d.getJsName,chain:g,Base:a,BaseSet:c,apply:apply,merge:merge,createMessage:createMessage,isFunction:isFunction,debugging:b,trace:trace,debug:debug,log:log,info:info,warn:warn,error:error,raise:raise,raiseAt:raiseAt,filter:filter,convert:convert,first:_first,last:_last,tail:_tail,mixin:mixin,flatten:flatten}},{"./../NameConverter.js":2}],4:[function(c,d,f){"use strict";var a=c('./Base.js'),e=a.Base;var b=function(a){_inherits(Output,a);function Output(){_classCallCheck(this,Output);var b=_possibleConstructorReturn(this,(Output.__proto__||Object.getPrototypeOf(Output)).call(this));b.output='';return b}_createClass(Output,[{key:"space",value:function space(){this.add(' ')}},{key:"add",value:function add(b){this.output+=b}},{key:"addComment",value:function addComment(b){this.output+=b}},{key:"indent",value:function indent(){this.indentation+=this.indentstr}},{key:"unindent",value:function unindent(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function addln(b){this.output+='\n'+this.indentation+(b||'')}},{key:"addCommentLn",value:function addCommentLn(b){if(b&&b.indexOf('//')===0){return}this.addln(b)}},{key:"get",value:function get(){return this.output}},{key:"indentln",value:function indentln(b){this.addln(b);this.indent()}},{key:"unindentln",value:function unindentln(b){this.unindent();this.addln(b)}},{key:"reset",value:function reset(){this.indentation='';this.output=''}}]);return Output}(e);a.apply(b.prototype,{indentation:'',output:'',isCompressed:!1,indentstr:'    ',splitThreshold:1000000,selectorCount:0});d.exports=b},{"./Base.js":3}],5:[function(b,k,q){"use strict";var a=b('./Base.js'),n=a.Base;var h=b('./type/Type.js');var g=b('./type/List.js');var o=b('./type/Bool.js');var l=b('./type/Color.js');var j=b('./type/ColorRGBA.js');var p=b('./type/Text.js');var d=b('./type/Literal.js');var f=b('./type/Statics.js');var i=b('./type/TypeVisitor.js');var m=b('./type/Types.js');var c=function(){function Scope(a){_classCallCheck(this,Scope);this.prev=a;this.map={};this.sourceInfo=null}_createClass(Scope,[{key:"get",value:function get(e){var d=this.map,c=this,a;while(d){a=d[e];if(a){return a}c=c.prev;d=c&&c.map}return a}},{key:"has",value:function has(d){var c=this.map,a=this;while(c){if(d in c){return !0}a=a.prev;c=a&&a.map}return !1}},{key:"put",value:function put(c,a){this.map[c]=a;return a}},{key:"addEntries",value:function addEntries(a){if(this.prev){this.prev.addEntries(a)}for(var c in this.map){a[c]=this.map[c]}}},{key:"getEntries",value:function getEntries(a){a=a||{};this.addEntries(a);return a}},{key:"getSourceInfo",value:function getSourceInfo(){return this.sourceInfo}},{key:"getCallStack",value:function getCallStack(a){a=a||[];if(this.sourceInfo){a.push(this.sourceInfo)}if(this.prev){this.prev.getCallStack(a)}return a}}]);return Scope}();a.apply(c.prototype,{$isScope:!0,map:undefined,prev:undefined,resetScope:undefined});var e=function(e){_inherits(Runtime,e);function Runtime(d){_classCallCheck(this,Runtime);var c=_possibleConstructorReturn(this,(Runtime.__proto__||Object.getPrototypeOf(Runtime)).call(this,d));var a=c;a.mixins={};a.functions={};a.processors=[];a.registered={runtime:a,box:f.boxType,unbox:f.unboxType,isArray:function isArray(a){return Array.isArray(a)},getRuntime:function getRuntime(){return this.runtime},handleArgs:function handleArgs(j,l){var f={},h=0,a;for(var i=0;i<j.length;i++){var c=j[i];if(c===undefined){continue}if(c===!0||c===!1){f[l[h]]=c;h++}else if(c.type===undefined){for(a in c){f[a.replace(/^\$/,'')]=c[a]}}else {a=l[h];if(a instanceof Array){a=a[0];f[a]=f[a]||new g();f[a].add(c)}else {f[a]=c;h++}}}return f},sliceArgs:function sliceArgs(c,a,f){return this.getRuntime().sliceArgs(c,a,f).items},tailArgs:function tailArgs(c,f){var a=Array.prototype.slice.call(f,c);if(a.length==1&&this.isArray(a)){a=a[0]}return a}};return c}_createClass(Runtime,[{key:"bool",value:function bool(a){return new o(a)}},{key:"color",value:function color(d){var a=l.map[d],c=new j(a[0],a[1],a[2],a[3]);c.stringified=d;return c}},{key:"quote",value:function quote(a){if(a.type==='string'){return a}return new p(a.toString())}},{key:"unquote",value:function unquote(a){if(a.$isFashionType){return a.unquote()}return new d(a.toString())}},{key:"not",value:function not(a){return this.box(this.unbox(a)==!1)}},{key:"operate",value:function operate(a,f,c){if(f==null||f.$isFashionNull){if(a!='=='&&a!='!='){return d.Null}}if(c==null||c.$isFashionNull){if(a!='=='&&a!='!='){return d.Null}}return f.operate(a,c)}},{key:"reset",value:function reset(){this._currentScope=null;this._currentCallStackScope=this.createCallStackScope();this._globalScope=this.createScope();this._dynamics={}}},{key:"run",value:function run(a,c){this.load(a);this.compile(a);return this.execute(c)}},{key:"createTypesBlock",value:function createTypesBlock(d){d=d||this.types;var g=Object.getOwnPropertyNames(d),c=[],a;for(var f=0;f<g.length;f++){a=g[f];c.push(a+' = Types.'+a);c.push("__"+a+' = '+a)}if(c.length===0){return ''}return 'var '+c.join(',\n    ')+';\n'}},{key:"createMethodBlock",value:function createMethodBlock(a){a=a||this.constructor.prototype;var d=[],f,c;while(a){f=Object.getOwnPropertyNames(a);for(var g=0;g<f.length;g++){c=f[g];if(typeof a[c]==='function'){d.push("__rt_"+c+' = __rt.'+c+'.bind(__rt)')}}a=Object.getPrototypeOf(a)}if(d.length===0){return ''}return 'var '+d.join(',\n    ')+';\n'}},{key:"createPropertyBlock",value:function createPropertyBlock(){var f=Object.getOwnPropertyNames(this),a=[],c;for(var d=0;d<f.length;d++){c=f[d];a.push("__rt_"+c+' = __rt.'+c)}if(a.length===0){return ''}return 'var '+a.join(',\n    ')+';\n'}},{key:"createPrefixedFunctionBody",value:function createPrefixedFunctionBody(a){a=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+a;return a}},{key:"createWrappedFn",value:function createWrappedFn(a){return new Function('Types','__rt','__gs','__udf','__dyn',this.createPrefixedFunctionBody(a))}},{key:"callWrappedFn",value:function callWrappedFn(d,c){return d(a,this,this._globalScope,undefined,c||{})}},{key:"compile",value:function compile(d){var f=this,c;this.code=d;new Function();c=this.createWrappedFn(d);this.fn=function(l,h,i){var g=l||f,j=i||{};g.reset();if(h){if(h.$isScope){g._globalScope=h}else {g._globalScope.map=h}}if(i){g._dynamics=i}g._currentScope=g._globalScope;g._scopeStack=[g._currentScope];try{c(f.types,g,g._globalScope,undefined,j)}catch(r){a.raiseAt(r.message||r,null,g.getCallStack())}return g._globalScope};return this.fn}},{key:"execute",value:function execute(a){return this.fn(this,a)}},{key:"load",value:function load(a){this.code=a;return this}},{key:"registerProcessor",value:function registerProcessor(a){this.processors.push(new i(a))}},{key:"register",value:function register(c){if(c['dynamic']){a.error('Cannot register javascript function named "dynamic"');delete c['dynamic']}if(c['require']){a.error('Cannot register javascript function named "require"');delete c['require']}a.apply(this.registered,c)}},{key:"isRegistered",value:function isRegistered(a){a=this.reserved[a]?'__'+a:a;return !!this.registered[a]}},{key:"getGlobalScope",value:function getGlobalScope(){return this._globalScope}},{key:"getCurrentScope",value:function getCurrentScope(){return this._currentScope}},{key:"getRegisteredFunctions",value:function getRegisteredFunctions(){return this.registered}},{key:"getFunctions",value:function getFunctions(){return this.functions}},{key:"getMixins",value:function getMixins(){return this.mixins}},{key:"createScope",value:function createScope(f){var a=f||this._currentScope,d=new c(a);return this.pushScope(d)}},{key:"pushScope",value:function pushScope(a){a.resetScope=this._currentScope;this._currentScope=a;return a}},{key:"popScope",value:function popScope(){this._currentScope=this._currentScope.resetScope;return this._currentScope}},{key:"createCallStackScope",value:function createCallStackScope(f){var a=f||this._currentCallStackScope,d=new c(a);return this.pushCallStackScope(d)}},{key:"pushCallStackScope",value:function pushCallStackScope(a){a.resetScope=this._currentCallStackScope;this._currentCallStackScope=a;return a}},{key:"popCallStackScope",value:function popCallStackScope(){this._currentCallStackScope=this._currentCallStackScope.resetScope;return this._currentCallStackScope}},{key:"getCallStack",value:function getCallStack(){if(this._currentCallStackScope){return this._currentCallStackScope.getCallStack()}return null}},{key:"pushSourceInfo",value:function pushSourceInfo(a){if(this._currentCallStackScope){this._currentCallStackScope.sourceInfo=a}return !0}},{key:"getSourceInfo",value:function getSourceInfo(){var c=this._currentCallStackScope,a=c&&c.sourceInfo;if(a&&a.length){return {lineNumber:a[0],file:a[1]}}return null}},{key:"get",value:function get(c){var d=this.getScopeForName(c),f=d.map[c];if(typeof f==='undefined'){if(!(c in d.map)){a.raiseAt('Reference to undeclared variable : '+c,null,this.getCallStack())}}return this.box(f)}},{key:"getScopeForName",value:function getScopeForName(c){var a=this._currentScope;while(a){if(c in a.map){return a}a=a.prev}return this._currentScope}},{key:"getDefault",value:function getDefault(a){if(a==null||typeof a==='undefined'){return undefined}if(a.$isFashionNull){if(this.constructor.allowNullDefaults){return a}return undefined}return this.box(a)}},{key:"getGlobalDefault",value:function getGlobalDefault(a){var c=this._globalScope.get(a);return this.getDefault(c)}},{key:"getLocalDefault",value:function getLocalDefault(a){var c=this._currentScope.get(a);return this.getDefault(c)}},{key:"setGlobal",value:function setGlobal(f,a,c){var d=this._globalScope;if(!a||!a.$isFashionLiteral){a=this.box(a)}a.ast=a.ast||this.getAstNode(c);d.map[f]=a;return a}},{key:"setDynamic",value:function setDynamic(g,c,f){var i=a.getJsName(g),h=this._globalScope,d;if(!c||!c.$isFashionLiteral){c=this.box(c)}c.ast=c.ast||this.getAstNode(f);if(c.$referenceName||c.$constant){d=c.clone();d.$previousReference=c;c=d;c.ast=this.getAstNode(f)}else {c.$referenceName=g}h.map[i]=c;return c}},{key:"setScoped",value:function setScoped(c,a){var d=this.getScopeForName(c);if(!a||!a.$isFashionLiteral){a=this.box(a)}d.map[c]=a;return a}},{key:"set",value:function set(d,a){var c=this._currentScope;if(!a||!a.$isFashionLiteral){a=this.box(a)}c.map[d]=a;return a}},{key:"getDocs",value:function getDocs(a){if(this.docCache){return this.docCache.get(a)}}},{key:"getString",value:function getString(a){if(this.stringCache){return this.stringCache.get(a)}}},{key:"getAstNode",value:function getAstNode(a){if(this.nodeCache){return this.nodeCache.get(a)}}},{key:"applySpread",value:function applySpread(a){a.spread=!0;return a}},{key:"sliceArgs",value:function sliceArgs(m,j,l){j=j||0;l=l||m.length;var f=[],i=[],h=', ',d,c,a;for(c=j;c<l;c++){a=m[c];if(!a){if(!d){f.push(a)}continue}if(a.spread&&a.$isFashionList){if(d){f.push(d)}d=a;h=d.separator||h}else {f.push(a)}}for(c=0;c<f.length;c++){a=f[c];h=a&&a.splatSeparator||h;i.push(f[c])}if(d){i.push.apply(i,d.items)}return new g(i,h)}},{key:"applySpreadArgs",value:function applySpreadArgs(w,x){var f=[],r=!1,v=0,c,o,i,p,h,l,g,d,n,s,m;n=this.context&&this.context.preprocessor;if(n){d=n.mixinDeclarations[x];if(d){v=1}else {d=n.functionDeclarations[x]}d=d&&d.parameters}for(o=0;o<w.length;o++){c=w[o];if(c&&c.spread&&c.$isFashionMap&&d){h=c.items;g={};for(l in c.map){g['$'+a.getJsName(l)]=c.map[l]}for(var t=0;t<d.length;t++){s=d[t];m=a.getJsName(s.name);if(m in g){f.push(h[g[m]]);delete g[m]}else if(!s.varArgs){f.push(undefined)}}for(l in g){i=h[g[l]];f.push(i)}r=!0}else if(c&&c.spread&&c.$isFashionList){h=c.getItems();for(p=0;p<h.length;p++){i=h[p];i&&(i.splatSeparator=c.separator);f.push(i)}r=!0}else if(c||!r){f.push(c)}c&&(c.spread=undefined)}var u=this.context&&this.context.missingParameters;if(u&&u=='error'){if(d){for(var j=0;j<d.length;j++){if(!d[j].hasOwnProperty('default')&&!d[j].varArgs){if(f[j+v]===undefined){a.raiseAt("No value supplied for argument : "+d[j].name,null,this.getCallStack())}}}}}return f}},{key:"warn",value:function warn(c){a.warn(c,this.getSourceInfo())}},{key:"error",value:function error(c){a.raiseAt(c,null,this.getCallStack())}},{key:"debug",value:function debug(){a.debug.apply(a,arguments)}},{key:"setCaches",value:function setCaches(a){this.docCache=a.docCache;this.stringCache=a.stringCache;this.nodeCache=a.nodeCache}},{key:"copyRuntimeState",value:function copyRuntimeState(a){this._dynamics=a._dynamics;this.registered=a.registered;this.functions=a.functions;this.mixins=a.mixins}},{key:"test",value:function test(a){a=this.unbox(a);if(a==null||a===!1){return !1}return !0}},{key:"and",value:function and(a,c){if(this.test(a)){return c}return a}},{key:"or",value:function or(a,c){if(this.test(a)){return a}return c}}]);return Runtime}(n);a.apply(e.prototype,{box:h.box,unbox:h.unbox,Scope:c,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:m,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{'if':!0,'else':!0}});k.exports=e},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(b,g,h){"use strict";var a=b('../Base.js');var f=b('../Runtime.js');var e=b('../parse/ValueParser.js');var d=b('../type/SourceBuilder.js');var c=function(){function CssVariableManager(){_classCallCheck(this,CssVariableManager);this.reset()}_createClass(CssVariableManager,[{key:"reset",value:function reset(){this.initFns=[];this.calcFns=[];this.variableMap={};this.runtime=null}},{key:"createRuntime",value:function createRuntime(){return new f()}},{key:"getRuntime",value:function getRuntime(){var a=this,c=a.runtime;if(!c){c=a.createRuntime();for(var d=0;d<a.initFns.length;d++){a.initFns[d](c)}a.runtime=c}return c}},{key:"calculate",value:function calculate(l){var m=this,n=m.getRuntime(),t={},s=new e(),q=m.variableMap,c,j,r,k,o,p,i,u;j=new n.Scope();for(k in l){c=a.getJsName(k.replace(m.nameRe,''));if(c.indexOf('$')!==0){c='$'+c}j.put(c,s.parse(l[k]))}n._globalScope=j;n._currentScope=j;for(var f=0;f<m.calcFns.length;f++){m.calcFns[f](n)}r=new d();l={};for(k in q){o=q[k];for(var f=0;f<o.length;f++){c=o[f];p='$'+a.getJsName(c);i=j.get(p);if(i){if(i.$isWrapper){i=i.value}l[c]=r.toSource(i)}}}return l}},{key:"applyVariables",value:function applyVariables(k){var l=this,j=l.variableMap;for(var f in j){var e=j[f];var a=document.querySelectorAll(f);if(a){for(var c=0;c<a.length;c++){for(var d=0;d<e.length;d++){var i=e[d];a[c].style.setProperty('--'+i,k[i])}}}}}},{key:"setVariables",value:function setVariables(a){this.applyVariables(this.calculate(a))}},{key:"register",value:function register(f,e,c){if(f){this.initFns.push(f)}if(e){this.calcFns.push(e)}if(c){var i=this.variableMap;for(var a in c){var d=i[a];if(!d){i[a]=c[a]}else {d.push.apply(d,c[a])}}}}},{key:"buildName",value:function buildName(a){return a.replace(/^--/,'').replace(/^\$/,'')}},{key:"buildJsName",value:function buildJsName(c){return a.getJsName(c)}},{key:"buildNames",value:function buildNames(c){var d={},a;for(a in c){d[a]=this.buildName(c[a])}return d}},{key:"buildJsNames",value:function buildJsNames(c){var d={},a;for(a in c){d[a]=this.buildJsName(c[a])}return d}},{key:"getVariables",value:function getVariables(){var l=this,j=l.variableMap,k={};for(var f in j){var e=j[f];var a=document.querySelectorAll(f);if(a){for(var c=0;c<a.length;c++){for(var d=0;d<e.length;d++){var i=e[d];k[i]=a[c].style.getPropertyValue('--'+i)}}}}return k}}]);return CssVariableManager}();a.apply(c.prototype,{$isExport:!0,nameRe:/^--/});g.exports=c},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(d,m,q){"use strict";var f=d('../Base.js');var b=d('../type/Type.js');var p=d('../type/Statics.js');var a=d('../type/Types.js'),n=a.Color,o=a.Text,k=a.Numeric,i=a.List,h=a.Bool,g=a.Literal,c=a.ColorRGBA,j=a.ColorHSLA,e=a.FunctionCall;var l=function(){function Parser(){_classCallCheck(this,Parser);this.index=0}_createClass(Parser,[{key:"_advance",value:function _advance(){var c=this,g='',h=c.str,i=h.length,b=!1,f=!1,e=0,a;while(c.index<i){a=h[c.index];c.index++;if(a<=' '){if(!b&&!e){if(g.length){break}continue}}if(a===';'&&!b&&!f){break}if(a==='('){e++}if(a===')'){e&&e--}if(a===','&&!b&&!f&&!e){if(g.length){c.index--;break}else {return a}}if(a==='\\'){if(b){f=1;c.index++;continue}}if(a==='"'||a==="'"){if(!b){b=a}else if(b===a){b=!1}}f=!1;g+=a}return g}},{key:"parseValue",value:function parseValue(a){var r={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/},i,u;if(a[0]==='"'||a[0]==="'"){u=a=a.substring(1,a.length-1);return new o(u,a[0])}if(a==='true'){return new h(!0)}if(a==='false'){return new h(!1)}if(a==='null'){return g.Null}if(a==='none'){return g.None}if(f.Color.map[a]){var s=n.map[a],t=new c(s[0],s[1],s[2],s[3]);t.stringified=a;return t}if(i=r.number.exec(a)){return new k(parseFloat(i[1]),i[2])}if(i=r.shortHexColor.exec(a)){return c.fromHex(i[1])}if(i=r.longHexColor.exec(a)){return c.fromHex(i[1])}if(i=r.functionCall.exec(a)){var p=i[1],l=this.parse(i[2]).items;if(p==='hsla'||p==='hsl'){return new j(b.unbox(l[0]),b.unbox(l[1]),b.unbox(l[2]),b.unbox(l[3])||1)}else if(p==='rgba'||p==='rgb'){return new c(b.unbox(l[0]),b.unbox(l[1]),b.unbox(l[2]),b.unbox(l[3])||1)}return new e(p,l)}if(i=r.parenList.exec(a)){return new e(this.parse(i[1]))}return new f.Literal(a)}},{key:"parse",value:function parse(h){var c=this,g=[],e=[],a=null,b;c.str=h;c.index=0;while(b=c._advance()){g.push(b)}for(var f=0;f<g.length;f++){b=g[f].trim();if(g[f+1]===','){a=a||[];a.push(c.parseValue(b));f++}else if(a){a.push(c.parseValue(b));e.push(new i(a,', '));a=null}else {e.push(c.parseValue(b))}}if(e.length===1){return e[0]}return new i(e,' ')}}]);return Parser}();m.exports=l},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(b,d,f){"use strict";var c=b('../Base.js');var e=b('./Type.js');var a=function(a){_inherits(Bool,a);function Bool(e){_classCallCheck(this,Bool);var c=_possibleConstructorReturn(this,(Bool.__proto__||Object.getPrototypeOf(Bool)).call(this));c.value=!!e;return c}_createClass(Bool,[{key:"doVisit",value:function doVisit(c){c.bool(this)}},{key:"toString",value:function toString(){return this.value?'true':'false'}},{key:"copy",value:function copy(){return new Bool(this.value)}}]);return Bool}(e);c.apply(a.prototype,{type:'bool',$isFashionBool:!0,value:null});a.True=new a(!0);a.True.$constant=!0;a.False=new a(!1);a.False.$constant=!0;d.exports=a},{"../Base.js":3,"./Type.js":24}],9:[function(a,e,h){"use strict";var c=a('../Base.js');var g=a('./Type.js');var f=a('./Bool.js');var d=a('./Numeric.js');var b=function(b){_inherits(Color,b);function Color(){_classCallCheck(this,Color);return _possibleConstructorReturn(this,(Color.__proto__||Object.getPrototypeOf(Color)).call(this))}_createClass(Color,[{key:"toBoolean",value:function toBoolean(){return f.True}},{key:"getRGBA",value:function getRGBA(){return this}},{key:"getHSLA",value:function getHSLA(){return this}}],[{key:"component",value:function component(g,f){var k=Color.units[f],j=Color.types[f],i=Color.comps[f],c;if(j=='hsla'){c=g.getHSLA()}else {c=g.getRGBA()}return new d(c[i],k)}},{key:"adjust",value:function adjust(g,d,f){var c=g.getHSLA().copy(),j=Color.comps[d],i=f.value;c[j]+=i;c.h=Color.constrainDegrees(c.h);c.s=Color.constrainPercentage(c.s);c.l=Color.constrainPercentage(c.l);return c.getRGBA()}},{key:"constrainChannel",value:function constrainChannel(c){return Math.max(0,Math.min(c,255))}},{key:"constrainPercentage",value:function constrainPercentage(c){return Math.max(0,Math.min(c,100))}},{key:"constrainDegrees",value:function constrainDegrees(c){c=c%360;return c<0?360+c:c}},{key:"constrainAlpha",value:function constrainAlpha(c){if(c===undefined){return 1}return Math.max(0,Math.min(c,1))}}]);return Color}(g);c.apply(b,{units:{lightness:'%',saturation:'%',hue:'deg'},types:{red:'rgba',blue:'rgba',green:'rgba',alpha:'rgba',hue:'hsla',saturation:'hsla',lightness:'hsla'},comps:{red:'r',green:'g',blue:'b',alpha:'a',hue:'h',saturation:'s',lightness:'l'},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}});c.apply(b.prototype,{type:'color',$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1});e.exports=b},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(c,f,g){"use strict";var e=c('../Base.js');var a=c('./Color.js');var d=c('./ColorRGBA.js');var b=function(b){_inherits(ColorHSLA,b);function ColorHSLA(h,j,i,e){_classCallCheck(this,ColorHSLA);var d=_possibleConstructorReturn(this,(ColorHSLA.__proto__||Object.getPrototypeOf(ColorHSLA)).call(this));d.h=a.constrainDegrees(h);d.s=j;d.l=i;if(e!==undefined){d.a=e}return d}_createClass(ColorHSLA,[{key:"doVisit",value:function doVisit(a){a.hsla(this)}},{key:"operate",value:function operate(a,d){return this.getRGBA().operate(a,d)}},{key:"copy",value:function copy(){return new ColorHSLA(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function getRGBA(){return d.fromHSLA(this)}},{key:"toString",value:function toString(){return this.getRGBA().toString()}},{key:"add",value:function add(e,i,h,d){return new ColorHSLA(a.constrainDegrees(this.h+e),a.constrainPercentage(this.s+i),a.constrainPercentage(this.l+h),a.constrainAlpha(this.a*d))}},{key:"subtract",value:function subtract(a,e,d){return this.add(-a,-e,-d)}},{key:"adjustLightness",value:function adjustLightness(d){this.l=a.constrainPercentage(this.l+d);return this}},{key:"adjustHue",value:function adjustHue(d){this.h=a.constrainDegrees(this.h+d);return this}}],[{key:"fromRGBA",value:function fromRGBA(h){if(h.$isFashionHSLA){return h.clone()}var l=h.r/255,k=h.g/255,m=h.b/255,p=h.a,e=Math.max(l,k,m),j=Math.min(l,k,m),i=e-j,d=0,o=0,n=0.5*(e+j);if(j!=e){o=n<0.5?i/(e+j):i/(2-e-j);if(l==e){d=60*(k-m)/i}else if(k==e){d=120+60*(m-l)/i}else {d=240+60*(l-k)/i}if(d<0){d+=360}if(d>=360){d-=360}}return new ColorHSLA(a.constrainDegrees(d),a.constrainPercentage(o*100),a.constrainPercentage(n*100),p)}}]);return ColorHSLA}(a);d.prototype.getHSLA=function(){return b.fromRGBA(this)};e.apply(b.prototype,{type:'hsla',$isFashionHSLA:!0,h:null,s:null,l:null,a:1});f.exports=b},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(d,e,f){"use strict";var c=d('../Base.js');var b=d('./Color.js');function hex2(b){var a=b.toString(16);if(a.length<2){a='0'+a}return a}var a=function(a){_inherits(ColorRGBA,a);function ColorRGBA(i,h,g,c){_classCallCheck(this,ColorRGBA);var b=_possibleConstructorReturn(this,(ColorRGBA.__proto__||Object.getPrototypeOf(ColorRGBA)).call(this));b.r=Math.min(255,Math.max(0,i));b.g=Math.min(255,Math.max(0,h));b.b=Math.min(255,Math.max(0,g));if(c!==undefined){b.a=Math.min(1,Math.max(0,c))}return b}_createClass(ColorRGBA,[{key:"doVisit",value:function doVisit(b){b.rgba(this)}},{key:"copy",value:function copy(){return new ColorRGBA(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function getHSLA(){return null}},{key:"stringify",value:function stringify(){var c=this,g=Math.round,k=g(c.r),j=g(c.g),i=g(c.b),h=c.a,b='';if(h===1){b='#'+hex2(k)+hex2(j)+hex2(i)}else {b='rgba('+k+', '+j+', '+i+', '+h+')'}b=b.toLowerCase();return b}},{key:"getCompressedValue",value:function getCompressedValue(b){var g=ColorRGBA.stringifiedMap[b],c=ColorRGBA.shortFormMap[b];if(g){b=b.length>g.length?g:b}if(ColorRGBA.useShortValues&&c){b=b.length>c.length?c:b}return b}},{key:"toString",value:function toString(){if(!this.stringified){this.stringified=this.getCompressedValue(this.stringify())}return this.stringified}},{key:"toIeHexStr",value:function toIeHexStr(){var c=this,b=Math.round,j=b(c.r),i=b(c.g),h=b(c.b),g=b(255*c.a);return '#'+hex2(g)+hex2(j)+hex2(i)+hex2(h)}},{key:"add",value:function add(h,g,c,b){return new ColorRGBA(this.r+h,this.g+g,this.b+c,this.a*b)}},{key:"subtract",value:function subtract(g,c,b){return new ColorRGBA(this.r-g,this.g-c,this.b-b,this.a)}},{key:"multiply",value:function multiply(b){return new ColorRGBA(this.r*b,this.g*b,this.b*b,this.a)}},{key:"divide",value:function divide(b){return new ColorRGBA(this.r/b,this.g/b,this.b/b,this.a)}}],[{key:"fromHex",value:function fromHex(b){if(b.charAt(0)=='#'){b=b.substr(1)}var h,g,c;if(b.length===3){h=parseInt(b.charAt(0),16);g=parseInt(b.charAt(1),16);c=parseInt(b.charAt(2),16);h=(h<<4)+h;g=(g<<4)+g;c=(c<<4)+c}else {h=parseInt(b.substring(0,2),16);g=parseInt(b.substring(2,4),16);c=parseInt(b.substring(4,6),16)}var i=new ColorRGBA(h,g,c);if(ColorRGBA.preserveInputStrings){i.stringified="#"+b}return i}},{key:"fromHSLA",value:function fromHSLA(j){if(j.$isFashionRGBA){return j.clone()}var h=j,k=h.h/360,l=h.s/100,g=h.l/100,m=h.a;var i=g<=0.5?g*(l+1):g+l-g*l,c=g*2-i;function hue(b){if(b<0){++b;}if(b>1){--b;}if(b*6<1){return c+(i-c)*b*6;}if(b*2<1){return i;}if(b*3<2){return c+(i-c)*(2/3-b)*6;}return c}var p=b.constrainChannel(hue(k+1/3)*255),o=b.constrainChannel(hue(k)*255),n=b.constrainChannel(hue(k-1/3)*255);return new ColorRGBA(p,o,n,m)}}]);return ColorRGBA}(b);c.apply(a,{stringifiedMap:{'rgba(0, 0, 0, 0)':'transparent'},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1});c.apply(a.prototype,{type:'rgba',$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function number(b){var a=b.value,c=b.unit;switch(c){case '%':return this.getHSLA().adjustLightness(a).getRGBA();case 'deg':return this.getHSLA().adjustHue(a).getRGBA();default:return this.add(a,a,a,1);}},"+.rgba":function rgba(a){return this.add(a.r,a.g,a.b,a.a)},"+.hsla":function hsla(a){return this.getHSLA().add(a.h,a.s,a.l)},"-.number":function number(b){var a=b.value,c=b.unit;switch(c){case '%':return this.getHSLA().adjustLightness(-a).getRGBA();case 'deg':return this.getHSLA().adjustHue(-a).getRGBA();default:return this.subtract(a,a,a);}},"-.rgba":function rgba(a){return this.subtract(a.r,a.g,a.b)},"-.hsla":function hsla(a){return this.getHSLA().subtract(a.h,a.s,a.l)},"*.number":function number(a){return this.multiply(a.value)},"/.number":function number(a){return this.divide(a.value)},"*.rgba":function rgba(b){return new a(this.r*b.r,this.g*b.g,this.b*b.b,this.a*b.a)},"/.rgba":function rgba(b){return new a(Math.floor(this.r/b.r),Math.floor(this.g/b.g),Math.floor(this.b/b.b),Math.floor(this.a/b.a))}});e.exports=a;(function(l,k,i,g){var c=['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'],h=Object.keys(i),b;h.sort();for(b=0;b<h.length;b++){var j=h[b],a=i[j],m=new l(a[0],a[1],a[2],a[3]),n=m.stringify();k[n]=j}c.forEach(function(a){var b=a+a;c.forEach(function(h){var j=h+h;c.forEach(function(n){var p=n+n,c='#'+a+h+n,m='#'+b+j+p;if(g[m]){var o=g[m];c=o.length>c.length?c:o}g[m]=c})})})})(a,a.stringifiedMap,b.map,a.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(a,e,g){"use strict";var c=a('../Base.js');var f=a('./Type.js');var d=a('./Numeric.js');var b=function(b){_inherits(ColorStop,b);function ColorStop(d,f){_classCallCheck(this,ColorStop);var c=_possibleConstructorReturn(this,(ColorStop.__proto__||Object.getPrototypeOf(ColorStop)).call(this));c.color=d;c.stop=f;return c}_createClass(ColorStop,[{key:"doVisit",value:function doVisit(c){c.colorstop(this)}},{key:"descend",value:function descend(c){c.visit(this.color);c.visit(this.stop)}},{key:"toString",value:function toString(){var d=this.color.toString(),c=this.stop;if(c){c=c.copy();d+=' ';if(!c.unit){c.value*=100;c.unit='%'}d+=c.toString()}return d}},{key:"toOriginalWebkitString",value:function toOriginalWebkitString(){var c=this.stop;if(!c){c=new d(0,'%')}c=c.copy();if(!c.unit){c.value*=100;c.unit='%'}return 'color-stop('+c.toString()+', '+this.color.toString()+')'}},{key:"copy",value:function copy(){return new ColorStop(this.color&&this.color.clone(),this.stop&&this.stop.clone())}}]);return ColorStop}(f);c.apply(b.prototype,{type:'colorstop',$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null});e.exports=b},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(a,d,g){"use strict";var c=a('../Base.js');var f=a('./Type.js');var e=a('./List.js');var b=function(b){_inherits(FunctionCall,b);function FunctionCall(h,c){_classCallCheck(this,FunctionCall);var f=_possibleConstructorReturn(this,(FunctionCall.__proto__||Object.getPrototypeOf(FunctionCall)).call(this));f.name=h;if(Array.isArray(c)){c=new e(c)}f.args=c;return f}_createClass(FunctionCall,[{key:"toString",value:function toString(){var e=this.args,c;if(Array.isArray(e)){c=e.join(', ')}else {c=e.toString()}return this.name+"("+c+')'}},{key:"doVisit",value:function doVisit(c){c.functioncall(this)}},{key:"descend",value:function descend(c){this.args&&c.visit(this.args)}},{key:"copy",value:function copy(){return new FunctionCall(this.name,this.args&&this.args.copy())}}]);return FunctionCall}(f);c.apply(b.prototype,{type:'functioncall',$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null});d.exports=b},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(b,d,f){"use strict";var c=b('../Base.js');var e=b('./Type.js');var a=function(a){_inherits(LinearGradient,a);function LinearGradient(e,g){_classCallCheck(this,LinearGradient);var c=_possibleConstructorReturn(this,(LinearGradient.__proto__||Object.getPrototypeOf(LinearGradient)).call(this));c.position=e;c.stops=g;return c}_createClass(LinearGradient,[{key:"doVisit",value:function doVisit(c){c.lineargradient(this)}},{key:"descend",value:function descend(c){c.visit(this.position);c.visit(this.stops)}},{key:"copy",value:function copy(){return new LinearGradient(this.position&&this.position.clone(),this.stops&&this.stops.clone())}},{key:"gradientPoints",value:function gradientPoints(c){}},{key:"operate",value:function operate(e,c){switch(e){case "!=":if(c.type=='literal'&&(c.value=='null'||c.value=='none')){return !0};case "==":if(c.type=='literal'&&(c.value=='null'||c.value=='none')){return !1};}return _get(LinearGradient.prototype.__proto__||Object.getPrototypeOf(LinearGradient.prototype),"operate",this).call(this,e,c)}},{key:"supports",value:function supports(c){return !!this.vendorPrefixes[c.toLowerCase()]}},{key:"toString",value:function toString(){var c='linear-gradient(';if(this.position){c+=this.position+', '}return c+this.stops+')'}},{key:"toOriginalWebkitString",value:function toOriginalWebkitString(){var c=[],g=this.stops.items,h=g.length,e;c.push('top');c.push('bottom');for(e=0;e<h;e++){c.push(g[e].toOriginalWebkitString())}return '-webkit-gradient(linear, '+c.join(', ')+')'}},{key:"toPrefixedString",value:function toPrefixedString(c){if(c==='owg'){return this.toOriginalWebkitString()}return c+this.toString()}}]);return LinearGradient}(e);c.apply(a.prototype,{type:'lineargradient',$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}});d.exports=a},{"../Base.js":3,"./Type.js":24}],15:[function(a,d,f){"use strict";var c=a('../Base.js');var e=a('./Type.js');var b=function(b){_inherits(List,b);function List(g,e){_classCallCheck(this,List);var c=_possibleConstructorReturn(this,(List.__proto__||Object.getPrototypeOf(List)).call(this));c.items=g||[];c.separator=typeof e==='undefined'?' ':e;return c}_createClass(List,[{key:"doVisit",value:function doVisit(c){c.list(this)}},{key:"descend",value:function descend(e){for(var c=0;c<this.items.length;c++){e.visit(this.items[c])}}},{key:"copy",value:function copy(){var g=this.items,h=g.length,e=[];for(var c=0;c<h;c++){e.push(g[c].clone())}return new List(e,this.separator)}},{key:"clone",value:function clone(k,g){if(g&&this.matches(k)){return g.clone()}var j=this.items,l=j.length,e=[];for(var i=0;i<l;i++){var h=j[i];if(h){e.push(h.clone(k,g))}else {e.push(h)}}var c=new List(e,this.separator);c.$referenceName=this.$referenceName;c.$referenceBase=this.$referenceBase;c.$previousReference=this.$previousReference;return c}},{key:"add",value:function add(c){return this.items.push(c)}},{key:"get",value:function get(c){return this.items[c-1]||null}},{key:"operate",value:function operate(e,c){switch(e){case '!=':if(c.$isFashionLiteral){if(c.value==='null'||c.value==='none'){return !0}};break;case '==':if(c.$isFashionLiteral){if(c.value==='null'||c.value==='none'){return !1}};break;}return _get(List.prototype.__proto__||Object.getPrototypeOf(List.prototype),"operate",this).call(this,e,c)}},{key:"supports",value:function supports(e){for(var c=0;c<this.items.length;c++){var g=this.items[c];if(g.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function toBoolean(){return !!this.items.length}},{key:"getItems",value:function getItems(){return this.items}},{key:"toString",value:function toString(){return this.items.join(this.separator)}},{key:"unquote",value:function unquote(){var e=[],c;for(var g=0;g<this.items.length;g++){c=this.items[g];if(c){e.push(c.unquote())}else {e.push(c)}}return new List(e,this.separator)}},{key:"toPrefixedString",value:function toPrefixedString(h){var e=[];for(var c=0;c<this.items.length;c++){var g=this.items[c];if(g){e.push(g.toPrefixedString(h))}}return e.join(this.separator)}},{key:'==.list',value:function list(g){var e=this.separator==g.separator&&this.items.length==g.items.length;for(var c=0;e&&c<this.items.length;++c){e=this.items[c].operate("==",g.items[c])}return e}}]);return List}(e);c.apply(b.prototype,{type:'list',$isFashionList:!0,items:null,separator:null});d.exports=b},{"../Base.js":3,"./Type.js":24}],16:[function(d,g,h){"use strict";var e=d('../Base.js');var b=d('./Type.js');var f=d('./Numeric.js');var a=function(a){_inherits(Literal,a);function Literal(c){_classCallCheck(this,Literal);var b=_possibleConstructorReturn(this,(Literal.__proto__||Object.getPrototypeOf(Literal)).call(this));b.value=c;return b}_createClass(Literal,[{key:"doVisit",value:function doVisit(b){b.literal(this)}},{key:"_getHash",value:function _getHash(){return this.value}},{key:"toString",value:function toString(){return this.value||''}},{key:"toBoolean",value:function toBoolean(){return this.value.length}},{key:"copy",value:function copy(){return new Literal(this.value)}},{key:'+',value:function _(b){return new Literal(this.value+b.getHash())}},{key:'+.number',value:function number(b){if(this.value===null){return b}return new Literal(this.value+b.toString())}},{key:'/',value:function _(b){return new Literal(this.value+'/'+b.getHash())}},{key:'-',value:function _(b){return new Literal(this.value+'-'+b.getHash())}},{key:'%',value:function _(b){return new Literal(this.value+'%'+b.getHash())}},{key:"normalizeStart",value:function normalizeStart(e){var c=b.unbox(e)||0;if(c>0){c=c-1}if(c<0){c=this.value.length+c}if(c<0){c=0}return c}},{key:"normalizeEnd",value:function normalizeEnd(e){var c=b.unbox(e)||-1;if(c>0){c=c-1}if(c<0){c=this.value.length+c}if(c<0){c=0}if(c>0){c=c+1}return c}},{key:"slice",value:function slice(b,c){b=this.normalizeStart(b);c=this.normalizeEnd(c);return new Literal(this.value.slice(b,c))}},{key:"toUpperCase",value:function toUpperCase(){return new Literal(this.value.toUpperCase())}},{key:"toLowerCase",value:function toLowerCase(){return new Literal(this.value.toLowerCase())}},{key:"indexOf",value:function indexOf(c){var b=this.value.indexOf(c.value);if(b===-1){return undefined}return new f(b+1)}},{key:"insert",value:function insert(i,f){var c=b.unbox(f)||0,e=this.value;if(c>0){c=Math.min(c-1,e.length)}if(c<0){c=e.length+c+1;c=Math.max(c,0)}e=e.substring(0,c)+i.value+e.substring(c);return new Literal(Literal.deEscape(e))}},{key:"toDisplayString",value:function toDisplayString(){var b=this.value;if(b===null){return "null"}return this.toString()}}],[{key:"tryCoerce",value:function tryCoerce(b){if(b.$isFashionNumber){return undefined}if(b.$isFashionString){return new Literal(b.value)}if(b.$isFashionLiteral){return b}return new Literal(b.getHash())}},{key:"deEscape",value:function deEscape(e){var f='',b,c;for(b=0;b<e.length;b++){c=e.charAt(b);if(c==='\\'){b++;c=e.charAt(b)}f+=c}return f}}]);return Literal}(b);e.apply(a.prototype,{type:'literal',$isFashionLiteral:!0,value:null});var c=function(a){_inherits(FashionNull,a);function FashionNull(b){_classCallCheck(this,FashionNull);return _possibleConstructorReturn(this,(FashionNull.__proto__||Object.getPrototypeOf(FashionNull)).call(this,b||null))}_createClass(FashionNull,[{key:"copy",value:function copy(){return new FashionNull(this.value)}}]);return FashionNull}(a);e.apply(c.prototype,{$isFashionNull:!0,$constant:!0});c.prototype.$isFashionNull=!0;a.Null=new c(null);a.None=new a('none');g.exports=a},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(a,g,j){"use strict";var d=a('../Base.js');var b=a('./List.js');var i=a('./Type.js');var e=a('./Literal.js'),h=e.Null;var f=a('./Numeric.js');var c=function(c){_inherits(Map,c);function Map(b){_classCallCheck(this,Map);var e=_possibleConstructorReturn(this,(Map.__proto__||Object.getPrototypeOf(Map)).call(this,b));e.map={};if(b){for(var d=0;d<b.length-1;d+=2){var f=e.toKey(b[d]),h=b[d+1];e.map[f]=d+1}}return e}_createClass(Map,[{key:"doVisit",value:function doVisit(b){b.map(this)}},{key:"descend",value:function descend(d){for(var b=0;b<this.items.length;b++){d.visit(this.items[b])}}},{key:"get",value:function get(d){if(d instanceof f){d=i.unbox(d)}if(typeof d==='number'){return new b([this.items[2*d-2],this.items[2*d-1]],' ')}d=this.toKey(d);return this.items[this.map[d]]||h}},{key:"getItems",value:function getItems(){var d=[];for(var b=0;b<this.items.length-1;b+=2){var e=this.toKey(this.items[b]);d.push(this.map[e])}return d}},{key:"put",value:function put(e,d){var b=this.toKey(e);if(!this.map.hasOwnProperty(b)){this.items.push(e,d);this.map[b]=this.items.length-1}else {this.items[this.map[b]]=d}}},{key:"toString",value:function toString(){var b='',e=0;for(var d=0;d<this.items.length-1;d+=2){var h=this.toKey(this.items[d]),f=this.map[h];if(f){if(e>0){b+=', '}b+=h+": "+f.toString();e++}}return b}},{key:"toKey",value:function toKey(b){return this.unquoteKey(b).toString()}},{key:"unquoteKey",value:function unquoteKey(b){if(b.$isFashionType){return b.unquote()}return b}},{key:"remove",value:function remove(b){b=this.toKey(b);if(this.map[b]){var d=this.map[b];delete this.items[d-1];delete this.items[d];delete this.map[b]}}},{key:"getKeys",value:function getKeys(){var d=[];for(var b=0;b<this.items.length;b+=2){var e=this.items[b];if(e){d.push(e)}}return d}},{key:"getValues",value:function getValues(){var d=[];for(var b=1;b<this.items.length;b+=2){var e=this.items[b];if(e){d.push(e)}}return d}},{key:"hasKey",value:function hasKey(b){b=this.toKey(b);if(this.map.hasOwnProperty(b)){return !0}return !1}}]);return Map}(b);d.apply(c.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null});g.exports=c},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(c,f,h){"use strict";var b=c('../Base.js');var g=c('./Type.js');var e=c('./Bool.js');var a=c('./Literal.js');var d=function(d){_inherits(Numeric,d);function Numeric(i,b,e,g){_classCallCheck(this,Numeric);var a=_possibleConstructorReturn(this,(Numeric.__proto__||Object.getPrototypeOf(Numeric)).call(this));a.value=i;a.unit=b;if(b&&!e){a.numeratorUnits=[b]}else {a.numeratorUnits=e||[]}a.denominatorUnits=g||[];return a}_createClass(Numeric,[{key:"doVisit",value:function doVisit(a){a.number(this)}},{key:"unitless",value:function unitless(){if(this.numeratorUnits&&this.numeratorUnits.length){return !1}if(this.denominatorUnits&&this.denominatorUnits.length){return !1}return !0}},{key:"getUnitStr",value:function getUnitStr(){this.normalizeUnits();var a=this.numeratorUnits.join('*');if(this.denominatorUnits.length){a+='/'+this.denominatorUnits.join('*')}return a}},{key:"_getHash",value:function _getHash(){return this.value}},{key:"stringify",value:function stringify(){this.normalizeUnits();var b=this.value,a;a=Math.round(b*100000)/100000+'';return a+this.getUnitStr()}},{key:"toString",value:function toString(){return this.stringify()}},{key:"toBoolean",value:function toBoolean(){return this.unit?!0:!!this.value}},{key:"copy",value:function copy(){return new Numeric(this.value,this.unit)}},{key:'-.literal',value:function literal(b){if(this.value===0&&this.unitless()){return new a(['-',b.toString()].join(''))}return new a([this.toString(),'-',b.toString()].join(''))}},{key:'-.string',value:function string(b){if(this.value===0&&this.unitless()){return new a(['-',b.toString()].join(''))}return new a([this.toString(),'-',b.toString()].join(''))}},{key:'-.number',value:function number(a){var b=a.value;if(a.unit=='%'&&a.unit!==this.unit){b=this.value*(a.value/100)}return new Numeric(this.value-b,this.unit||a.unit)}},{key:'+.literal',value:function literal(b){if(b.$isFashionString){return new a([this.toString(),b.value].join(''))}return new a([this.toString(),b.toString()].join(''))}},{key:'+.number',value:function number(a){var b=a.value;if(a.unit=='%'&&a.unit!==this.unit){b=this.value*(a.value/100)}return new Numeric(this.value+b,this.unit||a.unit)}},{key:'/',value:function _(a){return new Numeric(this.value/a.value,this.unit==a.unit?null:this.unit||a.unit)}},{key:'*',value:function _(a){return new Numeric(this.value*a.value,this.unit||a.unit)}},{key:'%',value:function _(a){return new Numeric(this.value%a.value,this.unit||a.unit)}},{key:'**',value:function _(a){return new Numeric(Math.pow(this.value,a.value),this.unit||a.unit)}},{key:"operate",value:function operate(e,b){var i=this.unit||b.unit,g;if(b.$isFashionRGBA||b.$isFashionHSLA){return new a(this+e+b)}if(b.$isFashionNumber){return this.numericOperate(e,b)}else if(b.$isFashionLiteral){g=this.tryCoerce(b);if(g){return this.performOperation(e,g)}}return _get(Numeric.prototype.__proto__||Object.getPrototypeOf(Numeric.prototype),"operate",this).call(this,e,b)}},{key:"tryNormalize",value:function tryNormalize(e){var a=e.value,b=e.unit;if(e.$isFashionNumber){switch(this.unit){case 'mm':switch(b){case 'in':return new Numeric(a*25.4,'mm');case 'cm':return new Numeric(a*2.54,'mm');};break;case 'cm':switch(b){case 'in':return new Numeric(a*2.54,'cm');case 'mm':return new Numeric(a/10,'cm');};break;case 'in':switch(b){case 'mm':return new Numeric(a/25.4,'in');case 'cm':return new Numeric(a/2.54,'in');};break;case 'ms':switch(b){case 's':return new Numeric(a*1000,'ms');};break;case 's':switch(b){case 'ms':return new Numeric(a/1000,'s');};break;case 'Hz':switch(b){case 'kHz':return new Numeric(a*1000,'Hz');};break;case 'kHz':switch(b){case 'Hz':return new Numeric(a/1000,'kHz');};break;case '%':switch(b){default:return new Numeric(a);};default:break;}}return undefined}},{key:"normalize",value:function normalize(a){var b=this.tryNormalize(a);if(b===undefined){raise('Could not normalize '+this+' with '+a)}return b}},{key:"comparable",value:function comparable(e){var b=this.unit,a=e.unit;if(!e.$isFashionNumber){return !1}return b===a||b==='mm'&&(a==='in'||a==='cm')||b==='cm'&&(a==='in'||a==='mm')||b==='in'&&(a==='mm'||a==='cm')||b==='ms'&&a==='s'||b==='s'&&a==='ms'||b==='Hz'&&a==='kHz'||b==='kHz'&&a==='Hz'}},{key:"normalizeUnits",value:function normalizeUnits(){if(this.normalized){return}this.normalized=!0;if(!this.unitless()){var a=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits),e;a.num=b.filter(a.num,function(a){return !!a});a.den=b.filter(a.den,function(a){return !!a});this.numeratorUnits=a.num;this.denominatorUnits=a.den}}},{key:"numericOperate",value:function numericOperate(g,l){this.normalizeUnits();l.normalizeUnits();var a=this,b=l,n=Numeric.OPERATIONS,m=Numeric.NON_COERCE_OPERATIONS,k=n[g],i;if(k){try{if(a.unitless()){a=a.coerceUnits(b.numeratorUnits,b.denominatorUnits)}else {b=b.coerceUnits(a.numeratorUnits,a.denominatorUnits)}}catch(o){if(g=='=='){return e.False}if(g=='!='){return e.True}throw o}}else {k=m[g]}if(k){i=k(a.value,b.value)}if(typeof i==='number'){var j=this.computeUnits(a,b,g);return new Numeric(i,j.num.length?j.num[0]:null,j.num,j.den)}return new e(i)}},{key:"computeUnits",value:function computeUnits(a,b,e){switch(e){case '*':return {num:a.numeratorUnits.slice().concat(b.numeratorUnits),den:a.denominatorUnits.slice().concat(b.denominatorUnits)};case '/':return {num:a.numeratorUnits.slice().concat(b.denominatorUnits),den:a.denominatorUnits.slice().concat(b.numeratorUnits)};default:return {num:a.numeratorUnits,den:a.denominatorUnits};}}},{key:"coerceUnits",value:function coerceUnits(a,e){var b=this.value;if(!this.unitless()){b=b*this.coercionFactor(this.numeratorUnits,a)/this.coercionFactor(this.denominatorUnits,e)}return new Numeric(b,a&&a[0],a,e)}},{key:"coercionFactor",value:function coercionFactor(o,l){var k=this.removeCommonUnits(o,l),a=k.num,e=k.den;if(a.length!==e.length||!this.convertable(a||e)){b.raise('Incompatible units: '+a.join('*')+' and '+e.join('*'))}for(var g=0;g<a.length;g++){var m=a[g];for(var i=0;i<e.length;i++){var n=e[i],j=this.conversionFactor(m,n);if(j!==null){return j}}}return 1}},{key:"conversionFactor",value:function conversionFactor(b,g){var a=Numeric.CONVERTABLE_UNITS,i=Numeric.CONVERSION_TABLE,e=null;if(a[b]){if(a[g]){e=i[a[b]][a[g]]}}if(e===null&&a[g]){if(a[b]){e=1/i[a[g]][a[b]]}}return e}},{key:"convertable",value:function convertable(a){if(a&&!Array.isArray(a)){a=[a]}if(a&&a.length){var e=Numeric.CONVERTABLE_UNITS;for(var b=0;b<a.length;b++){if(e[a[b]]===undefined){return !1}}}return !0}},{key:"removeCommonUnits",value:function removeCommonUnits(i,g){var e={},k=[],j=[],a,b,b;for(a=0;a<i.length;a++){b=i[a];e[b]=(e[b]||0)+1}for(a=0;a<g.length;a++){b=g[a];e[b]=(e[b]||0)-1}for(a=0;a<i.length;a++){b=i[a];if(e[b]>0){k.push(b);e[b]--}}for(a=0;a<g.length;a++){b=g[a];if(e[b]<0){j.push(b);e[b]++}}return {num:k,den:j}}}],[{key:"tryGetNumber",value:function tryGetNumber(a){if(/^\d*$/.test(a)){a=parseFloat(a)}if(!isNaN(a)){return new Numeric(a)}return undefined}},{key:"tryCoerce",value:function tryCoerce(a){if(a.$isFashionNumber){return a}if(a.$isFashionLiteral){return this.tryGetNumber(a.value)}return undefined}}]);return Numeric}(g);b.apply(d,{OPERATIONS:{'!=':function _(a,b){return a!=b},'+':function _(a,b){return a+b},'-':function _(a,b){return a-b},'<=':function _(a,b){return a<=b},'<':function _(a,b){return a<b},'>':function _(a,b){return a>b},'>=':function _(a,b){return a>=b},'==':function _(a,b){return a==b},'%':function _(a,b){return Math.abs(a%b)}},NON_COERCE_OPERATIONS:{'*':function _(a,b){return a*b},'**':function _(a,b){return Math.pow(a,b)},'/':function _(a,b){return a/b}},CONVERTABLE_UNITS:{'in':0,'cm':1,'pc':2,'mm':3,'pt':4,'px':5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]});b.apply(d.prototype,{type:'number',$isFashionNumber:!0,value:undefined,unit:undefined,numeratorUnits:undefined,denominatorUnits:undefined,normalized:!1});f.exports=d},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(b,d,f){"use strict";var c=b('../Base.js');var e=b('./Type.js');var a=function(a){_inherits(ParentheticalExpression,a);function ParentheticalExpression(e){_classCallCheck(this,ParentheticalExpression);var c=_possibleConstructorReturn(this,(ParentheticalExpression.__proto__||Object.getPrototypeOf(ParentheticalExpression)).call(this));c.value=e;return c}_createClass(ParentheticalExpression,[{key:"toString",value:function toString(){return '('+(this.value&&this.value.toString())+')'}},{key:"doVisit",value:function doVisit(c){c.parenthetical(this)}}]);return ParentheticalExpression}(e);c.apply(a.prototype,{value:null,type:'parenthetical'});d.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(b,d,f){"use strict";var c=b('../Base.js');var e=b('./Type.js');var a=function(a){_inherits(RadialGradient,a);function RadialGradient(e,g,h){_classCallCheck(this,RadialGradient);var c=_possibleConstructorReturn(this,(RadialGradient.__proto__||Object.getPrototypeOf(RadialGradient)).call(this));c.position=e;c.stops=h;c.shape=g;return c}_createClass(RadialGradient,[{key:"doVisit",value:function doVisit(c){c.radialgradient(this)}},{key:"descend",value:function descend(c){c.visit(this.position);c.visit(this.stops);c.visit(this.shape)}},{key:"copy",value:function copy(){return new RadialGradient(this.position,this.shape,this.stops)}},{key:"toString",value:function toString(){var c='radial-gradient(';if(this.position){c+=this.position+', '}if(this.shape){c+=this.shape+', '}return c+this.stops+')'}},{key:"toOriginalWebkitString",value:function toOriginalWebkitString(){var c=[],g=this.stops.items,h=g.length,e;c.push('center 0%');c.push('center 100%');for(e=0;e<h;e++){c.push(g[e].toOriginalWebkitString())}return '-webkit-gradient(radial, '+c.join(', ')+')'}},{key:"supports",value:function supports(c){return ['owg','webkit'].indexOf(c.toLowerCase())!==-1}},{key:"toPrefixedString",value:function toPrefixedString(c){if(c==='owg'){return this.toOriginalWebkitString()}return c+this.toString()}},{key:"gradientPoints",value:function gradientPoints(c){}}]);return RadialGradient}(e);c.apply(a.prototype,{type:'radialgradient',$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null});d.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(a,f,g){"use strict";var c=a('../Base.js');var d=a('./TypeVisitor.js');var e=a('../Output.js');var b=function(b){_inherits(SourceBuilder,b);function SourceBuilder(d){_classCallCheck(this,SourceBuilder);var c=_possibleConstructorReturn(this,(SourceBuilder.__proto__||Object.getPrototypeOf(SourceBuilder)).call(this,d));c.nullFound=!1;return c}_createClass(SourceBuilder,[{key:"list",value:function list(m){var c=this.output,e=m.items,l=c.output.length,h=m.separator,i=h&&h.length,n=h&&h.indexOf(' ')>-1,k=c.output,j;for(var d=0;d<e.length;d++){if(e[d]&&!e[d].$isFashionNull){this.visit(e[d]);j=c.output.length-l;if(!j&&i&&d>0){c.output=k}k=c.output;if(d<e.length-1){if(i){c.add(h);if(!n){c.space()}}}l=c.output.length}else {this.nullFound=!0}}}},{key:"map",value:function map(k){var e=this.output,h=k.items,j,i;if(this.currDeclaration){c.raise('('+k.toString()+") isn't a valid CSS value.")}for(var d=0;d<h.length-1;d+=2){j=h[d];i=h[d+1];if(j&&i){if(d>0){e.add(',');e.space()}this.visit(j);e.add(': ');this.visit(i)}}}},{key:"literal",value:function literal(c){c.value&&this.output.add(c.value)}},{key:"string",value:function string(d){var c=this.output;c.add(d.quoteChar);c.add(d.value);c.add(d.quoteChar)}},{key:"functioncall",value:function functioncall(d){var c=this.output;c.add(d.name);c.add('(');this.visit(d.args);c.add(')')}},{key:"parenthetical",value:function parenthetical(c){this.output.add('(');this.visit(c.value);this.output.add(')')}},{key:"number",value:function number(d){var c=d.stringify();if(c.indexOf('.')==='.'&&!this.output.isCompressed){c="0"+c}this.output.add(c)}},{key:"bool",value:function bool(c){this.output.add(c.value?'true':'false')}},{key:"hsla",value:function hsla(c){this.output.add(c.toString())}},{key:"rgba",value:function rgba(c){this.output.add(c.toString())}},{key:"colorstop",value:function colorstop(d){var e=this.output,c=d.stop;this.visit(d.color);if(c){c=c.clone();e.add(' ');if(!c.unit){c.value*=100;c.unit='%'}this.visit(c)}}},{key:"lineargradient",value:function lineargradient(d){var c=this.output;c.add("linear-gradient(");if(d.position){this.visit(d.position);c.add(',');c.space()}this.visit(d.stops);c.add(')')}},{key:"radialgradient",value:function radialgradient(d){var c=this.output;c.add("radial-gradient(");if(d.position){this.visit(d.position);c.add(',');c.space()}if(d.shape){this.visit(d.shape);c.add(',');c.space()}this.visit(d.stops);c.add(')')}},{key:"toSource",value:function toSource(d,c){this.output=c||new e();this.visit(d);return this.output.get()}}],[{key:"toSource",value:function toSource(d,c){var e=new SourceBuilder();return e.toSource(d,c)}}]);return SourceBuilder}(d);c.apply(b.prototype,{output:null});f.exports=b},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(a,b,l){"use strict";var d=a('../Base.js');var k=a('./Type.js');var i=a('./Text.js');var f=a('./Numeric.js');var c=a('./Bool.js'),j=c.True,g=c.False;var e=a('./Literal.js'),h=e.Null;b.exports={unboxType:function unboxType(d){var c=d;if(c&&c.$isFashionType&&c.$canUnbox){c=c.value;if(d.$isFashionString||d.$isFashionLiteral){if(c==='none'||c==='null'){c=null}}else if(d.$isFashionList){c=d.items}}return c},boxType:function boxType(c){if(c&&c.$isFashionType){return c}if(c==null){return h}if(c===!0){return j}if(c===!1){return g}var d=typeof c==="undefined"?"undefined":_typeof(c);switch(d){case 'string':return new i(c);case 'number':return new f(c);default:break;}return c}};d.apply(k,{box:b.exports.boxType,unbox:b.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(c,e,f){"use strict";var d=c('../Base.js');var b=c('./Literal.js');var a=function(a){_inherits(Text,a);function Text(g,b){_classCallCheck(this,Text);var d=_possibleConstructorReturn(this,(Text.__proto__||Object.getPrototypeOf(Text)).call(this,g));if(b!==undefined){if(Text.preferDoubleQuotes&&b===''){d.quoteChar=''}else {d.quoteChar=b}}return d}_createClass(Text,[{key:"doVisit",value:function doVisit(b){b.string(this)}},{key:"toString",value:function toString(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function unquote(){return new b(this.value)}},{key:"copy",value:function copy(){return new Text(this.value,this.quoteChar)}},{key:"slice",value:function slice(b,d){return new Text(_get(Text.prototype.__proto__||Object.getPrototypeOf(Text.prototype),"slice",this).call(this,b,d).value,this.quoteChar)}},{key:"toUpperCase",value:function toUpperCase(){return new Text(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function toLowerCase(){return new Text(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function insert(d,b){return new Text(_get(Text.prototype.__proto__||Object.getPrototypeOf(Text.prototype),"insert",this).call(this,d,b).value,this.quoteChar)}}],[{key:"tryCoerce",value:function tryCoerce(b){if(b.$isFashionNumber){return undefined}if(b.$isFashionLiteral){return new Text(b.value)}return new Text(b.getHash())}}]);return Text}(b);a.preferDoubleQuotes=!1;d.apply(a.prototype,{type:'string',$isFashionString:!0,value:null,quoteChar:'"','+':function _(b){return new a(this.value+b.getHash())},'+.number':function number(b){return new a(this.value+b.toString())},'/':function _(b){return new a(this.value+'/'+b.getHash())}});e.exports=a},{"../Base.js":3,"./Literal.js":16}],24:[function(c,d,e){"use strict";var a=c('../Base.js');var b=function(){function Type(){_classCallCheck(this,Type)}_createClass(Type,[{key:"coerce",value:function coerce(a){var b=this.tryCoerce(a);return b||a}},{key:"_getHash",value:function _getHash(){if(this.visitTarget){return this.visitTarget.toString()}return this.toString()}},{key:"getHash",value:function getHash(){if(this._hash==null){this._hash=this._getHash()}return this._hash}},{key:"tryCoerce",value:function tryCoerce(a){var b=this;if(b.constructor===a.constructor){return a}if(b.constructor.tryCoerce){return b.constructor.tryCoerce(a)}return undefined}},{key:"supports",value:function supports(a){return !1}},{key:"operate",value:function operate(a,b){return this.performOperation(a,this.coerce(b))}},{key:"performOperation",value:function performOperation(g,f){var h=this[g+"."+f.type]||this[g];if(!h){a.raise("Failed to find method for operation "+g+" on type "+f.type+" with value "+f+".")}var b=h.call(this,f);if(!b||!b.$isFashionType){b=Type.box(b)}return b}},{key:'==',value:function _(a){return this.getHash()===a.getHash()}},{key:'!=',value:function _(a){return this.getHash()!==a.getHash()}},{key:'>=',value:function _(a){return this.getHash()>=a.getHash()}},{key:'<=',value:function _(a){return this.getHash()<=a.getHash()}},{key:'>',value:function _(a){return this.getHash()>a.getHash()}},{key:'<',value:function _(a){return this.getHash()<a.getHash()}},{key:'+',value:function _(a){return this.getHash()+a.getHash()}},{key:"copy",value:function copy(){return this}},{key:"matches",value:function matches(a){if(a&&a==this.toString()){return !0}return !1}},{key:"clone",value:function clone(f,b){if(b&&this.matches(f)){return b.copy()}var a=this.copy();a.ast=this.ast;a.$referenceName=this.$referenceName;a.$referenceBase=this.$referenceBase;a.$previousReference=this.$previousReference;return a}},{key:"unquote",value:function unquote(){return this}},{key:"toPrefixedString",value:function toPrefixedString(a){return this.toString()}},{key:"doVisit",value:function doVisit(a){}},{key:"descend",value:function descend(a){}},{key:"hasTag",value:function hasTag(h,a,f,b){a=a||"fashion";f=f||new RegExp('^\\s*//#\\s*'+a+'\\s*\\+?'+h+"\\s*$");b=b||new RegExp('^\\s*//#\\s*'+a+'\\s*\\-'+h+'\\s*$');var g=this.docs;if(g&&g.length){for(var i=0;i<this.docs.length;i++){var j=g[i];if(f.test(j)){return !0}if(b.test(j)){return !1}}}if(this.parentNode){return this.parentNode.hasTag(h,a,f,b)}return null}},{key:"toDisplayString",value:function toDisplayString(){return '['+this.constructor.name+' : '+this.toString()+']'}}]);return Type}();a.apply(b.prototype,{visitTarget:undefined,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:undefined,$referenceBase:undefined,$previousReference:undefined,value:undefined,unit:undefined,parentNode:undefined,docs:undefined,ast:undefined});d.exports=b},{"../Base.js":3}],25:[function(c,d,e){"use strict";var b=c('../Base.js');var a=function(){function TypeVisitor(a){_classCallCheck(this,TypeVisitor);if(a){b.apply(this,a)}}_createClass(TypeVisitor,[{key:"literal",value:function literal(a){a.descend(this)}},{key:"bool",value:function bool(a){a.descend(this)}},{key:"string",value:function string(a){a.descend(this)}},{key:"number",value:function number(a){a.descend(this)}},{key:"map",value:function map(a){a.descend(this)}},{key:"functioncall",value:function functioncall(a){a.descend(this)}},{key:"parenthetical",value:function parenthetical(a){a.descend(this)}},{key:"list",value:function list(a){a.descend(this)}},{key:"hsla",value:function hsla(a){a.descend(this)}},{key:"rgba",value:function rgba(a){a.descend(this)}},{key:"colorstop",value:function colorstop(a){a.descend(this)}},{key:"lineargradient",value:function lineargradient(a){a.descend(this)}},{key:"radialgradient",value:function radialgradient(a){a.descend(this)}},{key:"visitItem",value:function visitItem(a){a.doVisit(this)}},{key:"visit",value:function visit(a){while(a&&a.visitTarget!==undefined){a=a.visitTarget}if(a){if(Array.isArray(a)){for(var b=0;b<a.length;b++){this.visit(a[b])}}else {this.visitItem(a)}}}},{key:"execute",value:function execute(a,b){this.visit(a)}}]);return TypeVisitor}();a.prototype.context=null;d.exports=a},{"../Base.js":3}],26:[function(a,d,f){"use strict";var c=a('./Bool.js');var b=a('./Literal.js');var e={Bool:c,Literal:b,Text:a('./Text.js'),Numeric:a('./Numeric.js'),Color:a('./Color.js'),ColorRGBA:a('./ColorRGBA.js'),ColorHSLA:a('./ColorHSLA.js'),ColorStop:a('./ColorStop.js'),LinearGradient:a('./LinearGradient.js'),RadialGradient:a('./RadialGradient.js'),List:a('./List.js'),Map:a('./Map.js'),ParentheticalExpression:a('./ParentheticalExpression.js'),FunctionCall:a('./FunctionCall.js'),Null:b.Null,None:b.None,True:c.True,False:c.False};d.exports=e},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});(function(f){var c=undefined,g=f.Types,e={_:"$color",$:"$color_name",A:"$colorLookup",a:"$color_variant"},B=f.css.buildNames(e),Y=f.css.buildJsNames(e);var D=g.Bool,$=D,k=g.Literal,W=k,H=g.Text,a=H,j=g.Numeric,d=j,i=g.Color,Z=i,l=g.ColorRGBA,b=l,x=g.ColorHSLA,U=x,y=g.ColorStop,V=y,r=g.LinearGradient,O=r,s=g.RadialGradient,P=s,E=g.List,_=E,J=g.Map,h=J,n=g.ParentheticalExpression,K=n,t=g.FunctionCall,Q=t,G=g.Null,m=G,F=g.None,aa=F,I=g.True,ab=I,C=g.False,A=C,z=g.Ruleset,X=z,w=g.Declaration,T=w,v=g.SelectorPart,S=v,p=g.CompoundSelector,M=p,o=g.MultiPartSelector,L=o,u=g.SelectorList,R=u,q=g.SelectorProperty,N=q;f.css.register(function(c){c.register({rgba:function(a,d,e,b,h){var g;if(!!a&&!!h){f.raise("Unsupported arguments to RGBA")}if(h&&!a){if(h.$isFashionColor){g=h}else {f.raise("Unsupported arguments to RGBA")}}else if(a&&a.$isFashionColor){g=a}if(g){b=d||b;g=g.getRGBA();a=new j(g.r);d=new j(g.g);e=new j(g.b)}if(!a||!a.$isFashionNumber){if(a==null||a.$isFashionNull){return k.Null}f.raise(a+' is not a number for \'rgba\' red')}if(!d||!d.$isFashionNumber){if(d==null||d.$isFashionNull){return k.Null}f.raise(d+' is not a number for \'rgba\' green')}if(!e||!e.$isFashionNumber){if(e==null||e.$isFashionNull){return k.Null}f.raise(e+' is not a number for \'rgba\' blue')}if(!b||!b.$isFashionNumber){if(b==null||b.$isFashionNull){return k.Null}f.raise(b+' is not a number for \'rgba\' alpha')}if(a.unit=='%'){a=new j(i.constrainPercentage(a.value)/100*255)}else if(a.value!==i.constrainChannel(a.value)){f.raise('Color value '+a+' must be between 0 and 255 inclusive for \'rgba\'')}if(d.unit=='%'){d=new j(i.constrainPercentage(d.value)/100*255)}else if(d.value!==i.constrainChannel(d.value)){f.raise('Color value '+d+' must be between 0 and 255 inclusive for \'rgba\'')}if(e.unit=='%'){e=new j(i.constrainPercentage(e.value)/100*255)}else if(e.value!==i.constrainChannel(e.value)){f.raise('Color value '+e+' must be between 0 and 255 inclusive for \'rgba\'')}if(b.unit=='%'){b=new j(i.constrainPercentage(b.value)/100)}else if(b.value!==i.constrainAlpha(b.value)){f.raise('Alpha channel '+b+' must be between 0 and 1 inclusive for \'rgba\'')}return new l(a.value,d.value,e.value,b.value)},rgb:function(e,b,d,a){return this.rgba(e,b,d,new j(1),a)},map_get:function(b,a){return b.get(a)},lighten:function(b,a){if(b==null||b.$isFashionNull){return k.Null}if(b.type!=='hsla'&&b.type!=='rgba'){f.raise(b+' is not a color for \'lighten\'')}if(a.type!=='number'){f.raise(a+' is not a number for \'lighten\'')}if(a.value!==i.constrainPercentage(a.value)){f.raise('Amount '+a+' must be between 0% and 100% for \'lighten\'')}return i.adjust(b,'lightness',a)},darken:function(b,a){if(b==null||b.$isFashionNull){return k.Null}if(b.type!=='hsla'&&b.type!=='rgba'){f.raise(b+' is not a color for \'darken\'')}if(a.type!=='number'){f.raise(a+' is not a number for \'darken\'')}if(a.value!==i.constrainPercentage(a.value)){f.raise('Amount '+a+' must be between 0% and 100% for \'darken\'')}a=a.clone();a.value*=-1;return i.adjust(b,'lightness',a)},mix:function(b,d,a){if(b==null||b.$isFashionNull){return k.Null}if(d==null||d.$isFashionNull){return k.Null}a=(a!==undefined)?a:new j(50,'%');if(b.type!=='hsla'&&b.type!=='rgba'){f.raise('arg 1 '+b+' is not a color for \'mix\'')}if(d.type!=='hsla'&&d.type!=='rgba'){f.raise('arg 2 '+d+' is not a color for \'mix\'')}if(a.type!=='number'){f.raise('arg 3 '+a+' is not a number for \'mix\'')}if(a.value!==i.constrainPercentage(a.value)){f.raise('Weight '+a+' must be between 0% and 100% for \'mix\'')}b=b.getRGBA();d=d.getRGBA();a=a.value/100;var g=(a*2)-1,m=b.a-d.a,e=(((g*m==-1)?g:(g+m)/(1+g*m))+1)/2,h=1-e;return new l((e*b.r)+(h*d.r),(e*b.g)+(h*d.g),(e*b.b)+(h*d.b),(a*b.a)+((1-a)*d.a))}});var s=c.constructor.bind(c),aO=c.bool.bind(c),aJ=c.color.bind(c),aM=c.quote.bind(c),aF=c.unquote.bind(c),aU=c.not.bind(c),aE=c.operate.bind(c),aN=c.reset.bind(c),aV=c.run.bind(c),O=c.createTypesBlock.bind(c),G=c.createMethodBlock.bind(c),C=c.createPropertyBlock.bind(c),v=c.createPrefixedFunctionBody.bind(c),Q=c.createWrappedFn.bind(c),$=c.callWrappedFn.bind(c),aA=c.compile.bind(c),aC=c.execute.bind(c),aQ=c.load.bind(c),I=c.registerProcessor.bind(c),ax=c.register.bind(c),ae=c.isRegistered.bind(c),V=c.getGlobalScope.bind(c),S=c.getCurrentScope.bind(c),y=c.getRegisteredFunctions.bind(c),ad=c.getFunctions.bind(c),ao=c.getMixins.bind(c),t=c.createScope.bind(c),ar=c.pushScope.bind(c),o=c.popScope.bind(c),A=c.createCallStackScope.bind(c),D=c.pushCallStackScope.bind(c),H=c.popCallStackScope.bind(c),ac=c.getCallStack.bind(c),X=c.pushSourceInfo.bind(c),_=c.getSourceInfo.bind(c),d=c.get.bind(c),U=c.getScopeForName.bind(c),aj=c.getDefault.bind(c),P=c.getGlobalDefault.bind(c),T=c.getLocalDefault.bind(c),at=c.setGlobal.bind(c),al=c.setDynamic.bind(c),au=c.setScoped.bind(c),h=c.set.bind(c),aD=c.getDocs.bind(c),ap=c.getString.bind(c),ai=c.getAstNode.bind(c),ag=c.applySpread.bind(c),av=c.sliceArgs.bind(c),p=c.applySpreadArgs.bind(c),q=c.warn.bind(c),aL=c.error.bind(c),aK=c.debug.bind(c),as=c.setCaches.bind(c),N=c.copyRuntimeState.bind(c),aR=c.test.bind(c),aS=c.and.bind(c),aX=c.or.bind(c),r=c.box.bind(c),g=c.unbox.bind(c),aI=c.Scope.bind(c),s=c.constructor.bind(c),J=c.__defineGetter__.bind(c),K=c.__defineSetter__.bind(c),W=c.hasOwnProperty.bind(c),L=c.__lookupGetter__.bind(c),M=c.__lookupSetter__.bind(c),B=c.propertyIsEnumerable.bind(c),s=c.constructor.bind(c),az=c.toString.bind(c),Y=c.toLocaleString.bind(c),aG=c.valueOf.bind(c),aa=c.isPrototypeOf.bind(c);var aB=c.context,aH=c.mixins,n=c.functions,ak=c.processors,u=c.registered,R=c.deferredContent,z=c.registerSelectorHooks,E=c.registerAtRuleHook,F=c.registerStyleHooks,w=c.registerFunctionCallHooks,aw=c.docCache,ah=c.stringCache,aq=c.nodeCache,aP=c.code,aW=c.fn,Z=c._currentScope,x=c._currentCallStackScope,ab=c._globalScope,am=c._dynamics,aT=c.css,ay=c.rulesets,an=c.extenders,af=c._scopeStack;f.apply(c.functions,{material_color:function(j,i){t(n.material_color&&n.material_color.createdScope);var j=j||m;h(e.$,j,!0);var i=i||new a("500","'");h(e.a,i,!0);h(e.A,r(u.map_get.apply(c.registered,p([d("$material_colors"),d(e.$)]))));if(g(d(e.A))){h(e._,r(c.registered.map_get.apply(c.registered,p([d(e.A),d(e.a)]))));if(g(d(e._))){var k=d(e._);o();return k}else {q(g(c.operate("+",c.operate("+",c.operate("+",c.operate("+",new a("=> ERROR: COLOR NOT FOUND! <= | ","\""),d(e.$)),new a(",","\"")),d(e.a)),new a(" combination did not match any of the material design colors.","\""))))}}else {q(g(c.operate("+",c.operate("+",new a("=> ERROR: COLOR NOT FOUND! <= | ","\""),d(e.$)),new a(" did not match any of the material design colors.","\""))))}var k=b.fromHex("#ff0000");o();return k},material_foreground_color:function(i){t(n.material_foreground_color&&n.material_foreground_color.createdScope);var i=i||m;h(e.$,i,!0);h(e._,r(c.registered.map_get.apply(c.registered,p([d("$material_foreground_colors"),d(e.$)]))));if(g(d(e._))){var j=d(e._);o();return j}else {q(g(c.operate("+",c.operate("+",new a("=> ERROR: COLOR NOT FOUND! <= | ","\""),d(e.$)),new a(" did not match any of the material design colors.","\""))))}var j=b.fromHex("#ff0000");o();return j}})},function(g){var o=g.constructor.bind(g),aM=g.bool.bind(g),aG=g.color.bind(g),aJ=g.quote.bind(g),aC=g.unquote.bind(g),aS=g.not.bind(g),aB=g.operate.bind(g),aK=g.reset.bind(g),aT=g.run.bind(g),L=g.createTypesBlock.bind(g),D=g.createMethodBlock.bind(g),y=g.createPropertyBlock.bind(g),r=g.createPrefixedFunctionBody.bind(g),M=g.createWrappedFn.bind(g),W=g.callWrappedFn.bind(g),ax=g.compile.bind(g),az=g.execute.bind(g),aO=g.load.bind(g),F=g.registerProcessor.bind(g),au=g.register.bind(g),aa=g.isRegistered.bind(g),R=g.getGlobalScope.bind(g),O=g.getCurrentScope.bind(g),u=g.getRegisteredFunctions.bind(g),_=g.getFunctions.bind(g),ak=g.getMixins.bind(g),ad=g.createScope.bind(g),an=g.pushScope.bind(g),at=g.popScope.bind(g),w=g.createCallStackScope.bind(g),z=g.pushCallStackScope.bind(g),E=g.popCallStackScope.bind(g),$=g.getCallStack.bind(g),T=g.pushSourceInfo.bind(g),X=g.getSourceInfo.bind(g),k=g.get.bind(g),Q=g.getScopeForName.bind(g),ag=g.getDefault.bind(g),i=g.getGlobalDefault.bind(g),P=g.getLocalDefault.bind(g),ap=g.setGlobal.bind(g),j=g.setDynamic.bind(g),aq=g.setScoped.bind(g),aU=g.set.bind(g),aA=g.getDocs.bind(g),al=g.getString.bind(g),af=g.getAstNode.bind(g),ac=g.applySpread.bind(g),ar=g.sliceArgs.bind(g),l=g.applySpreadArgs.bind(g),aP=g.warn.bind(g),aI=g.error.bind(g),aH=g.debug.bind(g),ao=g.setCaches.bind(g),K=g.copyRuntimeState.bind(g),n=g.test.bind(g),aQ=g.and.bind(g),aW=g.or.bind(g),m=g.box.bind(g),aL=g.unbox.bind(g),aF=g.Scope.bind(g),o=g.constructor.bind(g),G=g.__defineGetter__.bind(g),H=g.__defineSetter__.bind(g),S=g.hasOwnProperty.bind(g),I=g.__lookupGetter__.bind(g),J=g.__lookupSetter__.bind(g),x=g.propertyIsEnumerable.bind(g),o=g.constructor.bind(g),aw=g.toString.bind(g),U=g.toLocaleString.bind(g),aD=g.valueOf.bind(g),Y=g.isPrototypeOf.bind(g);var ay=g.context,aE=g.mixins,q=g.functions,ah=g.processors,p=g.registered,N=g.deferredContent,v=g.registerSelectorHooks,B=g.registerAtRuleHook,C=g.registerStyleHooks,s=g.registerFunctionCallHooks,as=g.docCache,ae=g.stringCache,am=g.nodeCache,aN=g.code,aV=g.fn,V=g._currentScope,t=g._currentCallStackScope,Z=g._globalScope,ai=g._dynamics,aR=g.css,av=g.rulesets,aj=g.extenders,ab=g._scopeStack;j("$dark-mode",i("$dark_mode")||A,0);j("$lazyload-grad-color1",i("$lazyload_grad_color1")||(n(k("$dark_mode"))?m(p.rgba.apply(g.registered,l([b.fromHex("#ffffff"),new d(0),c,c,c]))):m(g.registered.rgba.apply(g.registered,l([b.fromHex("#000000"),new d(0),c,c,c])))),1);j("$lazyload-grad-color2",i("$lazyload_grad_color2")||(n(k("$dark_mode"))?m(g.registered.rgba.apply(g.registered,l([b.fromHex("#ffffff"),new d(0.14),c,c,c]))):m(g.registered.rgba.apply(g.registered,l([b.fromHex("#000000"),new d(0.14),c,c,c])))),2);j("$signal-color",i("$signal_color")||(n(k("$dark_mode"))?b.fromHex("#d4f400"):b.fromHex("#ff4500")),3);j("$signal-color-alt",i("$signal_color_alt")||(n(k("$dark_mode"))?b.fromHex("#ff4398"):b.fromHex("#ff4398")),4);j("$warning-background-color",i("$warning_background_color")||m(g.registered.rgb.apply(g.registered,l([new d(255),new d(178),new d(66),c]))),5);j("$warning-color",i("$warning_color")||m(g.registered.rgb.apply(g.registered,l([new d(255),new d(255),new d(255),c]))),6);j("$info-background-color",i("$info_background_color")||b.fromHex("#b91cff"),7);j("$info-color",i("$info_color")||b.fromHex("#ffffff"),8);j("$success-background-color",i("$success_background_color")||b.fromHex("#a2ff00"),9);j("$success-color",i("$success_color")||b.fromHex("#000000"),10);j("$base_color_name",i("$base_color_name")||new a("blue","'"),11);j("$material-colors",i("$material_colors")||new h([new a("red","'"),new h([new a("50","'"),b.fromHex("#ffebee"),new a("100","'"),b.fromHex("#ffcdd2"),new a("200","'"),b.fromHex("#ef9a9a"),new a("300","'"),b.fromHex("#e57373"),new a("400","'"),b.fromHex("#ef5350"),new a("500","'"),b.fromHex("#f44336"),new a("600","'"),b.fromHex("#e53935"),new a("700","'"),b.fromHex("#d32f2f"),new a("800","'"),b.fromHex("#c62828"),new a("900","'"),b.fromHex("#b71c1c"),new a("a100","'"),b.fromHex("#ff8a80"),new a("a200","'"),b.fromHex("#ff5252"),new a("a400","'"),b.fromHex("#ff1744"),new a("a700","'"),b.fromHex("#d50000")]),new a("pink","'"),new h([new a("50","'"),b.fromHex("#fce4ec"),new a("100","'"),b.fromHex("#f8bbd0"),new a("200","'"),b.fromHex("#f48fb1"),new a("300","'"),b.fromHex("#f06292"),new a("400","'"),b.fromHex("#ec407a"),new a("500","'"),b.fromHex("#e91e63"),new a("600","'"),b.fromHex("#d81b60"),new a("700","'"),b.fromHex("#c2185b"),new a("800","'"),b.fromHex("#ad1457"),new a("900","'"),b.fromHex("#880e4f"),new a("a100","'"),b.fromHex("#ff80ab"),new a("a200","'"),b.fromHex("#ff4081"),new a("a400","'"),b.fromHex("#f50057"),new a("a700","'"),b.fromHex("#c51162")]),new a("purple","'"),new h([new a("50","'"),b.fromHex("#f3e5f5"),new a("100","'"),b.fromHex("#e1bee7"),new a("200","'"),b.fromHex("#ce93d8"),new a("300","'"),b.fromHex("#ba68c8"),new a("400","'"),b.fromHex("#ab47bc"),new a("500","'"),b.fromHex("#9c27b0"),new a("600","'"),b.fromHex("#8e24aa"),new a("700","'"),b.fromHex("#7b1fa2"),new a("800","'"),b.fromHex("#6a1b9a"),new a("900","'"),b.fromHex("#4a148c"),new a("a100","'"),b.fromHex("#ea80fc"),new a("a200","'"),b.fromHex("#e040fb"),new a("a400","'"),b.fromHex("#d500f9"),new a("a700","'"),b.fromHex("#aa00ff")]),new a("deep-purple","'"),new h([new a("50","'"),b.fromHex("#ede7f6"),new a("100","'"),b.fromHex("#d1c4e9"),new a("200","'"),b.fromHex("#b39ddb"),new a("300","'"),b.fromHex("#9575cd"),new a("400","'"),b.fromHex("#7e57c2"),new a("500","'"),b.fromHex("#673ab7"),new a("600","'"),b.fromHex("#5e35b1"),new a("700","'"),b.fromHex("#512da8"),new a("800","'"),b.fromHex("#4527a0"),new a("900","'"),b.fromHex("#311b92"),new a("a100","'"),b.fromHex("#b388ff"),new a("a200","'"),b.fromHex("#7c4dff"),new a("a400","'"),b.fromHex("#651fff"),new a("a700","'"),b.fromHex("#6200ea")]),new a("indigo","'"),new h([new a("50","'"),b.fromHex("#e8eaf6"),new a("100","'"),b.fromHex("#c5cae9"),new a("200","'"),b.fromHex("#9fa8da"),new a("300","'"),b.fromHex("#7986cb"),new a("400","'"),b.fromHex("#5c6bc0"),new a("500","'"),b.fromHex("#3f51b5"),new a("600","'"),b.fromHex("#3949ab"),new a("700","'"),b.fromHex("#303f9f"),new a("800","'"),b.fromHex("#283593"),new a("900","'"),b.fromHex("#1a237e"),new a("a100","'"),b.fromHex("#8c9eff"),new a("a200","'"),b.fromHex("#536dfe"),new a("a400","'"),b.fromHex("#3d5afe"),new a("a700","'"),b.fromHex("#304ffe")]),new a("blue","'"),new h([new a("50","'"),b.fromHex("#e3f2fd"),new a("100","'"),b.fromHex("#bbdefb"),new a("200","'"),b.fromHex("#90caf9"),new a("300","'"),b.fromHex("#64b5f6"),new a("400","'"),b.fromHex("#42a5f5"),new a("500","'"),b.fromHex("#2196f3"),new a("600","'"),b.fromHex("#1e88e5"),new a("700","'"),b.fromHex("#1976d2"),new a("800","'"),b.fromHex("#1565c0"),new a("900","'"),b.fromHex("#0d47a1"),new a("a100","'"),b.fromHex("#82b1ff"),new a("a200","'"),b.fromHex("#448aff"),new a("a400","'"),b.fromHex("#2979ff"),new a("a700","'"),b.fromHex("#2962ff")]),new a("light-blue","'"),new h([new a("50","'"),b.fromHex("#e1f5fe"),new a("100","'"),b.fromHex("#b3e5fc"),new a("200","'"),b.fromHex("#81d4fa"),new a("300","'"),b.fromHex("#4fc3f7"),new a("400","'"),b.fromHex("#29b6f6"),new a("500","'"),b.fromHex("#03a9f4"),new a("600","'"),b.fromHex("#039be5"),new a("700","'"),b.fromHex("#0288d1"),new a("800","'"),b.fromHex("#0277bd"),new a("900","'"),b.fromHex("#01579b"),new a("a100","'"),b.fromHex("#80d8ff"),new a("a200","'"),b.fromHex("#40c4ff"),new a("a400","'"),b.fromHex("#00b0ff"),new a("a700","'"),b.fromHex("#0091ea")]),new a("cyan","'"),new h([new a("50","'"),b.fromHex("#e0f7fa"),new a("100","'"),b.fromHex("#b2ebf2"),new a("200","'"),b.fromHex("#80deea"),new a("300","'"),b.fromHex("#4dd0e1"),new a("400","'"),b.fromHex("#26c6da"),new a("500","'"),b.fromHex("#00bcd4"),new a("600","'"),b.fromHex("#00acc1"),new a("700","'"),b.fromHex("#0097a7"),new a("800","'"),b.fromHex("#00838f"),new a("900","'"),b.fromHex("#006064"),new a("a100","'"),b.fromHex("#84ffff"),new a("a200","'"),b.fromHex("#18ffff"),new a("a400","'"),b.fromHex("#00e5ff"),new a("a700","'"),b.fromHex("#00b8d4")]),new a("teal","'"),new h([new a("50","'"),b.fromHex("#e0f2f1"),new a("100","'"),b.fromHex("#b2dfdb"),new a("200","'"),b.fromHex("#80cbc4"),new a("300","'"),b.fromHex("#4db6ac"),new a("400","'"),b.fromHex("#26a69a"),new a("500","'"),b.fromHex("#009688"),new a("600","'"),b.fromHex("#00897b"),new a("700","'"),b.fromHex("#00796b"),new a("800","'"),b.fromHex("#00695c"),new a("900","'"),b.fromHex("#004d40"),new a("a100","'"),b.fromHex("#a7ffeb"),new a("a200","'"),b.fromHex("#64ffda"),new a("a400","'"),b.fromHex("#1de9b6"),new a("a700","'"),b.fromHex("#00bfa5")]),new a("green","'"),new h([new a("50","'"),b.fromHex("#e8f5e9"),new a("100","'"),b.fromHex("#c8e6c9"),new a("200","'"),b.fromHex("#a5d6a7"),new a("300","'"),b.fromHex("#81c784"),new a("400","'"),b.fromHex("#66bb6a"),new a("500","'"),b.fromHex("#4caf50"),new a("600","'"),b.fromHex("#43a047"),new a("700","'"),b.fromHex("#388e3c"),new a("800","'"),b.fromHex("#2e7d32"),new a("900","'"),b.fromHex("#1b5e20"),new a("a100","'"),b.fromHex("#b9f6ca"),new a("a200","'"),b.fromHex("#69f0ae"),new a("a400","'"),b.fromHex("#00e676"),new a("a700","'"),b.fromHex("#00c853")]),new a("light-green","'"),new h([new a("50","'"),b.fromHex("#f1f8e9"),new a("100","'"),b.fromHex("#dcedc8"),new a("200","'"),b.fromHex("#c5e1a5"),new a("300","'"),b.fromHex("#aed581"),new a("400","'"),b.fromHex("#9ccc65"),new a("500","'"),b.fromHex("#8bc34a"),new a("600","'"),b.fromHex("#7cb342"),new a("700","'"),b.fromHex("#689f38"),new a("800","'"),b.fromHex("#558b2f"),new a("900","'"),b.fromHex("#33691e"),new a("a100","'"),b.fromHex("#ccff90"),new a("a200","'"),b.fromHex("#b2ff59"),new a("a400","'"),b.fromHex("#76ff03"),new a("a700","'"),b.fromHex("#64dd17")]),new a("lime","'"),new h([new a("50","'"),b.fromHex("#f9fbe7"),new a("100","'"),b.fromHex("#f0f4c3"),new a("200","'"),b.fromHex("#e6ee9c"),new a("300","'"),b.fromHex("#dce775"),new a("400","'"),b.fromHex("#d4e157"),new a("500","'"),b.fromHex("#cddc39"),new a("600","'"),b.fromHex("#c0ca33"),new a("700","'"),b.fromHex("#afb42b"),new a("800","'"),b.fromHex("#9e9d24"),new a("900","'"),b.fromHex("#827717"),new a("a100","'"),b.fromHex("#f4ff81"),new a("a200","'"),b.fromHex("#eeff41"),new a("a400","'"),b.fromHex("#c6ff00"),new a("a700","'"),b.fromHex("#aeea00")]),new a("yellow","'"),new h([new a("50","'"),b.fromHex("#fffde7"),new a("100","'"),b.fromHex("#fff9c4"),new a("200","'"),b.fromHex("#fff59d"),new a("300","'"),b.fromHex("#fff176"),new a("400","'"),b.fromHex("#ffee58"),new a("500","'"),b.fromHex("#ffeb3b"),new a("600","'"),b.fromHex("#fdd835"),new a("700","'"),b.fromHex("#fbc02d"),new a("800","'"),b.fromHex("#f9a825"),new a("900","'"),b.fromHex("#f57f17"),new a("a100","'"),b.fromHex("#ffff8d"),new a("a200","'"),b.fromHex("#ffff00"),new a("a400","'"),b.fromHex("#ffea00"),new a("a700","'"),b.fromHex("#ffd600")]),new a("amber","'"),new h([new a("50","'"),b.fromHex("#fff8e1"),new a("100","'"),b.fromHex("#ffecb3"),new a("200","'"),b.fromHex("#ffe082"),new a("300","'"),b.fromHex("#ffd54f"),new a("400","'"),b.fromHex("#ffca28"),new a("500","'"),b.fromHex("#ffc107"),new a("600","'"),b.fromHex("#ffb300"),new a("700","'"),b.fromHex("#ffa000"),new a("800","'"),b.fromHex("#ff8f00"),new a("900","'"),b.fromHex("#ff6f00"),new a("a100","'"),b.fromHex("#ffe57f"),new a("a200","'"),b.fromHex("#ffd740"),new a("a400","'"),b.fromHex("#ffc400"),new a("a700","'"),b.fromHex("#ffab00")]),new a("orange","'"),new h([new a("50","'"),b.fromHex("#fff3e0"),new a("100","'"),b.fromHex("#ffe0b2"),new a("200","'"),b.fromHex("#ffcc80"),new a("300","'"),b.fromHex("#ffb74d"),new a("400","'"),b.fromHex("#ffa726"),new a("500","'"),b.fromHex("#ff9800"),new a("600","'"),b.fromHex("#fb8c00"),new a("700","'"),b.fromHex("#f57c00"),new a("800","'"),b.fromHex("#ef6c00"),new a("900","'"),b.fromHex("#e65100"),new a("a100","'"),b.fromHex("#ffd180"),new a("a200","'"),b.fromHex("#ffab40"),new a("a400","'"),b.fromHex("#ff9100"),new a("a700","'"),b.fromHex("#ff6d00")]),new a("deep-orange","'"),new h([new a("50","'"),b.fromHex("#fbe9e7"),new a("100","'"),b.fromHex("#ffccbc"),new a("200","'"),b.fromHex("#ffab91"),new a("300","'"),b.fromHex("#ff8a65"),new a("400","'"),b.fromHex("#ff7043"),new a("500","'"),b.fromHex("#ff5722"),new a("600","'"),b.fromHex("#f4511e"),new a("700","'"),b.fromHex("#e64a19"),new a("800","'"),b.fromHex("#d84315"),new a("900","'"),b.fromHex("#bf360c"),new a("a100","'"),b.fromHex("#ff9e80"),new a("a200","'"),b.fromHex("#ff6e40"),new a("a400","'"),b.fromHex("#ff3d00"),new a("a700","'"),b.fromHex("#dd2c00")]),new a("brown","'"),new h([new a("50","'"),b.fromHex("#efebe9"),new a("100","'"),b.fromHex("#d7ccc8"),new a("200","'"),b.fromHex("#bcaaa4"),new a("300","'"),b.fromHex("#a1887f"),new a("400","'"),b.fromHex("#8d6e63"),new a("500","'"),b.fromHex("#795548"),new a("600","'"),b.fromHex("#6d4c41"),new a("700","'"),b.fromHex("#5d4037"),new a("800","'"),b.fromHex("#4e342e"),new a("900","'"),b.fromHex("#3e2723")]),new a("grey","'"),new h([new a("50","'"),b.fromHex("#fafafa"),new a("100","'"),b.fromHex("#f5f5f5"),new a("200","'"),b.fromHex("#eeeeee"),new a("300","'"),b.fromHex("#e0e0e0"),new a("400","'"),b.fromHex("#bdbdbd"),new a("500","'"),b.fromHex("#9e9e9e"),new a("600","'"),b.fromHex("#757575"),new a("700","'"),b.fromHex("#616161"),new a("800","'"),b.fromHex("#424242"),new a("900","'"),b.fromHex("#212121")]),new a("blue-grey","'"),new h([new a("50","'"),b.fromHex("#eceff1"),new a("100","'"),b.fromHex("#cfd8dc"),new a("200","'"),b.fromHex("#b0bec5"),new a("300","'"),b.fromHex("#90a4ae"),new a("400","'"),b.fromHex("#78909c"),new a("500","'"),b.fromHex("#607d8b"),new a("600","'"),b.fromHex("#546e7a"),new a("700","'"),b.fromHex("#455a64"),new a("800","'"),b.fromHex("#37474f"),new a("900","'"),b.fromHex("#263238"),new a("1000","'"),b.fromHex("#11171a")])]),12);j("$base-color",i("$base_color")||m((q.material_color||material_color__fn).apply(g.functions,l([k("$base_color_name"),new a("500","'")]))),13);j("$base-highlight-color",i("$base_highlight_color")||m((g.functions.material_color||material_color__fn).apply(g.functions,l([k("$base_color_name"),new a("300","'")]))),14);j("$base-light-color",i("$base_light_color")||m((g.functions.material_color||material_color__fn).apply(g.functions,l([k("$base_color_name"),new a("100","'")]))),15);j("$base-dark-color",i("$base_dark_color")||m((g.functions.material_color||material_color__fn).apply(g.functions,l([k("$base_color_name"),new a("700","'")]))),16);j("$base-pressed-color",i("$base_pressed_color")||m(g.registered.darken.apply(g.registered,l([(n(k("$dark_mode"))?m(g.registered.darken.apply(g.registered,l([k("$base_color"),new d(15,"%")]))):m(g.registered.lighten.apply(g.registered,l([k("$base_color"),new d(15,"%")])))),new d(0,"%")]))),17);j("$base-focused-color",i("$base_focused_color")||m((g.functions.material_color||material_color__fn).apply(g.functions,l([k("$base_color_name"),new a("400","'")]))),18);j("$base-invisible-color",i("$base_invisible_color")||m(g.registered.rgba.apply(g.registered,l([k("$base_color"),new d(0),c,c,c]))),19);j("$material-foreground-colors",i("$material_foreground_colors")||new h([new a("red","'"),b.fromHex("#fff"),new a("pink","'"),b.fromHex("#fff"),new a("purple","'"),b.fromHex("#fff"),new a("deep-purple","'"),b.fromHex("#fff"),new a("indigo","'"),b.fromHex("#fff"),new a("blue","'"),b.fromHex("#fff"),new a("light-blue","'"),b.fromHex("#fff"),new a("cyan","'"),b.fromHex("#fff"),new a("teal","'"),b.fromHex("#fff"),new a("green","'"),b.fromHex("#fff"),new a("light-green","'"),b.fromHex("#222"),new a("lime","'"),b.fromHex("#222"),new a("yellow","'"),b.fromHex("#222"),new a("amber","'"),b.fromHex("#222"),new a("orange","'"),b.fromHex("#222"),new a("deep-orange","'"),b.fromHex("#fff"),new a("brown","'"),b.fromHex("#fff"),new a("grey","'"),b.fromHex("#222"),new a("blue-grey","'"),b.fromHex("#fff")]),20);j("$base-foreground-color",i("$base_foreground_color")||m((g.functions.material_foreground_color||material_foreground_color__fn).apply(g.functions,l([k("$base_color_name")]))),21);j("$accent_color_name",i("$accent_color_name")||new a("grey","'"),22);j("$accent-color",i("$accent_color")||m((g.functions.material_color||material_color__fn).apply(g.functions,l([k("$accent_color_name"),new a("500","'")]))),23);j("$accent-light-color",i("$accent_light_color")||m((g.functions.material_color||material_color__fn).apply(g.functions,l([k("$accent_color_name"),new a("100","'")]))),24);j("$accent-dark-color",i("$accent_dark_color")||m((g.functions.material_color||material_color__fn).apply(g.functions,l([k("$accent_color_name"),new a("700","'")]))),25);j("$accent-pressed-color",i("$accent_pressed_color")||(n(k("$dark_mode"))?m(g.registered.darken.apply(g.registered,l([k("$accent_color"),new d(15,"%")]))):m(g.registered.lighten.apply(g.registered,l([k("$accent_color"),new d(15,"%")])))),26);j("$accent-invisible-color",i("$accent_invisible_color")||m(g.registered.rgba.apply(g.registered,l([k("$accent_color"),new d(0),c,c,c]))),27);j("$accent-foreground-color",i("$accent_foreground_color")||m((g.functions.material_foreground_color||material_foreground_color__fn).apply(g.functions,l([k("$accent_color_name")]))),28);j("$confirm-color",i("$confirm_color")||m((g.functions.material_color||material_color__fn).apply(g.functions,l([new a("light-green","'"),new a("600","'")]))),29);j("$confirm-pressed-color",i("$confirm_pressed_color")||(n(k("$dark_mode"))?m(g.registered.darken.apply(g.registered,l([k("$confirm_color"),new d(15,"%")]))):m(g.registered.lighten.apply(g.registered,l([k("$confirm_color"),new d(15,"%")])))),30);j("$alert-color",i("$alert_color")||m((g.functions.material_color||material_color__fn).apply(g.functions,l([new a("red","'"),new a("800","'")]))),31);j("$alert-pressed-color",i("$alert_pressed_color")||(n(k("$dark_mode"))?m(g.registered.darken.apply(g.registered,l([k("$alert_color"),new d(15,"%")]))):m(g.registered.lighten.apply(g.registered,l([k("$alert_color"),new d(15,"%")])))),32);j(e._,i(e._)||(n(k("$dark_mode"))?b.fromHex("#ffffff"):b.fromHex("#111111")),33);j("$reverse-color",i("$reverse_color")||(n(k("$dark_mode"))?b.fromHex("#222"):b.fromHex("#fff")),34);j("$highlight-color",i("$highlight_color")||m(g.registered.rgba.apply(g.registered,l([k(e._),new d(0.54),c,c,c]))),35);j("$disabled-color",i("$disabled_color")||m(g.registered.rgba.apply(g.registered,l([k(e._),new d(0.38),c,c,c]))),36);j("$reverse-disabled-color",i("$reverse_disabled_color")||m(g.registered.rgba.apply(g.registered,l([k("$reverse_color"),new d(0.38),c,c,c]))),37);j("$divider-color",i("$divider_color")||m(g.registered.mix.apply(g.registered,l([k(e._),k("$reverse_color"),new d(12,"%")]))),38);j("$selected-background-color",i("$selected_background_color")||(n(k("$dark_mode"))?k("$base_dark_color"):m((g.functions.material_color||material_color__fn).apply(g.functions,l([new a("grey","'"),new a("300","'")])))),39);j("$hovered-background-color",i("$hovered_background_color")||(n(k("$dark_mode"))?b.fromHex("#4d4d4d"):m((g.functions.material_color||material_color__fn).apply(g.functions,l([new a("grey","'"),new a("200","'")])))),40);j("$header-background-color",i("$header_background_color")||(n(k("$dark_mode"))?m((g.functions.material_color||material_color__fn).apply(g.functions,l([new a("grey","'"),new a("800","'")]))):m((g.functions.material_color||material_color__fn).apply(g.functions,l([new a("grey","'"),new a("100","'")])))),41);j("$faded-color",i("$faded_color")||(n(k("$dark_mode"))?b.fromHex("#4d4d4d"):b.fromHex("#e1e1e1")),42);j("$background-color",i("$background_color")||(n(k("$dark_mode"))?b.fromHex("#303030"):b.fromHex("#fafafa")),43);j("$alt-background-color",i("$alt_background_color")||(n(k("$dark_mode"))?b.fromHex("#3a3a3a"):b.fromHex("#f5f5f5")),44);j("$reverse-background-color",i("$reverse_background_color")||(n(k("$dark_mode"))?b.fromHex("#fafafa"):b.fromHex("#303030")),45);j("$reverse-alt-background-color",i("$reverse_alt_background_color")||(n(k("$dark_mode"))?b.fromHex("#f5f5f5"):b.fromHex("#3a3a3a")),46);j("$overlay-color",i("$overlay_color")||(n(k("$dark_mode"))?m(g.registered.rgba.apply(g.registered,l([b.fromHex("#fff"),new d(0.03),c,c,c]))):m(g.registered.rgba.apply(g.registered,l([b.fromHex("#000"),new d(0.03),c,c,c])))),47);j("$content-padding",i("$content_padding")||new d(16,"px"),48)},{":root":["lazyload-grad-color1","lazyload-grad-color2","signal-color","signal-color-alt","warning-background-color","warning-color","info-background-color","info-color","success-background-color","success-color","dark-mode","base-color","base-highlight-color","base-light-color","base-dark-color","base-pressed-color","base-focused-color","base-invisible-color","base-foreground-color","accent-color","accent-light-color","accent-dark-color","accent-pressed-color","accent-invisible-color","accent-foreground-color","confirm-color","confirm-pressed-color","alert-color","alert-pressed-color",B._,"reverse-color","highlight-color","disabled-color","reverse-disabled-color","divider-color","selected-background-color","hovered-background-color","header-background-color","faded-color","background-color","alt-background-color","reverse-background-color","reverse-alt-background-color","overlay-color","content-padding"],"html":["base_color_name","accent_color_name"]})})(Fashion);